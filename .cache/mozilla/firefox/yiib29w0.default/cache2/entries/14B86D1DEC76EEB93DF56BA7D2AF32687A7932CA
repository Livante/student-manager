define('core/permissionmanager', ["jquery","core/config","core/notification","core/templates","core/yui"],function(a,b,c,d,e){var f,g,h,i,j={ADDROLE:"a.allowlink, a.prohibitlink",REMOVEROLE:"a.preventlink, a.unprohibitlink",UNPROHIBIT:"a.unprohibitlink"},k=a.Event("rolesloaded"),l=null,m=function(){var d={contextid:f,getroles:1,sesskey:b.sesskey};a.post(h+"roles/ajax.php",d,null,"json").done(function(b){try{i=b,m=function(){a("body").trigger(k)},m()}catch(d){c.exception(d)}}).fail(function(a,b,d){c.exception(d)})},n=function(b,e,g){var j={contextid:f,roleid:e,sesskey:M.cfg.sesskey,action:g,capability:b.data("name")};a.post(h+"roles/ajax.php",j,null,"json").done(function(f){var g=f;try{var j={rolename:i[e],roleid:e,adminurl:h,imageurl:M.util.image_url("t/delete","moodle")};switch(g){case"allow":j.spanclass="allowed",j.linkclass="preventlink",j.action="prevent",j.icon="t/delete";break;case"prohibit":j.spanclass="forbidden",j.linkclass="unprohibitlink",j.action="unprohibit",j.icon="t/delete";break;case"prevent":return void b.find('a[data-role-id="'+e+'"]').first().closest(".allowed").remove();case"unprohibit":return void b.find('a[data-role-id="'+e+'"]').first().closest(".forbidden").remove();default:return}d.render("core/permissionmanager_role",j).done(function(c){if("allow"==g)a(c).insertBefore(b.find(".allowmore:first"));else if("prohibit"==g){a(c).insertBefore(b.find(".prohibitmore:first"));var d=b.find(".allowedroles").first().find('a[data-role-id="'+e+'"]');d&&d.first().closest(".allowed").remove()}l.hide()}).fail(c.exception)}catch(k){c.exception(k)}}).fail(function(a,b,d){c.exception(d)})},o=function(b){b.preventDefault(),e.use("moodle-core-notification-dialogue",function(){a("body").one("rolesloaded",function(){var e=a(b.currentTarget),f=e.data("action"),h=e.closest("tr.rolecap"),k={cap:h.data("humanname"),context:g},m=M.util.get_string("role"+f+"info","core_role",k);null===l&&(l=new M.core.dialogue({draggable:!0,modal:!0,closeButton:!0,width:"450px"})),l.set("headerContent",M.util.get_string("role"+f+"header","core_role"));var o,p,q=[];switch(f){case"allow":p=h.find(j.REMOVEROLE);break;case"prohibit":p=h.find(j.UNPROHIBIT)}for(o in i){var r="",s=p.filter("[data-role-id='"+o+"']").length;s&&(r="disabled");var t={roleid:o,rolename:i[o],disabled:r};q.push(t)}d.render("core/permissionmanager_panelcontent",{message:m,roles:q}).done(function(b){l.set("bodyContent",b),l.show(),a("div.role_buttons").delegate("input","click",function(b){var c=a(b.currentTarget).data("role-id");n(h,c,f)})}).fail(c.exception)})}),m()},p=function(b){b.preventDefault(),a("body").one("rolesloaded",function(){var d=a(b.currentTarget),e=d.data("action"),f=d.data("role-id"),h=d.closest("tr.rolecap"),j={role:i[f],cap:h.data("humanname"),context:g};c.confirm(M.util.get_string("confirmunassigntitle","core_role"),M.util.get_string("confirmrole"+e,"core_role",j),M.util.get_string("confirmunassignyes","core_role"),M.util.get_string("confirmunassignno","core_role"),function(){n(h,f,e)})}),m()};return{initialize:function(b){f=b.contextid,g=b.contextname,h=b.adminurl;var c=a("body");c.delegate(j.ADDROLE,"click",o),c.delegate(j.REMOVEROLE,"click",p)}}});
define('core/tree', ["jquery"],function(a){var b={ITEM:"[role=treeitem]",GROUP:"[role=treeitem]:has([role=group]), [role=treeitem][aria-owns], [role=treeitem][data-requires-ajax=true]",CLOSED_GROUP:"[role=treeitem]:has([role=group])[aria-expanded=false], [role=treeitem][aria-owns][aria-expanded=false], [role=treeitem][data-requires-ajax=true][aria-expanded=false]",FIRST_ITEM:"[role=treeitem]:first",VISIBLE_ITEM:"[role=treeitem]:visible",UNLOADED_AJAX_ITEM:"[role=treeitem][data-requires-ajax=true][data-loaded=false][aria-expanded=true]"},c=function(c,d){this.treeRoot=a(c),this.treeRoot.data("activeItem",null),this.selectCallback=d,this.keys={tab:9,enter:13,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,asterisk:106},this.initialiseNodes(this.treeRoot),this.setActiveItem(this.treeRoot.find(b.FIRST_ITEM)),this.refreshVisibleItemsCache(),this.bindEventHandlers()};return c.prototype.registerEnterCallback=function(a){this.enterCallback=a},c.prototype.refreshVisibleItemsCache=function(){this.treeRoot.data("visibleItems",this.treeRoot.find(b.VISIBLE_ITEM))},c.prototype.getVisibleItems=function(){return this.treeRoot.data("visibleItems")},c.prototype.setActiveItem=function(a){var b=this.treeRoot.data("activeItem");a!==b&&(b&&(b.attr("tabindex","-1"),b.attr("aria-selected","false")),a.attr("tabindex","0"),a.attr("aria-selected","true"),this.treeRoot.data("activeItem",a),"function"==typeof this.selectCallback&&this.selectCallback(a))},c.prototype.isGroupItem=function(a){return a.is(b.GROUP)},c.prototype.getGroupFromItem=function(a){var b=this.treeRoot.find("#"+a.attr("aria-owns")),c=a.children("[role=group]");return b.length>c.length?b:c},c.prototype.isGroupCollapsed=function(a){return"false"===a.attr("aria-expanded")},c.prototype.isGroupCollapsible=function(a){return"false"!==a.attr("data-collapsible")},c.prototype.initialiseNodes=function(c){this.removeAllFromTabOrder(c),this.setAriaSelectedFalseOnItems(c);var d=this;c.find(b.UNLOADED_AJAX_ITEM).each(function(){var b=a(this);d.collapseGroup(b),d.expandGroup(b)})},c.prototype.removeAllFromTabOrder=function(b){b.find("*").attr("tabindex","-1"),this.getGroupFromItem(a(b)).find("*").attr("tabindex","-1")},c.prototype.setAriaSelectedFalseOnItems=function(a){a.find(b.ITEM).attr("aria-selected","false")},c.prototype.expandAllGroups=function(){var c=this;this.treeRoot.find(b.CLOSED_GROUP).each(function(){var b=a(this);c.expandGroup(a(this)).done(function(){c.expandAllChildGroups(b)})})},c.prototype.expandAllChildGroups=function(c){var d=this;this.getGroupFromItem(c).find(b.CLOSED_GROUP).each(function(){var b=a(this);d.expandGroup(a(this)).done(function(){d.expandAllChildGroups(b)})})},c.prototype.expandGroup=function(b){var c=a.Deferred();if("false"!==b.attr("data-expandable")&&this.isGroupCollapsed(b))if("true"===b.attr("data-requires-ajax")&&"true"!==b.attr("data-loaded")){b.attr("data-loaded",!1);var d=b.closest("[data-ajax-loader]").attr("data-ajax-loader"),e=this;b.addClass("loading"),require([d],function(a){a.load(b).done(function(){b.attr("data-loaded",!0),e.initialiseNodes(b),e.finishExpandingGroup(b),b.removeClass("loading"),c.resolve()})})}else this.finishExpandingGroup(b),c.resolve();else c.resolve();return c},c.prototype.finishExpandingGroup=function(a){var b=this.getGroupFromItem(a);b.attr("aria-hidden","false"),a.attr("aria-expanded","true"),this.refreshVisibleItemsCache()},c.prototype.collapseGroup=function(a){if(this.isGroupCollapsible(a)&&!this.isGroupCollapsed(a)){var b=this.getGroupFromItem(a);b.attr("aria-hidden","true"),a.attr("aria-expanded","false"),this.refreshVisibleItemsCache()}},c.prototype.toggleGroup=function(a){"true"===a.attr("aria-expanded")?this.collapseGroup(a):this.expandGroup(a)},c.prototype.handleKeyDown=function(c,d){var e=this.getVisibleItems().index(c);if(d.altKey||d.ctrlKey||d.metaKey||d.shiftKey&&d.keyCode!=this.keys.tab)return!0;switch(d.keyCode){case this.keys.home:return this.getVisibleItems().first().focus(),d.stopPropagation(),!1;case this.keys.end:return this.getVisibleItems().last().focus(),d.stopPropagation(),!1;case this.keys.enter:var f=c.children("a").length?c.children("a"):c.children().not(b.GROUP).find("a");return f.length?"function"==typeof this.enterCallback?this.enterCallback(c):window.location.href=f.first().attr("href"):this.isGroupItem(c)&&this.toggleGroup(c,!0),d.stopPropagation(),!1;case this.keys.space:return this.isGroupItem(c)&&this.toggleGroup(c,!0),d.stopPropagation(),!1;case this.keys.left:var g=function(b){b.getVisibleItems().filter(function(){return b.getGroupFromItem(a(this)).has(c).length}).focus()};return this.isGroupItem(c)?this.isGroupCollapsed(c)?g(this):this.collapseGroup(c):g(this),d.stopPropagation(),!1;case this.keys.right:return this.isGroupItem(c)&&(this.isGroupCollapsed(c)?this.expandGroup(c):this.getGroupFromItem(c).find(b.ITEM).first().focus()),d.stopPropagation(),!1;case this.keys.up:if(e>0){var h=this.getVisibleItems().eq(e-1);h.focus()}return d.stopPropagation(),!1;case this.keys.down:if(e<this.getVisibleItems().length-1){var i=this.getVisibleItems().eq(e+1);i.focus()}return d.stopPropagation(),!1;case this.keys.asterisk:return this.expandAllGroups(),d.stopPropagation(),!1}return!0},c.prototype.handleClick=function(a,b){return!!(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)||(a.focus(),this.isGroupItem(a)&&this.toggleGroup(a),b.stopPropagation(),!0)},c.prototype.handleFocus=function(a,b){return this.setActiveItem(a),b.stopPropagation(),!0},c.prototype.bindEventHandlers=function(){var c=this;this.treeRoot.on({click:function(b){return c.handleClick(a(this),b)},keydown:function(b){return c.handleKeyDown(a(this),b)},focus:function(b){return c.handleFocus(a(this),b)}},b.ITEM)},c});
define('core/event', ["jquery","core/yui"],function(a,b){return{Events:{FORM_FIELD_VALIDATION:"core_form-field-validation"},getLegacyEvents:function(){var c=a.Deferred();return b.use("event","moodle-core-event",function(){c.resolve(window.M.core.event)}),c.promise()},notifyFilterContentUpdated:function(c){c=a(c),b.use("event","moodle-core-event",function(b){a(document).trigger(M.core.event.FILTER_CONTENT_UPDATED,[c]);var d=new b.NodeList(c.get());b.fire(M.core.event.FILTER_CONTENT_UPDATED,{nodes:d})})},notifyEditorContentRestored:function(){b.use("event","moodle-core-event",function(b){a(document).trigger(M.core.event.EDITOR_CONTENT_RESTORED),b.fire(M.core.event.EDITOR_CONTENT_RESTORED)})}}});
define('core/truncate', ["jquery"],function(a){var b=/(\s*\S+|\s)$/,c=/^(\S*)/,d=/\s/,e=function(a,b){if(null==this)throw TypeError();var c=String(a),d=c.length,e=b?Number(b):0;if(e!=e&&(e=0),e<=-1||e>=d)return"";e=0|e;var f,g=c.charCodeAt(e),h=e+1,i=1;return g>=55296&&g<=56319&&d>h&&(f=c.charCodeAt(h),f>=56320&&f<=57343&&(i=2)),i},f=function(a){for(var b=0,c=0;c<a.length;c+=e(a,c))b++;return b},g=function(a,b){if(!a.length)return 0;var c=0,d=0;do c+=e(a,c),d++;while(c<a.length&&d<b);return c};return a.truncate=function(b,c){return a("<div></div>").append(b).truncate(c).html()},a.fn.truncate=function(e){a.isNumeric(e)&&(e={length:e});var h=a.extend({},a.truncate.defaults,e);return this.each(function(){var e=a(this);h.noBreaks&&e.find("br").replaceWith(" ");var i=h.ellipsis.length,j=e.text(),k=f(j),l=k-h.length+i;if(!(k<h.length)){if(h.stripTags&&e.text(j),h.words&&l>0){var m=j.slice(0,g(j,h.length-i)+1),n=m.replace(b,""),o=f(n),p=!m.match(d);l=h.keepFirstWord&&0===o?k-f(c.exec(j)[0])-i:p&&0===o?k-h.length+i:k-o-1}l>k&&(l=k-h.length),l<0||!l&&!h.truncated||a.each(e.contents().get().reverse(),function(b,c){var d=a(c),e=d.text(),j=f(e);if(j<=l)return h.truncated=!0,l-=j,void d.remove();if(3===c.nodeType){var k=j-l;return k=k>=0?g(e,k):0,a(c.splitText(k)).replaceWith(h.ellipsis),!1}return d.truncate(a.extend(h,{length:j-l+i})),!1})}})},a.truncate.defaults={stripTags:!1,words:!1,keepFirstWord:!1,noBreaks:!1,length:1/0,ellipsis:"â€¦"},{truncate:a.truncate}});
define('core/backoff_timer', function(){var a=function(a,b){this.callback=a,this.backOffFunction=b};return a.prototype.callback=null,a.prototype.backOffFunction=null,a.prototype.time=null,a.prototype.timeout=null,a.prototype.generateNextTime=function(){var a=this.backOffFunction(this.time);return this.time=a,a},a.prototype.reset=function(){return this.time=null,this.stop(),this},a.prototype.stop=function(){return this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null),this},a.prototype.start=function(){if(!this.timeout){var a=this.generateNextTime();this.timeout=window.setTimeout(function(){this.callback(),this.stop(),this.start()}.bind(this),a)}return this},a.prototype.restart=function(){return this.reset().start()},a.getIncrementalCallback=function(a,b,c,d){return function(e){return e?e+b>c?d:e+b:a}},a});
define('core/form-course-selector', ["core/ajax","jquery"],function(a,b){return{processResults:function(a,c){var d=[],e=0,f=String(b(a).data("exclude")).split(",");for(e=0;e<c.courses.length;e++)f.indexOf(String(c.courses[e].id))===-1&&d.push({value:c.courses[e].id,label:c.courses[e].displayname});return d},transport:function(c,d,e,f){var g=b(c),h=g.data("requiredcapabilities");h=""!==h.trim()?h.split(","):[];var i=g.data("limittoenrolled"),j=g.data("includefrontpage"),k=null;"undefined"==typeof d&&(d="");var l={criterianame:"search",criteriavalue:d,page:0,perpage:100,requiredcapabilities:h,limittoenrolled:i},m=[{methodname:"core_course_search_courses",args:l}];j&&m.push({methodname:"core_course_get_courses",args:{options:{ids:[j]}}}),k=a.call(m),b.when.apply(b.when,k).done(function(a,b){if(b&&1==b.length){var c=b.pop(),f=""===d||c.fullname.toUpperCase().indexOf(d.toUpperCase())>-1||c.shortname.toUpperCase().indexOf(d.toUpperCase())>-1;f&&a.courses.splice(0,0,c)}e(a)}).fail(f)}}});
define('core/modal_factory', ["jquery","core/modal_events","core/modal_registry","core/modal","core/modal_save_cancel","core/modal_confirm","core/modal_cancel","core/templates","core/notification","core/custom_interaction_events"],function(a,b,c,d,e,f,g,h,i,j){var k={DEFAULT:"core/modal",SAVE_CANCEL:"core/modal_save_cancel",CONFIRM:"core/modal_save_cancel",CANCEL:"core/modal_cancel"},l={DEFAULT:"DEFAULT",SAVE_CANCEL:"SAVE_CANCEL",CONFIRM:"CONFIRM",CANCEL:"CANCEL"};c.register(l.DEFAULT,d,k.DEFAULT),c.register(l.SAVE_CANCEL,e,k.SAVE_CANCEL),c.register(l.CONFIRM,f,k.CONFIRM),c.register(l.CANCEL,g,k.CANCEL);var m=function(c,d,e){var f=null,g="function"==typeof e.preShowCallback,h=function(b,d){f=a(b.currentTarget),c.then(function(a){return g&&e.preShowCallback(f,a),a.show(),a}),d.originalEvent.preventDefault()};if(Array.isArray(d)){var i=d[1];d=d[0],j.define(d,[j.events.activate]),d.on(j.events.activate,i,h)}else j.define(d,[j.events.activate]),d.on(j.events.activate,h);c.then(function(a){return a.getRoot().on(b.hidden,function(){null!==f&&f.focus()}),a})},n=function(b,c){c=a(c);var d=b.module,e=new d(c);return e},o=function(b,c){var d=b.template,e=h.render(d,c).then(function(c){var d=a(c);return n(b,d)}).fail(i.exception);return e},p=function(a,b){var d=a.type||l.DEFAULT,e=!!a.large,f=null,g={};f=c.get(d),f||i.exception({message:"Unable to find modal of type: "+d}),"undefined"!=typeof a.templateContext&&(g=a.templateContext);var h=o(f,g).then(function(b){return"undefined"!=typeof a.title&&b.setTitle(a.title),"undefined"!=typeof a.body&&b.setBody(a.body),"undefined"!=typeof a.footer&&b.setFooter(a.footer),e&&b.setLarge(),b});return"undefined"!=typeof b&&m(h,b,a),h};return{create:p,types:l}});
define('core/str', ["jquery","core/ajax","core/localstorage"],function(a,b,c){var d=[];return{get_string:function(a,b,c,d){var e=this.get_strings([{key:a,component:b,param:c,lang:d}]);return e.then(function(a){return a[0]})},get_strings:function(e){var f,g=a.Deferred(),h=[],i=0,j=!1;for(i=0;i<e.length;i++)if(f=e[i],"undefined"==typeof f.lang&&(f.lang=a("html").attr("lang").replace(/-/g,"_")),f.cacheKey="core_str/"+f.key+"/"+f.component+"/"+f.lang,"undefined"==typeof M.str[f.component]||"undefined"==typeof M.str[f.component][f.key]){var k=c.get(f.cacheKey);k?("undefined"==typeof M.str[f.component]&&(M.str[f.component]=[]),M.str[f.component][f.key]=k):j=!0}if(j){var l=[],m=[],n=function(a){this.resolve(a)},o=function(a){this.reject(a)};for(i=0;i<e.length;i++)if(f=e[i],"undefined"!=typeof d[f.cacheKey])m.push(d[f.cacheKey]);else{var p=a.Deferred();l.push({methodname:"core_get_string",args:{stringid:f.key,component:f.component,lang:f.lang,stringparams:[]},done:n.bind(p),fail:o.bind(p)}),d[f.cacheKey]=p.promise(),m.push(d[f.cacheKey])}l.length>0&&b.call(l,!0,!1),a.when.apply(null,m).done(function(){var a=0;for(a=0;a<arguments.length;a++)f=e[a],"undefined"==typeof M.str[f.component]&&(M.str[f.component]=[]),M.str[f.component][f.key]=arguments[a],c.set("core_str/"+f.key+"/"+f.component+"/"+f.lang,arguments[a]),h[a]=M.util.get_string(f.key,f.component,f.param).trim();g.resolve(h)}).fail(function(a){g.reject(a)})}else{for(i=0;i<e.length;i++)f=e[i],h[i]=M.util.get_string(f.key,f.component,f.param);g.resolve(h)}return g.promise()}}});
define('core/inplace_editable', ["jquery","core/ajax","core/templates","core/notification","core/str","core/config","core/url","core/form-autocomplete","core/pending"],function(a,b,c,d,e,f,g,h,i){return a("body").on("click keypress","[data-inplaceeditable] [data-inplaceeditablelink]",function(j){if("keypress"!==j.type||13===j.keyCode){var k=new i("autocomplete-start-editing");j.stopImmediatePropagation(),j.preventDefault();var l=a(this),m=l.closest("[data-inplaceeditable]"),n=function(b){b.addClass("updating");var c=b.find("img.spinner");c.length?c.show():(c=a("<img/>").attr("src",g.imageUrl("i/loading_small")).addClass("spinner").addClass("smallicon"),b.append(c))},o=function(a){a.removeClass("updating"),a.find("img.spinner").hide()},p=function(e,f){var g=[e.attr("data-itemid"),e.attr("data-component"),e.attr("data-itemtype")].join("-"),h=new i(g);n(e),b.call([{methodname:"core_update_inplace_editable",args:{itemid:e.attr("data-itemid"),component:e.attr("data-component"),itemtype:e.attr("data-itemtype"),value:f}}])[0].then(function(b){return c.render("core/inplace_editable",b).then(function(d,f){var g=e.attr("data-value"),h=a(d);c.replaceNode(e,h,f),h.find("[data-inplaceeditablelink]").focus(),h.trigger({type:"updated",ajaxreturn:b,oldvalue:g})})}).then(function(){return h.resolve()}).fail(function(b){var c=a.Event("updatefailed",{exception:b,newvalue:f});o(e),M.util.js_complete(g),e.trigger(c),c.isDefaultPrevented()||d.exception(b)})},q=function(a){a.find("input").off(),a.find("select").off(),a.html(a.attr("data-oldcontent")),a.removeAttr("data-oldcontent"),a.removeClass("inplaceeditingon"),a.find("[data-inplaceeditablelink]").focus()},r=function(){a("span.inplaceeditable.inplaceeditingon").each(function(){q(a(this))})},s=function(b,c){var d,e=b;for(d=0;d<c;d++)e+=String(Math.floor(10*Math.random()));return 0===a("#"+e).length?e:s(b,c)},t=function(b){e.get_string("edittitleinstructions").done(function(c){var d=a('<span class="editinstructions">'+c+"</span>").attr("id",s("id_editinstructions_",20)),e=a('<input type="text"/>').attr("id",s("id_inplacevalue_",20)).attr("value",b.attr("data-value")).attr("aria-describedby",d.attr("id")).addClass("ignoredirty").addClass("form-control"),g=a('<label class="accesshide">'+m.attr("data-editlabel")+"</label>").attr("for",e.attr("id"));b.html("").append(d).append(g).append(e),e.focus(),e.select(),e.on("keyup keypress focusout",function(a){if(!f.behatsiterunning||"focusout"!==a.type){if("keypress"===a.type&&13===a.keyCode){var c=e.val();q(b),p(b,c)}("keyup"===a.type&&27===a.keyCode||"focusout"===a.type)&&q(b)}})})},u=function(a,b){q(a),p(a,b)},v=function(b,c){var d,e=a("<select></select>").attr("id",s("id_inplacevalue_",20)).addClass("custom-select"),g=a('<label class="accesshide">'+m.attr("data-editlabel")+"</label>").attr("for",e.attr("id"));for(d in c)e.append(a("<option>").attr("value",c[d].key).html(c[d].value));e.val(b.attr("data-value")),b.html("").append(g).append(e),e.focus(),e.select(),e.on("keyup change focusout",function(a){if(!f.behatsiterunning||"focusout"!==a.type){if("change"===a.type){var c=e.val();q(b),p(b,c)}("keyup"===a.type&&27===a.keyCode||"focusout"===a.type)&&q(b)}})},w=function(b,f){var g,i=a("<select></select>").attr("id",s("id_inplacevalue_",20)).addClass("form-autocomplete-original-select").addClass("custom-select"),j=a('<label class="accesshide">'+m.attr("data-editlabel")+"</label>").attr("for",i.attr("id")),k=f.options,l=f.attributes,n=a('<a href="#"></a>'),o=a('<a href="#"></a>');for(g in k)i.append(a("<option>").attr("value",k[g].key).html(k[g].value));l.multiple&&i.attr("multiple","true"),i.val(JSON.parse(b.attr("data-value"))),e.get_string("savechanges","core").then(function(a){return c.renderPix("e/save","core",a)}).then(function(a){n.append(a)}).fail(d.exception),e.get_string("cancel","core").then(function(a){return c.renderPix("e/cancel","core",a)}).then(function(a){o.append(a)}).fail(d.exception),b.html("").append(j).append(i).append(n).append(o),i.focus(),i.select(),h.enhance(i,l.tags,l.ajax,l.placeholder,l.caseSensitive,l.showSuggestions,l.noSelectionString).then(function(){b.find("[role=combobox]").focus()}).fail(d.exception),i.on("keyup",function(a){("keyup"===a.type&&27===a.keyCode||"focusout"===a.type)&&q(b)}),n.on("click",function(a){var c=JSON.stringify(i.val());i.empty(),q(b),p(b,c),a.preventDefault()}),o.on("click",function(a){i.empty(),q(b),a.preventDefault()})},x=function(b){b.addClass("inplaceeditingon"),b.attr("data-oldcontent",b.html());var c=b.attr("data-type"),d=b.attr("data-options");"toggle"===c?u(b,d):"select"===c?v(b,a.parseJSON(d)):"autocomplete"===c?w(b,a.parseJSON(d)):t(b)};r(),x(m),k.resolve()}}),{}});
define('core/paged_content_paging_bar_limit_selector', ["jquery","core/custom_interaction_events","core/paged_content_events","core/pubsub"],function(a,b,c,d){var e={ROOT:'[data-region="paging-control-limit-container"]',LIMIT_OPTION:"[data-limit]",LIMIT_TOGGLE:'[data-action="limit-toggle"]'},f=function(f,g){f=a(f),b.define(f,[b.events.activate]),f.on(b.events.activate,e.LIMIT_OPTION,function(b,f){var h=a(b.target).closest(e.LIMIT_OPTION);if(!h.hasClass("active")){var i=parseInt(h.attr("data-limit"),10);d.publish(g+c.SET_ITEMS_PER_PAGE_LIMIT,i),f.originalEvent.preventDefault()}})};return{init:f,rootSelector:e.ROOT}});
define('core/chartjs', ["core/chartjs-lazy"],function(a){return a});
define('core/search-input', ["jquery"],function(a){var b=null,c=function(a){b.hasClass("expanded")?e():d(a)},d=function(c){var d=a(document).width();if("keydown"!==c.type||13===c.keyCode||32===c.keyCode)return d<=767&&("click"===c.type||"keydown"===c.type)?void f():void(d<=767||("keydown"===c.type&&c.preventDefault(),b.addClass("expanded"),b.find("form").addClass("expanded"),b.find("input").focus()))},e=function(){b.removeClass("expanded"),b.find("form").removeClass("expanded")},f=function(){b.find("form").submit()};return{init:function(d){b=a("#"+d),b.on("click mouseover keydown","div",c)}}});
define('core/paged_content_factory', ["jquery","core/templates","core/notification","core/paged_content","core/paged_content_events","core/pubsub","core/ajax"],function(a,b,c,d,e,f,g){var h={PAGED_CONTENT:"core/paged_content"},i={ITEMS_PER_PAGE_SINGLE:25,ITEMS_PER_PAGE_ARRAY:[25,50,100,0],MAX_PAGES:3},j=function(){return{pagingbar:!1,pagingdropdown:!1,skipjs:!0,ignorecontrolwhileloading:!0,controlplacementbottom:!1}},k=function(){return{showitemsperpageselector:!1,itemsperpage:35,previous:!0,next:!0,activepagenumber:1,hidecontrolonsinglepage:!0,pages:[]}},l=function(a,b){var c=1;if(a>0){var d=a%b;d?(a-=d,c=a/b+1):c=a/b}return c},m=function(b,c){null===c&&(c=i.ITEMS_PER_PAGE_SINGLE),a.isArray(c)&&(c=c[0]);var d=k();d.itemsperpage=c;for(var e=l(b,c),f=1;f<=e;f++){var g={number:f,page:""+f};1===f&&(g.active=!0),d.pages.push(g)}return d},n=function(b){if(a.isArray(b)){var c=b.map(function(a){return"number"==typeof a?{value:a,active:!1}:a}),d=c.filter(function(a){return a.active});return d.length||(c[0].active=!0),c}return b},o=function(b){null===b&&(b=i.ITEMS_PER_PAGE_ARRAY);var c=k();return c.itemsperpage=n(b),c.showitemsperpageselector=a.isArray(b),c},p=function(a,b){return a?m(a,b):o(b)},q=function(b,c){if(null===b&&(b=i.ITEMS_PER_PAGE_SINGLE),a.isArray(b))return{options:b};var d={options:[]},e=0,f=0,g=i.MAX_PAGES;c.hasOwnProperty("maxPages")&&(g=c.maxPages);for(var h=1;h<=g;h++){var j=0;h<=2?(j=b,f=b):(f=2*f,j=f),e+=j;var k={itemcount:j,content:e};1===h&&(k.active=!0),d.options.push(k)}return d},r=function(a,b,c){var d=j();return c.hasOwnProperty("ignoreControlWhileLoading")&&(d.ignorecontrolwhileloading=c.ignoreControlWhileLoading),c.hasOwnProperty("controlPlacementBottom")&&(d.controlplacementbottom=c.controlPlacementBottom),c.hasOwnProperty("hideControlOnSinglePage")&&(d.hidecontrolonsinglepage=c.hideControlOnSinglePage),c.hasOwnProperty("ariaLabels")&&(d.arialabels=c.ariaLabels),c.hasOwnProperty("dropdown")&&c.dropdown?d.pagingdropdown=q(b,c):d.pagingbar=p(a,b),d},s=function(a,b){return u(null,null,a,b)},t=function(a,b,c){return u(null,a,b,c)},u=function(e,f,g,i){i=i||{};var j=a.Deferred(),k=r(e,f,i);return b.render(h.PAGED_CONTENT,k).then(function(b,c){b=a(b);var e=b.attr("id");i.hasOwnProperty("eventNamespace")&&(e=i.eventNamespace);var f=b;d.init(f,g,e),y(e,i),j.resolve(b,c)}).fail(function(a){j.reject(a)}).fail(c.exception),j.promise()},v=function(a,b,c,d){"undefined"==typeof d&&(d={});var e=a.length;return u(e,b,function(b){var d=[];return b.forEach(function(b){var c=b.offset,f=b.limit?c+b.limit:e,g=a.slice(c,f);d.push(g)}),c(d)},d)},w=function(a,b){f.publish(a+e.ALL_ITEMS_LOADED,b)},x=function(a){var b=function(b){var c={preferences:[{type:a,value:b}]},d={methodname:"core_user_update_user_preferences",args:c};g.call([d])};return b},y=function(a,b){b.hasOwnProperty("persistentLimitKey")&&f.subscribe(a+e.SET_ITEMS_PER_PAGE_LIMIT,x(b.persistentLimitKey))};return{create:s,createWithLimit:t,createWithTotalAndLimit:u,createFromStaticList:v,createFromAjax:u,resetLastPageNumber:w}});
define('core/key_codes', function(){return{tab:9,enter:13,shift:16,ctrl:17,alt:18,escape:27,space:32,end:35,home:36,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40,8:56,asterix:106,pageUp:33,pageDown:34}});
define('core/addblockmodal', ["jquery","core/modal_factory","core/templates","core/str","core/notification"],function(a,b,c,d,e){return{init:function(f){var g=a("[data-key=addblock]"),h=f.blocks.map(function(a){return{key:"pluginname",component:"block_"+a}}),i=d.get_strings(h).then(function(a){return a.map(function(a,b){return{name:f.blocks[b],title:a}})}).then(function(a){return f.blocks=a,c.render("core/add_block_body",f)}).fail(e.exception),j=d.get_string("addblock").fail(e.exception);b.create({title:j,body:i,type:"CANCEL"},g)}}});
define('core/chart_output_htmltable', ["jquery","core/chart_output_base"],function(a,b){function c(){b.prototype.constructor.apply(this,arguments),this._build()}return c.prototype=Object.create(b.prototype),c.prototype._build=function(){this._node.empty(),this._node.append(this._makeTable())},c.prototype._makeTable=function(){var b,c,d,e=a("<table>"),f=this._chart,g=f.getLabels(),h=g.length>0,i=f.getSeries(),j=i[0].getCount();e.addClass("chart-output-htmltable generaltable"),null!==f.getTitle()&&e.append(a("<caption>").text(f.getTitle())),b=a("<tr>"),h&&b.append(a("<td>")),i.forEach(function(c){b.append(a("<th>").text(c.getLabel()).attr("scope","col"))}),e.append(b);for(var k=0;k<j;k++){b=a("<tr>"),g.length>0&&b.append(a("<th>").text(g[k]).attr("scope","row"));for(var l=0;l<i.length;l++)c=i[l].getValues()[k],d=i[l].getLabels(),null!==d&&(c=i[l].getLabels()[k]),b.append(a("<td>").text(c));e.append(b)}return e},c.prototype.update=function(){this._build()},c});
define('core/sessionstorage', ["core/config","core/storagewrapper"],function(a,b){var c=new b(window.sessionStorage);return{get:function(a){return c.get(a)},set:function(a,b){return c.set(a,b)}}});
define('core/chart_base', ["core/chart_series","core/chart_axis"],function(a,b){function c(){this._series=[],this._labels=[],this._xaxes=[],this._yaxes=[],this._setDefaults()}return c.prototype._series=null,c.prototype._labels=null,c.prototype._title=null,c.prototype._xaxes=null,c.prototype._yaxes=null,c.prototype.COLORSET=["#f3c300","#875692","#f38400","#a1caf1","#be0032","#c2b280","#7f180d","#008856","#e68fac","#0067a5"],c.prototype._configColorSet=null,c.prototype.TYPE=null,c.prototype.addSeries=function(a){if(this._validateSeries(a),this._series.push(a),null===a.getColor()){var b=this.getConfigColorSet()||c.prototype.COLORSET;a.setColor(b[this._series.length%b.length])}},c.prototype.create=function(c,d){var e=new c;return e.setConfigColorSet(d.config_colorset),e.setLabels(d.labels),e.setTitle(d.title),d.series.forEach(function(b){e.addSeries(a.prototype.create(b))}),d.axes.x.forEach(function(a,c){e.setXAxis(b.prototype.create(a),c)}),d.axes.y.forEach(function(a,c){e.setYAxis(b.prototype.create(a),c)}),e},c.prototype.__getAxis=function(a,c,d){var e,f="x"===a?this._xaxes:this._yaxes,g=("x"===a?this.setXAxis:this.setYAxis).bind(this);if(c="undefined"==typeof c?0:c,d="undefined"!=typeof d&&d,e=f[c],"undefined"==typeof e){if(!d)throw new Error("Unknown axis.");e=new b,g(e,c)}return e},c.prototype.getConfigColorSet=function(){return this._configColorSet},c.prototype.getLabels=function(){return this._labels},c.prototype.getSeries=function(){return this._series},c.prototype.getTitle=function(){return this._title},c.prototype.getType=function(){if(!this.TYPE)throw new Error("The TYPE property has not been set.");return this.TYPE},c.prototype.getXAxes=function(){return this._xaxes},c.prototype.getXAxis=function(a,b){return this.__getAxis("x",a,b)},c.prototype.getYAxes=function(){return this._yaxes},c.prototype.getYAxis=function(a,b){return this.__getAxis("y",a,b)},c.prototype.setConfigColorSet=function(a){this._configColorSet=a},c.prototype._setDefaults=function(){},c.prototype.setLabels=function(a){if(a.length&&this._series.length&&this._series[0].length!=a.length)throw new Error("Series must match label values.");this._labels=a},c.prototype.setTitle=function(a){this._title=a},c.prototype.setXAxis=function(a,b){b="undefined"==typeof b?0:b,this._validateAxis("x",a,b),this._xaxes[b]=a},c.prototype.setYAxis=function(a,b){b="undefined"==typeof b?0:b,this._validateAxis("y",a,b),this._yaxes[b]=a},c.prototype._validateAxis=function(a,b,c){if(c="undefined"==typeof c?0:c,c>0){var d="x"==a?this._xaxes:this._yaxes;if("undefined"==typeof d[c-1])throw new Error("Missing "+a+" axis at index lower than "+c)}},c.prototype._validateSeries=function(a){if(this._series.length&&this._series[0].getCount()!=a.getCount())throw new Error("Series do not have an equal number of values.");if(this._labels.length&&this._labels.length!=a.getCount())throw new Error("Series must match label values.")},c});
define('core/ajax', ["jquery","core/config","core/log","core/url"],function(a,b,c,d){var e=!1,f=function(a){var b,c,e=this,f=null,g=0;if(a.error)for(;g<e.length;g++)b=e[g],b.deferred.reject(a);else{for(g=0;g<e.length;g++){if(b=e[g],c=a[g],"undefined"==typeof c){f=new Error("missing response");break}if(c.error!==!1){f=c.exception;break}b.deferred.resolve(c.data)}null!==f&&("servicerequireslogin"===f.errorcode?window.location=d.relativeUrl("/login/index.php"):e.forEach(function(a){a.deferred.reject(f)}))}},g=function(a,b,d){var f=this,g=0;for(g=0;g<f.length;g++){var h=f[g];e?(c.error("Page unloaded."),c.error(d)):h.deferred.reject(d)}};return{call:function(c,d,h){a(window).bind("beforeunload",function(){e=!0});var i,j=[],k=[],l=[],m="";for("undefined"==typeof h&&(h=!0),"undefined"==typeof d&&(d=!0),i=0;i<c.length;i++){var n=c[i];j.push({index:i,methodname:n.methodname,args:n.args}),n.deferred=a.Deferred(),k.push(n.deferred.promise()),"undefined"!=typeof n.done&&n.deferred.done(n.done),"undefined"!=typeof n.fail&&n.deferred.fail(n.fail),n.index=i,l.push(n.methodname)}m=l.length<=5?l.sort().join():l.length+"-method-calls",j=JSON.stringify(j);var o={type:"POST",data:j,context:c,dataType:"json",processData:!1,async:d,contentType:"application/json"},p="service.php";h||(p="service-nologin.php");var q=b.wwwroot+"/lib/ajax/"+p+"?sesskey="+b.sesskey+"&info="+m;return d?a.ajax(q,o).done(f).fail(g):(o.success=f,o.error=g,a.ajax(q,o)),k}}});
define('core/modal_registry', ["core/notification"],function(a){var b={},c=function(a){return b[a]},d=function(d,e,f){c(d)&&a.exception({message:"Modal of  type '"+d+"' is already registered"}),e&&"function"==typeof e||a.exception({message:"You must provide a modal module"}),f||a.exception({message:"You must provide a modal template"}),b[d]={module:e,template:f}};return{register:d,get:c}});
define('core/icon_system', ["jquery"],function(a){var b=function(){};return b.prototype.init=function(){return a.when(this)},b.prototype.renderIcon=function(a,b,c,d){throw new Error("Abstract function not implemented.")},b.prototype.getTemplateName=function(){throw new Error("Abstract function not implemented.")},b});
define('core/first', ["jquery"],function(a){a(document).bind("ajaxStart",function(){M.util.js_pending("jq")}).bind("ajaxStop",function(){M.util.js_complete("jq")})});
define('core/chart_bar', ["core/chart_base"],function(a){function b(){a.prototype.constructor.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype._horizontal=!1,b.prototype._stacked=!1,b.prototype.TYPE="bar",b.prototype.create=function(b,c){var d=a.prototype.create.apply(this,arguments);return d.setHorizontal(c.horizontal),d.setStacked(c.stacked),d},b.prototype._setDefaults=function(){a.prototype._setDefaults.apply(this,arguments);var b=this.getYAxis(0,!0);b.setMin(0)},b.prototype.getHorizontal=function(){return this._horizontal},b.prototype.getStacked=function(){return this._stacked},b.prototype.setHorizontal=function(a){var b=this.getXAxis(0,!0);null===b.getMin()&&b.setMin(0),this._horizontal=Boolean(a)},b.prototype.setStacked=function(a){this._stacked=Boolean(a)},b});
define('core/paged_content_paging_dropdown', ["jquery","core/custom_interaction_events","core/paged_content_events","core/pubsub"],function(a,b,c,d){var e={ROOT:'[data-region="paging-dropdown-container"]',DROPDOWN_ITEM:'[data-region="dropdown-item"]',DROPDOWN_TOGGLE:'[data-region="dropdown-toggle"]',ACTIVE_DROPDOWN_ITEM:'[data-region="dropdown-item"].active',CARET:'[data-region="caret"]'},f=function(a){return parseInt(a.attr("data-page-number"),10)},g=function(a){return a.find(e.DROPDOWN_ITEM)},h=function(b,c){var d=f(c);return g(b).filter(function(b,c){return f(a(c))<d})},i=function(a){return parseInt(a.attr("data-item-count"),10)},j=function(b,c){if(void 0!=c.attr("data-offset"))return parseInt(c.attr("data-offset"),10);var d=0;return h(b,c).each(function(b,c){c=a(c),d+=i(c)}),c.attr("data-offset",d),d},k=function(a){return a.find(e.ACTIVE_DROPDOWN_ITEM)},l=function(b,c){return c.map(function(c,d){return d=a(d),{pageNumber:f(d),limit:i(d),offset:j(b,d)}}).get()},m=function(b){b.each(function(b,c){c=a(c),c.attr("data-page-number",b+1)})},n=function(a,b,f){var g=h(a,b),i=g.add(b),j=l(a,i),m=a.find(e.DROPDOWN_TOGGLE),n=m.find(e.CARET);k(a).removeClass("active"),b.addClass("active"),m.html(b.text()),m.append(n),d.publish(f+c.SHOW_PAGES,j)},o=function(c,d){c=a(c);var f=g(c);m(f);var h=k(c);h.length&&n(c,h,d),b.define(c,[b.events.activate]),c.on(b.events.activate,e.DROPDOWN_ITEM,function(b,f){var g=a(b.target).closest(e.DROPDOWN_ITEM);n(c,g,d),f.originalEvent.preventDefault()})};return{init:o,rootSelector:e.ROOT}});
define('core/auto_rows', ["jquery"],function(a){var b={ELEMENT:"[data-auto-rows]"},c={ROW_CHANGE:"autorows:rowchange"},d=function(a){var b=a.attr("rows"),c=a.data("min-rows"),d=a.attr("data-max-rows"),e=a.height(),f=a.innerHeight(),g=f-e,h=a[0].scrollHeight,i=(h-g)/(e/b);return a.css("height",""),i<c?c:d&&i>=d?d:i},e=function(b){var e=a(b.target),f=e.data("min-rows"),g=e.attr("rows");"undefined"==typeof f&&e.data("min-rows",g),e.attr("rows",1);var h=d(e);e.attr("rows",h),h!=g&&e.trigger(c.ROW_CHANGE)},f=function(c){a(c).data("auto-rows")?a(c).on("input propertychange",e.bind(this)):a(c).on("input propertychange",b.ELEMENT,e.bind(this))};return{init:f,events:c}});
!function(a,b){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?b(exports):"function"==typeof define&&define.amd?define('core/mustache', ["exports"],b):(a.Mustache={},b(a.Mustache))}(this,function(a){function b(a){return"function"==typeof a}function c(a){return p(a)?"array":typeof a}function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function e(a,b){return null!=a&&"object"==typeof a&&b in a}function f(a,b){return q.call(a,b)}function g(a){return!f(r,a)}function h(a){return String(a).replace(/[&<>"'`=\/]/g,function(a){return s[a]})}function i(b,c){function e(){if(r&&!s)for(;q.length;)delete o[q.pop()];else q=[];r=!1,s=!1}function f(a){if("string"==typeof a&&(a=a.split(u,2)),!p(a)||2!==a.length)throw new Error("Invalid tags: "+a);h=new RegExp(d(a[0])+"\\s*"),i=new RegExp("\\s*"+d(a[1])),m=new RegExp("\\s*"+d("}"+a[1]))}if(!b)return[];var h,i,m,n=[],o=[],q=[],r=!1,s=!1;f(c||a.tags);for(var y,z,A,B,C,D,E=new l(b);!E.eos();){if(y=E.pos,A=E.scanUntil(h))for(var F=0,G=A.length;F<G;++F)B=A.charAt(F),g(B)?q.push(o.length):s=!0,o.push(["text",B,y,y+1]),y+=1,"\n"===B&&e();if(!E.scan(h))break;if(r=!0,z=E.scan(x)||"name",E.scan(t),"="===z?(A=E.scanUntil(v),E.scan(v),E.scanUntil(i)):"{"===z?(A=E.scanUntil(m),E.scan(w),E.scanUntil(i),z="&"):A=E.scanUntil(i),!E.scan(i))throw new Error("Unclosed tag at "+E.pos);if(C=[z,A,y,E.pos],o.push(C),"#"===z||"^"===z||"$"===z||"<"===z)n.push(C);else if("/"===z){if(D=n.pop(),!D)throw new Error('Unopened section "'+A+'" at '+y);if(D[1]!==A)throw new Error('Unclosed section "'+D[1]+'" at '+y)}else"name"===z||"{"===z||"&"===z?s=!0:"="===z&&f(A)}if(D=n.pop())throw new Error('Unclosed section "'+D[1]+'" at '+E.pos);return k(j(o))}function j(a){for(var b,c,d=[],e=0,f=a.length;e<f;++e)b=a[e],b&&("text"===b[0]&&c&&"text"===c[0]?(c[1]+=b[1],c[3]=b[3]):(d.push(b),c=b));return d}function k(a){for(var b,c,d=[],e=d,f=[],g=0,h=a.length;g<h;++g)switch(b=a[g],b[0]){case"$":case"<":case"#":case"^":e.push(b),f.push(b),e=b[4]=[];break;case"/":c=f.pop(),c[5]=b[2],e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}return d}function l(a){this.string=a,this.tail=a,this.pos=0}function m(a,b){this.view=a,this.blocks={},this.cache={".":this.view},this.parent=b}function n(){this.cache={}}var o=Object.prototype.toString,p=Array.isArray||function(a){return"[object Array]"===o.call(a)},q=RegExp.prototype.test,r=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},t=/\s*/,u=/\s+/,v=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!|\$|</;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(a){var b=this.tail.match(a);if(!b||0!==b.index)return"";var c=b[0];return this.tail=this.tail.substring(c.length),this.pos+=c.length,c},l.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c)}return this.pos+=b.length,b},m.prototype.push=function(a){return new m(a,this)},m.prototype.setBlockVar=function(a,b){var c=this.blocks;return c[a]=b,b},m.prototype.clearBlockVars=function(){this.blocks={}},m.prototype.getBlockVar=function(a){var b,c=this.blocks;return c.hasOwnProperty(a)?b=c[a]:this.parent&&(b=this.parent.getBlockVar(a)),b},m.prototype.lookup=function(a){var c,d=this.cache;if(d.hasOwnProperty(a))c=d[a];else{for(var f,g,h=this,i=!1;h;){if(a.indexOf(".")>0)for(c=h.view,f=a.split("."),g=0;null!=c&&g<f.length;)g===f.length-1&&(i=e(c,f[g])),c=c[f[g++]];else c=h.view[a],i=e(h.view,a);if(i)break;h=h.parent}d[a]=c}return b(c)&&(c=c.call(this.view)),c},n.prototype.clearCache=function(){this.cache={}},n.prototype.parse=function(b,c){var d=this.cache,e=d[b];return null==e&&(e=d[b+":"+(c||a.tags).join(":")]=i(b,c)),e},n.prototype.render=function(a,b,c){var d=this.parse(a),e=b instanceof m?b:new m(b);return this.renderTokens(d,e,c,a)},n.prototype.renderTokens=function(a,b,c,d){for(var e,f,g,h="",i=0,j=a.length;i<j;++i)g=void 0,e=a[i],f=e[0],"#"===f?g=this.renderSection(e,b,c,d):"^"===f?g=this.renderInverted(e,b,c,d):">"===f?g=this.renderPartial(e,b,c,d):"<"===f?g=this.renderBlock(e,b,c,d):"$"===f?g=this.renderBlockVariable(e,b,c,d):"&"===f?g=this.unescapedValue(e,b):"name"===f?g=this.escapedValue(e,b):"text"===f&&(g=this.rawValue(e)),void 0!==g&&(h+=g);return h},n.prototype.renderSection=function(a,c,d,e){function f(a){return g.render(a,c,d)}var g=this,h="",i=c.lookup(a[1]);if(i){if(p(i))for(var j=0,k=i.length;j<k;++j)h+=this.renderTokens(a[4],c.push(i[j]),d,e);else if("object"==typeof i||"string"==typeof i||"number"==typeof i)h+=this.renderTokens(a[4],c.push(i),d,e);else if(b(i)){if("string"!=typeof e)throw new Error("Cannot use higher-order sections without the original template");i=i.call(c.view,e.slice(a[3],a[5]),f),null!=i&&(h+=i)}else h+=this.renderTokens(a[4],c,d,e);return h}},n.prototype.renderInverted=function(a,b,c,d){var e=b.lookup(a[1]);if(!e||p(e)&&0===e.length)return this.renderTokens(a[4],b,c,d)},n.prototype.renderPartial=function(a,c,d){if(d){var e=b(d)?d(a[1]):d[a[1]];return null!=e?this.renderTokens(this.parse(e),c,d,e):void 0}},n.prototype.renderBlock=function(a,c,d,e){if(d){var f=b(d)?d(a[1]):d[a[1]];null!=f&&c.clearBlockVars(),this.renderTokens(a[4],c,d,e);var g=this.renderTokens(this.parse(f),c,d,f);return c.clearBlockVars(),g}},n.prototype.renderBlockVariable=function(a,b,c,d){var e=a[1],f=b.getBlockVar(e);return f?this.renderTokens(this.parse(f),b,c,f):(b.setBlockVar(e,d.slice(a[3],a[5])),this.renderTokens(a[4],b,c,d))},n.prototype.unescapedValue=function(a,b){var c=b.lookup(a[1]);if(null!=c)return c},n.prototype.escapedValue=function(b,c){var d=c.lookup(b[1]);if(null!=d)return a.escape(d)},n.prototype.rawValue=function(a){return a[1]},a.name="mustache.js",a.version="2.3.0",a.tags=["{{","}}"];var y=new n;return a.clearCache=function(){return y.clearCache()},a.parse=function(a,b){return y.parse(a,b)},a.render=function(a,b,d){if("string"!=typeof a)throw new TypeError('Invalid template! Template should be a "string" but "'+c(a)+'" was given as the first argument for mustache#render(template, view, partials)');return y.render(a,b,d)},a.to_html=function(c,d,e,f){var g=a.render(c,d,e);return b(f)?void f(g):g},a.escape=h,a.Scanner=l,a.Context=m,a.Writer=n,a});
define('core/tooltip', ["jquery"],function(a){var b=function(b){this._regionSelector=b,a(this._regionSelector).each(function(b,c){var d=a(c).attr("aria-describedby");if(d){var e=document.getElementById(d);if(e){var f="tooltip"==a(e).attr("role");f&&(a(e).hide(),a(c).attr("tabindex","0")),a(c).on("focus",this._handleFocus.bind(this)),a(c).on("mouseover",this._handleMouseOver.bind(this)),a(c).on("mouseout",this._handleMouseOut.bind(this)),a(c).on("blur",this._handleBlur.bind(this)),a(c).on("keydown",this._handleKeyDown.bind(this))}}}.bind(this))};return b.prototype._regionSelector=null,b.prototype._showTooltip=function(b){var c=a(b.target),d=c.attr("aria-describedby");if(d){var e=a(document.getElementById(d));if(e.show(),e.attr("aria-hidden","false"),!e.is(".tooltip")){var f=a('<div class="tooltip-inner"></div>');f.append(e.contents()),e.append(f),e.addClass("tooltip"),e.addClass("bottom"),e.append('<div class="tooltip-arrow"></div>')}var g=c.offset();g.top+=c.height()+10,a(e).offset(g)}},b.prototype._hideTooltip=function(b){var c=a(b.target),d=c.attr("aria-describedby");if(d){var e=document.getElementById(d);a(e).hide(),a(e).attr("aria-hidden","true")}},b.prototype._handleFocus=function(a){this._showTooltip(a)},b.prototype._handleKeyDown=function(a){27==a.which&&this._hideTooltip(a)},b.prototype._handleMouseOver=function(a){this._showTooltip(a)},b.prototype._handleMouseOut=function(b){var c=a(b.target);c.is(":focus")||this._hideTooltip(b)},b.prototype._handleBlur=function(a){this._hideTooltip(a)},b});
define('core/chart_output', ["core/chart_output_chartjs"],function(a){var b=a;return b});
define('core/modal_confirm', ["jquery","core/custom_interaction_events","core/modal_events","core/modal_save_cancel","core/log"],function(a,b,c,d,e){var f=function(a){e.warn("The CONFIRM modal type has been deprecated and should not be used anymore. Please use the SAVE_CANCEL modal type instead."),d.call(this,a)};return f.prototype=Object.create(d.prototype),f.prototype.constructor=f,f});
define('core/form-autocomplete', ["jquery","core/log","core/str","core/templates","core/notification"],function(a,b,c,d,e){var f={DOWN:40,ENTER:13,SPACE:32,ESCAPE:27,COMMA:44,UP:38},g=a.now(),h=function(b,c){var d=a(document.getElementById(c.selectionId)),e=d.children("[aria-selected=true]").length;for(b%=e;b<0;)b+=e;var f=a(d.children("[aria-selected=true]").get(b)),g=c.selectionId+"-"+b;return d.children().attr("data-active-selection",!1).attr("id",""),f.attr("data-active-selection",!0).attr("id",g),d.attr("aria-activedescendant",g),a.Deferred().resolve()},i=function(b,c,f){var g="form-autocomplete-updateSelectionList-"+c.inputId;M.util.js_pending(g);var i=[],j=a(document.getElementById(c.selectionId)),k=j.attr("aria-activedescendant"),l=!1;k&&(l=a(document.getElementById(k)).attr("data-value")),f.children("option").each(function(b,c){if(a(c).prop("selected")){var d;d=a(c).data("html")?a(c).data("html"):a(c).html(),i.push({label:d,value:a(c).attr("value")})}});var m=a.extend({items:i},b,c);return d.render("core/form_autocomplete_selection",m).then(function(b,e){return d.replaceNodeContents(j,b,e),l!==!1&&j.children("[aria-selected=true]").each(function(b,d){a(d).attr("data-value")===l&&h(b,c)}),l}).then(function(){return M.util.js_complete(g)})["catch"](e.exception)},j=function(a){"undefined"!=typeof M.core_formchangechecker&&M.core_formchangechecker.set_form_changed(),a.change()},k=function(b,c,d,e){var f=a(d).attr("data-value");return b.multiple&&e.children("option").each(function(b,c){a(c).attr("value")==f&&(a(c).prop("selected",!1),a(c).attr("data-iscustom")&&a(c).remove())}),i(b,c,e).then(function(){j(e)})},l=function(b,c){var d=a(document.getElementById(c.inputId)),e=a(document.getElementById(c.suggestionsId)),f=e.children("[aria-hidden=false]").length;for(b%=f;b<0;)b+=f;var g=a(e.children("[aria-hidden=false]").get(b)),h=a(e.children("[role=option]")).index(g),i=c.suggestionsId+"-"+h;e.children().attr("aria-selected",!1).attr("id",""),g.attr("aria-selected",!0).attr("id",i),d.attr("aria-activedescendant",i);var j=g.offset().top-e.offset().top+e.scrollTop()-e.height()/2;return e.animate({scrollTop:j},100).promise()},m=function(b){var c=a(document.getElementById(b.suggestionsId)),d=c.children("[aria-selected=true]"),e=c.children("[aria-hidden=false]").index(d);return l(e+1,b)},n=function(b){var c=a(document.getElementById(b.selectionId)),d=c.children("[data-active-selection=true]");if(!d)return h(0,b);var e=c.children("[aria-selected=true]").index(d);return h(e-1,b)},o=function(b){var c=a(document.getElementById(b.selectionId)),d=c.children("[data-active-selection=true]"),e=0;return d?(e=c.children("[aria-selected=true]").index(d),e+=1):e=0,h(e,b)},p=function(b){var c=a(document.getElementById(b.suggestionsId)),d=c.children("[aria-selected=true]"),e=c.children("[aria-hidden=false]").index(d);return l(e-1,b)},q=function(b){var c=a(document.getElementById(b.inputId)),d=a(document.getElementById(b.suggestionsId));return c.attr("aria-expanded",!1).attr("aria-activedescendant",b.selectionId),d.hide().attr("aria-hidden",!0),a.Deferred().resolve()},r=function(b,f,g,h){var i="form-autocomplete-updateSuggestions-"+f.inputId;M.util.js_pending(i);var j=a(document.getElementById(f.inputId)),k=a(document.getElementById(f.suggestionsId)),m=!1,n=[];h.children("option").each(function(b,c){a(c).prop("selected")!==!0&&(n[n.length]={label:c.innerHTML,value:a(c).attr("value")})});var o=f.caseSensitive?g:g.toLocaleLowerCase(),p=a.extend({options:n},b,f),q=d.render("core/form_autocomplete_suggestions",p).then(function(e,g){return d.replaceNode(k,e,g),k=a(document.getElementById(f.suggestionsId)),k.show().attr("aria-hidden",!1),k.children().each(function(c,d){d=a(d),b.caseSensitive&&d.text().indexOf(o)>-1||!b.caseSensitive&&d.text().toLocaleLowerCase().indexOf(o)>-1?(d.show().attr("aria-hidden",!1),m=!0):d.hide().attr("aria-hidden",!0)}),j.attr("aria-expanded",!0),h.attr("data-notice")?k.html(h.attr("data-notice")):m?b.tags||l(0,f):c.get_string("nosuggestions","form").done(function(a){k.html(a)}),k}).then(function(){return M.util.js_complete(i)})["catch"](e.exception);return q},s=function(b,c,d){var e=a(document.getElementById(c.inputId)),f=e.val(),g=f.split(","),h=!1;return a.each(g,function(c,e){if(e=e.trim(),""!==e&&(b.multiple||d.children("option").prop("selected",!1),d.children("option").each(function(b,c){a(c).attr("value")==e&&(h=!0,a(c).prop("selected",!0))}),!h)){var f=a("<option>");f.append(document.createTextNode(e)),f.attr("value",e),d.append(f),f.prop("selected",!0),f.attr("data-iscustom",!0)}}),i(b,c,d).then(function(){j(d)}).then(function(){e.val("")}).then(function(){return q(c)})},t=function(b,c,d){var e=a(document.getElementById(c.inputId)),f=a(document.getElementById(c.suggestionsId)),g=f.children("[aria-selected=true]").attr("data-value");return b.multiple||d.children("option").prop("selected",!1),d.children("option").each(function(b,c){a(c).attr("value")==g&&a(c).prop("selected",!0)}),i(b,c,d).then(function(){j(d)}).then(function(){return b.closeSuggestionsOnSelect?(e.val(""),q(c)):(e.focus(),r(b,c,e.val(),d))})},u=function(b,c,d,e,f){var g=w("updateAjax"),h=a(b.currentTarget).val();return f.transport(c.selector,h,function(b){var h=f.processResults(c.selector,b),i=[];if(e.children("option").each(function(b,c){c=a(c),c.prop("selected")?i.push(String(c.attr("value"))):c.remove()}),!c.multiple&&0===e.children("option").length){var j=a("<option>");e.append(j)}a.isArray(h)?(a.each(h,function(b,c){if(i.indexOf(String(c.value))===-1){var d=a("<option>");d.append(c.label),d.attr("value",c.value),e.append(d)}}),e.attr("data-notice","")):e.attr("data-notice",h),g.resolve(r(c,d,"",e))},function(a){g.reject(a)}),g},v=function(b,c,d){var g=a(document.getElementById(c.inputId));if(g.on("keydown",function(e){var h=w("addNavigation-"+c.inputId+"-"+e.keyCode);switch(e.keyCode){case f.DOWN:return b.showSuggestions?("true"===g.attr("aria-expanded")?h.resolve(m(c)):!g.val()&&b.ajax?require([b.ajax],function(a){h.resolve(u(e,b,c,d,a))}):h.resolve(r(b,c,g.val(),d)),e.preventDefault(),!1):(h.resolve(),!0);case f.UP:return h.resolve(p(c)),e.preventDefault(),!1;case f.ENTER:var i=a(document.getElementById(c.suggestionsId));return"true"===g.attr("aria-expanded")&&i.children("[aria-selected=true]").length>0?h.resolve(t(b,c,d)):b.tags?h.resolve(s(b,c,d)):h.resolve(),e.preventDefault(),!1;case f.ESCAPE:return"true"===g.attr("aria-expanded")?h.resolve(q(c)):h.resolve(),e.preventDefault(),!1}return h.resolve(),!0}),g.on("keypress",function(a){return a.keyCode!==f.COMMA||(b.tags&&w("keypress-"+a.keyCode).resolve(s(b,c,d)),a.preventDefault(),!1)}),g.on("blur",function(){var e=w("form-autocomplete-blur");window.setTimeout(function(){var f=a(document.activeElement);f.attr("id")!=g.attr("id")&&(b.tags&&e.then(function(){return s(b,c,d)})["catch"](),e.then(function(){return q(c)})["catch"]()),e.resolve()},500)}),b.showSuggestions){var h=a(document.getElementById(c.downArrowId));h.on("click",function(a){var e=w("form-autocomplete-show-suggestions");g.focus(),!g.val()&&b.ajax?require([b.ajax],function(f){e.resolve(u(a,b,c,d,f))}):e.resolve(r(b,c,g.val(),d))})}var i=a(document.getElementById(c.suggestionsId));i.parent().prop("onclick",null).off("click"),i.parent().on("click","[role=option]",function(e){var f=w("form-autocomplete-parent"),g=a(e.currentTarget).closest("[role=option]"),h=a(document.getElementById(c.suggestionsId)),i=h.children("[aria-hidden=false]").index(g);l(i,c).then(function(){return t(b,c,d)}).then(function(){return f.resolve()})["catch"]()});var j=a(document.getElementById(c.selectionId));j.on("click","[role=listitem]",function(e){var f=w("form-autocomplete-clicks");f.resolve(k(b,c,a(e.currentTarget),d))}),j.on("keydown",function(e){var g=w("form-autocomplete-keydown-"+e.keyCode);switch(e.keyCode){case f.DOWN:return e.preventDefault(),g.resolve(o(c)),!1;case f.UP:return e.preventDefault(),g.resolve(n(c)),!1;case f.SPACE:case f.ENTER:var h=a(document.getElementById(c.selectionId)).children("[data-active-selection=true]");return h&&(e.preventDefault(),g.resolve(k(b,c,h,d))),!1}return g.resolve(),!0}),b.showSuggestions&&(b.ajax?require([b.ajax],function(a){var f=null,h=!1,i="autocomplete-throttledhandler",j=function(g){f=null,h=!0,u(g,b,c,d,a).then(function(){return null===f&&M.util.js_complete(i),h=!1,arguments[0]})["catch"](e.exception)},k=function(a){return window.clearTimeout(f),h?void(f=window.setTimeout(k.bind(this,a),100)):(null===f&&M.util.js_pending(i),void(f=window.setTimeout(j.bind(this,a),300)))};g.on("input",k)}):g.on("input",function(e){var f=a(e.currentTarget).val(),g=a(e.currentTarget).data("last-value");g!==f&&r(b,c,f,d),a(e.currentTarget).data("last-value",f)}))},w=function(b){var c="form-autocomplete:"+b;M.util.js_pending(c);var d=a.Deferred();return d.then(function(){return M.util.js_complete(c),arguments[0]})["catch"](e.exception),d};return{enhance:function(f,h,j,k,l,m,n,o){var p={selector:f,tags:!1,ajax:!1,placeholder:k,caseSensitive:!1,showSuggestions:!0,noSelectionString:n},q="autocomplete-setup-"+f;M.util.js_pending(q),"undefined"!=typeof h&&(p.tags=h),"undefined"!=typeof j&&(p.ajax=j),"undefined"!=typeof l&&(p.caseSensitive=l),"undefined"!=typeof m&&(p.showSuggestions=m),"undefined"==typeof n&&c.get_string("noselection","form").done(function(a){p.noSelectionString=a}).fail(e.exception);var r=a(f);if(!r)return b.debug("Selector not found: "+f),M.util.js_complete(q),!1;r.css("visibility","hidden").attr("aria-hidden",!0);var s={selectId:r.attr("id"),inputId:"form_autocomplete_input-"+g,suggestionsId:"form_autocomplete_suggestions-"+g,selectionId:"form_autocomplete_selection-"+g,downArrowId:"form_autocomplete_downarrow-"+g};g++,p.multiple=r.attr("multiple"),"undefined"!=typeof o?p.closeSuggestionsOnSelect=o:p.closeSuggestionsOnSelect=!p.multiple;var t=a("[for="+s.selectId+"]"),u=[];r.children("option").each(function(b,c){u[b]={label:c.innerHTML,value:a(c).attr("value")}});var w=a.extend({},p,s);w.options=u,w.items=[];var x="",y=d.render("core/form_autocomplete_input",w).then(function(a,b){return x+=b,a}),z=d.render("core/form_autocomplete_suggestions",w).then(function(a,b){return x+=b,a}),A=d.render("core/form_autocomplete_selection",w).then(function(a,b){return x+=b,a});return a.when(y,z,A).then(function(b,c,e){r.hide(),r.after(c),r.after(b),r.after(e),d.runTemplateJS(x),t.attr("for",s.inputId),v(p,s,r);var f=a(document.getElementById(s.suggestionsId));f.hide().attr("aria-hidden",!0)}).then(function(){return i(p,s,r)}).then(function(){return M.util.js_complete(q)})["catch"](function(a){M.util.js_complete(q),e.exception(a)})}}});
define('core/yui', function(){return Y});
define('core/chart_output_base', ["jquery"],function(a){function b(b,c){this._node=a(b),this._chart=c}return b.prototype.update=function(){throw new Error("Not supported.")},b});
define('core/popover_region_controller', ["jquery","core/str","core/custom_interaction_events"],function(a,b,c){var d={CONTENT:".popover-region-content",CONTENT_CONTAINER:".popover-region-content-container",MENU_CONTAINER:".popover-region-container",MENU_TOGGLE:".popover-region-toggle",CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]'},e=function(b){this.root=a(b),this.content=this.root.find(d.CONTENT),this.contentContainer=this.root.find(d.CONTENT_CONTAINER),this.menuContainer=this.root.find(d.MENU_CONTAINER),this.menuToggle=this.root.find(d.MENU_TOGGLE),this.isLoading=!1,this.promises={closeHandlers:a.Deferred(),navigationHandlers:a.Deferred()},this.registerBaseEventListeners()};return e.prototype.events=function(){return{menuOpened:"popoverregion:menuopened",menuClosed:"popoverregion:menuclosed",startLoading:"popoverregion:startLoading",stopLoading:"popoverregion:stopLoading"}},e.prototype.getContentContainer=function(){return this.contentContainer},e.prototype.getContent=function(){return this.content},e.prototype.isMenuOpen=function(){return!this.root.hasClass("collapsed")},e.prototype.toggleMenu=function(){this.isMenuOpen()?this.closeMenu():this.openMenu()},e.prototype.closeMenu=function(){this.isMenuOpen()&&(this.root.addClass("collapsed"),this.menuContainer.attr("aria-expanded","false"),this.menuContainer.attr("aria-hidden","true"),this.updateButtonAriaLabel(),this.root.trigger(this.events().menuClosed))},e.prototype.openMenu=function(){this.isMenuOpen()||(this.root.removeClass("collapsed"),this.menuContainer.attr("aria-expanded","true"),this.menuContainer.attr("aria-hidden","false"),this.updateButtonAriaLabel(),this.promises.closeHandlers.resolve(),this.promises.navigationHandlers.resolve(),this.root.trigger(this.events().menuOpened))},e.prototype.updateButtonAriaLabel=function(){this.isMenuOpen()?b.get_string("hidepopoverwindow").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):b.get_string("showpopoverwindow").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this))},e.prototype.startLoading=function(){this.isLoading=!0,this.getContentContainer().addClass("loading"),this.getContentContainer().attr("aria-busy","true"),this.root.trigger(this.events().startLoading)},e.prototype.stopLoading=function(){this.isLoading=!1,this.getContentContainer().removeClass("loading"),this.getContentContainer().attr("aria-busy","false"),this.root.trigger(this.events().stopLoading)},e.prototype.focusMenuToggle=function(){this.menuToggle.focus()},e.prototype.contentItemHasFocus=function(){return this.getContentItemWithFocus().length>0},e.prototype.getContentItemWithFocus=function(){var b=a(document.activeElement),c=this.getContent().children(),d=c.filter(b);return d.length||(d=c.has(b)),d},e.prototype.focusContentItem=function(a){a.is(d.CAN_RECEIVE_FOCUS)?a.focus():a.find(d.CAN_RECEIVE_FOCUS).first().focus()},e.prototype.focusFirstContentItem=function(){this.focusContentItem(this.getContent().children().first())},e.prototype.focusLastContentItem=function(){this.focusContentItem(this.getContent().children().last())},e.prototype.focusNextContentItem=function(){var a=this.getContentItemWithFocus();a.length&&a.next()&&this.focusContentItem(a.next())},e.prototype.focusPreviousContentItem=function(){var a=this.getContentItemWithFocus();a.length&&a.prev()&&this.focusContentItem(a.prev())},e.prototype.registerBaseEventListeners=function(){c.define(this.root,[c.events.activate,c.events.escape]),this.root.on(c.events.activate,d.MENU_TOGGLE,function(){this.toggleMenu()}.bind(this)),this.promises.closeHandlers.done(function(){this.root.on(c.events.escape,function(){this.closeMenu(),this.focusMenuToggle()}.bind(this)),a("html").click(function(b){var c=a(b.target);this.root.is(c)||this.root.has(c).length||this.closeMenu()}.bind(this)),c.define(this.getContentContainer(),[c.events.scrollBottom])}.bind(this))},e.prototype.registerListNavigationEventListeners=function(){c.define(this.root,[c.events.down]),this.root.on(c.events.down,function(a,b){this.isMenuOpen()?this.contentItemHasFocus()?this.focusNextContentItem():this.focusFirstContentItem():(this.openMenu(),this.focusFirstContentItem()),b.originalEvent.preventDefault()}.bind(this)),this.promises.navigationHandlers.done(function(){c.define(this.root,[c.events.up,c.events.home,c.events.end]),this.root.on(c.events.up,function(a,b){this.focusPreviousContentItem(),b.originalEvent.preventDefault()}.bind(this)),this.root.on(c.events.home,function(a,b){this.focusFirstContentItem(),b.originalEvent.preventDefault()}.bind(this)),this.root.on(c.events.end,function(a,b){this.focusLastContentItem(),b.originalEvent.preventDefault()}.bind(this))}.bind(this))},e});
define('core/modal_backdrop', ["jquery","core/templates","core/notification"],function(a,b,c){var d={ROOT:'[data-region="modal-backdrop"]'},e=function(b){this.root=a(b),this.isAttached=!1,this.root.is(d.ROOT)||c.exception({message:"Element is not a modal backdrop"})};return e.prototype.getRoot=function(){return this.root},e.prototype.attachToDOM=function(){this.isAttached||(a("body").append(this.root),this.isAttached=!0)},e.prototype.setZIndex=function(a){this.root.css("z-index",a)},e.prototype.isVisible=function(){return this.root.hasClass("show")},e.prototype.hasTransitions=function(){return this.getRoot().hasClass("fade")},e.prototype.show=function(){this.isVisible()||(this.isAttached||this.attachToDOM(),this.root.removeClass("hide").addClass("show"))},e.prototype.hide=function(){this.isVisible()&&(this.hasTransitions()?this.getRoot().one("transitionend webkitTransitionEnd oTransitionEnd",function(){this.getRoot().removeClass("show").addClass("hide")}.bind(this)):this.getRoot().removeClass("show").addClass("hide"))},e.prototype.destroy=function(){this.root.remove()},e});
define('core/modal', ["jquery","core/templates","core/notification","core/key_codes","core/custom_interaction_events","core/modal_backdrop","core/event","core/modal_events"],function(a,b,c,d,e,f,g,h){var i,j={CONTAINER:'[data-region="modal-container"]',MODAL:'[data-region="modal"]',HEADER:'[data-region="header"]',TITLE:'[data-region="title"]',BODY:'[data-region="body"]',FOOTER:'[data-region="footer"]',HIDE:'[data-action="hide"]',DIALOG:"[role=dialog]",MENU_BAR:"[role=menubar]",HAS_Z_INDEX:".moodle-has-zindex",CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]'},k={LOADING:"core/loading",BACKDROP:"core/modal_backdrop"},l=0,m=function(b){this.root=a(b),this.modal=this.root.find(j.MODAL),this.header=this.modal.find(j.HEADER),this.title=this.header.find(j.TITLE),this.body=this.modal.find(j.BODY),this.footer=this.modal.find(j.FOOTER),this.hiddenSiblings=[],this.isAttached=!1,this.bodyJS=null,this.footerJS=null,this.modalCount=l++,this.root.is(j.CONTAINER)||c.exception({message:"Element is not a modal container"}),this.modal.length||c.exception({message:"Container does not contain a modal"}),this.header.length||c.exception({message:"Modal is missing a header region"}),this.title.length||c.exception({message:"Modal header is missing a title region"}),this.body.length||c.exception({message:"Modal is missing a body region"}),this.footer.length||c.exception({message:"Modal is missing a footer region"}),this.registerEventListeners()};return m.prototype.attachToDOM=function(){this.isAttached||(a("body").append(this.root),this.bodyJS&&(b.runTemplateJS(this.bodyJS),this.bodyJS=null),this.footerJS&&(b.runTemplateJS(this.footerJS),this.footerJS=null),this.isAttached=!0)},m.prototype.countOtherVisibleModals=function(){var b=0;return a("body").find(j.CONTAINER).each(function(c,d){d=a(d),!this.root.is(d)&&d.hasClass("show")&&b++}.bind(this)),b},m.prototype.getBackdrop=function(){return i||(i=b.render(k.BACKDROP,{}).then(function(b){var c=a(b);return new f(c)}).fail(c.exception)),i},m.prototype.getRoot=function(){return this.root},m.prototype.getModal=function(){return this.modal},m.prototype.getTitle=function(){return this.title},m.prototype.getBody=function(){return this.body},m.prototype.getFooter=function(){return this.footer},m.prototype.getModalCount=function(){return this.modalCount},m.prototype.setTitle=function(a){var b=this.getTitle();this.asyncSet(a,b.html.bind(b))},m.prototype.setBody=function(d){var e=this.getBody();if("string"==typeof d)e.html(d),g.notifyFilterContentUpdated(e),this.getRoot().trigger(h.bodyRendered,this);else{var f="amd-modal-js-pending-id-"+this.getModalCount();M.util.js_pending(f);var i=null;if(e.css("overflow","hidden"),"pending"==d.state()){var j=e.innerHeight();j<100&&(j=100),e.animate({height:j+"px"},150),e.html(""),i=b.render(k.LOADING,{}).then(function(b){var c=a(b).hide();return e.html(c),c.fadeIn(150),a.when(c.promise(),d)}).then(function(a){return a.fadeOut(100).promise()}).then(function(){return d})}else i=d;i.then(function(a,c){var d=null;if(this.isVisible()){e.css("opacity",0);var f=e.innerHeight();e.html(a),e.css("height","");var i=e.innerHeight();e.css("height",f+"px"),d=e.animate({height:i+"px",opacity:1},{duration:150,queue:!1}).promise()}else e.html(a);return c&&(this.isAttached?b.runTemplateJS(c):this.bodyJS=c),g.notifyFilterContentUpdated(e),this.getRoot().trigger(h.bodyRendered,this),d}.bind(this)).fail(c.exception).always(function(){e.css("height",""),e.css("overflow",""),e.css("opacity",""),M.util.js_complete(f)}).fail(c.exception)}},m.prototype.setFooter=function(a){this.showFooter();var c=this.getFooter();"string"==typeof a?c.html(a):b.render(k.LOADING,{}).done(function(d){c.html(d),a.done(function(a,d){c.html(a),d&&(this.isAttached?b.runTemplateJS(d):this.footerJS=d)}.bind(this))}.bind(this))},m.prototype.hasFooterContent=function(){return!!this.getFooter().children().length},m.prototype.hideFooter=function(){this.getFooter().addClass("hidden")},m.prototype.showFooter=function(){this.getFooter().removeClass("hidden")},m.prototype.setLarge=function(){this.isLarge()||this.getModal().addClass("modal-lg")},m.prototype.isLarge=function(){return this.getModal().hasClass("modal-lg")},m.prototype.setSmall=function(){this.isSmall()||this.getModal().removeClass("modal-lg")},m.prototype.isSmall=function(){return!this.getModal().hasClass("modal-lg")},m.prototype.calculateZIndex=function(){var b=a(j.DIALOG+", "+j.MENU_BAR+", "+j.HAS_Z_INDEX),c=parseInt(this.root.css("z-index"));return b.each(function(b,d){d=a(d);var e=d.css("z-index")?parseInt(d.css("z-index")):0;e>c&&(c=e)}),c},m.prototype.isVisible=function(){return this.root.hasClass("show")},m.prototype.hasFocus=function(){var b=a(document.activeElement);return this.root.is(b)||this.root.has(b).length},m.prototype.hasTransitions=function(){return this.getRoot().hasClass("fade")},m.prototype.show=function(){this.isVisible()||(this.hasFooterContent()?this.showFooter():this.hideFooter(),this.isAttached||this.attachToDOM(),this.getBackdrop().done(function(b){var c=this.calculateZIndex(),d=c+2,e=d-1;this.root.css("z-index",d),b.setZIndex(e),b.show(),this.root.removeClass("hide").addClass("show"),this.accessibilityShow(),this.getModal().focus(),a("body").addClass("modal-open"),this.root.trigger(h.shown,this)}.bind(this)))},m.prototype.hide=function(){this.getBackdrop().done(function(b){this.countOtherVisibleModals()||(b.hide(),a("body").removeClass("modal-open"));var c=parseInt(this.root.css("z-index"));this.root.css("z-index",""),b.setZIndex(c-3),this.accessibilityHide(),this.hasTransitions()?this.getRoot().one("transitionend webkitTransitionEnd oTransitionEnd",function(){this.getRoot().removeClass("show").addClass("hide")}.bind(this)):this.getRoot().removeClass("show").addClass("hide"),this.root.trigger(h.hidden,this)}.bind(this))},m.prototype.destroy=function(){this.root.remove(),this.root.trigger(h.destroyed,this)},m.prototype.accessibilityShow=function(){a("body").children().each(function(b,c){if(!this.root.is(c)){c=a(c);var d=c.attr("aria-hidden");"true"!==d&&(c.data("previous-aria-hidden",d),this.hiddenSiblings.push(c),c.attr("aria-hidden","true"))}}.bind(this)),this.root.attr("aria-hidden","false")},m.prototype.accessibilityHide=function(){this.root.attr("aria-hidden","true"),a.each(this.hiddenSiblings,function(b,c){c=a(c);var d=c.data("previous-aria-hidden");"undefined"==typeof d?c.removeAttr("aria-hidden"):c.attr("aria-hidden",d)}),this.hiddenSiblings=[]},m.prototype.handleTabLock=function(b){if(this.hasFocus()){var c=a(document.activeElement),d=this.modal.find(j.CAN_RECEIVE_FOCUS),e=d.first(),f=d.last();c.is(e)&&b.shiftKey?(f.focus(),b.preventDefault()):c.is(f)&&!b.shiftKey&&(e.focus(),b.preventDefault())}},m.prototype.registerEventListeners=function(){this.getRoot().on("keydown",function(a){this.isVisible()&&(a.keyCode==d.tab?this.handleTabLock(a):a.keyCode==d.escape&&this.hide())}.bind(this)),this.getRoot().click(function(b){a(b.target).closest(j.MODAL).length||a(b.target).closest(j.CONTAINER).length&&this.hide()}.bind(this)),e.define(this.getModal(),[e.events.activate]),this.getModal().on(e.events.activate,j.HIDE,function(a,b){this.hide(),b.originalEvent.preventDefault()}.bind(this))},m.prototype.asyncSet=function(b,d){var e=b;return"object"==typeof b&&b.hasOwnProperty("then")||(e=a.Deferred(),e.resolve(b)),e.then(function(a){d(a)}).fail(c.exception),e},m});
define('core/fragment', ["jquery","core/ajax"],function(a,b){var c=function(a,c,d,e){var f=[];for(var g in e)f.push({name:g,value:e[g]});return b.call([{methodname:"core_get_fragment",args:{component:a,callback:c,contextid:d,args:f}}])[0]};return{loadFragment:function(b,d,e,f){var g=a.Deferred();return c(b,d,e,f).then(function(b){var c=a(b.javascript),d="";c.each(function(b,c){c=a(c);var e=c.prop("tagName");if(e&&"script"==e.toLowerCase())if(c.attr("src")){var f=!1;a("script").each(function(b,d){return a(d).attr("src")==c.attr("src")&&(f=!0),!f}),f||(d+=" { ",d+=' node = document.createElement("script"); ',d+=' node.type = "text/javascript"; ',d+=' node.src = decodeURI("'+encodeURI(c.attr("src"))+'"); ',d+=' document.getElementsByTagName("head")[0].appendChild(node); ',d+=" } ")}else d+=" "+c.text()}),g.resolve(b.html,d)}).fail(function(a){g.reject(a)}),g.promise()}}});
define('core/paged_content_events', [],function(){return{SHOW_PAGES:"core-paged-content-show-pages",PAGES_SHOWN:"core-paged-content-pages-shown",ALL_ITEMS_LOADED:"core-paged-content-all-items-loaded",SET_ITEMS_PER_PAGE_LIMIT:"core-paged-content-set-items-per-page-limit"}});
define('core/tag', ["jquery","core/ajax","core/templates","core/notification","core/str","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f,g){return{initTagindexPage:function(){a("body").delegate(".tagarea[data-ta] a[data-quickload=1]","click",function(d){d.preventDefault();var e=a(this),f=e[0].search.replace(/^\?/,""),g=e.closest(".tagarea[data-ta]"),h=f.split("&").reduce(function(a,b){var c=b.split("=");return a[c[0]]=decodeURIComponent(c[1]),a},{}),i=b.call([{methodname:"core_tag_get_tagindex",args:{tagindex:h}}],!0);a.when.apply(a,i).done(function(a){c.render("core_tag/index",a).done(function(a){g.replaceWith(a)})})})},initManagePage:function(){a("body").on("updated","[data-inplaceeditable]",function(b){if(e.get_string("selecttag","core_tag",b.ajaxreturn.value).then(function(c){return a('label[for="tagselect'+b.ajaxreturn.itemid+'"]').html(c)}).fail(d.exception),e.get_string("now").done(function(c){a(b.target).closest("tr").find("td.col-timemodified").html(c)}),"tagflag"===b.ajaxreturn.itemtype){var c=a(b.target).closest("tr");"0"===b.ajaxreturn.value?c.removeClass("flagged-tag"):c.addClass("flagged-tag")}}),a(".tag-management-table").delegate("a.tagdelete","click",function(b){b.preventDefault();var c=a(this).attr("href");e.get_strings([{key:"delete"},{key:"confirmdeletetag",component:"tag"},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){window.location.href=c})})}),a("#tag-management-delete").click(function(b){var c=a(this).closest("form").get(0),f=a(c).find("input[type=checkbox]:checked").length;if(f){var g=a("<input type='hidden'/>").attr("name",this.name);b.preventDefault(),e.get_strings([{key:"delete"},{key:"confirmdeletetags",component:"tag"},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){g.appendTo(c),c.submit()})})}}),a("#tag-management-combine").click(function(b){b.preventDefault();var h=a(this).closest("form").get(0),i=a(h).find("input[type=checkbox]:checked");if(i.length<=1)return void e.get_strings([{key:"combineselected",component:"tag"},{key:"selectmultipletags",component:"tag"},{key:"ok"}]).done(function(a){d.alert(a[0],a[1],a[2])});var j=a("<input type='hidden'/>").attr("name",this.name),k="",l=[];i.each(function(){var b=a(this).val(),c=a(".inplaceeditable[data-itemtype=tagname][data-itemid="+b+"]").attr("data-value");l.push({id:b,name:c})}),e.get_strings([{key:"combineselected",component:"tag"},{key:"continue"}]).then(function(a){var b=a[0];k=a[1];var d={tags:l};return f.create({title:b,body:c.render("core_tag/combine_tags",d),type:f.types.SAVE_CANCEL})}).then(function(b){b.setSaveButtonText(k),b.getRoot().on(g.save,function(b){b.preventDefault(),j.appendTo(h);var c=a("input[name=maintag]:checked","#combinetags_form").val();a("<input type='hidden'/>").attr("name","maintag").attr("value",c).appendTo(h),h.submit()}),b.getRoot().on(g.hidden,function(){b.destroy()}),b.show(),a("#combinetags_form input[type=radio]").first().focus().prop("checked",!0)})["catch"](d.exception)}),a("body").on("updatefailed","[data-inplaceeditable][data-itemtype=tagname]",function(b){var c=b.exception,f=b.newvalue,g=a(b.target).attr("data-itemid");"namesalreadybeeingused"===c.errorcode&&(b.preventDefault(),e.get_strings([{key:"nameuseddocombine",component:"tag"},{key:"yes"},{key:"cancel"}]).done(function(a){d.confirm(b.message,a[0],a[1],a[2],function(){window.location.href=window.location.href+"&newname="+encodeURIComponent(f)+"&tagid="+encodeURIComponent(g)+"&action=renamecombine&sesskey="+M.cfg.sesskey})}))}),a("body").on("click","a[data-action=addstandardtag]",function(b){b.preventDefault();var h="";e.get_strings([{key:"addotags",component:"tag"},{key:"continue"}]).then(function(a){var b=a[0];h=a[1];var d={actionurl:window.location.href,sesskey:M.cfg.sesskey};return f.create({title:b,body:c.render("core_tag/add_tags",d),type:f.types.SAVE_CANCEL})}).then(function(b){b.setSaveButtonText(h),b.getRoot().on(g.save,function(b){var c=a(b.currentTarget).find("#id_tagslist"),d=c.val().trim();c.val(d);var e=a("#addtags_form");return e.on("submit",function(b){var c=a("#addtags_form");c[0].checkValidity()===!1&&(b.preventDefault(),b.stopPropagation()),c.addClass("was-validated"),a('[data-region="tagslistinput"]').addClass("error");var d=a("#id_tagslist_error_message");d.removeAttr("hidden"),d.addClass("help-block")}),e.submit(),!1}),b.getRoot().on(g.hidden,function(){b.destroy()}),b.show()})["catch"](d.exception)})},initManageCollectionsPage:function(){a("body").on("updated","[data-inplaceeditable]",function(b){var c,d,e,f=b.ajaxreturn;"core_tag"===f.component&&"tagareaenable"===f.itemtype&&(c=a(this).attr("data-itemid"),a(".tag-collections-table ul[data-collectionid] li[data-areaid="+c+"]").hide(),e=f.value,"1"===e?(a(this).closest("tr").removeClass("dimmed_text"),d=a(this).closest("tr").find('[data-itemtype="tagareacollection"]').attr("data-value"),a(".tag-collections-table ul[data-collectionid="+d+"] li[data-areaid="+c+"]").show()):a(this).closest("tr").addClass("dimmed_text")),"core_tag"===f.component&&"tagareacollection"===f.itemtype&&(c=a(this).attr("data-itemid"),a(".tag-collections-table ul[data-collectionid] li[data-areaid="+c+"]").hide(),d=a(this).attr("data-value"),e=a(this).closest("tr").find('[data-itemtype="tagareaenable"]').attr("data-value"),"1"===e&&a(".tag-collections-table ul[data-collectionid="+d+"] li[data-areaid="+c+"]").show())}),a("body").on("click",".addtagcoll > a",function(b){b.preventDefault();var h=[{key:"addtagcoll",component:"tag"},{key:"create"}],i=a(this).attr("data-url"),j="";e.get_strings(h).then(function(a){var b=a[0];j=a[1];var d={actionurl:i,sesskey:M.cfg.sesskey};return f.create({title:b,body:c.render("core_tag/add_tag_collection",d),type:f.types.SAVE_CANCEL})}).then(function(b){b.setSaveButtonText(j),b.getRoot().on(g.save,function(b){var c=a(b.currentTarget).find("#addtagcoll_name"),d=c.val().trim();c.val(d);var e=a("#addtagcoll_form");return e.on("submit",function(b){e[0].checkValidity()===!1&&(b.preventDefault(),b.stopPropagation()),e.addClass("was-validated"),a('[data-region="addtagcoll_nameinput"]').addClass("error");var c=a("#id_addtagcoll_name_error_message");c.removeAttr("hidden"),c.addClass("help-block")}),e.submit(),!1}),b.getRoot().on(g.hidden,function(){b.destroy()}),b.show()})["catch"](d.exception)}),a("body").on("click",".tag-collections-table .action_delete",function(b){b.preventDefault();var c=a(this).attr("data-url")+"&sesskey="+M.cfg.sesskey;e.get_strings([{key:"delete"},{key:"suredeletecoll",component:"tag",param:a(this).attr("data-collname")},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){window.location.href=c})})})}}});
define('core/url', ["jquery","core/config"],function(a,b){return{fileUrl:function(a,c){var d=b.wwwroot+a;return"/"!=c.charAt(0)&&(c="/"+c),d+=b.slasharguments?c:"?file="+encodeURIComponent(c)},relativeUrl:function(c,d,e){if(0===c.indexOf("http:")||0===c.indexOf("https:")||c.indexOf("://")>=0)throw new Error("relativeUrl function does not accept absolute urls");"/"!=c.charAt(0)&&(c="/"+c),"admin"!==b.admin&&(c=c.replace(/^\/admin\//,"/"+b.admin+"/")),d=d||{},e&&(d.sesskey=b.sesskey);var f="";return Object.keys(d).length&&(f=a.map(d,function(a,b){return b+"="+a}).join("&")),""!==f?b.wwwroot+c+"?"+f:b.wwwroot+c},imageUrl:function(a,b){return M.util.image_url(a,b)}}});
define('core/storagewrapper', ["core/config"],function(a){var b=function(b){this.storage=b,this.supported=this.detectSupport(),this.hashSource=a.wwwroot+"/"+a.jsrev,this.hash=this.hashString(this.hashSource),this.prefix=this.hash+"/",this.jsrevPrefix=this.hashString(a.wwwroot)+"/jsrev",this.validateCache()};return b.prototype.detectSupport=function(){if(a.jsrev==-1)return!1;if("undefined"==typeof this.storage)return!1;var b="test";try{return null!==this.storage&&(this.storage.setItem(b,"1"),this.storage.removeItem(b),!0)}catch(c){return!1}},b.prototype.prefixKey=function(a){return this.prefix+a},b.prototype.validateCache=function(){var b=this.storage.getItem(this.jsrevPrefix);if(null===b)return void this.storage.setItem(this.jsrevPrefix,a.jsrev);var c=a.jsrev;c!=b&&(this.storage.clear(),this.storage.setItem(this.jsrevPrefix,a.jsrev))},b.prototype.hashString=function(a){var b,c,d,e=0;if(0===a.length)return e;for(b=0,d=a.length;b<d;b++)c=a.charCodeAt(b),e=(e<<5)-e+c,e|=0;return e},b.prototype.get=function(a){return!!this.supported&&(a=this.prefixKey(a),this.storage.getItem(a))},b.prototype.set=function(a,b){if(!this.supported)return!1;a=this.prefixKey(a);try{this.storage.setItem(a,b)}catch(c){return!1}return!0},b});
define('core/paged_content_pages', ["jquery","core/templates","core/notification","core/pubsub","core/paged_content_events"],function(a,b,c,d,e){var f={ROOT:'[data-region="page-container"]',PAGE_REGION:'[data-region="paged-content-page"]',ACTIVE_PAGE_REGION:'[data-region="paged-content-page"].active'},g={PAGING_CONTENT_ITEM:"core/paged_content_page",LOADING:"core/overlay_loading"},h=300,i=function(a,b){return a.find('[data-page="'+b+'"]')},j=function(d){var e=a.Deferred();return d.attr("aria-busy",!0),b.render(g.LOADING,{visible:!0}).then(function(b){var c=a(b),f=setTimeout(function(){d.css("position","relative"),c.appendTo(d)},h);e.always(function(){clearTimeout(f),c.remove(),d.css("position",""),d.removeAttr("aria-busy")})}).fail(c.exception),e},k=function(d,e,f){var h=a.Deferred();return e.then(function(a,e){e=e||"",b.render(g.PAGING_CONTENT_ITEM,{page:f,content:a}).then(function(a){b.appendNodeContents(d,a,e);var c=i(d,f);h.resolve(c)}).fail(function(a){h.reject(a)}).fail(c.exception)}).fail(function(a){h.reject(a)}).fail(c.exception),h.promise()},l=function(b,g,h,l){var m=[],n=[],o=a.Deferred(),p=!0;if(g.forEach(function(a){var c=a.pageNumber,d=i(b,c);d.length?m.push(d):n.push(a)}),n.length&&"function"==typeof l){var q=l(n,{allItemsLoaded:function(a){d.publish(h+e.ALL_ITEMS_LOADED,a)}}),r=q.map(function(a,c){return k(b,a,n[c].pageNumber)});a.when.apply(a,r).then(function(){var a=Array.prototype.slice.call(arguments);o.resolve(a)}).fail(function(a){o.reject(a)}).fail(c.exception)}else o.resolve([]);var s=j(b);o.then(function(a){var c=m.concat(a);b.find(f.PAGE_REGION).addClass("hidden"),c.forEach(function(a){p&&a.removeClass("hidden")})}).then(function(){d.publish(h+e.PAGES_SHOWN,g)}).fail(c.exception).always(function(){s.resolve()})},m=function(b,c,f){b=a(b),d.subscribe(c+e.SHOW_PAGES,function(a){l(b,a,c,f)}),d.subscribe(c+e.SET_ITEMS_PER_PAGE_LIMIT,function(){b.empty()})};return{init:m,rootSelector:f.ROOT}});
define('core/chart_line', ["core/chart_base"],function(a){function b(){a.prototype.constructor.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype.TYPE="line",b.prototype._smooth=!1,b.prototype.create=function(b,c){var d=a.prototype.create.apply(this,arguments);return d.setSmooth(c.smooth),d},b.prototype.getSmooth=function(){return this._smooth},b.prototype.setSmooth=function(a){this._smooth=Boolean(a)},b});
define('core/dragdrop', ["jquery","core/autoscroll"],function(a,b){var c={eventCaptureOptions:{passive:!1,capture:!0},dragProxy:null,onMove:null,onDrop:null,initialPosition:null,initialX:null,initialY:null,touching:null,prepare:function(a){a.preventDefault();var b;if(b="touchstart"===a.type?null===c.touching&&a.changedTouches.length>0:1===a.which){var d=c.getEventXY(a);return d.start=!0,d}return{start:!1}},start:function(a,d,e,f){var g=c.getEventXY(a);switch(c.initialX=g.x,c.initialY=g.y,c.initialPosition=d.offset(),c.dragProxy=d,c.onMove=e,c.onDrop=f,a.type){case"mousedown":c.addEventSpecial("mousemove",c.mouseMove),c.addEventSpecial("mouseup",c.mouseUp);break;case"touchstart":c.addEventSpecial("touchend",c.touchEnd),c.addEventSpecial("touchcancel",c.touchEnd),c.addEventSpecial("touchmove",c.touchMove),c.touching=a.changedTouches[0].identifier;break;default:throw new Error("Unexpected event type: "+a.type)}b.start(c.scroll)},addEventSpecial:function(a,b){try{window.addEventListener(a,b,c.eventCaptureOptions)}catch(d){c.eventCaptureOptions=!0,window.addEventListener(a,b,c.eventCaptureOptions)}},getEventXY:function(a){switch(a.type){case"touchstart":return{x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY};case"mousedown":return{x:a.pageX,y:a.pageY};default:throw new Error("Unexpected event type: "+a.type)}},touchMove:function(a){a.preventDefault();for(var b=0;b<a.changedTouches.length;b++)a.changedTouches[b].identifier===c.touching&&c.handleMove(a.changedTouches[b].pageX,a.changedTouches[b].pageY)},mouseMove:function(a){c.handleMove(a.pageX,a.pageY)},handleMove:function(b,d){var e=c.dragProxy.offset(),f=e.top-parseInt(c.dragProxy.css("top")),g=e.left-parseInt(c.dragProxy.css("left")),h=a(document).height()-c.dragProxy.outerHeight()-f,i=a(document).width()-c.dragProxy.outerWidth()-g,j=-f,k=-g,l=c.initialPosition,m={top:Math.max(j,Math.min(h,l.top+(d-c.initialY)-f)),left:Math.max(k,Math.min(i,l.left+(b-c.initialX)-g))};c.dragProxy.css(m),c.onMove(b,d,c.dragProxy)},touchEnd:function(a){a.preventDefault();for(var b=0;b<a.changedTouches.length;b++)a.changedTouches[b].identifier===c.touching&&c.handleEnd(a.changedTouches[b].pageX,a.changedTouches[b].pageY)},mouseUp:function(a){c.handleEnd(a.pageX,a.pageY)},handleEnd:function(a,d){null!==c.touching?(window.removeEventListener("touchend",c.touchEnd,c.eventCaptureOptions),window.removeEventListener("touchcancel",c.touchEnd,c.eventCaptureOptions),window.removeEventListener("touchmove",c.touchMove,c.eventCaptureOptions),c.touching=null):(window.removeEventListener("mousemove",c.mouseMove,c.eventCaptureOptions),window.removeEventListener("mouseup",c.mouseUp,c.eventCaptureOptions)),b.stop(),c.onDrop(a,d,c.dragProxy)},scroll:function(b){var d=a(document).height()-c.dragProxy.outerHeight(),e=c.dragProxy.offset();e.top=Math.min(d,e.top+b),c.dragProxy.css(e)}};return{prepare:c.prepare,start:c.start}});
define('core/localstorage', ["core/config","core/storagewrapper"],function(a,b){var c=new b(window.localStorage);return{get:function(a){return c.get(a)},set:function(a,b){return c.set(a,b)}}});
define('core/log', ["core/loglevel"],function(a){var b=a.methodFactory;return a.methodFactory=function(a,c){var d=b(a,c);return function(a,b){d(b?b+": "+a:a)}},a.setConfig=function(b){"undefined"!=typeof b.level&&a.setLevel(b.level)},a});
define('core/sortable_list', ["jquery","core/log","core/autoscroll","core/str","core/modal_factory","core/modal_events","core/notification"],function(a,b,c,d,e,f,g){var h={targetListSelector:null,moveHandlerSelector:"[data-drag-type=move]",isHorizontal:!1,autoScroll:!0},i={keyboardDragClass:"dragdrop-keyboard-drag",isDraggedClass:"sortable-list-is-dragged",currentPositionClass:"sortable-list-current-position",sourceListClass:"sortable-list-source",targetListClass:"sortable-list-target",overElementClass:"sortable-list-over-element"},j=function(){var a,b=!1,c="testpassiveeventoptions";try{a=Object.defineProperty({},"passive",{get:function(){b=!0}}),document.addEventListener(c,a,a),document.removeEventListener(c,a,a)}catch(d){b=!1}return b},k=function(a){return{setup:function(b,c,d){return!!c.includes("notPassive")&&(this.addEventListener(a,d,{passive:!1}),!0)}}};j&&(a.event.special.touchstart=k("touchstart"),a.event.special.touchmove=k("touchmove"),a.event.special.touchend=k("touchend"));var l=function(b,c){this.info=null,this.proxy=null,this.proxyDelta=null,this.dragCounter=0,this.lastEvent=null,this.config=a.extend({},h,c||{}),this.config.listSelector=b,this.config.targetListSelector||(this.config.targetListSelector=b),"object"==typeof this.config.listSelector?a(this.config.listSelector).on("mousedown touchstart.notPassive",a.proxy(this.dragStartHandler,this)):a("body").on("mousedown touchstart.notPassive",this.config.listSelector,a.proxy(this.dragStartHandler,this)),null!==this.config.moveHandlerSelector&&a("body").on("click keypress",this.config.moveHandlerSelector,a.proxy(this.clickHandler,this))};return l.EVENTS={DRAGSTART:"sortablelist-dragstart",DRAG:"sortablelist-drag",DROP:"sortablelist-drop",DRAGEND:"sortablelist-dragend"},l.prototype.resetDraggedClasses=function(){var b=[i.isDraggedClass,i.currentPositionClass,i.overElementClass,i.targetListClass];for(var c in b)a("."+b[c]).removeClass(b[c]);this.proxy&&(this.proxy.remove(),this.proxy=a())},l.prototype.calculatePositionOnPage=function(b){if(b.originalEvent&&b.originalEvent.touches&&void 0!==b.originalEvent.touches[0]){var c=b.originalEvent.touches[0];b.pageX=c.pageX,b.pageY=c.pageY}void 0===b.pageX?(b.pageX=this.lastEvent.pageX,b.pageY=this.lastEvent.pageY):this.lastEvent=b,void 0===b.clientX&&(b.clientX=Math.round(b.pageX-a(window).scrollLeft()),b.clientY=Math.round(b.pageY-a(window).scrollTop()))},l.prototype.dragStartHandler=function(b){if(null!==this.info){if("click"===this.info.type||"touchend"===this.info.type)return;this.moveElement(this.info.sourceList,this.info.sourceNextElement),this.finishDragging()}if("mousedown"!==b.type||1===b.which){this.calculatePositionOnPage(b);var d=a(b.target).closest(a(b.currentTarget).children());if(d.length&&(null===this.config.moveHandlerSelector||a(b.target).closest(this.config.moveHandlerSelector,d).length)){b.stopPropagation(),b.preventDefault(),this.dragCounter++,this.info={element:d,sourceNextElement:d.next(),sourceList:d.parent(),targetNextElement:d.next(),targetList:d.parent(),type:b.type,dropped:!1,startX:b.pageX,startY:b.pageY,startTime:(new Date).getTime()},a(this.config.targetListSelector).addClass(i.targetListClass);var e=d.offset();d.addClass(i.currentPositionClass),this.proxyDelta={x:e.left-b.pageX,y:e.top-b.pageY},this.proxy=a();var f=this.dragCounter;setTimeout(a.proxy(function(){null!==this.info&&"click"!==this.info.type&&"keypress"!==this.info.type&&this.dragCounter===f&&this.createProxy()},this),500),a(window).on("mousemove touchmove.notPassive mouseup touchend.notPassive",a.proxy(this.dragHandler,this)),a(window).on("keypress",a.proxy(this.dragcancelHandler,this)),this.config.autoScroll&&c.start(function(){a(window).trigger("mousemove")}),this.executeCallback(l.EVENTS.DRAGSTART)}}},l.prototype.createProxy=function(){this.proxy=this.info.element.clone(),this.info.sourceList.append(this.proxy),this.proxy.removeAttr("id").removeClass(i.currentPositionClass).addClass(i.isDraggedClass).css({position:"fixed"}),this.proxy.offset({top:this.proxyDelta.y+this.lastEvent.pageY,left:this.proxyDelta.x+this.lastEvent.pageX})},l.prototype.clickHandler=function(b){if(("keypress"!==b.type||13===b.originalEvent.keyCode||32===b.originalEvent.keyCode)&&null===this.info){var c=a(b.target).closest(this.config.moveHandlerSelector),d=c.closest(this.config.listSelector),e=c.closest(d.children());e.length&&(b.preventDefault(),b.stopPropagation(),this.dragCounter++,this.info={element:e,sourceNextElement:e.next(),sourceList:d,targetNextElement:e.next(),targetList:d,dropped:!1,type:b.type,startTime:(new Date).getTime()},this.executeCallback(l.EVENTS.DRAGSTART),this.displayMoveDialogue(c))}},l.prototype.getPositionInNode=function(a,b,c){if(!c.length)return null;var d=c[0],e=0,f=d.getBoundingClientRect(),g=b-(f.top+window.scrollY),h=a-(f.left+window.scrollX);return h>=-e&&h<=f.width+e&&g>=-e&&g<=f.height+e?{x:h,y:g,xRatio:f.width?h/f.width:0,yRatio:f.height?g/f.height:0}:null},l.prototype.isListHorizontal=function(a){var b=this.config.isHorizontal;return b===!0||b===!1?b:b(a)},l.prototype.dragHandler=function(b){b.preventDefault(),b.stopPropagation(),this.calculatePositionOnPage(b),this.proxy.offset({top:-1e3,left:-1e3});var c=a(document.elementFromPoint(b.clientX,b.clientY)),d=this.info.element[0],e=function(){return this!==d},f=c.closest("."+i.targetListClass+" > :not(."+i.isDraggedClass+")").filter(e),g=c.closest("."+i.targetListClass),h=this.proxy,j=function(){return!h||!h.length||this!==h[0]};if(a("."+i.overElementClass).removeClass(i.overElementClass),f.addClass(i.overElementClass),this.proxy.offset({top:this.proxyDelta.y+b.pageY,left:this.proxyDelta.x+b.pageX}),g.length&&!g.children().filter(j).length)this.moveElement(g,a());else if(1===f.length&&!this.info.element.find(f[0]).length){var k=this.getPositionInNode(b.pageX,b.pageY,f);if(k){var m=f.parent(),n=this.isListHorizontal(m)?k.xRatio:k.yRatio,o=f.find("."+i.targetListClass),p=!o.children().filter(j).filter(e).length;o.length&&p&&n>.2&&n<.8?this.moveElement(o,a()):n>.5?this.moveElement(m,f.next().filter(j)):this.moveElement(m,f)}}if("mouseup"===b.type||"touchend"===b.type){this.info.endX=b.pageX,this.info.endY=b.pageY,this.info.endTime=(new Date).getTime(),this.info.dropped=!0,this.info.positionChanged=this.hasPositionChanged(this.info);var q=this.info;this.executeCallback(l.EVENTS.DROP),this.finishDragging(),"touchend"===b.type&&null!==this.config.moveHandlerSelector&&q.endTime-q.startTime<500&&!q.positionChanged&&this.clickHandler(b)}},l.prototype.hasPositionChanged=function(a){return a.sourceList[0]!==a.targetList[0]||a.sourceNextElement.length!==a.targetNextElement.length||a.sourceNextElement.length&&a.sourceNextElement[0]!==a.targetNextElement[0]},l.prototype.moveElement=function(a,b){var c=this.info.element;b.length&&b[0]===c[0]||a[0]===this.info.targetList[0]&&b.length===this.info.targetNextElement.length&&b[0]===this.info.targetNextElement[0]||(b.length?a[0].insertBefore(c[0],b[0]):this.proxy&&this.proxy.parent().length&&this.proxy.parent()[0]===a[0]?a[0].insertBefore(c[0],this.proxy[0]):a[0].appendChild(c[0]),this.info.targetList=a,this.info.targetNextElement=b,this.executeCallback(l.EVENTS.DRAG))},l.prototype.finishDragging=function(){this.resetDraggedClasses(),this.config.autoScroll&&c.stop(),a(window).off("mousemove touchmove.notPassive mouseup touchend.notPassive",a.proxy(this.dragHandler,this)),a(window).off("keypress",a.proxy(this.dragcancelHandler,this)),this.executeCallback(l.EVENTS.DRAGEND),this.info=null},l.prototype.executeCallback=function(a){this.info.element.trigger(a,this.info)},l.prototype.dragcancelHandler=function(a){"keypress"===a.type&&27===a.originalEvent.keyCode&&(this.moveElement(this.info.sourceList,this.info.sourceNextElement),this.finishDragging())},l.prototype.getElementName=function(b){return a.Deferred().resolve(b.text())},l.prototype.getDestinationName=function(a,b){return b.length?this.getElementName(b).then(function(a){return d.get_string("movecontentafter","moodle",a)}):d.get_string("movecontenttothetop","moodle")},l.prototype.getMoveDialogueTitle=function(b,c){return c.attr("title")?a.Deferred().resolve(c.attr("title")):this.getElementName(b).then(function(a){return d.get_string("movecontent","moodle",a)})},l.prototype.getDestinationsList=function(){var b=[],c=a(this.config.targetListSelector),d=a("<ul/>").addClass(i.keyboardDragClass),e=a.when().then(function(){return d}),f=a.proxy(function(b,c,f){c.is(this.info.element)||f.is(this.info.element)||a.contains(this.info.element[0],b[0])||(e=e.then(a.proxy(function(){return this.getDestinationName(b,f)},this)).then(function(e){var f=a("<li/>").appendTo(d),g=a('<a href="#"/>').attr("data-core_sortable_list-quickmove",1).appendTo(f);return g.data("parent-element",b).data("before-element",c).text(e),d}))},this),g=function(){if(a.inArray(this,b)===-1){b.push(this);var d=a(this),e=d.children();e.each(function(){var b=a(this);f(d,b,b.prev()),b.find(c).each(g)}),f(d,a(),e.last())}};return c.each(g),e},l.prototype.displayMoveDialogue=function(b){e.create({type:e.types.CANCEL,title:this.getMoveDialogueTitle(this.info.element,b),body:this.getDestinationsList()}).then(a.proxy(function(c){var d=a.proxy(function(d){d.preventDefault(),d.stopPropagation(),this.moveElement(a(d.currentTarget).data("parent-element"),a(d.currentTarget).data("before-element")),this.info.endTime=(new Date).getTime(),this.info.positionChanged=this.hasPositionChanged(this.info),this.info.dropped=!0,b.focus(),this.executeCallback(l.EVENTS.DROP),c.hide()},this);return c.getRoot().on("click","[data-core_sortable_list-quickmove]",d),c.getRoot().on(f.hidden,a.proxy(function(){c.getRoot().off("click","[data-core_sortable_list-quickmove]",d),c.destroy(),this.finishDragging()},this)),c.setLarge(),c.show(),c},this))["catch"](g.exception)},l});
define('core/templates', ["core/mustache","jquery","core/ajax","core/str","core/notification","core/url","core/config","core/localstorage","core/icon_system","core/event","core/yui","core/log","core/truncate","core/user_date","core/pending"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=0,q={},r={},s={},t={},u=function(){this.requiredStrings=[],this.requiredJS=[],this.requiredDates=[],this.currentThemeName=""};u.prototype.requiredStrings=null,u.prototype.requiredDates=[],u.prototype.requiredJS=null,u.prototype.currentThemeName="",u.prototype.getTemplate=function(a){var d=a.split("/"),e=d.shift(),f=d.shift(),g=this.currentThemeName+"/"+a;if(g in r)return r[g];var i=h.get("core_template/"+g);if(i)return q[g]=i,r[g]=b.Deferred().resolve(i).promise(),r[g];var j=c.call([{methodname:"core_output_load_template",args:{component:e,template:f,themename:this.currentThemeName}}],!0,!1);return r[g]=j[0].then(function(a){return q[g]=a,h.set("core_template/"+g,a),a}),r[g]},u.prototype.partialHelper=function(a){var b=this.currentThemeName+"/"+a;return b in q||e.exception(new Error("Failed to pre-fetch the template: "+a)),q[b]},u.prototype.renderIcon=function(a,c,d){var f=g.iconsystemmodule,h=b.Deferred();return require([f],function(a){var b=new a;b instanceof i?(t=b,b.init().then(h.resolve)["catch"](e.exception)):h.reject("Invalid icon system specified"+g.iconsystemmodule)}),h.then(function(a){return this.getTemplate(a.getTemplateName())}.bind(this)).then(function(b){return t.renderIcon(a,c,d,b)})},u.prototype.pixHelper=function(a,b,c){var d=b.split(","),e="",f="",g="";d.length>0&&(e=c(d.shift().trim(),a)),d.length>0&&(f=c(d.shift().trim(),a)),d.length>0&&(g=c(d.join(",").trim(),a));var h=t.getTemplateName(),i=this.currentThemeName+"/"+h,j=q[i];return e=e.replace(/&#x2F;/gi,"/"),t.renderIcon(e,f,g,j)},u.prototype.jsHelper=function(a,b,c){return this.requiredJS.push(c(b,a)),""},u.prototype.stringHelper=function(a,b,c){var d=b.split(","),e="",f="",g="";d.length>0&&(e=d.shift().trim()),d.length>0&&(f=d.shift().trim()),d.length>0&&(g=d.join(",").trim()),""!==g&&(g=c(g,a)),0===g.indexOf("{")&&0!==g.indexOf("{{")&&(g=JSON.parse(g));var h=this.requiredStrings.length;return this.requiredStrings.push({key:e,component:f,param:g}),"[[_s"+h+"]]"},u.prototype.quoteHelper=function(a,b,c){var d=c(b.trim(),a);return d=d.replace('"','\\"').replace(/([\{\}]{2,3})/g,"{{=<% %>=}}$1<%={{ }}=%>"),'"'+d+'"'},u.prototype.shortenTextHelper=function(a,b,c){var d=/(.*?),(.*)/,e=b.match(d),f=e[1].trim(),g=e[2].trim(),h=c(g,a);return m.truncate(h,{length:f,words:!0,ellipsis:"..."})},u.prototype.userDateHelper=function(a,b,c){var d=/(.*?),(.*)/,e=b.match(d),f=c(e[1].trim(),a),g=c(e[2].trim(),a),h=this.requiredDates.length;return this.requiredDates.push({timestamp:f,format:g}),"[[_t_"+h+"]]"},u.prototype.addHelpers=function(a,b){this.currentThemeName=b,this.requiredStrings=[],this.requiredJS=[],a.uniqid=p++,a.str=function(){return this.stringHelper.bind(this,a)}.bind(this),a.pix=function(){return this.pixHelper.bind(this,a)}.bind(this),a.js=function(){return this.jsHelper.bind(this,a)}.bind(this),a.quote=function(){return this.quoteHelper.bind(this,a)}.bind(this),a.shortentext=function(){return this.shortenTextHelper.bind(this,a)}.bind(this),a.userdate=function(){return this.userDateHelper.bind(this,a)}.bind(this),a.globals={config:g},a.currentTheme=b},u.prototype.getJS=function(){var a="";return this.requiredJS.length>0&&(a=this.requiredJS.join(";\n")),a},u.prototype.treatStringsInContent=function(a,b){var c,d,e,f,g,h,i=/\[\[_s\d+\]\]/;do{for(c="",d=a.search(i);d>-1;){c+=a.substring(0,d),a=a.substr(d),e="",f=4,g=a.substr(f,1);do e+=g,f++,g=a.substr(f,1);while("]"!=g);h=b[parseInt(e,10)],"undefined"==typeof h&&(l.debug("Could not find string for pattern [[_s"+e+"]]."),h=""),c+=h,a=a.substr(6+e.length),d=a.search(i)}a=c+a,d=a.search(i)}while(d>-1);return a},u.prototype.treatDatesInContent=function(a,b){return b.forEach(function(b,c){var d="\\[\\[_t_"+c+"\\]\\]",e=new RegExp(d,"g");a=a.replace(e,b)}),a},u.prototype.doRender=function(c,e,f){this.currentThemeName=f;var g=t.getTemplateName(),h=new o("core/templates:doRender");return this.getTemplate(g).then(function(){this.addHelpers(e,f);var d=a.render(c,e,this.partialHelper.bind(this));return b.Deferred().resolve(d.trim(),this.getJS()).promise()}.bind(this)).then(function(a,c){return this.requiredStrings.length>0?d.get_strings(this.requiredStrings).then(function(d){return this.requiredDates=this.requiredDates.map(function(a){return{timestamp:this.treatStringsInContent(a.timestamp,d),format:this.treatStringsInContent(a.format,d)}}.bind(this)),a=this.treatStringsInContent(a,d),c=this.treatStringsInContent(c,d),b.Deferred().resolve(a,c).promise()}.bind(this)):b.Deferred().resolve(a,c).promise()}.bind(this)).then(function(a,c){return this.requiredDates.length>0?n.get(this.requiredDates).then(function(d){return a=this.treatDatesInContent(a,d),c=this.treatDatesInContent(c,d),b.Deferred().resolve(a,c).promise()}.bind(this)):b.Deferred().resolve(a,c).promise()}.bind(this)).then(function(a,c){return h.resolve(),b.Deferred().resolve(a,c).promise()})};var v=function(a){if(""!==a.trim()){var c=b("<script>").attr("type","text/javascript").html(a);b("head").append(c)}},w=function(a,c,d,e){var f=b(a);if(f.length){var g=b(c),h=null;e?(h=new k.NodeList(f.children().get()),h.destroy(!0),f.empty(),f.append(g)):(h=new k.NodeList(f.get()),h.destroy(!0),f.replaceWith(g)),v(d),j.notifyFilterContentUpdated(g)}};u.prototype.scanForPartials=function(b){var c=a.parse(b),d=[],e=function(a,b){var c,d;for(c=0;c<a.length;c++)d=a[c],">"!=d[0]&&"<"!=d[0]||b.push(d[1]),d.length>4&&e(d[4],b)};return e(c,d),d},u.prototype.cachePartials=function(a,c){var d=this.currentThemeName+"/"+a;return d in s?s[d]:(c=c||[d],s[d]=b.Deferred(),this.getTemplate(a).then(function(e){var f=this.scanForPartials(e),g=f.filter(function(b){return!(c.indexOf(this.currentThemeName+"/"+b)>=0)&&b!=a}.bind(this)),h=g.map(function(a){return c.push(this.currentThemeName+"/"+a),this.cachePartials(a,c)}.bind(this));return b.when.apply(b,h).then(function(){return s[d].resolve(e)})}.bind(this))["catch"](s[d].reject),s[d])},u.prototype.render=function(a,c,d){"undefined"==typeof d&&(d=g.theme),this.currentThemeName=d;var f=g.iconsystemmodule,h=b.Deferred();return require([f],function(a){var b=new a;b instanceof i?(t=b,b.init().then(h.resolve)["catch"](e.exception)):h.reject("Invalid icon system specified"+g.iconsystem)}),h.then(function(){return this.cachePartials(a)}.bind(this)).then(function(a){return this.doRender(a,c,d)}.bind(this))};var x=function(a,c,d){var e=b(a);e.length&&(e.prepend(c),v(d),j.notifyFilterContentUpdated(e))},y=function(a,c,d){var e=b(a);e.length&&(e.append(c),v(d),j.notifyFilterContentUpdated(e))};return{render:function(a,b,c){var d=new u;return d.render(a,b,c)},renderPix:function(a,b,c){var d=new u;return d.renderIcon(a,b,c)},runTemplateJS:v,replaceNodeContents:function(a,b,c){w(a,b,c,!0)},replaceNode:function(a,b,c){w(a,b,c,!1)},prependNodeContents:function(a,b,c){x(a,b,c)},appendNodeContents:function(a,b,c){y(a,b,c)}}});
define('core/adapter', [],function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f=j.writeRtpDescription(a.kind,b);if(f+=j.writeIceParameters(a.iceGatherer.getLocalParameters()),f+=j.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),"offer"===c?"actpass":e||"active"),f+="a=mid:"+a.mid+"\r\n",f+=a.rtpSender&&a.rtpReceiver?"a=sendrecv\r\n":a.rtpSender?"a=sendonly\r\n":a.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",a.rtpSender){var g=a.rtpSender._initialTrackId||a.rtpSender.track.id;a.rtpSender._initialTrackId=g;var h="msid:"+(d?d.id:"-")+" "+g+"\r\n";f+="a="+h,f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" "+h,a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" "+h,f+="a=ssrc-group:FID "+a.sendEncodingParameters[0].ssrc+" "+a.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" cname:"+j.localCName+"\r\n",a.rtpSender&&a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" cname:"+j.localCName+"\r\n"),f}function e(a,b){var c=!1;return a=JSON.parse(JSON.stringify(a)),a.filter(function(a){if(a&&(a.urls||a.url)){var d=a.urls||a.url;a.url&&!a.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var e="string"==typeof d;return e&&(d=[d]),d=d.filter(function(a){var d=0===a.indexOf("turn:")&&a.indexOf("transport=udp")!==-1&&a.indexOf("turn:[")===-1&&!c;return d?(c=!0,!0):0===a.indexOf("stun:")&&b>=14393&&a.indexOf("?transport=udp")===-1}),delete a.url,a.urls=e?d[0]:d,!!d.length}})}function f(a,b){var c={codecs:[],headerExtensions:[],fecMechanisms:[]},d=function(a,b){a=parseInt(a,10);for(var c=0;c<b.length;c++)if(b[c].payloadType===a||b[c].preferredPayloadType===a)return b[c]},e=function(a,b,c,e){var f=d(a.parameters.apt,c),g=d(b.parameters.apt,e);return f&&g&&f.name.toLowerCase()===g.name.toLowerCase()};return a.codecs.forEach(function(d){for(var f=0;f<b.codecs.length;f++){var g=b.codecs[f];if(d.name.toLowerCase()===g.name.toLowerCase()&&d.clockRate===g.clockRate){if("rtx"===d.name.toLowerCase()&&d.parameters&&g.parameters.apt&&!e(d,g,a.codecs,b.codecs))continue;g=JSON.parse(JSON.stringify(g)),g.numChannels=Math.min(d.numChannels,g.numChannels),c.codecs.push(g),g.rtcpFeedback=g.rtcpFeedback.filter(function(a){for(var b=0;b<d.rtcpFeedback.length;b++)if(d.rtcpFeedback[b].type===a.type&&d.rtcpFeedback[b].parameter===a.parameter)return!0;return!1});break}}}),a.headerExtensions.forEach(function(a){for(var d=0;d<b.headerExtensions.length;d++){var e=b.headerExtensions[d];if(a.uri===e.uri){c.headerExtensions.push(e);break}}}),c}function g(a,b,c){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[b][a].indexOf(c)!==-1}function h(a,b){var c=a.getRemoteCandidates().find(function(a){return b.foundation===a.foundation&&b.ip===a.ip&&b.port===a.port&&b.priority===a.priority&&b.protocol===a.protocol&&b.type===a.type});return c||a.addRemoteCandidate(b),!c}function i(a,b){var c=new Error(b);return c.name=a,c.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[a],c}var j=a("sdp");b.exports=function(a,b){function c(b,c){c.addTrack(b),c.dispatchEvent(new a.MediaStreamTrackEvent("addtrack",{track:b}))}function k(b,c){c.removeTrack(b),c.dispatchEvent(new a.MediaStreamTrackEvent("removetrack",{track:b}))}function l(b,c,d,e){var f=new Event("track");f.track=c,f.receiver=d,f.transceiver={receiver:d},f.streams=e,a.setTimeout(function(){b._dispatchEvent("track",f)})}var m=function(c){var d=this,f=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(a){d[a]=f[a].bind(f)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this.localDescription=null,this.remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",c=JSON.parse(JSON.stringify(c||{})),this.usingBundle="max-bundle"===c.bundlePolicy,"negotiate"===c.rtcpMuxPolicy)throw i("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(c.rtcpMuxPolicy||(c.rtcpMuxPolicy="require"),c.iceTransportPolicy){case"all":case"relay":break;default:c.iceTransportPolicy="all"}switch(c.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:c.bundlePolicy="balanced"}if(c.iceServers=e(c.iceServers||[],b),this._iceGatherers=[],c.iceCandidatePoolSize)for(var g=c.iceCandidatePoolSize;g>0;g--)this._iceGatherers.push(new a.RTCIceGatherer({iceServers:c.iceServers,gatherPolicy:c.iceTransportPolicy}));else c.iceCandidatePoolSize=0;this._config=c,this.transceivers=[],this._sdpSessionId=j.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};m.prototype.onicecandidate=null,m.prototype.onaddstream=null,m.prototype.ontrack=null,m.prototype.onremovestream=null,m.prototype.onsignalingstatechange=null,m.prototype.oniceconnectionstatechange=null,m.prototype.onconnectionstatechange=null,m.prototype.onicegatheringstatechange=null,m.prototype.onnegotiationneeded=null,m.prototype.ondatachannel=null,m.prototype._dispatchEvent=function(a,b){this._isClosed||(this.dispatchEvent(b),"function"==typeof this["on"+a]&&this["on"+a](b))},m.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",a)},m.prototype.getConfiguration=function(){return this._config},m.prototype.getLocalStreams=function(){return this.localStreams},m.prototype.getRemoteStreams=function(){return this.remoteStreams},m.prototype._createTransceiver=function(a,b){var c=this.transceivers.length>0,d={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&c)d.iceTransport=this.transceivers[0].iceTransport,d.dtlsTransport=this.transceivers[0].dtlsTransport;else{var e=this._createIceAndDtlsTransports();d.iceTransport=e.iceTransport,d.dtlsTransport=e.dtlsTransport}return b||this.transceivers.push(d),d},m.prototype.addTrack=function(b,c){if(this._isClosed)throw i("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var d=this.transceivers.find(function(a){return a.track===b});if(d)throw i("InvalidAccessError","Track already exists.");for(var e,f=0;f<this.transceivers.length;f++)this.transceivers[f].track||this.transceivers[f].kind!==b.kind||(e=this.transceivers[f]);return e||(e=this._createTransceiver(b.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),e.track=b,e.stream=c,e.rtpSender=new a.RTCRtpSender(b,e.dtlsTransport),e.rtpSender},m.prototype.addStream=function(a){var c=this;if(b>=15025)a.getTracks().forEach(function(b){c.addTrack(b,a)});else{var d=a.clone();a.getTracks().forEach(function(a,b){var c=d.getTracks()[b];a.addEventListener("enabled",function(a){c.enabled=a.enabled})}),d.getTracks().forEach(function(a){c.addTrack(a,d)})}},m.prototype.removeTrack=function(b){if(this._isClosed)throw i("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(b instanceof a.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(a){return a.rtpSender===b});if(!c)throw i("InvalidAccessError","Sender was not created by this connection.");var d=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var e=this.transceivers.map(function(a){return a.stream});e.indexOf(d)===-1&&this.localStreams.indexOf(d)>-1&&this.localStreams.splice(this.localStreams.indexOf(d),1),this._maybeFireNegotiationNeeded()},m.prototype.removeStream=function(a){var b=this;a.getTracks().forEach(function(a){var c=b.getSenders().find(function(b){return b.track===a});c&&b.removeTrack(c)})},m.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})},m.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})},m.prototype._createIceGatherer=function(b,c){var d=this;if(c&&b>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var e=new a.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(e,"state",{value:"new",writable:!0}),this.transceivers[b].bufferedCandidateEvents=[],this.transceivers[b].bufferCandidates=function(a){var c=!a.candidate||0===Object.keys(a.candidate).length;e.state=c?"completed":"gathering",null!==d.transceivers[b].bufferedCandidateEvents&&d.transceivers[b].bufferedCandidateEvents.push(a)},e.addEventListener("localcandidate",this.transceivers[b].bufferCandidates),e},m.prototype._gather=function(b,c){var d=this,e=this.transceivers[c].iceGatherer;if(!e.onlocalcandidate){var f=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,e.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),e.onlocalcandidate=function(a){if(!(d.usingBundle&&c>0)){var f=new Event("icecandidate");f.candidate={sdpMid:b,sdpMLineIndex:c};var g=a.candidate,h=!g||0===Object.keys(g).length;if(h)"new"!==e.state&&"gathering"!==e.state||(e.state="completed");else{"new"===e.state&&(e.state="gathering"),g.component=1,g.ufrag=e.getLocalParameters().usernameFragment;var i=j.writeCandidate(g);f.candidate=Object.assign(f.candidate,j.parseCandidate(i)),f.candidate.candidate=i,f.candidate.toJSON=function(){return{candidate:f.candidate.candidate,sdpMid:f.candidate.sdpMid,sdpMLineIndex:f.candidate.sdpMLineIndex,usernameFragment:f.candidate.usernameFragment}}}var k=j.getMediaSections(d.localDescription.sdp);h?k[f.candidate.sdpMLineIndex]+="a=end-of-candidates\r\n":k[f.candidate.sdpMLineIndex]+="a="+f.candidate.candidate+"\r\n",d.localDescription.sdp=j.getDescription(d.localDescription.sdp)+k.join("");var l=d.transceivers.every(function(a){return a.iceGatherer&&"completed"===a.iceGatherer.state});"gathering"!==d.iceGatheringState&&(d.iceGatheringState="gathering",d._emitGatheringStateChange()),h||d._dispatchEvent("icecandidate",f),l&&(d._dispatchEvent("icecandidate",new Event("icecandidate")),d.iceGatheringState="complete",d._emitGatheringStateChange())}},a.setTimeout(function(){f.forEach(function(a){e.onlocalcandidate(a)})},0)}},m.prototype._createIceAndDtlsTransports=function(){var b=this,c=new a.RTCIceTransport(null);c.onicestatechange=function(){b._updateIceConnectionState(),b._updateConnectionState()};var d=new a.RTCDtlsTransport(c);return d.ondtlsstatechange=function(){b._updateConnectionState()},d.onerror=function(){Object.defineProperty(d,"state",{value:"failed",writable:!0}),b._updateConnectionState()},{iceTransport:c,dtlsTransport:d}},m.prototype._disposeIceAndDtlsTransports=function(a){var b=this.transceivers[a].iceGatherer;b&&(delete b.onlocalcandidate,delete this.transceivers[a].iceGatherer);var c=this.transceivers[a].iceTransport;c&&(delete c.onicestatechange,delete this.transceivers[a].iceTransport);var d=this.transceivers[a].dtlsTransport;d&&(delete d.ondtlsstatechange,delete d.onerror,delete this.transceivers[a].dtlsTransport)},m.prototype._transceive=function(a,c,d){var e=f(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(e.encodings=a.sendEncodingParameters,e.rtcp={cname:j.localCName,compound:a.rtcpParameters.compound},a.recvEncodingParameters.length&&(e.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(e)),d&&a.rtpReceiver&&e.codecs.length>0&&("video"===a.kind&&a.recvEncodingParameters&&b<15019&&a.recvEncodingParameters.forEach(function(a){delete a.rtx}),a.recvEncodingParameters.length?e.encodings=a.recvEncodingParameters:e.encodings=[{}],e.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(e.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(e.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),a.rtpReceiver.receive(e))},m.prototype.setLocalDescription=function(a){var b=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(i("TypeError",'Unsupported type "'+a.type+'"'));if(!g("setLocalDescription",a.type,b.signalingState)||b._isClosed)return Promise.reject(i("InvalidStateError","Can not set local "+a.type+" in state "+b.signalingState));var c,d;if("offer"===a.type)c=j.splitSections(a.sdp),d=c.shift(),c.forEach(function(a,c){var d=j.parseRtpParameters(a);b.transceivers[c].localCapabilities=d}),b.transceivers.forEach(function(a,c){b._gather(a.mid,c)});else if("answer"===a.type){c=j.splitSections(b.remoteDescription.sdp),d=c.shift();var e=j.matchPrefix(d,"a=ice-lite").length>0;c.forEach(function(a,c){var g=b.transceivers[c],h=g.iceGatherer,i=g.iceTransport,k=g.dtlsTransport,l=g.localCapabilities,m=g.remoteCapabilities,n=j.isRejected(a)&&0===j.matchPrefix(a,"a=bundle-only").length;if(!n&&!g.rejected){var o=j.getIceParameters(a,d),p=j.getDtlsParameters(a,d);e&&(p.role="server"),b.usingBundle&&0!==c||(b._gather(g.mid,c),"new"===i.state&&i.start(h,o,e?"controlling":"controlled"),"new"===k.state&&k.start(p));var q=f(l,m);b._transceive(g,q.codecs.length>0,!1)}})}return b.localDescription={type:a.type,sdp:a.sdp},"offer"===a.type?b._updateSignalingState("have-local-offer"):b._updateSignalingState("stable"),Promise.resolve()},m.prototype.setRemoteDescription=function(d){var e=this;if(["offer","answer"].indexOf(d.type)===-1)return Promise.reject(i("TypeError",'Unsupported type "'+d.type+'"'));if(!g("setRemoteDescription",d.type,e.signalingState)||e._isClosed)return Promise.reject(i("InvalidStateError","Can not set remote "+d.type+" in state "+e.signalingState));var f={};e.remoteStreams.forEach(function(a){f[a.id]=a});var m=[],n=j.splitSections(d.sdp),o=n.shift(),p=j.matchPrefix(o,"a=ice-lite").length>0,q=j.matchPrefix(o,"a=group:BUNDLE ").length>0;e.usingBundle=q;var r=j.matchPrefix(o,"a=ice-options:")[0];return r?e.canTrickleIceCandidates=r.substr(14).split(" ").indexOf("trickle")>=0:e.canTrickleIceCandidates=!1,n.forEach(function(g,i){var l=j.splitLines(g),n=j.getKind(g),r=j.isRejected(g)&&0===j.matchPrefix(g,"a=bundle-only").length,s=l[0].substr(2).split(" ")[2],t=j.getDirection(g,o),u=j.parseMsid(g),v=j.getMid(g)||j.generateIdentifier();if("application"===n&&"DTLS/SCTP"===s||r)return void(e.transceivers[i]={mid:v,kind:n,rejected:!0});!r&&e.transceivers[i]&&e.transceivers[i].rejected&&(e.transceivers[i]=e._createTransceiver(n,!0));var w,x,y,z,A,B,C,D,E,F,G,H=j.parseRtpParameters(g);r||(F=j.getIceParameters(g,o),G=j.getDtlsParameters(g,o),G.role="client"),C=j.parseRtpEncodingParameters(g);var I=j.parseRtcpParameters(g),J=j.matchPrefix(g,"a=end-of-candidates",o).length>0,K=j.matchPrefix(g,"a=candidate:").map(function(a){return j.parseCandidate(a)}).filter(function(a){return 1===a.component});if(("offer"===d.type||"answer"===d.type)&&!r&&q&&i>0&&e.transceivers[i]&&(e._disposeIceAndDtlsTransports(i),e.transceivers[i].iceGatherer=e.transceivers[0].iceGatherer,e.transceivers[i].iceTransport=e.transceivers[0].iceTransport,e.transceivers[i].dtlsTransport=e.transceivers[0].dtlsTransport,e.transceivers[i].rtpSender&&e.transceivers[i].rtpSender.setTransport(e.transceivers[0].dtlsTransport),e.transceivers[i].rtpReceiver&&e.transceivers[i].rtpReceiver.setTransport(e.transceivers[0].dtlsTransport)),"offer"!==d.type||r)"answer"!==d.type||r||(w=e.transceivers[i],x=w.iceGatherer,y=w.iceTransport,z=w.dtlsTransport,A=w.rtpReceiver,B=w.sendEncodingParameters,D=w.localCapabilities,e.transceivers[i].recvEncodingParameters=C,e.transceivers[i].remoteCapabilities=H,e.transceivers[i].rtcpParameters=I,K.length&&"new"===y.state&&(!p&&!J||q&&0!==i?K.forEach(function(a){h(w.iceTransport,a)}):y.setRemoteCandidates(K)),q&&0!==i||("new"===y.state&&y.start(x,F,"controlling"),"new"===z.state&&z.start(G)),e._transceive(w,"sendrecv"===t||"recvonly"===t,"sendrecv"===t||"sendonly"===t),!A||"sendrecv"!==t&&"sendonly"!==t?delete w.rtpReceiver:(E=A.track,u?(f[u.stream]||(f[u.stream]=new a.MediaStream),c(E,f[u.stream]),m.push([E,A,f[u.stream]])):(f["default"]||(f["default"]=new a.MediaStream),c(E,f["default"]),m.push([E,A,f["default"]]))));else{w=e.transceivers[i]||e._createTransceiver(n),w.mid=v,w.iceGatherer||(w.iceGatherer=e._createIceGatherer(i,q)),K.length&&"new"===w.iceTransport.state&&(!J||q&&0!==i?K.forEach(function(a){h(w.iceTransport,a)}):w.iceTransport.setRemoteCandidates(K)),D=a.RTCRtpReceiver.getCapabilities(n),b<15019&&(D.codecs=D.codecs.filter(function(a){return"rtx"!==a.name})),B=w.sendEncodingParameters||[{ssrc:1001*(2*i+2)}];var L=!1;if("sendrecv"===t||"sendonly"===t){if(L=!w.rtpReceiver,A=w.rtpReceiver||new a.RTCRtpReceiver(w.dtlsTransport,n),L){var M;E=A.track,u&&"-"===u.stream||(u?(f[u.stream]||(f[u.stream]=new a.MediaStream,Object.defineProperty(f[u.stream],"id",{get:function(){return u.stream}})),Object.defineProperty(E,"id",{get:function(){return u.track}}),M=f[u.stream]):(f["default"]||(f["default"]=new a.MediaStream),M=f["default"])),M&&(c(E,M),w.associatedRemoteMediaStreams.push(M)),m.push([E,A,M])}}else w.rtpReceiver&&w.rtpReceiver.track&&(w.associatedRemoteMediaStreams.forEach(function(a){var b=a.getTracks().find(function(a){return a.id===w.rtpReceiver.track.id});b&&k(b,a)}),w.associatedRemoteMediaStreams=[]);w.localCapabilities=D,w.remoteCapabilities=H,w.rtpReceiver=A,w.rtcpParameters=I,w.sendEncodingParameters=B,w.recvEncodingParameters=C,e._transceive(e.transceivers[i],!1,L)}}),void 0===e._dtlsRole&&(e._dtlsRole="offer"===d.type?"active":"passive"),e.remoteDescription={type:d.type,sdp:d.sdp},"offer"===d.type?e._updateSignalingState("have-remote-offer"):e._updateSignalingState("stable"),Object.keys(f).forEach(function(b){var c=f[b];if(c.getTracks().length){if(e.remoteStreams.indexOf(c)===-1){e.remoteStreams.push(c);var d=new Event("addstream");d.stream=c,a.setTimeout(function(){e._dispatchEvent("addstream",d)})}m.forEach(function(a){var b=a[0],d=a[1];c.id===a[2].id&&l(e,b,d,[c])})}}),m.forEach(function(a){a[2]||l(e,a[0],a[1],[])}),a.setTimeout(function(){e&&e.transceivers&&e.transceivers.forEach(function(a){a.iceTransport&&"new"===a.iceTransport.state&&a.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),a.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},m.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop(),a.dtlsTransport&&a.dtlsTransport.stop(),a.rtpSender&&a.rtpSender.stop(),a.rtpReceiver&&a.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},m.prototype._updateSignalingState=function(a){this.signalingState=a;var b=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",b)},m.prototype._maybeFireNegotiationNeeded=function(){var b=this;"stable"===this.signalingState&&this.needNegotiation!==!0&&(this.needNegotiation=!0,a.setTimeout(function(){if(b.needNegotiation){b.needNegotiation=!1;var a=new Event("negotiationneeded");b._dispatchEvent("negotiationneeded",a)}},0))},m.prototype._updateIceConnectionState=function(){var a,b={"new":0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(a){b[a.iceTransport.state]++}),a="new",b.failed>0?a="failed":b.checking>0?a="checking":b.disconnected>0?a="disconnected":b["new"]>0?a="new":b.connected>0?a="connected":b.completed>0&&(a="completed"),a!==this.iceConnectionState){this.iceConnectionState=a;var c=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",c)}},m.prototype._updateConnectionState=function(){var a,b={"new":0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(a){b[a.iceTransport.state]++,b[a.dtlsTransport.state]++}),b.connected+=b.completed,a="new",b.failed>0?a="failed":b.connecting>0?a="connecting":b.disconnected>0?a="disconnected":b["new"]>0?a="new":b.connected>0&&(a="connected"),a!==this.connectionState){this.connectionState=a;var c=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",c)}},m.prototype.createOffer=function(){var c=this;if(c._isClosed)return Promise.reject(i("InvalidStateError","Can not call createOffer after close"));var e=c.transceivers.filter(function(a){return"audio"===a.kind}).length,f=c.transceivers.filter(function(a){return"video"===a.kind}).length,g=arguments[0];if(g){if(g.mandatory||g.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==g.offerToReceiveAudio&&(e=g.offerToReceiveAudio===!0?1:g.offerToReceiveAudio===!1?0:g.offerToReceiveAudio),void 0!==g.offerToReceiveVideo&&(f=g.offerToReceiveVideo===!0?1:g.offerToReceiveVideo===!1?0:g.offerToReceiveVideo)}for(c.transceivers.forEach(function(a){"audio"===a.kind?(e--,e<0&&(a.wantReceive=!1)):"video"===a.kind&&(f--,f<0&&(a.wantReceive=!1))});e>0||f>0;)e>0&&(c._createTransceiver("audio"),e--),f>0&&(c._createTransceiver("video"),f--);var h=j.writeSessionBoilerplate(c._sdpSessionId,c._sdpSessionVersion++);c.transceivers.forEach(function(d,e){var f=d.track,g=d.kind,h=d.mid||j.generateIdentifier();d.mid=h,d.iceGatherer||(d.iceGatherer=c._createIceGatherer(e,c.usingBundle));var i=a.RTCRtpSender.getCapabilities(g);b<15019&&(i.codecs=i.codecs.filter(function(a){return"rtx"!==a.name})),i.codecs.forEach(function(a){"H264"===a.name&&void 0===a.parameters["level-asymmetry-allowed"]&&(a.parameters["level-asymmetry-allowed"]="1"),d.remoteCapabilities&&d.remoteCapabilities.codecs&&d.remoteCapabilities.codecs.forEach(function(b){a.name.toLowerCase()===b.name.toLowerCase()&&a.clockRate===b.clockRate&&(a.preferredPayloadType=b.payloadType)})}),i.headerExtensions.forEach(function(a){var b=d.remoteCapabilities&&d.remoteCapabilities.headerExtensions||[];b.forEach(function(b){a.uri===b.uri&&(a.id=b.id)})});var k=d.sendEncodingParameters||[{ssrc:1001*(2*e+1)}];f&&b>=15019&&"video"===g&&!k[0].rtx&&(k[0].rtx={ssrc:k[0].ssrc+1}),d.wantReceive&&(d.rtpReceiver=new a.RTCRtpReceiver(d.dtlsTransport,g)),d.localCapabilities=i,d.sendEncodingParameters=k}),"max-compat"!==c._config.bundlePolicy&&(h+="a=group:BUNDLE "+c.transceivers.map(function(a){return a.mid}).join(" ")+"\r\n"),h+="a=ice-options:trickle\r\n",c.transceivers.forEach(function(a,b){h+=d(a,a.localCapabilities,"offer",a.stream,c._dtlsRole),h+="a=rtcp-rsize\r\n",!a.iceGatherer||"new"===c.iceGatheringState||0!==b&&c.usingBundle||(a.iceGatherer.getLocalCandidates().forEach(function(a){a.component=1,h+="a="+j.writeCandidate(a)+"\r\n"}),"completed"===a.iceGatherer.state&&(h+="a=end-of-candidates\r\n"))});var k=new a.RTCSessionDescription({type:"offer",sdp:h});return Promise.resolve(k)},m.prototype.createAnswer=function(){var c=this;if(c._isClosed)return Promise.reject(i("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==c.signalingState&&"have-local-pranswer"!==c.signalingState)return Promise.reject(i("InvalidStateError","Can not call createAnswer in signalingState "+c.signalingState));var e=j.writeSessionBoilerplate(c._sdpSessionId,c._sdpSessionVersion++);c.usingBundle&&(e+="a=group:BUNDLE "+c.transceivers.map(function(a){return a.mid}).join(" ")+"\r\n");var g=j.getMediaSections(c.remoteDescription.sdp).length;c.transceivers.forEach(function(a,h){if(!(h+1>g)){if(a.rejected)return"application"===a.kind?e+="m=application 0 DTLS/SCTP 5000\r\n":"audio"===a.kind?e+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===a.kind&&(e+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(e+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+a.mid+"\r\n");if(a.stream){var i;"audio"===a.kind?i=a.stream.getAudioTracks()[0]:"video"===a.kind&&(i=a.stream.getVideoTracks()[0]),i&&b>=15019&&"video"===a.kind&&!a.sendEncodingParameters[0].rtx&&(a.sendEncodingParameters[0].rtx={ssrc:a.sendEncodingParameters[0].ssrc+1})}var j=f(a.localCapabilities,a.remoteCapabilities),k=j.codecs.filter(function(a){return"rtx"===a.name.toLowerCase()}).length;!k&&a.sendEncodingParameters[0].rtx&&delete a.sendEncodingParameters[0].rtx,e+=d(a,j,"answer",a.stream,c._dtlsRole),a.rtcpParameters&&a.rtcpParameters.reducedSize&&(e+="a=rtcp-rsize\r\n")}});var h=new a.RTCSessionDescription({type:"answer",sdp:e});return Promise.resolve(h)},m.prototype.addIceCandidate=function(a){var b,c=this;return a&&void 0===a.sdpMLineIndex&&!a.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(d,e){if(!c.remoteDescription)return e(i("InvalidStateError","Can not add ICE candidate without a remote description"));if(a&&""!==a.candidate){var f=a.sdpMLineIndex;if(a.sdpMid)for(var g=0;g<c.transceivers.length;g++)if(c.transceivers[g].mid===a.sdpMid){f=g;break}var k=c.transceivers[f];if(!k)return e(i("OperationError","Can not add ICE candidate"));if(k.rejected)return d();var l=Object.keys(a.candidate).length>0?j.parseCandidate(a.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return d();if(l.component&&1!==l.component)return d();if((0===f||f>0&&k.iceTransport!==c.transceivers[0].iceTransport)&&!h(k.iceTransport,l))return e(i("OperationError","Can not add ICE candidate"));var m=a.candidate.trim();0===m.indexOf("a=")&&(m=m.substr(2)),b=j.getMediaSections(c.remoteDescription.sdp),b[f]+="a="+(l.type?m:"end-of-candidates")+"\r\n",c.remoteDescription.sdp=j.getDescription(c.remoteDescription.sdp)+b.join("")}else for(var n=0;n<c.transceivers.length&&(c.transceivers[n].rejected||(c.transceivers[n].iceTransport.addRemoteCandidate({}),b=j.getMediaSections(c.remoteDescription.sdp),b[n]+="a=end-of-candidates\r\n",c.remoteDescription.sdp=j.getDescription(c.remoteDescription.sdp)+b.join(""),!c.usingBundle));n++);d()})},m.prototype.getStats=function(){var a=[];this.transceivers.forEach(function(b){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(c){b[c]&&a.push(b[c].getStats())})});var b=function(a){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[a.type]||a.type};return new Promise(function(c){var d=new Map;Promise.all(a).then(function(a){a.forEach(function(a){Object.keys(a).forEach(function(c){a[c].type=b(a[c]),d.set(c,a[c])})}),c(d)})})};var n=["createOffer","createAnswer"];return n.forEach(function(a){var b=m.prototype[a];m.prototype[a]=function(){var a=arguments;return"function"==typeof a[0]||"function"==typeof a[1]?b.apply(this,[arguments[2]]).then(function(b){"function"==typeof a[0]&&a[0].apply(null,[b])},function(b){"function"==typeof a[1]&&a[1].apply(null,[b])}):b.apply(this,arguments)}}),n=["setLocalDescription","setRemoteDescription","addIceCandidate"],n.forEach(function(a){var b=m.prototype[a];m.prototype[a]=function(){var a=arguments;return"function"==typeof a[1]||"function"==typeof a[2]?b.apply(this,arguments).then(function(){"function"==typeof a[1]&&a[1].apply(null)},function(b){"function"==typeof a[2]&&a[2].apply(null,[b])}):b.apply(this,arguments)}}),["getStats"].forEach(function(a){var b=m.prototype[a];m.prototype[a]=function(){var a=arguments;return"function"==typeof a[1]?b.apply(this,arguments).then(function(){"function"==typeof a[1]&&a[1].apply(null)}):b.apply(this,arguments)}}),m}},{sdp:2}],2:[function(a,b,c){"use strict";var d={};d.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},d.localCName=d.generateIdentifier(),d.splitLines=function(a){return a.trim().split("\n").map(function(a){return a.trim()})},d.splitSections=function(a){var b=a.split("\nm=");return b.map(function(a,b){return(b>0?"m="+a:a).trim()+"\r\n"})},d.getDescription=function(a){var b=d.splitSections(a);return b&&b[0]},d.getMediaSections=function(a){var b=d.splitSections(a);return b.shift(),b},d.matchPrefix=function(a,b){return d.splitLines(a).filter(function(a){return 0===a.indexOf(b)})},d.parseCandidate=function(a){var b;b=0===a.indexOf("a=candidate:")?a.substring(12).split(" "):a.substring(10).split(" ");for(var c={foundation:b[0],component:parseInt(b[1],10),protocol:b[2].toLowerCase(),priority:parseInt(b[3],10),ip:b[4],port:parseInt(b[5],10),type:b[7]},d=8;d<b.length;d+=2)switch(b[d]){case"raddr":c.relatedAddress=b[d+1];break;case"rport":c.relatedPort=parseInt(b[d+1],10);break;case"tcptype":c.tcpType=b[d+1];break;case"ufrag":c.ufrag=b[d+1],c.usernameFragment=b[d+1];break;default:c[b[d]]=b[d+1]}return c},d.writeCandidate=function(a){var b=[];b.push(a.foundation),b.push(a.component),b.push(a.protocol.toUpperCase()),b.push(a.priority),b.push(a.ip),b.push(a.port);var c=a.type;return b.push("typ"),b.push(c),"host"!==c&&a.relatedAddress&&a.relatedPort&&(b.push("raddr"),b.push(a.relatedAddress),b.push("rport"),b.push(a.relatedPort)),a.tcpType&&"tcp"===a.protocol.toLowerCase()&&(b.push("tcptype"),b.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(b.push("ufrag"),b.push(a.usernameFragment||a.ufrag)),"candidate:"+b.join(" ")},d.parseIceOptions=function(a){return a.substr(14).split(" ")},d.parseRtpMap=function(a){var b=a.substr(9).split(" "),c={payloadType:parseInt(b.shift(),10)};return b=b[0].split("/"),c.name=b[0],c.clockRate=parseInt(b[1],10),c.numChannels=3===b.length?parseInt(b[2],10):1,c},d.writeRtpMap=function(a){var b=a.payloadType;return void 0!==a.preferredPayloadType&&(b=a.preferredPayloadType),"a=rtpmap:"+b+" "+a.name+"/"+a.clockRate+(1!==a.numChannels?"/"+a.numChannels:"")+"\r\n"},d.parseExtmap=function(a){var b=a.substr(9).split(" ");return{id:parseInt(b[0],10),direction:b[0].indexOf("/")>0?b[0].split("/")[1]:"sendrecv",uri:b[1]}},d.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&"sendrecv"!==a.direction?"/"+a.direction:"")+" "+a.uri+"\r\n"},d.parseFmtp=function(a){for(var b,c={},d=a.substr(a.indexOf(" ")+1).split(";"),e=0;e<d.length;e++)b=d[e].trim().split("="),c[b[0].trim()]=b[1];return c},d.writeFmtp=function(a){var b="",c=a.payloadType;if(void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){var d=[];Object.keys(a.parameters).forEach(function(b){d.push(b+"="+a.parameters[b])}),b+="a=fmtp:"+c+" "+d.join(";")+"\r\n"}return b},d.parseRtcpFb=function(a){var b=a.substr(a.indexOf(" ")+1).split(" ");return{type:b.shift(),parameter:b.join(" ")}},d.writeRtcpFb=function(a){var b="",c=a.payloadType;return void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(function(a){b+="a=rtcp-fb:"+c+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+"\r\n"}),b},d.parseSsrcMedia=function(a){var b=a.indexOf(" "),c={ssrc:parseInt(a.substr(7,b-7),10)},d=a.indexOf(":",b);return d>-1?(c.attribute=a.substr(b+1,d-b-1),c.value=a.substr(d+1)):c.attribute=a.substr(b+1),c},d.getMid=function(a){var b=d.matchPrefix(a,"a=mid:")[0];if(b)return b.substr(6)},d.parseFingerprint=function(a){var b=a.substr(14).split(" ");return{algorithm:b[0].toLowerCase(),value:b[1]}},d.getDtlsParameters=function(a,b){var c=d.matchPrefix(a+b,"a=fingerprint:");return{role:"auto",fingerprints:c.map(d.parseFingerprint)}},d.writeDtlsParameters=function(a,b){
var c="a=setup:"+b+"\r\n";return a.fingerprints.forEach(function(a){c+="a=fingerprint:"+a.algorithm+" "+a.value+"\r\n"}),c},d.getIceParameters=function(a,b){var c=d.splitLines(a);c=c.concat(d.splitLines(b));var e={usernameFragment:c.filter(function(a){return 0===a.indexOf("a=ice-ufrag:")})[0].substr(12),password:c.filter(function(a){return 0===a.indexOf("a=ice-pwd:")})[0].substr(10)};return e},d.writeIceParameters=function(a){return"a=ice-ufrag:"+a.usernameFragment+"\r\na=ice-pwd:"+a.password+"\r\n"},d.parseRtpParameters=function(a){for(var b={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=d.splitLines(a),e=c[0].split(" "),f=3;f<e.length;f++){var g=e[f],h=d.matchPrefix(a,"a=rtpmap:"+g+" ")[0];if(h){var i=d.parseRtpMap(h),j=d.matchPrefix(a,"a=fmtp:"+g+" ");switch(i.parameters=j.length?d.parseFmtp(j[0]):{},i.rtcpFeedback=d.matchPrefix(a,"a=rtcp-fb:"+g+" ").map(d.parseRtcpFb),b.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":b.fecMechanisms.push(i.name.toUpperCase())}}}return d.matchPrefix(a,"a=extmap:").forEach(function(a){b.headerExtensions.push(d.parseExtmap(a))}),b},d.writeRtpDescription=function(a,b){var c="";c+="m="+a+" ",c+=b.codecs.length>0?"9":"0",c+=" UDP/TLS/RTP/SAVPF ",c+=b.codecs.map(function(a){return void 0!==a.preferredPayloadType?a.preferredPayloadType:a.payloadType}).join(" ")+"\r\n",c+="c=IN IP4 0.0.0.0\r\n",c+="a=rtcp:9 IN IP4 0.0.0.0\r\n",b.codecs.forEach(function(a){c+=d.writeRtpMap(a),c+=d.writeFmtp(a),c+=d.writeRtcpFb(a)});var e=0;return b.codecs.forEach(function(a){a.maxptime>e&&(e=a.maxptime)}),e>0&&(c+="a=maxptime:"+e+"\r\n"),c+="a=rtcp-mux\r\n",b.headerExtensions.forEach(function(a){c+=d.writeExtmap(a)}),c},d.parseRtpEncodingParameters=function(a){var b,c=[],e=d.parseRtpParameters(a),f=e.fecMechanisms.indexOf("RED")!==-1,g=e.fecMechanisms.indexOf("ULPFEC")!==-1,h=d.matchPrefix(a,"a=ssrc:").map(function(a){return d.parseSsrcMedia(a)}).filter(function(a){return"cname"===a.attribute}),i=h.length>0&&h[0].ssrc,j=d.matchPrefix(a,"a=ssrc-group:FID").map(function(a){var b=a.split(" ");return b.shift(),b.map(function(a){return parseInt(a,10)})});j.length>0&&j[0].length>1&&j[0][0]===i&&(b=j[0][1]),e.codecs.forEach(function(a){if("RTX"===a.name.toUpperCase()&&a.parameters.apt){var d={ssrc:i,codecPayloadType:parseInt(a.parameters.apt,10),rtx:{ssrc:b}};c.push(d),f&&(d=JSON.parse(JSON.stringify(d)),d.fec={ssrc:b,mechanism:g?"red+ulpfec":"red"},c.push(d))}}),0===c.length&&i&&c.push({ssrc:i});var k=d.matchPrefix(a,"b=");return k.length&&(k=0===k[0].indexOf("b=TIAS:")?parseInt(k[0].substr(7),10):0===k[0].indexOf("b=AS:")?1e3*parseInt(k[0].substr(5),10)*.95-16e3:void 0,c.forEach(function(a){a.maxBitrate=k})),c},d.parseRtcpParameters=function(a){var b={},c=d.matchPrefix(a,"a=ssrc:").map(function(a){return d.parseSsrcMedia(a)}).filter(function(a){return"cname"===a.attribute})[0];c&&(b.cname=c.value,b.ssrc=c.ssrc);var e=d.matchPrefix(a,"a=rtcp-rsize");b.reducedSize=e.length>0,b.compound=0===e.length;var f=d.matchPrefix(a,"a=rtcp-mux");return b.mux=f.length>0,b},d.parseMsid=function(a){var b,c=d.matchPrefix(a,"a=msid:");if(1===c.length)return b=c[0].substr(7).split(" "),{stream:b[0],track:b[1]};var e=d.matchPrefix(a,"a=ssrc:").map(function(a){return d.parseSsrcMedia(a)}).filter(function(a){return"msid"===a.attribute});return e.length>0?(b=e[0].value.split(" "),{stream:b[0],track:b[1]}):void 0},d.generateSessionId=function(){return Math.random().toString().substr(2,21)},d.writeSessionBoilerplate=function(a,b){var c,e=void 0!==b?b:2;return c=a?a:d.generateSessionId(),"v=0\r\no=thisisadapterortc "+c+" "+e+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},d.writeMediaSection=function(a,b,c,e){var f=d.writeRtpDescription(a.kind,b);if(f+=d.writeIceParameters(a.iceGatherer.getLocalParameters()),f+=d.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),"offer"===c?"actpass":"active"),f+="a=mid:"+a.mid+"\r\n",f+=a.direction?"a="+a.direction+"\r\n":a.rtpSender&&a.rtpReceiver?"a=sendrecv\r\n":a.rtpSender?"a=sendonly\r\n":a.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",a.rtpSender){var g="msid:"+e.id+" "+a.rtpSender.track.id+"\r\n";f+="a="+g,f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" "+g,a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" "+g,f+="a=ssrc-group:FID "+a.sendEncodingParameters[0].ssrc+" "+a.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return f+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" cname:"+d.localCName+"\r\n",a.rtpSender&&a.sendEncodingParameters[0].rtx&&(f+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" cname:"+d.localCName+"\r\n"),f},d.getDirection=function(a,b){for(var c=d.splitLines(a),e=0;e<c.length;e++)switch(c[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return c[e].substr(2)}return b?d.getDirection(b):"sendrecv"},d.getKind=function(a){var b=d.splitLines(a),c=b[0].split(" ");return c[0].substr(2)},d.isRejected=function(a){return"0"===a.split(" ",2)[1]},d.parseMLine=function(a){var b=d.splitLines(a),c=b[0].substr(2).split(" ");return{kind:c[0],port:parseInt(c[1],10),protocol:c[2],fmt:c.slice(3).join(" ")}},d.parseOLine=function(a){var b=d.matchPrefix(a,"o=")[0],c=b.substr(2).split(" ");return{username:c[0],sessionId:c[1],sessionVersion:parseInt(c[2],10),netType:c[3],addressType:c[4],address:c[5]}},"object"==typeof b&&(b.exports=d)},{}],3:[function(a,b,c){(function(c){"use strict";var d=a("./adapter_factory.js");b.exports=d({window:c.window})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter_factory.js":4}],4:[function(a,b,c){"use strict";var d=a("./utils");b.exports=function(b,c){var e=b&&b.window,f={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var g in c)hasOwnProperty.call(c,g)&&(f[g]=c[g]);var h=d.log,i=d.detectBrowser(e),j=a("./chrome/chrome_shim")||null,k=a("./edge/edge_shim")||null,l=a("./firefox/firefox_shim")||null,m=a("./safari/safari_shim")||null,n=a("./common_shim")||null,o={browserDetails:i,commonShim:n,extractVersion:d.extractVersion,disableLog:d.disableLog,disableWarnings:d.disableWarnings};switch(i.browser){case"chrome":if(!j||!j.shimPeerConnection||!f.shimChrome)return h("Chrome shim is not included in this adapter release."),o;h("adapter.js shimming chrome."),o.browserShim=j,n.shimCreateObjectURL(e),j.shimGetUserMedia(e),j.shimMediaStream(e),j.shimSourceObject(e),j.shimPeerConnection(e),j.shimOnTrack(e),j.shimAddTrackRemoveTrack(e),j.shimGetSendersWithDtmf(e),n.shimRTCIceCandidate(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;case"firefox":if(!l||!l.shimPeerConnection||!f.shimFirefox)return h("Firefox shim is not included in this adapter release."),o;h("adapter.js shimming firefox."),o.browserShim=l,n.shimCreateObjectURL(e),l.shimGetUserMedia(e),l.shimSourceObject(e),l.shimPeerConnection(e),l.shimOnTrack(e),l.shimRemoveStream(e),n.shimRTCIceCandidate(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;case"edge":if(!k||!k.shimPeerConnection||!f.shimEdge)return h("MS edge shim is not included in this adapter release."),o;h("adapter.js shimming edge."),o.browserShim=k,n.shimCreateObjectURL(e),k.shimGetUserMedia(e),k.shimPeerConnection(e),k.shimReplaceTrack(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;case"safari":if(!m||!f.shimSafari)return h("Safari shim is not included in this adapter release."),o;h("adapter.js shimming safari."),o.browserShim=m,n.shimCreateObjectURL(e),m.shimRTCIceServerUrls(e),m.shimCallbacksAPI(e),m.shimLocalStreamsAPI(e),m.shimRemoteStreamsAPI(e),m.shimTrackEventTransceiver(e),m.shimGetUserMedia(e),m.shimCreateOfferLegacy(e),n.shimRTCIceCandidate(e),n.shimMaxMessageSize(e),n.shimSendThrowTypeError(e);break;default:h("Unsupported browser!")}return o}},{"./chrome/chrome_shim":5,"./common_shim":7,"./edge/edge_shim":8,"./firefox/firefox_shim":10,"./safari/safari_shim":12,"./utils":13}],5:[function(a,b,c){"use strict";var d=a("../utils.js"),e=d.log;b.exports={shimGetUserMedia:a("./getusermedia"),shimMediaStream:function(a){a.MediaStream=a.MediaStream||a.webkitMediaStream},shimOnTrack:function(a){if("object"!=typeof a||!a.RTCPeerConnection||"ontrack"in a.RTCPeerConnection.prototype)"RTCRtpTransceiver"in a||d.wrapPeerConnectionEvent(a,"track",function(a){return a.transceiver||(a.transceiver={receiver:a.receiver}),a});else{Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(a){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=a)}});var b=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){var c=this;return c._ontrackpoly||(c._ontrackpoly=function(b){b.stream.addEventListener("addtrack",function(d){var e;e=a.RTCPeerConnection.prototype.getReceivers?c.getReceivers().find(function(a){return a.track&&a.track.id===d.track.id}):{track:d.track};var f=new Event("track");f.track=d.track,f.receiver=e,f.transceiver={receiver:e},f.streams=[b.stream],c.dispatchEvent(f)}),b.stream.getTracks().forEach(function(d){var e;e=a.RTCPeerConnection.prototype.getReceivers?c.getReceivers().find(function(a){return a.track&&a.track.id===d.id}):{track:d};var f=new Event("track");f.track=d,f.receiver=e,f.transceiver={receiver:e},f.streams=[b.stream],c.dispatchEvent(f)})},c.addEventListener("addstream",c._ontrackpoly)),b.apply(c,arguments)}}},shimGetSendersWithDtmf:function(a){if("object"==typeof a&&a.RTCPeerConnection&&!("getSenders"in a.RTCPeerConnection.prototype)&&"createDTMFSender"in a.RTCPeerConnection.prototype){var b=function(a,b){return{track:b,get dtmf(){return void 0===this._dtmf&&("audio"===b.kind?this._dtmf=a.createDTMFSender(b):this._dtmf=null),this._dtmf},_pc:a}};if(!a.RTCPeerConnection.prototype.getSenders){a.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var c=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(a,d){var e=this,f=c.apply(e,arguments);return f||(f=b(e,a),e._senders.push(f)),f};var d=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(a){var b=this;d.apply(b,arguments);var c=b._senders.indexOf(a);c!==-1&&b._senders.splice(c,1)}}var e=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(a){var c=this;c._senders=c._senders||[],e.apply(c,[a]),a.getTracks().forEach(function(a){c._senders.push(b(c,a))})};var f=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){var b=this;b._senders=b._senders||[],f.apply(b,[a]),a.getTracks().forEach(function(a){var c=b._senders.find(function(b){return b.track===a});c&&b._senders.splice(b._senders.indexOf(c),1)})}}else if("object"==typeof a&&a.RTCPeerConnection&&"getSenders"in a.RTCPeerConnection.prototype&&"createDTMFSender"in a.RTCPeerConnection.prototype&&a.RTCRtpSender&&!("dtmf"in a.RTCRtpSender.prototype)){var g=a.RTCPeerConnection.prototype.getSenders;a.RTCPeerConnection.prototype.getSenders=function(){var a=this,b=g.apply(a,[]);return b.forEach(function(b){b._pc=a}),b},Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSourceObject:function(a){var b=a&&a.URL;"object"==typeof a&&(!a.HTMLMediaElement||"srcObject"in a.HTMLMediaElement.prototype||Object.defineProperty(a.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(a){var c=this;return this._srcObject=a,this.src&&b.revokeObjectURL(this.src),a?(this.src=b.createObjectURL(a),a.addEventListener("addtrack",function(){c.src&&b.revokeObjectURL(c.src),c.src=b.createObjectURL(a)}),void a.addEventListener("removetrack",function(){c.src&&b.revokeObjectURL(c.src),c.src=b.createObjectURL(a)})):void(this.src="")}}))},shimAddTrackRemoveTrackWithNative:function(a){a.RTCPeerConnection.prototype.getLocalStreams=function(){var a=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(b){return a._shimmedLocalStreams[b][0]})};var b=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addTrack=function(a,c){if(!c)return b.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var d=b.apply(this,arguments);return this._shimmedLocalStreams[c.id]?this._shimmedLocalStreams[c.id].indexOf(d)===-1&&this._shimmedLocalStreams[c.id].push(d):this._shimmedLocalStreams[c.id]=[c,d],d};var c=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(a){var b=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(function(a){var c=b.getSenders().find(function(b){return b.track===a});if(c)throw new DOMException("Track already exists.","InvalidAccessError")});var d=b.getSenders();c.apply(this,arguments);var e=b.getSenders().filter(function(a){return d.indexOf(a)===-1});this._shimmedLocalStreams[a.id]=[a].concat(e)};var d=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],d.apply(this,arguments)};var e=a.RTCPeerConnection.prototype.removeTrack;a.RTCPeerConnection.prototype.removeTrack=function(a){var b=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(function(c){var d=b._shimmedLocalStreams[c].indexOf(a);d!==-1&&b._shimmedLocalStreams[c].splice(d,1),1===b._shimmedLocalStreams[c].length&&delete b._shimmedLocalStreams[c]}),e.apply(this,arguments)}},shimAddTrackRemoveTrack:function(a){function b(a,b){var c=b.sdp;return Object.keys(a._reverseStreams||[]).forEach(function(b){var d=a._reverseStreams[b],e=a._streams[d.id];c=c.replace(new RegExp(e.id,"g"),d.id)}),new RTCSessionDescription({type:b.type,sdp:c})}function c(a,b){var c=b.sdp;return Object.keys(a._reverseStreams||[]).forEach(function(b){var d=a._reverseStreams[b],e=a._streams[d.id];c=c.replace(new RegExp(d.id,"g"),e.id)}),new RTCSessionDescription({type:b.type,sdp:c})}var e=d.detectBrowser(a);if(a.RTCPeerConnection.prototype.addTrack&&e.version>=65)return this.shimAddTrackRemoveTrackWithNative(a);var f=a.RTCPeerConnection.prototype.getLocalStreams;a.RTCPeerConnection.prototype.getLocalStreams=function(){var a=this,b=f.apply(this);return a._reverseStreams=a._reverseStreams||{},b.map(function(b){return a._reverseStreams[b.id]})};var g=a.RTCPeerConnection.prototype.addStream;a.RTCPeerConnection.prototype.addStream=function(b){var c=this;if(c._streams=c._streams||{},c._reverseStreams=c._reverseStreams||{},b.getTracks().forEach(function(a){var b=c.getSenders().find(function(b){return b.track===a});if(b)throw new DOMException("Track already exists.","InvalidAccessError")}),!c._reverseStreams[b.id]){var d=new a.MediaStream(b.getTracks());c._streams[b.id]=d,c._reverseStreams[d.id]=b,b=d}g.apply(c,[b])};var h=a.RTCPeerConnection.prototype.removeStream;a.RTCPeerConnection.prototype.removeStream=function(a){var b=this;b._streams=b._streams||{},b._reverseStreams=b._reverseStreams||{},h.apply(b,[b._streams[a.id]||a]),delete b._reverseStreams[b._streams[a.id]?b._streams[a.id].id:a.id],delete b._streams[a.id]},a.RTCPeerConnection.prototype.addTrack=function(b,c){var d=this;if("closed"===d.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var e=[].slice.call(arguments,1);if(1!==e.length||!e[0].getTracks().find(function(a){return a===b}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var f=d.getSenders().find(function(a){return a.track===b});if(f)throw new DOMException("Track already exists.","InvalidAccessError");d._streams=d._streams||{},d._reverseStreams=d._reverseStreams||{};var g=d._streams[c.id];if(g)g.addTrack(b),Promise.resolve().then(function(){d.dispatchEvent(new Event("negotiationneeded"))});else{var h=new a.MediaStream([b]);d._streams[c.id]=h,d._reverseStreams[h.id]=c,d.addStream(h)}return d.getSenders().find(function(a){return a.track===b})},["createOffer","createAnswer"].forEach(function(c){var d=a.RTCPeerConnection.prototype[c];a.RTCPeerConnection.prototype[c]=function(){var a=this,c=arguments,e=arguments.length&&"function"==typeof arguments[0];return e?d.apply(a,[function(d){var e=b(a,d);c[0].apply(null,[e])},function(a){c[1]&&c[1].apply(null,a)},arguments[2]]):d.apply(a,arguments).then(function(c){return b(a,c)})}});var i=a.RTCPeerConnection.prototype.setLocalDescription;a.RTCPeerConnection.prototype.setLocalDescription=function(){var a=this;return arguments.length&&arguments[0].type?(arguments[0]=c(a,arguments[0]),i.apply(a,arguments)):i.apply(a,arguments)};var j=Object.getOwnPropertyDescriptor(a.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(a.RTCPeerConnection.prototype,"localDescription",{get:function(){var a=this,c=j.get.apply(this);return""===c.type?c:b(a,c)}}),a.RTCPeerConnection.prototype.removeTrack=function(a){var b=this;if("closed"===b.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!a._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var c=a._pc===b;if(!c)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");b._streams=b._streams||{};var d;Object.keys(b._streams).forEach(function(c){var e=b._streams[c].getTracks().find(function(b){return a.track===b});e&&(d=b._streams[c])}),d&&(1===d.getTracks().length?b.removeStream(b._reverseStreams[d.id]):d.removeTrack(a.track),b.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(a){var b=d.detectBrowser(a);if(!a.RTCPeerConnection&&a.webkitRTCPeerConnection)a.RTCPeerConnection=function(b,c){return e("PeerConnection"),b&&b.iceTransportPolicy&&(b.iceTransports=b.iceTransportPolicy),new a.webkitRTCPeerConnection(b,c)},a.RTCPeerConnection.prototype=a.webkitRTCPeerConnection.prototype,a.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return a.webkitRTCPeerConnection.generateCertificate}});else{var c=a.RTCPeerConnection;a.RTCPeerConnection=function(a,b){if(a&&a.iceServers){for(var e=[],f=0;f<a.iceServers.length;f++){var g=a.iceServers[f];!g.hasOwnProperty("urls")&&g.hasOwnProperty("url")?(d.deprecated("RTCIceServer.url","RTCIceServer.urls"),g=JSON.parse(JSON.stringify(g)),g.urls=g.url,e.push(g)):e.push(a.iceServers[f])}a.iceServers=e}return new c(a,b)},a.RTCPeerConnection.prototype=c.prototype,Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return c.generateCertificate}})}var f=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(a,b,c){var d=this,e=arguments;if(arguments.length>0&&"function"==typeof a)return f.apply(this,arguments);if(0===f.length&&(0===arguments.length||"function"!=typeof arguments[0]))return f.apply(this,[]);var g=function(a){var b={},c=a.result();return c.forEach(function(a){var c={id:a.id,timestamp:a.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[a.type]||a.type};a.names().forEach(function(b){c[b]=a.stat(b)}),b[c.id]=c}),b},h=function(a){return new Map(Object.keys(a).map(function(b){return[b,a[b]]}))};if(arguments.length>=2){var i=function(a){e[1](h(g(a)))};return f.apply(this,[i,arguments[0]])}return new Promise(function(a,b){f.apply(d,[function(b){a(h(g(b)))},b])}).then(b,c)},b.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){var a=arguments,b=this,d=new Promise(function(d,e){c.apply(b,[a[0],d,e])});return a.length<2?d:d.then(function(){a[1].apply(null,[])},function(b){a.length>=3&&a[2].apply(null,[b])})}}),b.version<52&&["createOffer","createAnswer"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){var a=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var b=1===arguments.length?arguments[0]:void 0;return new Promise(function(d,e){c.apply(a,[d,e,b])})}return c.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){return arguments[0]=new("addIceCandidate"===b?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}});var g=a.RTCPeerConnection.prototype.addIceCandidate;a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?g.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}},{"../utils.js":13,"./getusermedia":6}],6:[function(a,b,c){"use strict";var d=a("../utils.js"),e=d.log;b.exports=function(a){var b=d.detectBrowser(a),c=a&&a.navigator,f=function(a){if("object"!=typeof a||a.mandatory||a.optional)return a;var b={};return Object.keys(a).forEach(function(c){if("require"!==c&&"advanced"!==c&&"mediaSource"!==c){var d="object"==typeof a[c]?a[c]:{ideal:a[c]};void 0!==d.exact&&"number"==typeof d.exact&&(d.min=d.max=d.exact);var e=function(a,b){return a?a+b.charAt(0).toUpperCase()+b.slice(1):"deviceId"===b?"sourceId":b};if(void 0!==d.ideal){b.optional=b.optional||[];var f={};"number"==typeof d.ideal?(f[e("min",c)]=d.ideal,b.optional.push(f),f={},f[e("max",c)]=d.ideal,b.optional.push(f)):(f[e("",c)]=d.ideal,b.optional.push(f))}void 0!==d.exact&&"number"!=typeof d.exact?(b.mandatory=b.mandatory||{},b.mandatory[e("",c)]=d.exact):["min","max"].forEach(function(a){void 0!==d[a]&&(b.mandatory=b.mandatory||{},b.mandatory[e(a,c)]=d[a])})}}),a.advanced&&(b.optional=(b.optional||[]).concat(a.advanced)),b},g=function(a,d){if(b.version>=61)return d(a);if(a=JSON.parse(JSON.stringify(a)),a&&"object"==typeof a.audio){var g=function(a,b,c){b in a&&!(c in a)&&(a[c]=a[b],delete a[b])};a=JSON.parse(JSON.stringify(a)),g(a.audio,"autoGainControl","googAutoGainControl"),g(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=f(a.audio)}if(a&&"object"==typeof a.video){var h=a.video.facingMode;h=h&&("object"==typeof h?h:{ideal:h});var i=b.version<66;if(h&&("user"===h.exact||"environment"===h.exact||"user"===h.ideal||"environment"===h.ideal)&&(!c.mediaDevices.getSupportedConstraints||!c.mediaDevices.getSupportedConstraints().facingMode||i)){delete a.video.facingMode;var j;if("environment"===h.exact||"environment"===h.ideal?j=["back","rear"]:"user"!==h.exact&&"user"!==h.ideal||(j=["front"]),j)return c.mediaDevices.enumerateDevices().then(function(b){b=b.filter(function(a){return"videoinput"===a.kind});var c=b.find(function(a){return j.some(function(b){return a.label.toLowerCase().indexOf(b)!==-1})});return!c&&b.length&&j.indexOf("back")!==-1&&(c=b[b.length-1]),c&&(a.video.deviceId=h.exact?{exact:c.deviceId}:{ideal:c.deviceId}),a.video=f(a.video),e("chrome: "+JSON.stringify(a)),d(a)})}a.video=f(a.video)}return e("chrome: "+JSON.stringify(a)),d(a)},h=function(a){return{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(a,b,d){g(a,function(a){c.webkitGetUserMedia(a,b,function(a){d&&d(h(a))})})};c.getUserMedia=i;var j=function(a){return new Promise(function(b,d){c.getUserMedia(a,b,d)})};if(c.mediaDevices||(c.mediaDevices={getUserMedia:j,enumerateDevices:function(){return new Promise(function(b){var c={audio:"audioinput",video:"videoinput"};return a.MediaStreamTrack.getSources(function(a){b(a.map(function(a){return{label:a.label,kind:c[a.kind],deviceId:a.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),c.mediaDevices.getUserMedia){var k=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(a){return g(a,function(a){return k(a).then(function(b){if(a.audio&&!b.getAudioTracks().length||a.video&&!b.getVideoTracks().length)throw b.getTracks().forEach(function(a){a.stop()}),new DOMException("","NotFoundError");return b},function(a){return Promise.reject(h(a))})})}}else c.mediaDevices.getUserMedia=function(a){return j(a)};"undefined"==typeof c.mediaDevices.addEventListener&&(c.mediaDevices.addEventListener=function(){e("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof c.mediaDevices.removeEventListener&&(c.mediaDevices.removeEventListener=function(){e("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":13}],7:[function(a,b,c){"use strict";var d=a("sdp"),e=a("./utils");b.exports={shimRTCIceCandidate:function(a){if(a.RTCIceCandidate&&!(a.RTCIceCandidate&&"foundation"in a.RTCIceCandidate.prototype)){var b=a.RTCIceCandidate;a.RTCIceCandidate=function(a){if("object"==typeof a&&a.candidate&&0===a.candidate.indexOf("a=")&&(a=JSON.parse(JSON.stringify(a)),a.candidate=a.candidate.substr(2)),a.candidate&&a.candidate.length){var c=new b(a),e=d.parseCandidate(a.candidate),f=Object.assign(c,e);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new b(a)},a.RTCIceCandidate.prototype=b.prototype,e.wrapPeerConnectionEvent(a,"icecandidate",function(b){return b.candidate&&Object.defineProperty(b,"candidate",{value:new a.RTCIceCandidate(b.candidate),writable:"false"}),b})}},shimCreateObjectURL:function(a){var b=a&&a.URL;if("object"==typeof a&&a.HTMLMediaElement&&"srcObject"in a.HTMLMediaElement.prototype&&b.createObjectURL&&b.revokeObjectURL){var c=b.createObjectURL.bind(b),d=b.revokeObjectURL.bind(b),f=new Map,g=0;b.createObjectURL=function(a){if("getTracks"in a){var b="polyblob:"+ ++g;return f.set(b,a),e.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),b}return c(a)},b.revokeObjectURL=function(a){d(a),f["delete"](a)};var h=Object.getOwnPropertyDescriptor(a.HTMLMediaElement.prototype,"src");Object.defineProperty(a.HTMLMediaElement.prototype,"src",{get:function(){return h.get.apply(this)},set:function(a){return this.srcObject=f.get(a)||null,h.set.apply(this,[a])}});var i=a.HTMLMediaElement.prototype.setAttribute;a.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=f.get(arguments[1])||null),i.apply(this,arguments)}}},shimMaxMessageSize:function(a){if(!a.RTCSctpTransport&&a.RTCPeerConnection){var b=e.detectBrowser(a);"sctp"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"==typeof this._sctp?null:this._sctp}});var c=function(a){var b=d.splitSections(a.sdp);return b.shift(),b.some(function(a){var b=d.parseMLine(a);return b&&"application"===b.kind&&b.protocol.indexOf("SCTP")!==-1})},f=function(a){var b=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===b||b.length<2)return-1;var c=parseInt(b[1],10);return c!==c?-1:c},g=function(a){var c=65536;return"firefox"===b.browser&&(c=b.version<57?a===-1?16384:2147483637:57===b.version?65535:65536),c},h=function(a,c){var e=65536;"firefox"===b.browser&&57===b.version&&(e=65535);var f=d.matchPrefix(a.sdp,"a=max-message-size:");return f.length>0?e=parseInt(f[0].substr(19),10):"firefox"===b.browser&&c!==-1&&(e=2147483637),e},i=a.RTCPeerConnection.prototype.setRemoteDescription;a.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;if(a._sctp=null,c(arguments[0])){var b,d=f(arguments[0]),e=g(d),j=h(arguments[0],d);b=0===e&&0===j?Number.POSITIVE_INFINITY:0===e||0===j?Math.max(e,j):Math.min(e,j);var k={};Object.defineProperty(k,"maxMessageSize",{get:function(){return b}}),a._sctp=k}return i.apply(a,arguments)}}},shimSendThrowTypeError:function(a){if(a.RTCPeerConnection&&"createDataChannel"in a.RTCPeerConnection.prototype){var b=a.RTCPeerConnection.prototype.createDataChannel;a.RTCPeerConnection.prototype.createDataChannel=function(){var a=this,c=b.apply(a,arguments),d=c.send;return c.send=function(){var b=this,c=arguments[0],e=c.length||c.size||c.byteLength;if(e>a.sctp.maxMessageSize)throw new DOMException("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)","TypeError");return d.apply(b,arguments)},c}}}}},{"./utils":13,sdp:2}],8:[function(a,b,c){"use strict";var d=a("../utils"),e=a("rtcpeerconnection-shim");b.exports={shimGetUserMedia:a("./getusermedia"),shimPeerConnection:function(a){var b=d.detectBrowser(a);if(a.RTCIceGatherer&&(a.RTCIceCandidate||(a.RTCIceCandidate=function(a){return a}),a.RTCSessionDescription||(a.RTCSessionDescription=function(a){return a}),b.version<15025)){var c=Object.getOwnPropertyDescriptor(a.MediaStreamTrack.prototype,"enabled");Object.defineProperty(a.MediaStreamTrack.prototype,"enabled",{set:function(a){c.set.call(this,a);var b=new Event("enabled");b.enabled=a,this.dispatchEvent(b)}})}!a.RTCRtpSender||"dtmf"in a.RTCRtpSender.prototype||Object.defineProperty(a.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new a.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),a.RTCDtmfSender&&!a.RTCDTMFSender&&(a.RTCDTMFSender=a.RTCDtmfSender),a.RTCPeerConnection=e(a,b.version)},shimReplaceTrack:function(a){!a.RTCRtpSender||"replaceTrack"in a.RTCRtpSender.prototype||(a.RTCRtpSender.prototype.replaceTrack=a.RTCRtpSender.prototype.setTrack)}}},{"../utils":13,"./getusermedia":9,"rtcpeerconnection-shim":1}],9:[function(a,b,c){"use strict";b.exports=function(a){var b=a&&a.navigator,c=function(a){return{name:{PermissionDeniedError:"NotAllowedError"}[a.name]||a.name,message:a.message,constraint:a.constraint,toString:function(){return this.name}}},d=b.mediaDevices.getUserMedia.bind(b.mediaDevices);b.mediaDevices.getUserMedia=function(a){return d(a)["catch"](function(a){return Promise.reject(c(a))})}}},{}],10:[function(a,b,c){"use strict";var d=a("../utils");b.exports={shimGetUserMedia:a("./getusermedia"),shimOnTrack:function(a){"object"!=typeof a||!a.RTCPeerConnection||"ontrack"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(a){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=a),this.addEventListener("addstream",this._ontrackpoly=function(a){a.stream.getTracks().forEach(function(b){var c=new Event("track");c.track=b,c.receiver={track:b},c.transceiver={receiver:c.receiver},c.streams=[a.stream],this.dispatchEvent(c)}.bind(this))}.bind(this))}}),"object"==typeof a&&a.RTCTrackEvent&&"receiver"in a.RTCTrackEvent.prototype&&!("transceiver"in a.RTCTrackEvent.prototype)&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(a){"object"==typeof a&&(!a.HTMLMediaElement||"srcObject"in a.HTMLMediaElement.prototype||Object.defineProperty(a.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(a){this.mozSrcObject=a}}))},shimPeerConnection:function(a){var b=d.detectBrowser(a);if("object"==typeof a&&(a.RTCPeerConnection||a.mozRTCPeerConnection)){
a.RTCPeerConnection||(a.RTCPeerConnection=function(c,d){if(b.version<38&&c&&c.iceServers){for(var e=[],f=0;f<c.iceServers.length;f++){var g=c.iceServers[f];if(g.hasOwnProperty("urls"))for(var h=0;h<g.urls.length;h++){var i={url:g.urls[h]};0===g.urls[h].indexOf("turn")&&(i.username=g.username,i.credential=g.credential),e.push(i)}else e.push(c.iceServers[f])}c.iceServers=e}return new a.mozRTCPeerConnection(c,d)},a.RTCPeerConnection.prototype=a.mozRTCPeerConnection.prototype,a.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return a.mozRTCPeerConnection.generateCertificate}}),a.RTCSessionDescription=a.mozRTCSessionDescription,a.RTCIceCandidate=a.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(b){var c=a.RTCPeerConnection.prototype[b];a.RTCPeerConnection.prototype[b]=function(){return arguments[0]=new("addIceCandidate"===b?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}});var c=a.RTCPeerConnection.prototype.addIceCandidate;a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?c.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var e=function(a){var b=new Map;return Object.keys(a).forEach(function(c){b.set(c,a[c]),b[c]=a[c]}),b},f={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},g=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(a,c,d){return g.apply(this,[a||null]).then(function(a){if(b.version<48&&(a=e(a)),b.version<53&&!c)try{a.forEach(function(a){a.type=f[a.type]||a.type})}catch(d){if("TypeError"!==d.name)throw d;a.forEach(function(b,c){a.set(c,Object.assign({},b,{type:f[b.type]||b.type}))})}return a}).then(c,d)}}},shimRemoveStream:function(a){!a.RTCPeerConnection||"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(a){var b=this;d.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(c){c.track&&a.getTracks().indexOf(c.track)!==-1&&b.removeTrack(c)})})}}},{"../utils":13,"./getusermedia":11}],11:[function(a,b,c){"use strict";var d=a("../utils"),e=d.log;b.exports=function(a){var b=d.detectBrowser(a),c=a&&a.navigator,f=a&&a.MediaStreamTrack,g=function(a){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[a.name]||a.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[a.message]||a.message,constraint:a.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},h=function(a,d,f){var h=function(a){if("object"!=typeof a||a.require)return a;var b=[];return Object.keys(a).forEach(function(c){if("require"!==c&&"advanced"!==c&&"mediaSource"!==c){var d=a[c]="object"==typeof a[c]?a[c]:{ideal:a[c]};if(void 0===d.min&&void 0===d.max&&void 0===d.exact||b.push(c),void 0!==d.exact&&("number"==typeof d.exact?d.min=d.max=d.exact:a[c]=d.exact,delete d.exact),void 0!==d.ideal){a.advanced=a.advanced||[];var e={};"number"==typeof d.ideal?e[c]={min:d.ideal,max:d.ideal}:e[c]=d.ideal,a.advanced.push(e),delete d.ideal,Object.keys(d).length||delete a[c]}}}),b.length&&(a.require=b),a};return a=JSON.parse(JSON.stringify(a)),b.version<38&&(e("spec: "+JSON.stringify(a)),a.audio&&(a.audio=h(a.audio)),a.video&&(a.video=h(a.video)),e("ff37: "+JSON.stringify(a))),c.mozGetUserMedia(a,d,function(a){f(g(a))})},i=function(a){return new Promise(function(b,c){h(a,b,c)})};if(c.mediaDevices||(c.mediaDevices={getUserMedia:i,addEventListener:function(){},removeEventListener:function(){}}),c.mediaDevices.enumerateDevices=c.mediaDevices.enumerateDevices||function(){return new Promise(function(a){var b=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];a(b)})},b.version<41){var j=c.mediaDevices.enumerateDevices.bind(c.mediaDevices);c.mediaDevices.enumerateDevices=function(){return j().then(void 0,function(a){if("NotFoundError"===a.name)return[];throw a})}}if(b.version<49){var k=c.mediaDevices.getUserMedia.bind(c.mediaDevices);c.mediaDevices.getUserMedia=function(a){return k(a).then(function(b){if(a.audio&&!b.getAudioTracks().length||a.video&&!b.getVideoTracks().length)throw b.getTracks().forEach(function(a){a.stop()}),new DOMException("The object can not be found here.","NotFoundError");return b},function(a){return Promise.reject(g(a))})}}if(!(b.version>55&&"autoGainControl"in c.mediaDevices.getSupportedConstraints())){var l=function(a,b,c){b in a&&!(c in a)&&(a[c]=a[b],delete a[b])},m=c.mediaDevices.getUserMedia.bind(c.mediaDevices);if(c.mediaDevices.getUserMedia=function(a){return"object"==typeof a&&"object"==typeof a.audio&&(a=JSON.parse(JSON.stringify(a)),l(a.audio,"autoGainControl","mozAutoGainControl"),l(a.audio,"noiseSuppression","mozNoiseSuppression")),m(a)},f&&f.prototype.getSettings){var n=f.prototype.getSettings;f.prototype.getSettings=function(){var a=n.apply(this,arguments);return l(a,"mozAutoGainControl","autoGainControl"),l(a,"mozNoiseSuppression","noiseSuppression"),a}}if(f&&f.prototype.applyConstraints){var o=f.prototype.applyConstraints;f.prototype.applyConstraints=function(a){return"audio"===this.kind&&"object"==typeof a&&(a=JSON.parse(JSON.stringify(a)),l(a,"autoGainControl","mozAutoGainControl"),l(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}c.getUserMedia=function(a,e,f){return b.version<44?h(a,e,f):(d.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),void c.mediaDevices.getUserMedia(a).then(e,f))}}},{"../utils":13}],12:[function(a,b,c){"use strict";var d=a("../utils");b.exports={shimLocalStreamsAPI:function(a){if("object"==typeof a&&a.RTCPeerConnection){if("getLocalStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getStreamById=function(a){var b=null;return this._localStreams&&this._localStreams.forEach(function(c){c.id===a&&(b=c)}),this._remoteStreams&&this._remoteStreams.forEach(function(c){c.id===a&&(b=c)}),b}),!("addStream"in a.RTCPeerConnection.prototype)){var b=a.RTCPeerConnection.prototype.addTrack;a.RTCPeerConnection.prototype.addStream=function(a){this._localStreams||(this._localStreams=[]),this._localStreams.indexOf(a)===-1&&this._localStreams.push(a);var c=this;a.getTracks().forEach(function(d){b.call(c,d,a)})},a.RTCPeerConnection.prototype.addTrack=function(a,c){return c&&(this._localStreams?this._localStreams.indexOf(c)===-1&&this._localStreams.push(c):this._localStreams=[c]),b.call(this,a,c)}}"removeStream"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.removeStream=function(a){this._localStreams||(this._localStreams=[]);var b=this._localStreams.indexOf(a);if(b!==-1){this._localStreams.splice(b,1);var c=this,d=a.getTracks();this.getSenders().forEach(function(a){d.indexOf(a.track)!==-1&&c.removeTrack(a)})}})}},shimRemoteStreamsAPI:function(a){"object"==typeof a&&a.RTCPeerConnection&&("getRemoteStreams"in a.RTCPeerConnection.prototype||(a.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),"onaddstream"in a.RTCPeerConnection.prototype||Object.defineProperty(a.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(a){var b=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(function(a){if(b._remoteStreams||(b._remoteStreams=[]),!(b._remoteStreams.indexOf(a)>=0)){b._remoteStreams.push(a);var c=new Event("addstream");c.stream=a,b.dispatchEvent(c)}})})}}))},shimCallbacksAPI:function(a){if("object"==typeof a&&a.RTCPeerConnection){var b=a.RTCPeerConnection.prototype,c=b.createOffer,d=b.createAnswer,e=b.setLocalDescription,f=b.setRemoteDescription,g=b.addIceCandidate;b.createOffer=function(a,b){var d=arguments.length>=2?arguments[2]:arguments[0],e=c.apply(this,[d]);return b?(e.then(a,b),Promise.resolve()):e},b.createAnswer=function(a,b){var c=arguments.length>=2?arguments[2]:arguments[0],e=d.apply(this,[c]);return b?(e.then(a,b),Promise.resolve()):e};var h=function(a,b,c){var d=e.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d};b.setLocalDescription=h,h=function(a,b,c){var d=f.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d},b.setRemoteDescription=h,h=function(a,b,c){var d=g.apply(this,[a]);return c?(d.then(b,c),Promise.resolve()):d},b.addIceCandidate=h}},shimGetUserMedia:function(a){var b=a&&a.navigator;b.getUserMedia||(b.webkitGetUserMedia?b.getUserMedia=b.webkitGetUserMedia.bind(b):b.mediaDevices&&b.mediaDevices.getUserMedia&&(b.getUserMedia=function(a,c,d){b.mediaDevices.getUserMedia(a).then(c,d)}.bind(b)))},shimRTCIceServerUrls:function(a){var b=a.RTCPeerConnection;a.RTCPeerConnection=function(a,c){if(a&&a.iceServers){for(var e=[],f=0;f<a.iceServers.length;f++){var g=a.iceServers[f];!g.hasOwnProperty("urls")&&g.hasOwnProperty("url")?(d.deprecated("RTCIceServer.url","RTCIceServer.urls"),g=JSON.parse(JSON.stringify(g)),g.urls=g.url,delete g.url,e.push(g)):e.push(a.iceServers[f])}a.iceServers=e}return new b(a,c)},a.RTCPeerConnection.prototype=b.prototype,"generateCertificate"in a.RTCPeerConnection&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return b.generateCertificate}})},shimTrackEventTransceiver:function(a){"object"==typeof a&&a.RTCPeerConnection&&"receiver"in a.RTCTrackEvent.prototype&&!a.RTCTransceiver&&Object.defineProperty(a.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(a){var b=a.RTCPeerConnection.prototype.createOffer;a.RTCPeerConnection.prototype.createOffer=function(a){var c=this;if(a){"undefined"!=typeof a.offerToReceiveAudio&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);var d=c.getTransceivers().find(function(a){return a.sender.track&&"audio"===a.sender.track.kind});a.offerToReceiveAudio===!1&&d?"sendrecv"===d.direction?d.setDirection?d.setDirection("sendonly"):d.direction="sendonly":"recvonly"===d.direction&&(d.setDirection?d.setDirection("inactive"):d.direction="inactive"):a.offerToReceiveAudio!==!0||d||c.addTransceiver("audio"),"undefined"!=typeof a.offerToReceiveAudio&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);var e=c.getTransceivers().find(function(a){return a.sender.track&&"video"===a.sender.track.kind});a.offerToReceiveVideo===!1&&e?"sendrecv"===e.direction?e.setDirection("sendonly"):"recvonly"===e.direction&&e.setDirection("inactive"):a.offerToReceiveVideo!==!0||e||c.addTransceiver("video")}return b.apply(c,arguments)}}}},{"../utils":13}],13:[function(a,b,c){"use strict";function d(a,b,c){var d=a.match(b);return d&&d.length>=c&&parseInt(d[c],10)}function e(a,b,c){if(a.RTCPeerConnection){var d=a.RTCPeerConnection.prototype,e=d.addEventListener;d.addEventListener=function(a,d){if(a!==b)return e.apply(this,arguments);var f=function(a){d(c(a))};return this._eventMap=this._eventMap||{},this._eventMap[d]=f,e.apply(this,[a,f])};var f=d.removeEventListener;d.removeEventListener=function(a,c){if(a!==b||!this._eventMap||!this._eventMap[c])return f.apply(this,arguments);var d=this._eventMap[c];return delete this._eventMap[c],f.apply(this,[a,d])},Object.defineProperty(d,"on"+b,{get:function(){return this["_on"+b]},set:function(a){this["_on"+b]&&(this.removeEventListener(b,this["_on"+b]),delete this["_on"+b]),a&&this.addEventListener(b,this["_on"+b]=a)}})}}var f=!0,g=!0;b.exports={extractVersion:d,wrapPeerConnectionEvent:e,disableLog:function(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(f=a,a?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(a){return"boolean"!=typeof a?new Error("Argument type: "+typeof a+". Please use a boolean."):(g=!a,"adapter.js deprecation warnings "+(a?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(f)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(a,b){g&&console.warn(a+" is deprecated, please use "+b+" instead.")},detectBrowser:function(a){var b=a&&a.navigator,c={};if(c.browser=null,c.version=null,"undefined"==typeof a||!a.navigator)return c.browser="Not a browser.",c;if(b.mozGetUserMedia)c.browser="firefox",c.version=d(b.userAgent,/Firefox\/(\d+)\./,1);else if(b.webkitGetUserMedia)c.browser="chrome",c.version=d(b.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(b.mediaDevices&&b.userAgent.match(/Edge\/(\d+).(\d+)$/))c.browser="edge",c.version=d(b.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!a.RTCPeerConnection||!b.userAgent.match(/AppleWebKit\/(\d+)\./))return c.browser="Not a supported browser.",c;c.browser="safari",c.version=d(b.userAgent,/AppleWebKit\/(\d+)\./,1)}return c}}},{}]},{},[3])(3)});
define('core/autoscroll', ["jquery"],function(a){var b={SCROLL_THRESHOLD:30,SCROLL_FREQUENCY:1e3/60,SCROLL_SPEED:.5,scrollingId:null,scrollAmount:0,callback:null,start:function(c){a(window).on("mousemove",b.mouseMove),a(window).on("touchmove",b.touchMove),b.callback=c},stop:function(){a(window).off("mousemove",b.mouseMove),a(window).off("touchmove",b.touchMove),null!==b.scrollingId&&b.stopScrolling()},touchMove:function(a){for(var c=0;c<a.changedTouches.length;c++)b.handleMove(a.changedTouches[c].clientX,a.changedTouches[c].clientY)},mouseMove:function(a){b.handleMove(a.clientX,a.clientY)},handleMove:function(c,d){d<b.SCROLL_THRESHOLD?b.scrollAmount=-Math.min(b.SCROLL_THRESHOLD-d,b.SCROLL_THRESHOLD):d>a(window).height()-b.SCROLL_THRESHOLD?b.scrollAmount=Math.min(d-(a(window).height()-b.SCROLL_THRESHOLD),b.SCROLL_THRESHOLD):b.scrollAmount=0,b.scrollAmount&&null===b.scrollingId?b.startScrolling():b.scrollAmount||null===b.scrollingId||b.stopScrolling()},startScrolling:function(){var c=a(document).height()-a(window).height();b.scrollingId=window.setInterval(function(){var d=a(window).scrollTop(),e=Math.round(b.scrollAmount*b.SCROLL_SPEED);if(d+e<0&&(e=-d),d+e>c&&(e=c-d),0!==e){a(window).scrollTop(d+e);var f=a(window).scrollTop()-d;0!==f&&b.callback&&b.callback(f)}},b.SCROLL_FREQUENCY)},stopScrolling:function(){window.clearInterval(b.scrollingId),b.scrollingId=null}};return{start:b.start,stop:b.stop}});
define('core/pending', ["jquery"],function(a){var b=function(b){var c=a.Deferred();return b=b||{},M.util.js_pending(b),c.then(function(){return M.util.js_complete(b)})["catch"](),c};return b.prototype.constructor=b,b});
define('core/chart_axis', [],function(){function a(){}return a.prototype.POS_DEFAULT=null,a.prototype.POS_BOTTOM="bottom",a.prototype.POS_LEFT="left",a.prototype.POS_RIGHT="right",a.prototype.POS_TOP="top",a.prototype._label=null,a.prototype._labels=null,a.prototype._max=null,a.prototype._min=null,a.prototype._position=null,a.prototype._stepSize=null,a.prototype.create=function(b){var c=new a;return c.setPosition(b.position),c.setLabel(b.label),c.setStepSize(b.stepSize),c.setMax(b.max),c.setMin(b.min),c.setLabels(b.labels),c},a.prototype.getLabel=function(){return this._label},a.prototype.getLabels=function(){return this._labels},a.prototype.getMax=function(){return this._max},a.prototype.getMin=function(){return this._min},a.prototype.getPosition=function(){return this._position},a.prototype.getStepSize=function(){return this._stepSize},a.prototype.setLabel=function(a){this._label=a||null},a.prototype.setLabels=function(a){this._labels=a||null,null===this._labels||null!==this._stepSize||null!==this._min&&0!==this._min||null!==this._max||(this.setStepSize(1),this.setMin(0),this.setMax(a.length-1))},a.prototype.setMax=function(a){this._max="undefined"!=typeof a?a:null},a.prototype.setMin=function(a){this._min="undefined"!=typeof a?a:null},a.prototype.setPosition=function(a){if(a!=this.POS_DEFAULT&&a!=this.POS_BOTTOM&&a!=this.POS_LEFT&&a!=this.POS_RIGHT&&a!=this.POS_TOP)throw new Error("Invalid axis position.");this._position=a},a.prototype.setStepSize=function(a){if("undefined"==typeof a||null===a)a=null;else{if(isNaN(Number(a)))throw new Error("Value for stepSize is not a number.");a=Number(a)}this._stepSize=a},a});
define('core/custom_interaction_events', ["jquery","core/key_codes"],function(a,b){var c={activate:"cie:activate",keyboardActivate:"cie:keyboardactivate",escape:"cie:escape",down:"cie:down",up:"cie:up",home:"cie:home",end:"cie:end",next:"cie:next",previous:"cie:previous",asterix:"cie:asterix",scrollLock:"cie:scrollLock",scrollTop:"cie:scrollTop",scrollBottom:"cie:scrollBottom",ctrlPageUp:"cie:ctrlPageUp",ctrlPageDown:"cie:ctrlPageDown",enter:"cie:enter"},d={},e=function(a,b){return b=b||[],!(!b.length||b.indexOf(a)===-1)},f=function(a){return a.shiftKey||a.metaKey||a.altKey||a.ctrlKey},g=function(b,c){var e="";return c.hasOwnProperty("originalEvent")?(e="triggeredCustom_"+b,c.originalEvent.hasOwnProperty(e)?void 0:(c.originalEvent[e]=!0,void a(c.target).trigger(b,[{originalEvent:c}]))):(e=""+b+c.type+c.timeStamp,void(d.hasOwnProperty(e)||(d[e]=!0,a(c.target).trigger(b,[{originalEvent:c}]))))},h=function(a,b,c){a.off("keydown."+b).on("keydown."+b,function(a){f(a)||a.keyCode==c&&g(b,a)})},i=function(a){a.off("click.cie.activate").on("click.cie.activate",function(a){g(c.activate,a)}),a.off("keydown.cie.activate").on("keydown.cie.activate",function(a){f(a)||a.keyCode!=b.enter&&a.keyCode!=b.space||g(c.activate,a)})},j=function(a){a.off("keydown.cie.keyboardactivate").on("keydown.cie.keyboardactivate",function(a){f(a)||a.keyCode!=b.enter&&a.keyCode!=b.space||g(c.keyboardActivate,a)})},k=function(a){h(a,c.escape,b.escape)},l=function(a){h(a,c.down,b.arrowDown)},m=function(a){h(a,c.up,b.arrowUp)},n=function(a){h(a,c.home,b.home)},o=function(a){h(a,c.end,b.end)},p=function(d){var e="rtl"==a("html").attr("dir")?b.arrowLeft:b.arrowRight;h(d,c.next,e)},q=function(d){var e="rtl"==a("html").attr("dir")?b.arrowRight:b.arrowLeft;h(d,c.previous,e)},r=function(a){h(a,c.asterix,b.asterix)},s=function(a){a.off("scroll.cie.scrollTop").on("scroll.cie.scrollTop",function(b){var d=a.scrollTop();0===d&&g(c.scrollTop,b)})},t=function(a){a.off("scroll.cie.scrollBottom").on("scroll.cie.scrollBottom",function(b){var d=a.scrollTop(),e=a.innerHeight(),f=a[0].scrollHeight;d+e>=f&&g(c.scrollBottom,b)})},u=function(a){a.off("DOMMouseScroll.cie.DOMMouseScrollLock mousewheel.cie.mousewheelLock").on("DOMMouseScroll.cie.DOMMouseScrollLock mousewheel.cie.mousewheelLock",function(b){var d=a.scrollTop(),e=a[0].scrollHeight,f=a.height(),h="DOMMouseScroll"==b.type?b.originalEvent.detail*-40:b.originalEvent.wheelDelta,i=h>0;return!i&&-h>e-f-d?(a.scrollTop(e),b.stopPropagation(),b.preventDefault(),b.returnValue=!1,g(c.scrollLock,b),!1):!(i&&h>d)||(a.scrollTop(0),b.stopPropagation(),b.preventDefault(),b.returnValue=!1,g(c.scrollLock,b),!1)})},v=function(a){a.off("keydown.cie.ctrlpageup").on("keydown.cie.ctrlpageup",function(a){a.ctrlKey&&a.keyCode==b.pageUp&&g(c.ctrlPageUp,a)})},w=function(a){a.off("keydown.cie.ctrlpagedown").on("keydown.cie.ctrlpagedown",function(a){a.ctrlKey&&a.keyCode==b.pageDown&&g(c.ctrlPageDown,a)})},x=function(a){h(a,c.enter,b.enter)},y=function(){var a={};return a[c.activate]=i,a[c.keyboardActivate]=j,a[c.escape]=k,a[c.down]=l,a[c.up]=m,a[c.home]=n,a[c.end]=o,a[c.next]=p,a[c.previous]=q,a[c.asterix]=r,a[c.scrollLock]=u,a[c.scrollTop]=s,a[c.scrollBottom]=t,a[c.ctrlPageUp]=v,a[c.ctrlPageDown]=w,a[c.enter]=x,a},z=function(b,c){b=a(b),c=c||[],b.length&&c.length&&a.each(y(),function(a,d){e(a,c)&&d(b)})};return{define:z,events:c}});
define('core/modal_save_cancel', ["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_events"],function(a,b,c,d,e){var f={SAVE_BUTTON:'[data-action="save"]',CANCEL_BUTTON:'[data-action="cancel"]'},g=function(a){d.call(this,a),this.getFooter().find(f.SAVE_BUTTON).length||b.exception({message:"No save button found"}),this.getFooter().find(f.CANCEL_BUTTON).length||b.exception({message:"No cancel button found"})};return g.prototype=Object.create(d.prototype),g.prototype.constructor=g,g.prototype.setFooter=function(){b.exception({message:"Can not change the footer of a save cancel modal"})},g.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.getModal().on(c.events.activate,f.SAVE_BUTTON,function(b,c){var d=a.Event(e.save);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this)),this.getModal().on(c.events.activate,f.CANCEL_BUTTON,function(b,c){var d=a.Event(e.cancel);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this))},g.prototype.setSaveButtonText=function(a){var b=this.getFooter().find(f.SAVE_BUTTON);this.asyncSet(a,b.text.bind(b))},g});
define('core/user_date', ["jquery","core/ajax","core/sessionstorage","core/config"],function(a,b,c,d){var e=86400,f={},g=function(b){var c=a("html").attr("lang").replace(/-/g,"_");return"core_user_date/"+c+"/"+d.usertimezone+"/"+b.timestamp+"/"+b.format},h=function(a){return c.get(a)},i=function(a,b){c.set(a,b)},j=function(a){return"undefined"!=typeof f[a]},k=function(a){return f[a]},l=function(a,b){f[a]=b},m=function(a){var c=a.map(function(a){return{timestamp:a.timestamp,format:a.format}}),e={methodname:"core_get_user_dates",args:{contextid:d.contextid,timestamps:c}};return b.call([e],!0,!0)[0].then(function(b){b.dates.forEach(function(b,c){var d=a[c],e=g(d);i(e,b),d.deferred.resolve(b)})})["catch"](function(b){a.forEach(function(a){a.deferred.reject(b)})})},n=function(b){var c=[],d=[];return b.forEach(function(b){var e=g(b);if(j(e))d.push(k(e));else{var f=a.Deferred(),i=h(e);i?f.resolve(i):(b.deferred=f,c.push(b)),l(e,f.promise()),d.push(f.promise())}}),c.length&&m(c),a.when.apply(a,d).then(function(){return 1===arguments.length?[arguments[0]]:Array.apply(null,arguments)})},o=function(a,b){var c=a>b,d=Math.abs(a-b),f=c?Math.floor(d/e):Math.ceil(d/e),g=f*e,h=c?b+g:b-g;return h};return{get:n,getUserMidnightForTimestamp:o}});
define('core/form-cohort-selector', ["core/ajax","jquery"],function(a,b){return{processResults:function(a,c){var d=[],e=0,f=String(b(a).data("exclude")).split(",");for(e=0;e<c.cohorts.length;e++)f.indexOf(String(c.cohorts[e].id))===-1&&d.push({value:c.cohorts[e].id,label:c.cohorts[e].name});return d},transport:function(c,d,e,f){var g=b(c),h=null;"undefined"==typeof d&&(d="");var i=g.data("contextid"),j={query:d,includes:"parents",limitfrom:0,limitnum:100,context:{contextid:i}},k=[{methodname:"core_cohort_search_cohorts",args:j}];h=a.call(k),b.when.apply(b.when,h).done(function(a){e(a)}).fail(f)}}});
define('core/chart_builder', ["jquery"],function(a){var b={make:function(b){var c=a.Deferred();return require(["core/chart_"+b.type],function(a){var d=a.prototype.create(a,b);c.resolve(d)}),c.promise()}};return b});
define('core/chart_output_chartjs', ["jquery","core/chartjs","core/chart_axis","core/chart_bar","core/chart_output_base","core/chart_line","core/chart_pie","core/chart_series"],function(a,b,c,d,e,f,g,h){function i(){e.prototype.constructor.apply(this,arguments),this._canvas=this._node,"CANVAS"!=this._canvas.prop("tagName")&&(this._canvas=a("<canvas>"),this._node.append(this._canvas)),this._build()}var j=function(a,b){return"axis-"+a+"-"+b};return i.prototype=Object.create(e.prototype),i.prototype._config=null,i.prototype._chartjs=null,i.prototype._canvas=null,i.prototype._build=function(){this._config=this._makeConfig(),this._chartjs=new b(this._canvas[0],this._config)},i.prototype._cleanData=function(b){return b instanceof Array?b.map(function(b){return a("<span>").html(b).text()}):a("<span>").html(b).text()},i.prototype._getChartType=function(){var a=this._chart.getType();return this._chart.getType()===d.prototype.TYPE&&this._chart.getHorizontal()===!0?a="horizontalBar":this._chart.getType()===g.prototype.TYPE&&this._chart.getDoughnut()===!0&&(a="doughnut"),a},i.prototype._makeAxisConfig=function(a,b,d){var e={id:j(b,d)};return a.getPosition()!==c.prototype.POS_DEFAULT&&(e.position=a.getPosition()),null!==a.getLabel()&&(e.scaleLabel={display:!0,labelString:this._cleanData(a.getLabel())}),null!==a.getStepSize()&&(e.ticks=e.ticks||{},e.ticks.stepSize=a.getStepSize()),null!==a.getMax()&&(e.ticks=e.ticks||{},e.ticks.max=a.getMax()),null!==a.getMin()&&(e.ticks=e.ticks||{},e.ticks.min=a.getMin()),e},i.prototype._makeConfig=function(){var a={type:this._getChartType(),data:{labels:this._cleanData(this._chart.getLabels()),datasets:this._makeDatasetsConfig()},options:{title:{display:null!==this._chart.getTitle(),text:this._cleanData(this._chart.getTitle())}}};return this._chart.getXAxes().forEach(function(b,c){var d=b.getLabels();a.options.scales=a.options.scales||{},a.options.scales.xAxes=a.options.scales.xAxes||[],a.options.scales.xAxes[c]=this._makeAxisConfig(b,"x",c),null!==d&&(a.options.scales.xAxes[c].ticks.callback=function(a,b){return d[b]||""}),a.options.scales.xAxes[c].stacked=this._isStacked()}.bind(this)),this._chart.getYAxes().forEach(function(b,c){var d=b.getLabels();a.options.scales=a.options.scales||{},a.options.scales.yAxes=a.options.scales.yAxes||[],a.options.scales.yAxes[c]=this._makeAxisConfig(b,"y",c),null!==d&&(a.options.scales.yAxes[c].ticks.callback=function(a){return d[parseInt(a,10)]||""}),a.options.scales.yAxes[c].stacked=this._isStacked()}.bind(this)),a.options.tooltips={callbacks:{label:this._makeTooltip.bind(this)}},a},i.prototype._makeDatasetsConfig=function(){var a=this._chart.getSeries().map(function(a){var b=a.hasColoredValues()?a.getColors():a.getColor(),c={label:this._cleanData(a.getLabel()),data:a.getValues(),type:a.getType(),fill:!1,backgroundColor:b,borderColor:this._chart.getType()==g.prototype.TYPE?"#fff":b,lineTension:this._isSmooth(a)?.3:0};return null!==a.getXAxis()&&(c.xAxisID=j("x",a.getXAxis())),null!==a.getYAxis()&&(c.yAxisID=j("y",a.getYAxis())),c}.bind(this));return a},i.prototype._makeTooltip=function(a,b){var c=this._chart.getSeries()[a.datasetIndex],d=c.getLabel(),e=c.getLabels(),f=b.datasets[a.datasetIndex].data,g=f[a.index],h=[];if(""==a.xLabel&&""==a.yLabel){var i=this._cleanData(this._chart.getLabels());h.push(i[a.index])}return null!==e?h.push(this._cleanData(e[a.index])):h.push(this._cleanData(d)+": "+g),h},i.prototype._isSmooth=function(a){var b=!1;return this._chart.getType()===f.prototype.TYPE?(b=a.getSmooth(),null===b&&(b=this._chart.getSmooth())):a.getType()===h.prototype.TYPE_LINE&&(b=a.getSmooth()),b},i.prototype._isStacked=function(){var a=!1;return this._chart.getType()===d.prototype.TYPE&&(a=this._chart.getStacked()),a},i.prototype.update=function(){a.extend(!0,this._config,this._makeConfig()),this._chartjs.update()},i});
define('core/pubsub', [],function(){var a={},b=function(b,c){a[b]=a[b]||[],a[b].push(c)},c=function(b,c){if(a[b])for(var d=0;d<a[b].length;d++)if(a[b][d]===c){a[b].splice(d,1);break}},d=function(b,c){a[b]&&a[b].forEach(function(a){a(c)})};return{subscribe:b,unsubscribe:c,publish:d}});
define('core/paged_content_paging_bar', ["jquery","core/custom_interaction_events","core/paged_content_events","core/str","core/pubsub"],function(a,b,c,d,e){var f={ROOT:'[data-region="paging-bar"]',PAGE:"[data-page]",PAGE_ITEM:'[data-region="page-item"]',PAGE_LINK:'[data-region="page-link"]',FIRST_BUTTON:'[data-control="first"]',LAST_BUTTON:'[data-control="last"]',NEXT_BUTTON:'[data-control="next"]',PREVIOUS_BUTTON:'[data-control="previous"]'},g=function(a,b){return a.find(f.PAGE_ITEM+'[data-page-number="'+b+'"]')},h=function(a){return a.find(f.NEXT_BUTTON)},i=function(a,b){a.attr("data-last-page-number",b)},j=function(a){return parseInt(a.attr("data-last-page-number"),10)},k=function(a){return parseInt(a.attr("data-active-page-number"),10)},l=function(a,b){a.attr("data-active-page-number",b)},m=function(a){var b=k(a);return!isNaN(b)&&0!=b},n=function(a,b){if(void 0!=b.attr("data-page"))return parseInt(b.attr("data-page-number"),10);var c=1,d=null;switch(b.attr("data-control")){case"first":c=1;break;case"last":c=j(a);break;case"next":d=k(a);var e=j(a);c=e?d&&d<e?d+1:e:d+1;break;case"previous":d=k(a),c=d&&d>1?d-1:1;break;default:c=1}return parseInt(c,10)},o=function(a){return parseInt(a.attr("data-items-per-page"),10)},p=function(a,b){a.attr("data-items-per-page",b)},q=function(a){a.removeClass("hidden")},r=function(a){a.addClass("hidden")},s=function(a){var b=a.find(f.NEXT_BUTTON),c=a.find(f.LAST_BUTTON);b.addClass("disabled"),b.attr("aria-disabled",!0),c.addClass("disabled"),c.attr("aria-disabled",!0)},t=function(a){var b=a.find(f.NEXT_BUTTON),c=a.find(f.LAST_BUTTON);b.removeClass("disabled"),b.removeAttr("aria-disabled"),c.removeClass("disabled"),c.removeAttr("aria-disabled")},u=function(a){var b=a.find(f.PREVIOUS_BUTTON),c=a.find(f.FIRST_BUTTON);b.addClass("disabled"),b.attr("aria-disabled",!0),c.addClass("disabled"),c.attr("aria-disabled",!0)},v=function(a){var b=a.find(f.PREVIOUS_BUTTON),c=a.find(f.FIRST_BUTTON);b.removeClass("disabled"),b.removeAttr("aria-disabled"),c.removeClass("disabled"),c.removeAttr("aria-disabled")},w=function(a){var b=a.attr("data-aria-label-components-pagination-item"),c=b.split(",").map(function(a){return a.trim()});return c},x=function(a){var b=a.attr("data-aria-label-components-pagination-active-item"),c=b.split(",").map(function(a){return a.trim()});return c},y=function(b,c){var d=0;l(b,0),c.each(function(c,e){var f=c+1;e=a(e),e.attr("data-page-number",f),d++,e.hasClass("active")&&l(b,f)}),i(b,d)},z=function(b){var c=w(b),e=x(b),g=k(b),h=b.find(f.PAGE_ITEM),i=h.map(function(d,f){f=a(f);var h=n(b,f);return h===g?{key:e[0],component:e[1],param:h}:{key:c[0],component:c[1],param:h}});d.get_strings(i).then(function(b){return h.each(function(c,d){d=a(d);var e=b[c];d.attr("aria-label",e),d.find(f.PAGE_LINK).attr("aria-label",e)}),b})["catch"](function(){})},A=function(a,b,d){var h=j(a),i=b==k(a),m=o(a),n=(b-1)*m;if(!i){a.find(f.PAGE_ITEM).removeClass("active").removeAttr("aria-current");var p=g(a,b);p.addClass("active"),p.attr("aria-current",!0),l(a,b)}h&&b>=h?s(a):t(a),b>1?v(a):u(a),z(a),e.publish(d+c.SHOW_PAGES,[{pageNumber:b,limit:m,offset:n}])},B=function(d,g){var h=d.attr("data-ignore-control-while-loading"),k=!1;""==h&&(h=!0),b.define(d,[b.events.activate]),d.on(b.events.activate,f.PAGE_ITEM,function(b,c){if(c.originalEvent.preventDefault(),c.originalEvent.stopPropagation(),!h||!k){var e=a(b.target).closest(f.PAGE_ITEM);if(!e.hasClass("disabled")){var i=n(d,e);A(d,i,g),k=!0}}}),e.subscribe(g+c.ALL_ITEMS_LOADED,function(a){k=!1;var b=j(d);(!b||a<b)&&i(d,a),1===a&&d.attr("data-hide-control-on-single-page")?(r(d),s(d),u(d)):(q(d),s(d))}),e.subscribe(g+c.PAGES_SHOWN,function(){k=!1}),e.subscribe(g+c.SET_ITEMS_PER_PAGE_LIMIT,function(a){p(d,a),i(d,0),l(d,0),q(d),A(d,1,g)})},C=function(b,c){b=a(b);var d=b.find(f.PAGE);if(y(b,d),B(b,c),m(b)){var e=k(b);g(b,e).click(),1==e&&u(b)}else h(b).click()};return{init:C,showPage:A,rootSelector:f.ROOT}});
define('core/chart_pie', ["core/chart_base"],function(a){function b(){a.prototype.constructor.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype.TYPE="pie",b.prototype._doughnut=null,b.prototype.create=function(b,c){var d=a.prototype.create.apply(this,arguments);return d.setDoughnut(c.doughnut),d},b.prototype.addSeries=function(b){if(null===b.getColor()){for(var c=[],d=this.getConfigColorSet()||a.prototype.COLORSET,e=0;e<b.getCount();e++)c.push(d[e%d.length]);b.setColors(c)}return a.prototype.addSeries.apply(this,arguments)},b.prototype.getDoughnut=function(){return this._doughnut},b.prototype.setDoughnut=function(a){this._doughnut=Boolean(a)},b.prototype._validateSeries=function(){if(this._series.length>=1)throw new Error("Pie charts only support one serie.");return a.prototype._validateSeries.apply(this,arguments)},b});
define('core/icon_system_standard', ["core/icon_system","core/url","core/mustache"],function(a,b,c){var d=function(){a.apply(this,arguments)};return d.prototype=Object.create(a.prototype),d.prototype.renderIcon=function(a,d,e,f){var g=b.imageUrl(a,d),h={attributes:[{name:"src",value:g},{name:"alt",value:e},{name:"title",value:e}]},i=c.render(f,h);return i.trim()},d.prototype.getTemplateName=function(){return"core/pix_icon"},d});
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define('core/popper', b):a.Popper=b()}(this,function(){"use strict";function a(a){var b=!1;return function(){b||(b=!0,Promise.resolve().then(function(){b=!1,a()}))}}function b(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},ha))}}function c(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function d(a,b){if(1!==a.nodeType)return[];var c=window.getComputedStyle(a,null);return b?c[b]:c}function e(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function f(a){if(!a)return window.document.body;switch(a.nodeName){case"HTML":case"BODY":return a.ownerDocument.body;case"#document":return a.body}var b=d(a),c=b.overflow,g=b.overflowX,h=b.overflowY;return/(auto|scroll)/.test(c+h+g)?a:f(e(a))}function g(a){var b=a&&a.offsetParent,c=b&&b.nodeName;return c&&"BODY"!==c&&"HTML"!==c?["TD","TABLE"].indexOf(b.nodeName)!==-1&&"static"===d(b,"position")?g(b):b:a?a.ownerDocument.documentElement:window.document.documentElement}function h(a){var b=a.nodeName;return"BODY"!==b&&("HTML"===b||g(a.firstElementChild)===a)}function i(a){return null!==a.parentNode?i(a.parentNode):a}function j(a,b){if(!(a&&a.nodeType&&b&&b.nodeType))return window.document.documentElement;var c=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,d=c?a:b,e=c?b:a,f=document.createRange();f.setStart(d,0),f.setEnd(e,0);var k=f.commonAncestorContainer;if(a!==k&&b!==k||d.contains(e))return h(k)?k:g(k);var l=i(a);return l.host?j(l.host,b):j(a,i(b).host)}function k(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",c="top"===b?"scrollTop":"scrollLeft",d=a.nodeName;if("BODY"===d||"HTML"===d){var e=a.ownerDocument.documentElement,f=a.ownerDocument.scrollingElement||e;return f[c]}return a[c]}function l(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=k(b,"top"),e=k(b,"left"),f=c?-1:1;return a.top+=d*f,a.bottom+=d*f,a.left+=e*f,a.right+=e*f,a}function m(a,b){var c="x"===b?"Left":"Top",d="Left"===c?"Right":"Bottom";return+a["border"+c+"Width"].split("px")[0]+ +a["border"+d+"Width"].split("px")[0]}function n(a,b,c,d){return Math.max(b["offset"+a],b["scroll"+a],c["client"+a],c["offset"+a],c["scroll"+a],ma()?c["offset"+a]+d["margin"+("Height"===a?"Top":"Left")]+d["margin"+("Height"===a?"Bottom":"Right")]:0)}function o(){var a=window.document.body,b=window.document.documentElement,c=ma()&&window.getComputedStyle(b);return{height:n("Height",a,b,c),width:n("Width",a,b,c)}}function p(a){return qa({},a,{right:a.left+a.width,bottom:a.top+a.height})}function q(a){var b={};if(ma())try{b=a.getBoundingClientRect();var c=k(a,"top"),e=k(a,"left");b.top+=c,b.left+=e,b.bottom+=c,b.right+=e}catch(f){}else b=a.getBoundingClientRect();var g={left:b.left,top:b.top,width:b.right-b.left,height:b.bottom-b.top},h="HTML"===a.nodeName?o():{},i=h.width||a.clientWidth||g.right-g.left,j=h.height||a.clientHeight||g.bottom-g.top,l=a.offsetWidth-i,n=a.offsetHeight-j;if(l||n){var q=d(a);l-=m(q,"x"),n-=m(q,"y"),g.width-=l,g.height-=n}return p(g)}function r(a,b){var c=ma(),e="HTML"===b.nodeName,g=q(a),h=q(b),i=f(a),j=d(b),k=+j.borderTopWidth.split("px")[0],m=+j.borderLeftWidth.split("px")[0],n=p({top:g.top-h.top-k,left:g.left-h.left-m,width:g.width,height:g.height});if(n.marginTop=0,n.marginLeft=0,!c&&e){var o=+j.marginTop.split("px")[0],r=+j.marginLeft.split("px")[0];n.top-=k-o,n.bottom-=k-o,n.left-=m-r,n.right-=m-r,n.marginTop=o,n.marginLeft=r}return(c?b.contains(i):b===i&&"BODY"!==i.nodeName)&&(n=l(n,b)),n}function s(a){var b=a.ownerDocument.documentElement,c=r(a,b),d=Math.max(b.clientWidth,window.innerWidth||0),e=Math.max(b.clientHeight,window.innerHeight||0),f=k(b),g=k(b,"left"),h={top:f-c.top+c.marginTop,left:g-c.left+c.marginLeft,width:d,height:e};return p(h)}function t(a){var b=a.nodeName;return"BODY"!==b&&"HTML"!==b&&("fixed"===d(a,"position")||t(e(a)))}function u(a,b,c,d){var g={top:0,left:0},h=j(a,b);if("viewport"===d)g=s(h);else{var i=void 0;"scrollParent"===d?(i=f(e(a)),"BODY"===i.nodeName&&(i=a.ownerDocument.documentElement)):i="window"===d?a.ownerDocument.documentElement:d;var k=r(i,h);if("HTML"!==i.nodeName||t(h))g=k;else{var l=o(),m=l.height,n=l.width;g.top+=k.top-k.marginTop,g.bottom=m+k.top,g.left+=k.left-k.marginLeft,g.right=n+k.left}}return g.left+=c,g.top+=c,g.right-=c,g.bottom-=c,g}function v(a){var b=a.width,c=a.height;return b*c}function w(a,b,c,d,e){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(a.indexOf("auto")===-1)return a;var g=u(c,d,f,e),h={top:{width:g.width,height:b.top-g.top},right:{width:g.right-b.right,height:g.height},bottom:{width:g.width,height:g.bottom-b.bottom},left:{width:b.left-g.left,height:g.height}},i=Object.keys(h).map(function(a){return qa({key:a},h[a],{area:v(h[a])})}).sort(function(a,b){return b.area-a.area}),j=i.filter(function(a){var b=a.width,d=a.height;return b>=c.clientWidth&&d>=c.clientHeight}),k=j.length>0?j[0].key:i[0].key,l=a.split("-")[1];return k+(l?"-"+l:"")}function x(a,b,c){var d=j(b,c);return r(c,d)}function y(a){var b=window.getComputedStyle(a),c=parseFloat(b.marginTop)+parseFloat(b.marginBottom),d=parseFloat(b.marginLeft)+parseFloat(b.marginRight),e={width:a.offsetWidth+d,height:a.offsetHeight+c};return e}function z(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function A(a,b,c){c=c.split("-")[0];var d=y(a),e={width:d.width,height:d.height},f=["right","left"].indexOf(c)!==-1,g=f?"top":"left",h=f?"left":"top",i=f?"height":"width",j=f?"width":"height";return e[g]=b[g]+b[i]/2-d[i]/2,c===h?e[h]=b[h]-d[j]:e[h]=b[z(h)],e}function B(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function C(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var d=B(a,function(a){return a[b]===c});return a.indexOf(d)}function D(a,b,d){var e=void 0===d?a:a.slice(0,C(a,"name",d));return e.forEach(function(a){a["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var d=a["function"]||a.fn;a.enabled&&c(d)&&(b.offsets.popper=p(b.offsets.popper),b.offsets.reference=p(b.offsets.reference),b=d(b,a))}),b}function E(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=x(this.state,this.popper,this.reference),a.placement=w(this.options.placement,a.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),a.originalPlacement=a.placement,a.offsets.popper=A(this.popper,a.offsets.reference,a.placement),a.offsets.popper.position="absolute",a=D(this.modifiers,a),this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}function F(a,b){return a.some(function(a){var c=a.name,d=a.enabled;return d&&c===b})}function G(a){for(var b=[!1,"ms","Webkit","Moz","O"],c=a.charAt(0).toUpperCase()+a.slice(1),d=0;d<b.length-1;d++){var e=b[d],f=e?""+e+c:a;if("undefined"!=typeof window.document.body.style[f])return f}return null}function H(){return this.state.isDestroyed=!0,F(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[G("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function I(a){var b=a.ownerDocument;return b?b.defaultView:window}function J(a,b,c,d){var e="BODY"===a.nodeName,g=e?a.ownerDocument.defaultView:a;g.addEventListener(b,c,{passive:!0}),e||J(f(g.parentNode),b,c,d),d.push(g)}function K(a,b,c,d){c.updateBound=d,I(a).addEventListener("resize",c.updateBound,{passive:!0});var e=f(a);return J(e,"scroll",c.updateBound,c.scrollParents),c.scrollElement=e,c.eventsEnabled=!0,c}function L(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}function M(a,b){return I(a).removeEventListener("resize",b.updateBound),b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)}),b.updateBound=null,b.scrollParents=[],b.scrollElement=null,b.eventsEnabled=!1,b}function N(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=M(this.reference,this.state))}function O(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function P(a,b){Object.keys(b).forEach(function(c){var d="";["width","height","top","right","bottom","left"].indexOf(c)!==-1&&O(b[c])&&(d="px"),a.style[c]=b[c]+d})}function Q(a,b){Object.keys(b).forEach(function(c){var d=b[c];d!==!1?a.setAttribute(c,b[c]):a.removeAttribute(c)})}function R(a){return P(a.instance.popper,a.styles),Q(a.instance.popper,a.attributes),a.arrowElement&&Object.keys(a.arrowStyles).length&&P(a.arrowElement,a.arrowStyles),a}function S(a,b,c,d,e){var f=x(e,b,a),g=w(c.placement,f,b,a,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);return b.setAttribute("x-placement",g),P(b,{position:"absolute"}),c}function T(a,b){var c=b.x,d=b.y,e=a.offsets.popper,f=B(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==f&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h=void 0!==f?f:b.gpuAcceleration,i=g(a.instance.popper),j=q(i),k={position:e.position},l={left:Math.floor(e.left),top:Math.floor(e.top),bottom:Math.floor(e.bottom),right:Math.floor(e.right)},m="bottom"===c?"top":"bottom",n="right"===d?"left":"right",o=G("transform"),p=void 0,r=void 0;if(r="bottom"===m?-j.height+l.bottom:l.top,p="right"===n?-j.width+l.right:l.left,h&&o)k[o]="translate3d("+p+"px, "+r+"px, 0)",k[m]=0,k[n]=0,k.willChange="transform";else{var s="bottom"===m?-1:1,t="right"===n?-1:1;k[m]=r*s,k[n]=p*t,k.willChange=m+", "+n}var u={"x-placement":a.placement};return a.attributes=qa({},u,a.attributes),a.styles=qa({},k,a.styles),a.arrowStyles=qa({},a.offsets.arrow,a.arrowStyles),a}function U(a,b,c){var d=B(a,function(a){var c=a.name;return c===b}),e=!!d&&a.some(function(a){return a.name===c&&a.enabled&&a.order<d.order});if(!e){var f="`"+b+"`",g="`"+c+"`";console.warn(g+" modifier is required by "+f+" modifier in order to work, be sure to include it before "+f+"!")}return e}function V(a,b){if(!U(a.instance.modifiers,"arrow","keepTogether"))return a;var c=b.element;if("string"==typeof c){if(c=a.instance.popper.querySelector(c),!c)return a}else if(!a.instance.popper.contains(c))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),a;var e=a.placement.split("-")[0],f=a.offsets,g=f.popper,h=f.reference,i=["left","right"].indexOf(e)!==-1,j=i?"height":"width",k=i?"Top":"Left",l=k.toLowerCase(),m=i?"left":"top",n=i?"bottom":"right",o=y(c)[j];h[n]-o<g[l]&&(a.offsets.popper[l]-=g[l]-(h[n]-o)),h[l]+o>g[n]&&(a.offsets.popper[l]+=h[l]+o-g[n]);var q=h[l]+h[j]/2-o/2,r=d(a.instance.popper,"margin"+k).replace("px",""),s=q-p(a.offsets.popper)[l]-r;return s=Math.max(Math.min(g[j]-o,s),0),a.arrowElement=c,a.offsets.arrow={},a.offsets.arrow[l]=Math.round(s),a.offsets.arrow[m]="",a}function W(a){return"end"===a?"start":"start"===a?"end":a}function X(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=sa.indexOf(a),d=sa.slice(c+1).concat(sa.slice(0,c));return b?d.reverse():d}function Y(a,b){if(F(a.instance.modifiers,"inner"))return a;if(a.flipped&&a.placement===a.originalPlacement)return a;var c=u(a.instance.popper,a.instance.reference,b.padding,b.boundariesElement),d=a.placement.split("-")[0],e=z(d),f=a.placement.split("-")[1]||"",g=[];switch(b.behavior){case ta.FLIP:g=[d,e];break;case ta.CLOCKWISE:g=X(d);break;case ta.COUNTERCLOCKWISE:g=X(d,!0);break;default:g=b.behavior}return g.forEach(function(h,i){if(d!==h||g.length===i+1)return a;d=a.placement.split("-")[0],e=z(d);var j=a.offsets.popper,k=a.offsets.reference,l=Math.floor,m="left"===d&&l(j.right)>l(k.left)||"right"===d&&l(j.left)<l(k.right)||"top"===d&&l(j.bottom)>l(k.top)||"bottom"===d&&l(j.top)<l(k.bottom),n=l(j.left)<l(c.left),o=l(j.right)>l(c.right),p=l(j.top)<l(c.top),q=l(j.bottom)>l(c.bottom),r="left"===d&&n||"right"===d&&o||"top"===d&&p||"bottom"===d&&q,s=["top","bottom"].indexOf(d)!==-1,t=!!b.flipVariations&&(s&&"start"===f&&n||s&&"end"===f&&o||!s&&"start"===f&&p||!s&&"end"===f&&q);(m||r||t)&&(a.flipped=!0,(m||r)&&(d=g[i+1]),t&&(f=W(f)),a.placement=d+(f?"-"+f:""),a.offsets.popper=qa({},a.offsets.popper,A(a.instance.popper,a.offsets.reference,a.placement)),a=D(a.instance.modifiers,a,"flip"))}),a}function Z(a){var b=a.offsets,c=b.popper,d=b.reference,e=a.placement.split("-")[0],f=Math.floor,g=["top","bottom"].indexOf(e)!==-1,h=g?"right":"bottom",i=g?"left":"top",j=g?"width":"height";return c[h]<f(d[i])&&(a.offsets.popper[i]=f(d[i])-c[j]),c[i]>f(d[h])&&(a.offsets.popper[i]=f(d[h])),a}function $(a,b,c,d){var e=a.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),f=+e[1],g=e[2];if(!f)return a;if(0===g.indexOf("%")){var h=void 0;switch(g){case"%p":h=c;break;case"%":case"%r":default:h=d}var i=p(h);return i[b]/100*f}if("vh"===g||"vw"===g){var j=void 0;return j="vh"===g?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),j/100*f}return f}function _(a,b,c,d){var e=[0,0],f=["right","left"].indexOf(d)!==-1,g=a.split(/(\+|\-)/).map(function(a){return a.trim()}),h=g.indexOf(B(g,function(a){return a.search(/,|\s/)!==-1}));g[h]&&g[h].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var i=/\s*,\s*|\s+/,j=h!==-1?[g.slice(0,h).concat([g[h].split(i)[0]]),[g[h].split(i)[1]].concat(g.slice(h+1))]:[g];return j=j.map(function(a,d){var e=(1===d?!f:f)?"height":"width",g=!1;return a.reduce(function(a,b){return""===a[a.length-1]&&["+","-"].indexOf(b)!==-1?(a[a.length-1]=b,g=!0,a):g?(a[a.length-1]+=b,g=!1,a):a.concat(b)},[]).map(function(a){return $(a,e,b,c)})}),j.forEach(function(a,b){a.forEach(function(c,d){O(c)&&(e[b]+=c*("-"===a[d-1]?-1:1))})}),e}function aa(a,b){var c=b.offset,d=a.placement,e=a.offsets,f=e.popper,g=e.reference,h=d.split("-")[0],i=void 0;return i=O(+c)?[+c,0]:_(c,f,g,h),"left"===h?(f.top+=i[0],f.left-=i[1]):"right"===h?(f.top+=i[0],f.left+=i[1]):"top"===h?(f.left+=i[0],f.top-=i[1]):"bottom"===h&&(f.left+=i[0],f.top+=i[1]),a.popper=f,a}function ba(a,b){var c=b.boundariesElement||g(a.instance.popper);a.instance.reference===c&&(c=g(c));var d=u(a.instance.popper,a.instance.reference,b.padding,c);b.boundaries=d;var e=b.priority,f=a.offsets.popper,h={primary:function(a){var c=f[a];return f[a]<d[a]&&!b.escapeWithReference&&(c=Math.max(f[a],d[a])),pa({},a,c)},secondary:function(a){var c="right"===a?"left":"top",e=f[c];return f[a]>d[a]&&!b.escapeWithReference&&(e=Math.min(f[c],d[a]-("right"===a?f.width:f.height))),pa({},c,e)}};return e.forEach(function(a){var b=["left","top"].indexOf(a)!==-1?"primary":"secondary";f=qa({},f,h[b](a))}),a.offsets.popper=f,a}function ca(a){var b=a.placement,c=b.split("-")[0],d=b.split("-")[1];if(d){var e=a.offsets,f=e.reference,g=e.popper,h=["bottom","top"].indexOf(c)!==-1,i=h?"left":"top",j=h?"width":"height",k={start:pa({},i,f[i]),end:pa({},i,f[i]+f[j]-g[j])};a.offsets.popper=qa({},g,k[d])}return a}function da(a){if(!U(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=B(a.instance.modifiers,function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(a.hide===!0)return a;a.hide=!0,a.attributes["x-out-of-boundaries"]=""}else{if(a.hide===!1)return a;a.hide=!1,a.attributes["x-out-of-boundaries"]=!1}return a}function ea(a){var b=a.placement,c=b.split("-")[0],d=a.offsets,e=d.popper,f=d.reference,g=["left","right"].indexOf(c)!==-1,h=["top","left"].indexOf(c)===-1;return e[g?"left":"top"]=f[c]-(h?e[g?"width":"height"]:0),a.placement=z(b),a.offsets.popper=p(e),a}for(var fa="undefined"!=typeof window&&"undefined"!=typeof window.document,ga=["Edge","Trident","Firefox"],ha=0,ia=0;ia<ga.length;ia+=1)if(fa&&navigator.userAgent.indexOf(ga[ia])>=0){ha=1;break}var ja=fa&&window.Promise,ka=ja?a:b,la=void 0,ma=function(){return void 0===la&&(la=navigator.appVersion.indexOf("MSIE 10")!==-1),la},na=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},oa=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),pa=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},qa=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ra=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],sa=ra.slice(3),ta={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},ua={shift:{order:100,enabled:!0,fn:ca},offset:{order:200,enabled:!0,fn:aa,offset:0},preventOverflow:{order:300,enabled:!0,fn:ba,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Z},arrow:{order:500,enabled:!0,fn:V,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Y,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ea},hide:{order:800,enabled:!0,fn:da},computeStyle:{order:850,enabled:!0,fn:T,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:R,onLoad:S,gpuAcceleration:void 0}},va={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ua},wa=function(){function a(b,d){var e=this,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};na(this,a),this.scheduleUpdate=function(){return requestAnimationFrame(e.update)},this.update=ka(this.update.bind(this)),this.options=qa({},a.Defaults,f),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=b&&b.jquery?b[0]:b,this.popper=d&&d.jquery?d[0]:d,this.options.modifiers={},Object.keys(qa({},a.Defaults.modifiers,f.modifiers)).forEach(function(b){e.options.modifiers[b]=qa({},a.Defaults.modifiers[b]||{},f.modifiers?f.modifiers[b]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(a){return qa({name:a},e.options.modifiers[a])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(a){a.enabled&&c(a.onLoad)&&a.onLoad(e.reference,e.popper,e.options,a,e.state)}),this.update();var g=this.options.eventsEnabled;g&&this.enableEventListeners(),this.state.eventsEnabled=g}return oa(a,[{key:"update",value:function(){return E.call(this)}},{key:"destroy",value:function(){return H.call(this)}},{key:"enableEventListeners",value:function(){return L.call(this)}},{key:"disableEventListeners",value:function(){return N.call(this)}}]),a}();return wa.Utils=("undefined"!=typeof window?window:global).PopperUtils,wa.placements=ra,wa.Defaults=va,wa});
define('core/config', function(){return M.cfg});
define('core/icon_system_fontawesome', ["core/icon_system","jquery","core/ajax","core/mustache","core/localstorage","core/url"],function(a,b,c,d,e,f){var g=null,h=null,i=function(){a.apply(this,arguments)};return i.prototype=Object.create(a.prototype),i.prototype.init=function(){if(g)return b.when(this);var a=e.get("core/iconmap-fontawesome");return a&&(a=JSON.parse(a)),a?(g=a,b.when(this)):(null===h&&(h=c.call([{methodname:"core_output_load_fontawesome_icon_map",args:[]}],!0,!1)[0]),h.then(function(a){return g={},b.each(a,function(a,b){g[b.component+"/"+b.pix]=b.to}),e.set("core/iconmap-fontawesome",JSON.stringify(g)),this}.bind(this)))},i.prototype.renderIcon=function(a,b,c,e){var h=g[b+"/"+a],i=!1;if("undefined"==typeof h){var j=f.imageUrl(a,b);i={attributes:[{name:"src",value:j},{name:"alt",value:c},{name:"title",value:c}]}}var k={key:h,title:c,alt:c,unmappedIcon:i},l=d.render(e,k);return l.trim()},i.prototype.getTemplateName=function(){return"core/pix_icon_fontawesome"},i});
define('core/paged_content', ["jquery","core/paged_content_pages","core/paged_content_paging_bar","core/paged_content_paging_bar_limit_selector","core/paged_content_paging_dropdown"],function(a,b,c,d,e){var f=function(f,g,h){f=a(f);var i=f.find(b.rootSelector),j=f.find(c.rootSelector),k=f.find(e.rootSelector),l=f.find(d.rootSelector),m=f.attr("id");h&&(m=h),b.init(i,m,g),j.length&&c.init(j,m),l.length&&d.init(l,m),k.length&&e.init(k,m)};return{init:f,rootSelector:'[data-region="paged-content-container"]'}});
define('core/modal_events', [],function(){return{shown:"modal:shown",hidden:"modal:hidden",destroyed:"modal:destroyed",bodyRendered:"modal:bodyRendered",save:"modal-save-cancel:save",cancel:"modal-save-cancel:cancel",yes:"modal-save-cancel:save",no:"modal-save-cancel:cancel"}});
define('core/modal_cancel', ["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_events"],function(a,b,c,d,e){var f={CANCEL_BUTTON:'[data-action="cancel"]'},g=function(a){d.call(this,a),this.getFooter().find(f.CANCEL_BUTTON).length||b.exception({message:"No cancel button found"})};return g.prototype=Object.create(d.prototype),g.prototype.constructor=g,g.prototype.setFooter=function(){b.exception({message:"Can not change the footer of a cancel modal"})},g.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.getModal().on(c.events.activate,f.CANCEL_BUTTON,function(b,c){var d=a.Event(e.cancel);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this))},g});
!function(a,b){"use strict";"function"==typeof define&&define.amd?define('core/loglevel', b):"object"==typeof module&&module.exports?module.exports=b():a.log=b()}(this,function(){"use strict";function a(a,b){var c=a[b];if("function"==typeof c.bind)return c.bind(a);try{return Function.prototype.bind.call(c,a)}catch(d){return function(){return Function.prototype.apply.apply(c,[a,arguments])}}}function b(b){return"debug"===b&&(b="log"),typeof console!==h&&(void 0!==console[b]?a(console,b):void 0!==console.log?a(console,"log"):g)}function c(a,b){for(var c=0;c<i.length;c++){var d=i[c];this[d]=c<a?g:this.methodFactory(d,a,b)}this.log=this.debug}function d(a,b,d){return function(){typeof console!==h&&(c.call(this,b,d),this[a].apply(this,arguments))}}function e(a,c,e){return b(a)||d.apply(this,arguments)}function f(a,b,d){function f(a){var b=(i[a]||"silent").toUpperCase();if(typeof window!==h){try{return void(window.localStorage[l]=b)}catch(c){}try{window.document.cookie=encodeURIComponent(l)+"="+b+";"}catch(c){}}}function g(){var a;if(typeof window!==h){try{a=window.localStorage[l]}catch(b){}if(typeof a===h)try{var c=window.document.cookie,d=c.indexOf(encodeURIComponent(l)+"=");d!==-1&&(a=/^([^;]+)/.exec(c.slice(d))[1])}catch(b){}return void 0===k.levels[a]&&(a=void 0),a}}var j,k=this,l="loglevel";a&&(l+=":"+a),k.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},k.methodFactory=d||e,k.getLevel=function(){return j},k.setLevel=function(b,d){if("string"==typeof b&&void 0!==k.levels[b.toUpperCase()]&&(b=k.levels[b.toUpperCase()]),!("number"==typeof b&&b>=0&&b<=k.levels.SILENT))throw"log.setLevel() called with invalid level: "+b;if(j=b,d!==!1&&f(b),c.call(k,b,a),typeof console===h&&b<k.levels.SILENT)return"No console available for logging"},k.setDefaultLevel=function(a){g()||k.setLevel(a,!1)},k.enableAll=function(a){k.setLevel(k.levels.TRACE,a)},k.disableAll=function(a){k.setLevel(k.levels.SILENT,a)};var m=g();null==m&&(m=null==b?"WARN":b),k.setLevel(m,!1)}var g=function(){},h="undefined",i=["trace","debug","info","warn","error"],j=new f,k={};j.getLogger=function(a){if("string"!=typeof a||""===a)throw new TypeError("You must supply a name when creating a logger.");var b=k[a];return b||(b=k[a]=new f(a,j.getLevel(),j.methodFactory)),b};var l=typeof window!==h?window.log:void 0;return j.noConflict=function(){return typeof window!==h&&window.log===j&&(window.log=l),j},j});
define('core/chart_series', [],function(){function a(a,b){if("string"!=typeof a)throw new Error("Invalid label for series.");if("object"!=typeof b)throw new Error("Values for a series must be an array.");if(b.length<1)throw new Error("Invalid values received for series.");this._colors=[],this._label=a,this._values=b}return a.prototype.TYPE_DEFAULT=null,a.prototype.TYPE_LINE="line",a.prototype._colors=null,a.prototype._label=null,a.prototype._labels=null,a.prototype._smooth=!1,a.prototype._type=a.prototype.TYPE_DEFAULT,a.prototype._values=null,a.prototype._xaxis=null,a.prototype._yaxis=null,a.prototype.create=function(b){var c=new a(b.label,b.values);return c.setType(b.type),c.setXAxis(b.axes.x),c.setYAxis(b.axes.y),c.setLabels(b.labels),b.colors&&b.colors.length>1?c.setColors(b.colors):c.setColor(b.colors[0]),c.setSmooth(b.smooth),c},a.prototype.getColor=function(){return this._colors[0]||null},a.prototype.getColors=function(){return this._colors},a.prototype.getCount=function(){return this._values.length},a.prototype.getLabel=function(){return this._label},a.prototype.getLabels=function(){return this._labels},a.prototype.getSmooth=function(){return this._smooth},a.prototype.getType=function(){return this._type},a.prototype.getValues=function(){return this._values},a.prototype.getXAxis=function(){return this._xaxis},a.prototype.getYAxis=function(){return this._yaxis},a.prototype.hasColoredValues=function(){return this._colors.length==this.getCount()},a.prototype.setColor=function(a){this._colors=[a]},a.prototype.setColors=function(a){if(a&&a.length!=this.getCount())throw new Error("When setting multiple colors there must be one per value.");this._colors=a||[]},a.prototype.setLabels=function(a){this._validateLabels(a),a="undefined"==typeof a?null:a,this._labels=a},a.prototype.setSmooth=function(a){a="undefined"==typeof a?null:a,this._smooth=a},a.prototype.setType=function(a){if(a!=this.TYPE_DEFAULT&&a!=this.TYPE_LINE)throw new Error("Invalid serie type.");this._type=a||null},a.prototype.setXAxis=function(a){this._xaxis=a||null},a.prototype.setYAxis=function(a){this._yaxis=a||null},a.prototype._validateLabels=function(a){if(a&&a.length>0&&a.length!=this.getCount())throw new Error("Series labels must match series values.")},a});
define('core/notification', ["core/yui","jquery","core/log"],function(a,b,c){var d={types:{success:"core/notification_success",info:"core/notification_info",warning:"core/notification_warning",error:"core/notification_error"},fieldName:"user-notifications",fetchNotifications:function(){require(["core/ajax"],function(a){var b=a.call([{methodname:"core_fetch_notifications",args:{contextid:d.contextid}}]);b[0].done(d.addNotifications)})},addNotifications:function(a){a||(a=[]),b.each(a,function(a,b){d.renderNotification(b.template,b.variables)})},setupTargetRegion:function(){var a=b("#"+d.fieldName);if(a.length)return!1;var c=b("<span>").attr("id",d.fieldName);return a=b("#region-main"),a.length?a.prepend(c):(a=b('[role="main"]'),a.length?a.prepend(c):(a=b("body"),a.prepend(c)))},addNotification:function(a){var c=d.types.error;return a=b.extend({closebutton:!0,announce:!0,type:"error"},a),a.template?(c=a.template,delete a.template):a.type&&("undefined"!=typeof d.types[a.type]&&(c=d.types[a.type]),delete a.type),d.renderNotification(c,a)},renderNotification:function(a,e){return"undefined"!=typeof e.message&&e.message?void require(["core/templates"],function(c){c.render(a,e).done(function(a,e){b("#"+d.fieldName).prepend(a),c.runTemplateJS(e)}).fail(d.exception)}):void c.debug("Notification received without content. Skipping.")},alert:function(b,c,d){a.use("moodle-core-notification-alert",function(){var a=new M.core.alert({title:b,message:c,yesLabel:d});a.show()})},confirm:function(b,c,d,e,f,g){a.use("moodle-core-notification-confirm",function(){var a=new M.core.confirm({title:b,question:c,yesLabel:d,noLabel:e});a.on("complete-yes",function(){f()}),g&&a.on("complete-no",function(){g()}),a.show()})},exception:function(b){if("undefined"==typeof b.stack&&(b.stack=""),b.debuginfo&&(b.stack+=b.debuginfo+"\n"),!b.backtrace&&b.stacktrace&&(b.backtrace=b.stacktrace),b.backtrace){b.stack+=b.backtrace;var c=b.backtrace.match(/line ([^ ]*) of/),d=b.backtrace.match(/ of ([^:]*): /);c&&c[1]&&(b.lineNumber=c[1]),d&&d[1]&&(b.fileName=d[1],b.fileName.length>30&&(b.fileName="..."+b.fileName.substr(b.fileName.length-27)))}"undefined"==typeof b.name&&b.errorcode&&(b.name=b.errorcode),a.use("moodle-core-notification-exception",function(){var a=new M.core.exception(b);a.show()})}};return{init:function(a,b){d.contextid=a,d.setupTargetRegion(),d.addNotifications(b),d.fetchNotifications()},fetchNotifications:d.fetchNotifications,addNotification:d.addNotification,alert:d.alert,confirm:d.confirm,exception:d.exception}});
define('core/page_global', ["jquery","core/custom_interaction_events","core/str"],function(a,b,c){var d=function(){var d=a("body");b.define(d,[b.events.activate]),d.on(b.events.activate,"[data-show-active-item]",function(b){var d=a(b.target).closest(".dropdown-item"),e=d.closest("[data-show-active-item]");if(d.hasClass("dropdown-item")&&!d.hasClass("active")){var f=e.find(".dropdown-item");f.removeClass("active"),f.removeAttr("aria-current"),e.attr("data-skip-active-class")||d.addClass("active"),d.attr("aria-current",!0);var g=d.text(),h=e.parent().find('[data-toggle="dropdown"]'),i=h.find("[data-active-item-text]");i.length?i.html(g):h.html(g);var j=e.attr("data-active-item-button-aria-label-components");if(j){var k=j.split(",");k.push(g),c.get_string(k[0].trim(),k[1].trim(),k[2].trim()).then(function(a){return h.attr("aria-label",a),a})["catch"](function(){return!1})}}})},e=function(){d()};return{init:e}});
define('core_calendar/calendar_filter', ["jquery","core_calendar/selectors","core_calendar/events","core/str","core/templates"],function(a,b,c,d,e){var f=function(d){d.on("click",b.eventFilterItem,function(b){var c=a(b.currentTarget);g(c),b.preventDefault()}),a("body").on(c.viewUpdated,function(){var c=d.find(b.eventFilterItem);c.each(function(b,c){if(c=a(c),c.data("eventtype-hidden")){var d=i(c);h(d)}})})},g=function(a){var b=i(a);return b.hidden=!b.hidden,d.get_string("eventtype"+b.eventtype,"calendar").then(function(a){return b.name=a,b}).then(function(a){return e.render("core_calendar/event_filter_key",a)}).then(function(b,c){return e.replaceNode(a,b,c)}).then(function(){h(b)})},h=function(b){M.util.js_pending("month-mini-filterChanged"),a("body").trigger(c.filterChanged,{type:b.eventtype,hidden:b.hidden}),M.util.js_complete("month-mini-filterChanged")},i=function(a){return{eventtype:a.data("eventtype"),hidden:a.data("eventtype-hidden")}};return{init:function(b){b=a(b),f(b)}}});
define('core_calendar/summary_modal', ["jquery","core/str","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_factory","core/modal_events","core_calendar/repository","core_calendar/events","core_calendar/crud"],function(a,b,c,d,e,f,g,h,i,j,k){var l=!1,m={ROOT:"[data-region='summary-modal-container']",EDIT_BUTTON:'[data-action="edit"]',DELETE_BUTTON:'[data-action="delete"]'},n=function(a){e.call(this,a)};return n.TYPE="core_calendar-event_summary",n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.getEditButton=function(){return"undefined"==typeof this.editButton&&(this.editButton=this.getFooter().find(m.EDIT_BUTTON)),this.editButton},n.prototype.getDeleteButton=function(){return"undefined"==typeof this.deleteButton&&(this.deleteButton=this.getFooter().find(m.DELETE_BUTTON)),this.deleteButton},n.prototype.getEventId=function(){return this.getBody().find(m.ROOT).attr("data-event-id")},n.prototype.getEventTitle=function(){return this.getBody().find(m.ROOT).attr("data-event-title")},n.prototype.getEventCount=function(){return this.getBody().find(m.ROOT).attr("data-event-count")},n.prototype.getEditUrl=function(){return this.getBody().find(m.ROOT).attr("data-edit-url")},n.prototype.isActionEvent=function(){return"true"==this.getBody().find(m.ROOT).attr("data-action-event")},n.prototype.registerEventListeners=function(){e.prototype.registerEventListeners.call(this),this.getRoot().on(h.bodyRendered,function(){this.getModal().data({eventTitle:this.getEventTitle(),eventId:this.getEventId(),eventCount:this.getEventCount()}).attr("data-type","event"),k.registerRemove(this.getModal())}.bind(this)),a("body").on(j.deleted,function(){this.hide()}.bind(this)),d.define(this.getEditButton(),[d.events.activate]),this.getEditButton().on(d.events.activate,function(b,c){this.isActionEvent()?a("body").trigger(j.editActionEvent,[this.getEditUrl()]):a("body").trigger(j.editEvent,[this.getEventId()]),this.hide(),b.preventDefault(),b.stopPropagation(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()}.bind(this))},l||(f.register(n.TYPE,n,"core_calendar/event_summary_modal"),l=!0),n});
define('core_calendar/calendar', ["jquery","core/ajax","core/str","core/templates","core/notification","core/custom_interaction_events","core/modal_events","core/modal_factory","core_calendar/modal_event_form","core_calendar/summary_modal","core_calendar/repository","core_calendar/events","core_calendar/view_manager","core_calendar/crud","core_calendar/selectors"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p={ROOT:"[data-region='calendar']",DAY:"[data-region='day']",NEW_EVENT_BUTTON:"[data-action='new-event-button']",DAY_CONTENT:"[data-region='day-content']",LOADING_ICON:".loading-icon",VIEW_DAY_LINK:"[data-action='view-day-link']",CALENDAR_MONTH_WRAPPER:".calendarwrapper",TODAY:".today"},q=function(b,c,f,g){var h=null,i=g.attr("data-day-timestamp");f&&(h=f.attr("data-day-timestamp")),f&&h==i||d.render("core/loading",{}).then(function(a,b){g.find(p.DAY_CONTENT).addClass("hidden"),d.appendNodeContents(g,a,b),f&&(f.find(p.DAY_CONTENT).addClass("hidden"),d.appendNodeContents(f,a,b))}).then(function(){return k.updateEventStartDay(c,i)}).then(function(){a("body").trigger(l.eventMoved,[c,f,g])}).always(function(){var a=g.find(p.LOADING_ICON);if(g.find(p.DAY_CONTENT).removeClass("hidden"),d.replaceNode(a,"",""),f){var b=f.find(p.LOADING_ICON);f.find(p.DAY_CONTENT).removeClass("hidden"),d.replaceNode(b,"","")}}).fail(e.exception)},r=function(b,c){var d=a("body");d.on(l.created,function(){m.reloadCurrentMonth(b)}),d.on(l.deleted,function(){m.reloadCurrentMonth(b)}),d.on(l.updated,function(){m.reloadCurrentMonth(b)}),d.on(l.editActionEvent,function(a,b){window.location.assign(b)}),d.on(l.moveEvent,q),d.on(l.eventMoved,function(){m.reloadCurrentMonth(b)}),n.registerEditListeners(b,c)},s=function(b){b.on("change",o.elements.courseSelector,function(){var c=a(this),d=c.val();m.reloadCurrentMonth(b,d,null).then(function(){return b.find(o.elements.courseSelector).val(d)}).fail(e.exception)});var c=n.registerEventFormModal(b),d=a(p.CALENDAR_MONTH_WRAPPER).data("context-id");r(b,c),d&&b.on("click",p.DAY,function(b){var d=a(b.target);if(!d.is(p.VIEW_DAY_LINK)){var f=a(this).attr("data-new-event-timestamp");c.then(function(a){var b=d.closest(o.wrapper);a.setCourseId(b.data("courseid"));var c=b.data("categoryid");"undefined"!=typeof c&&a.setCategoryId(c),a.setContextId(b.data("contextId")),a.setStartTime(f),a.show()}).fail(e.exception),b.preventDefault()}})};return{init:function(b){b=a(b),m.init(b),s(b)}}});
define('core_calendar/calendar_view', ["jquery","core/str","core/notification","core_calendar/selectors","core_calendar/events","core_calendar/view_manager","core_calendar/repository","core/modal_factory","core_calendar/modal_event_form","core/modal_events","core_calendar/crud"],function(a,b,c,d,e,f,g,h,i,j,k){var l=function(b,g){var h=a("body");k.registerRemove(b);var i="reloadCurrent"+g.charAt(0).toUpperCase()+g.slice(1);h.on(e.created,function(){f[i](b)}),h.on(e.deleted,function(){f[i](b)}),h.on(e.updated,function(){f[i](b)}),b.on("change",d.courseSelector,function(){var e=a(this),g=e.val();f[i](b,g,null).then(function(){return b.find(d.courseSelector).val(g)}).then(function(){window.history.pushState({},"","?view=upcoming&course="+g)}).fail(c.exception)}),h.on(e.filterChanged,function(a,c){var e=b.find(d.eventType[c.type]);1==c.hidden?e.addClass("hidden"):e.removeClass("hidden")});var j=k.registerEventFormModal(b);k.registerEditListeners(b,j)};return{init:function(b,c){b=a(b),f.init(b,c),l(b,c)}}});
define('core_calendar/calendar_mini', ["jquery","core_calendar/selectors","core_calendar/events","core_calendar/view_manager"],function(a,b,c,d){var e=function(b){var d=a("body"),e="."+b.attr("id");d.on(c.created+e,b,f),d.on(c.deleted+e,b,f),d.on(c.updated+e,b,f),d.on(c.eventMoved+e,b,f)},f=function(b){var e=b.data,f=a("body"),g="."+e.attr("id");e.is(":visible")?d.reloadCurrentMonth(e):(f.off(c.created+g),f.off(c.deleted+g),f.off(c.updated+g),f.off(c.eventMoved+g))},g=function(e){a("body").on(c.filterChanged,function(a,c){var d=e.find(b.eventType[c.type]);d.toggleClass("calendar_event_"+c.type,!c.hidden)});var f="."+e.attr("id");a("body").on("change"+f,b.elements.courseSelector,function(){if(e.is(":visible")){var b=a(this),c=b.val(),g=null;d.reloadCurrentMonth(e,c,g)}else a("body").off("change"+f)})};return{init:function(b,c){b=a(b),d.init(b),g(b),e(b),c&&d.reloadCurrentMonth(b)}}});
define('core_calendar/crud', ["jquery","core/str","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_factory","core/modal_events","core_calendar/modal_event_form","core_calendar/repository","core_calendar/events","core_calendar/modal_delete","core_calendar/selectors"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(d,e,f){var i=[{key:"deleteevent",component:"calendar"}];f=parseInt(f,10);var m,n=f>1;n?(i.push({key:"confirmeventseriesdelete",component:"calendar",param:{name:e,count:f}}),m=g.create({type:l.TYPE})):(i.push({key:"confirmeventdelete",component:"calendar",param:e}),m=g.create({type:g.types.SAVE_CANCEL})),m.then(function(a){a.show()}).fail(c.exception);var o=b.get_strings(i),p=a.when(o,m).then(function(b,e){return e.setTitle(b[0]),e.setBody(b[1]),n||e.setSaveButtonText(b[0]),e.getRoot().on(h.save,function(){j.deleteEvent(d,!1).then(function(){a("body").trigger(k.deleted,[d,!1])})["catch"](c.exception)}),e.getRoot().on(k.deleteAll,function(){j.deleteEvent(d,!0).then(function(){a("body").trigger(k.deleted,[d,!0])})["catch"](c.exception)}),e}).fail(c.exception);return p}function o(b){b.on("click",m.actions.remove,function(b){var c=a(this).closest(m.eventItem),d=c.data("eventId"),e=c.data("eventTitle"),f=c.data("eventCount");n(d,e,f),b.preventDefault()})}function p(b,d){return d.then(function(c){a("body").on(k.editEvent,function(a,d){var e=b.find(m.wrapper);c.setEventId(d),c.setContextId(e.data("contextId")),c.show(),a.stopImmediatePropagation()})}).fail(c.exception),d}var q=function(b){var d=g.create({type:i.TYPE,large:!0});return b.on("click",m.actions.create,function(a){d.then(function(a){var c=b.find(m.wrapper),d=c.data("categoryid");"undefined"!=typeof d&&a.setCategoryId(d);var e=b.find(m.today),f=b.find(m.day);!e.length&&f.length&&a.setStartTime(f.data("newEventTimestamp")),a.setContextId(c.data("contextId")),a.setCourseId(c.data("courseid")),a.show()}).fail(c.exception),a.preventDefault()}),b.on("click",m.actions.edit,function(b){b.preventDefault();var e=a(b.currentTarget),f=e.closest(m.wrapper),g=e.closest(m.eventItem);d.then(function(a){a.setEventId(g.data("eventId")),a.setContextId(f.data("contextId")),a.show(),b.stopImmediatePropagation()}).fail(c.exception)}),d};return{registerRemove:o,registerEditListeners:p,registerEventFormModal:q}});
define('core_calendar/event_form', ["jquery","core_calendar/repository"],function(a,b){var c={EVENT_GROUP_COURSE_ID:'[name="groupcourseid"]',EVENT_GROUP_ID:'[name="groupid"]',SELECT_OPTION:"option"},d=function(d){var e=d.find(c.EVENT_GROUP_COURSE_ID),f=function(b){var e=d.find(c.EVENT_GROUP_ID),f=e.find(c.SELECT_OPTION),g=a(b);f.remove(),e.prop("disabled",!1),g.each(function(b,c){a(e).append(a("<option></option>").attr("value",c.id).text(c.name))})};e.on("change",function(){var a=d.find(c.EVENT_GROUP_COURSE_ID).val();b.getCourseGroupsData(a).then(function(a){return f(a)})["catch"](Notification.exception)})},e=function(b){var c=a("#"+b);d(c)};return{init:e}});
define('core_calendar/calendar_threemonth', ["jquery","core/notification","core_calendar/selectors","core_calendar/events","core/templates","core_calendar/view_manager"],function(a,b,c,d,e,f){var g=function(e){var g=a("body");g.on(d.monthChanged,function(a,c,d,f,g){e.queue(function(e){return h(a,c,d,f,g).then(function(){return e()}).fail(b.exception)})});var h=function(b,d,g,h,i){var j=e.find('[data-year="'+d+'"][data-month="'+g+'"]'),k=j.closest(c.calendarPeriods.month),l=e.find(c.calendarPeriods.month),m=a(l[0]),n=a(l[2]),o=a("<span>");o.attr("data-template","core_calendar/threemonth_month"),o.attr("data-includenavigation",!1),o.attr("data-mini",!0);var p=a("<div>");p.hide(),p.append(o);var q,r,s;return k.is(m)?(p.insertBefore(m),q=m.data("previousYear"),r=m.data("previousMonth"),s=n):k.is(n)&&(p.insertAfter(n),q=n.data("nextYear"),r=n.data("nextMonth"),s=m),f.refreshMonthContent(o,q,r,h,i,o).then(function(){var b=a.Deferred(),c=a.Deferred();return s.slideUp("fast",function(){a(this).remove(),b.resolve()}),p.slideDown("fast",function(){c.resolve()}),a.when(b,c)})}};return{init:function(b){b=a(b),g(b)}}});
define('core_calendar/events', [],function(){return{created:"calendar-events:created",deleted:"calendar-events:deleted",deleteAll:"calendar-events:delete_all",updated:"calendar-events:updated",editEvent:"calendar-events:edit_event",editActionEvent:"calendar-events:edit_action_event",eventMoved:"calendar-events:event_moved",dayChanged:"calendar-events:day_changed",monthChanged:"calendar-events:month_changed",moveEvent:"calendar-events:move_event",filterChanged:"calendar-events:filter_changed",viewUpdated:"calendar-events:view_updated"}});
define('core_calendar/modal_delete', ["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_events","core/modal_registry","core_calendar/events"],function(a,b,c,d,e,f,g){var h=!1,i={DELETE_ONE_BUTTON:'[data-action="deleteone"]',DELETE_ALL_BUTTON:'[data-action="deleteall"]',CANCEL_BUTTON:'[data-action="cancel"]'},j=function(a){d.call(this,a)};return j.TYPE="core_calendar-modal_delete",j.prototype=Object.create(d.prototype),j.prototype.constructor=j,j.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.getModal().on(c.events.activate,i.DELETE_ONE_BUTTON,function(b,c){var d=a.Event(e.save);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this)),this.getModal().on(c.events.activate,i.DELETE_ALL_BUTTON,function(b,c){var d=a.Event(g.deleteAll);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this)),this.getModal().on(c.events.activate,i.CANCEL_BUTTON,function(b,c){var d=a.Event(e.cancel);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this))},h||(f.register(j.TYPE,j,"calendar/event_delete_modal"),h=!0),j});
define('core_calendar/month_navigation_drag_drop', ["jquery","core_calendar/drag_drop_data_store"],function(a,b){var c={DRAGGABLE:'[draggable="true"][data-region="event-item"]',DROP_ZONE:'[data-drop-zone="nav-link"]'},d="bg-primary text-white",e="drop-target",f=1e3,g=!1,h=null,i=null,j=function(a,b){b?a.addClass(d):a.removeClass(d)},k=function(){i.find(c.DROP_ZONE).addClass(e)},l=function(){i.find(c.DROP_ZONE).removeClass(e)},m=function(b){var d=a(b.target).closest(c.DROP_ZONE);return d.length?d:null},n=function(b){var d=a(b.target).closest(c.DRAGGABLE);d.length&&k()},o=function(a){if(b.hasEventId()){a.preventDefault();var c=m(a);c&&b.hasEventId()&&(h||(h=setTimeout(function(){c.click(),h=null},f)),j(c,!0),l())}},p=function(a){if(b.hasEventId()){var c=m(a);c&&(h&&(clearTimeout(h),h=null),j(c,!1),k(),a.preventDefault())}},q=function(a){if(b.hasEventId()){l();var c=m(a);c&&(j(c,!1),a.preventDefault())}};return{init:function(c){g||(document.addEventListener("dragstart",n,!1),document.addEventListener("dragover",o,!1),document.addEventListener("dragleave",p,!1),document.addEventListener("drop",q,!1),document.addEventListener("dragend",l,!1),g=!0),i=a(c),b.hasEventId()&&k()}}});
define('core_calendar/view_manager', ["jquery","core/templates","core/str","core/notification","core_calendar/repository","core_calendar/events","core_calendar/selectors","core/modal_factory","core/modal_events","core_calendar/summary_modal"],function(a,b,c,d,e,f,g,h,i,j){var k=function(b){b=a(b),b.on("click",g.links.eventLink,function(b){var c,d=a(b.target),e=null;c=d.is(g.actions.viewEvent)?d:d.closest(g.actions.viewEvent),e=c.length?c.data("eventId"):d.find(g.actions.viewEvent).data("eventId"),e&&(b.preventDefault(),b.stopPropagation(),w(e))}),b.on("click",g.links.navLink,function(c){var d=b.find(g.wrapper),e=d.data("view"),f=d.data("courseid"),h=d.data("categoryid"),i=a(c.currentTarget);"month"===e?(m(b,i.attr("href"),i.data("year"),i.data("month"),f,h),c.preventDefault()):"day"===e&&(q(b,i.attr("href"),i.data("year"),i.data("month"),i.data("day"),f,h),c.preventDefault())})},l=function(c,h,i,j,k,l){r(c),l=l||c.find(g.wrapper),M.util.js_pending([c.get("id"),h,i,j].join("-"));var m=c.data("includenavigation"),n=c.data("mini");return e.getCalendarMonthData(h,i,j,k,m,n).then(function(a){return b.render(c.attr("data-template"),a)}).then(function(a,c){return b.replaceNode(l,a,c)}).then(function(){a("body").trigger(f.viewUpdated)}).always(function(){return M.util.js_complete([c.get("id"),h,i,j].join("-")),s(c)}).fail(d.exception)},m=function(b,c,d,e,g,h){return l(b,d,e,g,h).then(function(){return c.length&&"#"!==c&&window.history.pushState({},"",c),arguments}).then(function(){return a("body").trigger(f.monthChanged,[d,e,g,h]),arguments})},n=function(a,b,c){var d=a.find(g.wrapper).data("year"),e=a.find(g.wrapper).data("month");return"undefined"==typeof b&&(b=a.find(g.wrapper).data("courseid")),"undefined"==typeof c&&(c=a.find(g.wrapper).data("categoryid")),l(a,d,e,b,c)},o=function(c,h,i,j,k,l,m){r(c),m=m||c.find(g.wrapper),M.util.js_pending([c.get("id"),h,i,j,k,l].join("-"));var n=c.data("includenavigation");return e.getCalendarDayData(h,i,j,k,l,n).then(function(a){return b.render(c.attr("data-template"),a)}).then(function(a,c){return b.replaceNode(m,a,c)}).then(function(){a("body").trigger(f.viewUpdated)}).always(function(){return M.util.js_complete([c.get("id"),h,i,j,k,l].join("-")),s(c)}).fail(d.exception)},p=function(a,b,c){var d=a.find(g.wrapper),e=d.data("year"),f=d.data("month"),h=d.data("day");return b||(b=a.find(g.wrapper).data("courseid")),"undefined"==typeof c&&(c=a.find(g.wrapper).data("categoryid")),o(a,e,f,h,b,c)},q=function(b,c,d,e,g,h,i){return o(b,d,e,g,h,i).then(function(){return c.length&&"#"!==c&&window.history.pushState({},"",c),arguments}).then(function(){return a("body").trigger(f.dayChanged,[d,e,g,h,i]),arguments})},r=function(a){var b=a.find(g.containers.loadingIcon);b.removeClass("hidden")},s=function(a){var b=a.find(g.containers.loadingIcon);b.addClass("hidden")},t=function(c,h,i){r(c);var j=c.find(g.wrapper);return"undefined"==typeof h&&(h=c.find(g.wrapper).data("courseid")),"undefined"==typeof i&&(i=c.find(g.wrapper).data("categoryid")),e.getCalendarUpcomingData(h,i).then(function(a){return b.render(c.attr("data-template"),a)}).then(function(a,c){return b.replaceNode(j,a,c)}).then(function(){a("body").trigger(f.viewUpdated)}).always(function(){return s(c)}).fail(d.exception)},u=function(a){switch(a){case"user":return"user";case"site":return"site";case"group":return"group";case"category":return"category";default:return"course"}},v=function(a){return"calendar_event_"+u(a)},w=function(a){var c="";e.getEventById(a).then(function(b){if(!b.event)throw new Error("Error encountered while trying to fetch calendar event with ID: "+a);var d=b.event;return c=v(d.eventtype),x(d.eventtype).then(function(a){return d.eventtype=a,d})}).then(function(a){var d={title:a.name,type:j.TYPE,body:b.render("core_calendar/event_summary_body",a),templateContext:{canedit:a.canedit,candelete:a.candelete,headerclasses:c,isactionevent:a.isactionevent,url:a.url}};return h.create(d)}).done(function(a){a.getRoot().on(i.hidden,function(){a.destroy()}),a.show()}).fail(d.exception)},x=function(a){var b="type"+u(a);return c.get_string(b,"core_calendar").then(function(a){return a})};return{init:function(a){k(a)},reloadCurrentMonth:n,changeMonth:m,refreshMonthContent:l,reloadCurrentDay:p,changeDay:q,refreshDayContent:o,reloadCurrentUpcoming:t}});
define('core_calendar/selectors', [],function(){return{eventFilterItem:"[data-action='filter-event-type']",eventType:{site:"[data-eventtype-site]",category:"[data-eventtype-category]",course:"[data-eventtype-course]",group:"[data-eventtype-group]",user:"[data-eventtype-user]"},popoverType:{site:"[data-popover-eventtype-site]",category:"[data-popover-eventtype-category]",course:"[data-popover-eventtype-course]",group:"[data-popover-eventtype-group]",user:"[data-popover-eventtype-user]"},calendarPeriods:{month:"[data-period='month']"},courseSelector:'select[name="course"]',actions:{create:'[data-action="new-event-button"]',edit:'[data-action="edit"]',remove:'[data-action="delete"]',viewEvent:'[data-action="view-event"]'},elements:{courseSelector:'select[name="course"]'},today:".today",day:'[data-region="day"]',wrapper:".calendarwrapper",eventItem:'[data-type="event"]',links:{navLink:".calendarwrapper .arrow_link",eventLink:"[data-region='event-item']"},containers:{loadingIcon:'[data-region="overlay-icon-container"]'}}});
define('core_calendar/drag_drop_data_store', [],function(){var a=null,b=null,c=null,d=null,e=null,f=null,g=function(b){a=b},h=function(){return a},i=function(){return null!==a},j=function(a){b=a},k=function(){return b},l=function(a){c=a},m=function(){return c},n=function(){return null!==c},o=function(a){d=a},p=function(){return d},q=function(){return null!==d},r=function(a){e=a},s=function(){return e},t=function(a){f=a},u=function(){return f},v=function(){g(null),j(null),l(null),o(null),r(null),t(null)};return{setEventId:g,getEventId:h,hasEventId:i,setDurationDays:j,getDurationDays:k,setMinTimestart:l,getMinTimestart:m,hasMinTimestart:n,setMaxTimestart:o,getMaxTimestart:p,hasMaxTimestart:q,setMinError:r,getMinError:s,setMaxError:t,getMaxError:u,clearAll:v}});
define('core_calendar/modal_event_form', ["jquery","core/event","core/str","core/notification","core/templates","core/custom_interaction_events","core/modal","core/modal_registry","core/fragment","core_calendar/events","core_calendar/repository"],function(a,b,c,d,e,f,g,h,i,j,k){var l=!1,m={SAVE_BUTTON:'[data-action="save"]',LOADING_ICON_CONTAINER:'[data-region="loading-icon-container"]'},n=function(a){g.call(this,a),this.eventId=null,this.startTime=null,this.courseId=null,this.categoryId=null,this.contextId=null,this.reloadingBody=!1,this.reloadingTitle=!1,this.saveButton=this.getFooter().find(m.SAVE_BUTTON)};return n.TYPE="core_calendar-modal_event_form",n.prototype=Object.create(g.prototype),n.prototype.constructor=n,n.prototype.setContextId=function(a){this.contextId=a},n.prototype.getContextId=function(){return this.contextId},n.prototype.setCourseId=function(a){this.courseId=a},n.prototype.getCourseId=function(){return this.courseId},n.prototype.setCategoryId=function(a){this.categoryId=a},n.prototype.getCategoryId=function(){return this.categoryId},n.prototype.hasCourseId=function(){return null!==this.courseId},n.prototype.hasCategoryId=function(){return null!==this.categoryId},n.prototype.setEventId=function(a){this.eventId=a},n.prototype.getEventId=function(){return this.eventId},n.prototype.hasEventId=function(){return null!==this.eventId},n.prototype.setStartTime=function(a){this.startTime=a},n.prototype.getStartTime=function(){return this.startTime},n.prototype.hasStartTime=function(){return null!==this.startTime},n.prototype.getForm=function(){return this.getBody().find("form")},n.prototype.disableButtons=function(){this.saveButton.prop("disabled",!0)},n.prototype.enableButtons=function(){this.saveButton.prop("disabled",!1)},n.prototype.reloadTitleContent=function(){return this.reloadingTitle?this.titlePromise:(this.reloadingTitle=!0,this.hasEventId()?this.titlePromise=c.get_string("editevent","calendar"):this.titlePromise=c.get_string("newevent","calendar"),this.titlePromise.then(function(a){return this.setTitle(a),a}.bind(this)).always(function(){this.reloadingTitle=!1}.bind(this)).fail(d.exception),this.titlePromise)},n.prototype.reloadBodyContent=function(a){if(this.reloadingBody)return this.bodyPromise;this.reloadingBody=!0,this.disableButtons();var b={};return this.hasEventId()&&(b.eventid=this.getEventId()),this.hasStartTime()&&(b.starttime=this.getStartTime()),this.hasCourseId()&&(b.courseid=this.getCourseId()),this.hasCategoryId()&&(b.categoryid=this.getCategoryId()),"undefined"!=typeof a&&(b.formdata=a),this.bodyPromise=i.loadFragment("calendar","event_form",this.getContextId(),b),this.setBody(this.bodyPromise),this.bodyPromise.then(function(){this.enableButtons()}.bind(this)).fail(d.exception).always(function(){this.reloadingBody=!1}.bind(this)).fail(d.exception),this.bodyPromise},n.prototype.reloadAllContent=function(){return a.when(this.reloadTitleContent(),this.reloadBodyContent())},n.prototype.show=function(){this.reloadAllContent(),g.prototype.show.call(this)},n.prototype.hide=function(){g.prototype.hide.call(this),this.setEventId(null),this.setStartTime(null),this.setCourseId(null),this.setCategoryId(null)},n.prototype.getFormData=function(){return this.getForm().serialize()},n.prototype.save=function(){var b=this.saveButton.find(m.LOADING_ICON_CONTAINER);b.removeClass("hidden"),this.disableButtons();var c=this.getFormData();return k.submitCreateUpdateForm(c).then(function(b){if(b.validationerror)return void this.reloadBodyContent(c);var d=this.hasEventId();this.hide(),d?a("body").trigger(j.updated,[b.event]):a("body").trigger(j.created,[b.event])}.bind(this)).always(function(){b.addClass("hidden"),this.enableButtons()}.bind(this)).fail(d.exception)},n.prototype.registerEventListeners=function(){g.prototype.registerEventListeners.call(this),this.getModal().on(f.events.activate,m.SAVE_BUTTON,function(a,b){this.getForm().submit(),b.originalEvent.preventDefault(),a.stopPropagation()}.bind(this)),this.getModal().on("submit",function(a){this.save(),a.preventDefault(),a.stopPropagation()}.bind(this))},l||(h.register(n.TYPE,n,"calendar/modal_event_form"),l=!0),n});
define('core_calendar/repository', ["jquery","core/ajax"],function(a,b){var c=function(a,c){"undefined"==typeof c&&(c=!1);var d={methodname:"core_calendar_delete_calendar_events",args:{events:[{eventid:a,repeat:c}]}};return b.call([d])[0]},d=function(a){var c={methodname:"core_calendar_get_calendar_event_by_id",args:{eventid:a}};return b.call([c])[0]},e=function(a){var c={methodname:"core_calendar_submit_create_update_form",args:{formdata:a}};return b.call([c])[0]},f=function(a,c,d,e,f,g){var h={methodname:"core_calendar_get_calendar_monthly_view",args:{year:a,month:c,courseid:d,categoryid:e,includenavigation:f,mini:g}};return b.call([h])[0]},g=function(a,c,d,e,f){var g={methodname:"core_calendar_get_calendar_day_view",args:{year:a,month:c,day:d,courseid:e,categoryid:f}};return b.call([g])[0]},h=function(a,c){var d={methodname:"core_calendar_update_event_start_day",args:{eventid:a,daytimestamp:c}};return b.call([d])[0]},i=function(a,c){var d={methodname:"core_calendar_get_calendar_upcoming_view",args:{courseid:a,categoryid:c}};return b.call([d])[0]},j=function(a){var c={methodname:"core_group_get_course_groups",args:{courseid:a}};return b.call([c])[0]};return{getEventById:d,deleteEvent:c,updateEventStartDay:h,submitCreateUpdateForm:e,getCalendarMonthData:f,getCalendarDayData:g,getCalendarUpcomingData:i,getCourseGroupsData:j}});
define('core_calendar/month_view_drag_drop', ["jquery","core/notification","core/str","core_calendar/events","core_calendar/drag_drop_data_store"],function(a,b,c,d,e){var f={ROOT:"[data-region='calendar']",DRAGGABLE:'[draggable="true"][data-region="event-item"]',DROP_ZONE:'[data-drop-zone="month-view-day"]',WEEK:'[data-region="month-view-week"]'},g="bg-faded",h="bg-danger text-white",i="bg-primary text-white",j=g+" "+h+" "+i,k=!1,l=function(b){var c=a(b.target).closest(f.DROP_ZONE);return c.length?c:null},m=function(a){var b=a.attr("data-day-timestamp"),c=e.getMinTimestart(),d=e.getMaxTimestart();return!(c&&c>b)&&!(d&&d<b)},n=function(a){var b=a.attr("data-day-timestamp"),c=e.getMinTimestart(),d=e.getMaxTimestart();return c&&c>b?e.getMinError():d&&d<b?e.getMaxError():null},o=function(){a(f.ROOT).find(f.DROP_ZONE).each(function(b,c){c=a(c),c.removeClass(j)})},p=function(a,b,c){"undefined"==typeof c&&(c=e.getDurationDays());var d=m(a);if(a.removeClass(j),b?d?a.addClass(i):a.addClass(h):(a.removeClass(i+" "+h),d||a.addClass(g)),c--,c>0){var k=a.next();if(!k.length){var l=a.closest(f.WEEK).next();l.length&&(k=l.children(f.DROP_ZONE).first())}k.length&&p(k,b,c)}},q=function(){a(f.ROOT).find(f.DROP_ZONE).each(function(b,c){c=a(c),m(c)||p(c,!1)})},r=function(b){var c=a(b.target),d=c.closest(f.DRAGGABLE);if(d.length){var g=d.find("[data-event-id]"),h=g.attr("data-event-id"),i=d.attr("data-min-day-timestamp"),j=d.attr("data-max-day-timestamp"),k=d.attr("data-min-day-error"),l=d.attr("data-max-day-error"),m=f.ROOT+' [data-event-id="'+h+'"]',n=a(m).length;e.setEventId(h),e.setDurationDays(n),i&&e.setMinTimestart(i),j&&e.setMaxTimestart(j),k&&e.setMinError(k),l&&e.setMaxError(l),b.dataTransfer.effectAllowed="move",b.dataTransfer.dropEffect="move",b.dataTransfer.setData("text/plain",h),b.dropEffect="move",q()}},s=function(a){if(e.hasEventId()){a.preventDefault();var b=l(a);b&&p(b,!0)}},t=function(a){if(e.hasEventId()){var b=l(a);b&&(p(b,!1),a.preventDefault())}},u=function(g){if(e.hasEventId()){var h=l(g);if(!h)return e.clearAll(),void o();if(m(h)){var i=e.getEventId(),j=f.ROOT+' [data-event-id="'+i+'"]',k=a(j),p=null;k.length&&(p=k.closest(f.DROP_ZONE)),a("body").trigger(d.moveEvent,[i,p,h])}else{var q=n(h);c.get_string("errorinvaliddate","calendar").then(function(a){b.exception({name:a,message:q||a})})}e.clearAll(),o(),g.preventDefault()}},v=function(){e.clearAll(),o()},w=function(){q()};return{init:function(){k||(document.addEventListener("dragstart",r,!1),document.addEventListener("dragover",s,!1),document.addEventListener("dragleave",t,!1),document.addEventListener("drop",u,!1),document.addEventListener("dragend",v,!1),a("body").on(d.monthChanged,w),k=!0)}}});
define('core_course/events', [],function(){return{favourited:"core_course:favourited",unfavorited:"core_course:unfavorited"}});
define('core_course/actions', ["jquery","core/ajax","core/templates","core/notification","core/str","core/url","core/yui","core/modal_factory","core/modal_events","core/key_codes"],function(a,b,c,d,e,f,g,h,i,j){var k={EDITINPROGRESS:"editinprogress",SECTIONDRAGGABLE:"sectiondraggable",EDITINGMOVE:"editing_move"},l={ACTIVITYLI:"li.activity",ACTIONAREA:".actions",ACTIVITYACTION:"a.cm-edit-action",MENU:".moodle-actionmenu[data-enhance=moodle-core-actionmenu]",TOGGLE:".toggle-display,.dropdown-toggle",SECTIONLI:"li.section",SECTIONACTIONMENU:".section_action_menu",ADDSECTIONS:"#changenumsections [data-add-sections]"};g.use("moodle-course-coursebase",function(){var a=M.course.format.get_section_selector();a&&(l.SECTIONLI=a)});var m=function(a){var b;return g.use("moodle-course-util",function(c){b=c.Moodle.core_course.util.cm.getId(c.Node(a.get(0)))}),b},n=function(a){var b;return g.use("moodle-course-util",function(c){b=c.Moodle.core_course.util.cm.getName(c.Node(a.get(0)))}),b},o=function(a){a.addClass(k.EDITINPROGRESS);var b=a.find(l.ACTIONAREA).get(0);if(b){var c=M.util.add_spinner(g,g.Node(b));return c.show(),c}return null},p=function(a){a.addClass(k.EDITINPROGRESS);var b=a.find(l.SECTIONACTIONMENU).get(0);if(b){var c=M.util.add_spinner(g,g.Node(b));return c.show(),c}return null},q=function(a){var b=M.util.add_lightbox(g,g.Node(a.get(0)));return b.show(),b},r=function(a,b,c){window.setTimeout(function(){a.removeClass(k.EDITINPROGRESS),b&&b.hide()},c)},s=function(a,b){a&&window.setTimeout(function(){a.hide()},b)},t=function(a,b){if(g.use("moodle-course-coursebase",function(){M.course.coursebase.invoke_function("setup_for_resource","#"+a)}),M.core.actionmenu&&M.core.actionmenu.newDOMNode&&M.core.actionmenu.newDOMNode(g.one("#"+a)),b){var c=g.one("#"+a+" "+l.MENU).one(l.TOGGLE);c&&c.simulate&&c.simulate("click")}},u=function(b,c){var d=a("#"+b),e="[data-action="+c+"]";"groupsseparate"!==c&&"groupsvisible"!==c&&"groupsnone"!==c||(e="[data-action=groupsseparate],[data-action=groupsvisible],[data-action=groupsnone]"),d.find(e).is(":visible")?d.find(e).focus():d.find(l.MENU).find(l.TOGGLE).focus()},v=function(b){var c=a("a:visible"),d=!1,e=null;return c.each(function(){if(a.contains(b[0],this))d=!0;else if(d)return e=this,!1}),e},w=function(c,e,f){var g,h=f.attr("data-keepopen"),i=f.attr("data-action"),j=o(c),k=b.call([{methodname:"core_course_edit_module",args:{id:e,action:i,sectionreturn:f.attr("data-sectionreturn")?f.attr("data-sectionreturn"):0}}],!0);"duplicate"===i&&(g=q(f.closest(l.SECTIONLI))),a.when.apply(a,k).done(function(b){var d=v(c);c.replaceWith(b),a("<div>"+b+"</div>").find(l.ACTIVITYLI).each(function(b){t(a(this).attr("id"),h),0===b&&(u(a(this).attr("id"),i),d=null)}),d&&d.focus(),r(c,j,400),s(g,400),c.trigger(a.Event("coursemoduleedited",{ajaxreturn:b,action:i}))}).fail(function(b){r(c,j),s(g);var e=a.Event("coursemoduleeditfailed",{exception:b,action:i});c.trigger(e),e.isDefaultPrevented()||d.exception(b)})},x=function(c,d,e){var f=o(c),g=b.call([{methodname:"core_course_get_module",args:{id:d,sectionreturn:e}}],!0);a.when.apply(a,g).done(function(a){r(c,f,400),C(a)}).fail(function(){r(c,f)})},y=function(a,b){var c=a.attr("class").match(/modtype_([^\s]*)/)[1],f=n(a);e.get_string("pluginname",c).done(function(a){var c={type:a,name:f};e.get_strings([{key:"confirm"},{key:null===f?"deletechecktype":"deletechecktypename",param:c},{key:"yes"},{key:"no"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],b)})})},z=function(a,b){e.get_strings([{key:"confirm"},{key:"yes"},{key:"no"}]).done(function(c){d.confirm(c[0],a,c[1],c[2],b)})},A=function(a,b,f,g,h,i,j){var k=[{key:f,component:g}];return h&&k.push({key:h,component:i}),e.get_strings(k).then(function(d){a.find("span.menu-action-text").html(d[0]),a.attr("title",d[0]);var e="";return h&&(e=d[1],a.attr("title",e)),c.renderPix(b,"core",e)}).then(function(b){a.find(".icon").replaceWith(b),a.attr("data-action",j)})["catch"](d.exception)},B=function(b,c,d,e){var f=c.attr("data-action");if("hide"===f||"show"===f){if("hide"===f?(b.addClass("hidden"),A(c,"i/show","showfromothers","format_"+e,null,null,"show")):(b.removeClass("hidden"),A(c,"i/hide","hidefromothers","format_"+e,null,null,"hide")),void 0!==d.modules)for(var g in d.modules)C(d.modules[g]);void 0!==d.section_availability&&b.find(".section_availability").first().replaceWith(d.section_availability)}else if("setmarker"===f){var h=a(l.SECTIONLI+".current"),i=h.find(l.SECTIONACTIONMENU+" a[data-action=removemarker]");h.removeClass("current"),A(i,"i/marker","highlight","core","markthistopic","core","setmarker"),b.addClass("current"),A(c,"i/marked","highlightoff","core","markedthistopic","core","removemarker")}else"removemarker"===f&&(b.removeClass("current"),A(c,"i/marker","highlight","core","markthistopic","core","setmarker"))},C=function(b){a("<div>"+b+"</div>").find(l.ACTIVITYLI).each(function(){var c=a(this).attr("id");a(l.ACTIVITYLI+"#"+c).replaceWith(b),t(c,!1)})},D=function(c,e,f,g){var h=f.attr("data-action"),i=f.attr("data-sectionreturn")?f.attr("data-sectionreturn"):0,j=p(c),k=b.call([{methodname:"core_course_edit_section",args:{id:e,action:h,sectionreturn:i}}],!0),m=q(c);a.when.apply(a,k).done(function(b){var d=a.parseJSON(b);r(c,j),s(m),c.find(l.SECTIONACTIONMENU).find(l.TOGGLE).focus();var e=a.Event("coursesectionedited",{ajaxreturn:d,action:h});c.trigger(e),e.isDefaultPrevented()||B(c,f,d,g)}).fail(function(b){r(c,j),s(m);var e=a.Event("coursesectioneditfailed",{exception:b,action:h});c.trigger(e),e.isDefaultPrevented()||d.exception(b)})};return g.use("moodle-course-coursebase",function(){M.course.coursebase.register_module({set_visibility_resource_ui:function(b){var c=a(b.element.getDOMNode()),d=m(c);if(d){var e=c.find("."+k.EDITINGMOVE).attr("data-sectionreturn");x(c,d,e)}}})}),{initCoursePage:function(b){a("body").on("click keypress",l.ACTIVITYLI+" "+l.ACTIVITYACTION+"[data-action]",function(b){if("keypress"!==b.type||13===b.keyCode){var c=a(this),d=c.closest(l.ACTIVITYLI),e=c.attr("data-action"),f=m(d);switch(e){case"moveleft":case"moveright":case"delete":case"duplicate":case"hide":case"stealth":case"show":case"groupsseparate":case"groupsvisible":case"groupsnone":break;default:return}f&&(b.preventDefault(),"delete"===e?y(d,function(){w(d,f,c)}):w(d,f,c))}}),a("body").on("click keypress",l.SECTIONLI+" "+l.SECTIONACTIONMENU+"[data-sectionid] a[data-action]",function(c){if("keypress"!==c.type||13===c.keyCode){var d=a(this),e=d.closest(l.SECTIONLI),f=d.closest(l.SECTIONACTIONMENU).attr("data-sectionid");c.preventDefault(),d.attr("data-confirm")?z(d.attr("data-confirm"),function(){D(e,f,d,b)}):D(e,f,d,b)}}),e.get_string("numberweeks").done(function(b){var c=a(l.ADDSECTIONS),d=c.attr("data-add-sections"),e=c.attr("new-sections"),f=a('<div><label for="add_section_numsections"></label> <input id="add_section_numsections" type="number" min="1" max="'+e+'" value="1"></div>');f.find("label").html(b),h.create({title:d,type:h.types.SAVE_CANCEL,body:f.html()},c).done(function(b){var e=a(b.getBody()).find("#add_section_numsections"),f=function(){""+parseInt(e.val())===e.val()&&parseInt(e.val())>=1&&(document.location=c.attr("href")+"&numsections="+parseInt(e.val()))};b.setSaveButtonText(d),b.getRoot().on(i.shown,function(){e.focus().select().on("keydown",function(a){a.keyCode===j.enter&&f()})}),b.getRoot().on(i.save,function(a){a.preventDefault(),f()})})})},replaceSectionActionItem:function(a,b,c,d,e,f,g,h){var i=a.find(l.SECTIONACTIONMENU+" "+b);A(i,c,d,e,f,g,h)}}});
define('core_course/repository', ["jquery","core/ajax"],function(a,b){var c=function(a,c,d,e){var f={classification:a};"undefined"!=typeof c&&(f.limit=c),"undefined"!=typeof d&&(f.offset=d),"undefined"!=typeof e&&(f.sort=e);var g={methodname:"core_course_get_enrolled_courses_by_timeline_classification",args:f};return b.call([g])[0]},d=function(a,c,d,e){var f={};"undefined"!=typeof a&&(f.limit=c),"undefined"!=typeof c&&(f.limit=c),"undefined"!=typeof d&&(f.offset=d),"undefined"!=typeof e&&(f.sort=e);var g={methodname:"core_course_get_recent_courses",args:f};return b.call([g])[0]};return{getEnrolledCoursesByTimelineClassification:c,getLastAccessedCourses:d}});
define('core_form/defaultcustom', ["jquery"],function(a){var b=function(b){var c=a(b.target),d=JSON.parse(c.attr("data-defaultvalue")),e=JSON.parse(c.attr("data-customvalue")),f=c.attr("data-type"),g=c.closest("form"),h=c.attr("name").replace(/\[customize\]$/,"[value]"),i=c.prop("checked")?e:d;"text"===f?g.find('[name="'+h+'"]').val(i):"date_selector"===f?(g.find('[name="'+h+'[day]"]').val(i.day),g.find('[name="'+h+'[month]"]').val(i.month),g.find('[name="'+h+'[year]"]').val(i.year)):"date_time_selector"===f&&(g.find('[name="'+h+'[day]"]').val(i.day),g.find('[name="'+h+'[month]"]').val(i.month),g.find('[name="'+h+'[year]"]').val(i.year),g.find('[name="'+h+'[hour]"]').val(i.hour),g.find('[name="'+h+'[minute]"]').val(i.minute))},c="input[data-defaultcustom=true]";a("body").on("change",c,b)});
define('core_form/filetypes', ["jquery","core/log","core/str","core/modal_factory","core/modal_events","core/ajax","core/templates","core/tree"],function(a,b,c,d,e,f,g,h){"use strict";var i=function(c,d,e,f){if(this.elementId=c,this.elementLabel=d,this.onlyTypes=e,this.allowAll=f,this.inputField=a("#"+c),this.wrapperBrowserTrigger=a('[data-filetypesbrowser="'+c+'"]'),this.wrapperDescriptions=a('[data-filetypesdescriptions="'+c+'"]'),this.wrapperBrowserTrigger.length)return this.inputField.length&&this.wrapperDescriptions.length?void this.prepareBrowserTrigger().then(function(){return this.prepareBrowserModal()}.bind(this)).then(function(){return this.prepareBrowserTree()}.bind(this)):void b.error("core_form/filetypes: Unexpected DOM structure, unable to enhance filetypes field "+c)};return i.prototype.prepareBrowserTrigger=function(){return g.render("core_form/filetypes-trigger",{}).then(function(a){this.wrapperBrowserTrigger.html(a),this.browserTrigger=this.wrapperBrowserTrigger.find('[data-filetypeswidget="browsertrigger"]')}.bind(this))},i.prototype.prepareBrowserModal=function(){return d.create({type:d.types.SAVE_CANCEL,title:this.elementLabel}).then(function(a){this.browserModal=a}.bind(this)).then(function(){this.browserModal.getRoot().on(e.hidden,function(){this.browserTrigger.focus()}.bind(this)),this.browserModal.getRoot().on(e.save,function(){this.saveBrowserModal()}.bind(this))}.bind(this))},i.prototype.prepareBrowserTree=function(){return this.browserTrigger.on("click",function(b){if(b.preventDefault(),!this.inputField.is("[disabled]")){var c=this.loadBrowserModalBody();c.then(function(){this.browserTree=new h(this.browserModal.getBody()),this.browserTree.handleKeyDown=function(a,b){b.keyCode==this.browserTree.keys.enter||b.keyCode==this.browserTree.keys.space?(b.preventDefault(),b.stopPropagation(),this.toggleCheckbox(a.attr("data-filetypesbrowserkey"))):h.prototype.handleKeyDown.call(this.browserTree,a,b)}.bind(this),this.allowAll&&(this.hideOrShowItemsDependingOnAllowAll(this.browserModal.getRoot().find('input[type="checkbox"][data-filetypesbrowserkey="*"]:first')),this.browserModal.getRoot().on("change",'input[type="checkbox"][data-filetypesbrowserkey="*"]',function(b){this.hideOrShowItemsDependingOnAllowAll(a(b.currentTarget))}.bind(this))),this.browserModal.getRoot().on("change",'input[type="checkbox"][data-filetypesbrowserkey]',function(b){var c=a(b.currentTarget),d=c.attr("data-filetypesbrowserkey");this.browserModal.getRoot().find('input[type="checkbox"][data-filetypesbrowserkey="'+d+'"]').prop("checked",c.prop("checked"))}.bind(this))}.bind(this)).then(function(){this.browserModal.show()}.bind(this)),this.browserModal.setBody(c)}}.bind(this)),a.when()},i.prototype.loadBrowserModalBody=function(){var a={onlytypes:this.onlyTypes.join(),allowall:this.allowAll,current:this.inputField.val()};return f.call([{methodname:"core_form_get_filetypes_browser_data",args:a}])[0].then(function(a){return g.render("core_form/filetypes-browser",{elementid:this.elementId,groups:a.groups})}.bind(this))},i.prototype.toggleCheckbox=function(a){var b=this.browserModal.getRoot().find('input[type="checkbox"][data-filetypesbrowserkey="'+a+'"]:first');b.prop("checked",!b.prop("checked"))},i.prototype.saveBrowserModal=function(){if(this.allowAll){var b=this.browserModal.getRoot().find('input[type="checkbox"][data-filetypesbrowserkey="*"]');if(b.length&&b.prop("checked"))return this.inputField.val("*"),void this.updateDescriptions(["*"])}var c=[];this.browserModal.getRoot().find('input[type="checkbox"]').each(function(){var b=a(this),d=b.attr("data-filetypesbrowserkey");b.prop("checked")&&c.push(d)}),c=c.filter(function(a,b,c){return c.indexOf(a)==b}),this.inputField.val(c.join(" ")),this.updateDescriptions(c)},i.prototype.updateDescriptions=function(a){var b=[];a.forEach(function(a){b.push({description:this.browserModal.getRoot().find('[data-filetypesname="'+a+'"]:first').text().trim(),extensions:this.browserModal.getRoot().find('[data-filetypesextensions="'+a+'"]:first').text().trim()})}.bind(this));var c={hasdescriptions:b.length>0,descriptions:b};return g.render("core_form/filetypes-descriptions",c).then(function(a){this.wrapperDescriptions.html(a)}.bind(this))},i.prototype.hideOrShowItemsDependingOnAllowAll=function(a){var b=this.browserModal.getRoot().find('[role="treeitem"][data-filetypesbrowserkey!="*"]');a.prop("checked")?b.hide():b.show()},{init:function(a,b,c,d){new i(a,b,c,d)}}});
define('core_form/passwordunmask', ["jquery","core/templates"],function(a,b){var c=function(b){this.wrapperSelector='[data-passwordunmask="wrapper"][data-passwordunmaskid="'+b+'"]',this.wrapper=a(this.wrapperSelector),this.editorSpace=this.wrapper.find('[data-passwordunmask="editor"]'),this.editLink=this.wrapper.find('a[data-passwordunmask="edit"]'),this.editInstructions=this.wrapper.find('[data-passwordunmask="instructions"]'),this.displayValue=this.wrapper.find('[data-passwordunmask="displayvalue"]'),this.inputFieldLabel=a('label[for="'+b+'"]'),this.inputField=this.editorSpace.find(document.getElementById(b)),this.inputField.attr("type","hidden"),this.inputField.removeClass("hiddenifjs"),this.editInstructions.attr("id")||this.editInstructions.attr("id",b+"_instructions"),this.editInstructions.hide(),this.setDisplayValue(),this.addListeners()};return c.prototype.addListeners=function(){return this.wrapper.on("click keypress",'[data-passwordunmask="edit"]',a.proxy(function(b){"keypress"===b.type&&13!==b.keyCode||(b.stopImmediatePropagation(),b.preventDefault(),"hidden"!==this.inputField.attr("type")?"click"===b.type||a(b.relatedTarget).is(":input")?this.turnEditingOff(!1):this.turnEditingOff(!0):this.turnEditingOn())},this)),this.wrapper.on("click keypress",'[data-passwordunmask="unmask"]',a.proxy(function(a){"keypress"===a.type&&13!==a.keyCode||(a.stopImmediatePropagation(),a.preventDefault(),this.wrapper.data("unmasked",!this.wrapper.data("unmasked")),this.setDisplayValue())},this)),this.wrapper.on("keydown","input",a.proxy(function(a){"keydown"===a.type&&13!==a.keyCode||(a.stopImmediatePropagation(),a.preventDefault(),this.turnEditingOff(!0))},this)),this.inputFieldLabel.on("click",a.proxy(function(a){a.preventDefault(),this.turnEditingOn()},this)),this},c.prototype.checkFocusOut=function(b){this.isEditing()&&window.setTimeout(a.proxy(function(){var c=b.relatedTarget||document.activeElement;this.wrapper.has(a(c)).length||this.turnEditingOff(!a(c).is(":input,a"))},this),100)},c.prototype.passwordVisible=function(){return!!this.wrapper.data("unmasked")},c.prototype.isEditing=function(){return"hidden"!==this.inputField.attr("type")},c.prototype.turnEditingOn=function(){var b=this.getDisplayValue();return this.passwordVisible()?this.inputField.attr("type","text"):this.inputField.attr("type","password"),this.inputField.val(b),this.inputField.attr("size",this.inputField.attr("data-size")),this.editInstructions.length&&(this.inputField.attr("aria-describedby",this.editInstructions.attr("id")),this.editInstructions.show()),this.wrapper.attr("data-passwordunmask-visible",1),this.editLink.hide(),this.inputField.focus().select(),a("body").on("focusout",this.wrapperSelector,a.proxy(this.checkFocusOut,this)),this},c.prototype.turnEditingOff=function(b){a("body").off("focusout",this.wrapperSelector,this.checkFocusOut);var c=this.getDisplayValue();return this.inputField.attr("type","hidden").attr("aria-describedby",null),this.inputField.val(c),this.editInstructions.hide(),this.wrapper.removeAttr("data-passwordunmask-visible"),this.inputField.removeAttr("size"),this.editLink.show(),this.setDisplayValue(),b&&this.editLink.focus(),this},c.prototype.getDisplayValue=function(){return this.inputField.val()},c.prototype.setDisplayValue=function(){var c=this.getDisplayValue();return this.isEditing()&&(this.wrapper.data("unmasked")?this.inputField.attr("type","text"):this.inputField.attr("type","password"),this.inputField.val(c)),c&&this.wrapper.data("unmasked")?this.displayValue.text(c):(c||(c=""),b.render("core_form/element-passwordunmask-fill",{element:{frozen:this.inputField.is("[readonly]"),value:c,valuechars:c.split("")}}).done(a.proxy(function(a,c){this.displayValue.html(a),b.runTemplateJS(c)},this))),this},c});
define('core_grades/edittree_index', ["jquery"],function(a){var b=function(){a("body").on("change",".itemselect.ignoredirty",b.checkMoveMenuState),a("body").on("click",'[data-action="grade_edittree-index-bulkselect"]',b.toggleAllSelectItems),a("body").on("change",".weightoverride",b.toggleWeightInput),a("#menumoveafter").on("change",function(){var b=a(this).closest("form"),c=b.find("#bulkmoveinput");c.val(1),b.submit()}),b.checkMoveMenuState()};return b.toggleWeightInput=function(b){b.preventDefault();var c=a(this),d=c.closest("tr");a('input[name="weight_'+d.data("itemid")+'"]').prop("disabled",!c.prop("checked"))},b.toggleAllSelectItems=function(c){c.preventDefault();var d=a(this),e=d.closest("tr");a("."+e.data("category")+" .itemselect").prop("checked",d.data("checked")),b.checkMoveMenuState()},b.getMoveMenu=function(){return a("#menumoveafter")},b.checkMoveMenuState=function(){var c=b.getMoveMenu();if(!c.length)return!1;var d;return a(".itemselect").each(function(){return d=a(this).prop("checked"),!d}),c.prop("disabled",!d),d},{enhance:b}});
define('core_message/message_drawer_view_contacts_section_requests', ["jquery","core/notification","core/pubsub","core/templates","core_message/message_repository","core_message/message_drawer_events","core_message/message_drawer_lazy_load_list"],function(a,b,c,d,e,f,g){var h={CONTACT_REQUEST:'[data-region="contact-request"]'},i={REQUESTS_LIST:"core_message/message_drawer_view_contacts_body_section_requests_list"},j=function(a,c){var e=c.map(function(a){return{id:a.id,profileimageurl:a.profileimageurl,fullname:a.fullname}});return d.render(i.REQUESTS_LIST,{requests:e}).then(function(b){return a.append(b),b})["catch"](b.exception)},k=function(a,c){return e.getContactRequests(c).then(function(b){return g.setLoadedAll(a,!0),b})["catch"](b.exception)},l=function(a){return function(b){a.find('[data-request-id="'+b.userid+'"]').remove();var c=a.find(h.CONTACT_REQUEST);c.length||(g.showEmptyMessage(a),g.hideContent(a))}},m=function(a){c.subscribe(f.CONTACT_REQUEST_ACCEPTED,l(a)),c.subscribe(f.CONTACT_REQUEST_DECLINED,l(a))},n=function(a){a.attr("data-contacts-init")||(m(a),a.attr("data-contacts-init",!0)),g.show(a,k,j)};return{show:n}});
define('core_message/message_area', ["jquery","core_message/message_area_contacts","core_message/message_area_messages","core_message/message_area_profile","core_message/message_area_tabs","core_message/message_area_search"],function(a,b,c,d,e,f){function g(b,c,d,e){this.node=a(b),this.pollmin=c,this.pollmax=d,this.polltimeout=e,this._init()}return g.prototype.node=null,g.prototype.pollmin=null,g.prototype.pollmax=null,g.prototype.polltimeout=null,g.prototype._init=function(){new b(this),new c(this),new d(this),new e(this),new f(this)},g.prototype.onDelegateEvent=function(a,b,c){this.node.on(a,b,c)},g.prototype.onCustomEvent=function(a,b){this.node.on(a,b)},g.prototype.trigger=function(a,b){"undefined"==typeof b&&(b=""),this.node.trigger(a,b)},g.prototype.find=function(a){return this.node.find(a)},g.prototype.getCurrentUserId=function(){return this.node.data("userid")},g.prototype.showContactsFirst=function(){return!!this.node.data("displaycontacts")},g});
define('core_message/notification_processor', ["jquery"],function(a){var b={STATE_NONE:'[data-state="none"]',STATE_BOTH:'[data-state="both"]',STATE_LOGGED_IN:'[data-state="loggedin"]',STATE_LOGGED_OFF:'[data-state="loggedoff"]'},c=function(b){this.root=a(b)};return c.prototype.getName=function(){return this.root.attr("data-processor-name")},c.prototype.isLoggedInEnabled=function(){var a=this.root.find(b.STATE_NONE).find("input");if(a.prop("checked"))return!1;var c=this.root.find(b.STATE_BOTH).find("input"),d=this.root.find(b.STATE_LOGGED_IN).find("input");return d.prop("checked")||c.prop("checked")},c.prototype.isLoggedOffEnabled=function(){var a=this.root.find(b.STATE_NONE).find("input");if(a.prop("checked"))return!1;var c=this.root.find(b.STATE_BOTH).find("input"),d=this.root.find(b.STATE_LOGGED_OFF).find("input");return d.prop("checked")||c.prop("checked")},c});
define('core_message/message_drawer_view_group_info', ["jquery","core/str","core/templates","core_message/message_repository","core_message/message_drawer_lazy_load_list"],function(a,b,c,d,e){var f=50,g={CONTENT_CONTAINER:'[data-region="group-info-content-container"]',MEMBERS_LIST:'[data-region="members-list"]'},h={CONTENT:"core_message/message_drawer_view_group_info_body_content",MEMBERS_LIST:"core_message/message_drawer_view_group_info_participants_list"},i=function(a){return a.find(g.CONTENT_CONTAINER)},j=function(a,b,d){var e=b.totalMemberCount>50?50:b.totalMemberCount,f=Array.apply(null,Array(e)).map(function(){return!0}),g={name:b.name,subname:b.subname,imageurl:b.imageUrl,placeholders:f,loggedinuser:{id:d}};return c.render(h.CONTENT,g).then(function(b){return i(a).append(b),b})},k=function(a,b,c){return function(f,g){return d.getConversationMembers(a.id,g,b+1,c).then(function(a){return a.length>b?a=a.slice(0,-1):e.setLoadedAll(f,!0),c+=b,a.filter(function(a){return a.id!=g})})}},l=function(a,b){return c.render(h.MEMBERS_LIST,{contacts:b}).then(function(b){return a.append(b),b})},m=function(b,c,d){return b=a(b),i(b).empty(),j(b,c,d).then(function(){var a=e.getRoot(b);e.show(a,k(c,f,0),l)})},n=function(a,c){return b.get_string("messagedrawerviewgroupinfo","core_message",c.name)};return{show:m,description:n}});
define('core_message/message_drawer_view_conversation_patcher', ["jquery","core/user_date","core_message/message_drawer_view_conversation_constants"],function(a,b,c){var d=function(a,c){var d=a.reduce(function(a,d){var e=b.getUserMidnightForTimestamp(d.timeCreated,c);return a.hasOwnProperty(e)?a[e].push(d):a[e]=[d],a},{});return Object.keys(d).map(function(a){return{timestamp:a,messages:d[a]}})},e=function(a,b,c){b=b.slice();var d=[],e=[],f=[];return a.forEach(function(a){for(var d=!1,g=0;g<b.length;g++){var h=b[g];if(c(a,h)){d=!0,f.push({a:a,b:h});break}}d?b.splice(g,1):e.push(a)}),d=b,{missingFromA:d,missingFromB:e,matches:f}},f=function(a,b){for(var c=null,d=0;d<a.length;d++){var e=a[d];if(b(e))return e}return c},g=function(a,b){a.sort(),b.sort();var c=a.length,d=b.length;return c<1&&d<1||c==d&&a.every(function(a,c){return a==b[c]})},h=function(a,b){return{remove:b.missingFromB,add:b.missingFromA.map(function(b){var c=f(a,function(a){return b.timestamp<a.timestamp});return{before:c,value:b}})}},i=function(a){var b=[],c=[];return a.forEach(function(a){var d=a.a,g=a.b,h=e(d.messages,g.messages,function(a,b){return a.id==b.id});b=b.concat(h.missingFromB),h.missingFromA.forEach(function(a){var b=f(d.messages,function(b){return a.timeCreated==b.timeCreated?a.id<b.id:a.timeCreated<b.timeCreated});c.push({before:b,value:a,day:d})})}),{add:c,remove:b}},j=function(a,b){var c=a.messages.map(function(a){return a.id}),f=b.messages.map(function(a){return a.id});if(g(c,f))return null;var j=d(a.messages,a.midnight),k=d(b.messages,b.midnight),l=e(j,k,function(a,b){return a.timestamp==b.timestamp});return{days:h(j,l),messages:i(l.matches)}},k=function(a,b){var d=G(a,b),e=x(a,b),f=E(a),g=E(b),h=d&&d.show&&!d.hasMessages,i=d&&!d.show,j=!f&&g;return j=j||h||i,j=j||null!==e,j?{type:c.CONVERSATION_TYPES.PRIVATE,showControls:!h&&!e,context:{id:b.id,name:b.name,subname:b.subname,totalmembercount:b.totalMemberCount,imageurl:b.imageUrl,isfavourite:b.isFavourite,showfavourite:null!==b.id,userid:g.id,showonlinestatus:g.showonlinestatus,isonline:g.isonline,isblocked:g.isblocked,iscontact:g.iscontact}}:null},l=function(a,b){var d=a.totalMemberCount,e=b.totalMemberCount;return d!=e?{type:c.CONVERSATION_TYPES.PUBLIC,showControls:!0,context:{id:b.id,name:b.name,subname:b.subname,totalmembercount:b.totalMemberCount,imageurl:b.imageUrl,isfavourite:b.isFavourite,showfavourite:null!==b.id}}:null},m=function(a,b){var c=a.messages,d=b.messages;if(d.length<1)return null;if(c.length<1)return d[d.length-1].id;var e=c[a.messages.length-1],f=d[d.length-1],g=c[0],h=d[0];return e.id!=f.id?f.id:g.id!=h.id?g.id:null},n=function(a,b){return!(a.loadingMembers||!b.loadingMembers)||!(a.loadingMembers&&!b.loadingMembers)&&null},o=function(a,b){return a.hasTriedToLoadMessages===b.hasTriedToLoadMessages?null:!(b.hasTriedToLoadMessages||!b.loadingMessages)||!(b.hasTriedToLoadMessages&&!b.loadingMessages)&&null},p=function(a,b){return!(a.loadingMessages||!b.loadingMessages)||!(a.loadingMessages&&!b.loadingMessages)&&null},q=function(a,b){return!(a.sendingMessage||!b.sendingMessage)||!(a.sendingMessage&&!b.sendingMessage)&&null},r=function(a,b){if(b.pendingBlockUserIds.length){var c=b.pendingBlockUserIds[0];return b.members[c]}return!a.pendingBlockUserIds.length&&null},s=function(a,b){if(b.pendingUnblockUserIds.length){var c=b.pendingUnblockUserIds[0];return b.members[c]}return!a.pendingUnblockUserIds.length&&null},t=function(a,b){if(b.pendingAddContactIds.length){var c=b.pendingAddContactIds[0];return b.members[c]}return!a.pendingAddContactIds.length&&null},u=function(a,b){if(b.pendingRemoveContactIds.length){var c=b.pendingRemoveContactIds[0];return b.members[c]}return!a.pendingRemoveContactIds.length&&null},v=function(a,b){return!!b.pendingDeleteMessageIds.length||!a.pendingDeleteMessageIds.length&&null},w=function(a,b){return!(a.pendingDeleteConversation||!b.pendingDeleteConversation)||!(a.pendingDeleteConversation&&!b.pendingDeleteConversation)&&null},x=function(a,b){var c=a.loggedInUserId,d=E(a),e=E(b),f=d?d.contactrequests.filter(function(a){return a.requesteduserid==c&&a.userid==d.id}):[],g=e?e.contactrequests.filter(function(a){return a.requesteduserid==c&&a.userid==e.id}):[],h=f.length?f[0]:null,i=g.length?g[0]:null;return!h&&i?e:!(h&&!i)&&null},y=function(a,b){var c=E(a),d=E(b);return c||d?!c&&d?!!d.isblocked||null:!d&&c?!c.isblocked&&null:!(c.isblocked&&!d.isblocked)&&(!(c.isblocked||!d.isblocked)||null):null},z=function(a,b){var c=a.isFavourite,d=b.isFavourite;return null===a.id&&null===b.id?null:null===a.id&&null!==b.id?"show-add":null!==a.id&&null===b.id?"hide":c==d?null:!c&&d?"show-remove":c&&!d?"show-add":null},A=function(a,b){var c=a.loggedInUserId,d=E(a),e=E(b),f=d?d.contactrequests.filter(function(a){return a.userid==c&&a.requesteduserid==d.id||a.userid==d.id&&a.requesteduserid==c}):[],g=e?e.contactrequests.filter(function(a){return a.userid==c&&a.requesteduserid==e.id||a.userid==e.id&&a.requesteduserid==c}):[],h=f.length>0,i=g.length>0;return d||e?h&&i?null:h||!i||e.iscontact?!d&&e?e.iscontact?"contact":null:!e&&d?d.iscontact?"non-contact":null:d.iscontact&&!e.iscontact?i?"pending-contact":"non-contact":!d.iscontact&&e.iscontact?"contact":null:"pending-contact":null},B=function(a,b){return!(a.loadingConfirmAction||!b.loadingConfirmAction)||!(a.loadingConfirmAction&&!b.loadingConfirmAction)&&null},C=function(a,b){var c=a.selectedMessageIds.length>0,d=b.selectedMessageIds.length>0,e=a.messages.length!=b.messages.length;return!(c||!d)||!(c&&!d)&&(!(!c||!e)||null)},D=function(a,b){var c=a.selectedMessageIds,d=b.selectedMessageIds;if(g(c,d))return null;var f=e(c,d,function(a,b){return a==b});return{count:d.length,add:f.missingFromA,remove:f.missingFromB}},E=function(a){return Object.keys(a.members).reduce(function(b,c){return c==a.loggedInUserId||b||(b=a.members[c]),b},null)},F=function(a,b){var c=b.contactrequests.filter(function(b){return b.userid==a||b.requesteduserid}),d=c.length>0;return b.requirescontact&&!b.iscontact&&!d},G=function(a,b){var c=E(a),d=E(b),e=a.messages.length>0,f=b.messages.length>0,g=b.loggedInUserId,h=c&&F(g,c),i=d&&F(g,d),j=t(a,b),k=j===!1;if(!a.hasTriedToLoadMessages&&!b.hasTriedToLoadMessages)return null;if(!c&&!d)return null;if(!c&&i)return{show:!0,hasMessages:f,user:d};if(k&&i)return{show:!0,hasMessages:f,user:d};if(a.hasTriedToLoadMessages&&b.hasTriedToLoadMessages){if(!h&&i)return{show:!0,hasMessages:f,user:d};if(h&&!i)return{show:!1,hasMessages:f}}return!a.hasTriedToLoadMessages&&b.hasTriedToLoadMessages&&i?{show:!0,hasMessages:f,user:d}:a.hasTriedToLoadMessages&&!b.hasTriedToLoadMessages&&h?{show:!1,hasMessages:e}:null},H=function(a,b){var c=E(a),d=E(b);return c||d?c&&!d?!c.isblocked&&null:!c&&d?!!d.isblocked||null:!(c.isblocked||!d.isblocked)||!(c.isblocked&&!d.isblocked)&&null:null},I=function(a,b){var c=E(a),d=E(b);return c||d?c&&!d?!c.canmessage||null:!c&&d?!d.canmessage||null:!(!c.canmessage&&d.canmessage)&&(!(!c.canmessage||d.canmessage)||null):null},J=function(a,b){var c=o(a,b),d=C(a,b),e=G(a,b),f=H(a,b),g=I(a,b),h=null!==e?e.show&&e.hasMessages:null,i=E(b),j=function(a,c){if(a)return c;if(null!==a&&!a){if(!i)return{type:"content"};if(i.isblocked)return{type:"unblock"};if(b.messages.length&&F(b.loggedInUserId,i))return{type:"add-contact",user:i};if(!i.canmessage||i.requirescontact&&!i.iscontact)return{type:"unable-to-message"}}return null};if(null===c&&null===d&&null===e&&null===f)return null;for(var k=[[c,{type:"placeholder"}],[d,{type:"edit-mode"}],[g,{type:"unable-to-message"}],[f,{type:"unblock"}],[h,{type:"add-contact",user:i}]],l=0;l<k.length;l++){var m=k[l][0],n=k[l][1],p=j(m,n);if(null!==p)return p}return{type:"content"}},K=function(a,b){var c=o(a,b),d=C(a,b);return null===c&&null===d?null:c?{type:"placeholder"}:d?{type:"edit-mode"}:{type:"content"}},L=function(a,b){var c=a.type,d=b.type,e=a.id,f=b.id,g=Object.keys(a.members),h=Object.keys(b.members);g.sort(),h.sort();var i=g.every(function(a,b){return a==h[b]});return c!=d||(!(!e||f)||(!(!e||!f||e==f)||(!(e||f||i)||null)))},M=function(a,b){var c=b.loggedInUserId,d=E(a),e=E(b),f=d?d.contactrequests.filter(function(a){return a.userid==c}):[],g=e?e.contactrequests.filter(function(a){return a.userid==c}):[],h=f.length>0,i=g.length>0,j=a.messages.length>0,k=a.messages.length>0;return h||!i||e.iscontact||k?!(d&&!d.iscontact&&i&&e.iscontact)&&(!(h&&!i)&&(!(!j&&k)&&null)):e.fullname},N=function(b,d){var e={all:{reset:L,conversation:j,scrollToMessage:m,loadingMembers:n,loadingFirstMessages:o,loadingMessages:p,sendingMessage:q,confirmDeleteSelectedMessages:v,inEditMode:C,selectedMessages:D,isFavourite:z}};e[c.CONVERSATION_TYPES.PRIVATE]={header:k,footer:J,confirmBlockUser:r,confirmUnblockUser:s,confirmAddContact:t,confirmRemoveContact:u,confirmContactRequest:x,confirmDeleteConversation:w,isBlocked:y,isContact:A,loadingConfirmAction:B,requireAddContact:G,contactRequestSent:M},e[c.CONVERSATION_TYPES.PUBLIC]={header:l,footer:K};var f=a.extend({},e.all);return d.type&&d.type in e&&(f=a.extend(f,e[d.type])),Object.keys(f).reduce(function(a,c){var e=f[c],g=e(b,d);return null!==g&&(a[c]=g),a},{})};return{buildPatch:N}});
define('core_message/message_drawer_view_conversation_constants', [],function(){var a={ACTION_ACCEPT_CONTACT_REQUEST:'[data-action="accept-contact-request"]',ACTION_CANCEL_CONFIRM:'[data-action="cancel-confirm"]',ACTION_CANCEL_EDIT_MODE:'[data-action="cancel-edit-mode"]',ACTION_CONFIRM_ADD_CONTACT:'[data-action="confirm-add-contact"]',ACTION_CONFIRM_BLOCK:'[data-action="confirm-block"]',ACTION_CONFIRM_DELETE_SELECTED_MESSAGES:'[data-action="confirm-delete-selected-messages"]',ACTION_CONFIRM_DELETE_CONVERSATION:'[data-action="confirm-delete-conversation"]',ACTION_CONFIRM_FAVOURITE:'[data-action="confirm-favourite"]',ACTION_CONFIRM_UNFAVOURITE:'[data-action="confirm-unfavourite"]',ACTION_CONFIRM_REMOVE_CONTACT:'[data-action="confirm-remove-contact"]',ACTION_CONFIRM_UNBLOCK:'[data-action="confirm-unblock"]',ACTION_DECLINE_CONTACT_REQUEST:'[data-action="decline-contact-request"]',ACTION_REQUEST_ADD_CONTACT:'[data-action="request-add-contact"]',ACTION_REQUEST_BLOCK:'[data-action="request-block"]',ACTION_REQUEST_DELETE_CONVERSATION:'[data-action="request-delete-conversation"]',ACTION_REQUEST_DELETE_SELECTED_MESSAGES:'[data-action="delete-selected-messages"]',ACTION_REQUEST_REMOVE_CONTACT:'[data-action="request-remove-contact"]',ACTION_REQUEST_UNBLOCK:'[data-action="request-unblock"]',ACTION_VIEW_CONTACT:'[data-action="view-contact"]',ACTION_VIEW_GROUP_INFO:'[data-action="view-group-info"]',CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]',CONFIRM_DIALOGUE_BUTTON_TEXT:'[data-region="dialogue-button-text"]',CONFIRM_DIALOGUE_CANCEL_BUTTON:'[data-action="cancel-confirm"]',CONFIRM_DIALOGUE_CONTAINER:'[data-region="confirm-dialogue-container"]',CONFIRM_DIALOGUE_HEADER:'[data-region="dialogue-header"]',CONFIRM_DIALOGUE_TEXT:'[data-region="dialogue-text"]',CONTACT_REQUEST_SENT_MESSAGE_CONTAINER:'[data-region="contact-request-sent-message-container"]',CONTENT_PLACEHOLDER_CONTAINER:'[data-region="content-placeholder"]',CONTENT_CONTAINER:'[data-region="content-container"]',CONTENT_MESSAGES_CONTAINER:'[data-region="content-message-container"]',CONTENT_MESSAGES_FOOTER_CONTAINER:'[data-region="content-messages-footer-container"]',CONTENT_MESSAGES_FOOTER_EDIT_MODE_CONTAINER:'[data-region="content-messages-footer-edit-mode-container"]',CONTENT_MESSAGES_FOOTER_REQUIRE_CONTACT_CONTAINER:'[data-region="content-messages-footer-require-contact-container"]',CONTENT_MESSAGES_FOOTER_REQUIRE_UNBLOCK_CONTAINER:'[data-region="content-messages-footer-require-unblock-container"]',CONTENT_MESSAGES_FOOTER_UNABLE_TO_MESSAGE_CONTAINER:'[data-region="content-messages-footer-unable-to-message"]',DAY_MESSAGES_CONTAINER:'[data-region="day-messages-container"]',FAVOURITE_ICON_CONTAINER:'[data-region="favourite-icon-container"]',FOOTER_CONTAINER:'[data-region="content-messages-footer-container"]',HEADER:'[data-region="header-content"]',HEADER_EDIT_MODE:'[data-region="header-edit-mode"]',HEADER_PLACEHOLDER_CONTAINER:'[data-region="header-placeholder"]',LOADING_ICON_CONTAINER:'[data-region="loading-icon-container"]',MESSAGE:'[data-region="message"]',MESSAGE_NOT_SELECTED:'[data-region="message"][aria-checked="false"]',MESSAGE_NOT_SELECTED_ICON:'[data-region="not-selected-icon"]',MESSAGE_SELECTED_ICON:'[data-region="selected-icon"]',MESSAGES:'[data-region="content-message-container"]',MESSAGES_CONTAINER:'[data-region="content-message-container"]',MESSAGES_SELECTED_COUNT:'[data-region="message-selected-court"]',MESSAGE_TEXT_AREA:'[data-region="send-message-txt"]',MORE_MESSAGES_LOADING_ICON_CONTAINER:'[data-region="more-messages-loading-icon-container"]',PLACEHOLDER_CONTAINER:'[data-region="placeholder-container"]',SEND_MESSAGE_BUTTON:'[data-action="send-message"]',SEND_MESSAGE_ICON_CONTAINER:'[data-region="send-icon-container"]',TEXT:'[data-region="text"]',TITLE:'[data-region="title"]'},b={HEADER_PRIVATE:"core_message/message_drawer_view_conversation_header_content_type_private",HEADER_PRIVATE_NO_CONTROLS:"core_message/message_drawer_view_conversation_header_content_type_private_no_controls",HEADER_PUBLIC:"core_message/message_drawer_view_conversation_header_content_type_public",DAY:"core_message/message_drawer_view_conversation_body_day",MESSAGE:"core_message/message_drawer_view_conversation_body_message",MESSAGES:"core_message/message_drawer_view_conversation_body_messages"},c={PRIVATE:1,PUBLIC:2};return{SELECTORS:a,TEMPLATES:b,CONVERSATION_TYPES:c,NEWEST_MESSAGES_FIRST:!0,LOAD_MESSAGE_LIMIT:100,INITIAL_NEW_MESSAGE_POLL_TIMEOUT:1e3}});
define('core_message/message_notification_preference', ["jquery","core_message/notification_preference"],function(a,b){var c={PREFERENCE_KEY:"[data-preference-key]"},d=function(a,c){b.call(this,a,c)};return d.prototype=Object.create(b.prototype),d.prototype.constructor=d,d.prototype.getPreferenceKey=function(){return this.root.find(c.PREFERENCE_KEY).attr("data-preference-key")},d});
define('core_message/message_drawer_routes', [],function(){return{VIEW_CONTACT:"view-contact",VIEW_CONTACTS:"view-contacts",VIEW_CONVERSATION:"view-conversation",VIEW_GROUP_INFO:"view-group-info",VIEW_OVERVIEW:"view-overview",VIEW_SEARCH:"view-search",VIEW_SETTINGS:"view-settings"}});
define('core_message/message_drawer_view_conversation_renderer', ["jquery","core/notification","core/str","core/templates","core/user_date","core_message/message_drawer_view_conversation_constants"],function(a,b,c,d,e,f){var g=f.SELECTORS,h=f.TEMPLATES,i=f.CONVERSATION_TYPES,j=function(a){return a.find(g.CONTENT_MESSAGES_CONTAINER)},k=function(a){j(a).removeClass("hidden")},l=function(a){j(a).addClass("hidden")},m=function(a){return a.find(g.CONTACT_REQUEST_SENT_MESSAGE_CONTAINER)},n=function(a){return m(a).addClass("hidden")},o=function(a){return a.find(g.CONTENT_MESSAGES_FOOTER_CONTAINER)},p=function(a){o(a).removeClass("hidden")},q=function(a){o(a).addClass("hidden")},r=function(a){return a.find(g.CONTENT_MESSAGES_FOOTER_EDIT_MODE_CONTAINER)},s=function(a){r(a).removeClass("hidden")},t=function(a){r(a).addClass("hidden")},u=function(a){return a.find(g.PLACEHOLDER_CONTAINER)},v=function(a){u(a).removeClass("hidden")},w=function(a){u(a).addClass("hidden")},x=function(a){return a.find(g.CONTENT_MESSAGES_FOOTER_REQUIRE_CONTACT_CONTAINER)},y=function(a){x(a).removeClass("hidden")},z=function(a){x(a).addClass("hidden")},A=function(a){return a.find(g.CONTENT_MESSAGES_FOOTER_REQUIRE_UNBLOCK_CONTAINER)},B=function(a){A(a).removeClass("hidden")},C=function(a){A(a).addClass("hidden")},D=function(a){return a.find(g.CONTENT_MESSAGES_FOOTER_UNABLE_TO_MESSAGE_CONTAINER)},E=function(a){D(a).removeClass("hidden")},F=function(a){D(a).addClass("hidden")},G=function(a){N(a),Q(a),T(a)},H=function(a){q(a),t(a),w(a),z(a),C(a),F(a)},I=function(a){return a.find(g.CONTENT_PLACEHOLDER_CONTAINER)},J=function(a){I(a).removeClass("hidden")},K=function(a){I(a).addClass("hidden")},L=function(a){return a.find(g.HEADER)},M=function(a){L(a).removeClass("hidden")},N=function(a){L(a).addClass("hidden")},O=function(a){return a.find(g.HEADER_EDIT_MODE)},P=function(a){O(a).removeClass("hidden")},Q=function(a){O(a).addClass("hidden")},R=function(a){return a.find(g.HEADER_PLACEHOLDER_CONTAINER)},S=function(a){R(a).removeClass("hidden")},T=function(a){R(a).addClass("hidden")},U=function(a){return a.find(g.MESSAGE_TEXT_AREA)},V=function(a,b){var c=j(a);return c.find('[data-message-id="'+b+'"]')},W=function(a,b){var c=j(a);return c.find('[data-day-id="'+b+'"]')},X=function(a){return a.find(g.MORE_MESSAGES_LOADING_ICON_CONTAINER)},Y=function(a){X(a).removeClass("hidden")},Z=function(a){X(a).addClass("hidden")},$=function(a){a.find(g.SEND_MESSAGE_BUTTON).prop("disabled",!0),U(a).prop("disabled",!0)},_=function(a){a.find(g.SEND_MESSAGE_BUTTON).prop("disabled",!1),U(a).prop("disabled",!1)},aa=function(a){$(a),a.find(g.SEND_MESSAGE_ICON_CONTAINER).addClass("hidden"),a.find(g.LOADING_ICON_CONTAINER).removeClass("hidden")},ba=function(a){_(a),a.find(g.SEND_MESSAGE_ICON_CONTAINER).removeClass("hidden"),a.find(g.LOADING_ICON_CONTAINER).addClass("hidden")},ca=function(a){var b=U(a);b.val(""),b.focus()},da=function(a){return a.find(g.CONFIRM_DIALOGUE_CONTAINER)},ea=function(a){var b=da(a),c=b.siblings(":not(.hidden)");c.attr("aria-hidden",!0),c.attr("tabindex",-1),c.attr("data-confirm-dialogue-hidden",!0),b.removeClass("hidden")},fa=function(a){var b=da(a),c=b.siblings('[data-confirm-dialogue-hidden="true"]');c.removeAttr("aria-hidden"),c.removeAttr("tabindex"),c.removeAttr("data-confirm-dialogue-hidden"),b.addClass("hidden")},ga=function(a,b){O(a).find(g.MESSAGES_SELECTED_COUNT).text(b)},ha=function(a,b){return a.map(function(a){return{id:a.id,isread:a.isRead,fromloggedinuser:a.fromLoggedInUser,userfrom:a.userFrom,text:a.text,formattedtime:b[a.timeCreated]}})},ia=function(b,c,e,f,g){var i=j(c),k=f.map(function(a){return d.render(h.DAY,{timestamp:a.value.timestamp,messages:ha(a.value.messages,g)})});return a.when.apply(a,k).then(function(){f.forEach(function(b,d){k[d].then(function(d){if(b.before){var e=W(c,b.before.timestamp);return a(d).insertBefore(e)}return i.append(d)})["catch"](function(){})})})},ja=function(b,c,e,f,i){var j=f.map(function(a){return a.value}),k=ha(j,i);return d.render(h.MESSAGES,{messages:k}).then(function(b){var d=a(b);f.forEach(function(a){var b=d.find('[data-message-id="'+a.value.id+'"]');if(a.before){var e=V(c,a.before.id);return b.insertBefore(e)}var f=W(c,a.day.timestamp),h=f.find(g.DAY_MESSAGES_CONTAINER);return h.append(b)})})},ka=function(a,b){b.forEach(function(b){W(a,b.timestamp).remove()})},la=function(a,b){b.forEach(function(b){V(a,b.id).remove()})},ma=function(b,d,f,g){var h=[],i=g.days.add.length>0,j=g.messages.add.length>0,k=[],l=a.Deferred().resolve({}).promise();return i&&(k=k.concat(g.days.add.reduce(function(a,b){return a.concat(b.value.messages.map(function(a){return a.timeCreated}))},[]))),j&&(k=k.concat(g.messages.add.map(function(a){return a.value.timeCreated}))),k.length&&(l=c.get_string("strftimetime24","core_langconfig").then(function(a){var b=k.map(function(b){return{timestamp:b,format:a}});return e.get(b)}).then(function(a){return k.reduce(function(b,c,d){return b[c]=a[d],b},{})})),i&&h.push(l.then(function(a){return ia(b,d,f,g.days.add,a)})),j&&h.push(l.then(function(a){return ja(b,d,f,g.messages.add,a)})),g.days.remove.length>0&&ka(d,g.days.remove),g.messages.remove.length>0&&la(d,g.messages.remove),a.when.apply(a,h)},na=function(a,b,c,e){var f=L(a),g=h.HEADER_PUBLIC;return e.type==i.PRIVATE&&(g=e.showControls?h.HEADER_PRIVATE:h.HEADER_PRIVATE_NO_CONTROLS),d.render(g,e.context).then(function(a,b){d.replaceNodeContents(f,a,b)})},oa=function(a,b,d,e){switch(H(d),e.type){case"placeholder":return v(d);case"add-contact":return c.get_strings([{key:"requirecontacttomessage",component:"core_message",param:e.user.fullname},{key:"isnotinyourcontacts",component:"core_message",param:e.user.fullname}]).then(function(a){var b=a[1],c=a[0],e=x(d);return e.find(g.TITLE).text(b),e.find(g.TEXT).text(c),y(d),a});case"edit-mode":return s(d);case"content":return p(d);case"unblock":return B(d);case"unable-to-message":return E(d)}return!0},pa=function(a,b,c,d){var e=j(b),f=V(b,d),g=f.position();if(g){var h=e.scrollTop()+g.top;e.scrollTop(h)}},qa=function(a,b,c,d){d?(N(a),S(a)):(M(a),T(a))},ra=function(a,b,c,d){d?(l(b),J(b)):(k(b),K(b))},sa=function(a,b,c,d){d?Y(b):Z(b)},ta=function(a,b,c,d){d?aa(c):(ba(c),ca(c))},ua=function(a,b,c,d,e,f,h,i){var j=da(b),k=d.map(function(a){return j.find(a)}),l=j.find(g.CONFIRM_DIALOGUE_CANCEL_BUTTON),m=j.find(g.CONFIRM_DIALOGUE_TEXT),n=j.find(g.CONFIRM_DIALOGUE_HEADER);j.find("button").addClass("hidden"),h?l.removeClass("hidden"):l.addClass("hidden"),f?(n.removeClass("hidden"),n.text(f)):(n.addClass("hidden"),n.text("")),k.forEach(function(a){a.removeClass("hidden")}),m.text(e),ea(c),ea(b),i||ea(a),j.find(g.CAN_RECEIVE_FOCUS).filter(":visible").first().focus()},va=function(a,b,c){var d=da(b),e=d.find(g.CONFIRM_DIALOGUE_CANCEL_BUTTON),f=d.find(g.CONFIRM_DIALOGUE_TEXT),h=d.find(g.CONFIRM_DIALOGUE_HEADER);return fa(b),fa(c),fa(a),d.find("button").addClass("hidden"),e.removeClass("hidden"),f.text(""),h.addClass("hidden"),h.text(""),a.find(g.CAN_RECEIVE_FOCUS).first().focus(),!0},wa=function(a,b,d,e){return e?c.get_string("blockuserconfirm","core_message",e.fullname).then(function(c){return ua(a,b,d,[g.ACTION_CONFIRM_BLOCK],c,"",!0,!1)}):va(a,b,d)},xa=function(a,b,d,e){return e?c.get_string("unblockuserconfirm","core_message",e.fullname).then(function(c){return ua(a,b,d,[g.ACTION_CONFIRM_UNBLOCK],c,"",!0,!1)}):va(a,b,d)},ya=function(a,b,d,e){return e?c.get_string("addcontactconfirm","core_message",e.fullname).then(function(c){return ua(a,b,d,[g.ACTION_CONFIRM_ADD_CONTACT],c,"",!0,!1)}):va(a,b,d)},za=function(a,b,d,e){return e?c.get_string("removecontactconfirm","core_message",e.fullname).then(function(c){return ua(a,b,d,[g.ACTION_CONFIRM_REMOVE_CONTACT],c,"",!0,!1)}):va(a,b,d)},Aa=function(a,b,d,e){return e?c.get_string("deleteselectedmessagesconfirm","core_message").then(function(c){return ua(a,b,d,[g.ACTION_CONFIRM_DELETE_SELECTED_MESSAGES],c,"",!0,!1)}):va(a,b,d)},Ba=function(a,b,d,e){return e?c.get_string("deleteallconfirm","core_message").then(function(c){return ua(a,b,d,[g.ACTION_CONFIRM_DELETE_CONVERSATION],c,"",!0,!1)}):va(a,b,d)},Ca=function(a,b,d,e){return e?c.get_string("userwouldliketocontactyou","core_message",e.fullname).then(function(c){var e=[g.ACTION_ACCEPT_CONTACT_REQUEST,g.ACTION_DECLINE_CONTACT_REQUEST];return ua(a,b,d,e,c,"",!1,!0)}):va(a,b,d)},Da=function(a,b,c,d){d?(a.find(g.ACTION_REQUEST_BLOCK).addClass("hidden"),a.find(g.ACTION_REQUEST_UNBLOCK).removeClass("hidden")):(a.find(g.ACTION_REQUEST_BLOCK).removeClass("hidden"),a.find(g.ACTION_REQUEST_UNBLOCK).addClass("hidden"))},Ea=function(a,b,c,d){var e=a.find(g.FAVOURITE_ICON_CONTAINER),f=a.find(g.ACTION_CONFIRM_FAVOURITE),h=a.find(g.ACTION_CONFIRM_UNFAVOURITE);switch(d){case"hide":e.addClass("hidden"),f.addClass("hidden"),h.addClass("hidden");break;case"show-add":e.addClass("hidden"),f.removeClass("hidden"),h.addClass("hidden");break;case"show-remove":e.removeClass("hidden"),f.addClass("hidden"),h.removeClass("hidden")}},Fa=function(a,b,c,d){var e=a.find(g.ACTION_REQUEST_ADD_CONTACT),f=a.find(g.ACTION_REQUEST_REMOVE_CONTACT);switch(d){case"pending-contact":e.addClass("hidden"),f.addClass("hidden");break;case"contact":e.addClass("hidden"),f.removeClass("hidden");break;case"non-contact":e.removeClass("hidden"),f.addClass("hidden")}},Ga=function(a,b,c,d){var e=da(b),f=e.find("button"),h=e.find(g.CONFIRM_DIALOGUE_BUTTON_TEXT),i=e.find(g.LOADING_ICON_CONTAINER);d?(f.prop("disabled",!0),h.addClass("hidden"),i.removeClass("hidden")):(f.prop("disabled",!1),h.removeClass("hidden"),i.addClass("hidden"))},Ha=function(a,b,c,d){var e=null;d?(e=b.find(g.MESSAGE_NOT_SELECTED),e.find(g.MESSAGE_NOT_SELECTED_ICON).removeClass("hidden"),N(a),P(a)):(e=j(b),e.find(g.MESSAGE_NOT_SELECTED_ICON).addClass("hidden"),e.find(g.MESSAGE_SELECTED_ICON).addClass("hidden"),M(a),Q(a))},Ia=function(a,b,c,d){var e=d.count>0;d.add.length&&d.add.forEach(function(a){var c=V(b,a);c.find(g.MESSAGE_NOT_SELECTED_ICON).addClass("hidden"),c.find(g.MESSAGE_SELECTED_ICON).removeClass("hidden"),c.attr("aria-checked",!0)}),d.remove.length&&d.remove.forEach(function(a){var c=V(b,a);e&&c.find(g.MESSAGE_NOT_SELECTED_ICON).removeClass("hidden"),c.find(g.MESSAGE_SELECTED_ICON).addClass("hidden"),c.attr("aria-checked",!1)}),ga(a,d.count)},Ja=function(a,b,d,e){return e.show&&!e.hasMessages?c.get_strings([{key:"requirecontacttomessage",component:"core_message",param:e.user.fullname},{key:"isnotinyourcontacts",component:"core_message",param:e.user.fullname}]).then(function(c){var e=c[1],f=c[0];return ua(a,b,d,[g.ACTION_REQUEST_ADD_CONTACT],f,e,!1,!0)}):va(a,b,d)},Ka=function(a,b,d,e){var f=m(b);return e?c.get_string("yourcontactrequestpending","core_message",e).then(function(a){return f.find(g.TEXT).text(a),f.removeClass("hidden"),a}):(f.addClass("hidden"),!0)},La=function(a,b,c){return va(a,b,c),n(b),G(a),S(a),H(c),v(c),!0},Ma=function(c,d,e,f){var g=[{reset:La},{conversation:ma,header:na,footer:oa,confirmBlockUser:wa,confirmUnblockUser:xa,confirmAddContact:ya,confirmRemoveContact:za,confirmDeleteSelectedMessages:Aa,confirmDeleteConversation:Ba,confirmContactRequest:Ca,requireAddContact:Ja,contactRequestSent:Ka},{loadingMembers:qa,loadingFirstMessages:ra,loadingMessages:sa,sendingMessage:ta,isBlocked:Da,isContact:Fa,isFavourite:Ea,loadingConfirmAction:Ga,inEditMode:Ha},{scrollToMessage:pa,selectedMessages:Ia}],h=function(a){var b=[];for(var g in f)if(a.hasOwnProperty(g)){var h=a[g],i=f[g];b.push(h(c,d,e,i))}return b},i=h(g[0]);return i=i.concat(h(g[1])),a.when.apply(a,i).then(function(){for(var a=2;a<g.length;a++)h(g[a])})["catch"](b.exception)};return{render:Ma}});
define('core_message/message_area_tabs', ["core/custom_interaction_events","core_message/message_area_events"],function(a,b){function c(a){this.messageArea=a,this._init()}var d={ACTIVECONTACTSTAB:"[data-region='contacts-area'] [role='tab'][aria-selected='true']",CONTACTSPANELS:"[data-region='contacts']",VIEWCONTACTS:"[data-action='contacts-view']",VIEWCONVERSATIONS:"[data-action='conversations-view']"};return c.prototype.messageArea=null,c.prototype._init=function(){a.define(this.messageArea.node,[a.events.activate,a.events.up,a.events.down,a.events.next,a.events.previous,a.events.ctrlPageUp,a.events.ctrlPageDown]),this.messageArea.onDelegateEvent(a.events.activate,d.VIEWCONVERSATIONS,this._viewConversations.bind(this)),this.messageArea.onDelegateEvent(a.events.activate,d.VIEWCONTACTS,this._viewContacts.bind(this)),this.messageArea.onDelegateEvent(a.events.up,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.down,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.next,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.previous,d.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.up,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.down,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.next,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.previous,d.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.ctrlPageUp,d.CONTACTSPANELS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.ctrlPageDown,d.CONTACTSPANELS,this._toggleTabs.bind(this)),this.messageArea.onCustomEvent(b.MESSAGESENT,function(){this._selectTab(d.VIEWCONVERSATIONS,d.VIEWCONTACTS)}.bind(this))},c.prototype._viewConversations=function(){this.messageArea.trigger(b.CONVERSATIONSSELECTED),this._selectTab(d.VIEWCONVERSATIONS,d.VIEWCONTACTS)},c.prototype._viewContacts=function(){this.messageArea.trigger(b.CONTACTSSELECTED),this._selectTab(d.VIEWCONTACTS,d.VIEWCONVERSATIONS)},c.prototype._selectTab=function(a,b){b=this.messageArea.find(b),b.removeClass("selected"),b.attr("aria-selected","false"),b.attr("tabindex","-1"),a=this.messageArea.find(a),a.addClass("selected"),a.attr("aria-selected","true"),a.attr("tabindex","0")},c.prototype._toggleTabs=function(a,b){var c=this.messageArea.find(d.ACTIVECONTACTSTAB);c.is(d.VIEWCONVERSATIONS)?this._viewContacts():this._viewConversations(),this.messageArea.find(d.ACTIVECONTACTSTAB).focus(),a.preventDefault(),a.stopPropagation(),b.originalEvent.preventDefault(),b.originalEvent.stopPropagation()},c});
define('core_message/message_drawer_view_contacts_section_contacts', ["jquery","core/notification","core/pubsub","core/templates","core_message/message_repository","core_message/message_drawer_events","core_message/message_drawer_lazy_load_list"],function(a,b,c,d,e,f,g){var h=100,i=0,j={BLOCK_ICON_CONTAINER:'[data-region="block-icon-container"]',CONTACT:'[data-region="contact"]',CONTENT_CONTAINER:'[data-region="contacts-content-container"]'},k={CONTACTS_LIST:"core_message/message_drawer_contacts_list"},l=function(a,b){return a.find('[data-contact-user-id="'+b+'"]')},m=function(c,e){var f=e.map(function(b){return a.extend(b,{id:b.userid})});return d.render(k.CONTACTS_LIST,{contacts:f}).then(function(a){return c.append(a),a})["catch"](b.exception)},n=function(a,c){return e.getContacts(c,h+1,i).then(function(a){return a}).then(function(b){return b.length>h?b.pop():g.setLoadedAll(a,!0),b}).then(function(a){return i+=h,a})["catch"](b.exception)},o=function(a,b){l(a,b).remove()},p=function(a,b){var c=l(a,b);c.length&&c.find(j.BLOCK_ICON_CONTAINER).removeClass("hidden")},q=function(a,b){var c=l(a,b);c.length&&c.find(j.BLOCK_ICON_CONTAINER).addClass("hidden")},r=function(a){c.subscribe(f.CONTACT_ADDED,function(b){var c=g.getContentContainer(a);m(c,[b]),g.hideEmptyMessage(a),g.showContent(a)}),c.subscribe(f.CONTACT_REMOVED,function(b){o(a,b);var c=a.find(j.CONTACT);c.length||(g.hideContent(a),g.showEmptyMessage(a))}),c.subscribe(f.CONTACT_BLOCKED,function(b){p(a,b)}),c.subscribe(f.CONTACT_UNBLOCKED,function(b){q(a,b)})},s=function(a){a.attr("data-contacts-init")||(r(a),a.attr("data-contacts-init",!0)),g.show(a,n,m)};return{show:s}});
define('core_message/notification_processor_settings', ["jquery","core/ajax","core/notification","core/fragment","core/templates","core/str","tool_lp/dialogue"],function(a,b,c,d,e,f,g){var h={PROCESSOR:"[data-processor-name]",PREFERENCE_ROW:'[data-region="preference-row"]'},i=function(b){this.root=a(b),this.name=this.root.attr("data-name"),this.userId=this.root.attr("data-user-id"),this.contextId=this.root.attr("data-context-id")};return i.prototype.show=function(){d.loadFragment("message","processor_settings",this.contextId,{userid:this.userId,type:this.name}).done(function(b,c){f.get_string("processorsettings","message").done(function(d){var f=new g(d,b,function(){e.runTemplateJS(c)},function(){f.close()});a(document).on("mpp:formsubmitted",function(){f.close(),this.updateConfiguredStatus()}.bind(this)),a(document).on("mpp:formcancelled",function(){f.close()})}.bind(this))}.bind(this))},i.prototype.updateConfiguredStatus=function(){var d=this.root.closest(h.PROCESSOR);if(!d.hasClass("unconfigured"))return!1;var e=d.attr("data-processor-name"),f={methodname:"core_message_get_message_processor",args:{name:e,userid:this.userId}};return b.call([f])[0].fail(c.exception).done(function(b){if(b.userconfigured){var c=a(h.PREFERENCE_ROW+' [data-processor-name="'+e+'"]');d.removeClass("unconfigured"),c.removeClass("disabled")}})},i});
define('core_message/message_preferences', ["jquery","core/ajax","core/notification","core_message/message_notification_preference","core/custom_interaction_events"],function(a,b,c,d,e){var f={PREFERENCE:"[data-state]",PREFERENCES_CONTAINER:'[data-region="preferences-container"]',CONTACTABLE_PRIVACY_CONTAINER:'[data-region="privacy-setting-container"]'},g=function(b){this.root=a(b),this.userId=this.root.find(f.PREFERENCES_CONTAINER).attr("data-user-id"),this.registerEventListeners()};return g.prototype.preferencesDisabled=function(){return this.root.find(f.PREFERENCES_CONTAINER).hasClass("disabled")},g.prototype.saveContactablePrivacySetting=function(){var d=this.root.find(f.CONTACTABLE_PRIVACY_CONTAINER),e=a("input[type='radio']:checked").val();if(d.hasClass("loading"))return a.Deferred().resolve();d.addClass("loading");var g={methodname:"core_user_update_user_preferences",args:{userid:this.userId,preferences:[{type:d.attr("data-preference-key"),value:e}]}};return b.call([g])[0].fail(c.exception).always(function(){d.removeClass("loading")})},g.prototype.registerEventListeners=function(){e.define(this.root,[e.events.activate]),this.root.on("change",function(b){if("message_blocknoncontacts"==b.target.name)this.saveContactablePrivacySetting();else if(!this.preferencesDisabled()){var c=a(b.target).closest(f.PREFERENCES_CONTAINER),e=a(b.target).closest(f.PREFERENCE),g=new d(c,this.userId);e.addClass("loading"),g.save().always(function(){e.removeClass("loading")})}}.bind(this))},g});
define('core_message/message_area_profile', ["jquery","core/ajax","core/templates","core/notification","core/str","core/config","core/custom_interaction_events","core_message/message_area_events"],function(a,b,c,d,e,f,g,h){function i(a){this.messageArea=a,this._init()}var j={PROFILE:"[data-region='profile']",PROFILEADDCONTACT:"[data-action='profile-add-contact']",PROFILEBLOCKCONTACT:"[data-action='profile-block-contact']",PROFILEREMOVECONTACT:"[data-action='profile-remove-contact']",PROFILESENDMESSAGE:"[data-action='profile-send-message']",PROFILEUNBLOCKCONTACT:"[data-action='profile-unblock-contact']",PROFILEVIEW:"[data-action='profile-view']",SHOWCONTACTS:"[data-action='show-contacts']",MESSAGESAREA:"[data-region='messages-area']",MESSAGINGAREA:"[data-region='messaging-area']"};return i.prototype.messageArea=null,i.prototype._init=function(){g.define(this.messageArea.node,[g.events.activate]),this.messageArea.onCustomEvent(h.CONTACTSELECTED,this._viewProfile.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEVIEW,function(a,b){this._viewFullProfile(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILESENDMESSAGE,function(a,b){this._sendMessage(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEUNBLOCKCONTACT,function(a,b){this._unblockContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEBLOCKCONTACT,function(a,b){this._blockContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEADDCONTACT,function(a,b){this._addContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.PROFILEREMOVECONTACT,function(a,b){this._removeContact(),b.originalEvent.preventDefault()}.bind(this)),this.messageArea.onDelegateEvent(g.events.activate,j.SHOWCONTACTS,this._hideMessagingArea.bind(this))},i.prototype._viewProfile=function(a,e){c.render("core/loading",{}).done(function(a,b){c.replaceNodeContents(this.messageArea.find(j.MESSAGESAREA),a,b)}.bind(this));var f=b.call([{methodname:"core_message_data_for_messagearea_get_profile",args:{currentuserid:this.messageArea.getCurrentUserId(),otheruserid:e}}]);return f[0].then(function(a){return c.render("core_message/message_area_profile",a)}).then(function(a,b){c.replaceNodeContents(this.messageArea.find(j.MESSAGESAREA),a,b)}.bind(this)).fail(d.exception)},i.prototype._viewFullProfile=function(){window.location.href=f.wwwroot+"/user/profile.php?id="+this._getUserId()},i.prototype._sendMessage=function(){this.messageArea.trigger(h.SENDMESSAGE,this._getUserId())},i.prototype._blockContact=function(){var a=this._performAction("core_message_block_user","unblockcontact","profile-block-contact","profile-unblock-contact","");return a.then(function(){this.messageArea.trigger(h.CONTACTBLOCKED,this._getUserId())}.bind(this))},i.prototype._unblockContact=function(){var a=this._performAction("core_message_unblock_user","blockcontact","profile-unblock-contact","profile-block-contact","danger");return a.then(function(){this.messageArea.trigger(h.CONTACTUNBLOCKED,this._getUserId())}.bind(this))},i.prototype._addContact=function(){var a=this._performAction("core_message_create_contact_request","removecontact","profile-add-contact","profile-remove-contact","danger");return a.then(function(){this.messageArea.trigger(h.CONTACTADDED,this._getUserId())}.bind(this))},i.prototype._removeContact=function(){var a=this._performAction("core_message_delete_contacts","addcontact","profile-remove-contact","profile-add-contact","");return a.then(function(){this.messageArea.trigger(h.CONTACTREMOVED,this._getUserId())}.bind(this))},i.prototype._performAction=function(a,c,f,g,h){var i="";switch(a){case"core_message_block_user":i={userid:this.messageArea.getCurrentUserId(),blockeduserid:this._getUserId()};break;case"core_message_unblock_user":i={userid:this.messageArea.getCurrentUserId(),unblockeduserid:this._getUserId()};break;case"core_message_create_contact_request":i={userid:this.messageArea.getCurrentUserId(),requesteduserid:this._getUserId()};break;default:i={userid:this.messageArea.getCurrentUserId(),userids:[this._getUserId()]}}var j=b.call([{methodname:a,args:i}]);return j[0].then(function(){return e.get_string(c,"message")}).then(function(a){this._changeText(a,f,g,h)}.bind(this)).fail(d.exception)},i.prototype._changeText=function(a,b,c,d){var e=this.messageArea.find("[data-action='"+b+"']");e.text(a),e.removeClass(),d&&e.addClass(d),e.attr("data-action",c)},i.prototype._getUserId=function(){return this.messageArea.find(j.PROFILE).data("userid")},i.prototype._hideMessagingArea=function(){this.messageArea.find(j.MESSAGINGAREA).removeClass("show-messages").addClass("hide-messages")},i});
define('core_message/message_popover', ["jquery","core/custom_interaction_events","core/pubsub","core_message/message_drawer_events"],function(a,b,c,d){var e={COUNT_CONTAINER:'[data-region="count-container"]'},f=function(){c.publish(d.TOGGLE_VISIBILITY)},g=function(a){return function(){var b=a.find(e.COUNT_CONTAINER),c=parseInt(b.text(),10);isNaN(c)?b.addClass("hidden"):!c||c<2?b.addClass("hidden"):(c-=1,b.text(c))}},h=function(a){b.define(a,[b.events.activate]),a.on(b.events.activate,function(a,b){f(),b.originalEvent.preventDefault()}),c.subscribe(d.CONVERSATION_READ,g(a)),c.subscribe(d.CONTACT_REQUEST_ACCEPTED,g(a)),c.subscribe(d.CONTACT_REQUEST_DECLINED,g(a))},i=function(b){b=a(b),h(b)};return{init:i}});
define('core_message/message_area_actions', ["core_message/message_area_events"],function(a){function b(a){this.messageArea=a}var c={MESSAGES:"[data-region='messages']"};return b.prototype.messageArea=null,b.prototype.chooseMessagesToDelete=function(){0!==this.messageArea.find(c.MESSAGES).length&&this.messageArea.trigger(a.CHOOSEMESSAGESTODELETE)},b});
define('core_message/message_drawer_view_settings', ["jquery","core/notification","core/str","core/pubsub","core/templates","core_message/message_repository","core/custom_interaction_events","core_message/message_drawer_events"],function(a,b,c,d,e,f,g,h){var i={CHECKBOX:'input[type="checkbox"]',SETTINGS:'[data-region="settings"]',PRIVACY_PREFERENCE:'[data-preference="blocknoncontacts"] input[type="radio"]',NOTIFICATIONS_PREFERENCE:'[data-preference="notifications"] input[type="checkbox"]',ENTER_TO_SEND_PREFERENCE:'[data-preference="entertosend"] input[type="checkbox"]',NOTIFICATION_PREFERENCES_CONTAINER:'[data-region="notification-preference-container"]',CONTENT_CONTAINER:'[data-region="content-container"]',PLACEHOLDER_CONTAINER:'[data-region="placeholder-container"]'},j={NOTIFICATION_PREFERENCES:"core_message/message_drawer_view_settings_body_content_notification_preferences"},k="message_provider_moodle_instantmessage",l=function(b,c){var d=b.find(i.PRIVACY_PREFERENCE);d.each(function(b,d){d=a(d),d.val()==c?d.prop("checked",!0):d.prop("checked",!1)})},m=function(a,b){var c=a.find(i.ENTER_TO_SEND_PREFERENCE);b?c.prop("checked",!0):c.prop("checked",!1)},n=function(a,c){return f.savePreferences(a,c).then(function(){d.publish(h.PREFERENCES_UPDATED,c)})["catch"](b.exception)},o=function(b,c){var d=b.find(i.SETTINGS);g.define(d,[g.events.activate]),d.on(g.events.activate,i.NOTIFICATIONS_PREFERENCE,function(b){var d=a(b.target).closest(i.NOTIFICATION_PREFERENCES_CONTAINER),e=d.find(i.CHECKBOX);if(e.length){var f=e.toArray().reduce(function(b,c){return c=a(c),c.prop("checked")&&b.push(c.attr("data-name")),b},[]),g=f.length?f.join(","):"none",h=[{type:"message_provider_moodle_instantmessage_loggedoff",value:g},{type:"message_provider_moodle_instantmessage_loggedin",value:g}];n(c,h)}}),d.on("change",i.PRIVACY_PREFERENCE,function(b){var d=a(b.target).val(),e=[{type:"message_blocknoncontacts",value:d}];n(c,e)}),d.on(g.events.activate,i.ENTER_TO_SEND_PREFERENCE,function(b){var d=a(b.target).prop("checked"),e=[{type:"message_entertosend",value:d}];n(c,e)})},p=function(a,c){f.getUserMessagePreferences(c).then(function(b){l(a,b.blocknoncontacts),m(a,b.entertosend);var c=[];b.preferences.components.length&&b.preferences.components.forEach(function(a){if(a.notifications.length){var b=a.notifications.filter(function(a){return a.preferencekey==k});if(b.length){var d=a.notifications[0];c=d.processors.map(function(a){var b=a.loggedin.checked||a.loggedoff.checked;return{displayname:a.displayname,name:a.name,checked:b,locked:a.locked,lockedmessage:a.lockedmessage||null}})}}});var d=a.find(i.NOTIFICATION_PREFERENCES_CONTAINER);return!c.length||(d.removeClass("hidden"),e.render(j.NOTIFICATION_PREFERENCES,{processors:c}).then(function(a){return d.append(a),a}))}).then(function(){a.find(i.CONTENT_CONTAINER).removeClass("hidden"),a.find(i.PLACEHOLDER_CONTAINER).addClass("hidden"),o(a,c)})["catch"](b.exception)},q=function(b,c,d){return c.attr("data-init")||(p(c,d),c.attr("data-init",!0)),a.Deferred().resolve().promise()},r=function(){return c.get_string("messagedrawerviewsettings","core_message")};return{show:q,description:r}});
define('core_message/message_drawer_view_contact', ["jquery","core/str","core/templates"],function(a,b,c){var d={CONTENT_CONTAINER:'[data-region="content-container"]'},e={CONTENT:"core_message/message_drawer_view_contact_body_content"},f=function(a){return a.find(d.CONTENT_CONTAINER)},g=function(a,b){return c.render(e.CONTENT,b).then(function(b){return f(a).append(b),b})},h=function(b,c){return b=a(b),f(b).empty(),g(b,c)},i=function(a,c){return b.get_string("messagedrawerviewcontact","core_message",c.fullname)};return{show:h,description:i}});
define('core_message/notification_preference', ["jquery","core/ajax","core/notification","core_message/notification_processor"],function(a,b,c,d){var e={PROCESSOR:"[data-processor-name]",STATE_INPUTS:"[data-state] input"},f=function(b,c){this.root=a(b),this.userId=c};return f.prototype.getPreferenceKey=function(){return this.root.attr("data-preference-key")},f.prototype.getLoggedInPreferenceKey=function(){return this.getPreferenceKey()+"_loggedin"},f.prototype.getLoggedOffPreferenceKey=function(){return this.getPreferenceKey()+"_loggedoff"},f.prototype.getProcessors=function(){return this.root.find(e.PROCESSOR).map(function(b,c){return new d(a(c))})},f.prototype.startLoading=function(){this.root.addClass("loading"),this.root.find(e.STATE_INPUTS).prop("disabled",!0)},f.prototype.stopLoading=function(){this.root.removeClass("loading"),this.root.find(e.STATE_INPUTS).prop("disabled",!1)},f.prototype.isLoading=function(){return this.root.hasClass("loading")},f.prototype.save=function(){if(this.isLoading())return a.Deferred().resolve();this.startLoading();var d="",e="";this.getProcessors().each(function(a,b){b.isLoggedInEnabled()&&(""===d?d=b.getName():d+=","+b.getName()),b.isLoggedOffEnabled()&&(""===e?e=b.getName():e+=","+b.getName())}),""===d&&(d="none"),""===e&&(e="none");var f={userid:this.userId,preferences:[{type:this.getLoggedInPreferenceKey(),value:d},{type:this.getLoggedOffPreferenceKey(),value:e}]},g={methodname:"core_user_update_user_preferences",args:f};return b.call([g])[0].fail(c.exception).always(function(){this.stopLoading()}.bind(this))},f});
define('core_message/message_drawer_view_conversation', ["jquery","core/auto_rows","core/backoff_timer","core/custom_interaction_events","core/notification","core/pubsub","core/str","core_message/message_repository","core_message/message_drawer_events","core_message/message_drawer_view_conversation_constants","core_message/message_drawer_view_conversation_patcher","core_message/message_drawer_view_conversation_renderer","core_message/message_drawer_view_conversation_state_manager","core_message/message_drawer_router","core_message/message_drawer_routes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p={},q=null,r=!1,s=0,t=null,u=!0,v=!1,w=null,x=j.NEWEST_MESSAGES_FIRST,y=j.LOAD_MESSAGE_LIMIT,z=j.INITIAL_NEW_MESSAGE_POLL_TIMEOUT,A=j.SELECTORS,B=j.CONVERSATION_TYPES,C=function(){if(!q||q.type!=B.PRIVATE)return null;var a=q.loggedInUserId,b=Object.keys(q.members).filter(function(b){return a!=b});return b.length?b[0]:null},D=function(a){return Object.keys(p).reduce(function(b,c){if(!b){var d=p[c].state;d.type==B.PRIVATE&&a in d.members&&(b=d.id)}return b},null)},E=function(a){return{id:parseInt(a.attr("data-user-id"),10),fullname:null,profileimageurl:null,profileimageurlsmall:null,isonline:null,showonlinestatus:null,isblocked:null,iscontact:null,isdeleted:null,canmessage:null,requirescontact:null,contactrequests:[]}},F=function(){return s},G=function(a){s=a,p[q.id].messagesOffset=a},H=function(){return r},I=function(a){r=a,p[q.id].loadedAllMessages=a},J=function(a){return a.find(A.MESSAGES_CONTAINER)},K=function(b){return{id:b.id,name:b.name,subname:b.subname,imageUrl:b.imageUrl,isFavourite:b.isFavourite,type:b.type,totalMemberCount:b.totalMemberCount,loggedInUserId:b.loggedInUserId,messages:b.messages.map(function(b){return a.extend({},b)}),members:Object.keys(b.members).reduce(function(c,d){return c[d]=a.extend({},b.members[d]),c[d].contactrequests=b.members[d].contactrequests.map(function(b){return a.extend({},b)}),c},{})}},L=function(a,b){var c=a.id,d=m.setLoadingMembers(q,!0);return d=m.setLoadingMessages(d,!0),w(d).then(function(){return h.getMemberInfo(c,[b],!0,!0)}).then(function(a){if(a.length)return a[0];throw new Error("Unable to load other user profile")}).then(function(b){var c=m.addMembers(q,[b,a]);return c=m.setLoadingMembers(c,!1),c=m.setLoadingMessages(c,!1),c=m.setName(c,b.fullname),c=m.setType(c,1),c=m.setImageUrl(c,b.profileimageurl),c=m.setTotalMemberCount(c,2),w(c).then(function(){return b})})["catch"](function(a){var b=m.setLoadingMembers(q,!1);w(b),e.exception(a)})},M=function(a,b){var c=a.members.filter(function(a){return a.id!=b}),d=c.length?c[0]:null,e=a.name,f=a.imageurl;a.type==B.PRIVATE&&(e=e||d?d.fullname:"",f=f||d?d.profileimageurl:"");var g=m.addMembers(q,a.members);return g=m.setName(g,e),g=m.setSubname(g,a.subname),g=m.setType(g,a.type),g=m.setImageUrl(g,f),g=m.setTotalMemberCount(g,a.membercount),g=m.setIsFavourite(g,a.isfavourite),g=m.addMessages(g,a.messages)},N=function(a,b,c,d,f){var g=b.id,i=m.setLoadingMembers(q,!0);return i=m.setLoadingMessages(i,!0),w(i).then(function(){return h.getConversation(g,a,!0,!0,0,0,c+1,d,f)}).then(function(a){return a.messages.length>c?a.messages=a.messages.slice(1):I(!0),G(d+c),a}).then(function(a){var c=a.members.filter(function(a){return a.id==b.id});c.length<1&&(a.members=a.members.concat([b]));var d=M(a,b.id);return d=m.setLoadingMembers(d,!1),d=m.setLoadingMessages(d,!1),w(d).then(function(){return a})}).then(function(){return R(a)})["catch"](function(a){var b=m.setLoadingMembers(q,!1);b=m.setLoadingMessages(b,!1),w(b),e.exception(a)})},O=function(a,b,c,d){var f=a.members.filter(function(a){return a.id==b.id});f.length<1&&(a.members=a.members.concat([b]));var g=M(a,b.id);g=m.setLoadingMembers(g,!1),g=m.setLoadingMessages(g,!0);var h=a.messages.length;return w(g).then(function(){if(h<c)return P(a.id,c,h,d,[]).then(function(a){return a.messages});var b=m.setLoadingMessages(q,!1);return w(b).then(function(){return a.messages})}).then(function(a){return G(a.length),a}).then(function(){return R(a.id)})["catch"](e.exception)},P=function(a,b,c,d,e,f){return h.getMessages(q.loggedInUserId,a,b?b+1:b,c,d,f).then(function(a){return a.messages.length&&e.length&&(a.messages=a.messages.filter(function(a){return e.indexOf(parseInt(a.id,10))<0})),a}).then(function(a){return b?(a.messages.length>b?a.messages=a.messages.slice(0,-1):I(!0),a):a}).then(function(a){var b=a.members.filter(function(a){return!(a.id in q.members)}),c=m.addMembers(q,b);return c=m.addMessages(c,a.messages),c=m.setLoadingMessages(c,!1),w(c).then(function(){return a})})["catch"](function(a){var b=m.setLoadingMessages(q,!1);throw w(b),a})},Q=function(b,c){return function(){var d=q.messages,e=d.length?d[d.length-1]:null;if(e&&!u&&!v){for(var g=[],h=d.length-1;h>=0;h--){var j=d[h];if(j.timeCreated!==e.timeCreated)break;g.push(j.id)}return P(b,0,0,c,g,e.timeCreated).then(function(a){if(a.messages.length){t.restart();var c=K(q);return f.publish(i.CONVERSATION_NEW_LAST_MESSAGE,c),R(b)}return a})}return a.Deferred().resolve().promise()}},R=function(a){var b=q.loggedInUserId;return h.markAllConversationMessagesAsRead(b,a).then(function(){var b=m.markMessagesAsRead(q,q.messages);return f.publish(i.CONVERSATION_READ,a),w(b)})},S=function(a){return ea(a).then(function(){var b=m.addPendingBlockUsersById(q,[a]);return w(b)})},T=function(a){var b=m.setLoadingConfirmAction(q,!0);return w(b).then(function(){return h.blockUser(q.loggedInUserId,a)}).then(function(b){var c=m.addMembers(q,[b]);return c=m.removePendingBlockUsersById(c,[a]),c=m.setLoadingConfirmAction(c,!1),f.publish(i.CONTACT_BLOCKED,a),w(c)})},U=function(a){return ea(a).then(function(){var b=m.addPendingUnblockUsersById(q,[a]);return w(b)})},V=function(a){var b=m.setLoadingConfirmAction(q,!0);return w(b).then(function(){return h.unblockUser(q.loggedInUserId,a)}).then(function(b){var c=m.addMembers(q,[b]);return c=m.removePendingUnblockUsersById(c,[a]),c=m.setLoadingConfirmAction(c,!1),f.publish(i.CONTACT_UNBLOCKED,a),w(c)})},W=function(a){return ea(a).then(function(){var b=m.addPendingRemoveContactsById(q,[a]);return w(b)})},X=function(a){var b=m.setLoadingConfirmAction(q,!0);return w(b).then(function(){return h.deleteContacts(q.loggedInUserId,[a])}).then(function(b){var c=m.addMembers(q,b);return c=m.removePendingRemoveContactsById(c,[a]),c=m.setLoadingConfirmAction(c,!1),f.publish(i.CONTACT_REMOVED,a),w(c)})},Y=function(a){return ea(a).then(function(){var b=m.addPendingAddContactsById(q,[a]);return w(b)})},Z=function(a){var b=m.setLoadingConfirmAction(q,!0);return w(b).then(function(){return h.createContactRequest(q.loggedInUserId,a)}).then(function(a){if(!a.request)throw new Error(a.warnings[0].message);return a.request}).then(function(b){var c=m.removePendingAddContactsById(q,[a]);return c=m.addContactRequests(c,[b]),c=m.setLoadingConfirmAction(c,!1),w(c)})},$=function(){var a=q.loggedInUserId,b=q.id;return h.setFavouriteConversations(a,[b]).then(function(){var a=m.setIsFavourite(q,!0);return w(a)}).then(function(){return f.publish(i.CONVERSATION_SET_FAVOURITE,K(q))})},_=function(){var a=q.loggedInUserId,b=q.id;return h.unsetFavouriteConversations(a,[b]).then(function(){var a=m.setIsFavourite(q,!1);return w(a)}).then(function(){return f.publish(i.CONVERSATION_UNSET_FAVOURITE,K(q))})},aa=function(a){var b=q.selectedMessageIds;return ea(a).then(function(){var a=m.addPendingDeleteMessagesById(q,b);return w(a)})},ba=function(){var a=q.pendingDeleteMessageIds,b=m.setLoadingConfirmAction(q,!0);return w(b).then(function(){return h.deleteMessages(q.loggedInUserId,a)}).then(function(){var b=m.removeMessagesById(q,a);b=m.removePendingDeleteMessagesById(b,a),b=m.removeSelectedMessagesById(b,a),b=m.setLoadingConfirmAction(b,!1);var c=q.messages[q.messages.length-1],d=b.messages.length?b.messages[b.messages.length-1]:null;if(d&&d.id!=c.id){var e=K(b);f.publish(i.CONVERSATION_NEW_LAST_MESSAGE,e)}else b.messages.length||f.publish(i.CONVERSATION_DELETED,b.id);return w(b)})},ca=function(a){return ea(a).then(function(){var a=m.setPendingDeleteConversation(q,!0);return w(a)})},da=function(){var a=m.setLoadingConfirmAction(q,!0);return w(a).then(function(){return h.deleteConversation(q.loggedInUserId,q.id)}).then(function(){var a=m.removeMessages(q,q.messages);return a=m.removeSelectedMessagesById(a,q.selectedMessageIds),a=m.setPendingDeleteConversation(a,!1),a=m.setLoadingConfirmAction(a,!1),f.publish(i.CONVERSATION_DELETED,a.id),w(a)})},ea=function(a){var b=q.pendingDeleteMessageIds,c=m.removePendingAddContactsById(q,[a]);return c=m.removePendingRemoveContactsById(c,[a]),c=m.removePendingUnblockUsersById(c,[a]),c=m.removePendingBlockUsersById(c,[a]),c=m.removePendingDeleteMessagesById(c,b),c=m.setPendingDeleteConversation(c,!1),w(c)},fa=function(a){var b=q.loggedInUserId,c=q.members[a].contactrequests.filter(function(a){return a.requesteduserid==b}),d=c[0],e=m.setLoadingConfirmAction(q,!0);return w(e).then(function(){return h.acceptContactRequest(a,b)}).then(function(a){var b=m.removeContactRequests(q,[d]);return b=m.addMembers(q,[a]),b=m.setLoadingConfirmAction(b,!1),w(b)}).then(function(){f.publish(i.CONTACT_ADDED,q.members[a]),f.publish(i.CONTACT_REQUEST_ACCEPTED,d)})},ga=function(a){var b=q.loggedInUserId,c=q.members[a].contactrequests.filter(function(a){return a.requesteduserid==b}),d=c[0],e=m.setLoadingConfirmAction(q,!0);return w(e).then(function(){return h.declineContactRequest(a,b)}).then(function(a){var b=m.removeContactRequests(q,[d]);return b=m.addMembers(q,[a]),b=m.setLoadingConfirmAction(b,!1),w(b)}).then(function(){f.publish(i.CONTACT_REQUEST_DECLINED,d)})},ha=function(a,b){v=!0;var c=m.setSendingMessage(q,!0),d=null;return w(c).then(function(){if(a||q.type!=B.PRIVATE)return h.sendMessageToConversation(a,b);var c=C();return h.sendMessageToUser(c,b).then(function(a){return d=parseInt(a.conversationid,10),a})}).then(function(a){var b=m.addMessages(q,[a]);b=m.setSendingMessage(b,!1);var c=K(b);return b.id||(b=m.setId(b,d),c.id=d,xa(d),f.publish(i.CONVERSATION_CREATED,c)),w(b).then(function(){v=!1,f.publish(i.CONVERSATION_NEW_LAST_MESSAGE,c)})})["catch"](function(a){v=!1;var b=m.setSendingMessage(q,!1);w(b),e.exception(a)})},ia=function(a){var b=q;return b=q.selectedMessageIds.indexOf(a)>-1?m.removeSelectedMessagesById(q,[a]):m.addSelectedMessagesById(q,[a]),w(b)},ja=function(){return ea(C()).then(function(){var a=m.removeSelectedMessagesById(q,q.selectedMessageIds);return w(a)})},ka=function(a,b,c){return function(d){var e=k.buildPatch(q,d);return l.render(a,b,c,e).then(function(){q=d,d.id&&(p[d.id]={state:d,messagesOffset:F(),loadedAllMessages:H()})})}},la=function(a){return function(b,c){q.loadingConfirmAction||a(C())["catch"](function(a){var b=m.setLoadingConfirmAction(q,!1);w(b),e.exception(a)}),c.originalEvent.preventDefault()}},ma=function(b,c){var d=a(b.target),e=d.closest(A.FOOTER_CONTAINER),f=e.find(A.MESSAGE_TEXT_AREA),g=f.val().trim();""!==g&&ha(q.id,g),c.originalEvent.preventDefault()},na=function(b,c){var d=window.getSelection(),f=a(b.target);if(""==d.toString()&&!f.is("a")){var g=f.closest(A.MESSAGE),h=parseInt(g.attr("data-message-id"),10);ia(h)["catch"](e.exception),c.originalEvent.preventDefault()}},oa=function(a,b){ja()["catch"](e.exception),b.originalEvent.preventDefault()},pa=function(a,b){var c=C(),d=q.members[c];n.go(o.VIEW_CONTACT,d),b.originalEvent.preventDefault()},qa=function(a,b){$()["catch"](e.exception),b.originalEvent.preventDefault()},ra=function(a,b){_()["catch"](e.exception),b.originalEvent.preventDefault()},sa=function(a,b){n.go(o.VIEW_GROUP_INFO,{id:q.id,name:q.name,subname:q.subname,imageUrl:q.imageUrl,totalMemberCount:q.totalMemberCount},q.loggedInUserId),b.originalEvent.preventDefault()},ta=[[A.ACTION_REQUEST_BLOCK,la(S)],[A.ACTION_REQUEST_UNBLOCK,la(U)],[A.ACTION_REQUEST_ADD_CONTACT,la(Y)],[A.ACTION_REQUEST_REMOVE_CONTACT,la(W)],[A.ACTION_REQUEST_DELETE_CONVERSATION,la(ca)],[A.ACTION_CANCEL_EDIT_MODE,oa],[A.ACTION_VIEW_CONTACT,pa],[A.ACTION_VIEW_GROUP_INFO,sa],[A.ACTION_CONFIRM_FAVOURITE,qa],[A.ACTION_CONFIRM_UNFAVOURITE,ra]],ua=[[A.ACTION_CANCEL_CONFIRM,la(ea)],[A.ACTION_CONFIRM_BLOCK,la(T)],[A.ACTION_CONFIRM_UNBLOCK,la(V)],[A.ACTION_CONFIRM_ADD_CONTACT,la(Z)],[A.ACTION_CONFIRM_REMOVE_CONTACT,la(X)],[A.ACTION_CONFIRM_DELETE_SELECTED_MESSAGES,la(ba)],[A.ACTION_CONFIRM_DELETE_CONVERSATION,la(da)],[A.ACTION_REQUEST_ADD_CONTACT,la(Y)],[A.ACTION_ACCEPT_CONTACT_REQUEST,la(fa)],[A.ACTION_DECLINE_CONTACT_REQUEST,la(ga)],[A.MESSAGE,na]],va=[[A.SEND_MESSAGE_BUTTON,ma],[A.ACTION_REQUEST_DELETE_SELECTED_MESSAGES,la(aa)],[A.ACTION_REQUEST_ADD_CONTACT,la(Y)],[A.ACTION_REQUEST_UNBLOCK,la(U)]],wa=function(a,c,g){var h=!1,j=J(c);b.init(g),d.define(a,[d.events.activate]),d.define(c,[d.events.activate]),d.define(g,[d.events.activate,d.events.enter]),d.define(j,[d.events.scrollTop,d.events.scrollLock]),j.on(d.events.scrollTop,function(a,b){var c=Object.keys(q.members).length>1;if(!u&&!h&&!H()&&c){h=!0;var d=m.setLoadingMessages(q,!0);w(d).then(function(){return P(q.id,y,F(),x,[])}).then(function(){h=!1,G(F()+y)})["catch"](function(a){h=!1,e.exception(a)})}b.originalEvent.preventDefault()}),ta.forEach(function(b){var c=b[0],e=b[1];a.on(d.events.activate,c,e)}),ua.forEach(function(a){var b=a[0],e=a[1];c.on(d.events.activate,b,e)}),va.forEach(function(a){var b=a[0],c=a[1];g.on(d.events.activate,b,c)}),g.on(d.events.enter,A.MESSAGE_TEXT_AREA,function(a,b){var c=g.attr("data-enter-to-send");c&&"false"!=c&&"0"!=c&&ma(a,b)}),f.subscribe(i.ROUTE_CHANGED,function(a){t&&a.route!=o.VIEW_CONVERSATION&&t.stop()})},xa=function(a){t&&t.stop(),t=new c(Q(a,x),function(a){return a?2*a:z}),t.start()},ya=function(a,b,c){var d=c.id,e=parseInt(a.attr("data-midnight"),10),f=m.buildInitialState(e,d,b);return q||(q=f),t&&t.stop(),w(f)},za=function(a,b,c){return ya(a,null,b).then(function(){return h.getConversationBetweenUsers(b.id,c,!0,!0,0,0,y,0,x).then(function(c){return Ba(a,c,b)})["catch"](function(){return L(b,c)})})},Aa=function(a,b,c){var d=null;return b in p&&(d=p[b]),ya(a,b,c).then(function(){if(d){var a=d.state;return a=m.setLoadingMessages(a,!1),a=m.setLoadingMembers(a,!1),G(d.messagesOffset),I(d.loadedAllMessages),w(a)}return N(b,c,y,0,x)}).then(function(){return xa(b)})},Ba=function(a,b,c){var d=null;return b.id in p&&(d=p[b.id]),ya(a,b.id,c).then(function(){if(d){var a=d.state;return a=m.setLoadingMessages(a,!1),a=m.setLoadingMembers(a,!1),G(d.messagesOffset),I(d.loadedAllMessages),w(a)}return O(b,c,y,x)}).then(function(){return xa(b.id)})},Ca=function(b,c,d,f,g,h){var i=null,k=null;f&&null!==f&&"object"==typeof f?(i=f,k=parseInt(i.id,10)):(i=null,k=parseInt(f,10),k=isNaN(k)?null:k),!k&&g&&h&&(k=D(h)),c.attr("data-init")||(w=ka(b,c,d),wa(b,c,d),c.attr("data-init",!0));var l=!q||q.id!=k||h&&h!=C();if(l){u=!0;var m=null,n=E(c);return m=i?Ba(c,i,n,h):k?Aa(c,k,n,h):za(c,n,h),m.then(function(){u=!1,b.find(j.SELECTORS.CAN_RECEIVE_FOCUS).first().focus()})["catch"](function(a){u=!1,e.exception(a)})}if(xa(k),q.type==B.PRIVATE&&g){var o=C();switch(g){case"block":return S(o);case"unblock":return U(o);case"add-contact":return Y(o);case"remove-contact":return W(o)}}return a.Deferred().resolve().promise()},Da=function(){return g.get_string("messagedrawerviewconversation","core_message",q.name)};return{show:Ca,description:Da}});
define('core_message/preferences_processor_form', ["jquery","core/ajax","core/notification","core/custom_interaction_events"],function(a,b,c,d){var e=function(b){this.root=a(b),this.userId=this.root.attr("data-user-id"),this.name=this.root.attr("data-processor-name"),this.root.find("form").on("submit",function(b){b.preventDefault(),this.save().done(function(){a(document).trigger("mpp:formsubmitted")})}.bind(this));var c=this.root.find("[data-cancel-button]");d.define(c,[d.events.activate]),c.on(d.events.activate,function(){a(document).trigger("mpp:formcancelled")})};return e.prototype.startLoading=function(){this.root.addClass("loading")},e.prototype.stopLoading=function(){this.root.removeClass("loading")},e.prototype.isLoading=function(){return this.root.hasClass("loading")},e.prototype.save=function(){if(this.isLoading())return a.Deferred();this.startLoading();var d=this.root.find("form").serializeArray(),e={methodname:"core_message_message_processor_config_form",args:{userid:this.userId,name:this.name,formvalues:d}};return b.call([e])[0].fail(c.exception).always(function(){this.stopLoading()}.bind(this))},e});
define('core_message/message_drawer_view_overview_section', ["jquery","core/custom_interaction_events","core/notification","core/pubsub","core/str","core/templates","core/user_date","core_message/message_repository","core_message/message_drawer_events","core_message/message_drawer_router","core_message/message_drawer_routes","core_message/message_drawer_lazy_load_list","core_message/message_drawer_view_conversation_constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={TOGGLE:'[data-region="toggle"]',CONVERSATION:"[data-conversation-id]",BLOCKED_ICON_CONTAINER:'[data-region="contact-icon-blocked"]',LAST_MESSAGE:'[data-region="last-message"]',LAST_MESSAGE_DATE:'[data-region="last-message-date"]',UNREAD_COUNT:'[data-region="unread-count"]',SECTION_TOTAL_COUNT:'[data-region="section-total-count"]',SECTION_TOTAL_COUNT_CONTAINER:'[data-region="section-total-count-container"]',SECTION_UNREAD_COUNT:'[data-region="section-unread-count"]',PLACEHOLDER_CONTAINER:'[data-region="placeholder-container"]'},o={CONVERSATIONS_LIST:"core_message/message_drawer_conversations_list",CONVERSATIONS_LIST_ITEMS_PLACEHOLDER:"core_message/message_drawer_conversations_list_items_placeholder"},p=50,q={},r=!1,s=!1,t=function(a){return l.getRoot(a).hasClass("show")},u=function(a){a.addClass("expanded")},v=function(a){a.removeClass("expanded")},w=function(a,b){var c=a.find(n.SECTION_TOTAL_COUNT_CONTAINER),d=c.find(n.SECTION_TOTAL_COUNT);d.text(b),c.removeClass("hidden");var e=b>20?20:b,g=Array.apply(null,Array(e)).map(function(){return!0});f.render(o.CONVERSATIONS_LIST_ITEMS_PLACEHOLDER,{placeholders:g}).then(function(b){var c=a.find(n.PLACEHOLDER_CONTAINER);c.html(b)})["catch"](function(){})},x=function(a,b){var c=a.find(n.SECTION_UNREAD_COUNT);c.text(b),b>0&&c.removeClass("hidden")},y=function(b,d,e){var g=d.map(function(b){var c=b.messages.length?b.messages[b.messages.length-1]:null,d={id:b.id,imageurl:b.imageurl,name:b.name,subname:b.subname,unreadcount:b.unreadcount,lastmessagedate:c?c.timecreated:null,sentfromcurrentuser:c?c.useridfrom==e:null,lastmessage:c?a(c.text).text()||c.text:null};if(b.type==m.CONVERSATION_TYPES.PRIVATE){var f=b.members.reduce(function(a,b){return a||b.id==e||(a=b),a},null);d.userid=f.id,d.showonlinestatus=f.showonlinestatus,d.isonline=f.isonline,d.isblocked=f.isblocked}return b.type==m.CONVERSATION_TYPES.PUBLIC&&(d.lastsendername=b.members.reduce(function(a,b){return a||b.id!=c.useridfrom||(a=b.fullname),a},null)),d});return f.render(o.CONVERSATIONS_LIST,{conversations:g}).then(function(a){return b.append(a),a})["catch"](c.exception)},z=function(a,b,d){return function(e,f){return h.getConversations(f,a,p+1,d,b).then(function(a){var b=a.conversations;return b.length>p?b=b.slice(0,-1):l.setLoadedAll(e,!0),d+=p,b.forEach(function(a){q[a.id]=a}),b})["catch"](c.exception)}},A=function(a){return a.find(n.SECTION_TOTAL_COUNT)},B=function(a){return a.find(n.SECTION_UNREAD_COUNT)},C=function(a){if(r){var b=A(a),c=parseInt(b.text());c+=1,b.text(c)}},D=function(a){if(r){var b=A(a),c=parseInt(b.text());c-=1,b.text(c)}},E=function(a){if(s){var b=B(a),c=parseInt(b.text());c-=1,b.text(c),c<1&&b.addClass("hidden")}},F=function(a,b){return a.find('[data-conversation-id="'+b+'"]')},G=function(a,b){return a.find('[data-user-id="'+b+'"]')},H=function(a){a.find(n.BLOCKED_ICON_CONTAINER).removeClass("hidden")},I=function(a){a.find(n.BLOCKED_ICON_CONTAINER).addClass("hidden")},J=function(b,c){var d,f=c.messages[c.messages.length-1],h="";d=f.fromLoggedInUser?{key:"you",component:"core_message"}:{key:"sender",component:"core_message",param:f.userFrom.fullname};var i=[d,{key:"strftimetime24",component:"core_langconfig"}];return e.get_strings(i).then(function(a){return h=a[0],g.get([{timestamp:f.timeCreated,format:a[1]}])}).then(function(a){return a[0]}).then(function(d){b.find(n.LAST_MESSAGE_DATE).text(d).removeClass("hidden"),f.fromLoggedInUser||c.type!==m.CONVERSATION_TYPES.PRIVATE||(h="");var e=h+" <span class='text-muted'>"+a(f.text).text()+"</span>";return b.find(n.LAST_MESSAGE).html(e)})},K=function(b,d){var e=b.find(n.CONVERSATION),g="";if(!e.length){var h=l.getRoot(b);l.showContent(h),l.hideEmptyMessage(h)}var i=d.messages.length,j=i?d.messages[i-1]:null;j&&(g=a(j.text).text()||j.text);var k={id:d.id,name:d.name,subname:d.subname,lastmessagedate:j?j.timeCreated:null,sentfromcurrentuser:j?j.fromLoggedInUser:null,lastmessage:g,imageurl:d.imageUrl};return q[d.id]=d,f.render(o.CONVERSATIONS_LIST,{conversations:[k]}).then(function(a){var c=l.getContentContainer(b);return c.prepend(a)}).then(function(){return C(b)})["catch"](c.exception)},L=function(a,b){b.remove(),D(a);var c=a.find(n.CONVERSATION);if(!c.length){var d=l.getRoot(a);l.hideContent(d),l.showEmptyMessage(d)}},M=function(a,b){var c=b.find(n.UNREAD_COUNT);c.text("0"),c.addClass("hidden"),E(a)},N=function(c,e,f,g){var h=l.getRoot(c),m=c.find(n.TOGGLE);c.css("min-height",m.outerHeight()),c.on("show.bs.collapse",function(){u(c),l.show(h,e,y)}),c.on("hidden.bs.collapse",function(){v(c)}),d.subscribe(i.CONTACT_BLOCKED,function(a){var b=G(c,a);b.length&&H(b)}),d.subscribe(i.CONTACT_UNBLOCKED,function(a){var b=G(c,a);b.length&&I(b)}),d.subscribe(i.CONVERSATION_NEW_LAST_MESSAGE,function(a){if(!(f&&a.type!=f||g&&!a.isFavourite||!g&&a.isFavourite)){var b=a.id,d=F(c,b);d.length?J(d,a):K(c,a)}}),d.subscribe(i.CONVERSATION_DELETED,function(a){var b=F(c,a);b.length&&L(c,b)}),d.subscribe(i.CONVERSATION_READ,function(a){var b=F(c,a);b.length&&M(c,b)}),d.subscribe(i.CONVERSATION_SET_FAVOURITE,function(a){var b=null;!g||f&&f!=a.type?f==a.type&&(b=F(c,a.id),b.length&&L(c,b)):(b=F(c,a.id),b.length||K(c,a))}),d.subscribe(i.CONVERSATION_UNSET_FAVOURITE,function(a){var b=null;g?(b=F(c,a.id),b.length&&L(c,b)):f==a.type&&(b=F(c,a.id),b.length||K(c,a))}),b.define(c,[b.events.activate]),c.on(b.events.activate,n.CONVERSATION,function(b,c){var d=a(b.target).closest(n.CONVERSATION),e=d.attr("data-conversation-id"),f=q[e];j.go(k.VIEW_CONVERSATION,f),c.originalEvent.preventDefault()})},O=function(b,c,d,e,f){if(b=a(b),!b.attr("data-init")){var g=z(c,d,0);if(N(b,g,c,d),t(b)){u(b);var h=l.getRoot(b);l.show(h,g,y)}e.then(function(a){w(b,a),r=!0})["catch"](function(){}),f.then(function(a){x(b,a),s=!0})["catch"](function(){}),b.attr("data-init",!0)}};return{show:O,isVisible:t}});
define('core_message/message_repository', ["jquery","core/ajax","core/notification"],function(a,b,c){var d={PRIVATE:1,PUBLIC:2},e=function(a){"undefined"==typeof a.limit&&(a.limit=0),"undefined"==typeof a.offset&&(a.offset=0),"undefined"==typeof a.type&&(a.type=null),"undefined"==typeof a.favouritesonly&&(a.favouritesonly=!1),a.limitfrom=a.offset,a.limitnum=a.limit,delete a.limit,delete a.offset;var d={methodname:"core_message_data_for_messagearea_conversations",args:a},e=b.call([d])[0];return e.fail(c.exception),e},f=function(a){var d={methodname:"core_message_get_unread_conversations_count",args:a},e=b.call([d])[0];return e.fail(c.exception),e},g=function(a){var d={methodname:"core_message_mark_all_messages_as_read",args:a},e=b.call([d])[0];return e.fail(c.exception),e},h=function(a,c,d){var e={userid:a};"undefined"!=typeof c&&(e.limitnum=c),"undefined"!=typeof d&&(e.limitfrom=d);var f={methodname:"core_message_get_user_contacts",args:e};return b.call([f])[0]},i=function(a,c){var d={methodname:"core_message_data_for_messagearea_get_profile",args:{currentuserid:a,otheruserid:c}};return b.call([d])[0]},j=function(c,d){var e=[{methodname:"core_message_block_user",args:{userid:c,blockeduserid:d}},{methodname:"core_message_get_member_info",args:{referenceuserid:c,userids:[d],includecontactrequests:!0,includeprivacyinfo:!0}}];return a.when.apply(null,b.call(e)).then(function(a,b){return b.length?b[0]:{}})},k=function(c,d){var e=[{methodname:"core_message_unblock_user",args:{userid:c,unblockeduserid:d}},{methodname:"core_message_get_member_info",args:{referenceuserid:c,userids:[d],includecontactrequests:!0,includeprivacyinfo:!0}}];return a.when.apply(null,b.call(e)).then(function(a,b){return b.length?b[0]:{}})},l=function(a,c){var d={methodname:"core_message_create_contact_request",args:{userid:a,requesteduserid:c}};return b.call([d])[0]},m=function(c,d){var e=[{methodname:"core_message_delete_contacts",args:{userid:c,userids:d}},{methodname:"core_message_get_member_info",args:{referenceuserid:c,userids:d,includecontactrequests:!0,includeprivacyinfo:!0}}];return a.when.apply(null,b.call(e)).then(function(a,b){return b})},n=function(a,c,d,e,f,g){var h={currentuserid:a,convid:c,newest:!!f};"undefined"!=typeof d&&(h.limitnum=d),"undefined"!=typeof e&&(h.limitfrom=e),"undefined"!=typeof g&&(h.timefrom=g);var i={methodname:"core_message_get_conversation_messages",args:h};return b.call([i])[0]},o=function(a,c,d,e){var f={userid:a,search:c};"undefined"!=typeof d&&(f.limitnum=d),"undefined"!=typeof e&&(f.limitfrom=e);var g={methodname:"core_message_message_search_users",args:f};return b.call([g])[0]},p=function(a,c,d,e){var f={userid:a,search:c};"undefined"!=typeof d&&(f.limitnum=d),"undefined"!=typeof e&&(f.limitfrom=e);var g={methodname:"core_message_data_for_messagearea_search_messages",args:f};return b.call([g])[0]},q=function(a,c){var d=c.map(function(b){return{touserid:a,text:b}}),e={methodname:"core_message_send_instant_messages",args:{messages:d}};return b.call([e])[0].then(function(a){var b=a.reduce(function(a,b){return b.errormessage&&a.push(b.errormessage),a},[]);if(b.length)throw new Error(b.join("\n"));return a}).then(function(a){return a.map(function(a){return{id:a.msgid,text:a.text,timecreated:a.timecreated,useridfrom:a.useridfrom,conversationid:a.conversationid}})})},r=function(a,b){return q(a,[b]).then(function(a){return a[0]})},s=function(a,c){var d=c.map(function(a){return{text:a}}),e={methodname:"core_message_send_messages_to_conversation",args:{conversationid:a,messages:d}};return b.call([e])[0]},t=function(a,b){return s(a,[b]).then(function(a){return a[0]})},u=function(a,c){var d={methodname:"core_user_update_user_preferences",args:{userid:a,preferences:c}};return b.call([d])[0]},v=function(a){var c={methodname:"core_user_get_user_preferences",args:{userid:a}};return b.call([c])[0]},w=function(c,d){return a.when.apply(null,b.call(d.map(function(a){return{methodname:"core_message_delete_message",args:{messageid:a,userid:c}}})))},x=function(a,c){var d={methodname:"core_message_delete_conversations_by_id",args:{userid:a,conversationids:[c]}};return b.call([d])[0]},y=function(a){var c={methodname:"core_message_get_contact_requests",args:{userid:a}};return b.call([c])[0]},z=function(c,d){var e=[{methodname:"core_message_confirm_contact_request",args:{userid:c,requesteduserid:d}},{methodname:"core_message_get_member_info",args:{referenceuserid:d,userids:[c],includecontactrequests:!0,includeprivacyinfo:!0}}];return a.when.apply(null,b.call(e)).then(function(a,b){return b.length?b[0]:{}})},A=function(c,d){var e=[{methodname:"core_message_decline_contact_request",args:{userid:c,requesteduserid:d}},{methodname:"core_message_get_member_info",args:{referenceuserid:d,userids:[c],includecontactrequests:!0,includeprivacyinfo:!0}}];return a.when.apply(null,b.call(e)).then(function(a,b){return b.length?b[0]:{}})},B=function(a,c,d,e,f,g,h,i,j){var k={userid:a,conversationid:c};"undefined"!=typeof d&&null!==d&&(k.includecontactrequests=d),"undefined"!=typeof e&&null!==e&&(k.includeprivacyinfo=e),"undefined"!=typeof f&&null!==f&&(k.memberlimit=f),"undefined"!=typeof g&&null!==g&&(k.memberoffset=g),"undefined"!=typeof h&&null!==h&&(k.messagelimit=h),"undefined"!=typeof i&&null!==i&&(k.messageoffset=i),"undefined"!=typeof j&&null!==j&&(k.newestmessagesfirst=j);var l={methodname:"core_message_get_conversation",args:k};return b.call([l])[0]},C=function(a,c,d,e,f,g,h,i,j){var k={userid:a,otheruserid:c};"undefined"!=typeof d&&null!==d&&(k.includecontactrequests=d),"undefined"!=typeof e&&null!==e&&(k.includeprivacyinfo=e),"undefined"!=typeof f&&null!==f&&(k.memberlimit=f),"undefined"!=typeof g&&null!==g&&(k.memberoffset=g),"undefined"!=typeof h&&null!==h&&(k.messagelimit=h),"undefined"!=typeof i&&null!==i&&(k.messageoffset=i),"undefined"!=typeof j&&null!==j&&(k.newestmessagesfirst=j);var l={methodname:"core_message_get_conversation_between_users",args:k};return b.call([l])[0]},D=function(a,c,e,f,g){var h={userid:a,type:c};"undefined"!=typeof e&&null!==e&&(h.limitnum=e),"undefined"!=typeof f&&null!==f&&(h.limitfrom=f),"undefined"!=typeof g&&null!==g&&(h.favourites=g);var i={methodname:"core_message_get_conversations",args:h};return b.call([i])[0].then(function(a){return a.conversations.length&&(a.conversations=a.conversations.map(function(a){if(a.type==d.PRIVATE){var b=a.members.length?a.members[0]:null;b&&(a.name=a.name?a.name:b.fullname,a.imageurl=a.imageurl?a.imageurl:b.profileimageurl)}return a})),a})},E=function(a,c,d,e,f){var g={userid:c,conversationid:a};"undefined"!=typeof d&&null!==d&&(g.limitnum=d),"undefined"!=typeof e&&null!==e&&(g.limitfrom=e),"undefined"!=typeof f&&null!==f&&(g.includecontactrequests=f);var h={methodname:"core_message_get_conversation_members",args:g};return b.call([h])[0]},F=function(a,c){var d={methodname:"core_message_set_favourite_conversations",args:{userid:a,conversations:c}};return b.call([d])[0]},G=function(a,c){var d={methodname:"core_message_unset_favourite_conversations",args:{userid:a,conversations:c}};return b.call([d])[0]},H=function(a,c,d,e){var f={referenceuserid:a,userids:c};"undefined"!=typeof d&&(f.includecontactrequests=d),"undefined"!=typeof e&&(f.includeprivacyinfo=e);var g={methodname:"core_message_get_member_info",args:f};return b.call([g])[0]},I=function(a,c){var d={methodname:"core_message_mark_all_conversation_messages_as_read",args:{userid:a,conversationid:c}};return b.call([d])[0]},J=function(a){var c={methodname:"core_message_get_user_message_preferences",args:{userid:a}};return b.call([c])[0]},K=function(a){var c={methodname:"core_message_get_conversation_counts",args:{userid:a}};return b.call([c])[0]},L=function(a){var c={methodname:"core_message_get_unread_conversation_counts",args:{userid:a}};return b.call([c])[0]},M=function(c){var d=[{methodname:"core_message_get_conversation_counts",args:{userid:c}},{methodname:"core_message_get_unread_conversation_counts",args:{userid:c}}];return a.when.apply(null,b.call(d)).then(function(a,b){return{total:a,unread:b}})};return{query:e,countUnreadConversations:f,markAllAsRead:g,getContacts:h,getProfile:i,blockUser:j,unblockUser:k,createContactRequest:l,deleteContacts:m,getMessages:n,searchUsers:o,searchMessages:p,sendMessagesToUser:q,sendMessageToUser:r,sendMessagesToConversation:s,sendMessageToConversation:t,savePreferences:u,getPreferences:v,deleteMessages:w,deleteConversation:x,getContactRequests:y,acceptContactRequest:z,declineContactRequest:A,getConversation:B,getConversationBetweenUsers:C,getConversations:D,getConversationMembers:E,setFavouriteConversations:F,unsetFavouriteConversations:G,getMemberInfo:H,markAllConversationMessagesAsRead:I,getUserMessagePreferences:J,getTotalConversationCounts:K,getUnreadConversationCounts:L,getAllConversationCounts:M}});
define('core_message/message_drawer_lazy_load_list', ["jquery","core/custom_interaction_events"],function(a,b){var c={ROOT:'[data-region="lazy-load-list"]',LOADING_ICON_CONTAINER:'[data-region="loading-icon-container"]',CONTENT_CONTAINER:'[data-region="content-container"]',EMPTY_MESSAGE:'[data-region="empty-message-container"]',PLACEHOLDER:'[data-region="placeholder-container"]'},d=function(a){a.attr("data-loading",!0)},e=function(a){a.attr("data-loading",!1)},f=function(a){return"true"===a.attr("data-loading")},g=function(a){return a.attr("data-user-id")},h=function(a){return a.find(c.CONTENT_CONTAINER)},i=function(a){return a.find(c.ROOT)},j=function(a){a.find(c.LOADING_ICON_CONTAINER).removeClass("hidden")},k=function(a){a.find(c.LOADING_ICON_CONTAINER).addClass("hidden")},l=function(a){a.find(c.EMPTY_MESSAGE).removeClass("hidden")},m=function(a){a.find(c.EMPTY_MESSAGE).addClass("hidden")},n=function(a){a.find(c.PLACEHOLDER).removeClass("hidden")},o=function(a){a.find(c.PLACEHOLDER).addClass("hidden")},p=function(a){h(a).removeClass("hidden")},q=function(a){h(a).addClass("hidden")},r=function(a){return"true"==a.attr("data-loaded-all")},s=function(a,b){a.attr("data-loaded-all",b)},t=function(a){return!r(a)&&!f(a)},u=function(a,b,c){var f=g(a);return d(a),b(a,f).then(function(b){if(b.length>0){var d=h(a);return c(d,b,f).then(function(){return b})}return b}).then(function(b){return e(a),a.attr("data-seen",!0),b.length||s(a,!0),b})["catch"](function(){e(a),a.attr("data-seen",!0)})},v=function(a,b,c){return h(a).empty(),n(a),q(a),u(a,b,c).then(function(b){o(a),b.length?p(a):l(a)})["catch"](function(){o(a),p(a)})},w=function(a,c,d){b.define(a,[b.events.scrollBottom]),a.on(b.events.scrollBottom,function(){t(a)&&(j(a),u(a,c,d).then(function(){return k(a)})["catch"](function(){return k(a)}))})},x=function(b,c,d){b=a(b),b.attr("data-init")||(w(b,c,d),v(b,c,d),b.attr("data-init",!0))};return{show:x,getContentContainer:h,getRoot:i,setLoadedAll:s,showEmptyMessage:l,hideEmptyMessage:m,showContent:p,hideContent:q}});
define('core_message/message_drawer_view_contacts', ["jquery","core/pubsub","core/str","core_message/message_drawer_events","core_message/message_drawer_view_contacts_section_contacts","core_message/message_drawer_view_contacts_section_requests"],function(a,b,c,d,e,f){var g={ACTION_SHOW_CONTACTS_SECTION:'[data-action="show-contacts-section"]',ACTION_SHOW_REQUESTS_SECTION:'[data-action="show-requests-section"]',CONTACT_REQUEST_COUNT:'[data-region="contact-request-count"]',CONTACTS_SECTION_CONTAINER:'[data-section="contacts"]',REQUESTS_SECTION_CONTAINER:'[data-section="requests"]'},h=function(a){return a.find(g.CONTACTS_SECTION_CONTAINER)},i=function(a){return a.find(g.REQUESTS_SECTION_CONTAINER)},j=function(a){return a.hasClass("active")},k=function(a){return function(){var b=a.find(g.CONTACT_REQUEST_COUNT),c=parseInt(b.text(),10);c=isNaN(c)?0:c-1,c<=0?b.addClass("hidden"):b.text(c)}},l=function(a){var c=h(a),j=i(a),l=a.find(g.ACTION_SHOW_CONTACTS_SECTION),m=a.find(g.ACTION_SHOW_REQUESTS_SECTION);l.on("show.bs.tab",function(){e.show(c)}),m.on("show.bs.tab",function(){f.show(j)}),b.subscribe(d.CONTACT_REQUEST_ACCEPTED,k(a)),b.subscribe(d.CONTACT_REQUEST_DECLINED,k(a))},m=function(b,c){c=a(c),c.attr("data-contacts-init")||(l(c),c.attr("data-contacts-init",!0));var d=h(c),g=i(c);return j(d)?e.show(d):f.show(g),a.Deferred().resolve().promise()},n=function(){return c.get_string("messagedrawerviewcontacts","core_message")};return{show:m,description:n}});
define('core_message/message_area_search', ["jquery","core/ajax","core/templates","core/notification","core/str","core/custom_interaction_events","core_message/message_area_events"],function(a,b,c,d,e,f,g){function h(a){this.messageArea=a,this._init()}var i={CONTACTS:"[data-region='contacts'][data-region-content='contacts']",CONTACTSAREA:"[data-region='contacts-area']",CONVERSATIONS:"[data-region='contacts'][data-region-content='conversations']",DELETESEARCHFILTER:"[data-region='search-filter-area']",LOADINGICON:".loading-icon",SEARCHBOX:"[data-region='search-box']",SEARCHFILTER:"[data-region='search-filter']",SEARCHFILTERAREA:"[data-region='search-filter-area']",SEARCHRESULTSAREA:"[data-region='search-results-area']",SEARCHTEXTAREA:"[data-region='search-text-area']",SEARCHUSERSINCOURSE:"[data-action='search-users-in-course']"};return h.prototype.messageArea=null,h.prototype._searchArea=null,h.prototype._courseid=null,h.prototype._isLoading=!1,h.prototype._numMessagesDisplayed=0,h.prototype._numMessagesToRetrieve=20,h.prototype._numUsersDisplayed=0,h.prototype._numUsersToRetrieve=20,h.prototype._searchAreas={MESSAGES:"messages",USERS:"users",USERSINCOURSE:"usersincourse"},h.prototype._requestTimeout=null,h.prototype._init=function(){this.messageArea.find(i.SEARCHTEXTAREA).on("input",this._searchRequest.bind(this)),this.messageArea.onDelegateEvent(f.events.activate,i.SEARCHUSERSINCOURSE,function(b){this._setFilter(a(b.currentTarget).html()),this._setPlaceholderText("searchforuser"),this._clearSearchArea(),this._searchArea=this._searchAreas.USERSINCOURSE,this._courseid=a(b.currentTarget).data("courseid"),this._searchUsersInCourse(),this.messageArea.find(i.SEARCHBOX).focus()}.bind(this)),this.messageArea.onDelegateEvent(f.events.activate,i.DELETESEARCHFILTER,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.USERS,this._setPlaceholderText("searchforuserorcourse"),this.messageArea.trigger(g.USERSSEARCHCANCELED),this.messageArea.find(i.SEARCHBOX).focus()}.bind(this)),this.messageArea.onCustomEvent(g.CONVERSATIONSSELECTED,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.MESSAGES,this._setPlaceholderText("searchmessages")}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTSSELECTED,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.USERS,this._setPlaceholderText("searchforuserorcourse")}.bind(this)),this.messageArea.onCustomEvent(g.MESSAGESENT,function(){this._hideSearchResults(),this._searchArea=this._searchAreas.MESSAGES,this._setPlaceholderText("searchmessages")}.bind(this)),f.define(this.messageArea.find(i.SEARCHRESULTSAREA),[f.events.scrollBottom]),this.messageArea.onDelegateEvent(f.events.scrollBottom,i.SEARCHRESULTSAREA,function(){this._searchArea==this._searchAreas.MESSAGES?this._searchMessages():this._searchArea==this._searchAreas.USERSINCOURSE&&this._searchUsersInCourse()}.bind(this)),this._searchArea=this.messageArea.showContactsFirst()?this._searchAreas.USERS:this._searchAreas.MESSAGES},h.prototype._searchRequest=function(){var a=this.messageArea.find(i.SEARCHTEXTAREA+" input").val();return this._requestTimeout&&clearTimeout(this._requestTimeout),""===a.trim()?void(this._searchArea==this._searchAreas.MESSAGES?(this._hideSearchResults(),this.messageArea.trigger(g.MESSAGESEARCHCANCELED)):this._searchArea==this._searchAreas.USERS?(this._hideSearchResults(),this.messageArea.trigger(g.USERSSEARCHCANCELED)):this._searchArea==this._searchAreas.USERSINCOURSE&&(this._clearSearchArea(),this._searchUsersInCourse())):(this.messageArea.find(i.CONVERSATIONS).hide(),this.messageArea.find(i.CONTACTS).hide(),this.messageArea.find(i.SEARCHRESULTSAREA).show(),void(this._searchArea==this._searchAreas.MESSAGES?this._requestTimeout=setTimeout(function(){this._clearSearchArea(),this._numMessagesDisplayed=0,this._searchMessages()}.bind(this),300):this._searchArea==this._searchAreas.USERSINCOURSE?this._requestTimeout=setTimeout(function(){this._clearSearchArea(),this._numUsersDisplayed=0,this._searchUsersInCourse()}.bind(this),300):this._requestTimeout=setTimeout(function(){this._clearSearchArea(),this._numUsersDisplayed=0,this._searchUsers()}.bind(this),300)))},h.prototype._searchMessages=function(){if(this._isLoading)return!1;var a=this.messageArea.find(i.SEARCHBOX).val();this._isLoading=!0;var e=b.call([{methodname:"core_message_data_for_messagearea_search_messages",args:{userid:this.messageArea.getCurrentUserId(),search:a,limitfrom:this._numMessagesDisplayed,limitnum:this._numMessagesToRetrieve}}]),f=0;return c.render("core/loading",{}).then(function(a,b){return c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),"<div style='text-align:center'>"+a+"</div>",b),e[0]}.bind(this)).then(function(a){return f=a.contacts.length,c.render("core_message/message_area_message_search_results",a)}).then(function(a,b){this.messageArea.find(i.SEARCHRESULTSAREA+" "+i.LOADINGICON).remove(),f>0?(c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._numMessagesDisplayed+=f):0==this._numMessagesDisplayed&&c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._isLoading=!1}.bind(this)).fail(d.exception)},h.prototype._searchUsers=function(){var a=this.messageArea.find(i.SEARCHBOX).val(),e=b.call([{methodname:"core_message_data_for_messagearea_search_users",args:{userid:this.messageArea.getCurrentUserId(),search:a,limitnum:this._numUsersToRetrieve}}]);return c.render("core/loading",{}).then(function(a,b){return c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),"<div style='text-align:center'>"+a+"</div>",b),e[0]}.bind(this)).then(function(a){return a.contacts.length>0&&(a.hascontacts=!0),a.courses.length>0&&(a.hascourses=!0),a.noncontacts.length>0&&(a.hasnoncontacts=!0),c.render("core_message/message_area_user_search_results",a)}).then(function(a,b){c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b)}.bind(this)).fail(d.exception)},h.prototype._searchUsersInCourse=function(){if(this._isLoading)return!1;var a=this.messageArea.find(i.SEARCHBOX).val();this._isLoading=!0;var e=b.call([{methodname:"core_message_data_for_messagearea_search_users_in_course",args:{userid:this.messageArea.getCurrentUserId(),courseid:this._courseid,search:a,limitfrom:this._numUsersDisplayed,limitnum:this._numUsersToRetrieve}}]),f=0;return c.render("core/loading",{}).then(function(a,b){return c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),"<div style='text-align:center'>"+a+"</div>",b),e[0]}.bind(this)).then(function(a){return f=a.contacts.length,f>0&&(a.hascontacts=!0),c.render("core_message/message_area_user_search_results",a)}).then(function(a,b){this.messageArea.find(i.SEARCHRESULTSAREA+" "+i.LOADINGICON).remove(),f>0?(c.appendNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._numUsersDisplayed+=f):0==this._numUsersDisplayed&&c.replaceNodeContents(this.messageArea.find(i.SEARCHRESULTSAREA),a,b),this._isLoading=!1}.bind(this)).fail(d.exception)},h.prototype._setPlaceholderText=function(a){return e.get_string(a,"message").then(function(a){this.messageArea.find(i.SEARCHTEXTAREA+" input").attr("placeholder",a)}.bind(this))},h.prototype._setFilter=function(a){this.messageArea.find(i.SEARCHBOX).val(""),this.messageArea.find(i.CONTACTSAREA).addClass("searchfilter"),this.messageArea.find(i.SEARCHFILTERAREA).show(),this.messageArea.find(i.SEARCHFILTER).html(a),e.get_string("removecoursefilter","message",a).then(function(a){this.messageArea.find(i.SEARCHFILTERAREA).attr("aria-label",a)}.bind(this))["catch"](d.exception)},h.prototype._clearFilters=function(){this.messageArea.find(i.CONTACTSAREA).removeClass("searchfilter"),this.messageArea.find(i.SEARCHFILTER).empty(),this.messageArea.find(i.SEARCHFILTERAREA).hide(),this.messageArea.find(i.SEARCHFILTERAREA).removeAttr("aria-label")},h.prototype._clearSearchArea=function(){this.messageArea.find(i.SEARCHRESULTSAREA).empty()},h.prototype._hideSearchResults=function(){this._clearFilters(),this.messageArea.find(i.SEARCHTEXTAREA+" input").val(""),this._clearSearchArea(),this.messageArea.find(i.SEARCHRESULTSAREA).hide()},h});
define('core_message/message_area_events', [],function(){return{CANCELDELETEMESSAGES:"cancel-delete-messages",CHOOSEMESSAGESTODELETE:"choose-messages-to-delete",CONTACTADDED:"contact-added",CONTACTBLOCKED:"contact-blocked",CONTACTREMOVED:"contact-removed",CONTACTSELECTED:"contact-selected",CONTACTSSELECTED:"contacts-selected",CONTACTUNBLOCKED:"contact-unblocked",CONVERSATIONDELETED:"conversation-deleted",CONVERSATIONSELECTED:"conversation-selected",CONVERSATIONSSELECTED:"conversations-selected",MESSAGESDELETED:"messages-deleted",MESSAGESEARCHCANCELED:"message-search-canceled",MESSAGESENT:"message-sent",SENDMESSAGE:"message-send",USERSSEARCHCANCELED:"users-search-canceled"}});
define('core_message/message_drawer', ["jquery","core/custom_interaction_events","core/pubsub","core_message/message_drawer_view_contact","core_message/message_drawer_view_contacts","core_message/message_drawer_view_conversation","core_message/message_drawer_view_group_info","core_message/message_drawer_view_overview","core_message/message_drawer_view_search","core_message/message_drawer_view_settings","core_message/message_drawer_router","core_message/message_drawer_routes","core_message/message_drawer_events"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={VIEW_CONTACT:'[data-region="view-contact"]',VIEW_CONTACTS:'[data-region="view-contacts"]',VIEW_CONVERSATION:'[data-region="view-conversation"]',VIEW_GROUP_INFO:'[data-region="view-group-info"]',VIEW_OVERVIEW:'[data-region="view-overview"]',VIEW_SEARCH:'[data-region="view-search"]',VIEW_SETTINGS:'[data-region="view-settings"]',ROUTES:"[data-route]",ROUTES_BACK:"[data-route-back]",HEADER_CONTAINER:'[data-region="header-container"]',BODY_CONTAINER:'[data-region="body-container"]',FOOTER_CONTAINER:'[data-region="footer-container"]'},o=function(a,b){var c=a.children(),d=c.filter(n.HEADER_CONTAINER).find(b),e=c.filter(n.BODY_CONTAINER).find(b),f=c.filter(n.FOOTER_CONTAINER).find(b),g=[d,e,f].filter(function(a){return a.length});return g},p=[[l.VIEW_CONTACT,n.VIEW_CONTACT,d.show,d.description],[l.VIEW_CONTACTS,n.VIEW_CONTACTS,e.show,e.description],[l.VIEW_CONVERSATION,n.VIEW_CONVERSATION,f.show,f.description],[l.VIEW_GROUP_INFO,n.VIEW_GROUP_INFO,g.show,g.description],[l.VIEW_OVERVIEW,n.VIEW_OVERVIEW,h.show,h.description],[l.VIEW_SEARCH,n.VIEW_SEARCH,i.show,i.description],[l.VIEW_SETTINGS,n.VIEW_SETTINGS,j.show,j.description]],q=function(a){p.forEach(function(b){k.add(b[0],o(a,b[1]),b[2],b[3])})},r=function(a){a.attr("data-shown")||(k.go(l.VIEW_OVERVIEW),a.attr("data-shown",!0)),a.removeClass("hidden"),a.attr("aria-expanded",!0),a.attr("aria-hidden",!1)},s=function(a){a.addClass("hidden"),a.attr("aria-expanded",!1),a.attr("aria-hidden",!0)},t=function(a){return!a.hasClass("hidden")},u=function(d){b.define(d,[b.events.activate]);var e=/^data-route-param-?(\d*)$/;d.on(b.events.activate,n.ROUTES,function(b,c){for(var d=a(b.target).closest(n.ROUTES),f=d.attr("data-route"),g=[],h=0;h<d[0].attributes.length;h++)g.push(d[0].attributes[h]);var i=g.filter(function(a){var b=a.nodeName,c=e.test(b);return c});i.sort(function(a,b){var c=e.exec(a.nodeName),d=e.exec(b.nodeName),f=c.length>1?c[1]:0,g=d.length>1?d[1]:0;return f<g?-1:g<f?1:0});var j=i.map(function(a){return a.nodeValue}),l=[f].concat(j);k.go.apply(null,l),c.originalEvent.preventDefault()}),d.on(b.events.activate,n.ROUTES_BACK,function(a,b){k.back(),b.originalEvent.preventDefault()}),c.subscribe(m.SHOW,function(){r(d)}),c.subscribe(m.HIDE,function(){s(d)}),c.subscribe(m.TOGGLE_VISIBILITY,function(){t(d)?s(d):r(d)}),c.subscribe(m.SHOW_CONVERSATION,function(a){r(d),k.go(l.VIEW_CONVERSATION,a)}),c.subscribe(m.CREATE_CONVERSATION_WITH_USER,function(a){r(d),k.go(l.VIEW_CONVERSATION,null,"create",a)}),c.subscribe(m.SHOW_SETTINGS,function(){r(d),k.go(l.VIEW_SETTINGS)}),c.subscribe(m.PREFERENCES_UPDATED,function(a){var b=a.filter(function(a){return"message_entertosend"==a.type}),c=b.length?b[0]:null;if(c){var e=d.find(n.FOOTER_CONTAINER).find(n.VIEW_CONVERSATION);e.attr("data-enter-to-send",c.value)}})},v=function(b){b=a(b),q(b),u(b)};return{init:v}});
define('core_message/toggle_contact_button', ["jquery","core/ajax","core/templates","core/notification","core/custom_interaction_events"],function(a,b,c,d,e){var f=function(a){return"1"==a.attr("data-is-contact")},g=function(a){a.attr("data-is-contact","1")},h=function(a){a.attr("data-is-contact","0")},i=function(a){return a.attr("data-userid")},j=function(a){return a.hasClass("loading")||a.attr("disabled")},k=function(c,e){return j(c)?a.Deferred():(c.addClass("loading"),c.attr("disabled","disabled"),b.call([e])[0].fail(d.exception).always(function(){c.removeClass("loading"),c.removeAttr("disabled")}))},l=function(a){if(!j(a)){var b={methodname:"core_message_create_contacts",args:{userids:[i(a)]}};k(a,b).done(function(){g(a),c.render("message/remove_contact_button",{}).done(function(b,d){c.replaceNodeContents(a,b,d)})})}},m=function(a){if(!j(a)){var b={methodname:"core_message_delete_contacts",args:{userids:[i(a)]}};k(a,b).done(function(){h(a),c.render("message/add_contact_button",{}).done(function(b,d){c.replaceNodeContents(a,b,d)})})}},n=function(b){b=a(b),b.children(".loading-icon").length||c.render("core/loading",{}).done(function(a,c){b.append(a,c)}),e.define(b,[e.events.activate]),b.on(e.events.activate,function(a,c){f(b)?m(b):l(b),a.preventDefault(),c.originalEvent.preventDefault()})};return{enhance:n}});
define('core_message/message_area_contacts', ["jquery","core/ajax","core/templates","core/notification","core/custom_interaction_events","core/str","core_message/message_area_events"],function(a,b,c,d,e,f,g){function h(a){this.messageArea=a,this._init()}var i={CONTACT:"[data-region='contact']",CONTACTICONBLOCKED:"[data-region='contact-icon-blocked']",CONTACTS:"[data-region='contacts'][data-region-content='contacts']",CONTACTSAREA:"[data-region='contacts-area']",CONVERSATIONS:"[data-region='contacts'][data-region-content='conversations']",COURSE:"[data-region='course']",LASTMESSAGETEXT:"[data-region='last-message-text']",LASTMESSAGEUSER:"[data-region='last-message-user']",LOADINGICON:".loading-icon",MESSAGETEXT:"[data-region='message-text']",MESSAGINGAREA:"[data-region='messaging-area']",NOCONTACTS:"[data-region=no-contacts]",SEARCHBOX:"[data-region='search-box']",SEARCHRESULTSAREA:"[data-region='search-results-area']",SEARCHTEXTAREA:"[data-region='search-text-area']",SELECTEDVIEWCONVERSATION:"[data-action='view-contact-msg'].selected",SELECTEDVIEWPROFILE:"[data-action='view-contact-profile'].selected",SHOWMESSAGES:"[data-action='show-messages']",VIEWCONVERSATION:"[data-action='view-contact-msg']",VIEWPROFILE:"[data-action='view-contact-profile']"};return h.prototype._isLoadingConversations=!1,h.prototype._isLoadingContacts=!1,h.prototype._numContactsDisplayed=0,h.prototype._numContactsToRetrieve=20,h.prototype._numConversationsDisplayed=0,h.prototype._numConversationsToRetrieve=20,h.prototype._messageLength=60,h.prototype.messageArea=null,h.prototype._init=function(){e.define(this.messageArea.node,[e.events.activate,e.events.down,e.events.up]),this.messageArea.onCustomEvent(g.MESSAGESEARCHCANCELED,this._viewConversations.bind(this)),this.messageArea.onCustomEvent(g.USERSSEARCHCANCELED,this._viewContacts.bind(this)),this.messageArea.onCustomEvent(g.CONTACTSSELECTED,this._viewContacts.bind(this)),this.messageArea.onCustomEvent(g.CONVERSATIONDELETED,this._deleteConversation.bind(this)),this.messageArea.onCustomEvent(g.CONVERSATIONSSELECTED,this._viewConversations.bind(this)),this.messageArea.onCustomEvent(g.CONTACTSSELECTED,this._viewContacts.bind(this)),this.messageArea.onCustomEvent(g.MESSAGESDELETED,this._updateLastMessage.bind(this)),this.messageArea.onCustomEvent(g.MESSAGESENT,this._handleMessageSent.bind(this)),this.messageArea.onCustomEvent(g.CONTACTREMOVED,function(a,b){this._removeContact(i.CONTACTS,b)}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTADDED,function(a,b){this._addContact(b)}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTBLOCKED,function(a,b){this._blockContact(b)}.bind(this)),this.messageArea.onCustomEvent(g.CONTACTUNBLOCKED,function(a,b){this._unblockContact(b)}.bind(this)),this.messageArea.onCustomEvent(g.CHOOSEMESSAGESTODELETE,this._startDeleting.bind(this)),this.messageArea.onCustomEvent(g.CANCELDELETEMESSAGES,this._stopDeleting.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,i.VIEWCONVERSATION,this._viewConversation.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,i.VIEWPROFILE,this._viewContact.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,i.SHOWMESSAGES,this._showMessagingArea.bind(this)),this.messageArea.onDelegateEvent(e.events.up,i.CONTACT,this._selectPreviousContact.bind(this)),this.messageArea.onDelegateEvent(e.events.down,i.CONTACT,this._selectNextContact.bind(this)),this.messageArea.onDelegateEvent(e.events.up,i.VIEWCONVERSATION,this._selectPreviousConversation.bind(this)),this.messageArea.onDelegateEvent(e.events.down,i.VIEWCONVERSATION,this._selectNextConversation.bind(this)),this.messageArea.onDelegateEvent(e.events.up,i.COURSE,this._selectPreviousCourse.bind()),this.messageArea.onDelegateEvent(e.events.down,i.COURSE,this._selectNextCourse.bind()),this.messageArea.onDelegateEvent("focus",i.SEARCHBOX,this._setSearching.bind(this)),this.messageArea.onDelegateEvent("blur",i.SEARCHBOX,this._clearSearching.bind(this)),e.define(this.messageArea.find(i.CONVERSATIONS),[e.events.scrollBottom]),e.define(this.messageArea.find(i.CONTACTS),[e.events.scrollBottom]),this.messageArea.onDelegateEvent(e.events.scrollBottom,i.CONVERSATIONS,this._loadConversations.bind(this)),this.messageArea.onDelegateEvent(e.events.scrollBottom,i.CONTACTS,this._loadContacts.bind(this)),this.messageArea.showContactsFirst()||(this._numConversationsDisplayed=20)},h.prototype._startDeleting=function(){this.messageArea.find(i.CONTACTSAREA).addClass("editing")},h.prototype._stopDeleting=function(){this.messageArea.find(i.CONTACTSAREA).removeClass("editing")},h.prototype._viewConversations=function(){0===this._numConversationsDisplayed&&this._loadConversations(),this.messageArea.find(i.CONTACTS).hide(),this.messageArea.find(i.CONVERSATIONS).show()},h.prototype._viewContacts=function(){0===this._numContactsDisplayed&&this._loadContacts(),this.messageArea.find(i.CONVERSATIONS).hide(),this.messageArea.find(i.CONTACTS).show()},h.prototype._handleMessageSent=function(a,b,c){this._viewConversations();var d=this._getUserNode(i.CONVERSATIONS,b);if(0===d.length){var e=this._getUserNode(i.CONTACTS,b);if(0===e.length&&(e=this._getUserNode(i.SEARCHRESULTSAREA,b)),0==e.length)return;d=e.clone(),d.attr("data-action","view-contact-msg"),this.messageArea.find(i.CONVERSATIONS+" "+i.NOCONTACTS).remove(),this._numConversationsDisplayed++}d.prependTo(this.messageArea.find(i.CONVERSATIONS)),this.messageArea.find(i.CONVERSATIONS).scrollTop(0),this._updateContactText(d,c,!0),this._setSelectedUser("[data-userid='"+b+"']")},h.prototype._loadConversations=function(){if(this._isLoadingConversations)return!1;this._isLoadingConversations=!0;var a=0;return c.render("core/loading",{}).then(function(a,b){return this._numConversationsDisplayed?c.appendNodeContents(this.messageArea.find(i.CONVERSATIONS),"<div style='text-align:center'>"+a+"</div>",b):c.replaceNodeContents(this.messageArea.find(i.CONVERSATIONS),"<div style='text-align:center'>"+a+"</div>",b),this._getItems("core_message_data_for_messagearea_conversations",this._numConversationsDisplayed,this._numConversationsToRetrieve)}.bind(this)).then(function(b){return a=b.contacts.length,b.isconversation=!0,c.render("core_message/message_area_contacts",b)}).then(function(b,d){this.messageArea.find(i.CONVERSATIONS+" "+i.LOADINGICON).remove(),a>0?(c.appendNodeContents(this.messageArea.find(i.CONVERSATIONS),b,d),this._numConversationsDisplayed+=this._numConversationsToRetrieve):this._numConversationsDisplayed||c.replaceNodeContents(this.messageArea.find(i.CONVERSATIONS),b,d),this._isLoadingConversations=!1}.bind(this)).fail(d.exception)},h.prototype._loadContacts=function(){if(this._isLoadingContacts)return!1;this._isLoadingContacts=!0;var a=0;return c.render("core/loading",{}).then(function(a,b){return this._numContactsDisplayed?c.appendNodeContents(this.messageArea.find(i.CONTACTS),"<div style='text-align:center'>"+a+"</div>",b):c.replaceNodeContents(this.messageArea.find(i.CONTACTS),"<div style='text-align:center'>"+a+"</div>",b),this._getItems("core_message_data_for_messagearea_contacts",this._numContactsDisplayed,this._numContactsToRetrieve)}.bind(this)).then(function(b){return a=b.contacts.length,b.isconversation=!1,c.render("core_message/message_area_contacts",b)}).then(function(b,d){this.messageArea.find(i.CONTACTS+" "+i.LOADINGICON).remove(),a>0?(c.appendNodeContents(this.messageArea.find(i.CONTACTS),b,d),this._numContactsDisplayed+=a):this._numContactsDisplayed||c.replaceNodeContents(this.messageArea.find(i.CONTACTS),b,d),this._isLoadingContacts=!1}.bind(this)).fail(d.exception)},h.prototype._viewConversation=function(b){this.messageArea.trigger(g.CANCELDELETEMESSAGES);var c=a(b.currentTarget).data("userid"),d=a(b.currentTarget).data("messageid"),e="[data-userid='"+c+"']";d&&(e="[data-messageid='"+d+"']"),this._setSelectedUser(e),this.messageArea.trigger(g.CONVERSATIONSELECTED,c),this.messageArea.find(i.SELECTEDVIEWPROFILE).removeClass("selected"),this._showMessagingArea()},h.prototype._viewContact=function(b){this.messageArea.trigger(g.CANCELDELETEMESSAGES);var c=a(b.currentTarget).data("userid");this._setSelectedUser("[data-userid='"+c+"']"),this.messageArea.trigger(g.CONTACTSELECTED,c),this.messageArea.find(i.SELECTEDVIEWCONVERSATION).removeClass("selected"),this._showMessagingArea()},h.prototype._getItems=function(a,c,d){var e=b.call([{methodname:a,args:{userid:this.messageArea.getCurrentUserId(),limitfrom:c,limitnum:d}}]);return e[0]},h.prototype._deleteConversation=function(a,b){this._removeContact(i.CONVERSATIONS,b),this._numConversationsDisplayed--,this._hideMessagingArea(),this._stopDeleting()},h.prototype._updateLastMessage=function(a,b,c){if(c){var d=this._getUserNode(i.CONVERSATIONS,b),e=c.find(i.MESSAGETEXT).text().trim(),f=!1;c.data("useridto")==b&&(f=!0),this._updateContactText(d,e,f)}this._stopDeleting()},h.prototype._addContact=function(){this.messageArea.find(i.CONTACTS).empty(),this._numContactsDisplayed=0,this._loadContacts()},h.prototype._removeContact=function(a,b){this._getUserNode(a,b).remove(),this._numContactsDisplayed--},h.prototype._blockContact=function(a){var b=this._getUserNode(i.CONTACTS,a);b.find(i.CONTACTICONBLOCKED).removeClass("hidden"),b=this._getUserNode(i.CONVERSATIONS,a),b.find(i.CONTACTICONBLOCKED).removeClass("hidden"),b=this._getUserNode(i.SEARCHRESULTSAREA,a),b.find(i.CONTACTICONBLOCKED).removeClass("hidden")},h.prototype._unblockContact=function(a){var b=this._getUserNode(i.CONTACTS,a);b.find(i.CONTACTICONBLOCKED).addClass("hidden"),b=this._getUserNode(i.CONVERSATIONS,a),b.find(i.CONTACTICONBLOCKED).addClass("hidden"),b=this._getUserNode(i.SEARCHRESULTSAREA,a),b.find(i.CONTACTICONBLOCKED).addClass("hidden")},h.prototype._getUserNode=function(a,b){return this.messageArea.find(a+" "+i.CONTACT+"[data-userid='"+b+"']")},h.prototype._setSelectedUser=function(a){this.messageArea.find(i.CONTACT).removeClass("selected"),this.messageArea.find(i.CONTACT).attr("aria-pressed",!1),this.messageArea.find(i.CONTACT+a).addClass("selected"),this.messageArea.find(i.CONTACT+a).attr("aria-pressed",!0)},h.prototype._getContactText=function(a){return a.length>this._messageLength&&(a=a.substr(0,this._messageLength-3),a+="..."),document.createTextNode(a)},h.prototype._updateContactText=function(a,b,c){b=this._getContactText(b),c?f.get_string("you","message").done(function(b){a.find(i.LASTMESSAGEUSER).empty().append(b)}).always(function(){a.find(i.LASTMESSAGETEXT).empty().append(b)}):(a.find(i.LASTMESSAGEUSER).empty(),a.find(i.LASTMESSAGETEXT).empty().append(b))},h.prototype._selectNextContact=function(b,c){var d=a(b.target).closest(i.CONTACT),e=d.next();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectPreviousContact=function(b,c){var d=a(b.target).closest(i.CONTACT),e=d.prev();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectNextCourse=function(b,c){var d=a(b.target).closest(i.COURSE);d.next().focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectPreviousCourse=function(b,c){var d=a(b.target).closest(i.COURSE);d.prev().focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectNextConversation=function(b,c){var d=a(b.target).closest(i.VIEWCONVERSATION),e=d.next();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._selectPreviousConversation=function(b,c){var d=a(b.target).closest(i.VIEWCONVERSATION),e=d.prev();e.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},h.prototype._setSearching=function(){a(i.SEARCHTEXTAREA).addClass("searching")},h.prototype._clearSearching=function(){a(i.SEARCHTEXTAREA).removeClass("searching")},h.prototype._showMessagingArea=function(){this.messageArea.find(i.MESSAGINGAREA).removeClass("hide-messages").addClass("show-messages")},h.prototype._hideMessagingArea=function(){this.messageArea.find(i.MESSAGINGAREA).removeClass("show-messages").addClass("hide-messages")},h});
define('core_message/message_drawer_view_overview', ["jquery","core/key_codes","core/pubsub","core/str","core_message/message_drawer_router","core_message/message_drawer_routes","core_message/message_drawer_events","core_message/message_drawer_view_overview_section","core_message/message_repository"],function(a,b,c,d,e,f,g,h,i){var j={CONTACT_REQUEST_COUNT:'[data-region="contact-request-count"]',FAVOURITES:'[data-region="view-overview-favourites"]',GROUP_MESSAGES:'[data-region="view-overview-group-messages"]',MESSAGES:'[data-region="view-overview-messages"]',SEARCH_INPUT:'[data-region="view-overview-search-input"]',SECTION_TOGGLE_BUTTON:"[data-toggle]"},k={PRIVATE:1,PUBLIC:2,FAVOURITE:null},l=null,m=function(a){return null===l&&(l=i.getAllConversationCounts(a)),l},n=function(a,b){return b===k.FAVOURITE?a.favourites:a.types[b]},o=function(a){var b=a.some(function(a){var b=a[0];return h.isVisible(b)});if(!b){a.sort(function(a,b){var c=a[1],d=a[2],e=b[1],f=b[2];return d>0&&0==f?-1:0==d&&f>0?1:c>0&&0==e?-1:0==c&&e>0?1:0});var c=a[0][0],d=c.find(j.SECTION_TOGGLE_BUTTON);d.click()}},p=function(a){return a.find(j.SEARCH_INPUT)},q=function(a){return a.attr("data-user-id")},r=function(a){return function(){var b=a.find(j.CONTACT_REQUEST_COUNT),c=parseInt(b.text(),10);c=isNaN(c)?0:c-1,c<=0?b.addClass("hidden"):b.text(c)}},s=function(a){var d=p(a),h=[b.tab,b.shift,b.ctrl,b.alt];d.on("click",function(){e.go(f.VIEW_SEARCH)}),d.on("keydown",function(a){h.indexOf(a.keyCode)<0&&"Meta"!=a.key&&e.go(f.VIEW_SEARCH)}),c.subscribe(g.CONTACT_REQUEST_ACCEPTED,r(a)),c.subscribe(g.CONTACT_REQUEST_DECLINED,r(a))},t=function(a,b){a.attr("data-init")||(s(a),a.attr("data-init",!0)),p(a).val("");var c=q(b),d=m(c),e=[[b.find(j.FAVOURITES),k.FAVOURITE,!0],[b.find(j.GROUP_MESSAGES),k.PUBLIC,!1],[b.find(j.MESSAGES),k.PRIVATE,!1]];return e.forEach(function(a){var b=a[0],c=a[1],e=a[2],f=d.then(function(a){return n(a.total,c)}),g=d.then(function(a){return n(a.unread,c)});h.show(b,c,e,f,g)}),d.then(function(a){var b=e.map(function(b){var c=b[0],d=b[1],e=n(a.total,d),f=n(a.unread,d);return[c,e,f]});return o(b)})},u=function(){return d.get_string("messagedrawerviewoverview","core_message")};return{show:t,description:u}});
define('core_message/message_area_messages', ["jquery","core/ajax","core/templates","core/notification","core/custom_interaction_events","core/auto_rows","core_message/message_area_actions","core/modal_factory","core/modal_events","core/str","core_message/message_area_events","core/backoff_timer"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){this.messageArea=a,this._init()}var n=500,o=50,p={BLOCKTIME:"[data-region='blocktime']",CANCELDELETEMESSAGES:"[data-action='cancel-delete-messages']",CONTACT:"[data-region='contact']",CONVERSATIONS:"[data-region='contacts'][data-region-content='conversations']",DELETEALLMESSAGES:"[data-action='delete-all-messages']",DELETEMESSAGES:"[data-action='delete-messages']",LOADINGICON:".loading-icon",MESSAGE:"[data-region='message']",MESSAGERESPONSE:"[data-region='response']",MESSAGES:"[data-region='messages']",MESSAGESAREA:"[data-region='messages-area']",MESSAGINGAREA:"[data-region='messaging-area']",SENDMESSAGE:"[data-action='send-message']",SENDMESSAGETEXT:"[data-region='send-message-txt']",SHOWCONTACTS:"[data-action='show-contacts']",STARTDELETEMESSAGES:"[data-action='start-delete-messages']"},q=1e3;return m.prototype._isSendingMessage=!1,m.prototype._isLoadingMessages=!1,m.prototype._numMessagesDisplayed=0,m.prototype._messageQueue=[],m.prototype._numMessagesToRetrieve=20,m.prototype._confirmationModal=null,m.prototype._latestMessageTimestamp=0,m.prototype._backoffTimer=null,m.prototype.messageArea=null,m.prototype._init=function(){e.define(this.messageArea.node,[e.events.activate,e.events.up,e.events.down,e.events.enter]),a(window).height()<=670&&(n=400),f.init(this.messageArea.node),this.messageArea.onCustomEvent(k.CONVERSATIONSELECTED,this._viewMessages.bind(this)),this.messageArea.onCustomEvent(k.SENDMESSAGE,this._viewMessages.bind(this)),this.messageArea.onCustomEvent(k.CHOOSEMESSAGESTODELETE,this._chooseMessagesToDelete.bind(this)),this.messageArea.onCustomEvent(k.CANCELDELETEMESSAGES,this._hideDeleteAction.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.SENDMESSAGE,this._sendMessage.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.STARTDELETEMESSAGES,this._startDeleting.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.DELETEMESSAGES,this._deleteMessages.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.DELETEALLMESSAGES,this._deleteAllMessages.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.CANCELDELETEMESSAGES,this._triggerCancelMessagesToDelete.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.MESSAGE,this._toggleMessage.bind(this)),this.messageArea.onDelegateEvent(e.events.activate,p.SHOWCONTACTS,this._hideMessagingArea.bind(this)),this.messageArea.onDelegateEvent(e.events.up,p.MESSAGE,this._selectPreviousMessage.bind(this)),this.messageArea.onDelegateEvent(e.events.down,p.MESSAGE,this._selectNextMessage.bind(this)),this.messageArea.onDelegateEvent("focus",p.SENDMESSAGETEXT,this._setMessaging.bind(this)),this.messageArea.onDelegateEvent("blur",p.SENDMESSAGETEXT,this._clearMessaging.bind(this)),a(document).on(f.events.ROW_CHANGE,this._adjustMessagesAreaHeight.bind(this));var b=this.messageArea.find(p.MESSAGES);b.length&&(this._addScrollEventListener(b.find(p.MESSAGE).length),this._latestMessageTimestamp=b.find(p.MESSAGE+":last").data("timecreated")),this._backoffTimer=new l(this._loadNewMessages.bind(this),l.getIncrementalCallback(this.messageArea.pollmin*q,q,this.messageArea.pollmax*q,this.messageArea.polltimeout*q)),this._backoffTimer.start()},m.prototype._viewMessages=function(e,f){this._numMessagesDisplayed=0,this._backoffTimer.stop(),this._latestMessageTimestamp=0;var g=b.call([{methodname:"core_message_mark_all_messages_as_read",args:{useridto:this.messageArea.getCurrentUserId(),useridfrom:f}}]),h=0;return c.render("core/loading",{}).then(function(a,b){return c.replaceNodeContents(this.messageArea.find(p.MESSAGESAREA),a,b),g[0]}.bind(this)).then(function(){var b=this.messageArea.find(p.CONVERSATIONS+" "+p.CONTACT+"[data-userid='"+f+"']");return b.hasClass("unread")&&(b.removeClass("unread"),a(document).trigger("messagearea:conversationselected",f)),this._getMessages(f)}.bind(this)).then(function(a){return h=a.messages.length,c.render("core_message/message_area_messages_area",a)}).then(function(a,b){c.replaceNodeContents(this.messageArea.find(p.MESSAGESAREA),a,b),this._addScrollEventListener(h),this._backoffTimer.restart(),this.messageArea.find(p.SENDMESSAGETEXT).focus()}.bind(this)).fail(d.exception)},m.prototype._loadMessages=function(){if(this._isLoadingMessages)return!1;this._isLoadingMessages=!0;var b=0;return c.render("core/loading",{}).then(function(a,b){return c.prependNodeContents(this.messageArea.find(p.MESSAGES),"<div style='text-align:center'>"+a+"</div>",b),this._getMessages(this._getUserId())}.bind(this)).then(function(a){return b=a.messages.length,c.render("core_message/message_area_messages",a)}).then(function(d,e){if(this.messageArea.find(p.MESSAGES+" "+p.LOADINGICON).remove(),b>0){var f=a("<div>"+d+"</div>");this._hasMatchingBlockTime(this.messageArea.node,f,!0)&&this.messageArea.node.find(p.BLOCKTIME+":first").remove();var g=this.messageArea.find(p.MESSAGES)[0].scrollHeight;c.prependNodeContents(this.messageArea.find(p.MESSAGES),d,e);var h=this.messageArea.find(p.MESSAGES)[0].scrollHeight;this.messageArea.find(p.MESSAGES).scrollTop(h-g),this._numMessagesDisplayed+=b}this._isLoadingMessages=!1}.bind(this)).fail(d.exception)},m.prototype._loadNewMessages=function(){if(this._isLoadingMessages)return!1;if(!this._getUserId())return!1;this._isLoadingMessages=!0;var a=!1,b=this.messageArea.find(p.MESSAGES);if(0!==b.length){var c=b.scrollTop(),e=b.innerHeight(),f=b[0].scrollHeight;c+e>=f&&(a=!0)}return this._getMessages(this._getUserId(),!0).then(function(b){return this._addMessagesToDom(b.messages,a)}.bind(this)).always(function(){this._isLoadingMessages=!1}.bind(this)).fail(d.exception)},m.prototype._getMessages=function(a,c){var e={currentuserid:this.messageArea.getCurrentUserId(),otheruserid:a,limitfrom:this._numMessagesDisplayed,limitnum:this._numMessagesToRetrieve,newest:!0};c&&(e.timefrom=this._latestMessageTimestamp,e.limitfrom=0,e.limitnum=0);var f=b.call([{methodname:"core_message_data_for_messagearea_messages",args:e}]);return f[0].then(function(a){var b=a.messages;if(b&&b.length){var c=b[b.length-1];c.timecreated>this._latestMessageTimestamp&&(this._latestMessageTimestamp=c.timecreated+1)}return a}.bind(this)).fail(function(a){this._backoffTimer.stop(),d.exception(a)}.bind(this))},m.prototype._sendMessage=function(){var a=this.messageArea.find(p.SENDMESSAGETEXT),c=a.val().trim();if(""===c)return!1;if(this._isSendingMessage)return!1;this._isSendingMessage=!0;var e=b.call([{methodname:"core_message_send_instant_messages",args:{messages:[{touserid:this._getUserId(),text:c}]}}]);return a.prop("disabled",!0),e[0].then(function(a){if(a.length<0)throw new Error("Invalid response");if(a[0].errormessage)throw new Error(a[0].errormessage);return this.messageArea.trigger(k.MESSAGESENT,[this._getUserId(),c]),this._addLastMessageToDom()}.bind(this)).then(function(){this._isSendingMessage=!1}.bind(this)).always(function(){a.prop("disabled",!1),a.focus()}).fail(d.exception)},m.prototype._chooseMessagesToDelete=function(){this.messageArea.find(p.MESSAGESAREA).addClass("editing"),this.messageArea.find(p.MESSAGE).attr("role","checkbox").attr("aria-checked","false")},m.prototype._deleteMessages=function(){var c=this.messageArea.getCurrentUserId(),e=this.messageArea.find(p.MESSAGE+"[aria-checked='true']"),f=[],g=[];e.each(function(b,d){var e=a(d),h=e.data("messageid"),i=e.data("messageread")?1:0;g.push(e),f.push({methodname:"core_message_delete_message",args:{messageid:h,userid:c,read:i}})}),f.length>0?a.when(b.call(f)).then(function(){var b=null,c=this.messageArea.find(p.MESSAGE),d=c.last(),e=g[g.length-1];a.each(g,function(a,b){b.remove()}),d.data("id")===e.data("id")&&(b=this.messageArea.find(p.MESSAGE).last()),a.each(g,function(a,b){var c=b.data("blocktime");0===this.messageArea.find(p.MESSAGE+"[data-blocktime='"+c+"']").length&&this.messageArea.find(p.BLOCKTIME+"[data-blocktime='"+c+"']").remove()}.bind(this)),0===this.messageArea.find(p.MESSAGE).length&&this.messageArea.find(p.CONVERSATIONS+" "+p.CONTACT+"[data-userid='"+this._getUserId()+"']").remove(),this.messageArea.trigger(k.MESSAGESDELETED,[this._getUserId(),b])}.bind(this))["catch"](d.exception):this.messageArea.trigger(k.MESSAGESDELETED,this._getUserId()),this._hideDeleteAction()},m.prototype._addScrollEventListener=function(a){this._scrollBottom(),this._numMessagesDisplayed=a,e.define(this.messageArea.find(p.MESSAGES),[e.events.scrollTop]),this.messageArea.onCustomEvent(e.events.scrollTop,this._loadMessages.bind(this))},m.prototype._deleteAllMessages=function(){if(this._confirmationModal)return void this._confirmationModal.show();var c=j.get_strings([{key:"confirm"},{key:"deleteallconfirm",component:"message"},{key:"delete"}]),e=h.create({type:h.types.SAVE_CANCEL},this.messageArea.find(p.DELETEALLMESSAGES));a.when(c,e).then(function(a,c){c.setTitle(a[0]),c.setBody(a[1]),c.setSaveButtonText(a[2]),this._confirmationModal=c,c.getRoot().on(i.save,function(){var a=this._getUserId(),c={methodname:"core_message_delete_conversation",args:{userid:this.messageArea.getCurrentUserId(),otheruserid:a}};b.call([c])[0].then(function(){this.messageArea.find(p.MESSAGESAREA).empty(),this.messageArea.trigger(k.CONVERSATIONDELETED,a),this._hideDeleteAction()}.bind(this))["catch"](d.exception)}.bind(this)),c.show()}.bind(this))["catch"](d.exception)},m.prototype._hideDeleteAction=function(){this.messageArea.find(p.MESSAGE).removeAttr("role").removeAttr("aria-checked"),this.messageArea.find(p.MESSAGESAREA).removeClass("editing")},m.prototype._triggerCancelMessagesToDelete=function(){this.messageArea.trigger(k.CANCELDELETEMESSAGES)},m.prototype._addMessagesToDom=function(b,d){var e=0,f=this.messageArea.find(p.MESSAGES);return b=b.filter(function(a){var b=""+a.id+a.isread;if(this._messageQueue[b])return!1;var c=f.find(p.MESSAGE+'[data-id="'+b+'"]');return c.length||(this._messageQueue[b]=!0),!c.length}.bind(this)),e=b.length,c.render("core_message/message_area_messages",{messages:b}).then(function(b,f){if(e>0){var g=a("<div>"+b+"</div>");this._hasMatchingBlockTime(this.messageArea.node,g,!1)&&g.find(p.BLOCKTIME+":first").remove(),c.appendNodeContents(this.messageArea.find(p.MESSAGES),g,f),d&&this._scrollBottom(),this._numMessagesDisplayed+=e,this._backoffTimer.restart()}}.bind(this))},m.prototype._addLastMessageToDom=function(){var a=b.call([{methodname:"core_message_data_for_messagearea_get_most_recent_message",args:{currentuserid:this.messageArea.getCurrentUserId(),otheruserid:this._getUserId()}}]);return a[0].then(function(a){return this._addMessagesToDom([a],!0)}.bind(this)).always(function(){this.messageArea.find(p.SENDMESSAGETEXT).val("").trigger("input")}.bind(this)).fail(d.exception)},m.prototype._getUserId=function(){return this.messageArea.find(p.MESSAGES).data("userid")},m.prototype._scrollBottom=function(){var a=this.messageArea.find(p.MESSAGES);0!==a.length&&a.scrollTop(a[0].scrollHeight)},m.prototype._selectPreviousMessage=function(b,c){var d=a(b.target).closest(p.MESSAGE);do d=d.prev();while(d.length&&!d.is(p.MESSAGE));d.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},m.prototype._selectNextMessage=function(b,c){var d=a(b.target).closest(p.MESSAGE);do d=d.next();while(d.length&&!d.is(p.MESSAGE));d.focus(),c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()},m.prototype._setMessaging=function(b){a(b.target).closest(p.MESSAGERESPONSE).addClass("messaging")},m.prototype._clearMessaging=function(b){a(b.target).closest(p.MESSAGERESPONSE).removeClass("messaging")},m.prototype._startDeleting=function(a){var b=new g(this.messageArea);b.chooseMessagesToDelete(),a.preventDefault()},m.prototype._isEditing=function(){return this.messageArea.find(p.MESSAGESAREA).hasClass("editing")},m.prototype._toggleMessage=function(b){if(this._isEditing()){var c=a(b.target).closest(p.MESSAGE);"true"===c.attr("aria-checked")?c.attr("aria-checked","false"):c.attr("aria-checked","true")}},m.prototype._adjustMessagesAreaHeight=function(){var a=this.messageArea.find(p.MESSAGES),b=this.messageArea.find(p.MESSAGERESPONSE),c=b.outerHeight(),d=c-o,e=n-d;a.outerHeight(e)},m.prototype._sendMessageHandler=function(a,b){b.originalEvent.preventDefault(),this._sendMessage()},m.prototype._hideMessagingArea=function(){this.messageArea.find(p.MESSAGINGAREA).removeClass("show-messages").addClass("hide-messages")},m.prototype._hasMatchingBlockTime=function(a,b,c){var d,e,f,g;return c?(e=":first",g=":last"):(e=":last",g=":first"),d=a.find(p.BLOCKTIME+e),f=b.find(p.BLOCKTIME+g),!(!d.length||!f.length)&&d.data("blocktime")==f.data("blocktime")},m});
define('core_message/message_drawer_view_search', ["jquery","core/custom_interaction_events","core/notification","core/pubsub","core/str","core/templates","core_message/message_repository","core_message/message_drawer_events"],function(a,b,c,d,e,f,g,h){var i=50,j=50,k=3,l={BLOCK_ICON_CONTAINER:'[data-region="block-icon-container"]',CANCEL_SEARCH_BUTTON:'[data-action="cancel-search"]',CONTACTS_CONTAINER:'[data-region="contacts-container"]',CONTACTS_LIST:'[data-region="contacts-container"] [data-region="list"]',EMPTY_MESSAGE_CONTAINER:'[data-region="empty-message-container"]',LIST:'[data-region="list"]',LOADING_ICON_CONTAINER:'[data-region="loading-icon-container"]',LOADING_PLACEHOLDER:'[data-region="loading-placeholder"]',MESSAGES_LIST:'[data-region="messages-container"] [data-region="list"]',MESSAGES_CONTAINER:'[data-region="messages-container"]',NON_CONTACTS_CONTAINER:'[data-region="non-contacts-container"]',NON_CONTACTS_LIST:'[data-region="non-contacts-container"] [data-region="list"]',SEARCH_ICON_CONTAINER:'[data-region="search-icon-container"]',SEARCH_ACTION:'[data-action="search"]',SEARCH_INPUT:'[data-region="search-input"]',SEARCH_RESULTS_CONTAINER:'[data-region="search-results-container"]',LOAD_MORE_USERS:'[data-action="load-more-users"]',LOAD_MORE_MESSAGES:'[data-action="load-more-messages"]',BUTTON_TEXT:'[data-region="button-text"]',NO_RESULTS_CONTAINTER:'[data-region="no-results-container"]',ALL_CONTACTS_CONTAINER:'[data-region="all-contacts-container"]'},m={CONTACTS_LIST:"core_message/message_drawer_contacts_list",NON_CONTACTS_LIST:"core_message/message_drawer_non_contacts_list",MESSAGES_LIST:"core_message/message_drawer_messages_list"},n=function(a){return a.attr("data-user-id")},o=function(a){return a.find(l.EMPTY_MESSAGE_CONTAINER)},p=function(a){return a.find(l.LOADING_ICON_CONTAINER)},q=function(a){return a.find(l.LOADING_PLACEHOLDER)},r=function(a){return a.find(l.SEARCH_ICON_CONTAINER)},s=function(a){return a.find(l.SEARCH_INPUT)},t=function(a){return a.find(l.SEARCH_RESULTS_CONTAINER)},u=function(a){return a.find(l.CONTACTS_CONTAINER)},v=function(a){return a.find(l.NON_CONTACTS_CONTAINER)},w=function(a){return a.find(l.MESSAGES_CONTAINER)},x=function(a){o(a).removeClass("hidden")},y=function(a){o(a).addClass("hidden")},z=function(a){p(a).removeClass("hidden")},A=function(a){p(a).addClass("hidden")},B=function(a){q(a).removeClass("hidden")},C=function(a){q(a).addClass("hidden")},D=function(a){r(a).removeClass("hidden")},E=function(a){r(a).addClass("hidden")},F=function(a){t(a).removeClass("hidden")},G=function(a){t(a).addClass("hidden")},H=function(a){var b=t(a);b.find(l.ALL_CONTACTS_CONTAINER).addClass("hidden"),b.find(l.MESSAGES_CONTAINER).addClass("hidden"),b.find(l.NO_RESULTS_CONTAINTER).removeClass("hidden")},I=function(a){var b=t(a);b.find(l.ALL_CONTACTS_CONTAINER).removeClass("hidden"),b.find(l.MESSAGES_CONTAINER).removeClass("hidden"),b.find(l.NO_RESULTS_CONTAINTER).addClass("hidden")},J=function(a){var b=t(a);b.find(l.ALL_CONTACTS_CONTAINER).removeClass("hidden")},K=function(a){var b=t(a);b.find(l.ALL_CONTACTS_CONTAINER).addClass("hidden")},L=function(a){var b=t(a);b.find(l.CONTACTS_CONTAINER).removeClass("hidden")},M=function(a){var b=t(a);b.find(l.CONTACTS_CONTAINER).addClass("hidden")},N=function(a){var b=t(a);b.find(l.NON_CONTACTS_CONTAINER).removeClass("hidden")},O=function(a){var b=t(a);b.find(l.NON_CONTACTS_CONTAINER).addClass("hidden")},P=function(a){var b=t(a);b.find(l.MESSAGES_CONTAINER).removeClass("hidden")},Q=function(a){var b=t(a);b.find(l.MESSAGES_CONTAINER).addClass("hidden")},R=function(a){s(a).prop("disabled",!0)},S=function(a){s(a).prop("disabled",!1)},T=function(a){s(a).val("")},U=function(a){a.find(l.CONTACTS_LIST).empty(),a.find(l.NON_CONTACTS_LIST).empty(),a.find(l.MESSAGES_LIST).empty(),I(a),J(a),L(a),N(a),P(a),Z(a),ba(a)},V=function(a,b){E(a),y(b),G(b),z(a),B(b),R(a)},W=function(a,b){D(a),y(b),F(b),A(a),C(b),S(a)},X=function(a){var b=a.find(l.LOAD_MORE_USERS);b.prop("disabled",!0),b.find(l.BUTTON_TEXT).addClass("hidden"),b.find(l.LOADING_ICON_CONTAINER).removeClass("hidden")},Y=function(a){var b=a.find(l.LOAD_MORE_USERS);b.prop("disabled",!1),b.find(l.BUTTON_TEXT).removeClass("hidden"),b.find(l.LOADING_ICON_CONTAINER).addClass("hidden")},Z=function(a){a.find(l.LOAD_MORE_USERS).removeClass("hidden")},$=function(a){a.find(l.LOAD_MORE_USERS).addClass("hidden")},_=function(a){var b=a.find(l.LOAD_MORE_MESSAGES);b.prop("disabled",!0),b.find(l.BUTTON_TEXT).addClass("hidden"),b.find(l.LOADING_ICON_CONTAINER).removeClass("hidden")},aa=function(a){var b=a.find(l.LOAD_MORE_MESSAGES);b.prop("disabled",!1),b.find(l.BUTTON_TEXT).removeClass("hidden"),b.find(l.LOADING_ICON_CONTAINER).addClass("hidden")},ba=function(a){a.find(l.LOAD_MORE_MESSAGES).removeClass("hidden")},ca=function(a){a.find(l.LOAD_MORE_MESSAGES).addClass("hidden")},da=function(a,b){return a.find('[data-contact-user-id="'+b+'"]')},ea=function(a,b){var c=v(a),d=da(c,b.userid);if(d.length){d.remove();var e=u(a);e.removeClass("hidden"),e.find(l.LIST).append(d)}c.find(l.LIST).children().length||c.addClass("hidden")},fa=function(a,b){var c=u(a),d=da(c,b);if(d.length){d.remove();var e=v(a);e.removeClass("hidden"),e.find(l.LIST).append(d)}c.find(l.LIST).children().length||c.addClass("hidden")},ga=function(a,b){var c=da(a,b);c.length&&c.find(l.BLOCK_ICON_CONTAINER).removeClass("hidden")},ha=function(a,b){var c=da(a,b);c.length&&c.find(l.BLOCK_ICON_CONTAINER).addClass("hidden")},ia=function(a,b){var c=u(a),d=c.find(l.LIST);return f.render(m.CONTACTS_LIST,{contacts:b}).then(function(a){return d.append(a),a})},ja=function(a,b){var c=v(a),d=c.find(l.LIST);return f.render(m.NON_CONTACTS_LIST,{noncontacts:b}).then(function(a){return d.append(a),a})},ka=function(a,b){var c=w(a),d=c.find(l.LIST);return f.render(m.MESSAGES_LIST,{messages:b}).then(function(a){return d.append(a),a})},la=function(b,c,d,e,f){var h=!1;return X(b),g.searchUsers(c,d,e+1,f).then(function(a){var b=a.contacts,c=a.noncontacts;return b.length<=e&&c.length<=e?(h=!0,{contacts:b,noncontacts:c}):{contacts:b.slice(0,e),noncontacts:c.slice(0,e)}}).then(function(c){var d=c.contacts.length,e=c.noncontacts.length;return a.when(!d||ia(b,c.contacts),!e||ja(b,c.noncontacts)).then(function(){return{contactsCount:d,nonContactsCount:e}})}).then(function(a){return Y(b),h&&$(b),a})["catch"](function(a){throw Y(b),a})},ma=function(a,b,c,d,e){var f=!1;return _(a),g.searchMessages(b,c,d+1,e).then(function(a){var b=a.contacts;return b.length<=d?(f=!0,b):b.slice(0,d)}).then(function(b){return b.length?ka(a,b).then(function(){return b.length}):b.length}).then(function(b){return aa(a),f&&ca(a),b})["catch"](function(b){throw aa(a),b})},na=function(b,c,d,e,f,g,h){var i=n(c);return V(b,c),U(c),a.when(la(c,i,d,e,f),ma(c,i,d,g,h)).then(function(a,d){var e=a.contactsCount,f=a.nonContactsCount;W(b,c),e||f||d?(e||f?(e||M(c),f||O(c)):K(c),d||Q(c)):H(c)})},oa=function(a,e){var f=n(e),g=s(a),m="",o=0,p=0,q=function(b,d){m=g.val().trim(),""!==m&&(o=0,p=0,na(a,e,m,k,p,i,o).then(function(){g.focus(),p+=k,o+=i})["catch"](c.exception)),d.originalEvent.preventDefault()};b.define(g,[b.events.enter]),b.define(a,[b.events.activate]),b.define(e,[b.events.activate]),g.on(b.events.enter,q),a.on(b.events.activate,l.SEARCH_ACTION,q),e.on(b.events.activate,l.LOAD_MORE_MESSAGES,function(a,b){""!==m&&ma(e,f,m,i,o).then(function(){o+=i})["catch"](c.exception),b.originalEvent.preventDefault()}),e.on(b.events.activate,l.LOAD_MORE_USERS,function(a,b){""!==m&&la(e,f,m,j,p).then(function(){p+=j})["catch"](c.exception),b.originalEvent.preventDefault()}),a.on(b.events.activate,l.CANCEL_SEARCH_BUTTON,function(){T(a),x(e),D(a),G(e),A(a),C(e),p=0,o=0}),d.subscribe(h.CONTACT_ADDED,function(a){ea(e,a)}),d.subscribe(h.CONTACT_REMOVED,function(a){fa(e,a)}),d.subscribe(h.CONTACT_BLOCKED,function(a){ga(e,a)}),d.subscribe(h.CONTACT_UNBLOCKED,function(a){ha(e,a)})},pa=function(b,c){c.attr("data-init")||(oa(b,c),c.attr("data-init",!0));var d=s(b);return d.focus(),a.Deferred().resolve().promise()},qa=function(a){var b=s(a),c=b.val().trim();return e.get_string("messagedrawerviewsearch","core_message",c)};return{show:pa,description:qa}});
define('core_message/message_drawer_events', [],function(){return{CREATE_CONVERSATION_WITH_USER:"message-drawer-create-conversation-with-user",CONTACT_BLOCKED:"message-drawer-contact-blocked",CONTACT_UNBLOCKED:"message-drawer-contact-unblocked",CONTACT_ADDED:"message-drawer-contact-added",CONTACT_REMOVED:"message-drawer-contact-removed",CONTACT_REQUEST_ACCEPTED:"message-drawer-contact-request-accepted",CONTACT_REQUEST_DECLINED:"message-drawer-contact-request-declined",CONVERSATION_CREATED:"message-drawer-conversation-created",CONVERSATION_NEW_LAST_MESSAGE:"message-drawer-conversation-new-last-message",CONVERSATION_DELETED:"message-drawer-conversation-deleted",CONVERSATION_READ:"message-drawer-conversation-read",CONVERSATION_SET_FAVOURITE:"message-drawer-conversation-set-favourite",CONVERSATION_UNSET_FAVOURITE:"message-drawer-conversation-unset-favourite",PREFERENCES_UPDATED:"message-drawer-preferences-updated",ROUTE_CHANGED:"message-drawer-route-change",SHOW:"message-drawer-show",HIDE:"message-drawer-hide",TOGGLE_VISIBILITY:"message-drawer-toggle",SHOW_CONVERSATION:"message-drawer-show-conversation",SHOW_SETTINGS:"message-drawer-show-settings"}});
define('core_message/preferences_notifications_list_controller', ["jquery","core/ajax","core/notification","core/custom_interaction_events","core_message/notification_preference","core_message/notification_processor_settings"],function(a,b,c,d,e,f){var g={DISABLE_NOTIFICATIONS:'[data-region="disable-notification-container"] [data-disable-notifications]',DISABLE_NOTIFICATIONS_CONTAINER:'[data-region="disable-notification-container"]',PREFERENCE:"[data-state]",PREFERENCE_ROW:'[data-region="preference-row"]',PREFERENCE_INPUT:"[data-state] input",PROCESSOR_SETTING:"[data-processor-setting]"},h=function(b){this.root=a(b),this.userId=this.root.attr("data-user-id"),this.registerEventListeners()};return h.prototype.isDisabled=function(){return this.root.hasClass("disabled")},h.prototype.setDisabled=function(){this.root.addClass("disabled"),this.root.find(g.PREFERENCE_INPUT).prop("disabled",!0)},h.prototype.setEnabled=function(){this.root.removeClass("disabled"),this.root.find(g.PREFERENCE_INPUT).prop("disabled",!1)},h.prototype.toggleDisableAllStatus=function(){var d=a(g.DISABLE_NOTIFICATIONS),e=a(g.DISABLE_NOTIFICATIONS_CONTAINER),f=d.prop("checked");if(e.hasClass("loading"))return a.Deferred().resolve();e.addClass("loading");var h={methodname:"core_user_update_user_preferences",args:{userid:this.userId,emailstop:f?1:0}};return b.call([h])[0].done(function(){f?this.setDisabled():this.setEnabled()}.bind(this)).always(function(){e.removeClass("loading")}).fail(c.exception)},h.prototype.registerEventListeners=function(){var b=a(g.DISABLE_NOTIFICATIONS);d.define(this.root,[d.events.activate]),this.root.on("change",function(b){if(!this.isDisabled()){var c=a(b.target).closest(g.PREFERENCE),d=a(b.target).closest(g.PREFERENCE_ROW),f=new e(d,this.userId);c.addClass("loading"),f.save().always(function(){c.removeClass("loading")})}}.bind(this)),this.root.on(d.events.activate,g.PROCESSOR_SETTING,function(b,c){var d=a(b.target).closest(g.PROCESSOR_SETTING),e=new f(d);e.show(),c.originalEvent.preventDefault()}),d.define(b,[d.events.activate]),b.on(d.events.activate,function(){this.toggleDisableAllStatus()}.bind(this))},h});
define('core_message/message_drawer_helper', ["core/pubsub","core_message/message_drawer_events"],function(a,b){var c=function(c){a.publish(b.CREATE_CONVERSATION_WITH_USER,c)},d=function(){a.publish(b.SHOW)},e=function(c){a.publish(b.SHOW_CONVERSATION,c)},f=function(){a.publish(b.SHOW_SETTINGS)};return{createConversationWithUser:c,show:d,showConversation:e,showSettings:f}});
define('core_message/message_drawer_router', ["jquery","core/pubsub","core/str","core_message/message_drawer_events"],function(a,b,c,d){var e={},f=[],g={CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]',ROUTES_BACK:"[data-route-back]"},h=function(a,b,c,d){e[a]={elements:b,onGo:c,getDescription:d}},i=function(c){var f,h=[].slice.call(arguments,1),i=a.Deferred().resolve().promise();if(Object.keys(e).forEach(function(a){var b=e[a],d=a===c;d&&(f=b),b.elements.forEach(function(a){a.removeClass("previous"),d?(a.removeClass("hidden"),a.attr("aria-hidden",!1)):(a.addClass("hidden"),a.attr("aria-hidden",!0))})}),f&&f.onGo){i=f.onGo.apply(void 0,f.elements.concat(h));for(var j=a(document.activeElement),k=!1,l=0;l<f.elements.length;l++){var m=f.elements[l];if(m.has(j).length){k=!0;break}}k||f.elements[0].find(g.CAN_RECEIVE_FOCUS).filter(":visible").first().focus()}var n={route:c,params:h,renderPromise:i};return b.publish(d.ROUTE_CHANGED,n),n},j=function(){var b=a(document.activeElement),d=i.apply(null,arguments),h=!1;f=f.reduce(function(a,b){return b.route===d.route&&(h=!0),h||a.push(b),a},[]);var j=f.length?f[f.length-1]:null;if(j){var k=e[j.route];k.elements.forEach(function(a){a.addClass("previous")}),j.focusElement=b,k.getDescription&&k.getDescription.apply(null,k.elements.concat(j.params)).then(function(a){return c.get_string("backto","core_message",a)}).then(function(a){return d.renderPromise.then(function(){e[d.route].elements.forEach(function(b){b.find(g.ROUTES_BACK).attr("aria-label",a)})})})["catch"](function(){})}return f.push(d),d},k=function(){if(f.length){f.pop();var a=f.pop();a&&(j.apply(void 0,[a.route].concat(a.params)),window.setTimeout(function(){a.focusElement.focus()},50))}};return{add:h,go:j,back:k}});
define('core_message/message_drawer_view_conversation_state_manager', ["jquery"],function(a){var b=function(b){var c=a.extend({},b);return c.messages=b.messages.map(function(b){return a.extend({},b)}),c.members=Object.keys(b.members).reduce(function(c,d){return c[d]=a.extend({},b.members[d]),c[d].contactrequests=b.members[d].contactrequests.map(function(b){return a.extend({},b)}),c},{}),c},c=function(a,b,c){return a.map(function(a){var d=a.useridfrom==b;return{id:parseInt(a.id,10),isRead:a.isread,fromLoggedInUser:d,userFrom:c[a.useridfrom],text:a.text,timeCreated:parseInt(a.timecreated,10)}})},d=function(a){return a.map(function(a){return{id:a.id,fullname:a.fullname,profileurl:a.profileurl,profileimageurl:a.profileimageurl,profileimageurlsmall:a.profileimageurlsmall,isonline:a.isonline,showonlinestatus:a.showonlinestatus,isblocked:a.isblocked,iscontact:a.iscontact,isdeleted:a.isdeleted,canmessage:a.canmessage,requirescontact:a.requirescontact,contactrequests:a.contactrequests||[]}})},e=function(a,b,c){return{midnight:a,loggedInUserId:b,id:c,name:null,subname:null,type:null,totalMemberCount:null,imageUrl:null,isFavourite:null,members:{},messages:[],hasTriedToLoadMessages:!1,loadingMessages:!0,sendingMessage:!1,loadingMembers:!0,loadingConfirmAction:!1,pendingBlockUserIds:[],pendingUnblockUserIds:[],pendingRemoveContactIds:[],pendingAddContactIds:[],pendingDeleteMessageIds:[],pendingDeleteConversation:!1,selectedMessageIds:[]}},f=function(a,d){var e=b(a),f=c(d,a.loggedInUserId,a.members),g=a.messages.concat(f);return g.sort(function(a,b){return a.timeCreated<b.timeCreated?-1:a.timeCreated>b.timeCreated?1:a.id<b.id?-1:a.id>b.id?1:0}),e.messages=g.filter(function(a,b,c){return!b||a.id!==c[b-1].id}),e},g=function(a,c){var d=b(a),e=c.map(function(a){return a.id});return d.messages=d.messages.filter(function(a){return e.indexOf(a.id)<0}),d},h=function(a,c){var d=b(a);return d.messages=d.messages.filter(function(a){return c.indexOf(a.id)<0}),d},i=function(a,c){var e=b(a),f=d(c);return f.forEach(function(a){e.members[a.id]=a}),e},j=function(a,c){var d=b(a);return c.forEach(function(a){delete d.members[a.id]}),d},k=function(a,c){var d=b(a);return d.loadingMessages=c,a.loadingMessages&&!c&&(d.hasTriedToLoadMessages=!0),d},l=function(a,c){var d=b(a);return d.sendingMessage=c,d},m=function(a,c){var d=b(a);return d.loadingMembers=c,d},n=function(a,c){var d=b(a);return d.id=c,d},o=function(a,c){var d=b(a);return d.name=c,d},p=function(a,c){var d=b(a);return d.subname=c,d},q=function(a,c){var d=b(a);return d.type=c,d},r=function(a,c){var d=b(a);return d.isFavourite=c,d},s=function(a,c){var d=b(a);return d.totalMemberCount=c,d},t=function(a,c){var d=b(a);return d.imageUrl=c,d},u=function(a,c){var d=b(a);return d.loadingConfirmAction=c,d},v=function(a,c){var d=b(a);return d.pendingDeleteConversation=c,d},w=function(a,c){var d=b(a);return c.forEach(function(a){d.pendingBlockUserIds.push(a)}),d},x=function(a,c){var d=b(a);return c.forEach(function(a){d.pendingRemoveContactIds.push(a)}),d},y=function(a,c){var d=b(a);return c.forEach(function(a){d.pendingUnblockUserIds.push(a)}),d},z=function(a,c){var d=b(a);return c.forEach(function(a){d.pendingAddContactIds.push(a)}),d},A=function(a,c){var d=b(a);return c.forEach(function(a){d.pendingDeleteMessageIds.push(a)}),d},B=function(a,c){var d=b(a);return d.pendingBlockUserIds=d.pendingBlockUserIds.filter(function(a){return c.indexOf(a)<0}),d},C=function(a,c){var d=b(a);return d.pendingRemoveContactIds=d.pendingRemoveContactIds.filter(function(a){return c.indexOf(a)<0}),d},D=function(a,c){var d=b(a);return d.pendingUnblockUserIds=d.pendingUnblockUserIds.filter(function(a){return c.indexOf(a)<0}),d},E=function(a,c){var d=b(a);return d.pendingAddContactIds=d.pendingAddContactIds.filter(function(a){return c.indexOf(a)<0}),d},F=function(a,c){var d=b(a);return d.pendingDeleteMessageIds=d.pendingDeleteMessageIds.filter(function(a){return c.indexOf(a)<0}),d},G=function(a,c){var d=b(a);return d.selectedMessageIds=d.selectedMessageIds.concat(c),d},H=function(a,c){var d=b(a);return d.selectedMessageIds=d.selectedMessageIds.filter(function(a){return c.indexOf(a)<0}),d},I=function(a,c){var d=b(a),e=c.map(function(a){return a.id});return d.messages=d.messages.map(function(a){return e.indexOf(a.id)>=0&&(a.isRead=!0),a}),d},J=function(a,c){var d=b(a);return c.forEach(function(a){var b=a.userid,c=a.requesteduserid;d.members[b].contactrequests.push(a),d.members[c].contactrequests.push(a)}),d},K=function(a,c){var d=b(a);return c.forEach(function(a){var b=a.userid,c=a.requesteduserid;d.members[b].contactrequests=d.members[b].contactrequests.filter(function(a){return a.userid!=b}),d.members[c].contactrequests=d.members[c].contactrequests.filter(function(a){return a.requesteduserid!=c})}),d};return{buildInitialState:e,addMessages:f,removeMessages:g,removeMessagesById:h,addMembers:i,removeMembers:j,setLoadingMessages:k,setSendingMessage:l,setLoadingMembers:m,setId:n,setName:o,setSubname:p,setType:q,setIsFavourite:r,setTotalMemberCount:s,setImageUrl:t,setLoadingConfirmAction:u,setPendingDeleteConversation:v,addPendingBlockUsersById:w,addPendingRemoveContactsById:x,addPendingUnblockUsersById:y,addPendingAddContactsById:z,addPendingDeleteMessagesById:A,removePendingBlockUsersById:B,removePendingRemoveContactsById:C,removePendingUnblockUsersById:D,removePendingAddContactsById:E,removePendingDeleteMessagesById:F,addSelectedMessagesById:G,removeSelectedMessagesById:H,markMessagesAsRead:I,addContactRequests:J,removeContactRequests:K}});
define('core_question/edit_tags', ["jquery","core/fragment","core/str","core/modal_events","core/modal_factory","core/notification","core/custom_interaction_events","core_question/repository","core_question/selectors"],function(a,b,c,d,e,f,g,h,i){var j=function(a){a.find(i.actions.save).prop("disabled",!1)},k=function(a){a.find(i.actions.save).prop("disabled",!0)},l=function(a){return a.getBody().find("form").serialize()},m=function(a){var b=a.find(i.containers.loadingIcon);b.removeClass("hidden")},n=function(a){var b=a.find(i.containers.loadingIcon);b.addClass("hidden")},o=function(a,b){a.getBody().attr("data-contextid",b)},p=function(a){return a.getBody().data("contextid")},q=function(a,b){a.getBody().attr("data-questionid",b)},r=function(a){return a.getBody().data("questionid")},s=function(h){var l=e.create({type:e.types.SAVE_CANCEL,large:!1},[h,i.actions.edittags]).then(function(a){return c.get_string("questiontags","question").then(function(b){return a.setTitle(b),b}).fail(f.exception),a.getRoot().on(d.save,function(b){var c=a.getBody().find("form");c.submit(),b.preventDefault()}),a.getRoot().on("submit","form",function(b){t(a,h).then(function(){a.hide(),location.reload()}).fail(f.exception),b.preventDefault(),b.stopPropagation()}),a});h.on(g.events.activate,i.actions.edittags,function(c){var d=a(c.currentTarget),e=d.data("questionid"),g=!!d.data("cantag"),p=d.data("contextid");l.then(function(a){k(h),m(h);var c={id:e},d=b.loadFragment("question","tags_form",p,c);return a.setBody(d),d.then(function(){j(h)}).always(function(){n(h)}).fail(f.exception),g?a.getRoot().find(i.actions.save).show():a.getRoot().find(i.actions.save).hide(),q(a,e),o(a,p),a}).fail(f.exception),c.preventDefault()})},t=function(a,b){k(b),m(b);var c=l(a),d=r(a),e=p(a);return h.submitTagCreateUpdateForm(d,e,c).always(function(){n(b),j(b)}).fail(f.exception)};return{init:function(b){b=a(b),s(b)}}});
define('core_question/selectors', [],function(){return{actions:{save:'[data-action="save"]',edittags:'[data-action="edittags"]'},containers:{loadingIcon:'[data-region="overlay-icon-container"]'}}});
define('core_question/repository', ["jquery","core/ajax"],function(a,b){var c=function(a,c,d){var e={methodname:"core_question_submit_tags_form",args:{questionid:a,contextid:c,formdata:d}};return b.call([e])[0]};return{submitTagCreateUpdateForm:c}});
define('core_search/form-search-user-selector', ["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b._label})}),d},transport:function(d,e,f,g){var h,i={query:e},j=a(d).attr("withincourseid");"undefined"!=typeof j&&""!==a("#id_searchwithin").val()?i.courseid=j:i.courseid=0,h=b.call([{methodname:"core_search_get_relevant_users",args:i}]),h[0].then(function(b){var d=[];return a.each(b,function(a,b){d.push(c.render("core_search/form-user-selector-suggestion",b))}),a.when.apply(a.when,d).then(function(){var c=arguments,d=0;a.each(b,function(a,b){b._label=c[d++]}),f(b)})}).fail(g)}}});
define('core_user/unified_filter', ["jquery","core/form-autocomplete","core/str","core/notification"],function(a,b,c,d){var e={UNIFIED_FILTERS:"#unified-filters"},f=function(){var f=[{key:"userfilterplaceholder",component:"moodle"},{key:"nofiltersapplied",component:"moodle"}];M.util.js_pending("unified_filter_datasource"),c.get_strings(f).done(function(a){var c=a[0],f=a[1];b.enhance(e.UNIFIED_FILTERS,!0,"core_user/unified_filter_datasource",c,!1,!0,f,!0).then(function(){M.util.js_complete("unified_filter_datasource")}).fail(d.exception)}).fail(d.exception);var g=a(e.UNIFIED_FILTERS).val();a(e.UNIFIED_FILTERS).on("change",function(){var b=a(this).val(),c=[],d=[],e=!1;if(a.each(b,function(a,b){var f=b.split(":",2);if(2!==f.length)return d.push(b),!0;var g=f[0],h=f[1];return"undefined"!=typeof c[g]&&(e=!0),c[g]=h,!0}),e){var f=[];for(var h in c)f.push(h+":"+c[h]);f=f.concat(d),a(this).val(f)}g.join(",")!=b.join(",")&&this.form.submit()})},g=function(){return a(e.UNIFIED_FILTERS).closest("form")};return{init:function(){f()},getForm:function(){return g()}}});
define('core_user/unified_filter_datasource', ["jquery","core/ajax","core/notification"],function(a,b,c){return{list:function(b,c){var d=[],e=a(b),f=a(b).data("originaloptionsjson"),g=e.val();a.each(f,function(b,e){return""!==a.trim(c)&&e.label.toLocaleLowerCase().indexOf(c.toLocaleLowerCase())===-1||(a.inArray(e.value,g)>-1||(d.push(e),!0))});var h=new a.Deferred;return h.resolve(d),h.promise()},processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.value,label:b.label})}),d},transport:function(a,b,d){this.list(a,b).then(d)["catch"](c.exception)}}});
define('core_user/participants', ["jquery","core/str","core/modal_factory","core/modal_events","core/templates","core/notification","core/ajax"],function(a,b,c,d,e,f,g){var h={BULKACTIONSELECT:"#formactionid",BULKUSERCHECKBOXES:"input.usercheckbox",BULKUSERNOSCHECKBOXES:"input.usercheckbox[value='0']",BULKUSERSELECTEDCHECKBOXES:"input.usercheckbox:checked",BULKACTIONFORM:"#participantsform",CHECKALLBUTTON:"#checkall",CHECKALLNOSBUTTON:"#checkallnos",CHECKALLONPAGEBUTTON:"#checkallonpage",CHECKNONEBUTTON:"#checknone"},i=function(a){this.courseId=a.courseid,this.noteStateNames=a.noteStateNames,this.stateHelpIcon=a.stateHelpIcon,this.attachEventListeners()};return i.prototype.modal=null,i.prototype.courseId=-1,i.prototype.noteStateNames={},i.prototype.stateHelpIcon="",i.prototype.attachEventListeners=function(){a(h.BULKACTIONSELECT).on("change",function(b){var c=a(b.target).val();if(c.indexOf("#")!==-1){b.preventDefault();var d=[];a(h.BULKUSERSELECTEDCHECKBOXES).each(function(b,c){var e=a(c).attr("name"),f=e.replace("user","");d.push(f)}),"#messageselect"==c?this.showSendMessage(d).fail(f.exception):"#addgroupnote"==c&&this.showAddNote(d).fail(f.exception),a(h.BULKACTIONSELECT+' option[value=""]').prop("selected","selected")}else""!==c&&(a(h.BULKUSERSELECTEDCHECKBOXES).length>0?a(h.BULKACTIONFORM).submit():a(h.BULKACTIONSELECT+' option[value=""]').prop("selected","selected"))}.bind(this)),a(h.CHECKALLBUTTON).on("click",function(){var b=a(this).data("showallink");b&&(window.location=b)}),a(h.CHECKALLNOSBUTTON).on("click",function(){a(h.BULKUSERNOSCHECKBOXES).prop("checked",!0)}),a(h.CHECKALLONPAGEBUTTON).on("click",function(){a(h.BULKUSERCHECKBOXES).prop("checked",!0)}),a(h.CHECKNONEBUTTON).on("click",function(){a(h.BULKUSERCHECKBOXES).prop("checked",!1)})},i.prototype.showAddNote=function(f){if(0==f.length)return a.Deferred().resolve().promise();var g=[];for(var i in this.noteStateNames)switch(i){case"draft":g.push({value:"personal",label:this.noteStateNames[i]});break;case"public":g.push({value:"course",label:this.noteStateNames[i],selected:1});break;case"site":g.push({value:i,label:this.noteStateNames[i]})}var j={stateNames:g,stateHelpIcon:this.stateHelpIcon},k=null;return k=1==f.length?b.get_string("addbulknotesingle","core_notes"):b.get_string("addbulknote","core_notes",f.length),a.when(c.create({type:c.types.SAVE_CANCEL,body:e.render("core_user/add_bulk_note",j)}),k).then(function(b,c){return this.modal=b,this.modal.setTitle(c),this.modal.setSaveButtonText(c),this.modal.getRoot().on(d.hidden,function(){var b=a("#user-notifications [role=alert]");b.length?b.focus():a(h.BULKACTIONSELECT).focus(),this.modal.getRoot().remove()}.bind(this)),this.modal.getRoot().on(d.save,this.submitAddNote.bind(this,f)),this.modal.show(),this.modal}.bind(this))},i.prototype.submitAddNote=function(a){var c=this.modal.getRoot().find("form textarea").val(),d=this.modal.getRoot().find("form select").val(),e=[],h=0;for(h=0;h<a.length;h++)e.push({userid:a[h],text:c,courseid:this.courseId,publishstate:d});return g.call([{methodname:"core_notes_create_notes",args:{notes:e}}])[0].then(function(a){return 1==a.length?b.get_string("addbulknotedonesingle","core_notes"):b.get_string("addbulknotedone","core_notes",a.length)}).then(function(a){return f.addNotification({message:a,type:"success"}),!0})["catch"](f.exception)},i.prototype.showSendMessage=function(f){if(0==f.length)return a.Deferred().resolve().promise();var g=null;return g=1==f.length?b.get_string("sendbulkmessagesingle","core_message"):b.get_string("sendbulkmessage","core_message",f.length),a.when(c.create({type:c.types.SAVE_CANCEL,body:e.render("core_user/send_bulk_message",{})}),g).then(function(b,c){return this.modal=b,this.modal.setTitle(c),this.modal.setSaveButtonText(c),this.modal.getRoot().on(d.hidden,function(){a(h.BULKACTIONSELECT).focus(),this.modal.getRoot().remove()}.bind(this)),this.modal.getRoot().on(d.save,this.submitSendMessage.bind(this,f)),this.modal.show(),this.modal}.bind(this))},i.prototype.submitSendMessage=function(a){var c=this.modal.getRoot().find("form textarea").val(),d=[],e=0;for(e=0;e<a.length;e++)d.push({touserid:a[e],text:c});return g.call([{methodname:"core_message_send_instant_messages",args:{messages:d}}])[0].then(function(a){return 1==a.length?b.get_string("sendbulkmessagesentsingle","core_message"):b.get_string("sendbulkmessagesent","core_message",a.length)}).then(function(a){return f.addNotification({message:a,type:"success"}),!0})["catch"](f.exception)},{init:function(a){return new i(a)}}});
define('core_user/status_field', ["core/templates","jquery","core/str","core/config","core/notification","core/modal_factory","core/modal_events","core/fragment","core/ajax"],function(a,b,c,d,e,f,g,h,i){var j={EDIT_ENROLMENT:'[data-action="editenrolment"]',SHOW_DETAILS:'[data-action="showdetails"]',UNENROL:'[data-action="unenrol"]'},k=function(a){this.contextid=a.contextid,this.courseid=a.courseid,this.bindEditEnrol(),this.bindUnenrol(),this.bindStatusDetails()};return k.prototype.courseid=0,k.prototype.bindEditEnrol=function(){var a=this;b(j.EDIT_ENROLMENT).click(function(d){d.preventDefault();var h=b(this),i=h.parent(),j=i.data("fullname"),k=h.attr("rel");b.when(c.get_string("edituserenrolment","enrol",j)).then(function(a){return f.create({large:!0,title:a,type:f.types.SAVE_CANCEL})}).done(function(b){b.getRoot().on(g.save,function(c){c.preventDefault(),a.submitEditFormAjax(b)}),b.getRoot().on(g.hidden,function(){b.destroy()}),b.setBody(a.getBody(k)),b.show()}).fail(e.exception)})},k.prototype.bindUnenrol=function(){var a=this;b(j.UNENROL).click(function(d){d.preventDefault();var h=b(this),i=h.parent(),j=[{key:"unenrol",component:"enrol"},{key:"unenrolconfirm",component:"enrol",param:{user:i.data("fullname"),course:i.data("coursename"),enrolinstancename:i.data("enrolinstancename")}}],k=f.create({type:f.types.SAVE_CANCEL});b.when(c.get_strings(j),k).done(function(c,e){var f=c[0],i=c[1];e.setTitle(f),e.setBody(i),e.setSaveButtonText(f),e.getRoot().on(g.save,function(){var c={ueid:b(h).attr("rel")};d.preventDefault(),a.submitUnenrolFormAjax(e,c)}),e.getRoot().on(g.hidden,function(){e.destroy()}),e.show()}).fail(e.exception)})},k.prototype.bindStatusDetails=function(){b(j.SHOW_DETAILS).click(function(d){d.preventDefault();var h=b(this),i=h.parent(),k={fullname:i.data("fullname"),coursename:i.data("coursename"),enrolinstancename:i.data("enrolinstancename"),status:i.data("status"),statusclass:i.find("span").attr("class"),timestart:i.data("timestart"),timeend:i.data("timeend")},l=[{key:"enroldetails",component:"enrol"}],m=h.next(j.EDIT_ENROLMENT);m.length&&(k.editenrollink=b("<div>").append(m.clone()).html());var n=c.get_strings(l),o=f.create({large:!0,type:f.types.CANCEL});b.when(n,o).done(function(c,d){var e=a.render("core_user/status_details",k);d.setTitle(c[0]),d.setBody(e),m.length&&d.getRoot().on("click",j.EDIT_ENROLMENT,function(a){a.preventDefault(),d.hide(),b(m).trigger("click")}),d.show(),d.getRoot().on(g.hidden,function(){d.destroy()})}).fail(e.exception)})},k.prototype.submitEditFormAjax=function(a){var c=this,d=a.getRoot().find("form"),f=b(d).find('[name="ue"]').val(),g=b(d).find('[name="status"]').val(),h={courseid:this.courseid,ueid:f,status:g},j=b(d).find('[name="timestart[enabled]"]');if(j.is(":checked")){var k=b(d).find('[name="timestart[year]"]').val(),l=b(d).find('[name="timestart[month]"]').val()-1,m=b(d).find('[name="timestart[day]"]').val(),n=b(d).find('[name="timestart[hour]"]').val(),o=b(d).find('[name="timestart[minute]"]').val(),p=new Date(k,l,m,n,o);h.timestart=p.getTime()/1e3}var q=b(d).find('[name="timeend[enabled]"]');if(q.is(":checked")){var r=b(d).find('[name="timeend[year]"]').val(),s=b(d).find('[name="timeend[month]"]').val()-1,t=b(d).find('[name="timeend[day]"]').val(),u=b(d).find('[name="timeend[hour]"]').val(),v=b(d).find('[name="timeend[minute]"]').val(),w=new Date(r,s,t,u,v);h.timeend=w.getTime()/1e3}var x={methodname:"core_enrol_edit_user_enrolment",args:h};i.call([x])[0].done(function(b){if(b.result)a.hide(),"undefined"!=typeof window.M.core_formchangechecker&&window.M.core_formchangechecker.reset_form_dirty_state(),window.location.reload();else{var e=JSON.stringify(d.serialize());a.setBody(c.getBody(f,e))}}).fail(e.exception)},k.prototype.submitUnenrolFormAjax=function(a,b){var c={methodname:"core_enrol_unenrol_user_enrolment",args:b};i.call([c])[0].done(function(b){b.result?(a.hide(),"undefined"!=typeof window.M.core_formchangechecker&&window.M.core_formchangechecker.reset_form_dirty_state(),window.location.reload()):e.alert(b.errors[0].key,b.errors[0].message)}).fail(e.exception)},k.prototype.getBody=function(a,b){var c={ueid:a};return"undefined"!=typeof b&&(c.formdata=b),h.loadFragment("enrol","user_enrolment_form",this.contextid,c).fail(e.exception)},{init:function(a){new k(a)}}});
define('qtype_ddimageortext/question', ["jquery","core/dragdrop","core/key_codes"],function(a,b,c){"use strict";function d(a,b,c){this.containerId=a,M.util.js_pending("qtype_ddimageortext-init-"+this.containerId),this.places=c,this.allImagesLoaded=!1,this.imageLoadingTimeoutId=null,b&&this.getRoot().addClass("qtype_ddimageortext-readonly");var d=this;this.getNotYetLoadedImages().one("load",function(){d.waitForAllImagesToBeLoaded()}),this.waitForAllImagesToBeLoaded()}d.prototype.waitForAllImagesToBeLoaded=function(){var a=this;if(!this.allImagesLoaded){if(null!==this.imageLoadingTimeoutId&&clearTimeout(this.imageLoadingTimeoutId),this.getNotYetLoadedImages().length>0)return void(this.imageLoadingTimeoutId=setTimeout(function(){a.waitForAllImagesToBeLoaded()},100));this.allImagesLoaded=!0,a.setupQuestion()}},d.prototype.getNotYetLoadedImages=function(){var a=this;return this.getRoot().find(".ddarea img").not(function(b,c){return a.imageIsLoaded(c)})},d.prototype.imageIsLoaded=function(a){return a.complete&&0!==a.naturalHeight},d.prototype.setupQuestion=function(){this.resizeAllDragsAndDrops(),this.cloneDrags(),this.positionDragsAndDrops(),M.util.js_complete("qtype_ddimageortext-init-"+this.containerId)},d.prototype.resizeAllDragsAndDrops=function(){var b=this;this.getRoot().find(".draghomes > div").each(function(c,d){b.resizeAllDragsAndDropsInGroup(b.getClassnameNumericSuffix(a(d),"dragitemgroup"))})},d.prototype.resizeAllDragsAndDropsInGroup=function(b){var c=this.getRoot(),d=c.find(".dragitemgroup"+b+" .draghome"),e=0,f=0;d.each(function(a,b){e=Math.max(e,Math.ceil(b.offsetWidth)),f=Math.max(f,Math.ceil(b.offsetHeight))}),e+=10,f+=10,d.each(function(b,c){var d=Math.round((e-c.offsetWidth)/2),g=Math.floor((f-c.offsetHeight)/2);a(c).css({"padding-left":d+"px","padding-right":e-c.offsetWidth-d+"px","padding-top":g+"px","padding-bottom":f-c.offsetHeight-g+"px"})});for(var g in this.places)if(this.places.hasOwnProperty(g)){var h=this.places[g],i=h.text;parseInt(h.group)===b&&(""===i&&(i=M.util.get_string("blank","qtype_ddimageortext")),c.find(".dropzones").append('<div class="dropzone group'+h.group+" place"+g+'" tabindex="0"><span class="accesshide">'+i+"</span>&nbsp;</div>"),c.find(".dropzone.place"+g).width(e-2).height(f-2))}},d.prototype.cloneDrags=function(){var b=this;this.getRoot().find(".ddarea .draghome").each(function(c,d){b.cloneDragsForOneChoice(a(d))})},d.prototype.cloneDragsForOneChoice=function(a){if(a.hasClass("infinite"))for(var b=this.noOfDropsInGroup(this.getGroup(a)),c=0;c<b;c++)this.cloneDrag(a);else this.cloneDrag(a)},d.prototype.cloneDrag=function(a){var b=a.clone();b.removeClass("draghome").addClass("drag unplaced moodle-has-zindex").offset(a.offset()),this.getRoot().find(".dragitems").append(b)},d.prototype.positionDragsAndDrops=function(){var b=this,c=this.getRoot(),d=this.bgImage().offset();c.find(".ddarea .dropzone").each(function(c,e){var f=a(e),g=b.places[b.getPlace(f)];f.offset({left:d.left+parseInt(g.xy[0]),top:d.top+parseInt(g.xy[1])})}),c.find(".ddarea .drag").each(function(c,d){var e=a(d),f=b.getClassnameNumericSuffix(e,"inplace");e.addClass("unplaced").removeClass("placed").offset(b.getDragHome(b.getGroup(e),b.getChoice(e)).offset()),null!==f&&e.removeClass("inplace"+f)}),c.find("input.placeinput").each(function(d,e){var f=a(e),g=f.val();if("0"!==g){var h=b.getPlace(f);b.getUnplacedChoice(b.getGroup(f),g).removeClass("unplaced").addClass("placed inplace"+h).offset(c.find(".dropzone.place"+h).offset())}}),this.bgImage().data("prev-top",d.top).data("prev-left",d.left)},d.prototype.fixLayoutIfBackgroundMoved=function(){var a=this.bgImage(),b=a.offset(),c=a.data("prev-top"),d=a.data("prev-left");void 0!==d&&void 0!==c&&(c===b.top&&d===b.left||this.positionDragsAndDrops())},d.prototype.handleDragStart=function(c){var d=this,e=a(c.target).closest(".drag"),f=b.prepare(c);if(f.start){var g=this.getClassnameNumericSuffix(e,"inplace");null!==g&&(this.setInputValue(g,0),e.removeClass("inplace"+g)),e.addClass("beingdragged"),b.start(c,e,function(a,b,c){d.dragMove(a,b,c)},function(a,b,c){d.dragEnd(a,b,c)})}},d.prototype.dragMove=function(b,c,d){var e=this;this.getRoot().find(".dropzone.group"+this.getGroup(d)).each(function(d,f){var g=a(f);e.isPointInDrop(b,c,g)?g.addClass("valid-drag-over-drop"):g.removeClass("valid-drag-over-drop")})},d.prototype.dragEnd=function(b,c,d){var e=this,f=this.getRoot(),g=!1;f.find(".dropzone.group"+this.getGroup(d)).each(function(f,h){var i=a(h);return!e.isPointInDrop(b,c,i)||(i.removeClass("valid-drag-over-drop"),e.sendDragToDrop(d,i),g=!0,!1)}),g||this.sendDragHome(d)},d.prototype.sendDragToDrop=function(a,b){var c=this.getCurrentDragInPlace(this.getPlace(b));0!==c.length&&this.sendDragHome(c),0===a.length?this.setInputValue(this.getPlace(b),0):(this.setInputValue(this.getPlace(b),this.getChoice(a)),a.removeClass("unplaced").addClass("placed inplace"+this.getPlace(b)),this.animateTo(a,b))},d.prototype.sendDragHome=function(a){a.removeClass("placed").addClass("unplaced");var b=this.getClassnameNumericSuffix(a,"inplace");null!==b&&a.removeClass("inplace"+b),this.animateTo(a,this.getDragHome(this.getGroup(a),this.getChoice(a)))},d.prototype.handleKeyPress=function(b){var d=a(b.target).closest(".dropzone"),e=this.getCurrentDragInPlace(this.getPlace(d)),f=a();switch(b.keyCode){case c.space:case c.arrowRight:case c.arrowDown:f=this.getNextDrag(this.getGroup(d),e);break;case c.arrowLeft:case c.arrowUp:f=this.getPreviousDrag(this.getGroup(d),e);break;case c.escape:break;default:return}b.preventDefault(),this.sendDragToDrop(f,d)},d.prototype.getNextDrag=function(a,b){var c,d=this.noOfChoicesInGroup(a);c=0===b.length?1:this.getChoice(b)+1;for(var e=this.getUnplacedChoice(a,c);0===e.length&&c<d;)c++,e=this.getUnplacedChoice(a,c);return e},d.prototype.getPreviousDrag=function(a,b){var c;c=0===b.length?this.noOfChoicesInGroup(a):this.getChoice(b)-1;for(var d=this.getUnplacedChoice(a,c);0===d.length&&c>1;)c--,d=this.getUnplacedChoice(a,c);return d},d.prototype.animateTo=function(a,b){var c=a.offset(),d=b.offset();a.addClass("beingdragged"),a.animate({left:parseInt(a.css("left"))+d.left-c.left,top:parseInt(a.css("top"))+d.top-c.top},{duration:"fast",done:function(){a.removeClass("beingdragged"),a.offset(d)}})},d.prototype.isPointInDrop=function(a,b,c){var d=c.offset();return a>=d.left&&a<d.left+c.width()&&b>=d.top&&b<d.top+c.height()},d.prototype.setInputValue=function(a,b){this.getRoot().find("input.placeinput.place"+a).val(b)},d.prototype.getRoot=function(){return a(document.getElementById(this.containerId))},d.prototype.bgImage=function(){return this.getRoot().find("img.dropbackground")},d.prototype.getDragHome=function(a,b){return this.getRoot().find(".ddarea .draghome.group"+a+".choice"+b)},d.prototype.getUnplacedChoice=function(a,b){return this.getRoot().find(".ddarea .drag.group"+a+".choice"+b+".unplaced").slice(0,1)},d.prototype.getCurrentDragInPlace=function(a){return this.getRoot().find(".ddarea .drag.inplace"+a)},d.prototype.noOfDropsInGroup=function(a){return this.getRoot().find(".dropzone.group"+a).length},d.prototype.noOfChoicesInGroup=function(a){return this.getRoot().find(".dragitemgroup"+a+" .draghome").length},d.prototype.getClassnameNumericSuffix=function(a,b){var c=a.attr("class");if(""!==c)for(var d=c.split(" "),e=0;e<d.length;e++){var f=new RegExp("^"+b+"([0-9])+$");if(f.test(d[e])){var g=new RegExp("([0-9])+$"),h=g.exec(d[e]);return Number(h[0])}}return null},d.prototype.getChoice=function(a){return this.getClassnameNumericSuffix(a,"choice")},d.prototype.getGroup=function(a){return this.getClassnameNumericSuffix(a,"group")},d.prototype.getPlace=function(a){return this.getClassnameNumericSuffix(a,"place")};var e={eventHandlersInitialised:!1,questions:{},init:function(a,b,c){e.questions[a]=new d(a,b,c),e.eventHandlersInitialised||(e.setupEventHandlers(),e.eventHandlersInitialised=!0)},setupEventHandlers:function(){a("body").on("mousedown touchstart",".que.ddimageortext:not(.qtype_ddimageortext-readonly) .dragitems .drag",e.handleDragStart).on("keydown",".que.ddimageortext:not(.qtype_ddimageortext-readonly) .dropzones .dropzone",e.handleKeyPress),a(window).on("resize",e.handleWindowResize),setTimeout(e.fixLayoutIfThingsMoved,100)},handleDragStart:function(a){a.preventDefault();var b=e.getQuestionForEvent(a);b&&b.handleDragStart(a)},handleKeyPress:function(a){var b=e.getQuestionForEvent(a);b&&b.handleKeyPress(a)},handleWindowResize:function(){for(var a in e.questions)e.questions.hasOwnProperty(a)&&e.questions[a].positionDragsAndDrops()},fixLayoutIfThingsMoved:function(){for(var a in e.questions)e.questions.hasOwnProperty(a)&&e.questions[a].fixLayoutIfBackgroundMoved();setTimeout(e.fixLayoutIfThingsMoved,100)},getQuestionForEvent:function(b){var c=a(b.currentTarget).closest(".que.ddimageortext").attr("id");return e.questions[c]}};return{init:e.init}});
define('qtype_ddimageortext/form', ["jquery","core/dragdrop"],function(a,b){"use strict";var c={maxBgImageSize:null,maxDragImageSize:null,fp:null,init:function(b,d){c.maxBgImageSize=b,c.maxDragImageSize=d,c.fp=c.filePickers(),a("#id_previewareaheader").append('<div class="ddarea">  <div class="droparea">    <img class="dropbackground" />    <div class="dropzones"></div>  </div>  <div class="dragitems"></div></div>'),c.updateVisibilityOfFilePickers(),c.setOptionsForDragItemSelectors(),c.setupEventHandlers(),c.waitForFilePickerToInitialise()},waitForFilePickerToInitialise:function(){return null===c.fp.file("bgimage").href?void setTimeout(c.waitForFilePickerToInitialise,1e3):(M.util.js_pending("dragDropToImageForm"),a("form.mform").on("change",".filepickerhidden",function(){M.util.js_pending("dragDropToImageForm"),c.loadPreviewImage()}),void c.loadPreviewImage())},loadPreviewImage:function(){a("fieldset#id_previewareaheader .dropbackground").one("load",c.afterPreviewImageLoaded).attr("src",c.fp.file("bgimage").href)},afterPreviewImageLoaded:function(){var b=a("fieldset#id_previewareaheader .dropbackground");c.constrainImageSize(b,c.maxBgImageSize),c.createDropZones(),M.util.js_complete("dragDropToImageForm")},constrainImageSize:function(a,b){var c=Math.max(a.width()/b.width,a.height()/b.height);c>1&&a.css("width",Math.floor(a.width()/c)),a.addClass("constrained")},createDropZones:function(){var b=a(".dropzones");b.empty();var d=c.fp.file("bgimage").href;if(null!==d){for(var e=c.form.getFormValue("nodropzone",[]),f=0;f<e;f++){var g=c.form.getFormValue("drops",[f,"choice"]);if("0"!==g){g-=1;var h=c.form.getFormValue("drags",[g,"draggroup"]),i=c.form.getFormValue("draglabel",[g]);if("image"===c.form.getFormValue("drags",[g,"dragitemtype"])){var j=c.fp.file("dragitem["+g+"]").href;if(null===j)continue;b.append('<img class="droppreview group'+h+" drop"+f+'" src="'+j+'" alt="'+i+'" data-drop-no="'+f+'">')}else""!==i&&b.append('<div class="droppreview group'+h+" drop"+f+'"  data-drop-no="'+f+'">'+i+"</div>")}}c.waitForAllDropImagesToBeLoaded()}},waitForAllDropImagesToBeLoaded:function(){var b=a(".dropzones img").not(function(a,b){return c.imageIsLoaded(b)});return b.length>0?void setTimeout(function(){c.waitForAllDropImagesToBeLoaded()},100):void c.updateDropZones()},imageIsLoaded:function(a){return a.complete&&0!==a.naturalHeight},updateDropZones:function(){var b=c.fp.file("bgimage").href;if(null!==b){for(var d=a("fieldset#id_previewareaheader .dropbackground").offset(),e=c.form.getFormValue("nodropzone",[]),f=0;f<e;f++){var g=a(".dropzones .drop"+f);if(0!==g.length){var h=c.form.getFormValue("drops",[f,"choice"])-1;g.offset({left:d.left+parseInt(c.form.getFormValue("drops",[f,"xleft"])),top:d.top+parseInt(c.form.getFormValue("drops",[f,"ytop"]))});var i=c.form.getFormValue("draglabel",[h]);g.is("img")?g.attr("alt",i):g.html(i)}}a(".dropzones .droppreview").css("padding","0");for(var j=a("select.draggroup").first().find("option").length,k=1;k<=j;k++)c.resizeAllDragsAndDropsInGroup(k)}},resizeAllDragsAndDropsInGroup:function(b){var c=a(".dropzones .droppreview.group"+b),d=0,e=0;c.each(function(a,b){d=Math.max(d,Math.ceil(b.offsetWidth)),e=Math.max(e,Math.ceil(b.offsetHeight))}),d+=10,e+=10,c.each(function(b,c){var f=Math.round((d-c.offsetWidth)/2),g=Math.floor((e-c.offsetHeight)/2);a(c).css({"padding-left":f+"px","padding-right":d-c.offsetWidth-f+"px","padding-top":g+"px","padding-bottom":e-c.offsetHeight-g+"px"})})},setupEventHandlers:function(){a("fieldset#id_draggableitemheader").on("change input","input, select",function(b){var d=a(b.target).closest("select, input");d.hasClass("dragitemtype")&&c.updateVisibilityOfFilePickers(),c.setOptionsForDragItemSelectors(),d.is(".dragitemtype, .draggroup")?c.createDropZones():d.is(".draglabel")&&c.updateDropZones()}),a("fieldset#id_dropzoneheader").on("change input","input, select",function(b){var d=a(b.target).closest("select, input");d.is("select")?c.createDropZones():c.updateDropZones()}),a("fieldset#id_previewareaheader").on("mousedown touchstart",".droppreview",function(a){c.dragStart(a)}),a(window).on("resize",function(){c.updateDropZones()})},updateVisibilityOfFilePickers:function(){for(var b=c.form.getFormValue("noitems",[]),d=0;d<b;d++){var e=a("input#id_dragitem_"+d).closest(".fitem_ffilepicker");"image"===c.form.getFormValue("drags",[d,"dragitemtype"])?e.show():e.hide()}},setOptionsForDragItemSelectors:function(){for(var b={0:""},d=c.form.getFormValue("noitems",[]),e=c.form.getFormValue("nodropzone",[]),f=0;f<d;f++){var g=c.form.getFormValue("draglabel",[f]),h=c.fp.file(c.form.toNameWithIndex("dragitem",[f]));"image"===c.form.getFormValue("drags",[f,"dragitemtype"])&&null!==h.name?b[f+1]=f+1+". "+g+" ("+h.name+")":""!==g&&(b[f+1]=f+1+". "+g)}for(var i=0;i<e;i++){var j=a("#id_drops_"+i+"_choice"),k=j.val();j.find("option").remove();for(var l in b)if(b.hasOwnProperty(l)){j.append('<option value="'+l+'">'+b[l]+"</option>");var m=j.find('option[value="'+l+'"]');parseInt(l)===parseInt(k)?m.attr("selected",!0):c.isItemUsed(parseInt(l))&&m.attr("disabled",!0)}}},isItemUsed:function(b){return 0!==b&&(!c.form.getFormValue("drags",[b-1,"infinite"])&&0!==a("fieldset#id_dropzoneheader select").filter(function(c,d){return parseInt(a(d).val())===b}).length)},dragStart:function(d){var e=a(d.target).closest(".droppreview"),f=b.prepare(d);f.start&&b.start(d,e,function(a,b,d){c.dragMove(d)},function(){c.dragEnd()})},dragMove:function(b){var d=a("fieldset#id_previewareaheader .dropbackground"),e=d.offset(),f=b.data("dropNo"),g=b.offset(),h=Math.round(g.left-e.left),i=Math.round(g.top-e.top);h=Math.max(0,Math.min(h,d.width()-b.width()-10)),i=Math.max(0,Math.min(i,d.height()-b.height()-10)),c.form.setFormValue("drops",[f,"xleft"],h),c.form.setFormValue("drops",[f,"ytop"],i)},dragEnd:function(){c.updateDropZones()},form:{toNameWithIndex:function(a,b){for(var c=a,d=0;d<b.length;d++)c=c+"["+b[d]+"]";return c},getEl:function(a,b){var c=document.getElementById("mform1");return c.elements[this.toNameWithIndex(a,b)]},getFormValue:function(a,b){var c=this.getEl(a,b);return c.type||(c=c[c.length-1]),"checkbox"===c.type?c.checked:c.value},setFormValue:function(a,b,c){var d=this.getEl(a,b);"checkbox"===d.type?d.checked=c:d.value=c}},filePickers:function(){var b,c;if(void 0===b){b={},c={};var d=a("form.mform input.filepickerhidden");d.each(function(a,d){b[d.value]=d.name,c[d.name]=d.parentNode})}return{file:function(b){var d=a(c[b]),e=d.find("div.filepicker-filelist a");return e.length?{href:e.get(0).href,name:e.get(0).innerHTML}:{href:null,name:null}},name:function(a){return b[a]}}}};return{init:c.init}});
define('qtype_ddmarker/shapes', function(){"use strict";function a(a,b){this.x=a,this.y=b}function b(b,c,d){this.label=b,this.centre=new a(c||0,d||0)}function c(a,c,d,e){b.call(this,a,c,d),this.radius=e||15}function d(a,c,d,e,f){b.call(this,a,c,d),this.width=e||30,this.height=f||30}function e(c,d){b.call(this,c,0,0),this.points=d?d.slice():[new a(10,10),new a(40,10),new a(10,40)],this.normalizeShape()}function f(a){b.call(this,a)}function g(a,b){var c=a.ownerDocument.createElementNS("http://www.w3.org/2000/svg",b);return a.appendChild(c),c}function h(a,b){var c=g(a,"g");return g(c,b).setAttribute("class","shape"),g(c,"text").setAttribute("class","shapeLabel"),c}return a.prototype.toString=function(){return this.x+","+this.y},a.prototype.move=function(a,b){this.x+=a,this.y+=b},a.prototype.offset=function(b,c){return b instanceof a&&(c=b.y,b=b.x),new a(this.x+b,this.y+c)},a.parse=function(b){var c=b.split(",");if(2!==c.length)throw new Error(b+" is not a valid point");return new a(Math.round(c[0]),Math.round(c[1]))},b.prototype.getType=function(){throw new Error("Not implemented.")},b.prototype.getCoordinates=function(){throw new Error("Not implemented.")},b.prototype.parse=function(a){throw new Error("Not implemented.")},b.prototype.move=function(a,b,c,d){},b.prototype.edit=function(a,b,c,d,e){},b.prototype.normalizeShape=function(){},b.prototype.makeSvg=function(a){throw new Error("Not implemented.")},b.prototype.updateSvg=function(a){},b.prototype.makeSimilarCircle=function(){throw new Error("Not implemented.")},b.prototype.makeSimilarRectangle=function(){throw new Error("Not implemented.")},b.prototype.makeSimilarPolygon=function(){throw new Error("Not implemented.")},b.prototype.getHandlePositions=function(){return null},c.prototype=new b,c.prototype.getType=function(){return"circle"},c.prototype.getCoordinates=function(){return this.centre+";"+Math.abs(this.radius)},c.prototype.makeSvg=function(a){var b=h(a,"circle");return this.updateSvg(b),b},c.prototype.updateSvg=function(a){a.childNodes[0].setAttribute("cx",this.centre.x),a.childNodes[0].setAttribute("cy",this.centre.y),a.childNodes[0].setAttribute("r",Math.abs(this.radius)),a.childNodes[1].setAttribute("x",this.centre.x),a.childNodes[1].setAttribute("y",this.centre.y+15),a.childNodes[1].textContent=this.label},c.prototype.parse=function(b){if(!b.match(/^\d+,\d+;\d+$/))return!1;var c=b.split(";");return this.centre=a.parse(c[0]),this.radius=Math.round(c[1]),!0},c.prototype.move=function(a,b,c,d){this.centre.move(a,b),this.centre.x<this.radius&&(this.centre.x=this.radius),this.centre.x>c-this.radius&&(this.centre.x=c-this.radius),this.centre.y<this.radius&&(this.centre.y=this.radius),this.centre.y>d-this.radius&&(this.centre.y=d-this.radius)},c.prototype.edit=function(a,b,c,d,e){this.radius+=b;var f=Math.min(this.centre.x,this.centre.y,d-this.centre.x,e-this.centre.y);this.radius>f&&(this.radius=f),this.radius<-f&&(this.radius=-f)},c.prototype.normalizeShape=function(){this.radius=Math.abs(this.radius)},c.prototype.makeSimilarRectangle=function(){return new d(this.label,this.centre.x-this.radius,this.centre.y-this.radius,2*this.radius,2*this.radius)},c.prototype.makeSimilarPolygon=function(){return new e(this.label,[this.centre.offset(-this.radius,-this.radius),this.centre.offset(-this.radius,this.radius),this.centre.offset(this.radius,this.radius),this.centre.offset(this.radius,-this.radius)])},c.prototype.getHandlePositions=function(){return{moveHandle:this.centre,editHandles:[this.centre.offset(this.radius,0)]}},d.prototype=new b,d.prototype.getType=function(){return"rectangle"},d.prototype.getCoordinates=function(){return this.centre+";"+this.width+","+this.height},d.prototype.makeSvg=function(a){var b=h(a,"rect");return this.updateSvg(b),b},d.prototype.updateSvg=function(a){this.width>=0?(a.childNodes[0].setAttribute("x",this.centre.x),a.childNodes[0].setAttribute("width",this.width)):(a.childNodes[0].setAttribute("x",this.centre.x+this.width),a.childNodes[0].setAttribute("width",-this.width)),this.height>=0?(a.childNodes[0].setAttribute("y",this.centre.y),a.childNodes[0].setAttribute("height",this.height)):(a.childNodes[0].setAttribute("y",this.centre.y+this.height),a.childNodes[0].setAttribute("height",-this.height)),a.childNodes[1].setAttribute("x",this.centre.x+this.width/2),a.childNodes[1].setAttribute("y",this.centre.y+this.height/2+15),a.childNodes[1].textContent=this.label},d.prototype.parse=function(b){if(!b.match(/^\d+,\d+;\d+,\d+$/))return!1;var c=b.split(";");this.centre=a.parse(c[0]);var d=a.parse(c[1]);return this.width=d.x,this.height=d.y,!0},d.prototype.move=function(a,b,c,d){this.centre.move(a,b),this.centre.x<0&&(this.centre.x=0),this.centre.x>c-this.width&&(this.centre.x=c-this.width),this.centre.y<0&&(this.centre.y=0),this.centre.y>d-this.height&&(this.centre.y=d-this.height)},d.prototype.edit=function(a,b,c,d,e){this.width+=b,this.height+=c,this.width<-this.centre.x&&(this.width=-this.centre.x),this.width>d-this.centre.x&&(this.width=d-this.centre.x),this.height<-this.centre.y&&(this.height=-this.centre.y),this.height>e-this.centre.y&&(this.height=e-this.centre.y)},d.prototype.normalizeShape=function(){this.width<0&&(this.centre.x+=this.width,this.width=-this.width),this.height<0&&(this.centre.y+=this.height,this.height=-this.height)},d.prototype.makeSimilarCircle=function(){return new c(this.label,Math.round(this.centre.x+this.width/2),Math.round(this.centre.y+this.height/2),Math.round((this.width+this.height)/4))},d.prototype.makeSimilarPolygon=function(){return new e(this.label,[this.centre,this.centre.offset(0,this.height),this.centre.offset(this.width,this.height),this.centre.offset(this.width,0)])},d.prototype.getHandlePositions=function(){return{moveHandle:this.centre.offset(this.width/2,this.height/2),editHandles:[this.centre.offset(this.width,this.height)]}},e.prototype=new b,e.prototype.getType=function(){return"polygon"},e.prototype.getCoordinates=function(){for(var a="",b=0;b<this.points.length;b++)a+=this.centre.offset(this.points[b])+";";return a.slice(0,a.length-1)},e.prototype.makeSvg=function(a){var b=h(a,"polygon");return this.updateSvg(b),b},e.prototype.updateSvg=function(a){a.childNodes[0].setAttribute("points",this.getCoordinates().replace(/[,;]/g," ")),a.childNodes[1].setAttribute("x",this.centre.x),a.childNodes[1].setAttribute("y",this.centre.y+15),a.childNodes[1].textContent=this.label},e.prototype.parse=function(b){if(!b.match(/^\d+,\d+(?:;\d+,\d+)*$/))return!1;for(var c=b.split(";"),d=[],e=0;e<c.length;e++)d.push(a.parse(c[e]));return this.points=d,this.centre.x=0,this.centre.y=0,this.normalizeShape(),!0},e.prototype.move=function(a,b,c,d){this.centre.move(a,b);for(var e=c,f=0,g=d,h=0,i=0;i<this.points.length;i++)e=Math.min(e,this.points[i].x),f=Math.max(f,this.points[i].x),g=Math.min(g,this.points[i].y),h=Math.max(h,this.points[i].y);this.centre.x<-e&&(this.centre.x=-e),this.centre.x>c-f&&(this.centre.x=c-f),this.centre.y<-g&&(this.centre.y=-g),this.centre.y>d-h&&(this.centre.y=d-h)},e.prototype.edit=function(a,b,c,d,e){this.points[a].move(b,c),this.points[a].x<-this.centre.x&&(this.points[a].x=-this.centre.x),this.points[a].x>d-this.centre.x&&(this.points[a].x=d-this.centre.x),this.points[a].y<-this.centre.y&&(this.points[a].y=-this.centre.y),this.points[a].y>e-this.centre.y&&(this.points[a].y=e-this.centre.y)},e.prototype.addNewPointAfter=function(b){this.points.splice(b,0,new a(this.points[b].x,this.points[b].y))},e.prototype.normalizeShape=function(){var a,b=0,c=0;if(0!==this.points.length){for(a=0;a<this.points.length;a++)b+=this.points[a].x,c+=this.points[a].y;if(b=Math.round(b/this.points.length),c=Math.round(c/this.points.length),0!==b||0!==c){for(a=0;a<this.points.length;a++)this.points[a].move(-b,-c);this.centre.move(b,c)}}},e.prototype.makeSimilarCircle=function(){return this.makeSimilarRectangle().makeSimilarCircle()},e.prototype.makeSimilarRectangle=function(){for(var a,b=0,c=0,e=0,f=0,g=0;g<this.points.length;g++)a=this.points[g],b=Math.min(b,a.x),c=Math.max(c,a.x),e=Math.min(e,a.y),f=Math.max(f,a.y);return new d(this.label,this.centre.x+b,this.centre.y+e,Math.max(c-b,10),Math.max(f-e,10))},e.prototype.getHandlePositions=function(){for(var a=[],b=0;b<this.points.length;b++)a.push(this.points[b].offset(this.centre.x,this.centre.y));return{moveHandle:this.centre,editHandles:a}},f.prototype=new b,f.prototype.getType=function(){return"null"},f.prototype.getCoordinates=function(){return""},f.prototype.makeSvg=function(a){return null},f.prototype.updateSvg=function(a){},f.prototype.parse=function(a){return!1},f.prototype.makeSimilarCircle=function(){return new c(this.label)},f.prototype.makeSimilarRectangle=function(){return new d(this.label)},f.prototype.makeSimilarPolygon=function(){return new e(this.label)},{Point:a,Shape:b,Circle:c,Rectangle:d,Polygon:e,NullShape:f,createSvgElement:g,make:function(a,b){switch(a){case"circle":return new c(b);case"rectangle":return new d(b);case"polygon":return new e(b);default:return new f(b)}},getSimilar:function(a,b){if(a===b.getType())return b;switch(a){case"circle":return b.makeSimilarCircle();case"rectangle":return b.makeSimilarRectangle();case"polygon":return b.makeSimilarPolygon();default:return new f(b.label)}}}});
define('qtype_ddmarker/question', ["jquery","core/dragdrop","qtype_ddmarker/shapes","core/key_codes"],function(a,b,c,d){"use strict";function e(a,b,c,d){this.containerId=a,this.visibleDropZones=d,c&&this.getRoot().addClass("qtype_ddmarker-readonly"),this.loadImage(b)}e.prototype.loadImage=function(a){var b=this;this.getRoot().find(".dropbackground").one("load",function(){b.visibleDropZones.length>0&&b.drawDropzones(),b.repositionDrags()}).attr("src",a).css({border:"1px solid #000","max-width":"none"})},e.prototype.drawDropzones=function(){var a=this.getRoot().find("img.dropbackground");this.getRoot().find("div.dropzones").html('<svg xmlns="http://www.w3.org/2000/svg" class="dropzones" width="'+a.outerWidth()+'" height="'+a.outerHeight()+'"></svg>');var b=this.getRoot().find("svg.dropzones");b.css("position","absolute");for(var c=0,d=0;d<this.visibleDropZones.length;d++){var e="color"+c;c=(c+1)%8,this.addDropzone(b,d,e)}},e.prototype.addDropzone=function(a,b,d){var e,f=this.visibleDropZones[b],g=c.make(f.shape,"");if(g.parse(f.coords)){if(e=this.getRoot().find("div.markertexts span.markertext"+b),e.length)""!==f.markertext?e.html(f.markertext):e.remove();else if(""!==f.markertext){var h="markertext markertext"+b;this.getRoot().find("div.markertexts").append('<span class="'+h+'">'+f.markertext+"</span>")}var i=g.makeSvg(a[0]);i.setAttribute("class","dropzone "+d)}},e.prototype.repositionDropZones=function(){var a=this.getRoot().find("svg.dropzones");if(0!==a.length){var b=this.convertToWindowXY(new c.Point((-1),0));a.offset({left:b.x,top:b.y});for(var d=0;d<this.visibleDropZones.length;d++){var e=this.getRoot().find("div.ddarea div.markertexts span.markertext"+d);if(0!==e.length){var f=this.visibleDropZones[d],g=c.make(f.shape,"");if(g.parse(f.coords)){var h=g.getHandlePositions(),i=this.convertToWindowXY(h.moveHandle.offset(-e.outerWidth()/2,-e.outerHeight()/2));e.offset({left:i.x-4,top:i.y})}}}}},e.prototype.repositionDrags=function(){var b=this.getRoot(),c=this;b.find("div.dragitems .dragitem").each(function(b,c){a(c).addClass("unneeded")}),b.find("input.choices").each(function(a,b){for(var d=c.getChoiceNoFromElement(b),e=c.getCoords(b),f=c.dragHome(d),g=0;g<e.length;g++){var h=c.dragItem(d,g);!h.length||h.hasClass("beingdragged")?h=c.cloneNewDragItem(f,g):h.removeClass("unneeded"),h.offset({left:e[g].x,top:e[g].y})}}),b.find("div.dragitems .dragitem").each(function(b,c){var d=a(c);d.hasClass("unneeded")&&!d.hasClass("beingdragged")&&d.remove()}),this.repositionDropZones();var d=this.bgImage(),e=d.offset();d.data("prev-top",e.top).data("prev-left",e.left)},e.prototype.getCoords=function(b){var d=this.getRoot(),e=this.getChoiceNoFromElement(b),f=Number(this.getClassnameNumericSuffix(b,"noofdrags")),g=d.find("span.dragitem.beingdragged.choice"+e).length>0,h=[],i=a(b).val();if(""!==i)for(var j=i.split(";"),k=0;k<j.length;k++)h[k]=this.convertToWindowXY(c.Point.parse(j[k]));var l=h.length+(g?1:0);return(a(b).hasClass("infinite")||l<f)&&(h[h.length]=this.dragHomeXY(e)),h},e.prototype.convertToWindowXY=function(a){var b=this.bgImage();return a.offset(b.offset().left+1,b.offset().top+1)},e.prototype.convertToBgImgXY=function(a){var b=this.bgImage();return a.offset(-b.offset().left-1,-b.offset().top-1)},e.prototype.coordsInBgImg=function(a){var b=this.bgImage();return a.x>0&&a.x<=b.width()&&a.y>0&&a.y<=b.height()},e.prototype.dragHomeXY=function(a){var b=this.dragHome(a);return new c.Point(b.offset().left,b.offset().top)},e.prototype.getRoot=function(){return a(document.getElementById(this.containerId))},e.prototype.bgImage=function(){return this.getRoot().find("img.dropbackground")},e.prototype.dragHome=function(a){return this.getRoot().find("div.dragitems span.draghome.choice"+a)},e.prototype.dragItem=function(a,b){return this.getRoot().find("div.dragitems span.dragitem.choice"+a+".item"+b)},e.prototype.cloneNewDragItem=function(a,b){var c=a.clone(!0);return c.removeClass("draghome").addClass("dragitem").addClass("item"+b),a.after(c),c.attr("tabIndex",0),c},e.prototype.handleDragStart=function(c){var d=this,e=a(c.target).closest(".dragitem"),f=b.prepare(c);f.start&&(e.addClass("beingdragged"),b.start(c,e,function(){},function(a,b,c){d.dragEnd(c)}))},e.prototype.dragEnd=function(a){a.removeClass("beingdragged");var b=this.getChoiceNoFromElement(a);this.saveCoordsForChoice(b,a),this.repositionDrags()},e.prototype.saveCoordsForChoice=function(a,b){for(var d,e=[],f=this.getRoot().find("span.dragitem.choice"+a).length,g=!0,h=0;h<=f;h++){var i=this.dragItem(a,h);0!==i.length&&(i.hasClass("beingdragged")||(d=this.convertToBgImgXY(new c.Point(i.offset().left,i.offset().top)),this.coordsInBgImg(d)&&(e[e.length]=d)),b&&0!==b.length&&b[0].innerText===i[0].innerText&&(g=!1))}g&&(d=this.convertToBgImgXY(new c.Point(b.offset().left,b.offset().top)),this.coordsInBgImg(d)&&(e[e.length]=d)),this.getRoot().find("input.choice"+a).val(e.join(";"))},e.prototype.handleKeyPress=function(b){var e=a(b.target).closest(".dragitem"),f=new c.Point(e.offset().left,e.offset().top),g=this.getChoiceNoFromElement(e);switch(b.keyCode){case d.arrowLeft:case 65:f.x-=1;break;case d.arrowRight:case 68:f.x+=1;break;case d.arrowDown:case 83:f.y+=1;break;case d.arrowUp:case 87:f.y-=1;break;case d.space:case d.escape:f=null;break;default:return}b.preventDefault(),f=null!==f?this.constrainToBgImg(f):this.dragHomeXY(g),e.offset({left:f.x,top:f.y}),this.saveCoordsForChoice(g,e),this.repositionDrags()},e.prototype.constrainToBgImg=function(a){var b=this.bgImage(),c=this.convertToBgImgXY(a);return c.x=Math.max(0,c.x),c.y=Math.max(0,c.y),c.x=Math.min(b.width(),c.x),c.y=Math.min(b.height(),c.y),this.convertToWindowXY(c)},e.prototype.getChoiceNoFromElement=function(a){return Number(this.getClassnameNumericSuffix(a,"choice"))},e.prototype.getClassnameNumericSuffix=function(b,c){var d=a(b).attr("class");if(void 0!==d&&""!==d)for(var e=d.split(" "),f=0;f<e.length;f++){var g=new RegExp("^"+c+"([0-9])+$");if(g.test(e[f])){var h=new RegExp("([0-9])+$"),i=h.exec(e[f]);return Number(i[0])}}return null},e.prototype.handleResize=function(){this.repositionDrags()},e.prototype.fixLayoutIfBackgroundMoved=function(){var a=this.bgImage(),b=a.offset(),c=a.data("prev-top"),d=a.data("prev-left");void 0!==d&&void 0!==c&&(c===b.top&&d===b.left||this.repositionDrags())};var f={eventHandlersInitialised:!1,questions:{},init:function(a,b,c,d){f.questions[a]=new e(a,b,c,d),f.eventHandlersInitialised||(f.setupEventHandlers(),f.eventHandlersInitialised=!0)},setupEventHandlers:function(){a("body").on("mousedown touchstart",".que.ddmarker:not(.qtype_ddmarker-readonly) div.dragitems .dragitem",f.handleDragStart).on("keydown keypress",".que.ddmarker:not(.qtype_ddmarker-readonly) div.dragitems .dragitem",f.handleKeyPress),a(window).on("resize",f.handleWindowResize),setTimeout(f.fixLayoutIfThingsMoved,100)},handleDragStart:function(a){a.preventDefault();var b=f.getQuestionForEvent(a);b&&b.handleDragStart(a)},handleKeyPress:function(a){var b=f.getQuestionForEvent(a);b&&b.handleKeyPress(a)},handleWindowResize:function(){for(var a in f.questions)f.questions.hasOwnProperty(a)&&f.questions[a].handleResize()},fixLayoutIfThingsMoved:function(){for(var a in f.questions)f.questions.hasOwnProperty(a)&&f.questions[a].fixLayoutIfBackgroundMoved();setTimeout(f.fixLayoutIfThingsMoved,100)},getQuestionForEvent:function(b){var c=a(b.currentTarget).closest(".que.ddmarker").attr("id");return f.questions[c]}};return{init:f.init}});
define('qtype_ddmarker/form', ["jquery","core/dragdrop","qtype_ddmarker/shapes"],function(a,b,c){"use strict";function d(a){this.dropzoneNo=a,this.svgEl=null,this.shape=c.make(this.getShapeType(),this.getLabel()),this.updateCoordinatesFromForm()}d.prototype.updateCoordinatesFromForm=function(a){var b=this.getCoordinates(),c="polygon"===this.shape.getType()&&this.shape.points.length;if(this.shape.getCoordinates()!==b&&this.shape.parse(b))if("polygon"===this.shape.getType()&&c!==this.shape.points.length){var d=this.isActive();this.removeFromSvg(),a&&(this.addToSvg(a),d&&this.setActive())}else this.updateSvgEl()},d.prototype.updateLabel=function(){var a=this.getLabel();this.shape.label!==a&&(this.shape.label=a,this.updateSvgEl())},d.prototype.changeShape=function(a){var b=this.getShapeType(),d=this.isActive();b!==this.shape.getType()&&(this.removeFromSvg(),this.shape=c.getSimilar(b,this.shape),a&&(this.addToSvg(a),d&&this.setActive()),this.setCoordinatesInForm())},d.prototype.addToSvg=function(a){if(null!==this.svgEl)throw new Error("this.svgEl already set");if(this.svgEl=this.shape.makeSvg(a),this.svgEl){this.svgEl.setAttribute("class","dropzone"),this.svgEl.setAttribute("data-dropzone-no",this.dropzoneNo);var b=this.shape.getHandlePositions();if(null!==b){var d=c.createSvgElement(this.svgEl,"circle");d.setAttribute("cx",b.moveHandle.x),d.setAttribute("cy",b.moveHandle.y),d.setAttribute("r",7),d.setAttribute("class","handle move");for(var e=0;e<b.editHandles.length;++e)this.makeEditHandle(e,b.editHandles[e])}}},d.prototype.makeEditHandle=function(a,b){var d=c.createSvgElement(this.svgEl,"rect");d.setAttribute("x",b.x-6),d.setAttribute("y",b.y-6),d.setAttribute("width",11),d.setAttribute("height",11),d.setAttribute("class","handle edit"),d.setAttribute("data-edit-handle-no",a)},d.prototype.removeFromSvg=function(){null!==this.svgEl&&(this.svgEl.parentNode.removeChild(this.svgEl),this.svgEl=null)},d.prototype.updateSvgEl=function(){if(null!==this.svgEl){this.shape.updateSvg(this.svgEl);var a=this.shape.getHandlePositions();if(null!==a){this.svgEl.childNodes[2].setAttribute("cx",a.moveHandle.x),this.svgEl.childNodes[2].setAttribute("cy",a.moveHandle.y);for(var b=0;b<a.editHandles.length;++b)this.svgEl.childNodes[3+b].setAttribute("x",a.editHandles[b].x-6),this.svgEl.childNodes[3+b].setAttribute("y",a.editHandles[b].y-6)}}},d.prototype.isActive=function(){return null!==this.svgEl&&this.svgEl.getAttribute("class").match(/\bactive\b/)},d.prototype.setActive=function(){var a=this.svgEl.parentNode;a.removeChild(this.svgEl),a.appendChild(this.svgEl),this.svgEl.setAttribute("class",this.svgEl.getAttribute("class")+" active")},d.prototype.setCoordinatesInForm=function(){e.form.setFormValue("drops",[this.dropzoneNo,"coords"],this.shape.getCoordinates())},d.prototype.getCoordinates=function(){return e.form.getFormValue("drops",[this.dropzoneNo,"coords"]).replace(/\s*/g,"")},d.prototype.getChoiceNo=function(){return e.form.getFormValue("drops",[this.dropzoneNo,"choice"])},d.prototype.getLabel=function(){return e.form.getMarkerText(this.getChoiceNo())},d.prototype.getShapeType=function(){return e.form.getFormValue("drops",[this.dropzoneNo,"shape"])},d.prototype.handleMove=function(c){var d=b.prepare(c);if(d.start){var e=this,f=d.x,g=d.y,h=this.makeDragProxy(d.x,d.y),i=a("fieldset#id_previewareaheader .dropbackground"),j=i.width(),k=i.height();b.start(c,a(h),function(a,b){e.shape.move(a-f,b-g,j,k),f=a,g=b,e.updateSvgEl(),e.setCoordinatesInForm()},function(){document.body.removeChild(h)})}},d.prototype.handleEdit=function(c,d,e){var f=b.prepare(c);if(f.start){"polygon"===this.shape.getType()&&(c.ctrlKey||c.metaKey)&&(this.shape.addNewPointAfter(d),this.removeFromSvg(),this.addToSvg(e),this.setActive());var g=this,h=f.x,i=f.y,j=this.makeDragProxy(f.x,f.y),k=a("fieldset#id_previewareaheader .dropbackground"),l=k.width(),m=k.height();b.start(c,a(j),function(a,b){g.shape.edit(d,a-h,b-i,l,m),h=a,i=b,g.updateSvgEl(),g.setCoordinatesInForm()},function(){document.body.removeChild(j),g.shape.normalizeShape(),g.updateSvgEl(),g.setCoordinatesInForm()})}},d.prototype.makeDragProxy=function(a,b){var c=document.createElement("div");return c.style.position="absolute",c.style.top=b+"px",c.style.left=a+"px",c.style.width="1px",c.style.height="1px",document.body.appendChild(c),c};var e={maxSizes:null,fp:null,noDropZones:null,dropZones:[],init:function(a){e.maxSizes=a,e.fp=e.filePickers(),e.noDropZones=e.form.getFormValue("nodropzone",[]),e.setupPreviewArea(),e.setOptionsForDragItemSelectors(),e.createShapes(),e.setupEventHandlers(),e.waitForFilePickerToInitialise()},setupPreviewArea:function(){a("fieldset#id_previewareaheader div.fcontainer").append('<div class="ddarea que ddmarker">   <div id="ddm-droparea" class="droparea">       <img class="dropbackground" />       <div id="ddm-dropzone" class="dropzones">       </div>   </div></div>')},setOptionsForDragItemSelectors:function(){var b,c,d,f={0:""},g=e.form.getFormValue("noitems",[]),h=[];for(c=1;c<=g;c++)d=e.form.getMarkerText(c),""!==d&&(f[c]=a("<div/>").text(d).html());for(c=0;c<e.noDropZones;c++)b=a("#id_drops_"+c+"_choice"),h[c]=Number(b.val());for(c=0;c<e.noDropZones;c++){b=a("#id_drops_"+c+"_choice"),b.find("option").remove();for(var i in f){i=Number(i);var j='<option value="'+i+'">'+f[i]+"</option>";b.append(j);var k=b.find('option[value="'+i+'"]');if(0!==i)if(i!==h[c]){var l=e.form.getFormValue("drags",[i-1,"noofdrags"]);if(0!==Number(l))for(var m in h)if(Number(h[m])===i){if(1===Number(l)){k.attr("disabled",!0);break}l--}}else k.attr("selected",!0)}e.dropZones.length>0&&e.dropZones[c].updateLabel()}},createShapes:function(){for(var a=0;a<e.noDropZones;a++)e.dropZones[a]=new d(a)},setupEventHandlers:function(){a("fieldset#id_draggableitemheader").on("change input","input, select",function(){e.setOptionsForDragItemSelectors()}),a("fieldset#id_dropzoneheader").on("change input","input, select",function(a){var b=a.currentTarget.name.match(/^drops\[(\d+)]\[([a-z]*)]$/);if(b){var c=b[1],d=b[2],f=e.dropZones[c];switch(d){case"shape":f.changeShape(e.form.getSvg());break;case"coords":f.updateCoordinatesFromForm(e.form.getSvg());break;case"choice":f.updateLabel()}}});var b=a("fieldset#id_previewareaheader");b.on("click","g.dropzone",function(b){var c=a(b.currentTarget).data("dropzone-no"),d=e.dropZones[c].isActive();a(e.form.getSvg()).find(".dropzone.active").removeClass("active"),d||e.dropZones[c].setActive()}),b.on("mousedown touchstart",".dropzone .handle.move",function(b){var c=a(b.currentTarget).closest("g").data("dropzoneNo");e.dropZones[c].handleMove(b)}),b.on("mousedown touchstart",".dropzone .handle.edit",function(b){var c=a(b.currentTarget).closest("g").data("dropzoneNo"),d=b.currentTarget.getAttribute("data-edit-handle-no");e.dropZones[c].handleEdit(b,d,e.form.getSvg())})},waitForFilePickerToInitialise:function(){return null===e.fp.file("bgimage").href?void setTimeout(e.waitForFilePickerToInitialise,1e3):(a("form.mform").on("change","#id_bgimage",e.loadPreviewImage),void e.loadPreviewImage())},loadPreviewImage:function(){a("fieldset#id_previewareaheader .dropbackground").one("load",e.afterPreviewImageLoaded).attr("src",e.fp.file("bgimage").href)},afterPreviewImageLoaded:function(){var b=a("fieldset#id_previewareaheader .dropbackground");e.constrainImageSize(),a("#ddm-dropzone").css("position","relative").css("top",(b.height()+1)*-1),a("#ddm-droparea").css("height",b.height()+20),e.updateSvgDisplay()},constrainImageSize:function(){var b=a("fieldset#id_previewareaheader .dropbackground"),c=Math.max(b.width()/e.maxSizes.width,b.height()/e.maxSizes.height);c>1&&b.css("width",Math.floor(b.width()/c)),b.addClass("constrained")},updateSvgDisplay:function(){var b,c=a("fieldset#id_previewareaheader .dropbackground");if(e.form.getSvg())for(b=0;b<e.noDropZones;b++)e.dropZones[b].updateSvgEl();else for(a("#ddm-dropzone").html('<svg xmlns="http://www.w3.org/2000/svg" class="dropzones" width="'+c.outerWidth()+'" height="'+c.outerHeight()+'"></svg>'),b=0;b<e.noDropZones;b++)e.dropZones[b].addToSvg(e.form.getSvg())},form:{getMarkerText:function(a){if(0!==Number(a)){var b=e.form.getFormValue("drags",[a-1,"label"]);return b.replace(new RegExp("^\\s*(.*)\\s*$"),"$1")}return""},getSvg:function(){var b=a("fieldset#id_previewareaheader svg");return 0===b.length?null:b[0]},toNameWithIndex:function(a,b){for(var c=a,d=0;d<b.length;d++)c=c+"["+b[d]+"]";return c},getEl:function(a,b){var c=document.getElementById("mform1");return c.elements[this.toNameWithIndex(a,b)]},getFormValue:function(a,b){var c=this.getEl(a,b);return"checkbox"===c.type?c.checked:c.value},setFormValue:function(a,b,c){var d=this.getEl(a,b);"checkbox"===d.type?d.checked=c:d.value=c}},filePickers:function(){var b,c;return void 0===b&&(b={},c={},a("form.mform input.filepickerhidden").each(function(a,d){b[d.value]=d.name,c[d.name]=d.parentNode})),{file:function(b){var d=a(c[b]).find("div.filepicker-filelist a");return d.length?{href:d.get(0).href,name:d.get(0).innerHTML}:{href:null,name:null}},name:function(a){return b[a]}}}};return{init:e.init}});
define('qtype_ddwtos/ddwtos', ["jquery","core/dragdrop","core/key_codes"],function(a,b,c){"use strict";function d(a,b){this.containerId=a,b&&this.getRoot().addClass("qtype_ddwtos-readonly"),this.resizeAllDragsAndDrops(),this.cloneDrags(),this.positionDrags()}d.prototype.resizeAllDragsAndDrops=function(){var b=this;this.getRoot().find(".answercontainer > div").each(function(c,d){b.resizeAllDragsAndDropsInGroup(b.getClassnameNumericSuffix(a(d),"draggrouphomes"))})},d.prototype.resizeAllDragsAndDropsInGroup=function(a){var b=this,c=this.getRoot().find(".draggrouphomes"+a+" span.draghome"),d=0,e=0;c.each(function(a,b){d=Math.max(d,Math.ceil(b.offsetWidth)),e=Math.max(e,Math.ceil(0+b.offsetHeight))}),d+=8,e+=2,c.each(function(a,c){b.setElementSize(c,d,e)}),this.getRoot().find("span.drop.group"+a).each(function(a,c){b.setElementSize(c,d,e)})},d.prototype.setElementSize=function(b,c,d){a(b).width(c).height(d).css("lineHeight",d+"px")},d.prototype.cloneDrags=function(){var b=this;this.getRoot().find("span.draghome").each(function(c,d){b.cloneDragsForOneChoice(a(d))})},d.prototype.cloneDragsForOneChoice=function(a){if(a.hasClass("infinite"))for(var b=this.noOfDropsInGroup(this.getGroup(a)),c=0;c<b;c++)this.cloneDrag(a);else this.cloneDrag(a)},d.prototype.cloneDrag=function(a){var b=a.clone();b.removeClass("draghome").addClass("drag unplaced moodle-has-zindex").offset(a.offset()),this.getRoot().find("div.drags").append(b)},d.prototype.positionDrags=function(){var b=this,c=this.getRoot();c.find("span.drag").each(function(c,d){var e=a(d),f=b.getClassnameNumericSuffix(e,"inplace");e.addClass("unplaced").removeClass("placed").offset(b.getDragHome(b.getGroup(e),b.getChoice(e)).offset()),null!==f&&e.removeClass("inplace"+f)}),c.find("input.placeinput").each(function(d,e){var f=a(e),g=f.val();if("0"!==g){var h=b.getPlace(f);b.getUnplacedChoice(b.getGroup(f),g).removeClass("unplaced").addClass("placed inplace"+h).offset(c.find(".drop.place"+h).offset())}})},d.prototype.handleDragStart=function(c){var d=this,e=a(c.target).closest(".drag"),f=b.prepare(c);if(f.start){var g=this.getClassnameNumericSuffix(e,"inplace");null!==g&&(this.setInputValue(g,0),e.removeClass("inplace"+g)),e.addClass("beingdragged"),b.start(c,e,function(a,b,c){d.dragMove(a,b,c)},function(a,b,c){d.dragEnd(a,b,c)})}},d.prototype.dragMove=function(b,c,d){var e=this;this.getRoot().find("span.drop.group"+this.getGroup(d)).each(function(d,f){var g=a(f);e.isPointInDrop(b,c,g)?g.addClass("valid-drag-over-drop"):g.removeClass("valid-drag-over-drop")})},d.prototype.dragEnd=function(b,c,d){var e=this,f=this.getRoot(),g=!1;f.find("span.drop.group"+this.getGroup(d)).each(function(f,h){var i=a(h);return!e.isPointInDrop(b,c,i)||(i.removeClass("valid-drag-over-drop"),e.sendDragToDrop(d,i),g=!0,!1)}),g||this.sendDragHome(d)},d.prototype.sendDragToDrop=function(a,b){var c=this.getCurrentDragInPlace(this.getPlace(b));0!==c.length&&this.sendDragHome(c),0===a.length?this.setInputValue(this.getPlace(b),0):(this.setInputValue(this.getPlace(b),this.getChoice(a)),a.removeClass("unplaced").addClass("placed inplace"+this.getPlace(b)),this.animateTo(a,b))},d.prototype.sendDragHome=function(a){a.removeClass("placed").addClass("unplaced");var b=this.getClassnameNumericSuffix(a,"inplace");null!==b&&a.removeClass("inplace"+b),this.animateTo(a,this.getDragHome(this.getGroup(a),this.getChoice(a)))},d.prototype.handleKeyPress=function(b){var d=a(b.target).closest(".drop"),e=this.getCurrentDragInPlace(this.getPlace(d)),f=a();switch(b.keyCode){case c.space:case c.arrowRight:case c.arrowDown:f=this.getNextDrag(this.getGroup(d),e);break;case c.arrowLeft:case c.arrowUp:f=this.getPreviousDrag(this.getGroup(d),e);break;case c.escape:break;default:return}b.preventDefault(),this.sendDragToDrop(f,d)},d.prototype.getNextDrag=function(a,b){var c,d=this.noOfChoicesInGroup(a);c=0===b.length?1:this.getChoice(b)+1;for(var e=this.getUnplacedChoice(a,c);0===e.length&&c<d;)c++,e=this.getUnplacedChoice(a,c);return e},d.prototype.getPreviousDrag=function(a,b){var c;c=0===b.length?this.noOfChoicesInGroup(a):this.getChoice(b)-1;for(var d=this.getUnplacedChoice(a,c);0===d.length&&c>1;)c--,d=this.getUnplacedChoice(a,c);return d},d.prototype.animateTo=function(a,b){var c=a.offset(),d=b.offset();a.addClass("beingdragged"),a.animate({left:parseInt(a.css("left"))+d.left-c.left,top:parseInt(a.css("top"))+d.top-c.top},{duration:"fast",done:function(){a.removeClass("beingdragged"),a.offset(d)}})},d.prototype.isPointInDrop=function(a,b,c){var d=c.offset();return a>=d.left&&a<d.left+c.width()&&b>=d.top&&b<d.top+c.height()},d.prototype.setInputValue=function(a,b){this.getRoot().find("input.placeinput.place"+a).val(b)},d.prototype.getRoot=function(){return a(document.getElementById(this.containerId))},d.prototype.getDragHome=function(a,b){return this.getRoot().find(".draghome.group"+a+".choice"+b)},d.prototype.getUnplacedChoice=function(a,b){return this.getRoot().find(".drag.group"+a+".choice"+b+".unplaced").slice(0,1)},d.prototype.getCurrentDragInPlace=function(a){return this.getRoot().find("span.drag.inplace"+a)},d.prototype.noOfDropsInGroup=function(a){return this.getRoot().find(".drop.group"+a).length},d.prototype.noOfChoicesInGroup=function(a){return this.getRoot().find(".draghome.group"+a).length},d.prototype.getClassnameNumericSuffix=function(a,b){var c=a.attr("class");if(""!==c)for(var d=c.split(" "),e=0;e<d.length;e++){var f=new RegExp("^"+b+"([0-9])+$");if(f.test(d[e])){var g=new RegExp("([0-9])+$"),h=g.exec(d[e]);return Number(h[0])}}return null},d.prototype.getChoice=function(a){return this.getClassnameNumericSuffix(a,"choice")},d.prototype.getGroup=function(a){return this.getClassnameNumericSuffix(a,"group")},d.prototype.getPlace=function(a){return this.getClassnameNumericSuffix(a,"place")};var e={eventHandlersInitialised:!1,questions:{},init:function(a,b){e.questions[a]=new d(a,b),e.eventHandlersInitialised||(e.setupEventHandlers(),e.eventHandlersInitialised=!0)},setupEventHandlers:function(){a("body").on("mousedown touchstart",".que.ddwtos:not(.qtype_ddwtos-readonly) span.drag",e.handleDragStart).on("keydown",".que.ddwtos:not(.qtype_ddwtos-readonly) span.drop",e.handleKeyPress),a(window).on("resize",e.handleWindowResize)},handleDragStart:function(a){a.preventDefault();var b=e.getQuestionForEvent(a);b&&b.handleDragStart(a)},handleKeyPress:function(a){var b=e.getQuestionForEvent(a);b&&b.handleKeyPress(a)},handleWindowResize:function(){for(var a in e.questions)e.questions.hasOwnProperty(a)&&e.questions[a].positionDrags()},getQuestionForEvent:function(b){var c=a(b.currentTarget).closest(".que.ddwtos").attr("id");return e.questions[c]}};return{init:e.init}});
define('mod_assign/participant_selector', ["core/ajax","jquery","core/templates"],function(a,b,c){return{processResults:function(a,b){return b},transport:function(d,e,f,g){var h=b(d).attr("data-assignmentid"),i=b(d).attr("data-groupid"),j=b('[data-region="configure-filters"] input[type="checkbox"]'),k=[];j.each(function(a,c){k[b(c).attr("name")]=b(c).prop("checked")}),a.call([{methodname:"mod_assign_list_participants",args:{assignid:h,groupid:i,filter:e,limit:30,includeenrolments:!1}}])[0].then(function(a){var d=[],e=b("[data-showuseridentity]").data("showuseridentity").split(",");return b.each(a,function(a,f){var g=f,h=[],i=!0;k.filter_submitted&&!f.submitted&&(i=!1),k.filter_notsubmitted&&f.submitted&&(i=!1),k.filter_requiregrading&&!f.requiregrading&&(i=!1),k.filter_grantedextension&&!f.grantedextension&&(i=!1),i&&(b.each(e,function(a,b){"undefined"!=typeof f[b]&&""!==f[b]&&(g.hasidentity=!0,h.push(f[b]))}),g.identity=h.join(", "),d.push(c.render("mod_assign/list_participant_user_summary",g).then(function(a){return{value:f.id,label:a}})))}),b.when.apply(b,d)}).then(function(){var a=[];arguments[0]&&(a=Array.prototype.slice.call(arguments)),f(a)})["catch"](g)}}});
define('mod_assign/grading_form_change_checker', ["jquery"],function(a){return{saveFormState:function(b){a(b).trigger("save-form-state");var c=a(b).serialize();a(b).data("saved-form-state",c)},checkFormForChanges:function(b){a(b).trigger("save-form-state");var c=a(b).serialize(),d=a(b).data("saved-form-state");return"undefined"!=typeof d&&d!=c}}});
define('mod_assign/grading_navigation_user_info', ["jquery","core/notification","core/ajax","core/templates"],function(a,b,c,d){var e=function(b){this._regionSelector=b,this._region=a(b),this._userCache={},a(document).on("user-changed",this._refreshUserInfo.bind(this))};return e.prototype._regionSelector=null,e.prototype._userCache=null,e.prototype._region=null,e.prototype._lastUserId=0,e.prototype._getAssignmentId=function(){return this._region.attr("data-assignmentid")},e.prototype._refreshUserInfo=function(e,f){var g=a.Deferred();this._region.attr("data-userid",f),this._lastUserId!=f&&(this._lastUserId=f,d.render("mod_assign/loading",{}).done(function(e,h){if(this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,e,h),this._region.fadeIn("fast")}.bind(this)),f<0)return void d.render("mod_assign/grading_navigation_no_users",{}).done(function(a,b){this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,a,b),this._region.fadeIn("fast")}.bind(this))}.bind(this)).fail(b.exception);if("undefined"!=typeof this._userCache[f])g.resolve(this._userCache[f]);else{var i=this._getAssignmentId(),j=c.call([{methodname:"mod_assign_get_participant",args:{userid:f,assignid:i,embeduser:!0}}]);j[0].done(function(a){a.hasOwnProperty("id")?(this._userCache[f]=a,g.resolve(this._userCache[f])):g.reject("No users")}.bind(this)).fail(b.exception)}g.done(function(c){var e=a("[data-showuseridentity]").data("showuseridentity").split(","),f=[];c.courseid=a('[data-region="grading-navigation-panel"]').attr("data-courseid"),c.user&&(a.each(e,function(a,b){"undefined"!=typeof c.user[b]&&""!==c.user[b]&&(c.hasidentity=!0,f.push(c.user[b]))}),c.identity=f.join(", "),c.user.profileimageurl&&(c.profileimageurl=c.user.profileimageurl)),d.render("mod_assign/grading_navigation_user_summary",c).done(function(a,b){this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,a,b),this._region.fadeIn("fast")}.bind(this))}.bind(this)).fail(b.exception)}.bind(this)).fail(function(){d.render("mod_assign/grading_navigation_no_users",{}).done(function(a,b){this._region.fadeOut("fast",function(){d.replaceNodeContents(this._region,a,b),this._region.fadeIn("fast")}.bind(this))}.bind(this)).fail(b.exception)}.bind(this))}.bind(this)).fail(b.exception))},e});
define('mod_assign/grading_review_panel', ["jquery","mod_assign/grading_events"],function(a,b){var c=function(){this._region=a('[data-region="review-panel-content"]'),this.registerEventListeners()};return c.prototype._region=null,c.prototype.getReviewPanel=function(a){var b=this._region.data("panel-owner");return"undefined"==typeof b&&this._region.data("review-panel-plugin",a),this._region.data("review-panel-plugin")==a&&this._region[0]},c.prototype.getTogglePanelButton=function(){return this.getPanelElement().find('[data-region="review-panel-toggle"]')},c.prototype.getPanelElement=function(){return a('[data-region="review-panel"]')},c.prototype.getPanelContentElement=function(){return a('[data-region="review-panel-content"]')},c.prototype.togglePanel=function(){this.getPanelElement().hasClass("collapsed")?a(document).trigger(b.EXPAND_REVIEW_PANEL):a(document).trigger(b.COLLAPSE_REVIEW_PANEL)},c.prototype.collapsePanel=function(){this.getPanelElement().addClass("collapsed").removeClass("grade-panel-collapsed"),this.getPanelContentElement().attr("aria-hidden",!0)},c.prototype.expandPanel=function(){this.getPanelElement().removeClass("collapsed"),this.getPanelContentElement().removeAttr("aria-hidden")},c.prototype.registerEventListeners=function(){var c=this.getTogglePanelButton();c.click(function(a){this.togglePanel(),a.preventDefault()}.bind(this)),c.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.togglePanel(),a.preventDefault())}.bind(this));var d=a(document);d.on(b.COLLAPSE_REVIEW_PANEL,function(){this.collapsePanel()}.bind(this)),d.on(b.COLLAPSE_GRADE_PANEL,function(){this.expandPanel(),this.getPanelElement().addClass("grade-panel-collapsed")}.bind(this)),d.on(b.EXPAND_REVIEW_PANEL,function(){this.expandPanel()}.bind(this)),d.on(b.EXPAND_GRADE_PANEL,function(){this.getPanelElement().removeClass("grade-panel-collapsed")}.bind(this))},c});
define('mod_assign/grading_panel', ["jquery","core/yui","core/notification","core/templates","core/fragment","core/ajax","core/str","mod_assign/grading_form_change_checker","mod_assign/grading_events"],function(a,b,c,d,e,f,g,h,i){var j=function(b){this._regionSelector=b,this._region=a(b),this._userCache=[],this.registerEventListeners()};return j.prototype._regionSelector=null,j.prototype._lastUserId=0,j.prototype._lastAttemptNumber=-1,j.prototype._region=null,j.prototype.nextUserId=null,j.prototype.nextUser=!1,j.prototype._niceReplaceNodeContents=function(b,c,e){var f=a.Deferred();return b.fadeOut("fast",function(){d.replaceNodeContents(b,c,e),b.fadeIn("fast",function(){f.resolve()})}),f.promise()},j.prototype._saveFormState=function(){"undefined"!=typeof window.tinyMCE&&window.tinyMCE.triggerSave();var b=a('[data-region="grading-actions-form"] [name="sendstudentnotifications"]').prop("checked");a('.gradeform [name="sendstudentnotifications"]').val(b)},j.prototype._submitForm=function(b,d,e){var g=a(this._region.find("form.gradeform"));a('[data-region="overlay"]').show(),g.trigger("save-form-state");var h=g.serialize(),i=this._region.attr("data-assignmentid");f.call([{methodname:"mod_assign_submit_grading_form",args:{assignmentid:i,userid:this._lastUserId,jsonformdata:JSON.stringify(h)},done:this._handleFormSubmissionResponse.bind(this,h,d,e),fail:c.exception}])},j.prototype._handleFormSubmissionResponse=function(d,e,f,h){"undefined"==typeof e&&(e=this._lastUserId),h.length?a(document).trigger("reset",[this._lastUserId,d]):(g.get_strings([{key:"changessaved",component:"core"},{key:"gradechangessaveddetail",component:"mod_assign"}]).done(function(a){c.alert(a[0],a[1])}).fail(c.exception),b.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()}),e==this._lastUserId?a(document).trigger("reset",e):f?a(document).trigger("done-saving-show-next",!0):a(document).trigger("user-changed",e)),a('[data-region="overlay"]').hide()},j.prototype._resetForm=function(b,c,d){var e=a.Event("custom");"undefined"==typeof c&&(c=this._lastUserId),this._lastUserId=0,this._refreshGradingPanel(e,c,d)},j.prototype._chooseAttempt=function(b){var d=a(b.target),e=d.data("submissions"),f=a(document.getElementById(e)),h=f.clone(),i=h.wrap(a("<form/>")).html();g.get_strings([{key:"viewadifferentattempt",component:"mod_assign"},{key:"view",component:"core"},{key:"cancel",component:"core"}]).done(function(b){c.confirm(b[0],i,b[1],b[2],function(){var b=a("input:radio[name='select-attemptnumber']:checked").val();this._refreshGradingPanel(null,this._lastUserId,"",b)}.bind(this))}.bind(this)).fail(c.exception)},j.prototype._addPopoutButtons=function(b){var e=a(b);d.render("mod_assign/popout_button",{}).done(function(a){var b=e.find('[data-fieldtype="filemanager"],[data-fieldtype="editor"],[data-fieldtype="grading"]').closest(".fitem");b.addClass("has-popout").find("label").parent().append(a),e.on("click",'[data-region="popout-button"]',this._togglePopout.bind(this))}.bind(this)).fail(c.exception)},j.prototype._togglePopout=function(b){b.preventDefault();var c=a(b.target).closest(".fitem");c.hasClass("popout")?a(".popout").removeClass("popout"):(a(".popout").removeClass("popout"),c.addClass("popout"),c.addClass("moodle-has-zindex"))},j.prototype._refreshGradingPanel=function(b,f,g,i){var j=this._region.attr("data-contextid");"undefined"==typeof g&&(g=""),"undefined"==typeof i&&(i=-1),this._lastUserId==f&&this._lastAttemptNumber==i&&""===g||(this._lastUserId=f,this._lastAttemptNumber=i,a(document).trigger("start-loading-user"),window.M.util.js_pending("mod-assign-loading-user"),d.render("mod_assign/loading",{}).done(function(b,d){this._niceReplaceNodeContents(this._region,b,d).done(function(){if(f>0){this._region.show();var b={userid:f,attemptnumber:i,jsonformdata:JSON.stringify(g)};e.loadFragment("mod_assign","gradingpanel",j,b).done(function(b,d){this._niceReplaceNodeContents(this._region,b,d).done(function(){h.saveFormState('[data-region="grade-panel"] .gradeform'),a(document).on("editor-content-restored",function(){h.saveFormState('[data-region="grade-panel"] .gradeform')}),a('[data-region="attempt-chooser"]').on("click",this._chooseAttempt.bind(this)),this._addPopoutButtons('[data-region="grade-panel"] .gradeform'),a(document).trigger("finish-loading-user"),window.M.util.js_complete("mod-assign-loading-user")}.bind(this)).fail(c.exception)}.bind(this)).fail(c.exception),a('[data-region="review-panel"]').show()}else this._region.hide(),a('[data-region="review-panel"]').hide(),a(document).trigger("finish-loading-user"),window.M.util.js_complete("mod-assign-loading-user")}.bind(this))}.bind(this)).fail(c.exception))},j.prototype._getNextUser=function(a,b){this.nextUserId=b.nextUserId,this.nextUser=b.nextUser},j.prototype._handleSaveAndShowNext=function(){this._submitForm(null,this.nextUserId,this.nextUser)},j.prototype.getPanelElement=function(){return a('[data-region="grade-panel"]')},j.prototype.collapsePanel=function(){this.getPanelElement().addClass("collapsed")},j.prototype.expandPanel=function(){this.getPanelElement().removeClass("collapsed")},j.prototype.registerEventListeners=function(){var b=a(document),c=a(this._region);c.on("submit","form",function(a){a.preventDefault()}),b.on("next-user",this._getNextUser.bind(this)),b.on("user-changed",this._refreshGradingPanel.bind(this)),b.on("save-changes",this._submitForm.bind(this)),b.on("save-and-show-next",this._handleSaveAndShowNext.bind(this)),b.on("reset",this._resetForm.bind(this)),b.on("save-form-state",this._saveFormState.bind(this)),b.on(i.COLLAPSE_GRADE_PANEL,function(){this.collapsePanel()}.bind(this)),b.on(i.COLLAPSE_REVIEW_PANEL,function(){this.expandPanel()}.bind(this)),b.on(i.EXPAND_GRADE_PANEL,function(){this.expandPanel()}.bind(this))},j});
define('mod_assign/grading_events', function(){return{COLLAPSE_REVIEW_PANEL:"grading:collapse-review-panel",EXPAND_REVIEW_PANEL:"grading:expand-review-panel",COLLAPSE_GRADE_PANEL:"grading:collapse-grade-panel",EXPAND_GRADE_PANEL:"grading:expand-grade-panel"}});
define('mod_assign/grading_actions', ["jquery","mod_assign/grading_events"],function(a,b){var c=function(b){this._regionSelector=b,this._region=a(b),this.registerEventListeners()};return c.prototype._regionSelector=null,c.prototype._lastUserId=0,c.prototype._region=null,c.prototype._showActionsForm=function(a,b){var c=this._region.find("[data-region=grading-actions-form]");b!=this._lastUserId&&b>0&&(this._lastUserId=b),b>0?c.removeClass("hide"):c.addClass("hide")},c.prototype._trigger=function(b){a(document).trigger(b)},c.prototype.getReviewPanelElement=function(){return a('[data-region="review-panel"]')},c.prototype.hasReviewPanelElement=function(){return this.getReviewPanelElement().length>0},c.prototype.getCollapseGradePanelButton=function(){return a('[data-region="grade-actions"] .collapse-grade-panel')},c.prototype.getCollapseReviewPanelButton=function(){return a('[data-region="grade-actions"] .collapse-review-panel')},c.prototype.getExpandAllPanelsButton=function(){return a('[data-region="grade-actions"] .collapse-none')},c.prototype.resetLayoutButtons=function(){this.getCollapseGradePanelButton().removeClass("active"),this.getCollapseReviewPanelButton().removeClass("active"),this.getExpandAllPanelsButton().removeClass("active")},c.prototype.collapseReviewPanel=function(){a(document).trigger(b.COLLAPSE_REVIEW_PANEL),a(document).trigger(b.EXPAND_GRADE_PANEL),this.resetLayoutButtons(),this.getCollapseReviewPanelButton().addClass("active")},c.prototype.collapseGradePanel=function(){a(document).trigger(b.COLLAPSE_GRADE_PANEL),a(document).trigger(b.EXPAND_REVIEW_PANEL),this.resetLayoutButtons(),this.getCollapseGradePanelButton().addClass("active")},c.prototype.expandAllPanels=function(){a(document).trigger(b.EXPAND_GRADE_PANEL),a(document).trigger(b.EXPAND_REVIEW_PANEL),this.resetLayoutButtons(),this.getExpandAllPanelsButton().addClass("active")},c.prototype.registerEventListeners=function(){if(this.hasReviewPanelElement()){var b=this.getCollapseReviewPanelButton();b.click(function(a){this.collapseReviewPanel(),a.preventDefault()}.bind(this)),b.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.collapseReviewPanel(),a.preventDefault())}.bind(this));var c=this.getCollapseGradePanelButton();c.click(function(a){this.collapseGradePanel(),a.preventDefault()}.bind(this)),c.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.collapseGradePanel(),a.preventDefault())}.bind(this));var d=this.getExpandAllPanelsButton();d.click(function(a){this.expandAllPanels(),a.preventDefault()}.bind(this)),d.keydown(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||13!==a.keyCode&&32!==a.keyCode||(this.expandAllPanels(),a.preventDefault())}.bind(this))}a(document).on("user-changed",this._showActionsForm.bind(this)),this._region.find('[name="savechanges"]').on("click",this._trigger.bind(this,"save-changes")),this._region.find('[name="saveandshownext"]').on("click",this._trigger.bind(this,"save-and-show-next")),this._region.find('[name="resetbutton"]').on("click",this._trigger.bind(this,"reset")),this._region.find("form").on("submit",function(a){a.preventDefault()})},c});
define('mod_assign/grading_navigation', ["jquery","core/notification","core/str","core/form-autocomplete","core/ajax","mod_assign/grading_form_change_checker"],function(a,b,c,d,e,f){var g=function(e){this._regionSelector=e,this._region=a(e),this._filters=[],this._users=[],this._filteredUsers=[],this._loadAllUsers(),this._region.find('[data-action="previous-user"]').on("click",this._handlePreviousUser.bind(this)),this._region.find('[data-action="next-user"]').on("click",this._handleNextUser.bind(this)),this._region.find('[data-action="change-user"]').on("change",this._handleChangeUser.bind(this)),this._region.find('[data-region="user-filters"]').on("click",this._toggleExpandFilters.bind(this)),a(document).on("user-changed",this._refreshSelector.bind(this)),a(document).on("done-saving-show-next",this._handleNextUser.bind(this));var f=this._region.find('[data-region="user-filters"]'),g=a(document.getElementById(f.attr("aria-controls")));g.on("change",'[type="checkbox"]',this._filterChanged.bind(this));var h=a('[data-region="grading-navigation-panel"]').data("first-userid");h&&this._selectUserById(h),c.get_string("changeuser","mod_assign").done(function(a){d.enhance("[data-action=change-user]",!1,"mod_assign/participant_selector",a)}).fail(b.exception),a(document).bind("start-loading-user",function(){this._isLoading=!0}.bind(this)),a(document).bind("finish-loading-user",function(){this._isLoading=!1}.bind(this))};return g.prototype._isLoading=!1,g.prototype._regionSelector=null,g.prototype._filters=null,g.prototype._users=null,g.prototype._region=null,g.prototype._loadAllUsers=function(){var a=this._region.find("[data-action=change-user]"),c=a.attr("data-assignmentid"),d=a.attr("data-groupid");e.call([{methodname:"mod_assign_list_participants",args:{assignid:c,groupid:d,filter:"",onlyids:!0},done:this._usersLoaded.bind(this),fail:b.exception}])},g.prototype._usersLoaded=function(b){if(this._filteredUsers=this._users=b,this._users.length){var c=this._region.find('[data-region="user-filters"]'),d=a(document.getElementById(c.attr("aria-controls")));d.find('[type="checkbox"]').trigger("change")}else this._selectNoUser();this._triggerNextUserEvent()},g.prototype._checkClickOutsideConfigureFilters=function(b){var c=this._region.find('[data-region="configure-filters"]');if(!c.is(b.target)&&0===c.has(b.target).length){var d=this._region.find('[data-region="user-filters"]');c.hide(),c.attr("aria-hidden","true"),d.attr("aria-expanded","false"),a(document).unbind("click.mod_assign_grading_navigation")}},g.prototype._filterChanged=function(d){var e=a(d.target).attr("name"),f=e.split("_").pop(),g=a(d.target).prop("checked");if(g)this._filters.indexOf(f)==-1&&(this._filters[this._filters.length]=f);else{var h=this._filters.indexOf(f);h!=-1&&this._filters.splice(h,1)}var i=[];this._region.find('[data-region="configure-filters"]').find('[type="checkbox"]').each(function(b,c){a(c).prop("checked")&&(i[i.length]=a(c).closest("label").text())}),i.length?this._region.find('[data-region="user-filters"] span').text(i.join(", ")):c.get_string("nofilters","mod_assign").done(function(a){this._region.find('[data-region="user-filters"] span').text(a)}.bind(this)).fail(b.exception);var j=this._region.find("[data-action=change-user]"),k=j.attr("data-selected"),l=0;this._filteredUsers=[],a.each(this._users,function(b,c){var d=!0;a.each(this._filters,function(a,b){"submitted"==b?"0"==c.submitted&&(d=!1):"notsubmitted"==b?"1"==c.submitted&&(d=!1):"requiregrading"==b?"0"==c.requiregrading&&(d=!1):"grantedextension"==b&&"0"==c.grantedextension&&(d=!1)}),d&&(this._filteredUsers[this._filteredUsers.length]=c,k==c.id&&(l=this._filteredUsers.length-1))}.bind(this)),this._filteredUsers.length?this._selectUserById(this._filteredUsers[l].id):this._selectNoUser(),this._triggerNextUserEvent()},g.prototype._selectNoUser=function(){this._isLoading||(f.checkFormForChanges('[data-region="grade-panel"] .gradeform')?c.get_strings([{key:"unsavedchanges",component:"mod_assign"},{key:"unsavedchangesquestion",component:"mod_assign"},{key:"saveandcontinue",component:"mod_assign"},{key:"cancel",component:"core"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){a(document).trigger("save-changes",-1)})}):a(document).trigger("user-changed",-1))},g.prototype._selectUserById=function(d){var e=this._region.find("[data-action=change-user]"),g=parseInt(d,10);this._isLoading||(f.checkFormForChanges('[data-region="grade-panel"] .gradeform')?c.get_strings([{key:"unsavedchanges",component:"mod_assign"},{key:"unsavedchangesquestion",component:"mod_assign"},{key:"saveandcontinue",component:"mod_assign"},{key:"cancel",component:"core"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){a(document).trigger("save-changes",g)})}):(e.attr("data-selected",d),!isNaN(g)&&g>0&&a(document).trigger("user-changed",d)))},g.prototype._toggleExpandFilters=function(b){b.preventDefault();var c=a(b.target).closest('[data-region="user-filters"]'),d="true"==c.attr("aria-expanded"),e=a(document.getElementById(c.attr("aria-controls")));d?(e.hide(),e.attr("aria-hidden","true"),c.attr("aria-expanded","false"),a(document).unbind("click.mod_assign_grading_navigation")):(e.css("display","inline-block"),e.attr("aria-hidden","false"),c.attr("aria-expanded","true"),b.stopPropagation(),a(document).on("click.mod_assign_grading_navigation",this._checkClickOutsideConfigureFilters.bind(this)))},g.prototype._handlePreviousUser=function(a){a.preventDefault();var b=this._region.find("[data-action=change-user]"),c=b.attr("data-selected"),d=0,e=0;for(d=0;d<this._filteredUsers.length;d++)if(this._filteredUsers[d].id==c){e=d;break}var f=this._filteredUsers.length,g=e-1;g<0&&(g=f-1),f&&this._selectUserById(this._filteredUsers[g].id)},g.prototype._handleNextUser=function(b,c){b.preventDefault();var d=this._region.find("[data-action=change-user]"),e=d.attr("data-selected"),f=0,g=0;for(f=0;f<this._filteredUsers.length;f++)if(this._filteredUsers[f].id==e){g=f;break}var h=this._filteredUsers.length,i=(g+1)%h;if(c&&h){var j=this._filteredUsers[i].id,k=parseInt(j,10);d.attr("data-selected",j),!isNaN(k)&&k>0&&a(document).trigger("user-changed",j)}else h&&this._selectUserById(this._filteredUsers[i].id)},g.prototype._refreshCount=function(){var a=this._region.find("[data-action=change-user]"),d=a.attr("data-selected"),e=0,f=0;if(isNaN(d)||d<=0)this._region.find('[data-region="user-count"]').hide();else{for(this._region.find('[data-region="user-count"]').show(),e=0;e<this._filteredUsers.length;e++)if(this._filteredUsers[e].id==d){f=e;break}var g=this._filteredUsers.length;g&&(f+=1);var h={x:f,y:g};c.get_string("xofy","mod_assign",h).done(function(a){this._region.find('[data-region="user-count-summary"]').text(a)}.bind(this)).fail(b.exception)}},g.prototype._refreshSelector=function(a,b){var c=this._region.find("[data-action=change-user]");b=parseInt(b,10),!isNaN(b)&&b>0&&c.attr("data-selected",b),this._refreshCount()},g.prototype._triggerNextUserEvent=function(){this._filteredUsers.length>1?a(document).trigger("next-user",{nextUserId:null,nextUser:!0}):a(document).trigger("next-user",{nextUser:!1})},g.prototype._handleChangeUser=function(){var d=this._region.find("[data-action=change-user]"),e=parseInt(d.val(),10);this._isLoading||(f.checkFormForChanges('[data-region="grade-panel"] .gradeform')?c.get_strings([{key:"unsavedchanges",component:"mod_assign"},{key:"unsavedchangesquestion",component:"mod_assign"},{key:"saveandcontinue",component:"mod_assign"},{key:"cancel",component:"core"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){a(document).trigger("save-changes",e)})}):!isNaN(e)&&e>0&&(d.attr("data-selected",e),a(document).trigger("user-changed",e)))},g});
define('mod_choice/select_all_choices', ["jquery"],function(a){return{init:function(){a(".selectallnone a").on("click",function(b){b.preventDefault(),a("#attemptsform").find("input:checkbox").prop("checked",a(this).data("selectInfo"))})}}});
define('mod_choicegroup/choicegroupdatadisplay', ["jquery","core/str"],function(a,b){return{init:function(){a(".choicegroup-memberdisplay").click(function(c){c.preventDefault(),a(".choicegroups-membersnames").toggleClass("hidden");var d=b.get_string("showgroupmembers","mod_choicegroup"),e=b.get_string("hidegroupmembers","mod_choicegroup");a(".choicegroups-membersnames").is(":visible")?a.when(e).done(function(b){a(".choicegroup-memberdisplay").html(b)}):a.when(d).done(function(b){a(".choicegroup-memberdisplay").html(b)})}),a(".choicegroup-descriptiondisplay").click(function(c){c.preventDefault(),a(".choicegroups-descriptions").toggleClass("hidden");var d=b.get_string("hidedescription","mod_choicegroup"),e=b.get_string("showdescription","mod_choicegroup");a(".choicegroups-descriptions").is(":visible")?a.when(d).done(function(b){a(".choicegroup-descriptiondisplay").html(b)}):a.when(e).done(function(b){a(".choicegroup-descriptiondisplay").html(b)})})}}});
define('mod_choicegroup/select_all_choices', ["jquery"],function(a){return{init:function(){a(".selectallnone a").on("click",function(b){b.preventDefault(),a("#attemptsform").find("input:checkbox").prop("checked",a(this).data("selectInfo"))})}}});
define('mod_feedback/edit', ["jquery","core/ajax","core/str","core/notification"],function(a,b,c,d){var e={deleteItem:function(b){b.preventDefault();var e=a(b.currentTarget).attr("href");c.get_strings([{key:"confirmation",component:"admin"},{key:"confirmdeleteitem",component:"mod_feedback"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).then(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){window.location=e})})["catch"]()},setup:function(){a("body").delegate('[data-action="delete"]',"click",e.deleteItem)}};return{setup:e.setup}});
define('mod_lti/tool_card_controller', ["jquery","core/ajax","core/notification","core/templates","mod_lti/tool_type","mod_lti/events","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g,h){var i={DELETE_BUTTON:".delete",NAME_ELEMENT:".name",DESCRIPTION_ELEMENT:".description",CAPABILITIES_CONTAINER:".capabilities-container",ACTIVATE_BUTTON:".tool-card-footer a.activate"},j=2e3,k=function(a){return a.find(i.DELETE_BUTTON)},l=function(a){return a.find(i.NAME_ELEMENT)},m=function(a){return a.find(i.DESCRIPTION_ELEMENT)},n=function(a){return a.find(i.ACTIVATE_BUTTON)},o=function(a){return!!n(a).length},p=function(a){return a.find(i.CAPABILITIES_CONTAINER)},q=function(a){return!!p(a).length},r=function(a){return a.attr("data-type-id")},s=function(a){a.removeClass("announcement loading success fail capabilities")},t=function(a){s(a),a.addClass("announcement loading")},u=function(a){a.removeClass("announcement loading")},v=function(b){var c=a.Deferred();return s(b),b.addClass("announcement success"),setTimeout(function(){b.removeClass("announcement success"),c.resolve()},j),c},w=function(b){var c=a.Deferred();return s(b),b.addClass("announcement fail"),setTimeout(function(){b.removeClass("announcement fail"),c.resolve()},j),c},x=function(b){var d=a.Deferred(),f=r(b);return t(b),""===f?a.Deferred().resolve():(h.get_strings([{key:"delete",component:"mod_lti"},{key:"delete_confirmation",component:"mod_lti"},{key:"delete",component:"mod_lti"},{key:"cancel",component:"core"}]).done(function(a){c.confirm(a[0],a[1],a[2],a[3],function(){e["delete"](f).done(function(){u(b),v(b).done(function(){b.remove()}).fail(c.exception).always(function(){d.resolve()})}).fail(function(a){w(b),d.reject(a)})},function(){u(b),d.resolve()})}).fail(function(a){u(b),c.exception(a),d.reject(a)}),d)},y=function(a,b){a.attr("data-val-snapshot",b)},z=function(a){return a.attr("data-val-snapshot")},A=function(a){var b=m(a);if(!b.hasClass("loading")){var c=b.text().trim();y(b,c)}},B=function(b){var d=r(b);if(""===d)return a.Deferred().resolve();var f=m(b);if(f.hasClass("loading"))return a.Deferred().resolve();var g=f.text().trim(),h=z(f);if(h==g)return a.Deferred().resolve();f.addClass("loading");var i=e.update({id:d,description:g});return i.done(function(a){f.removeClass("loading"),f.text(a.description)}).fail(c.exception),i.fail(function(){f.removeClass("loading")}),i},C=function(a){var b=l(a);if(!b.hasClass("loading")){var c=b.text().trim();y(b,c)}},D=function(b){var c=r(b);if(""===c)return a.Deferred().resolve();var d=l(b);if(d.hasClass("loading"))return a.Deferred().resolve();var f=d.text().trim(),g=z(d);if(g==f)return a.Deferred().resolve();d.addClass("loading");var h=e.update({id:c,name:f});return h.done(function(a){d.removeClass("loading"),d.text(a.name)}),h.fail(function(){d.removeClass("loading")}),h},E=function(b){var c=r(b);if(""===c)return a.Deferred().resolve();t(b);var f=e.update({id:c,state:e.constants.state.configured});return f.then(function(a){return u(b),v(b),a}).then(function(a){return d.render("mod_lti/tool_card",a)}).then(function(a){var c=a[0],e=a[1];d.replaceNode(b,c,e)})["catch"](function(){u(b),w(b)}),f},F=function(a){a.addClass("announcement capabilities")},G=function(a){a.removeClass("announcement capabilities")},H=function(a){q(a)?F(a):E(a)},I=function(a){var b=k(a);b.click(function(b){b.preventDefault(),x(a)}),b.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),b.click())});var c=m(a);c.focus(function(b){b.preventDefault(),A(a)}),c.blur(function(b){b.preventDefault(),B(a)}),c.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode==g.ENTER&&(a.preventDefault(),c.blur())});var d=l(a);if(d.focus(function(b){b.preventDefault(),C(a)}),d.blur(function(b){b.preventDefault(),D(a)}),d.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode==g.ENTER&&(a.preventDefault(),d.blur())}),o(a)){var e=n(a);e.click(function(b){b.preventDefault(),H(a)}),e.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),e.click())})}if(q(a)){var h=p(a);h.on(f.CAPABILITIES_AGREE,function(){E(a)}),h.on(f.CAPABILITIES_DECLINE,function(){G(a)})}};return{init:function(a){I(a)}}});
define('mod_lti/tool_proxy_card_controller', ["jquery","core/ajax","core/notification","core/templates","mod_lti/tool_proxy","mod_lti/events","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g,h){var i={DELETE_BUTTON:".delete",CAPABILITIES_CONTAINER:".capabilities-container",ACTIVATE_BUTTON:".tool-card-footer a.activate"},j=2e3,k=function(a){return a.find(i.DELETE_BUTTON)},l=function(a){return a.find(i.ACTIVATE_BUTTON)},m=function(a){return a.attr("data-proxy-id")},n=function(a){a.removeClass("announcement loading success fail capabilities")},o=function(a){n(a),a.addClass("announcement loading")},p=function(a){a.removeClass("announcement loading")},q=function(b){var c=a.Deferred();return n(b),b.addClass("announcement success"),setTimeout(function(){b.removeClass("announcement success"),c.resolve()},j),c},r=function(b){var c=a.Deferred();return n(b),b.addClass("announcement fail"),setTimeout(function(){b.removeClass("announcement fail"),c.resolve()},j),c},s=function(b){var d=a.Deferred(),f=m(b);return o(b),""===f?a.Deferred().resolve():(h.get_strings([{key:"delete",component:"mod_lti"},{key:"delete_confirmation",component:"mod_lti"},{key:"delete",component:"mod_lti"},{key:"cancel",component:"core"}]).done(function(a){c.confirm(a[0],a[1],a[2],a[3],function(){e["delete"](f).done(function(){p(b),q(b).done(function(){b.remove(),d.resolve()}).fail(c.exception)}).fail(function(a){r(b),d.reject(a)})},function(){p(b),d.resolve()})}).fail(function(a){p(b),c.exception(a),d.reject(a)}),d)},t=function(b){var c={proxyid:m(b)};a(document).trigger(f.START_EXTERNAL_REGISTRATION,c)},u=function(a){var b=k(a);b.click(function(b){b.preventDefault(),s(a)}),b.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),b.click())});var c=l(a);c.click(function(b){b.preventDefault(),t(a)}),c.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=g.ENTER&&a.keyCode!=g.SPACE||(a.preventDefault(),c.click())})};return{init:function(a){u(a)}}});
define('mod_lti/external_registration_return', [],function(){return{init:function(a,b,c,d){window.parent&&window.parent.triggerExternalRegistrationComplete({message:a,error:b,id:c,status:d})}}});
define('mod_lti/external_registration', ["jquery","core/ajax","core/notification","core/templates","mod_lti/events","mod_lti/tool_proxy","mod_lti/tool_type","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g,h,i){var j={EXTERNAL_REGISTRATION_CONTAINER:"#external-registration-page-container",EXTERNAL_REGISTRATION_TEMPLATE_CONTAINER:"#external-registration-template-container",EXTERNAL_REGISTRATION_CANCEL_BUTTON:"#cancel-external-registration",TOOL_TYPE_CAPABILITIES_CONTAINER:"#tool-type-capabilities-container",TOOL_TYPE_CAPABILITIES_TEMPLATE_CONTAINER:"#tool-type-capabilities-template-container",CAPABILITIES_AGREE_CONTAINER:".capabilities-container"},k=function(){return a(j.EXTERNAL_REGISTRATION_CANCEL_BUTTON)},l=function(){return a(j.EXTERNAL_REGISTRATION_CONTAINER)},m=function(){return a(j.EXTERNAL_REGISTRATION_TEMPLATE_CONTAINER)},n=function(){return a(j.TOOL_TYPE_CAPABILITIES_CONTAINER)},o=function(){return a(j.TOOL_TYPE_CAPABILITIES_TEMPLATE_CONTAINER)},p=function(){n().addClass("loading")},q=function(){n().removeClass("loading")},r=function(){k().addClass("loading")},s=function(){k().removeClass("loading")},t=function(){n().addClass("hidden")},u=function(){n().removeClass("hidden")},v=function(){l().addClass("hidden")},w=function(){l().removeClass("hidden")},x=function(a){var b=k();b.attr("data-tool-proxy-id",a)},y=function(){var a=k();return a.attr("data-tool-proxy-id")},z=function(){var a=k();a.removeAttr("data-tool-proxy-id")},A=function(){return!!y()},B=function(){var a=k();return a.attr("data-tool-proxy-new")&&A()},C=function(){var a=k();return a.attr("data-tool-proxy-new","new")},D=function(){var a=k();return a.removeAttr("data-tool-proxy-new")},E=function(a){var c={methodname:"mod_lti_get_tool_proxy_registration_request",args:{id:a}};return b.call([c])[0]},F=function(){r();var b=a.Deferred();if(B()){var d=y();f["delete"](d).done(function(){b.resolve()}).fail(function(a){b.reject(a)})}else b.resolve();return b.done(function(){L(),s()}).fail(function(b){c.exception(b),L(),s(),i.get_string("failedtodeletetoolproxy","mod_lti").done(function(b){var c={message:b,error:!0};a(document).trigger(e.REGISTRATION_FEEDBACK,c)}).fail(c.exception)}),b},G=function(a){var b=d.render("mod_lti/tool_proxy_registration_form",a);return b.done(function(a,b){var c=m();c.append(a),d.runTemplateJS(b),c.find("form").submit(),w()}).fail(c.exception),b},H=function(a){return g.update({id:a.id,state:g.constants.state.configured})},I=function(b){var f=a.Deferred();return d.render("mod_lti/tool_type_capabilities_agree",b).done(function(a,c){var g=o();v(),u(),d.replaceNodeContents(g,a,c);var h=g.find(j.CAPABILITIES_AGREE_CONTAINER);h.on(e.CAPABILITIES_AGREE,function(){p(),H(b).always(function(){q(),g.empty(),f.resolve()})}),h.on(e.CAPABILITIES_DECLINE,function(){g.empty(),f.resolve()})}).fail(f.reject),f.done(function(){t()}).fail(c.exception),f},J=function(b){var c=a.Deferred();return b&&""!==b?f.create({regurl:b}).done(function(a){C(),c=K(a.id)}).fail(function(b){F();var d={message:b.message,error:!0};a(document).trigger(e.REGISTRATION_FEEDBACK,d),c.reject(b)}):c.resolve(),c},K=function(b){var c=a.Deferred();return x(b),E(b).done(function(a){G(a).done(function(){c.resolve()}).fail(c.fail)}).fail(c.fail),c},L=function(){A()&&z(),D(!1),v();var b=m();b.empty(),a(document).trigger(e.STOP_EXTERNAL_REGISTRATION)},M=function(){a(document).on(e.START_EXTERNAL_REGISTRATION,function(a,b){b&&(b.url&&J(b.url),b.proxyid&&K(b.proxyid))});var b=k();b.click(function(a){a.preventDefault(),F()}),b.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=h.ENTER&&a.keyCode!=h.SPACE||(a.preventDefault(),F())}),window.triggerExternalRegistrationComplete=function(b){var d=a.Deferred(),f={message:"",error:!1};if("success"==b.status){if(i.get_string("successfullycreatedtooltype","mod_lti").done(function(a){f.message=a}).fail(c.exception),d.done(function(){L(),a(document).trigger(e.REGISTRATION_FEEDBACK,f),a(document).trigger(e.NEW_TOOL_TYPE)}).fail(c.exception),B()){var h=y();g.getFromToolProxyId(h).done(function(a){if(a&&a.length){var b=a[0];b.hascapabilitygroups?I(b).always(function(){d.resolve()}):d.resolve()}else d.resolve()}).fail(function(){d.resolve()})}}else f.message=b.error,f.error=!0,d.done(function(){F().always(function(){a(document).trigger(e.REGISTRATION_FEEDBACK,f)})}).fail(c.exception),d.resolve();return d}};return{init:function(){M()}}});
define('mod_lti/events', [],function(){return{NEW_TOOL_TYPE:"lti.tool.type.new",START_EXTERNAL_REGISTRATION:"lti.registration.external.start",STOP_EXTERNAL_REGISTRATION:"lti.registration.external.stop",START_CARTRIDGE_REGISTRATION:"lti.registration.cartridge.start",STOP_CARTRIDGE_REGISTRATION:"lti.registration.cartridge.stop",REGISTRATION_FEEDBACK:"lti.registration.feedback",CAPABILITIES_AGREE:"lti.tool.type.capabilities.agree",CAPABILITIES_DECLINE:"lti.tool.type.capabilities.decline"}});
define('mod_lti/keys', [],function(){return{ENTER:13,SPACE:32}});
define('mod_lti/tool_type', ["core/ajax","core/notification"],function(a,b){return{query:function(c){var d={methodname:"mod_lti_get_tool_types",args:c||{}},e=a.call([d])[0];return e.fail(b.exception),e},create:function(b){var c={methodname:"mod_lti_create_tool_type",args:b},d=a.call([c])[0];return d},update:function(c){var d={methodname:"mod_lti_update_tool_type",args:c},e=a.call([d])[0];return e.fail(b.exception),e},"delete":function(c){var d={methodname:"mod_lti_delete_tool_type",args:{id:c}},e=a.call([d])[0];return e.fail(b.exception),e},getFromToolProxyId:function(a){return this.query({toolproxyid:a})},isCartridge:function(b){var c={methodname:"mod_lti_is_cartridge",args:{url:b}},d=a.call([c])[0];return d},constants:{state:{configured:1,pending:2,rejected:3}}}});
define('mod_lti/cartridge_registration_form', ["jquery","core/ajax","core/notification","mod_lti/tool_type","mod_lti/events","mod_lti/keys","core/str"],function(a,b,c,d,e,f,g){var h={CARTRIDGE_URL:"#cartridge-url",CONSUMER_KEY:"#registration-key",SHARED_SECRET:"#registration-secret",REGISTRATION_FORM:"#cartridge-registration-form",REGISTRATION_SUBMIT_BUTTON:"#cartridge-registration-submit",REGISTRATION_CANCEL_BUTTON:"#cartridge-registration-cancel"},i=function(){return a(h.REGISTRATION_FORM).attr("data-cartridge-url")},j=function(){return a(h.REGISTRATION_SUBMIT_BUTTON)},k=function(){return a(h.REGISTRATION_CANCEL_BUTTON)},l=function(){return a(h.CONSUMER_KEY).val()},m=function(){return a(h.SHARED_SECRET).val()},n=function(){j().addClass("loading")},o=function(){j().removeClass("loading")},p=function(){return j().hasClass("loading")},q=function(){if(p())return!1;var b=i();if(""===b)return!1;n();var f=l(),h=m(),j=d.create({cartridgeurl:b,key:f,secret:h});return j.done(function(){g.get_string("successfullycreatedtooltype","mod_lti").done(function(b){a(document).trigger(e.NEW_TOOL_TYPE),a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION),a(document).trigger(e.REGISTRATION_FEEDBACK,{message:b})}).fail(c.exception)}).fail(function(){g.get_string("failedtocreatetooltype","mod_lti").done(function(b){a(document).trigger(e.NEW_TOOL_TYPE),a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION),a(document).trigger(e.REGISTRATION_FEEDBACK,{message:b,error:!0})}).fail(c.exception)}).always(function(){o()}),j},r=function(){var b=a(h.REGISTRATION_FORM);b.submit(function(a){a.preventDefault(),q()});var c=k();c.click(function(b){b.preventDefault(),a(document).trigger(e.STOP_CARTRIDGE_REGISTRATION)}),c.keypress(function(a){a.metaKey||a.shiftKey||a.altKey||a.ctrlKey||a.keyCode!=f.ENTER&&a.keyCode!=f.SPACE||(a.preventDefault(),c.click())})};return{init:function(){r()}}});
define('mod_lti/tool_proxy', ["core/ajax","core/notification"],function(a,b){return{query:function(c){var d={methodname:"mod_lti_get_tool_proxies",args:c||{}},e=a.call([d])[0];return e.fail(b.exception),e},"delete":function(c){var d={methodname:"mod_lti_delete_tool_proxy",args:{id:c}},e=a.call([d])[0];return e.fail(b.exception),e},create:function(b){var c={methodname:"mod_lti_create_tool_proxy",args:b},d=a.call([c])[0];return d}}});
define('mod_lti/contentitem', ["jquery","core/notification","core/str","core/templates","mod_lti/form-field","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f,g){var h,i,j={init:function(a,e,j){i=j;var k={url:a,postData:e},l=d.render("mod_lti/contentitem",k);return h?(h.setBody(l),void h.show()):void c.get_string("selectcontent","lti").then(function(a){return f.create({title:a,body:l,large:!0})}).then(function(a){h=a,a.getRoot().on(g.hidden,function(){a.setBody(""),b.fetchNotifications()}),a.show()})["catch"](b.exception)}},k=[new e("name",e.TYPES.TEXT,(!1),""),new e("introeditor",e.TYPES.EDITOR,(!1),""),new e("toolurl",e.TYPES.TEXT,(!0),""),new e("securetoolurl",e.TYPES.TEXT,(!0),""),new e("instructorchoiceacceptgrades",e.TYPES.CHECKBOX,(!0),(!0)),new e("instructorchoicesendname",e.TYPES.CHECKBOX,(!0),(!0)),new e("instructorchoicesendemailaddr",e.TYPES.CHECKBOX,(!0),(!0)),new e("instructorcustomparameters",e.TYPES.TEXT,(!0),""),new e("icon",e.TYPES.TEXT,(!0),""),new e("secureicon",e.TYPES.TEXT,(!0),""),new e("launchcontainer",e.TYPES.SELECT,(!0),0),new e("grade_modgrade_point",e.TYPES.TEXT,(!1),""),new e("cmidnumber",e.TYPES.TEXT,(!0),"")];return window.processContentItemReturnData=function(b){h&&h.hide();var c;for(c in k){var d=k[c],e=null;"undefined"!==a.type(b[d.name])&&(e=b[d.name]),d.setFieldValue(e)}i&&i()},j});
define('mod_lti/tool_configure_controller', ["jquery","core/ajax","core/notification","core/templates","mod_lti/events","mod_lti/keys","mod_lti/tool_type","mod_lti/tool_proxy","core/str"],function(a,b,c,d,e,f,g,h,i){var j={EXTERNAL_REGISTRATION_CONTAINER:"#external-registration-container",EXTERNAL_REGISTRATION_PAGE_CONTAINER:"#external-registration-page-container",CARTRIDGE_REGISTRATION_CONTAINER:"#cartridge-registration-container",CARTRIDGE_REGISTRATION_FORM:"#cartridge-registration-form",ADD_TOOL_FORM:"#add-tool-form",TOOL_LIST_CONTAINER:"#tool-list-container",TOOL_CREATE_BUTTON:"#tool-create-button",REGISTRATION_CHOICE_CONTAINER:"#registration-choice-container",TOOL_URL:"#tool-url"},k=function(){return a(j.TOOL_CREATE_BUTTON)},l=function(){return a(j.TOOL_LIST_CONTAINER)},m=function(){return a(j.EXTERNAL_REGISTRATION_CONTAINER)},n=function(){return a(j.CARTRIDGE_REGISTRATION_CONTAINER)},o=function(){return a(j.REGISTRATION_CHOICE_CONTAINER)},p=function(){return a(j.TOOL_URL).val()},q=function(){m().addClass("hidden")},r=function(){n().addClass("hidden")},s=function(){o().addClass("hidden")},t=function(){r(),s(),m().removeClass("hidden"),w(m())},u=function(a){q(),s(),n().removeClass("hidden"),n().find(j.CARTRIDGE_REGISTRATION_FORM).attr("data-cartridge-url",a),w(n())},v=function(){q(),r(),o().removeClass("hidden"),w(o())},w=function(a){var b=a.children().detach();b.appendTo(a)},x=function(){l().addClass("hidden")},y=function(){l().removeClass("hidden")},z=function(a){var b=a.error?"error":"success";c.addNotification({message:a.message,type:b})},A=function(a){a.addClass("loading")},B=function(a){a.removeClass("loading")},C=function(){var b=a.Deferred(),e=l();A(e),a.when(g.query(),h.query({orphanedonly:!0})).done(function(a,c){d.render("mod_lti/tool_list",{tools:a,proxies:c}).done(function(a,c){e.empty(),e.append(a),d.runTemplateJS(c),b.resolve()}).fail(b.reject)}).fail(b.reject),b.fail(c.exception).always(function(){B(e)})},D=function(){var b=a.trim(p());if(""===b)return a.Deferred().resolve();var d=k();A(d);var f=g.isCartridge(b);return f.always(function(){B(d)}),f.done(function(c){c.iscartridge?(a(j.TOOL_URL).val(""),a(document).trigger(e.START_CARTRIDGE_REGISTRATION,b)):a(document).trigger(e.START_EXTERNAL_REGISTRATION,{url:b})}),f.fail(function(){i.get_string("errorbadurl","mod_lti").done(function(b){a(document).trigger(e.REGISTRATION_FEEDBACK,{message:b,error:!0})}).fail(c.exception)}),f},E=function(){a(document).on(e.NEW_TOOL_TYPE,function(){C()}),a(document).on(e.START_EXTERNAL_REGISTRATION,function(){t(),a(j.TOOL_URL).val(""),x()}),a(document).on(e.STOP_EXTERNAL_REGISTRATION,function(){y(),v()}),a(document).on(e.START_CARTRIDGE_REGISTRATION,function(a,b){u(b)}),a(document).on(e.STOP_CARTRIDGE_REGISTRATION,function(){n().find(j.CARTRIDGE_REGISTRATION_FORM).removeAttr("data-cartridge-url"),v()}),a(document).on(e.REGISTRATION_FEEDBACK,function(a,b){z(b)});var b=a(j.ADD_TOOL_FORM);b.submit(function(a){a.preventDefault(),D()})};return{init:function(){E(),C()}}});
define('mod_lti/contentitem_return', ["jquery"],function(a){return{init:function(b){a(window).ready(function(){window!=top?parent.processContentItemReturnData(b):window.processContentItemReturnData(b)})}}});
define('mod_lti/form-field', ["jquery"],function(a){var b=function(a,b,c,d){this.name=a,this.id="id_"+this.name,this.selector="#"+this.id,this.type=b,this.resetIfUndefined=c,this.defaultValue=d};return b.TYPES={TEXT:1,SELECT:2,CHECKBOX:3,EDITOR:4},b.prototype.setFieldValue=function(c){if(null===c){if(!this.resetIfUndefined)return;c=this.defaultValue}switch(this.type){case b.TYPES.CHECKBOX:c?a(this.selector).prop("checked",!0):a(this.selector).prop("checked",!1);break;case b.TYPES.EDITOR:if("undefined"!==a.type(c.text)){var d=a(this.selector+"editable");d.length?d.html(c.text):"undefined"!=typeof tinyMCE&&tinyMCE.execInstanceCommand(this.id,"mceInsertContent",!1,c.text),a(this.selector).val(c.text)}break;default:a(this.selector).val(c)}},b});
define('mod_oublog/export', ["jquery"],function(a){var b;return b={CSS:{SELECTALLPOST:'button[name="oublog-export-select-all"]',SELECTNONE:'button[name="oublog-export-select-none"]',CHECKBOXS:'.oublog-posts-table input[type="checkbox"]',EXPORTSELECTED:'button[name="oublog-export-selected"]',EXPORTTYPE:"#oublog-export-type"},mconfig:null,contentIds:[],init:function(c){b.mconfig=c,null!==sessionStorage.getItem("contentIds")&&b.mconfig.newsession!==!0&&(b.contentIds=JSON.parse(sessionStorage.getItem("contentIds"))),a(b.CSS.SELECTALLPOST).on("click",b.selectAll.bind(b)),a(b.CSS.SELECTNONE).on("click",b.selectNone.bind(b)),a(b.CSS.CHECKBOXS).on("click",b.selectPost.bind(b)),a(b.CSS.EXPORTSELECTED).on("click",b.exportSelected.bind(b)),b.initSelectedPost(),b.initButtonState()},selectAll:function(){a(b.CSS.CHECKBOXS).prop("checked",!0),a(b.CSS.SELECTALLPOST).prop("disabled",!0),a(b.CSS.SELECTALLPOST).blur(),a(b.CSS.SELECTNONE).prop("disabled",!1),a(b.CSS.EXPORTSELECTED).prop("disabled",!1),a(b.CSS.CHECKBOXS).each(function(){a(this).prop("checked")&&b.addPost(a(this).val())})},selectNone:function(){a(b.CSS.CHECKBOXS).prop("checked",!1),a(b.CSS.SELECTALLPOST).prop("disabled",!1),a(b.CSS.SELECTNONE).prop("disabled",!0),a(b.CSS.SELECTNONE).blur(),a(b.CSS.EXPORTSELECTED).prop("disabled",!0),a(b.CSS.CHECKBOXS).each(function(){a(this).prop("checked")||b.removePost(a(this).val())})},selectPost:function(a){1==a.target.checked?b.addPost(a.target.value):b.removePost(a.target.value),b.initButtonState()},initSelectedPost:function(){a(b.CSS.CHECKBOXS).each(function(){var c=b.contentIds.indexOf(a(this).val());c!==-1&&a(this).prop("checked",!0)})},exportSelected:function(){if(b.contentIds.length>0){var c=a(b.CSS.EXPORTSELECTED).data("url"),d=a(b.CSS.EXPORTTYPE).val();c=this.updateQueryStringParameter(c,"instance",String(d)),c=this.updateQueryStringParameter(c,"ca_postids",b.contentIds.join("|")),sessionStorage.removeItem("contentIds"),b.contentIds=[],window.location.href=c}},removePost:function(a){var c=b.contentIds.indexOf(a);c!==-1&&(b.contentIds.splice(c,1),sessionStorage.setItem("contentIds",JSON.stringify(b.contentIds)))},addPost:function(a){var c=b.contentIds.indexOf(a);c===-1&&(b.contentIds.push(a),sessionStorage.setItem("contentIds",JSON.stringify(b.contentIds)))},initButtonState:function(){var c=0,d=0;a(b.CSS.CHECKBOXS).each(function(){0==a(this).prop("checked")&&c++,d++}),a(b.CSS.SELECTALLPOST).prop("disabled",0==c),a(b.CSS.SELECTNONE).prop("disabled",c==d),a(b.CSS.EXPORTSELECTED).prop("disabled",0==b.contentIds.length)},updateQueryStringParameter:function(a,b,c){var d=new RegExp("([?&])"+b+"=.*?(&|$)","i"),e=a.indexOf("?")!==-1?"&":"?";return a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c}}});
define('mod_quiz/add_random_form', ["jquery","mod_quiz/random_question_form_preview"],function(a,b){var c=2e3,d={PREVIEW_CONTAINER:'[data-region="random-question-preview-container"]',CATEGORY_FORM_ELEMENT:'[name="category"]',SUBCATEGORY_FORM_ELEMENT:'[name="includesubcategories"]',TAG_IDS_FORM_ELEMENT:'[name="fromtags[]"]'},e=function(a){return a.find(d.CATEGORY_FORM_ELEMENT).val()},f=function(a){var b=e(a),c=b.split(",");return c[0]},g=function(a,b){var c=e(a);return b.indexOf(c)>-1},h=function(a,b){return!!g(a,b)||a.find(d.SUBCATEGORY_FORM_ELEMENT).is(":checked")},i=function(a){var b=a.find(d.TAG_IDS_FORM_ELEMENT).val();return b.map(function(a){var b=a.split(",");return b[0]})},j=function(a,c,e){var g=a.find(d.PREVIEW_CONTAINER);b.reload(g,f(a),h(a,e),i(a),c)},k=function(a){return a.closest(d.CATEGORY_FORM_ELEMENT).length>0||(a.closest(d.SUBCATEGORY_FORM_ELEMENT).length>0||a.closest(d.TAG_IDS_FORM_ELEMENT).length>0)},l=function(d,e,f){var g=null;d.on("change",function(h){k(a(h.target))&&(b.showLoadingIcon(d),g&&clearTimeout(g),g=setTimeout(function(){j(d,e,f)},c))})},m=function(b,c,d){var e=a("#"+b);j(e,c,d),l(e,c,d)};return{init:m}});
define('mod_quiz/random_question_form_preview', ["jquery","core/ajax","core/str","core/notification","core/templates","core/paged_content_factory"],function(a,b,c,d,e,f){var g=5,h="mod_quiz/random_question_form_preview_question_list",i={LOADING_ICON_CONTAINER:'[data-region="overlay-icon-container"]',QUESTION_COUNT_CONTAINER:'[data-region="question-count-container"]',QUESTION_LIST_CONTAINER:'[data-region="question-list-container"]'},j=function(a){a.find(i.LOADING_ICON_CONTAINER).removeClass("hidden")},k=function(a){a.find(i.LOADING_ICON_CONTAINER).addClass("hidden")},l=function(a,b){c.get_string("questionsmatchingfilter","mod_quiz",b).then(function(b){a.find(i.QUESTION_COUNT_CONTAINER).html(b)}).fail(d.exception)},m=function(a,c,d,e,f,g){var h={methodname:"core_question_get_random_question_summaries",args:{categoryid:a,includesubcategories:c,tagids:d,contextid:e,limit:f,offset:g}};return b.call([h])[0]},n=function(a,b,c,i,j,k){return f.createFromAjax(j,g,function(f){return f.map(function(f){var g=f.limit,j=f.offset;return 0==j?e.render(h,{questions:k}):m(a,b,c,i,g,j).then(function(a){var b=a.questions;return e.render(h,{questions:b})}).fail(d.exception)})})},o=function(b,c,f,h,o){return j(b),m(c,f,h,o,g,0).then(function(a){var c=a.totalcount;return l(b,c),a}).then(function(b){var d=b.totalcount,e=b.questions;return e.length?n(c,f,h,o,d,e):a.Deferred().resolve("","")}).then(function(a,c){var d=b.find(i.QUESTION_LIST_CONTAINER);e.replaceNodeContents(d,a,c)}).always(function(){k(b)}).fail(d.exception)};return{reload:o,showLoadingIcon:j,hideLoadingIcon:k}});
define('mod_quiz/add_random_question', ["mod_quiz/add_question_modal_launcher","mod_quiz/modal_add_random_question"],function(a,b){return{init:function(c,d,e,f){a.init(b.TYPE,'.menu [data-action="addarandomquestion"]',c,function(a,b){b.setCategory(d),b.setReturnUrl(e),b.setCMID(f)})}}});
define('mod_quiz/modal_quiz_question_bank', ["jquery","core/yui","core/notification","core/modal","core/modal_events","core/modal_registry","core/fragment"],function(a,b,c,d,e,f,g){var h=!1,i={ADD_TO_QUIZ_CONTAINER:"td.addtoquizaction",ANCHOR:"a[href]",PREVIEW_CONTAINER:"td.previewaction",SEARCH_OPTIONS:"#advancedsearch",DISPLAY_OPTIONS:"#displayoptions"},j=function(a){d.call(this,a),this.contextId=null,this.addOnPageId=null};return j.TYPE="mod_quiz-quiz-question-bank",j.prototype=Object.create(d.prototype),j.prototype.constructor=j,j.prototype.setContextId=function(a){this.contextId=a},j.prototype.getContextId=function(){return this.contextId},j.prototype.setAddOnPageId=function(a){this.addOnPageId=a},j.prototype.getAddOnPageId=function(){return this.addOnPageId},j.prototype.show=function(){return this.reloadBodyContent(window.location.search),d.prototype.show.call(this)},j.prototype.reloadBodyContent=function(a){var b=g.loadFragment("mod_quiz","quiz_question_bank",this.getContextId(),{querystring:a}).fail(c.exception);this.setBody(b)},j.prototype.handleAddToQuizEvent=function(a,b){var c=b.attr("href")+"&addonpage="+this.getAddOnPageId();b.attr("href",c)},j.prototype.handlePreviewContainerEvent=function(a,b){var c=["height=600","width=800","top=0","left=0","menubar=0","location=0","scrollbars","resizable","toolbar","status","directories=0","fullscreen=0","dependent"];window.openpopup(a,{url:b.attr("href"),name:"questionpreview",options:c.join(",")})},j.prototype.handleDisplayOptionFormEvent=function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target).closest(i.DISPLAY_OPTIONS),d="?"+c.serialize();this.reloadBodyContent(d)},j.prototype.registerDisplayOptionListeners=function(){this.getModal().on("change",i.DISPLAY_OPTIONS,function(b){var c=a(b.target);c.attr("aria-autocomplete")||this.handleDisplayOptionFormEvent(b)}.bind(this)),this.getModal().on("submit",i.DISPLAY_OPTIONS,function(a){this.handleDisplayOptionFormEvent(a)}.bind(this))},j.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.registerDisplayOptionListeners(),this.getModal().on("click",i.ANCHOR,function(b){var c=a(b.currentTarget);return c.closest(i.ADD_TO_QUIZ_CONTAINER).length?void this.handleAddToQuizEvent(b,c):c.closest(i.PREVIEW_CONTAINER).length?void this.handlePreviewContainerEvent(b,c):void(c.closest(i.SEARCH_OPTIONS).length||(b.preventDefault(),this.reloadBodyContent(c.prop("search"))))}.bind(this)),this.getRoot().on(e.bodyRendered,function(){b.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()})})},h||(f.register(j.TYPE,j,"core/modal"),h=!0),j});
define('mod_quiz/add_question_modal_launcher', ["jquery","core/notification","core/modal_factory"],function(a,b,c){return{init:function(d,e,f,g){var h=a("body");return c.create({type:d,large:!0,preShowCallback:function(b,c){b=a(b),c.setContextId(f),c.setAddOnPageId(b.attr("data-addonpage")),c.setTitle(b.attr("data-header")),g&&g(b,c)}},[h,e]).fail(b.exception)}}});
define('mod_quiz/preflightcheck', ["jquery","core/yui"],function(a,b){var c={confirmDialogue:null,init:function(a,d,e,f){var g=a;b.use("moodle-core-notification",function(){b.one(e)&&(c.confirmDialogue=new M.core.dialogue({headerContent:d,bodyContent:b.one(e),draggable:!0,visible:!1,center:!0,modal:!0,width:null,extraClasses:["mod_quiz_preflight_popup"]}),b.one(a).on("click",c.displayDialogue),b.one("#id_cancel").on("click",c.hideDialogue),g=c.confirmDialogue.get("boundingBox").one('[name="submitbutton"]')),f&&b.one(g).on("click",c.launchQuizPopup,c,f)})},displayDialogue:function(a){a&&a.halt(),c.confirmDialogue.show()},hideDialogue:function(a){a&&a.halt(),c.confirmDialogue.hide(a)},launchQuizPopup:function(a,c){a.halt(),b.use("moodle-core-formchangechecker","io-form",function(){M.core_formchangechecker.reset_form_dirty_state();var d=a.target.ancestor("form");window.openpopup(a,{url:d.get("action")+"?"+b.IO.stringify(d).replace(/\bcancel=/,"x="),windowname:"quizpopup",options:c,fullscreen:!0})})}};return c});
define('mod_quiz/modal_add_random_question', ["jquery","core/yui","core/notification","core/modal","core/modal_events","core/modal_registry","core/fragment","core/templates"],function(a,b,c,d,e,f,g,h){var i=!1,j={EXISTING_CATEGORY_CONTAINER:'[data-region="existing-category-container"]',EXISTING_CATEGORY_FORM_ELEMENT:"#id_existingcategoryheader",NEW_CATEGORY_CONTAINER:'[data-region="new-category-container"]',NEW_CATEGORY_FORM_ELEMENT:"#id_newcategoryheader",TAB_CONTENT:'[data-region="tab-content"]',ADD_ON_PAGE_FORM_ELEMENT:'[name="addonpage"]',SUBMIT_BUTTON_ELEMENT:'input[type="submit"]',CANCEL_BUTTON_ELEMENT:'input[type="submit"][name="cancel"]',FORM_HEADER:"legend",BUTTON_CONTAINER:".fitem"},k=function(a){d.call(this,a),this.contextId=null,this.addOnPageId=null,this.category=null,this.returnUrl=null,this.cmid=null,this.loadedForm=!1};return k.TYPE="mod_quiz-quiz-add-random-question",k.prototype=Object.create(d.prototype),k.prototype.constructor=k,k.prototype.setContextId=function(a){this.contextId=a},k.prototype.getContextId=function(){return this.contextId},k.prototype.setAddOnPageId=function(a){this.addOnPageId=a,this.getBody().find(j.ADD_ON_PAGE_FORM_ELEMENT).val(a)},k.prototype.getAddOnPageId=function(){return this.addOnPageId},k.prototype.setCategory=function(a){this.category=a},k.prototype.getCategory=function(){return this.category},k.prototype.setReturnUrl=function(a){this.returnUrl=a},k.prototype.getReturnUrl=function(){return this.returnUrl},k.prototype.setCMID=function(a){this.cmid=a},k.prototype.getCMID=function(){return this.cmid},k.prototype.moveFormElementIntoTab=function(b,c){var d=b.find(j.SUBMIT_BUTTON_ELEMENT),e=a('<div class="modal-footer m-t-1" data-region="footer"></div>');b.find(j.FORM_HEADER).addClass("hidden"),b.wrap(c),d.closest(j.BUTTON_CONTAINER).remove(),d.appendTo(e),e.appendTo(b)},k.prototype.moveTabsIntoTabContent=function(a){var b=this.getBody().find(j.TAB_CONTENT).empty();a.find('[role="tabpanel"]').wrapAll(b)},k.prototype.moveCancelButtonToTabs=function(a){var b=a.find(j.CANCEL_BUTTON_ELEMENT).addClass("m-l-1"),c=a.find('[data-region="footer"]');b.closest(j.BUTTON_CONTAINER).remove(),b.clone().appendTo(c)},k.prototype.loadForm=function(){return g.loadFragment("mod_quiz","add_random_question_form",this.getContextId(),{addonpage:this.getAddOnPageId(),cat:this.getCategory(),returnurl:this.getReturnUrl(),cmid:this.getCMID()}).then(function(b,c){var d=a(b),e=d.find(j.EXISTING_CATEGORY_FORM_ELEMENT),f=this.getBody().find(j.EXISTING_CATEGORY_CONTAINER),g=d.find(j.NEW_CATEGORY_FORM_ELEMENT),i=this.getBody().find(j.NEW_CATEGORY_CONTAINER);this.moveFormElementIntoTab(e,f),this.moveFormElementIntoTab(g,i),this.moveTabsIntoTabContent(d),this.moveCancelButtonToTabs(d),h.replaceNode(this.getBody().find(j.TAB_CONTENT),d,c)}.bind(this)).then(function(){b.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()})}).fail(c.exception)},k.prototype.show=function(){d.prototype.show.call(this),this.loadedForm||(this.loadForm(),this.loadedForm=!0)},i||(f.register(k.TYPE,k,"mod_quiz/modal_add_random_question"),i=!0),k});
define('mod_quiz/quizquestionbank', ["mod_quiz/add_question_modal_launcher","mod_quiz/modal_quiz_question_bank"],function(a,b){return{init:function(c){a.init(b.TYPE,'.menu [data-action="questionbank"]',c)}}});
define('mod_survey/validation', ["jquery","core/str","core/modal_factory","core/notification"],function(a,b,c,d){return{ensureRadiosChosen:function(e){var f=b.get_strings([{key:"error",component:"moodle"},{key:"questionsnotanswered",component:"survey"}]).then(function(a){return c.create({type:c.types.CANCEL,title:a[0],body:a[1]})})["catch"](d.exception),g=a("#"+e);g.submit(function(a){return 0===g.find('input:radio[data-survey-default="true"]:checked').length||(a.preventDefault(),f.then(function(a){return a.show(),!1}))})}}});
define('mod_workshop/workshopview', ["jquery"],function(a){function b(b){var c=0;b.height("auto"),b.each(function(){var b=a(this).height();b>c&&(c=b)}),b.height(c)}return{init:function(){var c=a(".path-mod-workshop .userplan dt"),d=a(".path-mod-workshop .userplan dd");b(c),b(d),a(window).on("resize",function(){b(c),b(d)})}}});
define('mod_workshop/modform', ["jquery"],function(a){function b(a,b){a.available.prop("checked")||(a.required.prop("disabled",!0),a.required.prop("checked",!1),b.available.prop("checked")&&(b.required.prop("disabled",!0),b.required.prop("checked",!0),b.requiredHidden.val(1)))}function c(a){a.required.prop("disabled",!1),a.required.prop("checked",!1),a.requiredHidden.val(0)}function d(){b(e.file,e.text),b(e.text,e.file),e.text.available.prop("checked")&&e.file.available.prop("checked")&&(c(e.text),c(e.file))}var e={text:{available:null,required:null,requiredHidden:null},file:{available:null,required:null,requiredHidden:null}};return{init:function(){e.text.available=a("#id_submissiontypetextavailable"),e.text.required=a("#id_submissiontypetextrequired"),e.text.requiredHidden=a('input[name="submissiontypetextrequired"][type="hidden"]'),e.file.available=a("#id_submissiontypefileavailable"),e.file.required=a("#id_submissiontypefilerequired"),e.file.requiredHidden=a('input[name="submissiontypefilerequired"][type="hidden"]'),e.text.available.on("change",d),e.file.available.on("change",d),d()}}});
define('enrol_manual/form-potential-user-selector', ["jquery","core/ajax","core/templates","core/str"],function(a,b,c,d){var e=100;return{processResults:function(b,c){var d=[];return a.isArray(c)?(a.each(c,function(a,b){d.push({value:b.id,label:b._label})}),d):c},transport:function(f,g,h,i){var j,k=a(f).attr("courseid"),l=a(f).attr("userfields").split(",");"undefined"==typeof k&&(k="1");var m=a(f).attr("enrolid");"undefined"==typeof m&&(m=""),j=b.call([{methodname:"core_enrol_get_potential_users",args:{courseid:k,enrolid:m,search:g,searchanywhere:!0,page:0,perpage:e+1}}]),j[0].then(function(b){var f=[],g=0;return b.length<=e?(a.each(b,function(b,d){var e=d,g=[];a.each(l,function(a,b){"undefined"!=typeof d[b]&&""!==d[b]&&(e.hasidentity=!0,g.push(d[b]))}),e.identity=g.join(", "),f.push(c.render("enrol_manual/form-user-selector-suggestion",e))}),a.when.apply(a.when,f).then(function(){var c=arguments;a.each(b,function(a,b){b._label=c[g],g++}),h(b)})):d.get_string("toomanyuserstoshow","core",">"+e).then(function(a){h(a)})}).fail(i)}}});
define('enrol_manual/quickenrolment', ["core/templates","jquery","core/str","core/config","core/notification","core/modal_factory","core/modal_events","core/fragment"],function(a,b,c,d,e,f,g,h){var i={COHORTSELECT:"#id_cohortlist",TRIGGERBUTTONS:".enrolusersbutton.enrol_manual_plugin [type='submit']",UNWANTEDHIDDENFIELDS:":input[value='_qf__force_multiselect_submission']"},j=function(a){this.contextid=a.contextid,this.initModal()};return j.prototype.courseid=0,j.prototype.modal=null,j.prototype.initModal=function(){var a=b(i.TRIGGERBUTTONS);b.when(c.get_strings([{key:"enroluserscohorts",component:"enrol_manual"},{key:"enrolusers",component:"enrol_manual"}]),f.create({type:f.types.SAVE_CANCEL,large:!0},a)).then(function(a,c){this.modal=c,c.setTitle(a[1]),c.setSaveButtonText(a[1]),c.getRoot().on(g.save,this.submitForm.bind(this)),c.getRoot().on("submit","form",this.submitFormAjax.bind(this)),c.getRoot().on(g.hidden,function(){c.setBody("")}),c.getRoot().on(g.shown,function(){var d=this.getBody();d.then(function(d){var e=b(d).find(i.COHORTSELECT).length?0:1;c.setSaveButtonText(a[e])}).fail(e.exception),c.setBody(d)}.bind(this))}.bind(this)).fail(e.exception)},j.prototype.submitForm=function(a){a.preventDefault(),this.modal.getRoot().find("form").submit()},j.prototype.submitFormAjax=function(a){a.preventDefault();var c=this.modal.getRoot().find("form"),f=c.find(i.UNWANTEDHIDDENFIELDS);f.each(function(){b(this).remove()});var g=c.serialize();this.modal.hide();var h={type:"GET",processData:!1,contentType:"application/json"},j=d.wwwroot+"/enrol/manual/ajax.php?"+g;b.ajax(j,h).then(function(a){a.error?e.addNotification({message:a.error,type:"error"}):("undefined"!=typeof window.M.core_formchangechecker&&window.M.core_formchangechecker.reset_form_dirty_state(),window.location.reload())}).fail(e.exception)},j.prototype.getBody=function(){return h.loadFragment("enrol_manual","enrol_users_form",this.contextid,{}).fail(e.exception)},j.prototype.getFooter=function(){return a.render("enrol_manual/enrol_modal_footer",{})},{init:function(a){new j(a)}}});
define('message_popup/notification_area_events', [],function(){return{showNotification:"notification-area-events:showNotification",notificationShown:"notification-area-events:notificationShown"}});
define('message_popup/notification_area_control_area', ["jquery","core/templates","core/notification","core/custom_interaction_events","message_popup/notification_repository","message_popup/notification_area_events"],function(a,b,c,d,e,f){var g={CONTAINER:'[data-region="notification-area"]',CONTENT:'[data-region="content"]',NOTIFICATION:'[data-region="notification-content-item-container"]',CAN_RECEIVE_FOCUS:'input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]'},h={NOTIFICATION:"message_popup/notification_content_item"},i=function(b,c){this.root=a(b),this.container=this.root.closest(g.CONTAINER),this.userId=c,this.content=this.root.find(g.CONTENT),this.offset=0,this.limit=20,this.initialLoad=!1,this.isLoading=!1,this.loadedAll=!1,this.notifications={},this.registerEventListeners()};return i.prototype.getRoot=function(){return this.root},i.prototype.getContainer=function(){return this.container},i.prototype.getUserId=function(){return this.userId},i.prototype.getContent=function(){return this.content},i.prototype.getOffset=function(){return this.offset},i.prototype.getLimit=function(){return this.limit},i.prototype.setOffset=function(a){this.offset=a},i.prototype.setLimit=function(a){this.limit=a},i.prototype.incrementOffset=function(){this.offset+=this.limit},i.prototype.startLoading=function(){this.isLoading=!0,this.getRoot().addClass("loading")},i.prototype.stopLoading=function(){this.isLoading=!1,this.getRoot().removeClass("loading")},i.prototype.hasDoneInitialLoad=function(){return this.initialLoad},i.prototype.hasLoadedAllContent=function(){return this.loadedAll},i.prototype.setLoadedAllContent=function(a){this.loadedAll=a},i.prototype.setCacheNotification=function(a){this.notifications[a.id]=a},i.prototype.getCacheNotification=function(a){return this.notifications[a]},i.prototype.getNotificationElement=function(a){var b=this.getRoot().find(g.NOTIFICATION+'[data-id="'+a+'"]');return 1==b.length?b:null},i.prototype.scrollNotificationIntoView=function(a){var b=a.position(),c=this.getRoot(),d=b.top-c.scrollTop();if(d>c.innerHeight()){var e=a.outerHeight();e=4*e;var f=b.top-e;c.scrollTop(f)}},i.prototype.showNotification=function(b){if("object"!=typeof b&&(b=this.getNotificationElement(b)),b&&b.length){this.getRoot().find(g.NOTIFICATION).removeClass("selected"),b.addClass("selected").find(g.CAN_RECEIVE_FOCUS).focus();var c=b.attr("data-id"),d=this.getCacheNotification(c);this.scrollNotificationIntoView(b),this.getContainer().trigger(f.showNotification,[a.extend({},d)])}},i.prototype.markNotificationAsRead=function(a){return e.markAsRead(a.attr("data-id")).done(function(){a.removeClass("unread")})},i.prototype.renderNotifications=function(c){var d=[],e=this.getContent();return a.each(c,function(a,c){var e=c.contexturl;delete c.contexturl;var f=b.render(h.NOTIFICATION,c).then(function(a,b){return c.contexturl=e,this.setCacheNotification(c),{html:a,js:b}}.bind(this));d.push(f)}.bind(this)),a.when.apply(a,d).then(function(){a.each(arguments,function(a,c){e.append(c.html),b.runTemplateJS(c.js)})})},i.prototype.loadMoreNotifications=function(){if(this.isLoading||this.hasLoadedAllContent())return a.Deferred().resolve();this.startLoading();var b={limit:this.getLimit(),offset:this.getOffset(),useridto:this.getUserId()};this.initialLoad||(b.limit=this.getOffset()+this.getLimit(),b.offset=0);var c=e.query(b).then(function(a){var b=a.notifications;return this.unreadCount=a.unreadcount,this.setLoadedAllContent(!b.length||b.length<this.getLimit()),this.initialLoad=!0,!!b.length&&(this.incrementOffset(),this.renderNotifications(b))}.bind(this)).always(function(){this.stopLoading()}.bind(this));return c},i.prototype.registerEventListeners=function(){d.define(this.getRoot(),[d.events.activate,d.events.scrollBottom,d.events.scrollLock,d.events.up,d.events.down]),this.getRoot().on(d.events.scrollBottom,function(){this.loadMoreNotifications()}.bind(this)),this.getRoot().on(d.events.activate,g.NOTIFICATION,function(b){var c=a(b.target).closest(g.NOTIFICATION);this.showNotification(c)}.bind(this)),this.getRoot().on(d.events.up,g.NOTIFICATION,function(b,c){var d=a(b.target).closest(g.NOTIFICATION);this.showNotification(d.prev()),c.originalEvent.preventDefault()}.bind(this)),this.getRoot().on(d.events.down,g.NOTIFICATION,function(b,c){var d=a(b.target).closest(g.NOTIFICATION);this.showNotification(d.next()),c.originalEvent.preventDefault()}.bind(this)),this.getContainer().on(f.notificationShown,function(a,b){if(!b.read){var c=this.getNotificationElement(b.id);c&&this.markNotificationAsRead(c);var d=this.getCacheNotification(b.id);d&&(d.read=!0)}}.bind(this))},i});
define('message_popup/notification_area_content_area', ["jquery","core/templates","core/notification","core/custom_interaction_events","message_popup/notification_repository","message_popup/notification_area_events"],function(a,b,c,d,e,f){var g={CONTAINER:'[data-region="notification-area"]',CONTENT:'[data-region="content"]',HEADER:'[data-region="header"]',FOOTER:'[data-region="footer"]',TOGGLE_MODE:'[data-action="toggle-mode"]'},h={HEADER:"message_popup/notification_area_content_area_header",CONTENT:"message_popup/notification_area_content_area_content",FOOTER:"message_popup/notification_area_content_area_footer"},i=function(b,c){this.root=a(b),this.container=this.root.closest(g.CONTAINER),this.userId=c,this.header=this.root.find(g.HEADER),this.content=this.root.find(g.CONTENT),this.footer=this.root.find(g.FOOTER),this.registerEventListeners()};return i.prototype.getRoot=function(){return this.root},i.prototype.getContainer=function(){return this.container},i.prototype.getUserId=function(){return this.userId},i.prototype.getHeader=function(){return this.header},i.prototype.getContent=function(){return this.content},i.prototype.getFooter=function(){return this.footer},i.prototype.show=function(){this.getContainer().addClass("show-content-area")},i.prototype.hide=function(){this.getContainer().removeClass("show-content-area")},i.prototype.setHeaderHTML=function(a){this.getHeader().empty().html(a)},i.prototype.setContentHTML=function(a){this.getContent().empty().html(a)},i.prototype.setFooterHTML=function(a){this.getFooter().empty().html(a)},i.prototype.showNotification=function(c){var d=b.render(h.HEADER,c).done(function(a){this.setHeaderHTML(a)}.bind(this)),e=b.render(h.CONTENT,c).done(function(a){this.setContentHTML(a)}.bind(this)),g=b.render(h.FOOTER,c).done(function(a){this.setFooterHTML(a)}.bind(this));return a.when(d,e,g).done(function(){this.show(),this.getContainer().trigger(f.notificationShown,[c])}.bind(this))},i.prototype.registerEventListeners=function(){d.define(this.getRoot(),[d.events.activate]),this.getRoot().on(d.events.activate,g.VIEW_TOGGLE,function(){this.hide()}.bind(this)),this.getContainer().on(f.showNotification,function(a,b){this.showNotification(b)}.bind(this))},i});
define('message_popup/notification_repository', ["core/ajax","core/notification"],function(a,b){var c=function(c){"undefined"==typeof c.limit&&(c.limit=20),"undefined"==typeof c.offset&&(c.offset=0);var d={methodname:"message_popup_get_popup_notifications",args:c},e=a.call([d])[0];return e.fail(b.exception),e},d=function(c){var d={methodname:"message_popup_get_unread_popup_notification_count",args:c},e=a.call([d])[0];return e.fail(b.exception),e},e=function(c){var d={methodname:"core_message_mark_all_notifications_as_read",args:c},e=a.call([d])[0];return e.fail(b.exception),e},f=function(c,d){var e={notificationid:c};d&&(e.timeread=d);var f={methodname:"core_message_mark_notification_read",args:e},g=a.call([f])[0];return g.fail(b.exception),g};return{query:c,countUnread:d,markAllAsRead:e,markAsRead:f}});
define('message_popup/notification_popover_controller', ["jquery","core/ajax","core/templates","core/str","core/url","core/notification","core/custom_interaction_events","core/popover_region_controller","message_popup/notification_repository","message_popup/notification_area_events"],function(a,b,c,d,e,f,g,h,i,j){var k={MARK_ALL_READ_BUTTON:'[data-action="mark-all-read"]',ALL_NOTIFICATIONS_CONTAINER:'[data-region="all-notifications"]',NOTIFICATION:'[data-region="notification-content-item-container"]',UNREAD_NOTIFICATION:'[data-region="notification-content-item-container"].unread',NOTIFICATION_LINK:'[data-action="content-item-link"]',EMPTY_MESSAGE:'[data-region="empty-message"]',COUNT_CONTAINER:'[data-region="count-container"]'},l=function(a){h.call(this,a),this.markAllReadButton=this.root.find(k.MARK_ALL_READ_BUTTON),this.unreadCount=0,this.userId=this.root.attr("data-userid"),this.container=this.root.find(k.ALL_NOTIFICATIONS_CONTAINER),this.limit=20,this.offset=0,this.loadedAll=!1,this.initialLoad=!1,this.unreadCount=this.root.find(k.COUNT_CONTAINER).html()};return l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.prototype.updateButtonAriaLabel=function(){this.isMenuOpen()?d.get_string("hidenotificationwindow","message").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):this.unreadCount?d.get_string("shownotificationwindowwithcount","message",this.unreadCount).done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this)):d.get_string("shownotificationwindownonew","message").done(function(a){this.menuToggle.attr("aria-label",a)}.bind(this))},l.prototype.getContent=function(){return this.container},l.prototype.getOffset=function(){return this.offset},l.prototype.incrementOffset=function(){this.offset+=this.limit},l.prototype.hasDoneInitialLoad=function(){return this.initialLoad},l.prototype.hasLoadedAllContent=function(){return this.loadedAll},l.prototype.setLoadedAllContent=function(a){this.loadedAll=a},l.prototype.renderUnreadCount=function(){var a=this.root.find(k.COUNT_CONTAINER);this.unreadCount?(a.text(this.unreadCount),a.removeClass("hidden")):a.addClass("hidden")},l.prototype.hideUnreadCount=function(){this.root.find(k.COUNT_CONTAINER).addClass("hidden")},l.prototype.getNotificationElement=function(a){var b=this.root.find(k.NOTIFICATION+'[data-id="'+a+'"]');return 1==b.length?b:null},l.prototype.renderNotifications=function(b,d){var f=[];return a.each(b,function(a,b){var d=this.getOffset()-this.limit;b.viewmoreurl=e.relativeUrl("/message/output/popup/notifications.php",{notificationid:b.id,offset:d});var g={notificationid:b.id};b.contexturl&&(g.redirecturl=encodeURIComponent(b.contexturl)),b.contexturl=e.relativeUrl("message/output/popup/mark_notification_read.php",g);var h=c.render("message_popup/notification_content_item",b).then(function(a,b){return{html:a,js:b}});f.push(h)}.bind(this)),a.when.apply(a,f).then(function(){a.each(arguments,function(a,b){d.append(b.html),c.runTemplateJS(b.js)})})},l.prototype.loadMoreNotifications=function(){if(this.isLoading||this.hasLoadedAllContent())return a.Deferred().resolve();this.startLoading();var b={limit:this.limit,offset:this.getOffset(),useridto:this.userId},c=this.getContent();return i.query(b).then(function(a){var b=a.notifications;return this.unreadCount=a.unreadcount,this.setLoadedAllContent(!b.length||b.length<this.limit),this.initialLoad=!0,this.updateButtonAriaLabel(),!!b.length&&(this.incrementOffset(),this.renderNotifications(b,c))}.bind(this)).always(function(){this.stopLoading()}.bind(this))},l.prototype.markAllAsRead=function(){return this.markAllReadButton.addClass("loading"),i.markAllAsRead({useridto:this.userId}).then(function(){this.unreadCount=0,this.root.find(k.UNREAD_NOTIFICATION).removeClass("unread")}.bind(this)).always(function(){this.markAllReadButton.removeClass("loading")}.bind(this))},l.prototype.registerEventListeners=function(){g.define(this.root,[g.events.activate]),this.root.on(g.events.activate,k.MARK_ALL_READ_BUTTON,function(a,b){this.markAllAsRead(),a.stopPropagation(),b.originalEvent.preventDefault()}.bind(this)),this.root.on(g.events.activate,k.NOTIFICATION_LINK,function(b){var c=a(b.target).closest(k.NOTIFICATION);c.hasClass("unread")&&(this.unreadCount--,c.removeClass("unread")),b.stopPropagation()}.bind(this)),this.root.on(this.events().menuOpened,function(){this.hideUnreadCount(),this.updateButtonAriaLabel(),this.hasDoneInitialLoad()||this.loadMoreNotifications()}.bind(this)),this.root.on(this.events().menuClosed,function(){this.renderUnreadCount(),this.updateButtonAriaLabel()}.bind(this)),this.root.on(this.events().startLoading,function(){this.getContent().attr("aria-busy","true")}.bind(this)),this.root.on(this.events().stopLoading,function(){this.getContent().attr("aria-busy","false")}.bind(this)),this.getContentContainer().on(g.events.scrollBottom,function(){this.isLoading||this.hasLoadedAllContent()||this.loadMoreNotifications()}.bind(this)),g.define(this.getContentContainer(),[g.events.scrollLock]),a(document).on(j.notificationShown,function(a,b){if(!b.read){var c=this.getNotificationElement(b.id);c&&c.removeClass("unread"),this.unreadCount--,this.renderUnreadCount()}}.bind(this))},l});
define('block_myoverview/main', ["jquery","block_myoverview/view","block_myoverview/view_nav"],function(a,b,c){var d=function(d){d=a(d),c.init(d),b.init(d)};return{init:d}});
define('block_myoverview/view_nav', ["jquery","core/custom_interaction_events","block_myoverview/repository","block_myoverview/view","block_myoverview/selectors"],function(a,b,c,d,e){var f={FILTERS:'[data-region="filter"]',FILTER_OPTION:"[data-filter]",DISPLAY_OPTION:"[data-display-option]"},g=function(a,b){var d=null;d="display"==a?"block_myoverview_user_view_preference":"sort"==a?"block_myoverview_user_sort_preference":"block_myoverview_user_grouping_preference",c.updateUserPreferences({preferences:[{type:d,value:b}]})},h=function(c){var h=c.find(f.FILTERS);b.define(h,[b.events.activate]),h.on(b.events.activate,f.FILTER_OPTION,function(b,f){var h=a(b.target);if(!h.hasClass("active")){var i=h.attr("data-filter"),j=h.attr("data-pref");c.find(e.courseView.region).attr("data-"+i,h.attr("data-value")),g(i,j),d.init(c),f.originalEvent.preventDefault()}}),b.define(h,[b.events.activate]),h.on(b.events.activate,f.DISPLAY_OPTION,function(b,f){var h=a(b.target);if(!h.hasClass("active")){var i=h.attr("data-display-option"),j=h.attr("data-pref");c.find(e.courseView.region).attr("data-display",h.attr("data-value")),g(i,j),d.reset(c),f.originalEvent.preventDefault()}})},i=function(b){b=a(b),h(b)};return{init:i}});
define('block_myoverview/selectors', [],function(){return{courseView:{region:'[data-region="courses-view"]',regionContent:'[data-region="course-view-content"]'}}});
define('block_myoverview/view', ["jquery","block_myoverview/repository","core/paged_content_factory","core/pubsub","core/custom_interaction_events","core/notification","core/templates","core_course/events","block_myoverview/selectors","core/paged_content_events"],function(a,b,c,d,e,f,g,h,i,j){var k={COURSE_REGION:'[data-region="course-view-content"]',ACTION_HIDE_COURSE:'[data-action="hide-course"]',ACTION_SHOW_COURSE:'[data-action="show-course"]',ACTION_ADD_FAVOURITE:'[data-action="add-favourite"]',ACTION_REMOVE_FAVOURITE:'[data-action="remove-favourite"]',FAVOURITE_ICON:'[data-region="favourite-icon"]',ICON_IS_FAVOURITE:'[data-region="is-favourite"]',ICON_NOT_FAVOURITE:'[data-region="not-favourite"]',PAGED_CONTENT_CONTAINER:'[data-region="page-container"]'},l={COURSES_CARDS:"block_myoverview/view-cards",COURSES_LIST:"block_myoverview/view-list",COURSES_SUMMARY:"block_myoverview/view-summary",NOCOURSES:"block_myoverview/no-courses"},m=[12,24,48],n=[],o=0,p=0,q=0,r=null,s=function(a){var b=a.find(i.courseView.region);return{display:b.attr("data-display"),grouping:b.attr("data-grouping"),sort:b.attr("data-sort")}},t={ignoreControlWhileLoading:!0,controlPlacementBottom:!0,persistentLimitKey:"block_myoverview_user_paging_preference"},u=function(a,c){return b.getEnrolledCoursesByTimeline({offset:o,limit:c,classification:a.grouping,sort:a.sort})},v=function(a,b){return a.find(k.FAVOURITE_ICON+'[data-course-id="'+b+'"]')},w=function(a,b){return a.find('[data-region="paged-content-page"][data-page="'+b+'"]')},x=function(a){return a.attr("data-course-id")},y=function(a,b){var c=v(a,b),d=c.find(k.ICON_IS_FAVOURITE);d.addClass("hidden"),d.attr("aria-hidden",!0);var e=c.find(k.ICON_NOT_FAVOURITE);e.removeClass("hidden"),e.attr("aria-hidden",!1)},z=function(a,b){var c=v(a,b),d=c.find(k.ICON_IS_FAVOURITE);d.removeClass("hidden"),d.attr("aria-hidden",!1);var e=c.find(k.ICON_NOT_FAVOURITE);e.addClass("hidden"),e.attr("aria-hidden",!0)},A=function(a,b){return a.find('[data-action="add-favourite"][data-course-id="'+b+'"]')},B=function(a,b){return a.find('[data-action="remove-favourite"][data-course-id="'+b+'"]')},C=function(a,b){var c=B(a,b),e=A(a,b);F(b,!0).then(function(g){g?(d.publish(h.favourited),c.removeClass("hidden"),e.addClass("hidden"),z(a,b)):f.alert("Starring course failed","Could not change favourite state")})["catch"](f.exception)},D=function(a,b){var c=B(a,b),e=A(a,b);F(b,!1).then(function(g){g?(d.publish(h.unfavorited),c.addClass("hidden"),e.removeClass("hidden"),y(a,b)):f.alert("Starring course failed","Could not change favourite state")})["catch"](f.exception)},E=function(b,d){var e=x(d),h=b.find('[data-region="paging-bar"]'),i=parseInt(h.attr("data-active-page-number")),j=n[i],k=j.courses.reduce(function(a,b){return e!=b.id&&a.push(b),a},[]);if(void 0!=n[i+1]){var l=n[i+1].courses.slice(0,1);n.forEach(function(b,c){if(c>i){var d=[];void 0!=n[c+1]&&(d=n[c+1].courses.slice(0,1)),n[c].courses=a.merge(n[c].courses.slice(1),d)}}),k=a.merge(k,l)}if(p==i+1&&0==n[i+1].courses.length){var m=b.find('[data-region="paged-content-container"]');c.resetLastPageNumber(a(m).attr("id"),i)}n[i].courses=k,o--;var q=w(b,i);G(b,n[i]).then(function(a,b){return g.replaceNodeContents(q,a,b)})["catch"](f.exception),n.forEach(function(a,c){if(c>i){var d=w(b,c);d.remove()}})},F=function(a,c){return b.setFavouriteCourses({courses:[{id:a,favourite:c}]}).then(function(b){return 0==b.warnings.length&&(n.forEach(function(b){b.courses.forEach(function(d,e){d.id==a&&(b.courses[e].isfavourite=c)})}),!0)})["catch"](f.exception)},G=function(a,b){var c=s(a),d="";if(d="cards"==c.display?l.COURSES_CARDS:"list"==c.display?l.COURSES_LIST:l.COURSES_SUMMARY,b.courses.length)return g.render(d,{courses:b.courses});var e=a.find(i.courseView.region).attr("data-nocoursesimg");return g.render(l.NOCOURSES,{nocoursesimg:e})},H=function(a){this.find(i.courseView.region).attr("data-paging",a)},I=function(a,b){var c=b+j.SET_ITEMS_PER_PAGE_LIMIT;d.subscribe(c,H.bind(a))},J=function(b){r="block_myoverview_"+b.attr("id")+"_"+Math.random();var d=m,e=parseInt(b.find(i.courseView.region).attr("data-paging"),10);e&&(d=m.map(function(a){var b=!1;return a==e&&(b=!0),{value:a,active:b}}));var h=s(b),j=a.extend({},t);j.eventNamespace=r;var k=c.createWithLimit(d,function(c,d){var e=[];return c.forEach(function(c){var g=c.pageNumber,i=c.limit;if(q!=i&&(n=[],o=0,p=0),p==g)return d.allItemsLoaded(p),void e.push(G(b,n[g]));q=i,void 0==n[g+1]&&void 0==n[g]&&(i*=2);var j=u(h,i).then(function(e){var f=e.courses,h=0,i=[];if(void 0!=n[g]){i=n[g].courses;var j=i.length;j<c.limit&&(h=c.limit-j,i=a.merge(n[g].courses,f.slice(0,h)))}else h=c.limit,i=f.slice(0,c.limit);n[g]={courses:i};var k=f.slice(h,f.length);return k.length&&(n[g+1]={courses:k}),n[g].courses.length<c.limit?(p=g,d.allItemsLoaded(g)):void 0!=n[g+1]&&n[g+1].courses.length<c.limit&&(p=g+1),o=e.nextoffset,G(b,n[g])})["catch"](f.exception);e.push(j)}),e},j);k.then(function(a,c){return I(b,r),g.replaceNodeContents(b.find(i.courseView.region),a,c)})["catch"](f.exception)},K=function(c){e.define(c,[e.events.activate]),c.on(e.events.activate,k.ACTION_ADD_FAVOURITE,function(b,d){var e=a(b.target).closest(k.ACTION_ADD_FAVOURITE),f=x(e);C(c,f),d.originalEvent.preventDefault()}),c.on(e.events.activate,k.ACTION_REMOVE_FAVOURITE,function(b,d){var e=a(b.target).closest(k.ACTION_REMOVE_FAVOURITE),f=x(e);D(c,f),d.originalEvent.preventDefault()}),c.on(e.events.activate,k.FAVOURITE_ICON,function(a,b){b.originalEvent.preventDefault()}),c.on(e.events.activate,k.ACTION_HIDE_COURSE,function(d,e){var f=a(d.target).closest(k.ACTION_HIDE_COURSE),g=x(f),h={preferences:[{type:"block_myoverview_hidden_course_"+g,value:!0}]};b.updateUserPreferences(h),E(c,f),e.originalEvent.preventDefault()}),c.on(e.events.activate,k.ACTION_SHOW_COURSE,function(d,e){var f=a(d.target).closest(k.ACTION_SHOW_COURSE),g=x(f),h={preferences:[{type:"block_myoverview_hidden_course_"+g,value:null}]};b.updateUserPreferences(h),E(c,f),e.originalEvent.preventDefault()})},L=function(b){b=a(b),n=[],p=0,o=0,J(b),b.attr("data-init")||(K(b),b.attr("data-init",!0))},M=function(a){n.length>0?n.forEach(function(b,c){var d=w(a,c);G(a,b).then(function(a,b){return g.replaceNodeContents(d,a,b)})["catch"](f.exception)}):L(a)};return{init:L,reset:M}});
define('block_myoverview/repository', ["core/ajax","core/notification"],function(a,b){var c=function(b){var c={methodname:"core_course_get_enrolled_courses_by_timeline_classification",args:b},d=a.call([c])[0];return d},d=function(b){var c={methodname:"core_course_set_favourite_courses",args:b},d=a.call([c])[0];return d},e=function(c){var d={methodname:"core_user_update_user_preferences",args:c};a.call([d])[0].fail(b.exception)};return{getEnrolledCoursesByTimeline:c,setFavouriteCourses:d,updateUserPreferences:e}});
define('block_navigation/nav_loader', ["jquery","core/ajax","core/config","block_navigation/ajax_response_renderer"],function(a,b,c,d){function e(a){return a.closest("[data-block]").attr("data-instanceid")}var f=c.wwwroot+"/lib/ajax/getnavbranch.php";return{load:function(b){b=a(b);var g=a.Deferred(),h={elementid:b.attr("data-node-id"),id:b.attr("data-node-key"),type:b.attr("data-node-type"),sesskey:c.sesskey,instance:e(b)},i={type:"POST",dataType:"json",data:h};return a.ajax(f,i).done(function(a){d.render(b,a),g.resolve()}),g}}});
define('block_navigation/site_admin_loader', ["jquery","core/ajax","core/config","block_navigation/ajax_response_renderer"],function(a,b,c,d){var e=71,f=c.wwwroot+"/lib/ajax/getsiteadminbranch.php";return{load:function(b){b=a(b);var g=a.Deferred(),h={type:e,sesskey:c.sesskey},i={type:"POST",dataType:"json",data:h};return a.ajax(f,i).done(function(a){d.render(b,a),g.resolve()}),g}}});
define('block_navigation/navblock', ["jquery","core/tree"],function(a,b){return{init:function(a){var c=new b(".block_navigation .block_tree");c.finishExpandingGroup=function(c){b.prototype.finishExpandingGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})},c.collapseGroup=function(c){b.prototype.collapseGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})}}}});
define('block_navigation/ajax_response_renderer', ["jquery","core/templates","core/notification","core/url"],function(a,b,c,d){function e(g,h){var i=a("<ul></ul>");i.attr("role","group"),i.attr("aria-hidden",!0),a.each(h,function(g,h){if("object"==typeof h){var j=a("<li></li>"),k=a("<p></p>"),l=h.id||h.key+"_tree_item",m=null,n=!(!h.expandable&&!h.haschildren);k.addClass("tree_item"),k.attr("id",l),k.attr("role","treeitem"),k.attr("tabindex","-1"),h.requiresajaxloading&&(k.attr("data-requires-ajax",!0),k.attr("data-node-id",h.id),k.attr("data-node-key",h.key),k.attr("data-node-type",h.type)),n&&(j.addClass("collapsed contains_branch"),k.attr("aria-expanded",!1),k.addClass("branch"));var o=null;if(h.link){var p=a('<a title="'+h.title+'" href="'+h.link+'"></a>');o=p,p.append('<span class="item-content-wrap">'+h.name+"</span>"),h.hidden&&p.addClass("dimmed"),k.append(p)}else{var q=a("<span></span>");o=q,q.append('<span class="item-content-wrap">'+h.name+"</span>"),h.hidden&&q.addClass("dimmed"),k.append(q)}!h.icon||n&&h.type!==f.ACTIVITY&&h.type!==f.RESOURCE||(j.addClass("item_with_icon"),k.addClass("hasicon"),h.type===f.ACTIVITY||h.type===f.RESOURCE?(m=a("<img/>"),m.attr("alt",h.icon.alt),m.attr("title",h.icon.title),m.attr("src",d.imageUrl(h.icon.pix,h.icon.component)),a.each(h.icon.classes,function(a,b){m.addClass(b)}),o.prepend(m)):("moodle"==h.icon.component&&(h.icon.component="core"),b.renderPix(h.icon.pix,h.icon.component,h.icon.title).then(function(a){o.prepend(a)})["catch"](c.exception))),j.append(k),i.append(j),h.children&&h.children.length?e(k,h.children):n&&!h.requiresajaxloading&&(j.removeClass("contains_branch"),k.addClass("emptybranch"))}}),g.parent().append(i);var j=g.attr("id")+"_group";i.attr("id",j),g.attr("aria-owns",j),g.attr("role","treeitem")}var f={ACTIVITY:40,RESOURCE:50};return{render:function(a,b){if(b.children&&b.children.length){e(a,b.children);var c=a.children("[role='treeitem']").first(),d=a.find("#"+c.attr("aria-owns"));c.attr("aria-expanded",!0),d.attr("aria-hidden",!1)}else a.parent().hasClass("contains_branch")&&(a.parent().removeClass("contains_branch"),a.addClass("emptybranch"))}}});
define('block_online_users/change_user_visibility', ["jquery","core/ajax","core/str","core/notification"],function(a,b,c,d){var e={CHANGE_VISIBILITY_LINK:"#change-user-visibility",CHANGE_VISIBILITY_ICON:"#change-user-visibility .icon"},f=function(a,c){var e="show"==a?1:0,f=[{name:"block_online_users_uservisibility",value:e,userid:c}],j={methodname:"core_user_set_user_preferences",args:{preferences:f}};b.call([j])[0].then(function(b){if(b.saved){var c=g(a);h(c),i(c)}})["catch"](d.exception)},g=function(a){return"show"==a?"hide":"show"},h=function(b){k(b).then(function(c){a(e.CHANGE_VISIBILITY_LINK).attr({"data-action":b,title:c})})["catch"](d.exception)},i=function(b){var c=a(e.CHANGE_VISIBILITY_ICON);k(b).then(function(d){a(c).attr({title:d,"aria-label":d}),c.is("img")?a(c).attr({src:M.util.image_url("t/"+b),alt:d}):(a(c).addClass(j(b)),a(c).removeClass(j(g(b))))})["catch"](d.exception)},j=function(a){return"show"==a?"fa-eye-slash":"fa-eye"},k=function(a){return c.get_string("online_status:"+a,"block_online_users")};return{init:function(){a(e.CHANGE_VISIBILITY_LINK).on("click",function(b){b.preventDefault();var c=a(this).attr("data-action"),d=a(this).attr("data-userid");f(c,d)})}}});
define('block_recentlyaccessedcourses/main', ["jquery","core_course/repository","core/templates","core/notification","core/pubsub","core_course/events"],function(a,b,c,d,e,f){var g={COURSES_VIEW:'[data-region="recentlyaccessedcourses-view"]',COURSES_VIEW_CONTENT:'[data-region="recentlyaccessedcourses-view-content"]'},h=10,i=function(a,c){return b.getLastAccessedCourses(a,c)},j=function(a,b){if(b.length>0)return c.render("block_recentlyaccessedcourses/view-cards",{courses:b});var d=a.attr("data-nocoursesimgurl");return c.render("block_recentlyaccessedcourses/no-courses",{nocoursesimgurl:d})},k=function(a,b){var e=b.find(g.COURSES_VIEW),f=b.find(g.COURSES_VIEW_CONTENT),k=i(a,h);return k.then(function(a){var b=j(e,a);return b.then(function(a,b){return c.replaceNodeContents(f,a,b)})["catch"](d.exception),k})["catch"](d.exception)},l=function(a,b){e.subscribe(f.favourited,function(){k(a,b)}),e.subscribe(f.unfavorited,function(){k(a,b)})},m=function(b,c){c=a(c),l(b,c),k(b,c)};return{init:m}});
define('block_recentlyaccesseditems/main', ["jquery","block_recentlyaccesseditems/repository","core/templates","core/notification"],function(a,b,c,d){var e=9,f={CARDDECK_CONTAINER:'[data-region="recentlyaccesseditems-view"]',CARDDECK:'[data-region="recentlyaccesseditems-view-content"]'},g=function(a){return b.getRecentItems(a)},h=function(a,b){if(b.length>0)return c.render("block_recentlyaccesseditems/view-cards",{items:b});var d=a.attr("data-noitemsimgurl");return c.render("block_recentlyaccesseditems/no-items",{noitemsimgurl:d})},i=function(b){b=a(b);var i=b.find(f.CARDDECK_CONTAINER),j=b.find(f.CARDDECK),k=g(e);k.then(function(a){var b=h(i,a);return b.then(function(a,b){return c.replaceNodeContents(j,a,b)})["catch"](d.exception),k})["catch"](d.exception)};return{init:i}});
define('block_recentlyaccesseditems/repository', ["core/ajax"],function(a){var b=function(b){var c={};"undefined"!=typeof b&&(c.limit=b);var d={methodname:"block_recentlyaccesseditems_get_recent_items",args:c};return a.call([d])[0]};return{getRecentItems:b}});
define('block_settings/settingsblock', ["jquery","core/tree"],function(a,b){return{init:function(a,c){var d=new b(".block_settings .block_tree");if(c){var e=d.treeRoot.find("#"+c),f=e.children("a").first();f.replaceWith('<span tabindex="0">'+f.html()+"</span>")}d.finishExpandingGroup=function(c){b.prototype.finishExpandingGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})},d.collapseGroup=function(c){b.prototype.collapseGroup.call(this,c),Y.use("moodle-core-event",function(){Y.Global.fire(M.core.globalEvents.BLOCK_CONTENT_UPDATED,{instanceid:a})})}}}});
define('block_starredcourses/main', ["jquery","core/notification","block_starredcourses/repository","core/pubsub","core/templates","core_course/events"],function(a,b,c,d,e,f){var g={STARRED_COURSES_REGION_VIEW:'[data-region="starred-courses-view"]',STARRED_COURSES_REGION:'[data-region="starred-courses-view-content"]'},h=function(a,b){if(b.length>0)return e.render("block_starredcourses/view-cards",{courses:b});var c=a.find(g.STARRED_COURSES_REGION_VIEW).attr("data-nocoursesimg");return e.render("block_starredcourses/no-courses",{nocoursesimg:c})},i=function(a){var d=a.find(g.STARRED_COURSES_REGION),f={limit:0,offset:0};return c.getStarredCourses(f).then(function(b){return h(a,b)}).then(function(a,b){return e.replaceNodeContents(d,a,b)})["catch"](b.exception)},j=function(a){d.subscribe(f.favourited,function(){i(a)}),d.subscribe(f.unfavorited,function(){i(a)})},k=function(b){b=a(b),j(b),i(b)};return{init:k}});
define('block_starredcourses/repository', ["jquery","core/ajax","core/notification"],function(a,b,c){var d=function(a){var d={methodname:"block_starredcourses_get_starred_courses",args:a},e=b.call([d])[0];return e.fail(c.exception),e};return{getStarredCourses:d}});
define('block_timeline/main', ["jquery","block_timeline/view_nav","block_timeline/view"],function(a,b,c){var d={TIMELINE_VIEW:'[data-region="timeline-view"]'},e=function(e){e=a(e);var f=e.find(d.TIMELINE_VIEW);b.init(e,f),c.init(f)};return{init:e}});
define('block_timeline/view_nav', ["jquery","core/custom_interaction_events","block_timeline/view","core/ajax","core/notification"],function(a,b,c,d,e){var f={TIMELINE_DAY_FILTER:'[data-region="day-filter"]',TIMELINE_DAY_FILTER_OPTION:"[data-from]",TIMELINE_VIEW_SELECTOR:'[data-region="view-selector"]',DATA_DAYS_OFFSET:"[data-days-offset]",DATA_DAYS_LIMIT:"[data-days-limit]"},g=function(a,b){var c={methodname:"core_user_update_user_preferences",args:{preferences:[{type:a,value:b}]}};d.call([c])[0].fail(e.exception)},h=function(d,e){var h=d.find(f.TIMELINE_DAY_FILTER);b.define(h,[b.events.activate]),h.on(b.events.activate,f.TIMELINE_DAY_FILTER_OPTION,function(b,h){var i=a(b.currentTarget).data("filtername"),j="block_timeline_user_filter_preference";g(j,i);var k=a(b.target).closest(f.TIMELINE_DAY_FILTER_OPTION);if(!k.hasClass("active")){var l=k.attr("data-from"),m=k.attr("data-to"),n=d.find(f.DATA_DAYS_OFFSET);n.attr("data-days-offset",l),void 0!=m?n.attr("data-days-limit",m):n.removeAttr("data-days-limit"),c.reset(e),h.originalEvent.preventDefault()}})},i=function(d,e){var h=d.find(f.TIMELINE_VIEW_SELECTOR);h.on("shown shown.bs.tab",function(){c.shown(e)}),b.define(h,[b.events.activate]),h.on(b.events.activate,"[data-toggle='tab']",function(b){var c=a(b.currentTarget).data("filtername"),d="block_timeline_user_sort_preference";g(d,c)})},j=function(b,c){b=a(b),h(b,c),i(b,c)};return{init:j}});
define('block_timeline/view_dates', ["jquery","core/str","block_timeline/event_list","core/pubsub","core/paged_content_events"],function(a,b,c,d,e){var f={EVENT_LIST_CONTAINER:'[data-region="event-list-container"]'},g=[5,10,25],h=function(a){var b=parseInt(a.data("limit"),10),c=!1,d=g.map(function(a){return b==a&&(c=!0),{value:a,active:b==a}});return c||(d[0].active=!0),d},i=function(b,c){var f=c+e.SET_ITEMS_PER_PAGE_LIMIT;d.subscribe(f,function(c){a(b).data("limit",c)})},j=function(d){var e=d.find(f.EVENT_LIST_CONTAINER),g=a(e).attr("id")+"user_block_timeline"+Math.random();i(d,g);var j=h(d),k={persistentLimitKey:"block_timeline_user_limit_preference",eventNamespace:g};b.get_string("ariaeventlistpaginationnavdates","block_timeline").then(function(a){return c.init(e,j,{},a,k),a})["catch"](function(){c.init(e,j,{},"",k)})},k=function(b){b=a(b),b.hasClass("active")&&(j(b),b.data("seen",!0))},l=function(a){a.removeAttr("data-seen"),a.hasClass("active")&&(j(a),a.data("seen",!0))},m=function(a){a.data("seen")||(j(a),a.data("seen",!0))};return{init:k,reset:l,shown:m}});
define('block_timeline/view', ["jquery","block_timeline/view_dates","block_timeline/view_courses"],function(a,b,c){var d={TIMELINE_DATES_VIEW:'[data-region="view-dates"]',TIMELINE_COURSES_VIEW:'[data-region="view-courses"]'},e=function(e){e=a(e);var f=e.find(d.TIMELINE_DATES_VIEW),g=e.find(d.TIMELINE_COURSES_VIEW);b.init(f),c.init(g)},f=function(a){var e=a.find(d.TIMELINE_DATES_VIEW),f=a.find(d.TIMELINE_COURSES_VIEW);b.reset(e),c.reset(f)},g=function(a){var e=a.find(d.TIMELINE_DATES_VIEW),f=a.find(d.TIMELINE_COURSES_VIEW);e.hasClass("active")?b.shown(e):c.shown(f)};return{init:e,reset:f,shown:g}});
define('block_timeline/view_courses', ["jquery","core/notification","core/custom_interaction_events","core/str","core/templates","block_timeline/event_list","core_course/repository","block_timeline/calendar_events_repository"],function(a,b,c,d,e,f,g,h){var i={MORE_COURSES_BUTTON:'[data-action="more-courses"]',MORE_COURSES_BUTTON_CONTAINER:'[data-region="more-courses-button-container"]',NO_COURSES_EMPTY_MESSAGE:'[data-region="no-courses-empty-message"]',COURSES_LIST:'[data-region="courses-list"]',COURSE_ITEMS_LOADING_PLACEHOLDER:'[data-region="course-items-loading-placeholder"]',COURSE_EVENTS_CONTAINER:'[data-region="course-events-container"]',COURSE_NAME:'[data-region="course-name"]',LOADING_ICON:".loading-icon"},j={COURSE_ITEMS:"block_timeline/course-items",LOADING_ICON:"core/loading"},k="inprogress",l="fullname asc",m=5,n=2,o=86400,p=function(a){a.find(i.COURSE_ITEMS_LOADING_PLACEHOLDER).addClass("hidden")},q=function(a){a.find(i.MORE_COURSES_BUTTON_CONTAINER).addClass("hidden")},r=function(a){a.find(i.MORE_COURSES_BUTTON_CONTAINER).removeClass("hidden")},s=function(a){var b=a.find(i.MORE_COURSES_BUTTON);b.prop("disabled",!0),e.render(j.LOADING_ICON,{}).then(function(a){return b.append(a),a})["catch"](function(){return!1})},t=function(a){var b=a.find(i.MORE_COURSES_BUTTON);b.prop("disabled",!1),b.find(i.LOADING_ICON).remove()},u=function(a){a.find(i.NO_COURSES_EMPTY_MESSAGE).removeClass("hidden")},v=function(a,b){var c=a.find(i.COURSES_LIST);e.appendNodeContents(c,b,"")},w=function(a){return a.find(i.COURSE_EVENTS_CONTAINER).length>0},x=function(a){return parseInt(a.attr("data-offset"),10)},y=function(a,b){a.attr("data-offset",b)},z=function(a){return parseInt(a.attr("data-limit"),10)},A=function(a){return parseInt(a.attr("data-days-offset"),10)},B=function(a){var b=a.attr("data-days-limit");return void 0!=b?parseInt(b,10):void 0},C=function(a){return parseInt(a.attr("data-midnight"),10)},D=function(a){var b=C(a),c=A(a);return b+c*o},E=function(a){var b=C(a),c=B(a);return void 0!=c&&b+c*o},F=function(a,b,c,d){var e={courseids:a,starttime:b,limit:c};return d&&(e.endtime=d),h.queryByCourses(e)},G=function(a){return a.data("last-event-load-time")},H=function(a,b){a.data("last-event-load-time",b)},I=function(a,b){return G(a)>b},J=function(a,b,c){var d=a.map(function(a){return a.id});return F(d,b,m+1,c)},K=function(a,b,c,d,f,g){return e.render(j.COURSE_ITEMS,{courses:a,midnight:c,hasdaysoffset:!0,hasdayslimit:void 0!=f,daysoffset:d,dayslimit:f,nodayslimit:void 0==f,urls:{noevents:g}}).then(function(a){return p(b),a?v(b,a):w(b)||u(b),a}).then(function(c){return a.length<n?q(b):r(b),c})["catch"](function(){p(b)})},L=function(c){var e=x(c),h=z(c);return g.getEnrolledCoursesByTimelineClassification(k,h,e,l).then(function(b){var e=Date.now(),g=b.courses,h=b.nextoffset,i=A(c),j=B(c),k=C(c),l=D(c),n=E(c),o=c.attr("data-no-events-url");y(c,h);var p=J(g,l,n),q=K(g,c,k,i,j,o);return a.when(p,q).then(function(b){return I(c,e)?b:(g.forEach(function(e){var g=e.id,h=[],i='[data-region="course-events-container"][data-course-id="'+g+'"]',j=c.find(i),k=j.find(f.rootSelector),l=b.groupedbycourse.filter(function(a){return a.courseid==g});l.length&&(h=l[0].events);var n=a.Deferred().resolve({events:h}).promise();d.get_string("ariaeventlistpaginationnavcourses","block_timeline",e.fullnamedisplay).then(function(a){return f.init(k,m,{1:n},a),a})["catch"](function(){f.init(k,m,{1:n})})}),b)})})["catch"](b.exception)},M=function(c){var e=Date.now(),g=D(c),h=E(c),j=c.find(i.COURSE_EVENTS_CONTAINER),k=j.map(function(){return a(this).attr("data-course-id")}).get();return H(c,e),F(k,g,m+1,h).then(function(b){return I(c,e)?b:(j.each(function(c,e){e=a(e);var g=e.attr("data-course-id"),h=e.find(i.COURSE_NAME).text(),j=e.find(f.rootSelector),k=a.Deferred(),l=[],n=b.groupedbycourse.filter(function(a){return a.courseid==g});n.length&&(l=n[0].events),k.resolve({events:l}),d.get_string("ariaeventlistpaginationnavcourses","block_timeline",h).then(function(a){return f.init(j,m,{1:k.promise()},a),a})["catch"](function(){f.init(j,m,{1:k.promise()})})}),b)})["catch"](b.exception)},N=function(a){c.define(a,[c.events.activate]),a.on(c.events.activate,i.MORE_COURSES_BUTTON,function(b,c){s(a),L(a).then(function(){t(a)})["catch"](function(){t(a)}),c&&(c.originalEvent.preventDefault(),c.originalEvent.stopPropagation()),b.stopPropagation()})},O=function(b){b=a(b),H(b,Date.now()),b.hasClass("active")&&(L(b),b.attr("data-seen",!0)),N(b)},P=function(a){a.removeAttr("data-seen"),a.hasClass("active")&&Q(a)},Q=function(a){a.attr("data-seen")||(w(a)?M(a):L(a),a.attr("data-seen",!0))};return{init:O,reset:P,shown:Q}});
define('block_timeline/event_list', ["jquery","core/notification","core/templates","core/paged_content_factory","core/str","core/user_date","block_timeline/calendar_events_repository"],function(a,b,c,d,e,f,g){var h=86400,i={EMPTY_MESSAGE:'[data-region="empty-message"]',ROOT:'[data-region="event-list-container"]',EVENT_LIST_CONTENT:'[data-region="event-list-content"]',EVENT_LIST_LOADING_PLACEHOLDER:'[data-region="event-list-loading-placeholder"]'},j={EVENT_LIST_CONTENT:"block_timeline/event-list-content"},k={ignoreControlWhileLoading:!0,controlPlacementBottom:!0,ariaLabels:{itemsperpagecomponents:"ariaeventlistpagelimit, block_timeline"}},l=function(a){a.find(i.EVENT_LIST_CONTENT).addClass("hidden"),a.find(i.EMPTY_MESSAGE).removeClass("hidden")},m=function(a){a.find(i.EVENT_LIST_CONTENT).removeClass("hidden"),a.find(i.EMPTY_MESSAGE).addClass("hidden")},n=function(a){a.find(i.EVENT_LIST_CONTENT).empty()},o=function(a,b){var c={},d={eventsbyday:[]};return a.forEach(function(a){var d=f.getUserMidnightForTimestamp(a.timesort,b);c[d]?c[d].push(a):c[d]=[a]}),Object.keys(c).forEach(function(a){var e=c[a];d.eventsbyday.push({past:a<b,dayTimestamp:a,events:e})}),d},p=function(a,b){var d=o(a,b),e=j.EVENT_LIST_CONTENT;return c.render(e,d)},q=function(a,b,c,d,e,f){var i=a+c*h,j=void 0!=d&&a+d*h,k={starttime:i,limit:b};return e&&(k.aftereventid=e),j&&(k.endtime=j),f?(k.courseid=f,g.queryByCourse(k)):g.queryByTime(k)},r=function(a,b,c,d,e,f,g,h){for(var i=a.pageNumber,j=a.limit,k=i;!d.hasOwnProperty(k);)k--;var l=d[k],m=null;return m=e&&e.hasOwnProperty(i)?e[i]:q(c,j+1,g,h,l,f),m.then(function(a){if(!a.events.length)return b.allItemsLoaded(i),[];var c=a.events,d=c.length<=j;return d?b.allItemsLoaded(i):c.pop(),c})},s=function(c,f,g,h,i,j,l,m,n){var o={1:0},q=!1,s=a.extend({},k,n);return e.get_string("ariaeventlistpagelimit","block_timeline",a.isArray(c)?c[0].value:c).then(function(a){return s.ariaLabels.itemsperpage=a,s.ariaLabels.paginationnav=m,a}).then(function(){return d.createWithLimit(c,function(c,d){var e=[];return c.forEach(function(a){var c=a.pageNumber,h=r(a,d,g,o,f,i,j,l).then(function(a){if(a.length){q=!0;var b=a[a.length-1].id;return o[c+1]=b,p(a,g)}return a})["catch"](b.exception);e.push(h)}),a.when.apply(a,e).then(function(){h.resolve(q)})["catch"](function(){h.resolve(q)}),e},s)})},t=function(d,e,f,g,h){d=a(d);var j=a.Deferred(),k=d.find(i.EVENT_LIST_CONTENT),o=d.find(i.EVENT_LIST_LOADING_PLACEHOLDER),p=d.attr("data-course-id"),q=parseInt(d.attr("data-days-offset"),10),r=d.attr("data-days-limit"),t=parseInt(d.attr("data-midnight"),10);return n(d),m(d),o.removeClass("hidden"),void 0!=r&&(r=parseInt(r,10)),s(e,f,t,j,p,q,r,g,h).then(function(b,e){return b=a(b),b.addClass("hidden"),c.replaceNodeContents(k,b,e),j.then(function(a){return b.removeClass("hidden"),o.addClass("hidden"),a||l(d),a})["catch"](function(){return!1}),b})["catch"](b.exception)};return{init:t,rootSelector:i.ROOT}});
define('block_timeline/calendar_events_repository', ["jquery","core/ajax","core/notification"],function(a,b,c){var d=20,e=function(a){a.hasOwnProperty("limit")||(a.limit=d),a.limitnum=a.limit,delete a.limit,a.hasOwnProperty("starttime")&&(a.timesortfrom=a.starttime,delete a.starttime),a.hasOwnProperty("endtime")&&(a.timesortto=a.endtime,delete a.endtime);var e={methodname:"core_calendar_get_action_events_by_course",args:a},f=b.call([e])[0];return f.fail(c.exception),f},f=function(a){a.hasOwnProperty("limit")||(a.limit=10),a.limitnum=a.limit,delete a.limit,a.hasOwnProperty("starttime")&&(a.timesortfrom=a.starttime,delete a.starttime),a.hasOwnProperty("endtime")&&(a.timesortto=a.endtime,delete a.endtime);var d={methodname:"core_calendar_get_action_events_by_courses",args:a},e=b.call([d])[0];return e.fail(c.exception),e},g=function(a){a.hasOwnProperty("limit")||(a.limit=d),a.limitnum=a.limit,delete a.limit,a.hasOwnProperty("starttime")&&(a.timesortfrom=a.starttime,delete a.starttime),a.hasOwnProperty("endtime")&&(a.timesortto=a.endtime,delete a.endtime),a.limittononsuspendedevents=!0;var e={methodname:"core_calendar_get_action_events_by_timesort",args:a},f=b.call([e])[0];return f.fail(c.exception),f};return{queryByTime:g,queryByCourse:e,queryByCourses:f}});
define('media_videojs/loader', ["jquery","core/event"],function(a,b){var c,d=function(d){c=d,e(null,a("body")),b.getLegacyEvents().done(function(b){a(document).on(b.FILTER_CONTENT_UPDATED,e)})},e=function(b,d){var e=".mediaplugin_videojs";d.find(e).addBack(e).find("audio, video").each(function(){var b=a(this).attr("id"),d=a(this).data("setup-lazy"),e=["media_videojs/video-lazy"];d.techOrder&&d.techOrder.indexOf("youtube")!==-1&&e.push("media_videojs/Youtube-lazy"),d.techOrder&&d.techOrder.indexOf("flash")!==-1&&e.push("media_videojs/videojs-flash-lazy"),require(e,function(a){c&&(c(a),c=null),a(b,d)})})};return{setUp:d}});
define('report_competency/user_course_navigation', ["jquery"],function(a){var b=function(b,c,d,e){this._baseUrl=c,this._userId=d+"",this._courseId=e,a(b).on("change",this._userChanged.bind(this))};return b.prototype._userChanged=function(b){var c=a(b.target).val(),d="?user="+c+"&id="+this._courseId;document.location=this._baseUrl+d},b.prototype._userId=null,b.prototype._courseId=null,b.prototype._baseUrl=null,b});
define('report_competency/grading_popup', ["jquery","core/notification","core/str","core/ajax","core/log","core/templates","tool_lp/dialogue"],function(a,b,c,d,e,f,g){var h=function(b,c){this._regionSelector=b,this._userCompetencySelector=c,a(this._regionSelector).on("click",this._userCompetencySelector,this._handleClick.bind(this))};return h.prototype._handleClick=function(c){var f=a(c.target).closest(this._userCompetencySelector),g=a(f).data("competencyid"),h=a(f).data("courseid"),i=a(f).data("userid");e.debug("Clicked on cell: competencyId="+g+", courseId="+h+", userId="+i);var j=d.call([{methodname:"tool_lp_data_for_user_competency_summary_in_course",args:{userid:i,competencyid:g,courseid:h}},{methodname:"core_competency_user_competency_viewed_in_course",args:{userid:i,competencyid:g,courseid:h}}]);a.when.apply(a,j).then(function(a){this._contextLoaded.bind(this)(a)}.bind(this))["catch"](b.exception)},h.prototype._contextLoaded=function(a){var d=this;a.displayuser=!0,f.render("tool_lp/user_competency_summary_in_course",a).done(function(a,e){c.get_string("usercompetencysummary","report_competency").done(function(b){new g(b,a,f.runTemplateJS.bind(f,e),d._refresh.bind(d),(!0))}).fail(b.exception)}).fail(b.exception)},h.prototype._refresh=function(){var c=a(this._regionSelector),e=c.data("courseid"),f=c.data("userid");d.call([{methodname:"report_competency_data_for_report",args:{courseid:e,userid:f},done:this._pageContextLoaded.bind(this),fail:b.exception}])},h.prototype._pageContextLoaded=function(a){var c=this;f.render("report_competency/report",a).done(function(a,b){f.replaceNode(c._regionSelector,a,b)}).fail(b.exception)},h.prototype._regionSelector=null,h.prototype._userCompetencySelector=null,h});
define('report_customsql/reportcategories', ["jquery"],function(a){var b={init:function(){a("body").on("click",".csql_category h2",b.expandCollapse),a(".csql_expandcollapseall").on("click",b.expandCollapseAll),b.updateExpandCollapseAll()},expandCollapse:function(c){var d=a(c.target).closest(".csql_category");d.length&&(d.hasClass("csql_categoryhidden")?d.removeClass("csql_categoryhidden").addClass("csql_categoryshown"):d.removeClass("csql_categoryshown").addClass("csql_categoryhidden"),c.preventDefault(),b.updateExpandCollapseAll())},expandCollapseAll:function(c){0===a(".csql_categoryshown").length?(a(".csql_category").removeClass("csql_categoryhidden"),a(".csql_category").addClass("csql_categoryshown")):(a(".csql_category").removeClass("csql_categoryshown"),a(".csql_category").addClass("csql_categoryhidden")),c.preventDefault(),b.updateExpandCollapseAll()},updateExpandCollapseAll:function(){var b=a(".csql_expandcollapseall");0===a(".csql_categoryshown").length?b.text(b.data("expandalltext")):b.text(b.data("collapsealltext"))}};return b});
define('report_insights/actions', ["jquery","core/ajax","core/notification"],function(a,b,c){return{init:function(d){a("a[data-prediction-methodname][data-prediction-id="+d+"]").on("click",function(e){e.preventDefault();var f=a(e.currentTarget),g=f.attr("data-prediction-methodname"),h=f.closest("tr");if(h.length>0){var i=b.call([{methodname:g,args:{predictionid:d}}])[0];i.done(function(){h[0].remove(),a(".insights-list tr").length<2&&(document.referrer?window.location.assign(document.referrer):window.location.reload(!0))}).fail(c.exception)}})}}});
define('report_progress/completion_override', ["jquery","core/ajax","core/str","core/modal_factory","core/modal_events","core/notification","core/custom_interaction_events","core/templates"],function(a,b,c,d,e,f,g,h){var i,j,k=function(a,b){return a>0?"i/completion-"+b+"-y-override":"i/completion-"+b+"-n-override"},l=function(a){h.render("core/loading",{}).then(function(c){return j.append(c),b.call([{methodname:"core_completion_override_activity_completion_status",args:a}])[0]}).then(function(b){var d=b.state>0?1:0,e=d?"completion-y-override":"completion-n-override";c.get_string(e,"completion",i).then(function(a){var b={state:a,date:"",user:j.attr("data-userfullname"),activity:j.attr("data-activityname")};return c.get_string("progress-title","completion",b)}).then(function(a){var b=j.attr("data-completiontracking");return h.renderPix(k(d,b),"core",a)}).then(function(b){var c=d>0?0:1;j.find(".loading-icon").remove(),j.data("changecompl",a.userid+"-"+a.cmid+"-"+c),j.attr("data-changecompl",a.userid+"-"+a.cmid+"-"+c),j.children("img").replaceWith(b)})["catch"](f.exception)})["catch"](f.exception)},m=function(b,g){g.originalEvent.preventDefault(),g.originalEvent.stopPropagation(),b.preventDefault(),b.stopPropagation(),j=a(b.currentTarget);var h=j.data("changecompl").split("-"),i={userid:h[0],cmid:h[1],newstate:h[2]},k=1==i.newstate?"completion-y":"completion-n";c.get_strings([{key:k,component:"completion"}]).then(function(a){return c.get_strings([{key:"confirm",component:"moodle"},{key:"areyousureoverridecompletion",component:"completion",param:a[0]}])}).then(function(a){return d.create({type:d.types.CONFIRM,title:a[0],body:a[1]})}).then(function(a){a.getRoot().on(e.yes,function(){l(i)}),a.getRoot().on(e.hidden,function(){j.focus(),a.destroy()}),a.show()})["catch"](f.exception)},n=function(b){i=b,a("#completion-progress a.changecompl").each(function(a,b){g.define(b,[g.events.activate])}),a("#completion-progress").on(g.events.activate,"a.changecompl",function(a,b){m(a,b)})};return{init:n}});
define('gradereport_gradedist/define_hc_min', ["gradereport_gradedist/config","highcharts_min"],function(a,b){return b});
define('gradereport_gradedist/define_hc_src', ["gradereport_gradedist/config","highcharts_src"],function(a,b){return b});
define('gradereport_gradedist/config', [],function(){window.requirejs.config({paths:{highcharts_src:M.cfg.wwwroot+"/grade/report/gradedist/js/exporting.src",highcharts_min:M.cfg.wwwroot+"/grade/report/gradedist/js/exporting"},shim:{highcharts_src:{exports:"Highcharts"},highcharts_min:{exports:"Highcharts"}}})});
define('gradereport_gradedist/gradedist', ["jquery","core/log","core/str"],function(a,b,c){var d=function(){};d.prototype.update=function(b){var c=JSON.parse(b.responseText);if(1==c.updateall){window.absolut=[],window.percent=[],a.map(c.actdist,function(a){window.absolut.push(a.count),window.percent.push(a.percentage)});var d=1==window.mode?window.percent:window.absolut;window.chart.series[0].setData(d),window.chart.setTitle({text:c.title})}window.absolutnew=[],window.percentnew=[],a.map(c.newdist,function(a){window.absolutnew.push(a.count),window.percentnew.push(a.percentage)}),e.coverage(c);var f=1==window.mode?window.percentnew:window.absolutnew;return window.chart.series[1].setData(f),!0},d.prototype.validate=function(){var b=!1,d=!1,e=!1,f=!1,g=!1,h=a("#b_decimals").first(),i=a("#b_interval").first(),j=a("#b_predecessor").first(),k=/^\d+([.]\d{1,2})?$/,l=100.01;return a.each(window.boundaries,function(a,b){var c=b.value.replace(/,/g,".");""!=c?(k.test(c)||(d=!0),Number(c)>100&&(e=!0),Number(c)>=Number(l)&&(f=!0),l=c):g=!0}),d?(h.length||c.get_string("decimals","gradereport_gradedist").done(function(b){a("#boundary_error_container").first().append('<div class="b_error" id="b_decimals"><span>'+b+"</span></div>")}),b=!0):h.length&&h.remove(),e?(i.length||c.get_string("interval","gradereport_gradedist").done(function(b){a("#boundary_error_container").first().append('<div class="b_error" id="b_interval"><span>'+b+"</span></div>")}),b=!0):i.length&&i.remove(),f?(j.length||c.get_string("predecessor","gradereport_gradedist").done(function(b){a("#boundary_error_container").first().append('<div class="b_error" id="b_predecessor"><span>'+b+"</span></div>")}),b=!0):j.length&&j.remove(),window.submit.length&&window.submit.prop("disabled",b||g),!b},d.prototype.coverage=function(b){var d=!1,e=!1,f=0!=Number(b.newcoverage[0]),g=a("#b_coverage").first();return a.each(window.boundaries,function(a,b){""==b.value&&(e=!0)}),!e&&f?(g.length||c.get_string("coverage","gradereport_gradedist").done(function(c){a("#boundary_error_container").first().append('<div class="b_error" id="b_coverage"><span>'+c+'</span><span class="newcoverage">'+b.newcoverage[0]+"/"+b.newcoverage[1]+"</span></div>")}),d=!0):g.length&&g.remove(),a(".actcoverage").html(b.actcoverage[0]+"/"+b.actcoverage[1]+" ("+b.actcoverage[2]+"%)"),a(".newcoverage").html(b.newcoverage[0]+"/"+b.newcoverage[1]+" ("+b.newcoverage[2]+"%)"),!d},d.prototype.initChart=function(a,b,d){var e=[{key:"gradeletter",component:"gradereport_gradedist"},{key:"absolut",component:"gradereport_gradedist"},{key:"percent",component:"gradereport_gradedist"},{key:"printchart",component:"gradereport_gradedist"},{key:"downloadpng",component:"gradereport_gradedist"},{key:"downloadjpeg",component:"gradereport_gradedist"},{key:"downloadpdf",component:"gradereport_gradedist"},{key:"downloadsvg",component:"gradereport_gradedist"},{key:"downloadjpeg",component:"gradereport_gradedist"},{key:"contextbuttontitle",component:"gradereport_gradedist"}];c.get_strings(e).done(function(c){window.chart=new d.Chart({chart:{renderTo:"chart_container",type:"column"},title:{text:a.title},xAxis:{title:{text:c[0]},categories:b},yAxis:{title:{text:c[1]}},legend:{enabled:!1},tooltip:{enabled:!1},lang:{printChart:c[3],downloadPNG:c[4],downloadJPEG:c[5],downloadPDF:c[6],downloadSVG:c[7],contextButtonTitle:c[8]},series:[{data:window.absolut,color:"#990000",dataLabels:{enabled:!0,color:"#000000",style:{fontWeight:"normal"}}},{data:window.absolutnew,color:"#33cc33",dataLabels:{enabled:!0,color:"#000000",style:{fontWeight:"normal"}}}]})})};var e=new d;return e.initializer=function(d){b.info("Initialize settings JS","gradedist");var f=d.data;window.mode=0;var g=[];window.absolut=[],window.percent=[],window.absolutnew=[],window.percentnew=[];var h="#id_submitbutton";if(window.submit=a(h),window.submit.length&&window.submit.prop("disabled",!0),a.map(f.actdist,function(a,b){g.push(b),window.absolut.push(a.count),window.percent.push(a.percentage)}),a.map(f.newdist,function(a){window.absolutnew.push(a.count),window.percentnew.push(a.percentage)}),window.chart=[],f.highcharts_src)require(["gradereport_gradedist/define_hc_src"],function(a){e.initChart(f,g,a)});else if(f.highcharts_min)require(["gradereport_gradedist/define_hc_min"],function(a){e.initChart(f,g,a)});else{var i="#chart_container";c.get_string("highchartsmissing","gradereport_gradedist").done(function(b){a(i).first().html("<br><p><i><strong>[ !!! "+b+" !!! ]</strong></i></p><br>")})}var j=M.cfg.wwwroot+"/grade/report/gradedist/ajax_handler.php?id="+f.courseid,k={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},complete:function(a){e.update(a)},url:j},l="#id_gradeitem",m=a(l).first();m.change(e,function(){var b=a(".alert-success");b&&b.remove(),k.data=a("#letterform").serialize()+"&updateall=1",a.ajax(k)});var n="#id_coursegroup",o=a(n).first();o&&o.change(e,function(){var b=a(".alert-success");b&&b.remove(),a("#id_coursegrouping").first().prop("value","0"),k.data=a("#letterform").serialize()+"&updateall=1",a.ajax(k)});var p="#id_coursegrouping",q=a(p).first();q&&q.change(e,function(){var b=a(".alert-success");b&&b.remove(),a("#id_coursegroup").first().prop("value","0"),k.data=a("#letterform").serialize()+"&updateall=1",a.ajax(k)}),window.boundaries=a(".gradeboundaries_new input[type=text], #fgroup_id_grp_gradeboundaries_new input[type=text]"),window.boundaries.change(e,function(){var b=a("#page-grade-report-gradedist-index .notifyproblem, #page-grade-report-gradedist-index .notifysuccess");b&&b.remove();var c=a(".alert-success");c&&c.remove(),e.validate()&&(k.data=a("#letterform").serialize()+"&updateall=1",a.ajax(k))});var r=a('input[name^="grp_description"]');r.change(e,function(){window.mode=this.value;var a,b,d,e;1==window.mode?(a=window.percent,b=window.percentnew,d="percent",e=100):(a=window.absolut,b=window.absolutnew,d="absolut",e=null),c.get_string(d,"gradereport_gradedist").done(function(c){window.chart.yAxis[0].axisTitle.attr({text:c}),window.chart.yAxis[0].setExtremes(0,e),window.chart.series[0].setData(a),window.chart.series[1].setData(b)})});var s=a("#id_grp_columns_actualcolumns, #id_grp_columns_newcolumns");s.click(e,function(){var a="id_grp_columns_actualcolumns"===this.id?0:1;this.checked?window.chart.series[a].show():window.chart.series[a].hide()}),e.validate()},e});
define('gradingform_guide/comment_chooser', ["jquery","core/templates","core/notification","core/yui"],function(a,b,c){return{initialise:function(d,e,f,g){function h(b,c){var e="<label>"+M.util.get_string("insertcomment","gradingform_guide")+"</label>",g="comment-chooser-"+d+"-cancel",h='<button id="'+g+'">'+M.util.get_string("cancel","moodle")+"</button>",i=new M.core.dialogue({modal:!0,headerContent:e,bodyContent:b,footerContent:h,focusAfterHide:"#"+f,id:"comments-chooser-dialog-"+d});a("#"+g).click(function(){i.hide()}),a.each(c,function(b,c){var e="#comment-option-"+d+"-"+c.id;a(e).click(function(){var b=a("#"+f),d=b.val();""!==a.trim(d)&&(d+="\n"),d+=c.description,b.val(d),i.hide()}),a(document).off("keypress",e).on("keypress",e,function(){var b=event.which||event.keyCode;13!=b&&32!=b||a(e).click()})}),i.after("visibleChange",function(a){a.prevVal&&!a.newVal&&this.destroy()},i),i.show()}function i(){var a={criterionId:d,comments:g};b.render("gradingform_guide/comment_chooser",a).done(function(a){h(a,g)}).fail(c.exception)}a("#"+e).click(function(a){a.preventDefault(),i()})}}});
define('tool_analytics/model', ["jquery","core/str","core/log","core/notification","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){var g={clear:{title:{key:"clearpredictions",component:"tool_analytics"},body:{key:"clearmodelpredictions",component:"tool_analytics"}}},h=function(b){return a(b.closest("tr")[0]).find("span.target-name").text()};return{confirmAction:function(i,j){a('[data-action-id="'+i+'"]').on("click",function(i){i.preventDefault();var k=a(i.currentTarget);if("undefined"==typeof g[j])return void c.error('Action "'+j+'" is not allowed.');var l=[g[j].title,g[j].body];l[1].param=h(k);var m=b.get_strings(l),n=e.create({type:e.types.SAVE_CANCEL});a.when(m,n).then(function(a,b){return b.setTitle(a[0]),b.setBody(a[1]),b.setSaveButtonText(a[0]),b.getRoot().on(f.save,function(){window.location.href=k.attr("href")}),b.show(),b}).fail(d.exception)})}}});
define('tool_analytics/log_info', ["jquery","core/str","core/modal_factory","core/notification"],function(a,b,c,d){return{loadInfo:function(e,f){var g=a('[data-model-log-id="'+e+'"]');b.get_string("loginfo","tool_analytics").then(function(b){var d=a("<ul>");return f.forEach(function(a){d.append("<li>"+a+"</li>")}),d.append("</ul>"),c.create({title:b,body:d.html(),large:!0},g)})["catch"](d.exception)}}});
define('tool_dataprivacy/events', [],function(){return{approve:"tool_dataprivacy-data_request:approve",bulkApprove:"tool_dataprivacy-data_request:bulk_approve",deny:"tool_dataprivacy-data_request:deny",bulkDeny:"tool_dataprivacy-data_request:bulk_deny",complete:"tool_dataprivacy-data_request:complete"}});
define('tool_dataprivacy/add_purpose', ["jquery","core/str","core/ajax","core/notification","core/modal_factory","core/modal_events","core/fragment"],function(a,b,c,d,e,f,g){var h={PURPOSE_LINK:'[data-add-element="purpose"]'},i=function(a){this.contextId=a;var c=[{key:"addpurpose",component:"tool_dataprivacy"},{key:"save",component:"admin"}];this.strings=b.get_strings(c),this.registerEventListeners()};return i.prototype.contextId=0,i.prototype.strings=0,i.prototype.registerEventListeners=function(){var b=a(h.PURPOSE_LINK);b.on("click",function(){return this.strings.then(function(a){e.create({type:e.types.SAVE_CANCEL,title:a[0],body:""},b).done(function(b){this.setupFormModal(b,a[1])}.bind(this))}.bind(this)).fail(d.exception)}.bind(this))},i.prototype.getBody=function(a){var b=null;return"undefined"!=typeof a&&(b={jsonformdata:JSON.stringify(a)}),g.loadFragment("tool_dataprivacy","addpurpose_form",this.contextId,b)},i.prototype.setupFormModal=function(a,b){a.setLarge(),a.setSaveButtonText(b),a.getRoot().on(f.hidden,this.destroy.bind(this)),a.setBody(this.getBody()),a.getRoot().on(f.save,this.submitForm.bind(this)),a.getRoot().on("submit","form",this.submitFormAjax.bind(this)),this.modal=a,a.show()},i.prototype.submitForm=function(a){a.preventDefault(),this.modal.getRoot().find("form").submit()},i.prototype.submitFormAjax=function(a){a.preventDefault();var b=this.modal.getRoot().find("form").serialize();c.call([{methodname:"tool_dataprivacy_create_purpose_form",args:{jsonformdata:JSON.stringify(b)},done:function(a){a.validationerrors?this.modal.setBody(this.getBody(b)):this.close()}.bind(this),fail:d.exception}])},i.prototype.close=function(){this.destroy(),document.location.reload()},i.prototype.destroy=function(){Y.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()}),this.modal.destroy()},i.prototype.removeListeners=function(){a(h.PURPOSE_LINK).off("click")},{getInstance:function(a){return new i(a)}}});
define('tool_dataprivacy/myrequestactions', ["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events","core/templates"],function(a,b,c,d,e,f,g){function h(a){var e={methodname:"tool_dataprivacy_contact_dpo",args:{message:a}},f="success";b.call([e])[0].then(function(a){return a.result?d.get_string("requestsubmitted","tool_dataprivacy"):(f="error",a.warnings.join("<br>"))}).done(function(a){c.addNotification({message:a,type:f})}).fail(c.exception)}var i={CANCEL_REQUEST:'[data-action="cancel"]',CONTACT_DPO:'[data-action="contactdpo"]'},j=function(){this.registerEvents()};return j.prototype.registerEvents=function(){a(i.CANCEL_REQUEST).click(function(g){g.preventDefault();var h=a(this).data("requestid"),i=[{key:"cancelrequest",component:"tool_dataprivacy"},{key:"cancelrequestconfirmation",component:"tool_dataprivacy"}];d.get_strings(i).then(function(a){var d=a[0],g=a[1];return e.create({title:d,body:g,type:e.types.SAVE_CANCEL}).then(function(a){return a.setSaveButtonText(d),a.getRoot().on(f.save,function(){var a={requestid:h},d={methodname:"tool_dataprivacy_cancel_data_request",args:a};b.call([d])[0].done(function(a){a.result?window.location.reload():c.addNotification({message:a.warnings[0].message,type:"error"})}).fail(c.exception)}),a.getRoot().on(f.hidden,function(){a.destroy()}),a})}).done(function(a){a.show()}).fail(c.exception)}),a(i.CONTACT_DPO).click(function(b){b.preventDefault();var i=a(this).data("replytoemail"),j=[{key:"contactdataprotectionofficer",component:"tool_dataprivacy"},{key:"send",component:"tool_dataprivacy"}],k="";d.get_strings(j).then(function(a){var b=a[0];k=a[1];var c={replytoemail:i};return e.create({title:b,body:g.render("tool_dataprivacy/contact_dpo",c),type:e.types.SAVE_CANCEL,large:!0})}).done(function(b){b.setSaveButtonText(k),b.getRoot().on(f.save,function(b){var c=a("#message").val().trim();0===c.length?(b.preventDefault(),a('[data-region="messageinput"]').addClass("has-danger notifyproblem"),a("#id_error_message").removeAttr("hidden")):h(c)}),b.getRoot().on(f.hidden,function(){b.destroy()}),b.show()}).fail(c.exception)})},{init:function(){return new j}}});
define('tool_dataprivacy/purposesactions', ["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){var g={DELETE:'[data-action="deletepurpose"]'},h=function(){this.registerEvents()};return h.prototype.registerEvents=function(){a(g.DELETE).click(function(g){g.preventDefault();var h=a(this).data("id"),i=a(this).data("name"),j=[{key:"deletepurpose",component:"tool_dataprivacy"},{key:"deletepurposetext",component:"tool_dataprivacy",param:i},{key:"delete"}];d.get_strings(j).then(function(d){var g=d[0],i=d[1],j=d[2];return e.create({title:g,body:i,type:e.types.SAVE_CANCEL}).then(function(d){return d.setSaveButtonText(j),d.getRoot().on(f.save,function(){var d={methodname:"tool_dataprivacy_delete_purpose",args:{id:h}};b.call([d])[0].done(function(b){b.result?a('tr[data-purposeid="'+h+'"]').remove():c.addNotification({message:b.warnings[0].message,type:"error"})}).fail(c.exception)}),d.getRoot().on(f.hidden,function(){d.destroy()}),d})}).done(function(a){a.show()}).fail(c.exception)})},{init:function(){return new h}}});
define('tool_dataprivacy/form-user-selector', ["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b._label})}),d},transport:function(d,e,f,g){var h;h=b.call([{methodname:"tool_dataprivacy_get_users",args:{query:e}}]),h[0].then(function(b){var d=[],e=0;return a.each(b,function(a,b){d.push(c.render("tool_dataprivacy/form-user-selector-suggestion",b))}),a.when.apply(a.when,d).then(function(){var c=arguments;a.each(b,function(a,b){b._label=c[e],e++}),f(b)})}).fail(g)}}});
define('tool_dataprivacy/defaultsactions', ["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events","core/templates"],function(a,b,c,d,e,f,g){function h(b,d,h,j,k,l,m,n){null!==h&&l.forEach(function(a){a.id===h&&(a.selected=!0)}),null!==j&&m.forEach(function(a){a.id===j&&(a.selected=!0)});var o={contextlevel:d,categoryoptions:l,purposeoptions:m};null!==n&&n.length&&(null===k?o.newactivitydefaults=!0:n.forEach(function(a){k===a.name&&(a.selected=!0)}),o.modemodule=!0,o.activityoptions=n),e.create({title:b,body:g.render("tool_dataprivacy/category_purpose_form",o),type:e.types.SAVE_CANCEL,large:!0}).then(function(b){return b.getRoot().on(f.save,function(){var b=a("#activity"),c="undefined"!=typeof b?b.val():null,d=a("#override"),e="undefined"!=typeof d&&d.is(":checked");i(a("#contextlevel").val(),a("#category").val(),a("#purpose").val(),c,e)}),b.getRoot().on(f.hidden,function(){b.destroy()}),b.show(),b})["catch"](c.exception)}function i(a,c,d,e,f){var g={methodname:"tool_dataprivacy_set_context_defaults",args:{contextlevel:a,category:c,purpose:d,override:f,activity:e}};b.call([g])[0].done(function(a){a.result&&window.location.reload()})}var j={EDIT_LEVEL_DEFAULTS:'[data-action="edit-level-defaults"]',NEW_ACTIVITY_DEFAULTS:'[data-action="new-activity-defaults"]',EDIT_ACTIVITY_DEFAULTS:'[data-action="edit-activity-defaults"]',DELETE_ACTIVITY_DEFAULTS:'[data-action="delete-activity-defaults"]'},k=-1,l=function(){this.registerEvents()};return l.prototype.registerEvents=function(){a(j.EDIT_LEVEL_DEFAULTS).click(function(e){e.preventDefault();var f=a(this),g=f.data("contextlevel"),i=f.data("category"),j=f.data("purpose"),k=[{methodname:"tool_dataprivacy_get_category_options",args:{}},{methodname:"tool_dataprivacy_get_purpose_options",args:{}}],l=b.call(k),m=d.get_string("editdefaults","tool_dataprivacy",a("#defaults-header").text());a.when(l[0],l[1],m).then(function(a,b,c){var d=a.options,e=b.options;return h(c,g,i,j,null,d,e,null),!0})["catch"](c.exception)}),a(j.NEW_ACTIVITY_DEFAULTS).click(function(e){e.preventDefault();var f=a(this),g=f.data("contextlevel"),i=[{methodname:"tool_dataprivacy_get_category_options",args:{}},{methodname:"tool_dataprivacy_get_purpose_options",args:{}},{methodname:"tool_dataprivacy_get_activity_options",args:{nodefaults:!0}}],j=b.call(i),k=d.get_string("addnewdefaults","tool_dataprivacy");a.when(j[0],j[1],j[2],k).then(function(a,b,c,d){var e=a.options,f=b.options,i=c.options;return h(d,g,null,null,null,e,f,i),!0})["catch"](c.exception)}),a(j.EDIT_ACTIVITY_DEFAULTS).click(function(e){e.preventDefault();var f=a(this),g=f.data("contextlevel"),i=f.data("category"),j=f.data("purpose"),k=f.data("activityname"),l=[{methodname:"tool_dataprivacy_get_category_options",args:{}},{methodname:"tool_dataprivacy_get_purpose_options",args:{}},{methodname:"tool_dataprivacy_get_activity_options",args:{}}],m=b.call(l),n=d.get_string("editmoduledefaults","tool_dataprivacy");a.when(m[0],m[1],m[2],n).then(function(a,b,c,d){var e=a.options,f=b.options,l=c.options;return h(d,g,i,j,k,e,f,l),!0})["catch"](c.exception)}),a(j.DELETE_ACTIVITY_DEFAULTS).click(function(b){b.preventDefault();var h=a(this),j=h.data("contextlevel"),l=h.data("activityname"),m=h.data("activitydisplayname"),n=k,o=k;e.create({title:d.get_string("deletedefaults","tool_dataprivacy",m),body:g.render("tool_dataprivacy/delete_activity_defaults",{activityname:m}),type:e.types.SAVE_CANCEL,large:!0}).then(function(a){return a.setSaveButtonText(d.get_string("delete")),a.getRoot().on(f.save,function(){i(j,n,o,l,!1)}),a.getRoot().on(f.hidden,function(){a.destroy()}),a.show(),!0})["catch"](c.exception)})},{init:function(){return new l}}});
define('tool_dataprivacy/categoriesactions', ["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){var g={DELETE:'[data-action="deletecategory"]'},h=function(){this.registerEvents()};return h.prototype.registerEvents=function(){a(g.DELETE).click(function(g){g.preventDefault();var h=a(this).data("id"),i=a(this).data("name"),j=[{key:"deletecategory",component:"tool_dataprivacy"},{key:"deletecategorytext",component:"tool_dataprivacy",param:i},{key:"delete"}];d.get_strings(j).then(function(d){var g=d[0],i=d[1],j=d[2];return e.create({title:g,body:i,type:e.types.SAVE_CANCEL}).then(function(d){return d.setSaveButtonText(j),d.getRoot().on(f.save,function(){var d={methodname:"tool_dataprivacy_delete_category",args:{id:h}};b.call([d])[0].done(function(b){b.result?a('tr[data-categoryid="'+h+'"]').remove():c.addNotification({message:b.warnings[0].message,type:"error"})}).fail(c.exception)}),d.getRoot().on(f.hidden,function(){d.destroy()}),d})}).done(function(a){a.show()}).fail(c.exception)})},{init:function(){return new h}}});
define('tool_dataprivacy/expand_contract', ["jquery","core/url","core/str"],function(a,b,c){var d=a('<img alt="" src="'+b.imageUrl("t/expanded")+'"/>'),e=a('<img alt="" src="'+b.imageUrl("t/collapsed")+'"/>');return{expandCollapse:function(a,b){a.hasClass("hide")?(a.removeClass("hide"),a.addClass("visible"),a.attr("aria-expanded",!0),b.find(":header i.fa").removeClass("fa-plus-square"),b.find(":header i.fa").addClass("fa-minus-square"),b.find(":header img.icon").attr("src",d.attr("src"))):(a.removeClass("visible"),a.addClass("hide"),a.attr("aria-expanded",!1),b.find(":header i.fa").removeClass("fa-minus-square"),b.find(":header i.fa").addClass("fa-plus-square"),b.find(":header img.icon").attr("src",e.attr("src")))},expandCollapseAll:function(b){var f="visible"==b?"hide":"visible",g="visible"==b,h="visible"==b?"fa-plus-square":"fa-minus-square",i="visible"==b?"fa-minus-square":"fa-plus-square",j="visible"==b?d.attr("src"):e.attr("src");a("."+f).each(function(){a(this).removeClass(f),a(this).addClass(b),a(this).attr("aria-expanded",g)}),a(".tool_dataprivacy-expand-all").data("visibilityState",f),c.get_string(f,"tool_dataprivacy").then(function(b){a(".tool_dataprivacy-expand-all").html(b)})["catch"](Notification.exception),a(":header i.fa").each(function(){a(this).removeClass(h),a(this).addClass(i)}),a(":header img.icon").each(function(){a(this).attr("src",j)})}}});
define('tool_dataprivacy/request_filter', ["jquery","core/form-autocomplete","core/str","core/notification"],function(a,b,c,d){var e={REQUEST_FILTERS:"#request-filters"},f=function(){var f=[{key:"filter",component:"moodle"},{key:"nofiltersapplied",component:"moodle"}];c.get_strings(f).then(function(a){var c=a[0],d=a[1];return b.enhance(e.REQUEST_FILTERS,!1,"",c,!1,!0,d,!0)}).fail(d.exception);var g=a(e.REQUEST_FILTERS).val();a(e.REQUEST_FILTERS).on("change",function(){var b=a(this).val();g.join(",")!==b.join(",")&&(0===b.length&&a("#filters-cleared").val(1),a(this.form).submit())})};return{init:function(){f()}}});
define('tool_dataprivacy/data_deletion', ["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){function g(a){var g=[{key:"confirm",component:"moodle"},{key:"confirmcontextdeletion",component:"tool_dataprivacy"}],h="tool_dataprivacy_confirm_contexts_for_deletion",i="";d.get_strings(g).then(function(a){i=a[0];var b=a[1];return e.create({title:i,body:b,type:e.types.SAVE_CANCEL})}).then(function(d){return d.setSaveButtonText(i),d.getRoot().on(f.save,function(){var d={ids:a},e={methodname:h,args:d};b.call([e])[0].done(function(a){a.result?window.location.reload():c.addNotification({message:a.warnings[0].message,type:"error"})}).fail(c.exception)}),d.getRoot().on(f.hidden,function(){d.destroy()}),d}).done(function(a){a.show()}).fail(c.exception)}var h={MARK_FOR_DELETION:'[data-action="markfordeletion"]',SELECT_ALL:'[data-action="selectall"]'},i={SELECTCONTEXT:".selectcontext"},j=function(){this.registerEvents()};return j.prototype.registerEvents=function(){a(h.MARK_FOR_DELETION).click(function(b){b.preventDefault();var c=[];a(i.SELECTCONTEXT).each(function(){var b=a(this);b.is(":checked")&&c.push(b.val())}),g(c)}),a(h.SELECT_ALL).change(function(b){b.preventDefault();var c=a(this);c.is(":checked")?a(i.SELECTCONTEXT).attr("checked","checked"):a(i.SELECTCONTEXT).removeAttr("checked")})},j});
define('tool_dataprivacy/requestactions', ["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events","core/templates","tool_dataprivacy/data_request_modal","tool_dataprivacy/events"],function(a,b,c,d,e,f,g,h,i){function j(a){return{wsfunction:"tool_dataprivacy_approve_data_request",wsparams:{requestid:a}}}function k(a){return{wsfunction:"tool_dataprivacy_bulk_approve_data_requests",wsparams:{requestids:a}}}function l(a){return{wsfunction:"tool_dataprivacy_deny_data_request",wsparams:{requestid:a}}}function m(a){return{wsfunction:"tool_dataprivacy_bulk_deny_data_requests",wsparams:{requestids:a}}}function n(a){return{wsfunction:"tool_dataprivacy_mark_complete",wsparams:{requestid:a}}}function o(a,b){var g=[];switch(a){case i.approve:g=[{key:"approverequest",component:"tool_dataprivacy"},{key:"confirmapproval",component:"tool_dataprivacy"}];break;case i.bulkApprove:g=[{key:"bulkapproverequests",component:"tool_dataprivacy"},{key:"confirmbulkapproval",component:"tool_dataprivacy"}];break;case i.deny:g=[{key:"denyrequest",component:"tool_dataprivacy"},{key:"confirmdenial",component:"tool_dataprivacy"}];break;case i.bulkDeny:g=[{key:"bulkdenyrequests",component:"tool_dataprivacy"},{key:"confirmbulkdenial",component:"tool_dataprivacy"}];break;case i.complete:g=[{key:"markcomplete",component:"tool_dataprivacy"},{key:"confirmcompletion",component:"tool_dataprivacy"}]}var h="";d.get_strings(g).then(function(a){h=a[0];var b=a[1];return e.create({title:h,body:b,type:e.types.SAVE_CANCEL})}).then(function(a){a.setSaveButtonText(h),a.getRoot().on(f.save,function(){p(b.wsfunction,b.wsparams)}),a.getRoot().on(f.hidden,function(){a.destroy()}),a.show()})["catch"](c.exception)}function p(a,d){var e={methodname:a,args:d};b.call([e])[0].done(function(a){a.result?window.location.reload():c.addNotification({message:a.warnings[0].message,type:"error"})}).fail(c.exception)}var q={APPROVE_REQUEST:'[data-action="approve"]',DENY_REQUEST:'[data-action="deny"]',VIEW_REQUEST:'[data-action="view"]',MARK_COMPLETE:'[data-action="complete"]',CHANGE_BULK_ACTION:'[id="bulk-action"]',CONFIRM_BULK_ACTION:'[id="confirm-bulk-action"]',SELECT_ALL:'[data-action="selectall"]'},r={APPROVE:1,DENY:2},s={SELECT_REQUEST:".selectrequests"},t=function(){this.registerEvents()};return t.prototype.registerEvents=function(){a(q.VIEW_REQUEST).click(function(d){d.preventDefault();var k=a(this).data("requestid"),m={requestid:k},n={methodname:"tool_dataprivacy_get_data_request",args:m},q=b.call([n]);a.when(q[0]).then(function(a){return a.result?a.result:(c.addNotification({message:a.warnings[0].message,type:"error"}),!1)}).then(function(a){var b=g.render("tool_dataprivacy/request_details",a),c={approvedeny:a.approvedeny,canmarkcomplete:a.canmarkcomplete};return e.create({title:a.typename,body:b,type:h.TYPE,large:!0,templateContext:c})}).then(function(a){a.getRoot().on(i.approve,function(){o(i.approve,j(k))}),a.getRoot().on(i.deny,function(){o(i.deny,l(k))}),a.getRoot().on(i.complete,function(){var a={requestid:k};p("tool_dataprivacy_mark_complete",a)}),a.getRoot().on(f.hidden,function(){a.destroy()}),a.show()})["catch"](c.exception)}),a(q.APPROVE_REQUEST).click(function(b){b.preventDefault();var c=a(this).data("requestid");o(i.approve,j(c))}),a(q.DENY_REQUEST).click(function(b){b.preventDefault();var c=a(this).data("requestid");o(i.deny,l(c))}),a(q.MARK_COMPLETE).click(function(b){b.preventDefault();var c=a(this).data("requestid");o(i.complete,n(c))}),a(q.CONFIRM_BULK_ACTION).click(function(){var b=[],e="",f={},g=[{key:"selectbulkaction",component:"tool_dataprivacy"},{key:"selectdatarequests",component:"tool_dataprivacy"},{key:"ok"}],h=parseInt(a("#bulk-action").val());if(h!=r.APPROVE&&h!=r.DENY)return void d.get_strings(g).done(function(a){c.alert("",a[0],a[2])}).fail(c.exception);if(a(".selectrequests:checked").each(function(){b.push(a(this).val())}),b.length<1)return void d.get_strings(g).done(function(a){c.alert("",a[1],a[2])}).fail(c.exception);switch(h){case r.APPROVE:e=i.bulkApprove,f=k(b);break;case r.DENY:e=i.bulkDeny,f=m(b)}o(e,f)}),a(q.SELECT_ALL).change(function(b){b.preventDefault();var c=a(this).is(":checked");a(s.SELECT_REQUEST).prop("checked",c)})},t});
define('tool_dataprivacy/add_category', ["jquery","core/str","core/ajax","core/notification","core/modal_factory","core/modal_events","core/fragment"],function(a,b,c,d,e,f,g){var h={CATEGORY_LINK:'[data-add-element="category"]'},i=function(a){this.contextId=a;var c=[{key:"addcategory",component:"tool_dataprivacy"},{key:"save",component:"admin"}];this.strings=b.get_strings(c),this.registerEventListeners()};return i.prototype.contextId=0,i.prototype.strings=0,i.prototype.registerEventListeners=function(){var b=a(h.CATEGORY_LINK);b.on("click",function(){return this.strings.then(function(a){e.create({type:e.types.SAVE_CANCEL,title:a[0],body:""},b).done(function(b){this.setupFormModal(b,a[1])}.bind(this))}.bind(this)).fail(d.exception)}.bind(this))},i.prototype.getBody=function(a){var b=null;return"undefined"!=typeof a&&(b={jsonformdata:JSON.stringify(a)}),g.loadFragment("tool_dataprivacy","addcategory_form",this.contextId,b)},i.prototype.setupFormModal=function(a,b){a.setLarge(),a.setSaveButtonText(b),a.getRoot().on(f.hidden,this.destroy.bind(this)),a.setBody(this.getBody()),a.getRoot().on(f.save,this.submitForm.bind(this)),a.getRoot().on("submit","form",this.submitFormAjax.bind(this)),this.modal=a,a.show()},i.prototype.submitForm=function(a){a.preventDefault(),this.modal.getRoot().find("form").submit()},i.prototype.submitFormAjax=function(a){a.preventDefault();var b=this.modal.getRoot().find("form").serialize();c.call([{methodname:"tool_dataprivacy_create_category_form",args:{jsonformdata:JSON.stringify(b)},done:function(a){a.validationerrors?this.modal.setBody(this.getBody(b)):this.close()}.bind(this),fail:d.exception}])},i.prototype.close=function(){this.destroy(),document.location.reload()},i.prototype.destroy=function(){Y.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()}),this.modal.destroy()},i.prototype.removeListeners=function(){a(h.CATEGORY_LINK).off("click")},{getInstance:function(a){return new i(a)}}});
define('tool_dataprivacy/effective_retention_period', ["jquery"],function(a){var b={PURPOSE_SELECT:"#id_purposeid",RETENTION_FIELD_BOOST:"#id_error_retention_current",RETENTION_FIELD_CLEAN:"#fitem_id_retention_current [data-fieldtype=static]"},c=function(a){this.purposeRetentionPeriods=a,this.registerEventListeners()},d=function(){a(b.PURPOSE_SELECT).off("change")};return c.prototype.purposeRetentionPeriods=[],c.prototype.registerEventListeners=function(){a(b.PURPOSE_SELECT).on("change",function(c){var d=a(c.currentTarget).val(),e=this.purposeRetentionPeriods[d],f=a(b.RETENTION_FIELD_CLEAN);if(f.length>0)f.text(e);else{var g=a(b.RETENTION_FIELD_BOOST),h=g.siblings();h.length>0&&h.text(e)}}.bind(this))},{init:function(a){return d(),new c(a)}}});
define('tool_dataprivacy/data_request_modal', ["jquery","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","tool_dataprivacy/events"],function(a,b,c,d,e,f){var g=!1,h={APPROVE_BUTTON:'[data-action="approve"]',DENY_BUTTON:'[data-action="deny"]',COMPLETE_BUTTON:'[data-action="complete"]'},i=function(a){d.call(this,a)};return i.TYPE="tool_dataprivacy-data_request",i.prototype=Object.create(d.prototype),i.prototype.constructor=i,i.prototype.registerEventListeners=function(){d.prototype.registerEventListeners.call(this),this.getModal().on(c.events.activate,h.APPROVE_BUTTON,function(b,c){var d=a.Event(f.approve);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this)),this.getModal().on(c.events.activate,h.DENY_BUTTON,function(b,c){var d=a.Event(f.deny);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this)),this.getModal().on(c.events.activate,h.COMPLETE_BUTTON,function(b,c){var d=a.Event(f.complete);this.getRoot().trigger(d,this),d.isDefaultPrevented()||(this.hide(),c.originalEvent.preventDefault())}.bind(this))},g||(e.register(i.TYPE,i,"tool_dataprivacy/data_request_modal"),g=!0),i});
define('tool_dataprivacy/data_registry', ["jquery","core/str","core/ajax","core/notification","core/templates","core/modal_factory","core/modal_events","core/fragment","tool_dataprivacy/add_purpose","tool_dataprivacy/add_category"],function(a,b,c,d,e,f,g,h,i,j){var k={TREE_NODES:"[data-context-tree-node=1]",FORM_CONTAINER:"#context-form-container"},l=function(a,b,c){this.systemContextId=a,this.currentContextLevel=b,this.currentContextId=c,this.init()};return l.prototype.systemContextId=0,l.prototype.currentContextLevel=0,l.prototype.currentContextId=0,l.prototype.addpurpose=null,l.prototype.addcategory=null,l.prototype.init=function(){this.addpurpose=i.getInstance(this.systemContextId),this.addcategory=j.getInstance(this.systemContextId);var a=[{key:"changessaved",component:"moodle"},{key:"contextpurposecategorysaved",component:"tool_dataprivacy"},{key:"noblockstoload",component:"tool_dataprivacy"},{key:"noactivitiestoload",component:"tool_dataprivacy"},{key:"nocoursestoload",component:"tool_dataprivacy"}];this.strings=b.get_strings(a),this.registerEventListeners(),this.currentContextId?this.loadForm("context_form",[this.currentContextId],this.submitContextFormAjax.bind(this)):this.loadForm("contextlevel_form",[this.currentContextLevel],this.submitContextLevelFormAjax.bind(this))},l.prototype.registerEventListeners=function(){a(k.TREE_NODES).on("click",function(b){b.preventDefault();var c=a(b.currentTarget);a(k.TREE_NODES).removeClass("active"),c.addClass("active");var d=c.data("contextlevel"),e=c.data("contextid");if(d)window.history.pushState({},null,"?contextlevel="+d),this.addpurpose.removeListeners(),this.addcategory.removeListeners(),this.currentContextLevel=d,this.loadForm("contextlevel_form",[this.currentContextLevel],this.submitContextLevelFormAjax.bind(this));else if(e)window.history.pushState({},null,"?contextid="+e),this.addpurpose.removeListeners(),this.addcategory.removeListeners(),this.currentContextId=e,this.loadForm("context_form",[this.currentContextId],this.submitContextFormAjax.bind(this));else{var f=c.data("expandcontextid"),g=c.data("expandelement"),h=c.data("expanded");g&&(h?this.collapse(c):!c.data("loaded")&&f&&g?(c.find("> i").removeClass("fa-plus"),c.find("> i").addClass("fa-circle-o-notch fa-spin"),this.loadExtra(c,f,g)):this.expand(c))}}.bind(this))},l.prototype.removeListeners=function(){a(k.TREE_NODES).off("click")},l.prototype.loadForm=function(b,c,f){this.clearForm();var g=h.loadFragment("tool_dataprivacy",b,this.systemContextId,c);g.done(function(b,c){a(k.FORM_CONTAINER).html(b),e.runTemplateJS(c),this.addpurpose.registerEventListeners(),this.addcategory.registerEventListeners(),a(k.FORM_CONTAINER).on("submit","form",f)}.bind(this)).fail(d.exception)},l.prototype.clearForm=function(){Y.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()}),a(k.FORM_CONTAINER).off("submit","form")},l.prototype.submitForm=function(b){b.preventDefault(),a(k.FORM_CONTAINER).find("form").submit()},l.prototype.submitContextLevelFormAjax=function(a){this.submitFormAjax(a,"tool_dataprivacy_set_contextlevel_form")},l.prototype.submitContextFormAjax=function(a){this.submitFormAjax(a,"tool_dataprivacy_set_context_form")},l.prototype.submitFormAjax=function(b,e){b.preventDefault();var f=a(k.FORM_CONTAINER).find("form").serialize();return this.strings.then(function(a){c.call([{methodname:e,args:{jsonformdata:JSON.stringify(f)},done:function(){d.alert(a[0],a[1])},fail:d.exception}])})["catch"](d.exception)},l.prototype.loadExtra=function(a,b,f){c.call([{methodname:"tool_dataprivacy_tree_extra_branches",args:{contextid:b,element:f},done:function(b){return 0==b.branches.length?void this.noElements(a,f):void e.render("tool_dataprivacy/context_tree_branches",b).then(function(b){a.after(b),this.removeListeners(),this.registerEventListeners(),this.expand(a),a.data("loaded",1)}.bind(this)).fail(d.exception)}.bind(this),fail:d.exception}])},l.prototype.noElements=function(a,b){a.data("expandcontextid",""),a.data("expandelement",""),this.strings.then(function(c){var d=2;"module"==b?d=3:"course"==b&&(d=4),a.text(c[d])}).fail(d.exception)},l.prototype.collapse=function(a){a.data("expanded",0),a.siblings("nav").addClass("hidden"),a.find("> i").removeClass("fa-minus"),a.find("> i").addClass("fa-plus")},l.prototype.expand=function(a){a.data("expanded",1),a.siblings("nav").removeClass("hidden"),a.find("> i").removeClass("fa-plus"),a.find("> i").removeClass("fa-circle-o-notch fa-spin"),a.find("> i").addClass("fa-minus")},{init:function(a,b,c){return new l(a,b,c)}}});
define('tool_lp/competency_plan_navigation', ["jquery"],function(a){var b=function(b,c,d,e,f){this._baseUrl=c,this._userId=d+"",this._competencyId=e+"",this._planId=f,this._ignoreFirstCompetency=!0,a(b).on("change",this._competencyChanged.bind(this))};return b.prototype._competencyChanged=function(b){if(this._ignoreFirstCompetency)return void(this._ignoreFirstCompetency=!1);var c=a(b.target).val(),d="?userid="+this._userId+"&planid="+this._planId+"&competencyid="+c;document.location=this._baseUrl+d},b.prototype._competencyId=null,b.prototype._userId=null,b.prototype._planId=null,b.prototype._baseUrl=null,b.prototype._ignoreFirstCompetency=null,b});
define('tool_lp/tree', ["jquery","core/url","core/log"],function(a,b,c){var d=a('<img alt="" src="'+b.imageUrl("t/expanded")+'"/>'),e=a('<img alt="" src="'+b.imageUrl("t/collapsed")+'"/>'),f=function(b,c){this.treeRoot=a(b),this.multiSelect="undefined"==typeof c||c===!0,this.items=this.treeRoot.find("li"),this.expandAll=this.items.length<20,this.parents=this.treeRoot.find("li:has(ul)"),c&&this.treeRoot.attr("aria-multiselectable","true"),this.items.attr("aria-selected","false"),this.visibleItems=null,this.activeItem=null,this.lastActiveItem=null,this.keys={tab:9,enter:13,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,eight:56,asterisk:106},this.init(),this.bindEventHandlers()};return f.prototype.init=function(){this.parents.attr("aria-expanded","true"),this.parents.prepend(d.clone()),this.items.attr("role","tree-item"),this.items.attr("tabindex","-1"),this.parents.attr("role","group"),this.treeRoot.attr("role","tree"),this.visibleItems=this.treeRoot.find("li");var b=this;this.expandAll||(this.parents.each(function(){b.collapseGroup(a(this))}),this.expandGroup(this.parents.first()))},f.prototype.expandGroup=function(a){var b=a.children("ul");b.show().attr("aria-hidden","false"),a.attr("aria-expanded","true"),a.children("img").attr("src",d.attr("src")),this.visibleItems=this.treeRoot.find("li:visible")},f.prototype.collapseGroup=function(a){var b=a.children("ul");b.hide().attr("aria-hidden","true"),a.attr("aria-expanded","false"),a.children("img").attr("src",e.attr("src")),this.visibleItems=this.treeRoot.find("li:visible")},f.prototype.toggleGroup=function(a){"true"==a.attr("aria-expanded")?this.collapseGroup(a):this.expandGroup(a)},f.prototype.triggerChange=function(){var a=this.items.filter("[aria-selected=true]");this.multiSelect||(a=a.first()),this.treeRoot.trigger("selectionchanged",{selected:a})},f.prototype.multiSelectItem=function(b){if(this.multiSelect){if(null!==this.lastActiveItem){for(var c=this.visibleItems.index(this.lastActiveItem),d=this.visibleItems.index(this.activeItem),e=null;c<d;)e=a(this.visibleItems.get(c)),e.attr("aria-selected","true"),c++;for(;c>d;)e=a(this.visibleItems.get(c)),e.attr("aria-selected","true"),c--}}else this.items.attr("aria-selected","false");b.attr("aria-selected","true"),this.triggerChange()},f.prototype.selectItem=function(a){for(var b=a.parent();"tree"!=b.attr("role");)b=b.parent(),"false"==b.attr("aria-expanded")&&this.expandGroup(b),b=b.parent();this.items.attr("aria-selected","false"),a.attr("aria-selected","true"),this.triggerChange()},f.prototype.toggleItem=function(a){if(!this.multiSelect)return void this.selectItem(a);var b=a.attr("aria-selected");b="true"===b?"false":"true",a.attr("aria-selected",b),this.triggerChange()},f.prototype.updateFocus=function(a){this.lastActiveItem=this.activeItem,this.activeItem=a;for(var b=a.parent();"tree"!=b.attr("role");)b=b.parent(),"false"==b.attr("aria-expanded")&&this.expandGroup(b),b=b.parent();this.items.attr("tabindex","-1"),a.attr("tabindex",0)},f.prototype.handleKeyDown=function(b,c){var d=this.visibleItems.index(b),e=null,f=c.shiftKey||c.ctrlKey||c.metaKey||c.altKey,g=this;switch(c.keyCode){case this.keys.home:return e=this.parents.first(),e.focus(),c.shiftKey?this.multiSelectItem(e):f||this.selectItem(e),c.stopPropagation(),!1;case this.keys.end:return e=this.visibleItems.last(),e.focus(),c.shiftKey?this.multiSelectItem(e):f||this.selectItem(e),c.stopPropagation(),!1;case this.keys.enter:case this.keys.space:return c.shiftKey?this.multiSelectItem(b):c.metaKey||c.ctrlKey?this.toggleItem(b):this.selectItem(b),c.stopPropagation(),!1;case this.keys.left:if(b.has("ul")&&"true"==b.attr("aria-expanded"))this.collapseGroup(b);else{var h=b.parent(),i=h.parent();i.is("li")&&(i.focus(),c.shiftKey?this.multiSelectItem(i):f||this.selectItem(i))}return c.stopPropagation(),!1;case this.keys.right:return b.has("ul")&&"false"==b.attr("aria-expanded")?this.expandGroup(b):(e=b.children("ul").children("li").first(),e.length>0&&(e.focus(),c.shiftKey?this.multiSelectItem(e):f||this.selectItem(e))),c.stopPropagation(),!1;case this.keys.up:if(d>0){var j=this.visibleItems.eq(d-1);j.focus(),c.shiftKey?this.multiSelectItem(j):f||this.selectItem(j)}return c.stopPropagation(),!1;case this.keys.down:if(d<this.visibleItems.length-1){var k=this.visibleItems.eq(d+1);k.focus(),c.shiftKey?this.multiSelectItem(k):f||this.selectItem(k)}return c.stopPropagation(),!1;case this.keys.asterisk:return this.parents.each(function(){g.expandGroup(a(this))}),c.stopPropagation(),!1;case this.keys.eight:return c.shiftKey&&(this.parents.each(function(){g.expandGroup(a(this))}),c.stopPropagation()),!1}return!0},f.prototype.handleKeyPress=function(a,b){if(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)return!0;switch(b.keyCode){case this.keys.tab:return!0;case this.keys.enter:case this.keys.home:case this.keys.end:case this.keys.left:case this.keys.right:case this.keys.up:case this.keys.down:return b.stopPropagation(),!1;default:var c=String.fromCharCode(b.which),d=!1,e=this.visibleItems.index(a),f=this.visibleItems.length,g=e+1;for(g==f&&(g=0);g!=e;){var h=this.visibleItems.eq(g),i=h.text().charAt(0);if(h.has("ul")&&(i=h.find("span").text().charAt(0)),i.toLowerCase()==c){d=!0;break}g+=1,g==f&&(g=0)}return d===!0&&this.updateFocus(this.visibleItems.eq(g)),b.stopPropagation(),!1}return!0},f.prototype.on=function(a,b){"selectionchanged"!==a?c.warning('Invalid custom event name for tree. Only "selectionchanged" is supported.'):this.treeRoot.on(a,b)},f.prototype.handleDblClick=function(a,b){return!!(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)||(this.updateFocus(a),this.toggleGroup(a),b.stopPropagation(),!1)},f.prototype.handleExpandCollapseClick=function(a,b){return this.toggleGroup(a),b.stopPropagation(),!1},f.prototype.handleClick=function(a,b){return b.shiftKey?this.multiSelectItem(a):b.metaKey||b.ctrlKey?this.toggleItem(a):this.selectItem(a),this.updateFocus(a),b.stopPropagation(),!1},f.prototype.handleBlur=function(){return!0},f.prototype.handleFocus=function(a){return this.updateFocus(a),!0},f.prototype.bindEventHandlers=function(){var b=this;this.parents.dblclick(function(c){return b.handleDblClick(a(this),c)}),this.items.click(function(c){return b.handleClick(a(this),c)}),this.items.children("img").click(function(c){return b.handleExpandCollapseClick(a(this).parent(),c)}),this.items.keydown(function(c){return b.handleKeyDown(a(this),c)}),this.items.keypress(function(c){return b.handleKeyPress(a(this),c)}),this.items.focus(function(c){return b.handleFocus(a(this),c)}),this.items.blur(function(c){return b.handleBlur(a(this),c)})},f});
define('tool_lp/parentcompetency_form', ["jquery","core/ajax","core/str","tool_lp/competencypicker","core/templates","core/notification"],function(a,b,c,d,e,f){var g=function(a,b,c,d,e){this.buttonSelector=a,this.inputHiddenSelector=b,this.staticElementSelector=c,this.frameworkId=d,this.pageContextId=e,this.registerEvents()};return g.prototype.buttonSelector=null,g.prototype.inputHiddenSelector=null,g.prototype.staticElementSelector=null,g.prototype.frameworkId=null,g.prototype.pageContextId=null,g.prototype.setParent=function(d){var e=this;0!==d.competencyId?b.call([{methodname:"core_competency_read_competency",args:{id:d.competencyId}}])[0].done(function(b){a(e.staticElementSelector).html(b.shortname),a(e.inputHiddenSelector).val(b.id)}).fail(f.exception):c.get_string("competencyframeworkroot","tool_lp").then(function(b){a(e.staticElementSelector).html(b),a(e.inputHiddenSelector).val(d.competencyId)}).fail(f.exception)},g.prototype.registerEvents=function(){var b=this;a(b.buttonSelector).on("click",function(a){a.preventDefault();var c=new d(b.pageContextId,b.frameworkId,"self",(!1));c._render=function(){var a=this;return a._preRender().then(function(){var b={competencies:a._competencies,framework:a._getFramework(a._frameworkId),frameworks:a._frameworks,search:a._searchText,singleFramework:a._singleFramework};return e.render("tool_lp/competency_picker_competencyform",b)})},c.on("save",function(a,c){b.setParent(c)}),c.display()})},{init:function(a,b,c,d,e){new g(a,b,c,d,e)}}});
define('tool_lp/competencypicker_user_plans', ["jquery","core/notification","core/ajax","core/templates","core/str","tool_lp/tree","tool_lp/competencypicker"],function(a,b,c,d,e,f,g){var h=function(a,b,c){g.prototype.constructor.apply(this,[1,!1,"self",c]),this._userId=a,this._plans=[],b&&(this._planId=b,this._singlePlan=!0)};return h.prototype=Object.create(g.prototype),h.prototype._plans=null,h.prototype._planId=null,h.prototype._singlePlan=!1,h.prototype._userId=null,h.prototype._afterRender=function(){var c=this;g.prototype._afterRender.apply(c,arguments),c._singlePlan||c._find('[data-action="chooseplan"]').change(function(d){c._planId=a(d.target).val(),c._loadCompetencies().then(c._refresh.bind(c))["catch"](b.exception)})},h.prototype._fetchCompetencies=function(a,d){var e=this;return c.call([{methodname:"core_competency_list_plan_competencies",args:{id:a}}])[0].done(function(a){var b,c,f=[];for(b=0;b<a.length;b++)c=a[b].competency,c.shortname.toLowerCase().indexOf(d.toLowerCase())<0||(c.children=[],c.haschildren=0,f.push(c));e._competencies=f}).fail(b.exception)},h.prototype._getPlan=function(b){var c;return a.each(this._plans,function(a,d){if(d.id==b)return void(c=d)}),c},h.prototype._loadCompetencies=function(){return this._fetchCompetencies(this._planId,this._searchText)},h.prototype._loadPlans=function(){var d,e=this;return e._plans.length>0?a.when():(d=e._singlePlan?c.call([{methodname:"core_competency_read_plan",args:{id:this._planId}}])[0].then(function(a){return[a]}):c.call([{methodname:"core_competency_list_user_plans",args:{userid:e._userId}}])[0],d.done(function(a){e._plans=a}).fail(b.exception))},h.prototype._preRender=function(){var b=this;return b._loadPlans().then(function(){return!b._planId&&b._plans.length>0&&(b._planId=b._plans[0].id),b._planId?b._loadCompetencies():(b._plans=[],a.when())})},h.prototype._render=function(){var b=this;return b._preRender().then(function(){b._singlePlan||a.each(b._plans,function(a,c){c.id==b._planId?c.selected=!0:c.selected=!1});var c={competencies:b._competencies,plan:b._getPlan(b._planId),plans:b._plans,search:b._searchText,singlePlan:b._singlePlan};return d.render("tool_lp/competency_picker_user_plans",c)})},h});
define('tool_lp/competencypicker', ["jquery","core/notification","core/ajax","core/templates","tool_lp/dialogue","core/str","tool_lp/tree"],function(a,b,c,d,e,f,g){var h=function(b,c,d,e){var f=this;f._eventNode=a("<div></div>"),f._frameworks=[],f._reset(),f._pageContextId=b,f._pageContextIncludes=d||"children",f._multiSelect="undefined"==typeof e||e===!0,c&&(f._frameworkId=c,f._singleFramework=!0)};return h.prototype._competencies=null,h.prototype._disallowedCompetencyIDs=null,h.prototype._eventNode=null,h.prototype._frameworks=null,h.prototype._frameworkId=null,h.prototype._pageContextId=null,h.prototype._pageContextIncludes=null,h.prototype._popup=null,h.prototype._searchText="",h.prototype._selectedCompetencies=null,h.prototype._singleFramework=!1,h.prototype._multiSelect=!0,h.prototype._onlyVisible=!0,h.prototype._afterRender=function(){var c=this,d=new g(c._find("[data-enhance=linktree]"),c._multiSelect);c._find("[data-enhance=linktree]").show(),d.on("selectionchanged",function(b,d){var e=d.selected;b.preventDefault();var f=[];a.each(e,function(b,d){var e=a(d).data("id"),g=!0;"undefined"==typeof e?g=!1:a.each(c._disallowedCompetencyIDs,function(a,b){b==e&&(g=!1)}),g&&f.push(e)}),c._selectedCompetencies=f,c._selectedCompetencies.length?c._find('[data-region="competencylinktree"] [data-action="add"]').removeAttr("disabled"):c._find('[data-region="competencylinktree"] [data-action="add"]').attr("disabled","disabled")}),c._singleFramework||c._find('[data-action="chooseframework"]').change(function(d){c._frameworkId=a(d.target).val(),c._loadCompetencies().then(c._refresh.bind(c))["catch"](b.exception)}),c._find('[data-region="filtercompetencies"] button').click(function(b){return b.preventDefault(),a(b.target).attr("disabled","disabled"),c._searchText=c._find('[data-region="filtercompetencies"] input').val()||"",c._refresh().always(function(){a(b.target).removeAttr("disabled")})}),c._find('[data-region="competencylinktree"] [data-action="cancel"]').click(function(a){a.preventDefault(),c.close()}),c._find('[data-region="competencylinktree"] [data-action="add"]').click(function(a){a.preventDefault(),c._selectedCompetencies.length&&(c._multiSelect?c._trigger("save",{competencyIds:c._selectedCompetencies}):c._trigger("save",{competencyId:c._selectedCompetencies[0]}),c.close())});var e=c._selectedCompetencies.slice(0);a.each(e,function(a,b){var e=c._find("[data-id="+b+"]");e.length&&(d.toggleItem(e),d.updateFocus(e))})},h.prototype.close=function(){var a=this;a._popup.close(),a._reset()},h.prototype.display=function(){var c=this;return a.when(f.get_string("competencypicker","tool_lp"),c._render()).then(function(a,b){c._popup=new e(a,b[0],c._afterRender.bind(c))})["catch"](b.exception)},h.prototype._fetchCompetencies=function(a,d){var e=this;return c.call([{methodname:"core_competency_search_competencies",args:{searchtext:d,competencyframeworkid:a}}])[0].done(function(a){function b(a,c){for(var d=0;d<c.length;d++)c[d].parentid==a.id&&(a.haschildren=!0,c[d].children=[],c[d].haschildren=!1,a.children[a.children.length]=c[d],b(c[d],c))}var c,d,f=[];for(c=0;c<a.length;c++)d=a[c],"0"==d.parentid&&(d.children=[],d.haschildren=0,f[f.length]=d,b(d,a));e._competencies=f}).fail(b.exception)},h.prototype._find=function(b){return a(this._popup.getContent()).find(b)},h.prototype._getFramework=function(b){var c;return a.each(this._frameworks,function(a,d){if(d.id==b)return void(c=d)}),c},h.prototype._loadCompetencies=function(){return this._fetchCompetencies(this._frameworkId,this._searchText)},h.prototype._loadFrameworks=function(){var d,e=this;return e._frameworks.length>0?a.when():(d=e._singleFramework?c.call([{methodname:"core_competency_read_competency_framework",args:{id:this._frameworkId}}])[0].then(function(a){return[a]}):c.call([{methodname:"core_competency_list_competency_frameworks",args:{sort:"shortname",context:{contextid:e._pageContextId},includes:e._pageContextIncludes,onlyvisible:e._onlyVisible}}])[0],d.done(function(a){e._frameworks=a}).fail(b.exception))},h.prototype.on=function(a,b){this._eventNode.on(a,b)},h.prototype._preRender=function(){var b=this;return b._loadFrameworks().then(function(){return!b._frameworkId&&b._frameworks.length>0&&(b._frameworkId=b._frameworks[0].id),b._frameworkId?b._loadCompetencies():(b._frameworks=[],a.when())})},h.prototype._refresh=function(){var a=this;return a._render().then(function(b){a._find('[data-region="competencylinktree"]').replaceWith(b),a._afterRender()})},h.prototype._render=function(){var b=this;return b._preRender().then(function(){b._singleFramework||a.each(b._frameworks,function(a,c){c.id==b._frameworkId?c.selected=!0:c.selected=!1});var c={competencies:b._competencies,framework:b._getFramework(b._frameworkId),frameworks:b._frameworks,search:b._searchText,singleFramework:b._singleFramework};return d.render("tool_lp/competency_picker",c)})},h.prototype._reset=function(){this._competencies=[],this._disallowedCompetencyIDs=[],this._popup=null,this._searchText="",this._selectedCompetencies=[]},h.prototype.setDisallowedCompetencyIDs=function(a){this._disallowedCompetencyIDs=a},h.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},h});
define('tool_lp/course_competency_settings', ["jquery","core/notification","tool_lp/dialogue","core/str","core/ajax","core/templates"],function(a,b,c,d,e,f){var g=function(b){a(b).on("click",this.configureSettings.bind(this))};return g.prototype._dialogue=null,g.prototype.configureSettings=function(e){var g=a(e.target).closest("a").data("courseid"),h=a(e.target).closest("a").data("pushratingstouserplans"),i={courseid:g,settings:{pushratingstouserplans:h}};e.preventDefault(),f.render("tool_lp/course_competency_settings",i).done(function(a){d.get_string("configurecoursecompetencysettings","tool_lp").done(function(b){this._dialogue=new c(b,a,this.addListeners.bind(this))}.bind(this)).fail(b.exception)}.bind(this)).fail(b.exception)},g.prototype.addListeners=function(){var a=this._find('[data-action="save"]');a.on("click",this.saveSettings.bind(this));var b=this._find('[data-action="cancel"]');b.on("click",this.cancelChanges.bind(this))},g.prototype.cancelChanges=function(a){a.preventDefault(),this._dialogue.close()},g.prototype._find=function(b){return a('[data-region="coursecompetencysettings"]').find(b)},g.prototype.saveSettings=function(a){a.preventDefault();var c=this._find('input[name="pushratingstouserplans"]:checked').val(),d=this._find('input[name="courseid"]').val(),f={pushratingstouserplans:c};e.call([{methodname:"core_competency_update_course_competency_settings",args:{courseid:d,settings:f}}])[0].done(function(){this.refreshCourseCompetenciesPage()}.bind(this)).fail(b.exception)},g.prototype.refreshCourseCompetenciesPage=function(){var c=this._find('input[name="courseid"]').val();e.call([{methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:c}}])[0].done(function(c){f.render("tool_lp/course_competencies_page",c).done(function(b,c){a('[data-region="coursecompetenciespage"]').replaceWith(b),f.runTemplateJS(c),this._dialogue.close()}.bind(this)).fail(b.exception)}.bind(this)).fail(b.exception)},g});
define('tool_lp/dragdrop-reorder', ["core/str","core/yui"],function(a,b){var c=null,d=function(a){var b=a.drag.get("node"),c=a.drop.get("node");this.callback(b.getDOMNode(),c.getDOMNode())};return{dragdrop:function(e,f,g,h,i,j,k,l){a.get_strings([{key:"emptydragdropregion",component:"moodle"},{key:"movecontent",component:"moodle"},{key:"tocontent",component:"moodle"}]).done(function(){b.use("moodle-tool_lp-dragdrop-reorder",function(){var a={callback:l};c&&c.destroy(),c=M.tool_lp.dragdrop_reorder({group:e,dragHandleText:f,sameNodeText:g,parentNodeText:h,sameNodeClass:i,parentNodeClass:j,dragHandleInsertClass:k,callback:b.bind(d,a)})})})}}});
define('tool_lp/dialogue', ["core/yui"],function(a){var b=function(b,c,d,e,f){this.yuiDialogue=null;var g=this;"undefined"==typeof f&&(f=!1),a.use("moodle-core-notification","timers",function(){var h="480px";f&&(h="800px"),g.yuiDialogue=new M.core.dialogue({headerContent:b,bodyContent:c,draggable:!0,visible:!1,center:!0,modal:!0,width:h}),g.yuiDialogue.after("visibleChange",function(b){b.newVal?"undefined"!=typeof d&&a.soon(function(){d(g),g.yuiDialogue.centerDialogue()}):"undefined"!=typeof e&&a.soon(function(){e(g)})}),g.yuiDialogue.show()})};return b.prototype.close=function(){this.yuiDialogue.hide(),this.yuiDialogue.destroy()},b.prototype.getContent=function(){return this.yuiDialogue.bodyNode.getDOMNode()},b});
define('tool_lp/competency_rule_points', ["jquery","core/str","core/templates","tool_lp/competency_rule"],function(a,b,c,d){var e=function(){d.apply(this,arguments)};return e.prototype=Object.create(d.prototype),e.prototype._container=null,e.prototype._templateLoaded=!1,e.prototype.getConfig=function(){return JSON.stringify({base:{points:this._getRequiredPoints()},competencies:this._getCompetenciesConfig()})},e.prototype._getCompetenciesConfig=function(){var b=[];return this._container.find("[data-competency]").each(function(){var c=a(this),d=c.data("competency"),e=parseInt(c.find('[name="points"]').val(),10),f=c.find('[name="required"]').prop("checked");b.push({id:d,points:e,required:f?1:0})}),b},e.prototype._getRequiredPoints=function(){return parseInt(this._container.find('[name="requiredpoints"]').val()||1,10)},e.prototype.getType=function(){return"core_competency\\competency_rule_points"},e.prototype.injectTemplate=function(b){var d,e=this,f=this._tree.getChildren(this._competency.id),g={base:{points:2},competencies:[]};if(this._templateLoaded=!1,e._competency.ruletype==e.getType())try{g=JSON.parse(e._competency.ruleconfig)}catch(h){}return d={requiredpoints:g&&g.base?g.base.points:2,competency:e._competency,children:[]},a.each(f,function(b,c){var e={id:c.id,shortname:c.shortname,required:!1,points:0};g&&a.each(g.competencies,function(a,b){b.id==e.id&&(e.required=!!b.required,e.points=b.points)}),d.children.push(e)}),c.render("tool_lp/competency_rule_points",d).then(function(a){e._container=b,b.html(a),b.find("input").change(function(){e._triggerChange()}),e._templateLoaded=!0,e._triggerChange()})},e.prototype.isValid=function(){if(!this._templateLoaded)return!1;var b=this._getRequiredPoints(),c=0,d=!0;return a.each(this._getCompetenciesConfig(),function(a,b){b.points<0&&(d=!1),c+=b.points}),d=d&&c>=b},e});
define('tool_lp/user_evidence_actions', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/menubar","tool_lp/competencypicker_user_plans"],function(a,b,c,d,e,f,g){var h=function(a){if(this._type=a,"evidence"===a)this._region='[data-region="user-evidence-page"]',this._evidenceNode='[data-region="user-evidence-page"]',this._template="tool_lp/user_evidence_page",this._contextMethod="tool_lp_data_for_user_evidence_page";else{if("list"!==a)throw new TypeError("Unexpected type.");this._region='[data-region="user-evidence-list"]',this._evidenceNode='[data-region="user-evidence-node"]',this._template="tool_lp/user_evidence_list_page",this._contextMethod="tool_lp_data_for_user_evidence_list_page"}};return h.prototype._contextMethod=null,h.prototype._evidenceNode=null,h.prototype._region=null,h.prototype._template=null,h.prototype._type=null,h.prototype._getContextArgs=function(a){var b=this,c={};return"evidence"===b._type?c={id:a.id}:"list"===b._type&&(c={userid:a.userid}),c},h.prototype._renderView=function(c){var d=this;return b.render(d._template,c).then(function(c,e){b.replaceNode(a(d._region),c,e)})},h.prototype._callAndRefresh=function(b,e){var f=this;return b.push({methodname:f._contextMethod,args:f._getContextArgs(e)}),a.when.apply(a.when,c.call(b)).then(function(){return f._renderView(arguments[arguments.length-1])}).fail(d.exception)},h.prototype._doDelete=function(a){var b=this,c=[{methodname:"core_competency_delete_user_evidence",args:{id:a.id}}];b._callAndRefresh(c,a)},h.prototype.deleteEvidence=function(a){var b,f=this;b=c.call([{methodname:"core_competency_read_user_evidence",args:{id:a.id}}]),b[0].done(function(b){e.get_strings([{key:"confirm",component:"moodle"},{key:"deleteuserevidence",component:"tool_lp",param:b.name},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(b){d.confirm(b[0],b[1],b[2],b[3],function(){f._doDelete(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._deleteEvidenceHandler=function(b){b.preventDefault();var c=this._findEvidenceData(a(b.target));this.deleteEvidence(c)},h.prototype._doCreateUserEvidenceCompetency=function(b,c){var d=this,e=[];a.each(c,function(a,c){e.push({methodname:"core_competency_create_user_evidence_competency",args:{userevidenceid:b.id,competencyid:c}})}),d._callAndRefresh(e,b)},h.prototype.createUserEvidenceCompetency=function(a){var b=this,c=new g(a.userid);c.on("save",function(c,d){var e=d.competencyIds;b._doCreateUserEvidenceCompetency(a,e,d.requestReview)}),c.display()},h.prototype._createUserEvidenceCompetencyHandler=function(b){b.preventDefault();var c=this._findEvidenceData(a(b.target));this.createUserEvidenceCompetency(c)},h.prototype._doDeleteUserEvidenceCompetency=function(a,b){var c=this,d=[];d.push({methodname:"core_competency_delete_user_evidence_competency",args:{userevidenceid:a.id,competencyid:b}}),c._callAndRefresh(d,a)},h.prototype.deleteUserEvidenceCompetency=function(a,b){this._doDeleteUserEvidenceCompetency(a,b)},h.prototype._deleteUserEvidenceCompetencyHandler=function(b){var c=this._findEvidenceData(a(b.currentTarget)),d=a(b.currentTarget).data("id");b.preventDefault(),this.deleteUserEvidenceCompetency(c,d)},h.prototype._doReviewUserEvidenceCompetencies=function(a){var b=this,c=[{methodname:"core_competency_request_review_of_user_evidence_linked_competencies",args:{id:a.id}}];b._callAndRefresh(c,a)},h.prototype.reviewUserEvidenceCompetencies=function(a){var b,f=this;b=c.call([{methodname:"core_competency_read_user_evidence",args:{id:a.id}}]),b[0].done(function(b){e.get_strings([{key:"confirm",component:"moodle"},{key:"sendallcompetenciestoreview",component:"tool_lp",param:b.name},{key:"confirm",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(b){d.confirm(b[0],b[1],b[2],b[3],function(){f._doReviewUserEvidenceCompetencies(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._reviewUserEvidenceCompetenciesHandler=function(b){b.preventDefault();var c=this._findEvidenceData(a(b.target));this.reviewUserEvidenceCompetencies(c)},h.prototype._findEvidenceData=function(b){var c,d=b.parentsUntil(a(this._region).parent(),this._evidenceNode);if(1!=d.length)throw new Error("The evidence node was not located.");if(c=d.data(),"undefined"==typeof c||"undefined"==typeof c.id)throw new Error("Evidence data could not be found.");return c},h.prototype.enhanceMenubar=function(a){var b=this;f.enhance(a,{'[data-action="user-evidence-delete"]':b._deleteEvidenceHandler.bind(b),'[data-action="link-competency"]':b._createUserEvidenceCompetencyHandler.bind(b),'[data-action="send-competencies-review"]':b._reviewUserEvidenceCompetenciesHandler.bind(b)})},h.prototype.registerEvents=function(){var b=a(this._region),c=this;b.find('[data-action="user-evidence-delete"]').click(c._deleteEvidenceHandler.bind(c)),b.find('[data-action="link-competency"]').click(c._createUserEvidenceCompetencyHandler.bind(c)),b.find('[data-action="delete-competency-link"]').click(c._deleteUserEvidenceCompetencyHandler.bind(c)),b.find('[data-action="send-competencies-review"]').click(c._reviewUserEvidenceCompetenciesHandler.bind(c))},h});
define('tool_lp/competencydialogue', ["jquery","core/notification","core/ajax","core/templates","core/str","tool_lp/dialogue"],function(a,b,c,d,e,f){var g,h=function(){};return h.prototype.triggerCompetencyViewedEvent=function(a){c.call([{methodname:"core_competency_competency_viewed",args:{id:a}}])},h.prototype.showDialogue=function(a,c){var e=this.getCompetencyDataPromise(a,c),g=this;e.done(function(c){d.render("tool_lp/competency_summary",c).done(function(b){g.triggerCompetencyViewedEvent(a),new f(c.competency.shortname,b)}).fail(b.exception)}).fail(b.exception)},h.prototype.showDialogueFromData=function(a){var c=this;d.render("tool_lp/competency_summary",a).done(function(b){c.triggerCompetencyViewedEvent(a.id),new f(a.shortname,b,c.enhanceDialogue)}).fail(b.exception)},h.prototype.clickEventHandler=function(b){var c=b.data.compdialogue,d=a(b.currentTarget),e=d.data("id"),f=!d.data("excluderelated"),g=d.data("includecourses");c.showDialogue(e,{includerelated:f,includecourses:g}),b.preventDefault()},h.prototype.getCompetencyDataPromise=function(a,d){var e=c.call([{methodname:"tool_lp_data_for_competency_summary",args:{competencyid:a,includerelated:d.includerelated||!1,includecourses:d.includecourses||!1}}]);return e[0].then(function(a){return a}).fail(b.exception)},{init:function(){"undefined"==typeof g&&(g=new h,a("body").delegate('[data-action="competency-dialogue"]',"click",{compdialogue:g},g.clickEventHandler.bind(g)))}}});
define('tool_lp/competency_outcomes', ["jquery","core/str"],function(a,b){var c=0,d=1,e=2,f=3;return{NONE:c,EVIDENCE:d,COMPLETE:e,RECOMMEND:f,getAll:function(){var a=this;return b.get_strings([{key:"competencyoutcome_none",component:"tool_lp"},{key:"competencyoutcome_evidence",component:"tool_lp"},{key:"competencyoutcome_recommend",component:"tool_lp"},{key:"competencyoutcome_complete",component:"tool_lp"}]).then(function(b){var c={};return c[a.NONE]={code:a.NONE,name:b[0]},c[a.EVIDENCE]={code:a.EVIDENCE,name:b[1]},c[a.RECOMMEND]={code:a.RECOMMEND,name:b[2]},c[a.COMPLETE]={code:a.COMPLETE,name:b[3]},c})},getString:function(b){var c=this,d=c.getAll();return d.then(function(c){return"undefined"==typeof c[b]?a.Deferred().reject().promise():c[b].name})}}});
define('tool_lp/scalevalues', ["jquery","core/ajax"],function(a,b){var c=[];return{get_values:function(d){var e=a.Deferred();return"undefined"==typeof c[d]?b.call([{methodname:"core_competency_get_scale_values",args:{scaleid:d},done:function(a){c[d]=a,e.resolve(a)},fail:e.reject}]):e.resolve(c[d]),e.promise()}}});
define('tool_lp/competencytree', ["core/ajax","core/notification","core/templates","tool_lp/tree","tool_lp/competency_outcomes","jquery"],function(a,b,c,d,e,f){var g={},h=0,i="",j="",k="",l=!1,m=function(a,b){var c=0,d=!1;for(a.haschildren=!1,a.children=[],c=0;c<b.length;c++)d=b[c],d.parentid==a.id&&(a.haschildren=!0,a.children.push(d),m(d,b))},n=function(b){var e=f.Deferred();return c.render("tool_lp/loading",{}).done(function(n,o){c.replaceNodeContents(f(j),n,o);var p=a.call([{methodname:"core_competency_search_competencies",args:{searchtext:b,competencyframeworkid:h}}]);p[0].done(function(a){g={};var b=0;for(b=0;b<a.length;b++)g[a[b].id]=a[b];var h=[],n=!1;for(b=0;b<a.length;b++)n=a[b],0===parseInt(n.parentid,10)&&(h.push(n),m(n,a));var o={shortname:i,canmanage:l,competencies:h};c.render("tool_lp/competencies_tree_root",o).done(function(a,b){c.replaceNodeContents(f(j),f(a).html(),b);var h=new d(j,(!1));if(k){var i=f(j).find("[data-id="+k+"]");i.length&&(h.selectItem(i),h.updateFocus(i))}e.resolve(g)}).fail(e.reject)}).fail(e.reject)}),e.promise()},o=function(a,b){var c=b.selected;k=c.attr("data-id")};return{init:function(a,c,d,e,f){h=a,i=c,l=f,j=e,n(d).fail(b.exception),this.on("selectionchanged",o)},on:function(a,b){f(j).on(a,b)},getChildren:function(a){var b=[];return f.each(g,function(c,d){d.parentid==a&&b.push(d)}),b},getCompetencyFrameworkId:function(){return h},getCompetency:function(a){return g[a]},getCompetencyLevel:function(a){var b=this.getCompetency(a),c=b.path.replace(/^\/|\/$/g,"").split("/").length;return c},hasChildren:function(a){return this.getChildren(a).length>0},hasRule:function(a){var b=this.getCompetency(a);return!!b&&(b.ruleoutcome!=e.OUTCOME_NONE&&b.ruletype)},reloadCompetencies:function(){return n("").fail(b.exception)},listCompetencies:function(){return g}}});
define('tool_lp/user_competency_course_navigation', ["jquery"],function(a){var b=function(b,c,d,e,f,g){this._baseUrl=d,this._userId=e+"",this._competencyId=f+"",this._courseId=g,a(b).on("change",this._userChanged.bind(this)),a(c).on("change",this._competencyChanged.bind(this))};return b.prototype._userChanged=function(b){var c=a(b.target).val(),d="?userid="+c+"&courseid="+this._courseId+"&competencyid="+this._competencyId;document.location=this._baseUrl+d},b.prototype._competencyChanged=function(b){var c=a(b.target).val(),d="?userid="+this._userId+"&courseid="+this._courseId+"&competencyid="+c;document.location=this._baseUrl+d},b.prototype._competencyId=null,b.prototype._userId=null,b.prototype._courseId=null,b.prototype._baseUrl=null,b.prototype._ignoreFirstCompetency=null,b});
define('tool_lp/frameworks_datasource', ["jquery","core/ajax","core/notification"],function(a,b,c){return{list:function(c,d){var e={context:{contextid:c}};return a.extend(e,"undefined"==typeof d?{}:d),b.call([{methodname:"core_competency_list_competency_frameworks",args:e}])[0]},processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b.shortname+" "+b.idnumber})}),d},transport:function(b,d,e){var f=a(b),g=f.data("contextid"),h=f.data("onlyvisible");if(!g)throw new Error("The attribute data-contextid is required on "+b);this.list(g,{query:d,onlyvisible:h}).then(e)["catch"](c.exception)}}});
define('tool_lp/grade_dialogue', ["jquery","core/notification","core/templates","tool_lp/dialogue","tool_lp/event_base","core/str"],function(a,b,c,d,e,f){var g=function(a){e.prototype.constructor.apply(this,[]),this._ratingOptions=a};return g.prototype=Object.create(e.prototype),g.prototype._popup=null,g.prototype._ratingOptions=null,g.prototype._afterRender=function(){var b=this._find('[data-action="rate"]'),c=this._find('[name="rating"]'),d=this._find('[name="comment"]');this._find('[data-action="cancel"]').click(function(a){a.preventDefault(),this._trigger("cancelled"),this.close()}.bind(this)),c.change(function(){var c=a(this);c.val()?b.prop("disabled",!1):b.prop("disabled",!0)}).change(),b.click(function(a){a.preventDefault();var b=c.val();b&&(this._trigger("rated",{rating:b,note:d.val()}),this.close())}.bind(this))},g.prototype.close=function(){this._popup.close(),this._popup=null},g.prototype.display=function(){return this._render().then(function(a){return f.get_string("rate","tool_lp").then(function(b){this._popup=new d(b,a,this._afterRender.bind(this))}.bind(this))}.bind(this)).fail(b.exception)},g.prototype._find=function(b){return a(this._popup.getContent()).find(b)},g.prototype._render=function(){var a={cangrade:this._canGrade,ratings:this._ratingOptions};return c.render("tool_lp/competency_grader",a)},g});
define('tool_lp/form-user-selector', ["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b._label})}),d},transport:function(d,e,f,g){var h,i=a(d).data("capability");"undefined"==typeof i&&(i=""),h=b.call([{methodname:"tool_lp_search_users",args:{query:e,capability:i}}]),h[0].then(function(b){var d=[],e=0;return a.each(b.users,function(b,e){var f=e,g=[];a.each(["idnumber","email","phone1","phone2","department","institution"],function(a,b){"undefined"!=typeof e[b]&&""!==e[b]&&(f.hasidentity=!0,g.push(e[b]))}),f.identity=g.join(", "),d.push(c.render("tool_lp/form-user-selector-suggestion",f))}),a.when.apply(a.when,d).then(function(){var c=arguments;a.each(b.users,function(a,b){b._label=c[e],e++}),f(b.users)})})["catch"](g)}}});
define('tool_lp/user_competency_plan_popup', ["jquery","core/notification","core/str","core/ajax","core/templates","tool_lp/dialogue"],function(a,b,c,d,e,f){var g=function(b,c,d){this._regionSelector=b,this._userCompetencySelector=c,this._planId=d,a(this._regionSelector).on("click",this._userCompetencySelector,this._handleClick.bind(this))};return g.prototype._handleClick=function(c){c.preventDefault();var e=a(c.target).closest("tr"),f=a(e).data("competencyid"),g=a(e).data("userid"),h=this._planId,i=d.call([{methodname:"tool_lp_data_for_user_competency_summary_in_plan",args:{competencyid:f,planid:h},done:this._contextLoaded.bind(this),fail:b.exception}]);i[0].then(function(a){var b="core_competency_user_competency_viewed_in_plan";return a.plan.iscompleted&&(b="core_competency_user_competency_plan_viewed"),d.call([{methodname:b,args:{competencyid:f,userid:g,planid:h}}])[0]})["catch"](b.exception)},g.prototype._contextLoaded=function(a){var d=this;e.render("tool_lp/user_competency_summary_in_plan",a).done(function(a,g){c.get_string("usercompetencysummary","report_competency").done(function(b){new f(b,a,e.runTemplateJS.bind(e,g),d._refresh.bind(d),(!0))}).fail(b.exception)}).fail(b.exception)},g.prototype._refresh=function(){var a=this._planId;d.call([{methodname:"tool_lp_data_for_plan_page",args:{planid:a},done:this._pageContextLoaded.bind(this),fail:b.exception}])},g.prototype._pageContextLoaded=function(a){var c=this;e.render("tool_lp/plan_page",a).done(function(a,b){e.replaceNode(c._regionSelector,a,b)}).fail(b.exception)},g.prototype._regionSelector=null,g.prototype._userCompetencySelector=null,g.prototype._planId=null,g});
define('tool_lp/actionselector', ["jquery","core/notification","core/ajax","core/templates","tool_lp/dialogue","tool_lp/event_base"],function(a,b,c,d,e,f){var g=function(a,b,c,d,e){var g=this;f.prototype.constructor.apply(this,[]),g._title=a,g._message=b,g._actions=c,g._confirm=d,g._cancel=e,g._selectedValue=null,g._reset()};return g.prototype=Object.create(f.prototype),g.prototype._selectedValue=null,g.prototype._popup=null,g.prototype._title=null,g.prototype._message=null,g.prototype._actions=null,g.prototype._confirm=null,g.prototype._cancel=null,g.prototype._afterRender=function(){var b=this;b._find('[data-action="action-selector-confirm"]').attr("disabled","disabled"),b._find('[data-region="action-selector-radio-buttons"]').change(function(){b._selectedValue=a("input[type='radio']:checked").val(),b._find('[data-action="action-selector-confirm"]').removeAttr("disabled"),b._refresh.bind(b)}),b._find('[data-action="action-selector-cancel"]').click(function(a){a.preventDefault(),b.close()}),b._find('[data-action="action-selector-confirm"]').click(function(a){a.preventDefault(),b._selectedValue.length&&(b._trigger("save",{action:b._selectedValue}),b.close())})},g.prototype.close=function(){var a=this;a._popup.close(),a._reset()},g.prototype.display=function(){var a=this;return a._render().then(function(b){a._popup=new e(a._title,b,a._afterRender.bind(a))}).fail(b.exception)},g.prototype._find=function(b){return a(this._popup.getContent()).find(b)},g.prototype._refresh=function(){var a=this;return a._render().then(function(b){a._find('[data-region="action-selector"]').replaceWith(b),a._afterRender()})},g.prototype._render=function(){var a=this,b=[];for(var c in a._actions)b.push(a._actions[c]);var e={message:a._message,choices:b,confirm:a._confirm,cancel:a._cancel};return d.render("tool_lp/action_selector",e)},g.prototype._reset=function(){this._popup=null,this._selectedValue=""},g});
define('tool_lp/user_competency_info', ["jquery","core/notification","core/ajax","core/templates"],function(a,b,c,d){var e=function(a,b,c,d,e,f){this._rootElement=a,this._competencyId=b,this._userId=c,this._planId=d,this._courseId=e,this._valid=!0,this._displayuser="undefined"!=typeof f&&f,this._planId?(this._methodName="tool_lp_data_for_user_competency_summary_in_plan",this._args={competencyid:this._competencyId,planid:this._planId},this._templateName="tool_lp/user_competency_summary_in_plan"):this._courseId?(this._methodName="tool_lp_data_for_user_competency_summary_in_course",this._args={userid:this._userId,competencyid:this._competencyId,courseid:this._courseId},this._templateName="tool_lp/user_competency_summary_in_course"):(this._methodName="tool_lp_data_for_user_competency_summary",this._args={userid:this._userId,competencyid:this._competencyId},this._templateName="tool_lp/user_competency_summary")};return e.prototype.reload=function(){var a=this,e=[];this._valid&&(e=c.call([{methodname:this._methodName,args:this._args}]),e[0].done(function(c){a._displayuser&&(c.displayuser=!0),d.render(a._templateName,c).done(function(b,c){d.replaceNode(a._rootElement,b,c)}).fail(b.exception)}).fail(b.exception))},e.prototype._rootElement=null,e.prototype._courseId=null,e.prototype._valid=null,e.prototype._planId=null,e.prototype._competencyId=null,e.prototype._userId=null,e.prototype._methodName=null,e.prototype._args=null,e.prototype._templateName=null,e.prototype._displayuser=!1,e});
define('tool_lp/scaleconfig', ["jquery","core/notification","core/templates","core/ajax","tool_lp/dialogue","tool_lp/scalevalues"],function(a,b,c,d,e,f){var g=function(b,c,d){this.selectSelector=b,this.inputSelector=c,this.triggerSelector=d,this.originalscaleid=a(b).val(),a(b).on("change",this.scaleChangeHandler.bind(this)).change(),a(d).click(this.showConfig.bind(this))};return g.prototype.selectSelector=null,g.prototype.inputSelector=null,g.prototype.triggerSelector=null,g.prototype.scalevalues=null,g.prototype.originalscaleid=0,g.prototype.scaleid=0,g.prototype.popup=null,g.prototype.showConfig=function(){var d=this;if(this.scaleid=a(this.selectSelector).val(),!(this.scaleid<=0)){var f=a(this.selectSelector).find("option:selected").text();this.getScaleValues(this.scaleid).done(function(){var a={scalename:f,scales:d.scalevalues};c.render("tool_lp/scale_configuration_page",a).done(function(a){new e(f,a,d.initScaleConfig.bind(d))}).fail(b.exception)}).fail(b.exception)}},g.prototype.retrieveOriginalScaleConfig=function(){var b=a(this.inputSelector).val();if(""!==b){var c=a.parseJSON(b),d=c.shift();if(d.scaleid===this.originalscaleid)return c}return""},g.prototype.initScaleConfig=function(b){this.popup=b;var c=a(b.getContent());if(this.originalscaleid===this.scaleid){var d=this.retrieveOriginalScaleConfig();""!==d&&d.forEach(function(a){1===a.scaledefault&&c.find('[data-field="tool_lp_scale_default_'+a.id+'"]').attr("checked",!0),1===a.proficient&&c.find('[data-field="tool_lp_scale_proficient_'+a.id+'"]').attr("checked",!0)})}c.on("click",'[data-action="close"]',function(){this.setScaleConfig(),b.close()}.bind(this)),c.on("click",'[data-action="cancel"]',function(){b.close()})},g.prototype.setScaleConfig=function(){var b=a(this.popup.getContent()),c=[{scaleid:this.scaleid}];this.scalevalues.forEach(function(a){var d=0,e=0;b.find('[data-field="tool_lp_scale_default_'+a.id+'"]').is(":checked")&&(d=1),b.find('[data-field="tool_lp_scale_proficient_'+a.id+'"]').is(":checked")&&(e=1),(d||e)&&c.push({id:a.id,scaledefault:d,proficient:e})});var d=JSON.stringify(c);a(this.inputSelector).val(d),this.originalscaleid=this.scaleid},g.prototype.getScaleValues=function(a){return f.get_values(a).then(function(a){return this.scalevalues=a,a}.bind(this))},g.prototype.scaleChangeHandler=function(b){a(b.target).val()<=0?a(this.triggerSelector).prop("disabled",!0):a(this.triggerSelector).prop("disabled",!1)},{init:function(a,b,c){return new g(a,b,c)}}});
define('tool_lp/planactions', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/menubar","tool_lp/dialogue"],function(a,b,c,d,e,f,g){var h=function(a){if(this._type=a,"plan"===a)this._region='[data-region="plan-page"]',this._planNode='[data-region="plan-page"]',this._template="tool_lp/plan_page",this._contextMethod="tool_lp_data_for_plan_page";else{if("plans"!==a)throw new TypeError("Unexpected type.");this._region='[data-region="plans"]',this._planNode='[data-region="plan-node"]',this._template="tool_lp/plans_page",this._contextMethod="tool_lp_data_for_plans_page"}};return h.prototype._contextMethod=null,h.prototype._planNode=null,h.prototype._region=null,h.prototype._template=null,h.prototype._type=null,h.prototype._getContextArgs=function(a){var b=this,c={};return"plan"===b._type?c={planid:a.id}:"plans"===b._type&&(c={userid:a.userid}),c},h.prototype.refresh=function(b){var c=this._findPlanData(a(b));this._callAndRefresh([],c)},h.prototype._renderView=function(c){var d=this;return b.render(d._template,c).then(function(c,e){a(d._region).replaceWith(c),b.runTemplateJS(e)})},h.prototype._callAndRefresh=function(b,e){var f="tool_lp/planactions:_callAndRefresh-"+Math.floor(Math.random()*Math.floor(1e3));M.util.js_pending(f);var g=this;return b.push({methodname:g._contextMethod,args:g._getContextArgs(e)}),a.when.apply(a,c.call(b)).then(function(){return g._renderView(arguments[arguments.length-1])}).fail(d.exception).always(function(){return M.util.js_complete(f)})},h.prototype._doDelete=function(a){var b=this,c=[{methodname:"core_competency_delete_plan",args:{id:a.id}}];b._callAndRefresh(c,a)},h.prototype.deletePlan=function(a){var b,f=this;b=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]),b[0].done(function(b){e.get_strings([{key:"confirm",component:"moodle"},{key:"deleteplan",component:"tool_lp",param:b.name},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(b){d.confirm(b[0],b[1],b[2],b[3],function(){f._doDelete(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doReopenPlan=function(a){var b=this,c=[{methodname:"core_competency_reopen_plan",args:{planid:a.id}}];b._callAndRefresh(c,a)},h.prototype.reopenPlan=function(a){var b=this,f=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]);f[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:"reopenplanconfirm",component:"tool_lp",param:c.name},{key:"reopenplan",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){b._doReopenPlan(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doCompletePlan=function(a){var b=this,c=[{methodname:"core_competency_complete_plan",args:{planid:a.id}}];b._callAndRefresh(c,a)},h.prototype.completePlan=function(a){var b=this,f=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]);f[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:"completeplanconfirm",component:"tool_lp",param:c.name},{key:"completeplan",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){b._doCompletePlan(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doUnlinkPlan=function(a){var b=this,c=[{methodname:"core_competency_unlink_plan_from_template",args:{planid:a.id}}];b._callAndRefresh(c,a)},h.prototype.unlinkPlan=function(a){var b=this,f=c.call([{methodname:"core_competency_read_plan",args:{id:a.id}}]);f[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:"unlinkplantemplateconfirm",component:"tool_lp",param:c.name},{key:"unlinkplantemplate",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(c){d.confirm(c[0],c[1],c[2],c[3],function(){b._doUnlinkPlan(a)})}).fail(d.exception)}).fail(d.exception)},h.prototype._doRequestReview=function(a){var b=[{methodname:"core_competency_plan_request_review",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.requestReview=function(a){this._doRequestReview(a)},h.prototype._doCancelReviewRequest=function(a){var b=[{methodname:"core_competency_plan_cancel_review_request",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.cancelReviewRequest=function(a){this._doCancelReviewRequest(a)},h.prototype._doStartReview=function(a){var b=[{methodname:"core_competency_plan_start_review",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.startReview=function(a){this._doStartReview(a)},h.prototype._doStopReview=function(a){var b=[{methodname:"core_competency_plan_stop_review",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.stopReview=function(a){this._doStopReview(a)},h.prototype._doApprove=function(a){var b=[{methodname:"core_competency_approve_plan",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.approve=function(a){this._doApprove(a)},h.prototype._doUnapprove=function(a){var b=[{methodname:"core_competency_unapprove_plan",args:{id:a.id}}];this._callAndRefresh(b,a)},h.prototype.unapprove=function(a){this._doUnapprove(a)},h.prototype._showLinkedCoursesHandler=function(f){f.preventDefault();var h=a(f.target).data("id"),i=c.call([{methodname:"tool_lp_list_courses_using_competency",args:{id:h}}]);i[0].done(function(a){var c={courses:a};b.render("tool_lp/linked_courses_summary",c).done(function(a){e.get_string("linkedcourses","tool_lp").done(function(b){new g(b,a)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)},h.prototype._eventHandler=function(b,c){c.preventDefault();var d=this._findPlanData(a(c.target));this[b](d)},h.prototype._findPlanData=function(b){var c,d=b.parentsUntil(a(this._region).parent(),this._planNode);if(1!=d.length)throw new Error("The plan node was not located.");if(c=d.data(),"undefined"==typeof c||"undefined"==typeof c.id)throw new Error("Plan data could not be found.");return c},h.prototype.enhanceMenubar=function(a){f.enhance(a,{'[data-action="plan-delete"]':this._eventHandler.bind(this,"deletePlan"),'[data-action="plan-complete"]':this._eventHandler.bind(this,"completePlan"),'[data-action="plan-reopen"]':this._eventHandler.bind(this,"reopenPlan"),'[data-action="plan-unlink"]':this._eventHandler.bind(this,"unlinkPlan"),'[data-action="plan-request-review"]':this._eventHandler.bind(this,"requestReview"),'[data-action="plan-cancel-review-request"]':this._eventHandler.bind(this,"cancelReviewRequest"),'[data-action="plan-start-review"]':this._eventHandler.bind(this,"startReview"),'[data-action="plan-stop-review"]':this._eventHandler.bind(this,"stopReview"),'[data-action="plan-approve"]':this._eventHandler.bind(this,"approve"),'[data-action="plan-unapprove"]':this._eventHandler.bind(this,"unapprove")})},h.prototype.registerEvents=function(){var b=a(this._region);b.find('[data-action="plan-delete"]').click(this._eventHandler.bind(this,"deletePlan")),b.find('[data-action="plan-complete"]').click(this._eventHandler.bind(this,"completePlan")),b.find('[data-action="plan-reopen"]').click(this._eventHandler.bind(this,"reopenPlan")),b.find('[data-action="plan-unlink"]').click(this._eventHandler.bind(this,"unlinkPlan")),b.find('[data-action="plan-request-review"]').click(this._eventHandler.bind(this,"requestReview")),b.find('[data-action="plan-cancel-review-request"]').click(this._eventHandler.bind(this,"cancelReviewRequest")),b.find('[data-action="plan-start-review"]').click(this._eventHandler.bind(this,"startReview")),b.find('[data-action="plan-stop-review"]').click(this._eventHandler.bind(this,"stopReview")),b.find('[data-action="plan-approve"]').click(this._eventHandler.bind(this,"approve")),b.find('[data-action="plan-unapprove"]').click(this._eventHandler.bind(this,"unapprove")),b.find('[data-action="find-courses-link"]').click(this._showLinkedCoursesHandler.bind(this))},h});
define('tool_lp/templateactions', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/actionselector"],function(a,b,c,d,e,f){var g=0,h=0,i=!0,j=function(c,d){a('[data-region="managetemplates"]').replaceWith(c),b.runTemplateJS(d)},k=function(a){b.render("tool_lp/manage_templates_page",a).done(j).fail(d.exception)},l=function(){var a=c.call([{methodname:"core_competency_delete_template",args:{id:h,deleteplans:i}},{methodname:"tool_lp_data_for_templates_manage_page",args:{pagecontext:{contextid:g}}}]);a[1].done(k).fail(d.exception)},m=function(b){b.preventDefault(),h=a(this).attr("data-templateid");var e=c.call([{methodname:"core_competency_duplicate_template",args:{id:h}},{methodname:"tool_lp_data_for_templates_manage_page",args:{pagecontext:{contextid:g}}}]);e[1].done(k).fail(d.exception)},n=function(b){b.preventDefault();var g=a(this).attr("data-templateid");h=g,i=!0;var j=c.call([{methodname:"core_competency_read_template",args:{id:h}},{methodname:"core_competency_template_has_related_data",args:{id:h}}]);j[0].done(function(a){j[1].done(function(b){b?e.get_strings([{key:"deletetemplate",component:"tool_lp",param:a.shortname},{key:"deletetemplatewithplans",component:"tool_lp"},{key:"deleteplans",component:"tool_lp"},{key:"unlinkplanstemplate",component:"tool_lp"},{key:"confirm",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){var b=[{text:a[2],value:"delete"},{text:a[3],value:"unlink"}],c=new f(a[0],a[1],b,a[4],a[5]);c.display(),c.on("save",function(a,b){"delete"!=b.action&&(i=!1),l()})}).fail(d.exception):e.get_strings([{key:"confirm",component:"moodle"},{key:"deletetemplate",component:"tool_lp",param:a.shortname},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],l)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)};return{deleteHandler:n,duplicateHandler:m,init:function(a){g=a}}});
define('tool_lp/competencyruleconfig', ["jquery","core/notification","core/templates","tool_lp/dialogue","tool_lp/competency_outcomes","core/str"],function(a,b,c,d,e,f){var g=function(b,c){this._eventNode=a("<div></div>"),this._tree=b,this._rulesModules=c,this._setUp()};return g.prototype._competency=null,g.prototype._eventNode=null,g.prototype._outcomesOption=null,g.prototype._popup=null,g.prototype._ready=null,g.prototype._rules=null,g.prototype._rulesModules=null,g.prototype._tree=null,g.prototype._afterChange=function(){this._isValid()?this._find('[data-action="save"]').prop("disabled",!1):this._find('[data-action="save"]').prop("disabled",!0)},g.prototype._afterRuleConfigChange=function(a,b){b==this._getRule()&&this._afterChange()},g.prototype._afterRender=function(){var a=this;a._find('[name="outcome"]').on("change",function(){a._switchedOutcome()}).trigger("change"),a._find('[name="rule"]').on("change",function(){a._switchedRule()}).trigger("change"),a._find('[data-action="save"]').on("click",function(){a._trigger("save",a._getConfig()),a.close()}),a._find('[data-action="cancel"]').on("click",function(){a.close()})},g.prototype.canBeConfigured=function(){var b=!1;return a.each(this._rules,function(a,c){if(c.canConfig())return void(b=!0)}),b},g.prototype.close=function(){this._popup.close(),this._popup=null},g.prototype.display=function(){var c=this;return!!c._competency&&a.when(f.get_string("competencyrule","tool_lp"),c._render()).then(function(a,b){c._popup=new d(a,b[0],c._afterRender.bind(c))}).fail(b.exception)},g.prototype._find=function(b){return a(this._popup.getContent()).find(b)},g.prototype._getApplicableOutcomesOptions=function(){var b=this,c=[];return a.each(b._outcomesOption,function(a,d){c.push({code:d.code,name:d.name,selected:d.code==b._competency.ruleoutcome})}),c},g.prototype._getApplicableRulesOptions=function(){var b=this,c=[];return a.each(b._rules,function(a,d){d.canConfig()&&c.push({name:b._getRuleName(d.getType()),type:d.getType(),selected:d.getType()==b._competency.ruletype})}),c},g.prototype._getConfig=function(){var a=this._getRule();return{ruletype:a?a.getType():null,ruleconfig:a?a.getConfig():null,ruleoutcome:this._getOutcome()}},g.prototype._getOutcome=function(){return this._find('[name="outcome"]').val()},g.prototype._getRule=function(){var b,c=this._find('[name="rule"]').val();return a.each(this._rules,function(a,d){if(d.getType()==c)return void(b=d)}),b},g.prototype._getRuleName=function(b){var c,d=this;return a.each(d._rulesModules,function(a,d){if(d.type==b)return void(c=d.name)}),c},g.prototype._initOutcomes=function(){var a=this;return e.getAll().then(function(b){a._outcomesOption=b})},g.prototype._initRules=function(){var b=this,c=[];return a.each(b._rules,function(d,e){var f=e.init().then(function(){e.setTargetCompetency(b._competency),e.on("change",b._afterRuleConfigChange.bind(b))},function(){return b._rules.splice(d,1),a.when()});c.push(f)}),a.when.apply(a.when,c)},g.prototype._isValid=function(){var a=this._getOutcome(),b=this._getRule();return a==e.NONE||!!b&&b.isValid()},g.prototype.on=function(a,b){this._eventNode.on(a,b)},g.prototype._preRender=function(){return this.ready()},g.prototype.ready=function(){return this._ready.promise()},g.prototype._render=function(){var a=this;return this._preRender().then(function(){var b;a.canBeConfigured()?(b={},b.outcomes=a._getApplicableOutcomesOptions(),b.rules=a._getApplicableRulesOptions()):b=!1;var d={competencyshortname:a._competency.shortname,config:b};return c.render("tool_lp/competency_rule_config",d)})},g.prototype.setTargetCompetencyId=function(b){var c=this;c._competency=c._tree.getCompetency(b),a.each(c._rules,function(a,b){b.setTargetCompetency(c._competency)})},g.prototype._setUp=function(){var b=this,c=[],d=[];b._ready=a.Deferred(),b._rules=[],a.each(b._rulesModules,function(a,b){d.push(b.amd)}),require(d,function(){a.each(arguments,function(a,c){var d=new c(b._tree);b._rules.push(d)}),c.push(b._initRules()),c.push(b._initOutcomes()),a.when.apply(a.when,c).always(function(){b._ready.resolve()})})},g.prototype._switchedOutcome=function(){var a=this,b=a._getOutcome();return b==e.NONE?(a._find('[data-region="rule-type"]').hide().find('[name="rule"]').val(-1),a._find('[data-region="rule-config"]').empty().hide(),void a._afterChange()):(a._find('[data-region="rule-type"]').show(),a._find('[data-region="rule-config"]').show(),void a._afterChange())},g.prototype._switchedRule=function(){var a=this,b=a._find('[data-region="rule-config"]'),c=a._getRule();return c?void c.injectTemplate(b).then(function(){b.show()}).always(function(){a._afterChange()})["catch"](function(){b.empty().hide()}):(b.empty().hide(),void a._afterChange())},g.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},g});
define('tool_lp/user_competency_workflow', ["jquery","core/templates","core/ajax","core/notification","core/str","tool_lp/menubar","tool_lp/event_base"],function(a,b,c,d,e,f,g){var h=function(){g.prototype.constructor.apply(this,[])};return h.prototype=Object.create(g.prototype),h.prototype._nodeSelector='[data-node="user-competency"]',h.prototype._cancelReviewRequest=function(a){var b={methodname:"core_competency_user_competency_cancel_review_request",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-request-cancelled",a),this._trigger("status-changed",a)}.bind(this))["catch"](function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.cancelReviewRequest=function(a){this._cancelReviewRequest(a)},h.prototype._cancelReviewRequestHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.cancelReviewRequest(c)},h.prototype._requestReview=function(a){var b={methodname:"core_competency_user_competency_request_review",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-requested",a),this._trigger("status-changed",a)}.bind(this))["catch"](function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.requestReview=function(a){this._requestReview(a)},h.prototype._requestReviewHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.requestReview(c)},h.prototype._startReview=function(a){var b={methodname:"core_competency_user_competency_start_review",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-started",a),this._trigger("status-changed",a)}.bind(this))["catch"](function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.startReview=function(a){this._startReview(a)},h.prototype._startReviewHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.startReview(c)},h.prototype._stopReview=function(a){var b={methodname:"core_competency_user_competency_stop_review",args:{userid:a.userid,competencyid:a.competencyid}};c.call([b])[0].then(function(){this._trigger("review-stopped",a),this._trigger("status-changed",a)}.bind(this))["catch"](function(){this._trigger("error-occured",a)}.bind(this))},h.prototype.stopReview=function(a){this._stopReview(a)},h.prototype._stopReviewHandler=function(b){b.preventDefault();var c=this._findUserCompetencyData(a(b.target));this.stopReview(c)},h.prototype.enhanceMenubar=function(a){f.enhance(a,{'[data-action="request-review"]':this._requestReviewHandler.bind(this),'[data-action="cancel-review-request"]':this._cancelReviewRequestHandler.bind(this)})},h.prototype._findUserCompetencyData=function(a){var b,c=a.parents(this._nodeSelector);if(1!=c.length)throw new Error("The evidence node was not located.");if(b=c.data(),"undefined"==typeof b||"undefined"==typeof b.userid||"undefined"==typeof b.competencyid)throw new Error("User competency data could not be found.");return b},h.prototype.enhanceMenubar=function(a){f.enhance(a,{'[data-action="request-review"]':this._requestReviewHandler.bind(this),'[data-action="cancel-review-request"]':this._cancelReviewRequestHandler.bind(this),'[data-action="start-review"]':this._startReviewHandler.bind(this),'[data-action="stop-review"]':this._stopReviewHandler.bind(this)})},h.prototype.registerEvents=function(b){var c=a(b);c.find('[data-action="request-review"]').click(this._requestReviewHandler.bind(this)),c.find('[data-action="cancel-review-request"]').click(this._cancelReviewRequestHandler.bind(this)),c.find('[data-action="start-review"]').click(this._startReviewHandler.bind(this)),c.find('[data-action="stop-review"]').click(this._stopReviewHandler.bind(this))},h});
define('tool_lp/menubar', ["jquery"],function(a){var b=!1,c=!1,d=function(){a(".tool-lp-menu .tool-lp-sub-menu").attr("aria-hidden","true"),c=!1},e=function(a,b){this.menuRoot=a,this.handlers=b,this.rootMenus=this.menuRoot.children("li"),this.subMenus=this.rootMenus.children("ul"),this.subMenuItems=this.subMenus.children("li"),this.allItems=this.rootMenus.add(this.subMenuItems),this.activeItem=null,this.isChildOpen=!1,this.keys={tab:9,enter:13,esc:27,space:32,left:37,up:38,right:39,down:40},this.addAriaAttributes(),this.addEventListeners()};return e.prototype.openSubMenu=function(a){this.setOpenDirection(),d(),a.attr("aria-hidden","false"),c=!0},e.prototype.addEventListeners=function(){var e=this;b===!1&&(a(document).click(function(){c&&d()}),b=!0),this.subMenuItems.mouseenter(function(){return a(this).addClass("menu-hover"),!0}),this.subMenuItems.mouseout(function(){return a(this).removeClass("menu-hover"),!0}),this.allItems.click(function(b){return e.handleClick(a(this),b)}),this.allItems.keydown(function(b){return e.handleKeyDown(a(this),b)}),this.allItems.focus(function(){return e.handleFocus(a(this))}),this.allItems.blur(function(){return e.handleBlur(a(this))})},e.prototype.handleClick=function(b,c){c.stopPropagation();var d=b.parent();if(d.is(".tool-lp-menu"))"true"==b.children("ul").first().attr("aria-hidden")?this.openSubMenu(b.children("ul").first()):b.children("ul").first().attr("aria-hidden","true");else{this.allItems.removeClass("menu-hover menu-focus"),this.activeItem=null,this.menuRoot.find("ul").not(".root-level").attr("aria-hidden","true");var e=b.find("a").first(),f=new a.Event("click");f.target=e;var g=!1;this.handlers&&a.each(this.handlers,function(c,d){if(!g&&b.find(c).length>0){var h=a.proxy(d,e);g=h(f)===!1||f.isDefaultPrevented()}}),g||"#"===e.attr("href")||(window.location.href=e.attr("href"))}return!1},e.prototype.handleFocus=function(a){if(null===this.activeItem)this.activeItem=a;else if(a[0]!=this.activeItem[0])return!0;var b=this.activeItem.parentsUntil("ul.tool-lp-menu").filter("li");if(this.allItems.removeClass("menu-focus"),this.activeItem.addClass("menu-focus"),b.addClass("menu-focus"),this.isChildOpen===!0){var c=a.parent();c.is(".tool-lp-menu")&&"true"==a.attr("aria-haspopup")&&this.openSubMenu(a.children("ul").first())}return!0},e.prototype.handleBlur=function(a){return a.removeClass("menu-focus"),!0},e.prototype.setOpenDirection=function(){var b=this.menuRoot.offset(),c=a(document.body).hasClass("dir-rtl"),d=!0,e=this.rootMenus.outerHeight(),f=this.rootMenus.outerWidth(),g=this.rootMenus.find("ul.tool-lp-sub-menu");g.css("margin-right",""),g.css("margin-left",""),g.css("margin-top",""),g.attr("aria-hidden",!1);var h=g.outerWidth(),i=g.outerHeight(),j=null,k=null,l=null,m=b.top-a(window).scrollTop();m+i>a(window).height()&&(j=i+e,g.css("margin-top","-"+j+"px")),c?b.left-h<0&&(k=h-f,g.css("margin-right","-"+k+"px")):b.left+h>a(window).width()&&(l=h-f,g.css("margin-left","-"+l+"px")),d?this.menuRoot.addClass("tool-lp-menu-open-left"):this.menuRoot.removeClass("tool-lp-menu-open-left")},e.prototype.handleKeyDown=function(a,b){if(b.altKey||b.ctrlKey)return!0;switch(b.keyCode){case this.keys.tab:this.menuRoot.find("ul").attr("aria-hidden","true"),this.allItems.removeClass("menu-focus"),this.activeItem=null,this.isChildOpen=!1;break;case this.keys.esc:var c=a.parent();return c.is(".tool-lp-menu")?a.children("ul").first().attr("aria-hidden","true"):(this.activeItem=c.parent(),this.isChildOpen=!1,this.activeItem.focus(),c.attr("aria-hidden","true")),b.stopPropagation(),!1;case this.keys.enter:case this.keys.space:return this.handleClick(a,b);case this.keys.left:return this.activeItem=this.moveToPrevious(a),this.activeItem.focus(),b.stopPropagation(),!1;case this.keys.right:return this.activeItem=this.moveToNext(a),this.activeItem.focus(),b.stopPropagation(),!1;case this.keys.up:return this.activeItem=this.moveUp(a),this.activeItem.focus(),b.stopPropagation(),!1;case this.keys.down:return this.activeItem=this.moveDown(a),this.activeItem.focus(),b.stopPropagation(),!1}return!0},e.prototype.moveToNext=function(a){var b=a.parent(),c=b.children("li"),d=c.length,e=c.index(a),f=null,g=null;if(b.is(".tool-lp-menu"))f=e<d-1?a.next():c.first(),"true"==a.attr("aria-haspopup")&&(g=a.children("ul").first(),"false"==g.attr("aria-hidden")&&(g.attr("aria-hidden","true"),this.isChildOpen=!0)),a.removeClass("menu-focus"),"true"===f.attr("aria-haspopup")&&this.isChildOpen===!0&&(g=f.children("ul").first(),this.openSubMenu(g));else if("true"==a.attr("aria-haspopup"))g=a.children("ul").first(),f=g.children("li").first(),this.openSubMenu(g);else{var h=null,i=null;h=a.parentsUntil("ul.tool-lp-menu").filter("ul").not(".tool-lp-menu"),h.attr("aria-hidden","true"),h.find("li").removeClass("menu-focus"),h.last().parent().removeClass("menu-focus"),i=h.last().parent(),e=this.rootMenus.index(i),f=e<this.rootMenus.length-1?i.next():this.rootMenus.first(),f.addClass("menu-focus"),"true"==f.attr("aria-haspopup")&&(g=f.children("ul").first(),f=g.children("li").first(),this.openSubMenu(g),this.isChildOpen=!0)}return f},e.prototype.moveToPrevious=function(a){var b=a.parent(),c=b.children("li"),d=c.index(a),e=null,f=null;if(b.is(".tool-lp-menu"))e=d>0?a.prev():c.last(),"true"==a.attr("aria-haspopup")&&(f=a.children("ul").first(),"false"==f.attr("aria-hidden")&&(f.attr("aria-hidden","true"),this.isChildOpen=!0)),a.removeClass("menu-focus"),"true"===e.attr("aria-haspopup")&&this.isChildOpen===!0&&(f=e.children("ul").first(),this.openSubMenu(f));else{var g=b.parent(),h=g.parent();h.is(".tool-lp-menu")?(b.attr("aria-hidden","true"),a.removeClass("menu-focus"),g.removeClass("menu-focus"),d=this.rootMenus.index(g),e=d>0?g.prev():this.rootMenus.last(),e.addClass("menu-focus"),"true"==e.attr("aria-haspopup")&&(f=e.children("ul").first(),this.openSubMenu(f),this.isChildOpen=!0,e=f.children("li").first())):(e=b.parent(),b.attr("aria-hidden","true"),a.removeClass("menu-focus"))}return e},e.prototype.moveDown=function(a,b){var c=a.parent(),d=c.children("li").not(".separator"),e=d.length,f=d.index(a),g=null,h=null;if(c.is(".tool-lp-menu"))return"true"!=a.attr("aria-haspopup")?a:(h=a.children("ul").first(),g=h.children("li").first(),this.openSubMenu(h),g);if(b){var i=!1,j=f+1;for(j==e&&(j=0);j!=f;){var k=d.eq(j).html().charAt(0);if(k.toLowerCase()==b){i=!0;break}j+=1,j==e&&(j=0)}return i===!0?(g=d.eq(j),a.removeClass("menu-focus"),g):a}return g=f<e-1?d.eq(f+1):d.first(),a.removeClass("menu-focus"),g},e.prototype.moveUp=function(a){var b=a.parent(),c=b.children("li").not(".separator"),d=c.index(a),e=null;return b.is(".tool-lp-menu")?a:(e=d>0?c.eq(d-1):c.last(),a.removeClass("menu-focus"),e)},e.prototype.addAriaAttributes=function(){this.menuRoot.attr("role","menubar"),this.rootMenus.attr("role","menuitem"),this.rootMenus.attr("tabindex","0"),this.rootMenus.attr("aria-haspopup","true"),this.subMenus.attr("role","menu"),this.subMenus.attr("aria-hidden","true"),this.subMenuItems.attr("role","menuitem"),this.subMenuItems.attr("tabindex","-1"),this.menuRoot.addClass("tool-lp-menu"),this.allItems.addClass("tool-lp-menu-item"),this.rootMenus.addClass("tool-lp-root-menu"),this.subMenus.addClass("tool-lp-sub-menu"),this.subMenuItems.addClass("dropdown-item")},{enhance:function(b,c){a(b).each(function(b,d){var f=a(d);f.data("menubarEnhanced")!==!0&&(new e(f,c),f.data("menubarEnhanced",!0))})},closeAll:d}});
define('tool_lp/competencyactions', ["jquery","core/url","core/templates","core/notification","core/str","core/ajax","tool_lp/dragdrop-reorder","tool_lp/tree","tool_lp/dialogue","tool_lp/menubar","tool_lp/competencypicker","tool_lp/competency_outcomes","tool_lp/competencyruleconfig"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p,q,r,s,t=null,u=null,v=null,w=null,x=function(){var c=a('[data-region="competencyactions"]').data("competency"),f={competencyframeworkid:t.getCompetencyFrameworkId(),pagecontextid:n};null!==c&&(f.parentid=c.id);var g=function(){var c=a.param(f);window.location=b.relativeUrl("/admin/tool/lp/editcompetency.php?"+c)};null!==c&&t.hasRule(c.id)?e.get_strings([{key:"confirm",component:"moodle"},{key:"addingcompetencywillresetparentrule",component:"tool_lp",param:c.shortname},{key:"yes",component:"core"},{key:"no",component:"core"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],g)}).fail(d.exception):g()},y=function(){var b=a('[data-region="filtercompetencies"]').data("frameworkid"),c=f.call([{methodname:"core_competency_set_parent_competency",args:{competencyid:u,parentid:v}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b,search:a('[data-region="filtercompetencies"] input').val()}}]);c[1].done(E).fail(d.exception)},z=function(){if(v="undefined"==typeof v?0:v,v!=u){var a=t.getCompetency(v)||{},b=t.getCompetency(u)||{},c="movecompetencywillresetrules",f=!1;b.parentid!=v&&(a.path&&a.path.indexOf("/"+b.id+"/")>=0&&(c="movecompetencytochildofselfwillresetrules",f=f||t.hasRule(b.id)),f=f||t.hasRule(a.id)||t.hasRule(b.parentid),f?e.get_strings([{key:"confirm",component:"moodle"},{key:c,component:"tool_lp"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],y)}).fail(d.exception):y())}},A=function(b){var c=a(b.getContent()),d=c.find("[data-enhance=movetree]"),e=new h(d,(!1));e.on("selectionchanged",function(b,c){var d=c.selected;v=a(d).data("id")}),d.show(),c.on("click",'[data-action="move"]',function(){b.close(),z()}),c.on("click",'[data-action="cancel"]',function(){b.close()})},B=function(a,b){var c;for(c=0;c<b.length;c++)b[c].parentid==a.id&&(a.haschildren=!0,b[c].children=[],b[c].haschildren=!1,a.children[a.children.length]=b[c],B(b[c],b))},C=function(b){b.preventDefault();var g=a('[data-region="competencyactions"]').data("competency");u=g.id;var h=f.call([{methodname:"core_competency_search_competencies",args:{competencyframeworkid:g.competencyframeworkid,searchtext:""}},{methodname:"core_competency_read_competency_framework",args:{id:g.competencyframeworkid}}]);a.when.apply(null,h).done(function(a,b){var f,h=[];for(f=0;f<a.length;f++){var j=a[f];"0"==j.parentid&&(j.children=[],j.haschildren=0,h[h.length]=j,B(j,a))}e.get_strings([{key:"movecompetency",component:"tool_lp",param:g.shortname},{key:"move",component:"tool_lp"},{key:"cancel",component:"moodle"}]).done(function(a){var e={framework:b,competencies:h};c.render("tool_lp/competencies_move_tree",e).done(function(b){new i(a[0],b,A)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)},D=function(){var c=a('[data-region="competencyactions"]').data("competency"),d={competencyframeworkid:t.getCompetencyFrameworkId(),id:c.id,parentid:c.parentid,pagecontextid:n},e=a.param(d);window.location=b.relativeUrl("/admin/tool/lp/editcompetency.php?"+e)},E=function(b){c.render("tool_lp/manage_competencies_page",b).done(function(b,d){a('[data-region="managecompetencies"]').replaceWith(b),c.runTemplateJS(d)}).fail(d.exception)},F=function(b){b.preventDefault();var c=a('[data-region="filtercompetencies"]').data("frameworkid"),e=f.call([{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:c,search:a('[data-region="filtercompetencies"] input').val()}}]);e[0].done(E).fail(d.exception)},G=function(){var b=a('[data-region="competencyactions"]').data("competency"),c=f.call([{methodname:"core_competency_move_up_competency",args:{id:b.id}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b.competencyframeworkid,search:a('[data-region="filtercompetencies"] input').val()}}]);c[1].done(E).fail(d.exception)},H=function(){var b=a('[data-region="competencyactions"]').data("competency"),c=f.call([{methodname:"core_competency_move_down_competency",args:{id:b.id}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b.competencyframeworkid,search:a('[data-region="filtercompetencies"] input').val()}}]);c[1].done(E).fail(d.exception)},I=function(){var b=a('[data-region="competencyactions"]').data("competency"),g=f.call([{methodname:"tool_lp_list_courses_using_competency",args:{id:b.id}}]);g[0].done(function(a){var b={courses:a};c.render("tool_lp/linked_courses_summary",b).done(function(a){e.get_string("linkedcourses","tool_lp").done(function(b){new i(b,a,A)}).fail(d.exception)}).fail(d.exception)}).fail(d.exception)},J=function(){q=a('[data-region="competencyactions"]').data("competency"),o||(o=new k(n,q.competencyframeworkid),o.on("save",function(b,e){var g=e.competencyIds,h=[];a.each(g,function(a,b){h.push({methodname:"core_competency_add_related_competency",args:{competencyid:b,relatedcompetencyid:q.id}})}),h.push({methodname:"tool_lp_data_for_related_competencies_section",args:{competencyid:q.id}});var i=f.call(h);i[h.length-1].then(function(a){return c.render("tool_lp/related_competencies",a)}).then(function(b,d){a('[data-region="relatedcompetencies"]').replaceWith(b),c.runTemplateJS(d),U()})["catch"](d.exception)})),o.setDisallowedCompetencyIDs([q.id]),o.display()},K=function(b){b.preventDefault(),q=a('[data-region="competencyactions"]').data("competency"),p.setTargetCompetencyId(q.id),p.display()},L=function(a,b){var c={id:q.id,shortname:q.shortname,idnumber:q.idnumber,description:q.description,descriptionformat:q.descriptionformat,ruletype:b.ruletype,ruleoutcome:b.ruleoutcome,ruleconfig:b.ruleconfig},e=f.call([{methodname:"core_competency_update_competency",args:{competency:c}}]);e[0].then(function(a){a&&(q.ruletype=b.ruletype,q.ruleoutcome=b.ruleoutcome,q.ruleconfig=b.ruleconfig,X(q))})["catch"](d.exception)},M=function(){var b=a('[data-region="competencyactions"]').data("competency"),c=f.call([{methodname:"core_competency_delete_competency",args:{id:b.id}},{methodname:"tool_lp_data_for_competencies_manage_page",args:{competencyframeworkid:b.competencyframeworkid,search:a('[data-region="filtercompetencies"] input').val()}}]);c[0].done(function(a){a===!1&&e.get_strings([{key:"competencycannotbedeleted",component:"tool_lp",param:b.shortname},{key:"cancel",component:"moodle"}]).done(function(a){d.alert(null,a[0])}).fail(d.exception)}).fail(d.exception),c[1].done(E).fail(d.exception)},N=function(){var b=a('[data-region="competencyactions"]').data("competency"),c="deletecompetency";t.hasRule(b.parentid)&&(c="deletecompetencyparenthasrule"),e.get_strings([{key:"confirm",component:"moodle"},{key:c,component:"tool_lp",param:b.shortname},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],M)}).fail(d.exception)},O=function(b){b.originalEvent.dataTransfer.setData("text",a(b.target).parent().data("id"))},P=function(a){a.originalEvent.dataTransfer.dropEffect="move",a.preventDefault()},Q=function(b){b.preventDefault(),a(this).addClass("currentdragtarget")},R=function(b){b.preventDefault(),a(this).removeClass("currentdragtarget")},S=function(b){b.preventDefault(),u=b.originalEvent.dataTransfer.getData("text"),v=a(b.target).parent().data("id"),a(this).removeClass("currentdragtarget"),z()},T=function(b){b.preventDefault();var e=this.id.substr(11),g=a('[data-region="competencyactions"]').data("competency"),h=f.call([{methodname:"core_competency_remove_related_competency",args:{relatedcompetencyid:e,competencyid:g.id}},{methodname:"tool_lp_data_for_related_competencies_section",args:{competencyid:g.id}}]);h[1].done(function(b){c.render("tool_lp/related_competencies",b).done(function(b){a('[data-region="relatedcompetencies"]').replaceWith(b),U()}).fail(d.exception)}).fail(d.exception)},U=function(){a('[data-action="deleterelation"]').on("click",T)},V=function(a){a.id!==w&&(w=a.id,f.call([{methodname:"core_competency_competency_viewed",args:{id:a.id}}]))},W=function(a){var b=r[a];return b||(b="competency"),b},X=function(b){var e=a.Deferred().resolve().promise(),g={};g.competency=b,g.showdeleterelatedaction=!0,g.showrelatedcompetencies=!0,g.showrule=!1,b.ruleoutcome!=l.NONE&&(e=l.getString(b.ruleoutcome).then(function(c){var d;return a.each(s,function(a,c){c.type==b.ruletype&&(d=c.name)}),[c,d]})),e.then(function(a){return"undefined"!=typeof a&&(g.showrule=!0,g.rule={outcome:a[0],type:a[1]}),g}).then(function(a){return c.render("tool_lp/competency_summary",a)}).then(function(b){return a('[data-region="competencyinfo"]').html(b),a('[data-action="deleterelation"]').on("click",T),c.render("tool_lp/loading",{})}).then(function(a,d){return c.replaceNodeContents('[data-region="relatedcompetencies"]',a,d),f.call([{methodname:"tool_lp_data_for_related_competencies_section",args:{competencyid:b.id}}])[0]}).then(function(a){return c.render("tool_lp/related_competencies",a)}).then(function(b,d){a('[data-region="relatedcompetencies"]').replaceWith(b),c.runTemplateJS(d),U()})["catch"](d.exception)},Y=function(a){return e.get_string("taxonomy_add_"+W(a),"tool_lp")},Z=function(a){return e.get_string("taxonomy_selected_"+W(a),"tool_lp")},$=function(b,c){var e=c.selected,f=a(e).data("id"),g=a('[data-region="competencyactions"] [data-action="add"]'),h=a('[data-region="competencyactionsmenu"]'),i=a('[data-region="selected-competency"]'),k=0,l=1;if(j.closeAll(),"undefined"==typeof f)a('[data-region="competencyinfo"]').html(e.clone().children().remove().end().text()),a('[data-region="competencyactions"]').data("competency",null),h.hide();else{var m=t.getCompetency(f);k=t.getCompetencyLevel(f),l=k+1,h.show(),a('[data-region="competencyactions"]').data("competency",m),X(m),V(m)}return Z(k).then(function(a){i.text(a)})["catch"](d.exception),Y(l).then(function(a){g.show().find('[data-region="term"]').text(a)})["catch"](d.exception),b.preventDefault(),!1},_=function(a){var b=a.split(",");return b.unshift(""),delete b[0],b};return{init:function(b,c,d,e){t=b,n=c,r=_(d),s=e,a('[data-region="competencyactions"] [data-action="add"]').on("click",x),j.enhance(".competencyactionsmenu",{'[data-action="edit"]':D,'[data-action="delete"]':N,'[data-action="move"]':C,'[data-action="moveup"]':G,'[data-action="movedown"]':H,'[data-action="linkedcourses"]':I,'[data-action="relatedcompetencies"]':J.bind(this),'[data-action="competencyrules"]':K.bind(this)}),a('[data-region="competencyactionsmenu"]').hide(),a('[data-region="competencyactions"] [data-action="add"]').hide(),a('[data-region="filtercompetencies"]').on("submit",F);var f=a('[data-region="managecompetencies"] [data-enhance="tree"]');f.on("dragstart","li>span",O).on("dragover","li>span",P).on("dragenter","li>span",Q).on("dragleave","li>span",R).on("drop","li>span",S),b.on("selectionchanged",$),p=new m(t,s),p.on("save",L.bind(this))}}});
define('tool_lp/form-cohort-selector', ["jquery","core/ajax","core/templates"],function(a,b,c){return{processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.id,label:b._label})}),d},transport:function(d,e,f,g){var h,i=parseInt(a(d).data("contextid"),10),j=a(d).data("includes");h=b.call([{methodname:"tool_lp_search_cohorts",args:{query:e,context:{contextid:i},includes:j}}]),h[0].then(function(b){var d=[],e=0;return a.each(b.cohorts,function(a,b){d.push(c.render("tool_lp/form-cohort-selector-suggestion",b))}),a.when.apply(a.when,d).then(function(){var c=arguments;a.each(b.cohorts,function(a,b){b._label=c[e],e++}),f(b.cohorts)})})["catch"](g)}}});
define('tool_lp/competency_rule_all', ["jquery","core/str","tool_lp/competency_rule"],function(a,b,c){var d=function(){c.apply(this,arguments)};return d.prototype=Object.create(c.prototype),d.prototype.getType=function(){return"core_competency\\competency_rule_all"},d.prototype.isValid=function(){return!0},d});
define('tool_lp/frameworkactions', ["jquery","core/templates","core/ajax","core/notification","core/str"],function(a,b,c,d,e){var f=0,g=0,h=function(c,d){a('[data-region="managecompetencies"]').replaceWith(c),b.runTemplateJS(d)},i=function(a){b.render("tool_lp/manage_competency_frameworks_page",a).done(h).fail(d.exception)},j=function(b){b.preventDefault(),g=a(this).attr("data-frameworkid");var e=c.call([{methodname:"core_competency_duplicate_competency_framework",args:{id:g}},{methodname:"tool_lp_data_for_competency_frameworks_manage_page",args:{pagecontext:{contextid:f}}}]);e[1].done(i).fail(d.exception)},k=function(){var a=c.call([{methodname:"core_competency_delete_competency_framework",args:{id:g}},{methodname:"tool_lp_data_for_competency_frameworks_manage_page",args:{pagecontext:{contextid:f}}}]);a[0].done(function(a){if(a===!1){var b=c.call([{methodname:"core_competency_read_competency_framework",args:{id:g}}]);b[0].done(function(a){e.get_strings([{key:"frameworkcannotbedeleted",component:"tool_lp",param:a.shortname},{key:"cancel",component:"moodle"}]).done(function(a){d.alert(null,a[0])}).fail(d.exception)})}}).fail(d.exception),a[1].done(i).fail(d.exception)},l=function(b){b.preventDefault();var f=a(this).attr("data-frameworkid");g=f;var h=c.call([{methodname:"core_competency_read_competency_framework",args:{id:g}}]);h[0].done(function(a){e.get_strings([{key:"confirm",component:"moodle"},{key:"deletecompetencyframework",component:"tool_lp",param:a.shortname},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){d.confirm(a[0],a[1],a[2],a[3],k)}).fail(d.exception)}).fail(d.exception)};return{deleteHandler:l,duplicateHandler:j,init:function(a){f=a}}});
define('tool_lp/competencies', ["jquery","core/notification","core/ajax","core/templates","core/str","tool_lp/competencypicker","tool_lp/dragdrop-reorder"],function(a,b,c,d,e,f,g){var h=function(b,c,d){this.itemid=b,this.itemtype=c,this.pageContextId=d,this.pickerInstance=null,a('[data-region="actions"] button').prop("disabled",!1),this.registerEvents(),this.registerDragDrop()};return h.prototype.registerDragDrop=function(){var a=this;e.get_string("movecompetency","tool_lp").done(function(b){g.dragdrop("movecompetency",b,{identifier:"movecompetency",component:"tool_lp"},{identifier:"movecompetencyafter",component:"tool_lp"},"drag-samenode","drag-parentnode","drag-handlecontainer",function(b,c){a.handleDrop(b,c)})}).fail(b.exception)},h.prototype.handleDrop=function(d,e){var f=a(d).data("id"),g=a(e).data("id"),h=this,i=[];if("course"==h.itemtype)i=c.call([{methodname:"core_competency_reorder_course_competency",args:{courseid:h.itemid,competencyidfrom:f,competencyidto:g}}]);else if("template"==h.itemtype)i=c.call([{methodname:"core_competency_reorder_template_competency",args:{templateid:h.itemid,competencyidfrom:f,competencyidto:g}}]);else{if("plan"!=h.itemtype)return;i=c.call([{methodname:"core_competency_reorder_plan_competency",args:{planid:h.itemid,competencyidfrom:f,competencyidto:g}}])}i[0].fail(b.exception)},h.prototype.pickCompetency=function(){var e,g,h,i,j=this;j.pickerInstance||("template"!==j.itemtype&&"course"!==j.itemtype||(i="parents"),j.pickerInstance=new f(j.pageContextId,(!1),i),j.pickerInstance.on("save",function(f,i){var k=i.competencyIds;"course"===j.itemtype?(e=[],a.each(k,function(a,b){e.push({methodname:"core_competency_add_competency_to_course",args:{courseid:j.itemid,competencyid:b}})}),e.push({methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:j.itemid}}),g="tool_lp/course_competencies_page",h="coursecompetenciespage"):"template"===j.itemtype?(e=[],a.each(k,function(a,b){e.push({methodname:"core_competency_add_competency_to_template",args:{templateid:j.itemid,competencyid:b}})}),e.push({methodname:"tool_lp_data_for_template_competencies_page",args:{templateid:j.itemid,pagecontext:{contextid:j.pageContextId}}}),g="tool_lp/template_competencies_page",h="templatecompetenciespage"):"plan"===j.itemtype&&(e=[],a.each(k,function(a,b){e.push({methodname:"core_competency_add_competency_to_plan",args:{planid:j.itemid,competencyid:b}})}),e.push({methodname:"tool_lp_data_for_plan_page",args:{planid:j.itemid}}),g="tool_lp/plan_page",h="plan-page"),c.call(e)[e.length-1].then(function(a){return d.render(g,a)}).then(function(b,c){a('[data-region="'+h+'"]').replaceWith(b),d.runTemplateJS(c)})["catch"](b.exception)})),j.pickerInstance.display()},h.prototype.doDelete=function(e){var f=this,g=[],h="",i="";"course"==f.itemtype?(g=c.call([{methodname:"core_competency_remove_competency_from_course",args:{courseid:f.itemid,competencyid:e}},{methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:f.itemid}}]),h="tool_lp/course_competencies_page",i="coursecompetenciespage"):"template"==f.itemtype?(g=c.call([{methodname:"core_competency_remove_competency_from_template",args:{templateid:f.itemid,competencyid:e}},{methodname:"tool_lp_data_for_template_competencies_page",args:{templateid:f.itemid,pagecontext:{contextid:f.pageContextId}}}]),h="tool_lp/template_competencies_page",i="templatecompetenciespage"):"plan"==f.itemtype&&(g=c.call([{methodname:"core_competency_remove_competency_from_plan",args:{planid:f.itemid,competencyid:e}},{methodname:"tool_lp_data_for_plan_page",args:{planid:f.itemid}}]),h="tool_lp/plan_page",i="plan-page"),g[1].done(function(c){d.render(h,c).done(function(b,c){a('[data-region="'+i+'"]').replaceWith(b),d.runTemplateJS(c)}).fail(b.exception)}).fail(b.exception)},h.prototype.deleteHandler=function(a){var d,f=this,g=[];if("course"==f.itemtype)d="unlinkcompetencycourse";else if("template"==f.itemtype)d="unlinkcompetencytemplate";else{if("plan"!=f.itemtype)return;d="unlinkcompetencyplan"}g=c.call([{methodname:"core_competency_read_competency",args:{id:a}}]),g[0].done(function(c){e.get_strings([{key:"confirm",component:"moodle"},{key:d,component:"tool_lp",param:c.shortname},{key:"confirm",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],function(){f.doDelete(a)})}).fail(b.exception)}).fail(b.exception)},h.prototype.registerEvents=function(){var e=this;"course"==e.itemtype&&a('[data-region="coursecompetenciespage"]').on("change",'select[data-field="ruleoutcome"]',function(f){var g=[],h="tool_lp/course_competencies_page",i="coursecompetenciespage",j=a(f.target).data("id"),k=a(f.target).val();g=c.call([{methodname:"core_competency_set_course_competency_ruleoutcome",args:{coursecompetencyid:j,ruleoutcome:k}},{methodname:"tool_lp_data_for_course_competencies_page",args:{courseid:e.itemid}}]),g[1].done(function(c){d.render(h,c).done(function(b,c){a('[data-region="'+i+'"]').replaceWith(b),d.runTemplateJS(c)}).fail(b.exception)}).fail(b.exception)}),a('[data-region="actions"] button').click(function(a){a.preventDefault(),e.pickCompetency()}),a('[data-action="delete-competency-link"]').click(function(b){b.preventDefault();var c=a(b.target).closest("[data-id]").data("id");e.deleteHandler(c)})},h});
define('tool_lp/event_base', ["jquery"],function(a){var b=function(){this._eventNode=a("<div></div>")};return b.prototype._eventNode=null,b.prototype.on=function(a,b){this._eventNode.on(a,b)},b.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},b});
define('tool_lp/grade_user_competency_inline', ["jquery","core/notification","core/ajax","core/log","tool_lp/grade_dialogue","tool_lp/event_base","tool_lp/scalevalues"],function(a,b,c,d,e,f,g){var h=function(b,c,d,e,g,h,i){f.prototype.constructor.apply(this,[]);var j=a(b);if(!j.length)throw new Error("Could not find the trigger");this._scaleId=c,this._competencyId=d,this._userId=e,this._planId=g,this._courseId=h,this._chooseStr=i,this._setUp(),j.click(function(a){a.preventDefault(),this._dialogue.display()}.bind(this)),this._planId?(this._methodName="core_competency_grade_competency_in_plan",this._args={competencyid:this._competencyId,planid:this._planId}):this._courseId?(this._methodName="core_competency_grade_competency_in_course",this._args={competencyid:this._competencyId,courseid:this._courseId,userid:this._userId}):(this._methodName="core_competency_grade_competency",this._args={userid:this._userId,competencyid:this._competencyId})};return h.prototype=Object.create(f.prototype),h.prototype._setUp=function(){var a=[],d=this,f=g.get_values(d._scaleId);f.done(function(f){a.push({value:"",name:d._chooseStr});for(var g=0;g<f.length;g++){var h=f[g];a.push({value:h.id,name:h.name})}d._dialogue=new e(a),d._dialogue.on("rated",function(a,e){var f=d._args;f.grade=e.rating,f.note=e.note,c.call([{methodname:d._methodName,args:f,done:function(a){d._trigger("competencyupdated",{args:f,evidence:a})},fail:b.exception}])})}).fail(b.exception)},h.prototype._scaleId=null,h.prototype._competencyId=null,h.prototype._userId=null,h.prototype._planId=null,h.prototype._courseId=null,h.prototype._chooseStr=null,h.prototype._dialogue=null,h});
define('tool_lp/competency_rule', ["jquery"],function(a){var b=function(b){this._eventNode=a("<div>"),this._ready=a.Deferred(),this._tree=b};return b.prototype._competency=null,b.prototype._eventNode=null,b.prototype._ready=null,b.prototype._tree=null,b.prototype.canConfig=function(){return this._tree.hasChildren(this._competency.id)},b.prototype.getConfig=function(){return null},b.prototype.getType=function(){throw new Error("Not implemented")},b.prototype.init=function(){return this._load()},b.prototype.injectTemplate=function(){return a.Deferred().reject().promise()},b.prototype.isValid=function(){return!1},b.prototype._load=function(){return a.when()},b.prototype.on=function(a,b){this._eventNode.on(a,b)},b.prototype.setTargetCompetency=function(a){this._competency=a},b.prototype._trigger=function(a,b){this._eventNode.trigger(a,[b])},b.prototype._triggerChange=function(){this._trigger("change",this)},b});
define('tool_lp/evidence_delete', ["jquery","core/notification","core/ajax","core/str","core/log"],function(a,b,c,d,e){var f={},g=function(g,h){"undefined"==typeof f[g]&&(f[g]=a("body").delegate(g,"click",function(f){var g=a(f.currentTarget).parents(h);if(!g.length||g.length>1)return void e.error("None or too many evidence container were found.");var i=g.data("id");return i?(f.preventDefault(),f.stopPropagation(),void d.get_strings([{key:"confirm",component:"moodle"},{key:"areyousure",component:"moodle"},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(a){b.confirm(a[0],a[1],a[2],a[3],function(){var a=c.call([{methodname:"core_competency_delete_evidence",args:{id:i}}]);a[0].then(function(){g.remove()}).fail(b.exception)})}).fail(b.exception)):void e.error("Evidence ID was not found.")}))};return{register:g}});
define('tool_policy/jquery-eu-cookie-law-popup', ["jquery"],function(a){window.console||(window.console={}),window.console.log||(window.console.log=function(){}),a.fn.euCookieLawPopup=function(){var b=this;b.params={cookiePolicyUrl:"http://www.wimagguc.com/?cookie-policy",popupPosition:"top",colorStyle:"default",compactStyle:!1,popupTitle:"This website is using cookies",popupText:"We use cookies to ensure that we give you the best experience on our website. If you continue without changing your settings, we'll assume that you are happy to receive all cookies on this website.",buttonContinueTitle:"Continue",buttonLearnmoreTitle:"Learn&nbsp;more",buttonLearnmoreOpenInNewWindow:!0,agreementExpiresInDays:30,autoAcceptCookiePolicy:!1,htmlMarkup:null},b.vars={INITIALISED:!1,HTML_MARKUP:null,COOKIE_NAME:"EU_COOKIE_LAW_CONSENT"};var c=function(c,d,e){if(c){var f=a(c).attr("class")?a(c).attr("class"):"";f.indexOf("eupopup-top")>-1?b.params.popupPosition="top":f.indexOf("eupopup-fixedtop")>-1?b.params.popupPosition="fixedtop":f.indexOf("eupopup-bottomright")>-1?b.params.popupPosition="bottomright":f.indexOf("eupopup-bottomleft")>-1?b.params.popupPosition="bottomleft":f.indexOf("eupopup-bottom")>-1?b.params.popupPosition="bottom":f.indexOf("eupopup-block")>-1&&(b.params.popupPosition="block"),f.indexOf("eupopup-color-default")>-1?b.params.colorStyle="default":f.indexOf("eupopup-color-inverse")>-1&&(b.params.colorStyle="inverse"),f.indexOf("eupopup-style-compact")>-1&&(b.params.compactStyle=!0)}d&&(b.params.htmlMarkup=d),e&&("undefined"!=typeof e.cookiePolicyUrl&&(b.params.cookiePolicyUrl=e.cookiePolicyUrl),"undefined"!=typeof e.popupPosition&&(b.params.popupPosition=e.popupPosition),"undefined"!=typeof e.colorStyle&&(b.params.colorStyle=e.colorStyle),"undefined"!=typeof e.popupTitle&&(b.params.popupTitle=e.popupTitle),"undefined"!=typeof e.popupText&&(b.params.popupText=e.popupText),"undefined"!=typeof e.buttonContinueTitle&&(b.params.buttonContinueTitle=e.buttonContinueTitle),"undefined"!=typeof e.buttonLearnmoreTitle&&(b.params.buttonLearnmoreTitle=e.buttonLearnmoreTitle),"undefined"!=typeof e.buttonLearnmoreOpenInNewWindow&&(b.params.buttonLearnmoreOpenInNewWindow=e.buttonLearnmoreOpenInNewWindow),"undefined"!=typeof e.agreementExpiresInDays&&(b.params.agreementExpiresInDays=e.agreementExpiresInDays),"undefined"!=typeof e.autoAcceptCookiePolicy&&(b.params.autoAcceptCookiePolicy=e.autoAcceptCookiePolicy),"undefined"!=typeof e.htmlMarkup&&(b.params.htmlMarkup=e.htmlMarkup))},d=function(){if(b.params.htmlMarkup)return b.params.htmlMarkup;var a='<div class="eupopup-container eupopup-container-'+b.params.popupPosition+(b.params.compactStyle?" eupopup-style-compact":"")+" eupopup-color-"+b.params.colorStyle+'"><div class="eupopup-head">'+b.params.popupTitle+'</div><div class="eupopup-body">'+b.params.popupText+'</div><div class="eupopup-buttons"><a href="#" class="eupopup-button eupopup-button_1">'+b.params.buttonContinueTitle+'</a><a href="'+b.params.cookiePolicyUrl+'"'+(b.params.buttonLearnmoreOpenInNewWindow?" target=_blank ":"")+' class="eupopup-button eupopup-button_2">'+b.params.buttonLearnmoreTitle+'</a><div class="clearfix"></div></div><a href="#" class="eupopup-closebutton">x</a></div>';return a},e=function(c){var d=new Date,e=24*b.params.agreementExpiresInDays*60*60*1e3;d.setTime(d.getTime()+e);var f="expires="+d.toGMTString();document.cookie=b.vars.COOKIE_NAME+"="+c+"; "+f+";path=/",a(document).trigger("user_cookie_consent_changed",{consent:c})},f=function(){for(var a=!1,c=document.cookie.split(";"),d=0;d<c.length;d++){var e=c[d].trim();0==e.indexOf(b.vars.COOKIE_NAME)&&(a=e.substring(b.vars.COOKIE_NAME.length+1,e.length))}return a},g=function(){a(".eupopup-container").animate({opacity:0,height:0},200,function(){a(".eupopup-container").hide(0)})},h={init:function(h){c(a(".eupopup").first(),a(".eupopup-markup").html(),h),f()||b.vars.INITIALISED||(b.vars.INITIALISED=!0,b.vars.HTML_MARKUP=d(),a(".eupopup-block").length>0?a(".eupopup-block").append(b.vars.HTML_MARKUP):a("BODY").append(b.vars.HTML_MARKUP),a(".eupopup-button_1").click(function(){return e(!0),g(),!1}),a(".eupopup-closebutton").click(function(){return e(!0),g(),!1}),a(".eupopup-container").show(),b.params.autoAcceptCookiePolicy&&e(!0))}};return h}});
define('tool_policy/acceptances_filter', ["jquery","core/form-autocomplete","core/str","core/notification"],function(a,b,c,d){var e={UNIFIED_FILTERS:"#unified-filters"},f=function(){var f=[{key:"filterplaceholder",component:"tool_policy"},{key:"nofiltersapplied",component:"tool_policy"}];M.util.js_pending("acceptances_filter_datasource"),c.get_strings(f).done(function(a){var c=a[0],f=a[1];b.enhance(e.UNIFIED_FILTERS,!0,"tool_policy/acceptances_filter_datasource",c,!1,!0,f,!0).then(function(){M.util.js_complete("acceptances_filter_datasource")}).fail(d.exception)}).fail(d.exception);var g=a(e.UNIFIED_FILTERS).val();a(e.UNIFIED_FILTERS).on("change",function(){var b=a(this).val(),c=[],d=[],e=!1;if(a.each(b,function(a,b){var f=b.split(":",2);if(2!==f.length)return d.push(b),!0;var g=f[0],h=f[1];return"undefined"!=typeof c[g]&&(e=!0),c[g]=h,!0}),e){var f=[];for(var h in c)f.push(h+":"+c[h]);f=f.concat(d),a(this).val(f)}g.join(",")!=b.join(",")&&this.form.submit()})},g=function(){return a(e.UNIFIED_FILTERS).closest("form")};return{init:function(){f()},getForm:function(){return g()}}});
define('tool_policy/acceptances_filter_datasource', ["jquery","core/ajax","core/notification"],function(a,b,c){return{list:function(b,c){var d=[],e=a(b),f=a(b).data("originaloptionsjson"),g=e.val();a.each(f,function(b,e){return""!==a.trim(c)&&e.label.toLocaleLowerCase().indexOf(c.toLocaleLowerCase())===-1||(a.inArray(e.value,g)>-1||(d.push(e),!0))});var h=new a.Deferred;return h.resolve(d),h.promise()},processResults:function(b,c){var d=[];return a.each(c,function(a,b){d.push({value:b.value,label:b.label})}),d},transport:function(a,b,d){this.list(a,b).then(d)["catch"](c.exception)}}});
define('tool_policy/managedocsactions', ["jquery","core/log","core/config","core/str","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){"use strict";function g(a){this.base=a,this.initEvents()}var h={LINKS:"[data-action]",MAKE_CURRENT:'[data-action="makecurrent"]',INACTIVATE:'[data-action="inactivate"]',DELETE:'[data-action="delete"]'};return g.prototype.initEvents=function(){var g=this;g.base.on("click",h.LINKS,function(g){g.stopPropagation();var i,j,k=a(g.currentTarget);if(k.is(h.MAKE_CURRENT))i=d.get_strings([{key:"activating",component:"tool_policy"},{key:"activateconfirm",component:"tool_policy",param:{name:k.closest("[data-policy-name]").attr("data-policy-name"),revision:k.closest("[data-policy-revision]").attr("data-policy-revision")}},{key:"activateconfirmyes",component:"tool_policy"}]);else if(k.is(h.INACTIVATE))i=d.get_strings([{key:"inactivating",component:"tool_policy"},{key:"inactivatingconfirm",component:"tool_policy",param:{name:k.closest("[data-policy-name]").attr("data-policy-name"),revision:k.closest("[data-policy-revision]").attr("data-policy-revision")}},{key:"inactivatingconfirmyes",component:"tool_policy"}]);else{if(!k.is(h.DELETE))return void b.error("unknown action type detected","tool_policy/managedocsactions");i=d.get_strings([{key:"deleting",component:"tool_policy"},{key:"deleteconfirm",component:"tool_policy",param:{name:k.closest("[data-policy-name]").attr("data-policy-name"),revision:k.closest("[data-policy-revision]").attr("data-policy-revision")}},{key:"delete",component:"core"}])}g.preventDefault(),i.then(function(a){return j=a,e.create({title:j[0],body:j[1],type:e.types.SAVE_CANCEL})}).then(function(a){return a.setSaveButtonText(j[2]),a.getRoot().on(f.save,function(){window.location.href=k.attr("href")+"&sesskey="+c.sesskey+"&confirm=1"}),a.getRoot().on(f.hidden,function(){a.destroy()}),a.show(),!0})["catch"](function(a){return b.error(a),!1})})},{init:function(b){var c=a(document.getElementById(b));if(c.length)return new g(c);throw new Error("managedocsactions: Invalid base element identifier")}}});
define('tool_policy/policyactions', ["jquery","core/ajax","core/notification","core/modal_factory","core/modal_events"],function(a,b,c,d,e){var f={VIEW_POLICY:'[data-action="view"]'},g=function(){this.registerEvents()};return g.prototype.registerEvents=function(){a(f.VIEW_POLICY).click(function(f){f.preventDefault();var g=a(this).data("versionid"),h=a(this).data("behalfid"),i={versionid:g,behalfid:h},j={methodname:"tool_policy_get_policy_version",args:i},k=a.Deferred(),l=a.Deferred(),m=d.create({title:k,body:l,large:!0}).then(function(a){return a.getRoot().on(e.hidden,function(){a.destroy()}),a}).then(function(a){return a.show(),a})["catch"](c.exception),n=b.call([j]);a.when(n[0]).then(function(a){if(a.result.policy)return k.resolve(a.result.policy.name),l.resolve(a.result.policy.content),a;throw new Error(a.warnings[0].message)})["catch"](function(a){return m.then(function(a){return a.hide(),a.destroy(),a})["catch"](c.exception),c.addNotification({message:a,type:"error"})})})},{init:function(){return new g}}});
define('tool_policy/acceptmodal', ["jquery","core/str","core/modal_factory","core/modal_events","core/notification","core/fragment","core/ajax","core/yui"],function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){this.contextid=a,this.init()};return i.prototype.modal=null,i.prototype.contextid=-1,i.prototype.currentTrigger=null,i.prototype.triggers={SINGLE:"a[data-action=acceptmodal]",BULK:"input[data-action=acceptmodal]"},i.prototype.init=function(){a(this.triggers.SINGLE).on("click",function(b){b.preventDefault(),this.currentTrigger=a(b.currentTarget);var c=a(b.currentTarget).attr("href"),d=c.slice(c.indexOf("?")+1);this.showFormModal(d)}.bind(this)),a(this.triggers.BULK).on("click",function(c){c.preventDefault(),this.currentTrigger=a(c.currentTarget);var d=a(c.currentTarget).closest("form");if(d.find('input[type=checkbox][name="userids[]"]:checked').length){var f=d.serialize();this.showFormModal(f)}else b.get_strings([{key:"notice"},{key:"selectusersforconsent",component:"tool_policy"},{key:"ok"}]).then(function(a){e.alert(a[0],a[1],a[2])}).fail(e.exception)}.bind(this))},i.prototype.showFormModal=function(a){for(var d,f=a.split("&"),g=0;g<f.length;g++){var h=f[g].split("=");"action"==h[0]&&(d=h[1])}b.get_strings([{key:"statusformtitleaccept",component:"tool_policy"},{key:"iagreetothepolicy",component:"tool_policy"},{key:"statusformtitlerevoke",component:"tool_policy"},{key:"irevokethepolicy",component:"tool_policy"},{key:"statusformtitledecline",component:"tool_policy"},{key:"declinethepolicy",component:"tool_policy"}]).then(function(b){var e,f;return"accept"==d?(e=b[0],f=b[1]):"revoke"==d?(e=b[2],f=b[3]):"decline"==d&&(e=b[4],f=b[5]),c.create({type:c.types.SAVE_CANCEL,title:e,body:""}).done(function(b){this.modal=b,this.setupFormModal(a,f)}.bind(this))}.bind(this))["catch"](e.exception)},i.prototype.setupFormModal=function(a,b){var c=this.modal;c.setLarge(),c.setSaveButtonText(b),c.getRoot().on(d.hidden,this.destroy.bind(this)),c.setBody(this.getBody(a)),c.getRoot().on(d.save,this.submitForm.bind(this)),c.getRoot().on("submit","form",this.submitFormAjax.bind(this)),c.show()},i.prototype.getBody=function(a){"undefined"==typeof a&&(a={});var b={jsonformdata:JSON.stringify(a)};return f.loadFragment("tool_policy","accept_on_behalf",this.contextid,b)},i.prototype.submitFormAjax=function(a){a.preventDefault();var b=this.modal.getRoot().find("form").serialize(),c=g.call([{methodname:"tool_policy_submit_accept_on_behalf",args:{jsonformdata:JSON.stringify(b)}}]);c[0].done(function(a){a.validationerrors?this.modal.setBody(this.getBody(b)):this.close()}.bind(this)).fail(e.exception)},i.prototype.submitForm=function(a){a.preventDefault(),this.modal.getRoot().find("form").submit()},i.prototype.close=function(){this.destroy(),document.location.reload()},i.prototype.destroy=function(){h.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()}),this.modal.destroy(),this.currentTrigger.focus()},{getInstance:function(a){return new i(a)}}});
define('tool_templatelibrary/display', ["jquery","core/ajax","core/log","core/notification","core/templates","core/config","core/str"],function(a,b,c,d,e,f,g){var h=function(a,b){if(!a)return!1;var c="@template "+b,d=0,e=[];if(e=a.match(/{{!([\s\S]*?)}}/g),null!==e)for(d=0;d<e.length;d++){var f=e[d],g=f.indexOf(c);if(g!==-1){var h=g+c.length+1;return f=f.substr(h,f.length-2-h)}}return!1},i=function(b,f,i){g.get_string("templateselected","tool_templatelibrary",b).done(function(b){a('[data-region="displaytemplateheader"]').text(b)}).fail(d.exception);var j=h(f,b);j===!1&&(j=h(i,b)),j&&(f=j),a('[data-region="displaytemplatesource"]').text(f);var k=f.match(/Example context \(json\):([\s\S]*)/),l=!1;if(k){var m=k[1].trim();try{l=a.parseJSON(m)}catch(n){c.debug("Could not parse json example context for template."),c.debug(n)}}l?e.render(b,l).done(function(b,c){e.replaceNodeContents(a('[data-region="displaytemplateexample"]'),b,c)}).fail(d.exception):g.get_string("templatehasnoexample","tool_templatelibrary").done(function(b){a('[data-region="displaytemplateexample"]').text(b)}).fail(d.exception)},j=function(c){var e=c.split("/"),g=e.shift(),h=e.shift(),j=b.call([{methodname:"core_output_load_template",args:{component:g,template:h,themename:f.theme,includecomments:!0}},{methodname:"tool_templatelibrary_load_canonical_template",args:{component:g,template:h}}],!0,!1);a.when.apply(a,j).done(function(a,b){i(c,a,b)}).fail(d.exception)};return a('[data-region="list-templates"]').on("click","[data-templatename]",function(b){var c=a(this).data("templatename");b.preventDefault(),j(c)}),{}});
define('tool_templatelibrary/search', ["jquery","core/ajax","core/log","core/notification","core/templates","core/config"],function(a,b,c,d,e,f){var g=function(b){e.render("tool_templatelibrary/search_results",{templates:b}).done(function(b,c){e.replaceNode(a('[data-region="searchresults"]'),b,c)}).fail(d.exception)},h=function(c){var e=a('[data-field="component"]').val(),f=a('[data-field="search"]').val();document.location.hash=f,b.call([{methodname:"tool_templatelibrary_list_templates",args:{component:e,search:f,themename:c},done:g,fail:d.exception}],!0,!1)},i=null,j=function(a,b){null!==i&&window.clearTimeout(i),i=window.setTimeout(function(){a(),i=null},b)},k=function(){j(h.bind(this,f.theme),400)};return a('[data-region="list-templates"]').on("change",'[data-field="component"]',k),a('[data-region="list-templates"]').on("input",'[data-field="search"]',k),a('[data-field="search"]').val(document.location.hash.replace("#","")),h(f.theme),{}});
define('tool_usertours/usertours', ["core/ajax","tool_usertours/tour","jquery","core/templates","core/str","core/log","core/notification"],function(a,b,c,d,e,f,g){var h={tourId:null,currentTour:null,context:null,init:function(a,b,d){h.tourId=a,h.context=d,"undefined"==typeof b&&(b=!0),b&&h.fetchTour(a),h.addResetLink(),c("body").on("click",'[data-action="tool_usertours/resetpagetour"]',function(a){a.preventDefault(),h.resetTourState(h.tourId)})},fetchTour:function(b){M.util.js_pending("admin_usertour_fetchTour"+b),c.when(a.call([{methodname:"tool_usertours_fetch_and_start_tour",args:{tourid:b,context:h.context,pageurl:window.location.href}}])[0],d.render("tool_usertours/tourstep",{})).then(function(a,c){return h.startBootstrapTour(b,c[0],a.tourconfig)}).always(function(){M.util.js_complete("admin_usertour_fetchTour"+b)}).fail(g.exception)},addResetLink:function(){var a;M.util.js_pending("admin_usertour_addResetLink"),a=c(c(".tool_usertours-resettourcontainer").length?".tool_usertours-resettourcontainer":c(".logininfo").length?".logininfo":c("footer").length?"footer":"body"),d.render("tool_usertours/resettour",{}).then(function(b,c){d.appendNodeContents(a,b,c)}).always(function(){M.util.js_complete("admin_usertour_addResetLink")}).fail()},startBootstrapTour:function(a,c,d){return h.currentTour&&(d.onEnd=null,h.currentTour.endTour(),delete h.currentTour),d.eventHandlers={afterEnd:[h.markTourComplete],afterRender:[h.markStepShown]},d.tourName=d.name,delete d.name,d.template=c,d.steps=d.steps.map(function(a){return"undefined"!=typeof a.element&&(a.target=a.element,delete a.element),"undefined"!=typeof a.reflex&&(a.moveOnClick=!!a.reflex,delete a.reflex),"undefined"!=typeof a.content&&(a.body=a.content,delete a.content),a}),h.currentTour=new b(d),h.currentTour.startTour()},markStepShown:function(){var b=this.getStepConfig(this.getCurrentStepNumber());c.when(a.call([{methodname:"tool_usertours_step_shown",args:{tourid:h.tourId,context:h.context,pageurl:window.location.href,stepid:b.stepid,stepindex:this.getCurrentStepNumber()}}])[0]).fail(f.error)},markTourComplete:function(){var b=this.getStepConfig(this.getCurrentStepNumber());c.when(a.call([{methodname:"tool_usertours_complete_tour",args:{tourid:h.tourId,context:h.context,pageurl:window.location.href,stepid:b.stepid,stepindex:this.getCurrentStepNumber()}}])[0]).fail(f.error)},resetTourState:function(b){c.when(a.call([{methodname:"tool_usertours_reset_tour",args:{tourid:b,context:h.context,pageurl:window.location.href}}])[0]).then(function(a){a.startTour&&h.fetchTour(a.startTour)}).fail(g.exception)}};return{init:h.init,resetTourState:h.resetTourState}});
define('tool_usertours/managetours', ["jquery","core/ajax","core/str","core/notification"],function(a,b,c,d){var e={removeTour:function(b){b.preventDefault();var e=a(b.currentTarget).attr("href");c.get_strings([{key:"confirmtourremovaltitle",component:"tool_usertours"},{key:"confirmtourremovalquestion",component:"tool_usertours"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).then(function(a){d.confirm(a[0],a[1],a[2],a[3],function(){window.location=e})})["catch"]()},setup:function(){a("body").delegate('[data-action="delete"]',"click",e.removeTour)}};return{setup:e.setup}});
define('tool_usertours/managesteps', ["jquery","core/str","core/notification"],function(a,b,c){var d={removeStep:function(d){d.preventDefault();var e=a(d.currentTarget).attr("href");b.get_strings([{key:"confirmstepremovaltitle",component:"tool_usertours"},{key:"confirmstepremovalquestion",component:"tool_usertours"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).then(function(a){c.confirm(a[0],a[1],a[2],a[3],function(){window.location=e})})["catch"]()},setup:function(){a("body").delegate('[data-action="delete"]',"click",d.removeStep)}};return{setup:d.setup}});
!function(a,b){"function"==typeof define&&define.amd?define('tool_usertours/tour', ["jquery","core/popper"],function(c,d){return a.Tour=b(c,d)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery"),require("popper.js")):a.Tour=b(a.$,a.Popper)}(this,function(a,b){"use strict";function c(a){this.init(a)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return c.prototype.tourName,c.prototype.storageKey,c.prototype.storage,c.prototype.originalConfiguration,c.prototype.listeners,c.prototype.eventHandlers,c.prototype.steps,c.prototype.currentStepNode,c.prototype.currentStepNumber,c.prototype.currentStepPopper,c.prototype.currentStepConfig,c.prototype.templateContent,c.prototype.init=function(a){this.eventHandlers={},this.reset(),this.originalConfiguration=a||{},this.configure.apply(this,arguments);try{this.storage=window.sessionStorage,this.storageKey="tourstate_"+this.tourName}catch(b){this.storage=!1,this.storageKey=""}return this},c.prototype.reset=function(){return this.hide(),this.eventHandlers=[],this.resetStepListeners(),this.originalConfiguration={},this.steps=[],this.currentStepNumber=0,this},c.prototype.configure=function(a){var b=this;return"object"===("undefined"==typeof a?"undefined":d(a))&&("undefined"!=typeof a.tourName&&(this.tourName=a.tourName),a.eventHandlers&&!function(){var c=void 0;for(c in a.eventHandlers)a.eventHandlers[c].forEach(function(a){this.addEventHandler(c,a)},b)}(),this.resetStepDefaults(!0),"object"===d(a.steps)&&(this.steps=a.steps),"undefined"!=typeof a.template&&(this.templateContent=a.template)),this.checkMinimumRequirements(),this},c.prototype.checkMinimumRequirements=function(){if(!this.tourName)throw new Error("Tour Name required");if(!this.steps||!this.steps.length)throw new Error("Steps must be specified")},c.prototype.resetStepDefaults=function(a){return"undefined"==typeof a&&(a=!0),this.stepDefaults={},a&&"undefined"!=typeof this.originalConfiguration.stepDefaults?this.setStepDefaults(this.originalConfiguration.stepDefaults):this.setStepDefaults({}),this},c.prototype.setStepDefaults=function(b){return this.stepDefaults||(this.stepDefaults={}),a.extend(this.stepDefaults,{element:"",placement:"top",delay:0,moveOnClick:!1,moveAfterTime:0,orphan:!1,direction:1},b),this},c.prototype.getCurrentStepNumber=function(){return parseInt(this.currentStepNumber,10)},c.prototype.setCurrentStepNumber=function(a){if(this.currentStepNumber=a,this.storage)try{this.storage.setItem(this.storageKey,a)}catch(b){b.code===DOMException.QUOTA_EXCEEDED_ERR&&this.storage.removeItem(this.storageKey)}},c.prototype.getNextStepNumber=function(a){"undefined"==typeof a&&(a=this.getCurrentStepNumber());for(var b=a+1;b<=this.steps.length;){if(this.isStepPotentiallyVisible(this.getStepConfig(b)))return b;b++}return null},c.prototype.getPreviousStepNumber=function(a){"undefined"==typeof a&&(a=this.getCurrentStepNumber());for(var b=a-1;b>=0;){if(this.isStepPotentiallyVisible(this.getStepConfig(b)))return b;b--}return null},c.prototype.isLastStep=function(a){var b=this.getNextStepNumber(a);return null===b},c.prototype.isFirstStep=function(a){var b=this.getPreviousStepNumber(a);return null===b},c.prototype.isStepPotentiallyVisible=function(a){return!!a&&(!!this.isStepActuallyVisible(a)||(!("undefined"==typeof a.orphan||!a.orphan)||!("undefined"==typeof a.delay||!a.delay)))},c.prototype.isStepActuallyVisible=function(a){if(!a)return!1;var b=this.getStepTarget(a);return!!(b&&b.length&&b.is(":visible"))&&!!b.length},c.prototype.next=function(){return this.gotoStep(this.getNextStepNumber())},c.prototype.previous=function(){return this.gotoStep(this.getPreviousStepNumber(),-1)},c.prototype.gotoStep=function(a,b){if(a<0)return this.endTour();var c=this.getStepConfig(a);return null===c?this.endTour():this._gotoStep(c,b)},c.prototype._gotoStep=function(a,b){if(!a)return this.endTour();if("undefined"!=typeof a.delay&&a.delay&&!a.delayed)return a.delayed=!0,window.setTimeout(this._gotoStep.bind(this),a.delay,a,b),this;if(!a.orphan&&!this.isStepActuallyVisible(a)){var c=b==-1?"getPreviousStepNumber":"getNextStepNumber";return this.gotoStep(this[c](a.stepNumber),b)}return this.hide(),this.fireEventHandlers("beforeRender",a),this.renderStep(a),this.fireEventHandlers("afterRender",a),this},c.prototype.getStepConfig=function(b){if(null===b||b<0||b>=this.steps.length)return null;var c=this.normalizeStepConfig(this.steps[b]);return c=a.extend(c,{stepNumber:b})},c.prototype.normalizeStepConfig=function(b){return"undefined"!=typeof b.reflex&&"undefined"==typeof b.moveAfterClick&&(b.moveAfterClick=b.reflex),"undefined"!=typeof b.element&&"undefined"==typeof b.target&&(b.target=b.element),"undefined"!=typeof b.content&&"undefined"==typeof b.body&&(b.body=b.content),b=a.extend({},this.stepDefaults,b),b=a.extend({},{attachTo:b.target,attachPoint:"after"},b),b.attachTo&&(b.attachTo=a(b.attachTo).first()),b},c.prototype.getStepTarget=function(b){return b.target?a(b.target):null},c.prototype.fireEventHandlers=function(a,b){return"undefined"==typeof this.eventHandlers[a]?this:(this.eventHandlers[a].forEach(function(a){a.call(this,b)},this),this)},c.prototype.addEventHandler=function(a,b){return"undefined"==typeof this.eventHandlers[a]&&(this.eventHandlers[a]=[]),this.eventHandlers[a].push(b),this},c.prototype.processStepListeners=function(b){if(this.listeners.push({node:this.currentStepNode,args:["click",'[data-role="next"]',a.proxy(this.next,this)]},{node:this.currentStepNode,args:["click",'[data-role="previous"]',a.proxy(this.previous,this)]},{node:this.currentStepNode,args:["click",'[data-role="end"]',a.proxy(this.endTour,this)]},{node:a('[data-flexitour="backdrop"]'),args:["click",a.proxy(this.hide,this)]},{node:a("body"),args:["keydown",a.proxy(this.handleKeyDown,this)]}),b.moveOnClick){var c=this.getStepTarget(b);this.listeners.push({node:c,args:["click",a.proxy(function(b){0===a(b.target).parents('[data-flexitour="container"]').length&&window.setTimeout(a.proxy(this.next,this),500)},this)]})}return this.listeners.forEach(function(a){a.node.on.apply(a.node,a.args)}),this},c.prototype.resetStepListeners=function(){return this.listeners&&this.listeners.forEach(function(a){a.node.off.apply(a.node,a.args)}),this.listeners=[],this},c.prototype.renderStep=function(b){this.currentStepConfig=b,this.setCurrentStepNumber(b.stepNumber);var c=a(this.getTemplateContent());return c.find('[data-placeholder="title"]').html(b.title),c.find('[data-placeholder="body"]').html(b.body),this.isFirstStep(b.stepNumber)?c.find('[data-role="previous"]').prop("disabled",!0):c.find('[data-role="previous"]').prop("disabled",!1),this.isLastStep(b.stepNumber)?c.find('[data-role="next"]').prop("disabled",!0):c.find('[data-role="next"]').prop("disabled",!1),c.find('[data-role="previous"]').attr("role","button"),c.find('[data-role="next"]').attr("role","button"),c.find('[data-role="end"]').attr("role","button"),b.template=c,this.addStepToPage(b),this.processStepListeners(b),this},c.prototype.getTemplateContent=function(){return a(this.templateContent).clone()},c.prototype.addStepToPage=function(c){var d=(c.template,a('<span data-flexitour="container"></span>').html(c.template).hide()),e=a("body, html").stop(!0,!0);if(this.isStepActuallyVisible(c)){var f=this.getStepTarget(c);f.data("flexitour","target");var g=this.calculateZIndex(f);g&&(c.zIndex=g+1),c.zIndex&&d.css("zIndex",c.zIndex+1),this.positionBackdrop(c),a(document.body).append(d),this.currentStepNode=d,this.currentStepNode.css({top:0,left:0}),e.animate({scrollTop:this.calculateScrollTop(c)}).promise().then(function(){this.positionStep(c),this.revealStep(c)}.bind(this))}else c.orphan&&(c.isOrphan=!0,c.attachTo=a("body").first(),c.attachPoint="append",this.positionBackdrop(c),d.addClass("orphan"),a(document.body).append(d),this.currentStepNode=d,this.currentStepNode.offset(this.calculateStepPositionInPage()),this.currentStepNode.css("position","fixed"),this.currentStepPopper=new b(a("body"),this.currentStepNode[0],{removeOnDestroy:!0,placement:c.placement+"-start",arrowElement:'[data-role="arrow"]',modifiers:{hide:{enabled:!1},applyStyle:{onLoad:null,enabled:!1}}}),this.revealStep(c));return this},c.prototype.revealStep=function(b){return this.currentStepNode.fadeIn("",a.proxy(function(){this.announceStep(b),this.currentStepNode.focus(),window.setTimeout(a.proxy(function(){this.currentStepNode&&this.currentStepNode.focus()},this),100)},this)),this},c.prototype.announceStep=function(a){var b="tour-step-"+this.tourName+"-"+a.stepNumber;this.currentStepNode.attr("id",b);var c=this.currentStepNode.find('[data-placeholder="body"]').first();c.attr("id",b+"-body"),c.attr("role","document");var d=this.currentStepNode.find('[data-placeholder="title"]').first();d.attr("id",b+"-title"),d.attr("aria-labelledby",b+"-body"),this.currentStepNode.attr("role","dialog"),this.currentStepNode.attr("tabindex",0),this.currentStepNode.attr("aria-labelledby",b+"-title"),this.currentStepNode.attr("aria-describedby",b+"-body");var e=this.getStepTarget(a);return e&&(e.attr("tabindex")||e.attr("tabindex",0),e.data("original-describedby",e.attr("aria-describedby")).attr("aria-describedby",b+"-body")),this.accessibilityShow(a),this},c.prototype.handleKeyDown=function(b){var c="a[href], link[href], [draggable=true], [contenteditable=true], :input:enabled, [tabindex], button:enabled";switch(b.keyCode){case 27:this.endTour();break;case 9:(function(){if(this.currentStepConfig.hasBackdrop){var d=a(document.activeElement),e=this.getStepTarget(this.currentStepConfig),f=a(c),g=a('span[data-flexitour="container"]'),h=void 0;e&&(f=f.filter(function(a,b){return null!=e&&(e.has(b).length||g.has(b).length||e.is(b)||g.is(b))})),f.each(function(a,b){if(d.is(b))return h=a,!1});var i=void 0,j=void 0,k=void 0;if(void 0!=h){var l=1;b.shiftKey&&(l=-1),i=h;do i+=l,j=a(f[i]);while(j.length&&j.is(":disabled")||j.is(":hidden"));j.length?(k=j.closest(e).length,k=k||j.closest(this.currentStepNode).length):k=!1}k?j.focus():b.shiftKey?this.currentStepNode.find(c).last().focus():this.currentStepConfig.isOrphan?this.currentStepNode.focus():e.focus(),b.preventDefault()}}).call(this)}},c.prototype.startTour=function(a){if(this.storage&&"undefined"==typeof a){var b=this.storage.getItem(this.storageKey);if(b){var c=parseInt(b,10);c<=this.steps.length&&(a=c)}}return"undefined"==typeof a&&(a=this.getCurrentStepNumber()),this.fireEventHandlers("beforeStart",a),this.gotoStep(a),this.fireEventHandlers("afterStart",a),this},c.prototype.restartTour=function(){return this.startTour(0)},c.prototype.endTour=function(){if(this.fireEventHandlers("beforeEnd"),this.currentStepConfig){var a=this.getStepTarget(this.currentStepConfig);a&&(a.attr("tabindex")||a.attr("tabindex","-1"),a.focus())}return this.hide(!0),this.fireEventHandlers("afterEnd"),this},c.prototype.hide=function(b){if(this.fireEventHandlers("beforeHide"),this.currentStepNode&&this.currentStepNode.length&&(this.currentStepNode.hide(),this.currentStepPopper&&this.currentStepPopper.destroy()),this.currentStepConfig){var c=this.getStepTarget(this.currentStepConfig);c&&(c.data("original-labelledby")&&c.attr("aria-labelledby",c.data("original-labelledby")),c.data("original-describedby")&&c.attr("aria-describedby",c.data("original-describedby")),c.data("original-tabindex")&&c.attr("tabindex",c.data("tabindex"))),this.currentStepConfig=null}var d=0;if(b&&(d=400),a('[data-flexitour="step-background"]').remove(),a('[data-flexitour="step-backdrop"]').removeAttr("data-flexitour"),a('[data-flexitour="backdrop"]').fadeOut(d,function(){a(this).remove()}),this.currentStepNode&&this.currentStepNode.length){var e=this.currentStepNode.attr("id");if(e){var f='[aria-describedby="'+e+'-body"]';a(f).removeAttr("tabindex"),a(f).removeAttr("aria-describedby")}}return this.resetStepListeners(),this.accessibilityHide(),this.fireEventHandlers("afterHide"),this.currentStepNode=null,this.currentStepPopper=null,this},c.prototype.show=function(){var a=this.getCurrentStepNumber();return this.gotoStep(a)},c.prototype.getStepContainer=function(){return a(this.currentStepNode)},c.prototype.calculateScrollTop=function(b){var c=a(window).scrollTop(),d=a(window).height(),e=this.getStepTarget(b);return c="top"===b.placement?e.offset().top-d/2:"bottom"===b.placement?e.offset().top+e.height()-d/2:e.height()<=.8*d?e.offset().top-(d-e.height())/2:e.offset().top-.2*d,c=Math.max(0,c),c=Math.min(a(document).height()-d,c),Math.ceil(c)},c.prototype.calculateStepPositionInPage=function(){var b=a(window).height(),c=this.currentStepNode.height(),d=a(window).width(),e=this.currentStepNode.width();return{top:Math.ceil((b-c)/2),left:Math.ceil((d-e)/2)}},c.prototype.positionStep=function(c){var d=this.currentStepNode;if(!d||!d.length)return this;var e=void 0;switch(c.placement){case"left":e=["left","right","top","bottom"];break;case"right":e=["right","left","top","bottom"];break;case"top":e=["top","bottom","right","left"];break;case"bottom":e=["bottom","top","right","left"];break;default:e="flip"}var f=this.getStepTarget(c),g={placement:c.placement+"-start",removeOnDestroy:!0,modifiers:{flip:{behaviour:e},arrow:{element:'[data-role="arrow"]'}},onCreate:function(a){h(a)},onUpdate:function(a){h(a)}},h=function(b){var c=b.placement.split("-")[0],d=["left","right"].indexOf(c)!==-1,e=b.instance.popper.querySelector('[data-role="arrow"]'),f=a(b.instance.popper.querySelector('[data-role="flexitour-step"]'));if(d){var g=parseFloat(window.getComputedStyle(e).height),h=parseFloat(window.getComputedStyle(e).top),i=parseFloat(window.getComputedStyle(b.instance.popper).height),j=parseFloat(window.getComputedStyle(b.instance.popper).top),k=parseFloat(f.css("borderTopWidth")),l=2*parseFloat(f.css("borderTopLeftRadius")),m=h+g/2,n=i+j-k-l,o=j+k+l;if(m>=n||m<=o){var p=0;p=m>i/2?n-g:o+g,a(e).css("top",p)}}else{var q=parseFloat(window.getComputedStyle(e).width),r=parseFloat(window.getComputedStyle(e).left),s=parseFloat(window.getComputedStyle(b.instance.popper).width),t=parseFloat(window.getComputedStyle(b.instance.popper).left),u=parseFloat(f.css("borderTopWidth")),v=2*parseFloat(f.css("borderTopLeftRadius")),w=r+q/2,x=s+t-u-v,y=t+u+v;if(w>=x||w<=y){var z=0;z=w>s/2?x-q:y+q,a(e).css("left",z)}}},i=a('[data-flexitour="step-background"]');return i.length&&(f=i),this.currentStepPopper=new b(f,d[0],g),this},c.prototype.positionBackdrop=function(b){if(b.backdrop){this.currentStepConfig.hasBackdrop=!0;var c=a('<div data-flexitour="backdrop"></div>');if(b.zIndex?"append"===b.attachPoint?b.attachTo.append(c):c.insertAfter(b.attachTo):a("body").append(c),this.isStepActuallyVisible(b)){var d=a('<div data-flexitour="step-background"></div>'),e=this.getStepTarget(b),f=10,g=e;f&&(g=a("body")),d.css({width:e.outerWidth()+f+f,height:e.outerHeight()+f+f,left:e.offset().left-f,top:e.offset().top-f,backgroundColor:this.calculateInherittedBackgroundColor(g)}),e.offset().left<f&&d.css({width:e.outerWidth()+e.offset().left+f,left:e.offset().left}),e.offset().top<f&&d.css({height:e.outerHeight()+e.offset().top+f,top:e.offset().top});var h=e.css("borderRadius");h&&h!==a("body").css("borderRadius")&&d.css("borderRadius",h);var i=this.calculatePosition(e);"fixed"===i?d.css("top",0):"absolute"===i&&d.css("position","fixed");var j=d.clone();j.css({backgroundColor:c.css("backgroundColor"),opacity:c.css("opacity")}),j.attr("data-flexitour","step-background-fader"),b.zIndex?"append"===b.attachPoint?b.attachTo.append(d):(j.insertAfter(b.attachTo),d.insertAfter(b.attachTo)):(a("body").append(j),a("body").append(d)),e.attr("data-flexitour","step-backdrop"),b.zIndex&&(c.css("zIndex",b.zIndex),d.css("zIndex",b.zIndex+1),e.css("zIndex",b.zIndex+2)),j.fadeOut("2000",function(){a(this).remove()})}}return this},c.prototype.calculateZIndex=function(b){for(b=a(b);b.length&&b[0]!==document;){var c=b.css("position");if("absolute"===c||"relative"===c||"fixed"===c){var d=parseInt(b.css("zIndex"),10);if(!isNaN(d)&&0!==d)return d}b=b.parent()}return 0},c.prototype.calculateInherittedBackgroundColor=function(b){var c=a("<div>").hide();a("body").append(c);var d=c.css("backgroundColor");for(c.remove(),b=a(b);b.length&&b[0]!==document;){var e=b.css("backgroundColor");if(e!==d)return e;b=b.parent()}return null},c.prototype.calculatePosition=function(b){for(b=a(b);b.length&&b[0]!==document;){var c=b.css("position");if("static"!==c)return c;b=b.parent()}return null},c.prototype.accessibilityShow=function(){var b="data-has-hidden",c="aria-hidden",d=function(a){var d=a.data("flexitour");if(d)switch(d){case"container":case"target":return}var e=a.attr(c);e||(a.attr(b,!0),a.attr(c,!0))};this.currentStepNode.siblings().each(function(b,c){d(a(c))}),this.currentStepNode.parentsUntil("body").siblings().each(function(b,c){d(a(c))})},c.prototype.accessibilityHide=function(){var b="data-has-hidden",c="aria-hidden",d=function(a){var d=a.attr(b);"undefined"!=typeof d&&(a.removeAttr(b),a.removeAttr(c))};a("["+b+"]").each(function(b,c){d(a(c))})},"object"===("undefined"==typeof exports?"undefined":d(exports))&&(module.exports=c),c});
define('tool_xmldb/move', ["jquery","core/sortable_list","core/ajax","core/notification"],function(a,b,c,d){return{init:function(e,f){var g=new b("#"+e+" tbody");g.getElementName=function(b){return a.Deferred().resolve(b.attr("data-name"))};var h;a("#"+e+" tbody tr").on(b.EVENTS.DRAGSTART,function(b,c){h=c.sourceList.children().index(c.element),setTimeout(function(){a(".sortable-list-is-dragged").width(c.element.width())},501)}).on(b.EVENTS.DROP,function(a,b){var e=b.targetList.children().index(b.element),g=b.element.find("[data-action="+f+"]");if(b.positionChanged&&g.length){var i={methodname:"tool_xmldb_invoke_move_action",args:{action:f,dir:g.attr("data-dir"),table:g.attr("data-table"),field:g.attr("data-field"),key:g.attr("data-key"),index:g.attr("data-index"),position:e-h}};c.call([i])[0].fail(d.exception)}})}}});
define('theme_adaptable/savebutton', ["jquery","theme_bootstrapbase/bootstrap","core/log"],function(n,e,i){"use strict";return i.debug("Adaptable savebutton.js function called"),{init:function(){n(document).ready(function(n){n("#savediscardsection").hide(),n("#adminsettings :input").on("change input",function(){n("#savediscardsection").fadeIn("slow")}),n("#adminsubmitbutton").click(function(){n("#adminsettings").submit()}),n("#adminresetbutton").click(function(){1==confirm("This resets any changes made since loading this page. Are you sure?")&&(n("#adminsettings")[0].reset(),n("#savediscardsection").hide())}),n(".colourdialogue").click(function(){n("#savediscardsection").fadeIn("slow")})})}}});
define('theme_adaptable/bsoptions', ["jquery","theme_bootstrapbase/bootstrap","core/log"],function(n,o,t){"use strict";return t.debug("Adaptable Bootstrap AMD opt in functions"),{init:function(o){if(n(document).ready(function(n){o&&n("#navwrap").length>0&&n("#navwrap").affix({offset:{top:n("#navwrap").offset().top}}),n("#openoverlaymenu").click(function(){n("#conditionalmenu").toggleClass("open")}),n("#overlaymenuclose").click(function(){n("#conditionalmenu").toggleClass("open")})}),o){var t=function(){scrollBy(0,-50)};location.hash&&t(),window.addEventListener("hashchange",t)}}}});
define('theme_boost/dropdown', ["exports","jquery","core/popper","./util"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function g(){return g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g.apply(this,arguments)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var k=e(b),l=e(c),m=e(d),n=function(a){var b="dropdown",c="4.0.0",d="bs.dropdown",e=".".concat(d),i=".data-api",k=a.fn[b],n=27,o=32,p=9,q=38,r=40,s=3,t=new RegExp("".concat(q,"|").concat(r,"|").concat(n)),u={HIDE:"hide".concat(e),HIDDEN:"hidden".concat(e),SHOW:"show".concat(e),SHOWN:"shown".concat(e),CLICK:"click".concat(e),CLICK_DATA_API:"click".concat(e).concat(i),KEYDOWN_DATA_API:"keydown".concat(e).concat(i),KEYUP_DATA_API:"keyup".concat(e).concat(i)},v={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},w={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},x={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},y={offset:0,flip:!1,boundary:"scrollParent"},z={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},A=function(){function i(a,b){h(this,i),this._element=a,this._popper=null,this._config=this._getConfig(b),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return j(i,[{key:"toggle",value:function(){if(!this._element.disabled&&!a(this._element).hasClass(v.DISABLED)){var b=i._getParentFromElement(this._element),c=a(this._menu).hasClass(v.SHOW);if(i._clearMenus(),!c){var d={relatedTarget:this._element},e=a.Event(u.SHOW,d);if(a(b).trigger(e),!e.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof l["default"])throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var f=this._element;a(b).hasClass(v.DROPUP)&&(a(this._menu).hasClass(v.MENULEFT)||a(this._menu).hasClass(v.MENURIGHT))&&(f=b),"scrollParent"!==this._config.boundary&&a(b).addClass(v.POSITION_STATIC),this._popper=new l["default"](f,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===a(b).closest(w.NAVBAR_NAV).length&&a("body").children().on("mouseover",null,a.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),a(this._menu).toggleClass(v.SHOW),a(b).toggleClass(v.SHOW).trigger(a.Event(u.SHOWN,d))}}}}},{key:"dispose",value:function(){a.removeData(this._element,d),a(this._element).off(e),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}},{key:"_addEventListeners",value:function(){var b=this;a(this._element).on(u.CLICK,function(a){a.preventDefault(),a.stopPropagation(),b.toggle()})}},{key:"_getConfig",value:function(c){return c=g({},this.constructor.Default,a(this._element).data(),c),m["default"].typeCheckConfig(b,c,this.constructor.DefaultType),c}},{key:"_getMenuElement",value:function(){if(!this._menu){var b=i._getParentFromElement(this._element);this._menu=a(b).find(w.MENU)[0]}return this._menu}},{key:"_getPlacement",value:function(){var b=a(this._element).parent(),c=x.BOTTOM;return b.hasClass(v.DROPUP)?(c=x.TOP,a(this._menu).hasClass(v.MENURIGHT)&&(c=x.TOPEND)):b.hasClass(v.DROPRIGHT)?c=x.RIGHT:b.hasClass(v.DROPLEFT)?c=x.LEFT:a(this._menu).hasClass(v.MENURIGHT)&&(c=x.BOTTOMEND),c}},{key:"_detectNavbar",value:function(){return a(this._element).closest(".navbar").length>0}},{key:"_getPopperConfig",value:function(){var a=this,b={};"function"==typeof this._config.offset?b.fn=function(b){return b.offsets=g({},b.offsets,a._config.offset(b.offsets)||{}),b}:b.offset=this._config.offset;var c={placement:this._getPlacement(),modifiers:{offset:b,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return c}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(d),e="object"===f(b)?b:null;if(c||(c=new i(this,e),a(this).data(d,c)),"string"==typeof b){if("undefined"==typeof c[b])throw new TypeError('No method named "'.concat(b,'"'));c[b]()}})}},{key:"_clearMenus",value:function(b){if(!b||b.which!==s&&("keyup"!==b.type||b.which===p))for(var c=a.makeArray(a(w.DATA_TOGGLE)),e=0;e<c.length;e++){var f=i._getParentFromElement(c[e]),g=a(c[e]).data(d),h={relatedTarget:c[e]};if(g){var j=g._menu;if(a(f).hasClass(v.SHOW)&&!(b&&("click"===b.type&&/input|textarea/i.test(b.target.tagName)||"keyup"===b.type&&b.which===p)&&a.contains(f,b.target))){var k=a.Event(u.HIDE,h);a(f).trigger(k),k.isDefaultPrevented()||("ontouchstart"in document.documentElement&&a("body").children().off("mouseover",null,a.noop),c[e].setAttribute("aria-expanded","false"),a(j).removeClass(v.SHOW),a(f).removeClass(v.SHOW).trigger(a.Event(u.HIDDEN,h)))}}}}},{key:"_getParentFromElement",value:function(b){var c,d=m["default"].getSelectorFromElement(b);return d&&(c=a(d)[0]),c||b.parentNode}},{key:"_dataApiKeydownHandler",value:function(b){if((/input|textarea/i.test(b.target.tagName)?!(b.which===o||b.which!==n&&(b.which!==r&&b.which!==q||a(b.target).closest(w.MENU).length)):t.test(b.which))&&(b.preventDefault(),b.stopPropagation(),!this.disabled&&!a(this).hasClass(v.DISABLED))){var c=i._getParentFromElement(this),d=a(c).hasClass(v.SHOW);if(!d&&(b.which!==n||b.which!==o)||d&&(b.which===n||b.which===o)){if(b.which===n){var e=a(c).find(w.DATA_TOGGLE)[0];a(e).trigger("focus")}return void a(this).trigger("click")}var f=a(c).find(w.VISIBLE_ITEMS).get();if(0!==f.length){var g=f.indexOf(b.target);b.which===q&&g>0&&g--,b.which===r&&g<f.length-1&&g++,g<0&&(g=0),f[g].focus()}}}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return y}},{key:"DefaultType",get:function(){return z}}]),i}();return a(document).on(u.KEYDOWN_DATA_API,w.DATA_TOGGLE,A._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,w.MENU,A._dataApiKeydownHandler).on("".concat(u.CLICK_DATA_API," ").concat(u.KEYUP_DATA_API),A._clearMenus).on(u.CLICK_DATA_API,w.DATA_TOGGLE,function(b){b.preventDefault(),b.stopPropagation(),A._jQueryInterface.call(a(this),"toggle")}).on(u.CLICK_DATA_API,w.FORM_CHILD,function(a){a.stopPropagation()}),a.fn[b]=A._jQueryInterface,a.fn[b].Constructor=A,a.fn[b].noConflict=function(){return a.fn[b]=k,A._jQueryInterface},A}(k["default"],l["default"]);a["default"]=n});
define('theme_boost/alert', ["exports","jquery","./util"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var h=d(b),i=d(c),j=function(a){var b="alert",c="4.0.0",d="bs.alert",f=".".concat(d),h=".data-api",j=a.fn[b],k=150,l={DISMISS:'[data-dismiss="alert"]'},m={CLOSE:"close".concat(f),CLOSED:"closed".concat(f),CLICK_DATA_API:"click".concat(f).concat(h)},n={ALERT:"alert",FADE:"fade",SHOW:"show"},o=function(){function b(a){e(this,b),this._element=a}return g(b,[{key:"close",value:function(a){a=a||this._element;var b=this._getRootElement(a),c=this._triggerCloseEvent(b);c.isDefaultPrevented()||this._removeElement(b)}},{key:"dispose",value:function(){a.removeData(this._element,d),this._element=null}},{key:"_getRootElement",value:function(b){var c=i["default"].getSelectorFromElement(b),d=!1;return c&&(d=a(c)[0]),d||(d=a(b).closest(".".concat(n.ALERT))[0]),d}},{key:"_triggerCloseEvent",value:function(b){var c=a.Event(m.CLOSE);return a(b).trigger(c),c}},{key:"_removeElement",value:function(b){var c=this;return a(b).removeClass(n.SHOW),i["default"].supportsTransitionEnd()&&a(b).hasClass(n.FADE)?void a(b).one(i["default"].TRANSITION_END,function(a){return c._destroyElement(b,a)}).emulateTransitionEnd(k):void this._destroyElement(b)}},{key:"_destroyElement",value:function(b){a(b).detach().trigger(m.CLOSED).remove()}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var e=a(this),f=e.data(d);f||(f=new b(this),e.data(d,f)),"close"===c&&f[c](this)})}},{key:"_handleDismiss",value:function(a){return function(b){b&&b.preventDefault(),a.close(this)}}},{key:"VERSION",get:function(){return c}}]),b}();return a(document).on(m.CLICK_DATA_API,l.DISMISS,o._handleDismiss(new o)),a.fn[b]=o._jQueryInterface,a.fn[b].Constructor=o,a.fn[b].noConflict=function(){return a.fn[b]=j,o._jQueryInterface},o}(h["default"]);a["default"]=j});
define('theme_boost/aria', ["jquery","core/pending"],function(a,b){return{init:function(){var c=!1,d=function(){c=!0},e=function(){var a=c;return c=!1,a};a('[data-toggle="dropdown"]').keydown(function(b){var c,e=b.which||b.keyCode;38==e&&d(),27==e&&(c=a(b.target).attr("aria-expanded"),b.preventDefault(),"false"==c&&a(b.target).click()),32!=e&&13!=e||(b.preventDefault(),a(b.target).click())});var f=function(c){var d=function(b){a(this).focus(),b.resolve()}.bind(c);setTimeout(d,50,new b("core/aria:delayed-focus"))};a(".dropdown").on("shown.bs.dropdown",function(b){var c=a(b.target).find('[role="menu"]'),d=!1,g=!1;c&&(d=a(c).find('[role="menuitem"]')),d&&d.length>0&&(g=e()?d[d.length-1]:d[0]),g&&f(g)}),a('.dropdown [role="menu"] [role="menuitem"]').keypress(function(b){var c,d,e=String.fromCharCode(b.which||b.keyCode),g=a(b.target).closest('[role="menu"]'),h=0,i=!1;if(g&&(i=a(g).find('[role="menuitem"]')))for(e=e.toLowerCase(),h=0;h<i.length;h++)if(c=a(i[h]),d=c.text().trim().toLowerCase(),0==d.indexOf(e)){f(c);break}}),a('.dropdown [role="menu"] [role="menuitem"]').keydown(function(b){var c=b.which||b.keyCode,d=!1,e=a(b.target).closest('[role="menu"]'),g=0,h=!1;if(e&&(h=a(e).find('[role="menuitem"]'))){if(40==c){for(g=0;g<h.length-1;g++)if(h[g]==b.target){d=h[g+1];break}d||(d=h[0])}else if(38==c){for(g=1;g<h.length;g++)if(h[g]==b.target){d=h[g-1];break}d||(d=h[h.length-1])}else 36==c?d=h[0]:35==c&&(d=h[h.length-1]);d&&(b.preventDefault(),f(d))}}),a(".dropdown").on("hidden.bs.dropdown",function(b){var c=a(b.target).find('[data-toggle="dropdown"]');c&&f(c)}),a(function(){window.setTimeout(function(b){var c=a('[role="alert"][data-aria-autofocus="true"]');c.length>0&&(a(c[0]).attr("tabindex","0"),a(c[0]).focus()),b.resolve()},300,new b("core/aria:delayed-focus"))})}}});
define('theme_boost/drawer', ["jquery","core/custom_interaction_events","core/log"],function(a,b,c){var d={TOGGLE_REGION:'[data-region="drawer-toggle"]',TOGGLE_ACTION:'[data-action="toggle-drawer"]',TOGGLE_TARGET:"aria-controls",TOGGLE_SIDE:"left",BODY:"body",SECTION:'.list-group-item[href*="#section-"]'},e=a(document).width()<768,f=function(){a(d.TOGGLE_REGION).length||c.debug("Page is missing a drawer region"),a(d.TOGGLE_ACTION).length||c.debug("Page is missing a drawer toggle link"),a(d.TOGGLE_REGION).each(function(b,c){var f=a(c).find(d.TOGGLE_ACTION),g=f.attr("aria-controls"),h=a(document.getElementById(g)),i="false"==f.attr("aria-expanded"),j=f.attr("data-side"),k=a(d.BODY),l=f.attr("data-preference");e&&M.util.set_user_preference(l,"false"),h.on("mousewheel DOMMouseScroll",this.preventPageScroll),i?f.attr("aria-expanded","false"):(k.addClass("drawer-open-"+j),f.attr("aria-expanded","true"))}.bind(this)),this.registerEventListeners(),e&&this.closeAll()};return f.prototype.closeAll=function(){a(d.TOGGLE_REGION).each(function(b,c){var f=a(c).find(d.TOGGLE_ACTION),g=f.attr("data-side"),h=a(d.BODY),i=f.attr("aria-controls"),j=a(document.getElementById(i)),k=f.attr("data-preference");f.attr("aria-expanded","false"),h.removeClass("drawer-open-"+g),j.attr("aria-hidden","true"),j.addClass("closed"),e||M.util.set_user_preference(k,"false")})},f.prototype.toggleDrawer=function(b){var c=a(b.target).closest("[data-action=toggle-drawer]"),f=c.attr("aria-controls"),g=a(document.getElementById(f)),h=a(d.BODY),i=c.attr("data-side"),j=c.attr("data-preference");e&&M.util.set_user_preference(j,"false"),h.addClass("drawer-ease");var k="true"==c.attr("aria-expanded");k?(h.removeClass("drawer-open-"+i),c.attr("aria-expanded","false"),g.attr("aria-hidden","true"),g.addClass("closed"),e||M.util.set_user_preference(j,"false")):(c.attr("aria-expanded","true"),g.attr("aria-hidden","false"),g.focus(),h.addClass("drawer-open-"+i),g.removeClass("closed"),e||M.util.set_user_preference(j,"true"))},f.prototype.preventPageScroll=function(b){var c=b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.originalEvent.detail,d=this.scrollTop+a(this).outerHeight()-this.scrollHeight>=0,e=this.scrollTop<=0;(c<0&&d||c>0&&e)&&b.preventDefault()},f.prototype.registerEventListeners=function(){a(d.TOGGLE_ACTION).each(function(c,d){b.define(a(d),[b.events.activate]),a(d).on(b.events.activate,function(a,b){this.toggleDrawer(b.originalEvent),b.originalEvent.preventDefault()}.bind(this))}.bind(this)),a(d.SECTION).click(function(){e&&this.closeAll()}.bind(this))},{init:function(){return new f}}});
!function(a,b){"function"==typeof define&&define.amd?define('theme_boost/tether', b):"object"==typeof exports?module.exports=b(require,exports,module):a.Tether=b()}(this,function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){var b=a.getBoundingClientRect(),c={};for(var d in b)c[d]=b[d];if(a.ownerDocument!==document){var f=a.ownerDocument.defaultView.frameElement;if(f){var g=e(f);c.top+=g.top,c.bottom+=g.top,c.left+=g.left,c.right+=g.left}}return c}function f(a){var b=getComputedStyle(a)||{},c=b.position,d=[];if("fixed"===c)return[a];for(var e=a;(e=e.parentNode)&&e&&1===e.nodeType;){var f=void 0;try{f=getComputedStyle(e)}catch(g){}if("undefined"==typeof f||null===f)return d.push(e),d;var h=f,i=h.overflow,j=h.overflowX,k=h.overflowY;/(auto|scroll)/.test(i+k+j)&&("absolute"!==c||["relative","absolute","fixed"].indexOf(f.position)>=0)&&d.push(e)}return d.push(a.ownerDocument.body),a.ownerDocument!==document&&d.push(a.ownerDocument.defaultView),d}function g(){z&&document.body.removeChild(z),z=null}function h(a){var b=void 0;a===document?(b=document,a=document.documentElement):b=a.ownerDocument;var c=b.documentElement,d=e(a),f=C();return d.top-=f.top,d.left-=f.left,"undefined"==typeof d.width&&(d.width=document.body.scrollWidth-d.left-d.right),"undefined"==typeof d.height&&(d.height=document.body.scrollHeight-d.top-d.bottom),d.top=d.top-c.clientTop,d.left=d.left-c.clientLeft,d.right=b.body.clientWidth-d.width-d.left,d.bottom=b.body.clientHeight-d.height-d.top,d}function i(a){return a.offsetParent||document.documentElement}function j(){var a=document.createElement("div");a.style.width="100%",a.style.height="200px";var b=document.createElement("div");k(b.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),b.appendChild(a),document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";var d=a.offsetWidth;c===d&&(d=b.clientWidth),document.body.removeChild(b);var e=c-d;return{width:e,height:e}}function k(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=[];return Array.prototype.push.apply(b,arguments),b.slice(1).forEach(function(b){if(b)for(var c in b)({}).hasOwnProperty.call(b,c)&&(a[c]=b[c])}),a}function l(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.remove(b)});else{var c=new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi"),d=o(a).replace(c," ");p(a,d)}}function m(a,b){if("undefined"!=typeof a.classList)b.split(" ").forEach(function(b){b.trim()&&a.classList.add(b)});else{l(a,b);var c=o(a)+(" "+b);p(a,c)}}function n(a,b){if("undefined"!=typeof a.classList)return a.classList.contains(b);var c=o(a);return new RegExp("(^| )"+b+"( |$)","gi").test(c)}function o(a){return a.className instanceof a.ownerDocument.defaultView.SVGAnimatedString?a.className.baseVal:a.className}function p(a,b){a.setAttribute("class",b)}function q(a,b,c){c.forEach(function(c){b.indexOf(c)===-1&&n(a,c)&&l(a,c)}),b.forEach(function(b){n(a,b)||m(a,b)})}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function r(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function s(a,b){var c=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return a+c>=b&&b>=a-c}function t(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function u(){for(var a={top:0,left:0},b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){var c=b.top,d=b.left;"string"==typeof c&&(c=parseFloat(c,10)),"string"==typeof d&&(d=parseFloat(d,10)),a.top+=c,a.left+=d}),a}function v(a,b){return"string"==typeof a.left&&a.left.indexOf("%")!==-1&&(a.left=parseFloat(a.left,10)/100*b.width),"string"==typeof a.top&&a.top.indexOf("%")!==-1&&(a.top=parseFloat(a.top,10)/100*b.height),a}function w(a,b){return"scrollParent"===b?b=a.scrollParents[0]:"window"===b&&(b=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),b===document&&(b=b.documentElement),"undefined"!=typeof b.nodeType&&!function(){var a=b,c=h(b),d=c,e=getComputedStyle(b);if(b=[d.left,d.top,c.width+d.left,c.height+d.top],a.ownerDocument!==document){var f=a.ownerDocument.defaultView;b[0]+=f.pageXOffset,b[1]+=f.pageYOffset,b[2]+=f.pageXOffset,b[3]+=f.pageYOffset}W.forEach(function(a,c){a=a[0].toUpperCase()+a.substr(1),"Top"===a||"Left"===a?b[c]+=parseFloat(e["border"+a+"Width"]):b[c]-=parseFloat(e["border"+a+"Width"])})}(),b}var x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),y=void 0;"undefined"==typeof y&&(y={modules:[]});var z=null,A=function(){var a=0;return function(){return++a}}(),B={},C=function(){var a=z;a||(a=document.createElement("div"),a.setAttribute("data-tether-id",A()),k(a.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(a),z=a);var b=a.getAttribute("data-tether-id");return"undefined"==typeof B[b]&&(B[b]=e(a),E(function(){delete B[b]})),B[b]},D=[],E=function(a){D.push(a)},F=function(){for(var a=void 0;a=D.pop();)a()},G=function(){function a(){d(this,a)}return x(a,[{key:"on",value:function(a,b,c){var d=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[a]&&(this.bindings[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})}},{key:"once",value:function(a,b,c){this.on(a,b,c,!0)}},{key:"off",value:function(a,b){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[a])if("undefined"==typeof b)delete this.bindings[a];else for(var c=0;c<this.bindings[a].length;)this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):++c}},{key:"trigger",value:function(a){if("undefined"!=typeof this.bindings&&this.bindings[a]){for(var b=0,c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];for(;b<this.bindings[a].length;){var f=this.bindings[a][b],g=f.handler,h=f.ctx,i=f.once,j=h;"undefined"==typeof j&&(j=this),g.apply(j,d),i?this.bindings[a].splice(b,1):++b}}}}]),a}();y.Utils={getActualBoundingClientRect:e,getScrollParents:f,getBounds:h,getOffsetParent:i,extend:k,addClass:m,removeClass:l,hasClass:n,updateClasses:q,defer:E,flush:F,uniqueId:A,Evented:G,getScrollBarSize:j,removeUtilElements:g};var H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),I=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;if(void 0===i)return;return i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return;a=j,b=f,c=g,d=!0,h=j=void 0}};if("undefined"==typeof y)throw new Error("You must include the utils.js file before tether.js");var J=y.Utils,f=J.getScrollParents,h=J.getBounds,i=J.getOffsetParent,k=J.extend,m=J.addClass,l=J.removeClass,q=J.updateClasses,E=J.defer,F=J.flush,j=J.getScrollBarSize,g=J.removeUtilElements,K=function(){if("undefined"==typeof document)return"";for(var a=document.createElement("div"),b=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],c=0;c<b.length;++c){var d=b[c];if(void 0!==a.style[d])return d}}(),L=[],M=function(){L.forEach(function(a){a.position(!1)}),F()};!function(){var a=null,b=null,c=null,d=function e(){return"undefined"!=typeof b&&b>16?(b=Math.min(b-16,250),void(c=setTimeout(e,250))):void("undefined"!=typeof a&&t()-a<10||(null!=c&&(clearTimeout(c),c=null),a=t(),M(),b=t()-a))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(a){window.addEventListener(a,d)})}();var N={center:"center",left:"right",right:"left"},O={middle:"middle",top:"bottom",bottom:"top"},P={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},Q=function(a,b){var c=a.left,d=a.top;return"auto"===c&&(c=N[b.left]),"auto"===d&&(d=O[b.top]),{left:c,top:d}},R=function(a){var b=a.left,c=a.top;return"undefined"!=typeof P[a.left]&&(b=P[a.left]),"undefined"!=typeof P[a.top]&&(c=P[a.top]),{left:b,top:c}},S=function(a){var b=a.split(" "),c=H(b,2),d=c[0],e=c[1];return{top:d,left:e}},T=S,U=function(a){function b(a){var c=this;d(this,b),I(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.position=this.position.bind(this),L.push(this),this.history=[],this.setOptions(a,!1),y.modules.forEach(function(a){"undefined"!=typeof a.initialize&&a.initialize.call(c)}),this.position()}return r(b,a),x(b,[{key:"getClass",value:function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],b=this.options.classes;return"undefined"!=typeof b&&b[a]?this.options.classes[a]:this.options.classPrefix?this.options.classPrefix+"-"+a:a}},{key:"setOptions",value:function(a){var b=this,c=arguments.length<=1||void 0===arguments[1]||arguments[1],d={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=k(d,a);var e=this.options,g=e.element,h=e.target,i=e.targetModifier;if(this.element=g,this.target=h,this.targetModifier=i,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(a){if("undefined"==typeof b[a])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof b[a].jquery?b[a]=b[a][0]:"string"==typeof b[a]&&(b[a]=document.querySelector(b[a]))}),m(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&m(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=T(this.options.targetAttachment),this.attachment=T(this.options.attachment),this.offset=S(this.options.offset),this.targetOffset=S(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=f(this.target),this.options.enabled!==!1&&this.enable(c)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return h(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var a=h(this.target),b={height:a.height,width:a.width,top:a.top,left:a.left};return b.height=Math.min(b.height,a.height-(pageYOffset-a.top)),b.height=Math.min(b.height,a.height-(a.top+a.height-(pageYOffset+innerHeight))),b.height=Math.min(innerHeight,b.height),b.height-=2,b.width=Math.min(b.width,a.width-(pageXOffset-a.left)),b.width=Math.min(b.width,a.width-(a.left+a.width-(pageXOffset+innerWidth))),b.width=Math.min(innerWidth,b.width),b.width-=2,b.top<pageYOffset&&(b.top=pageYOffset),b.left<pageXOffset&&(b.left=pageXOffset),b}if("scroll-handle"===this.targetModifier){var a=void 0,c=this.target;c===document.body?(c=document.documentElement,a={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):a=h(c);var d=getComputedStyle(c),e=c.scrollWidth>c.clientWidth||[d.overflow,d.overflowX].indexOf("scroll")>=0||this.target!==document.body,f=0;e&&(f=15);var g=a.height-parseFloat(d.borderTopWidth)-parseFloat(d.borderBottomWidth)-f,b={width:15,height:.975*g*(g/c.scrollHeight),left:a.left+a.width-parseFloat(d.borderLeftWidth)-15},i=0;g<408&&this.target===document.body&&(i=-11e-5*Math.pow(g,2)-.00727*g+22.58),this.target!==document.body&&(b.height=Math.max(b.height,24));var j=this.target.scrollTop/(c.scrollHeight-g);return b.top=j*(g-b.height-i)+a.top+parseFloat(d.borderTopWidth),this.target===document.body&&(b.height=Math.max(b.height,24)),b}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(a,b){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[a]&&(this._cache[a]=b.call(this)),this._cache[a]}},{key:"enable",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&m(this.target,this.getClass("enabled")),m(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(b){b!==a.target.ownerDocument&&b.addEventListener("scroll",a.position)}),b&&this.position()}},{key:"disable",value:function(){var a=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(b){b.removeEventListener("scroll",a.position)})}},{key:"destroy",value:function(){var a=this;this.disable(),L.forEach(function(b,c){b===a&&L.splice(c,1)}),0===L.length&&g()}},{key:"updateAttachClasses",value:function(a,b){var c=this;a=a||this.attachment,b=b||this.targetAttachment;var d=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var e=this._addAttachClasses;a.top&&e.push(this.getClass("element-attached")+"-"+a.top),a.left&&e.push(this.getClass("element-attached")+"-"+a.left),b.top&&e.push(this.getClass("target-attached")+"-"+b.top),b.left&&e.push(this.getClass("target-attached")+"-"+b.left);var f=[];d.forEach(function(a){f.push(c.getClass("element-attached")+"-"+a),f.push(c.getClass("target-attached")+"-"+a)}),E(function(){"undefined"!=typeof c._addAttachClasses&&(q(c.element,c._addAttachClasses,f),c.options.addTargetClasses!==!1&&q(c.target,c._addAttachClasses,f),delete c._addAttachClasses)})}},{key:"position",value:function(){var a=this,b=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var c=Q(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,c);var d=this.cache("element-bounds",function(){return h(a.element)}),e=d.width,f=d.height;if(0===e&&0===f&&"undefined"!=typeof this.lastSize){var g=this.lastSize;e=g.width,f=g.height}else this.lastSize={width:e,height:f};var k=this.cache("target-bounds",function(){return a.getTargetBounds()}),l=k,m=v(R(this.attachment),{width:e,height:f}),n=v(R(c),l),o=v(this.offset,{width:e,height:f}),p=v(this.targetOffset,l);m=u(m,o),n=u(n,p);for(var q=k.left+n.left-m.left,r=k.top+n.top-m.top,s=0;s<y.modules.length;++s){var t=y.modules[s],w=t.position.call(this,{left:q,top:r,targetAttachment:c,targetPos:k,elementPos:d,offset:m,targetOffset:n,manualOffset:o,manualTargetOffset:p,scrollbarSize:B,attachment:this.attachment});if(w===!1)return!1;"undefined"!=typeof w&&"object"==typeof w&&(r=w.top,q=w.left)}var x={page:{top:r,left:q},viewport:{top:r-pageYOffset,bottom:pageYOffset-r-f+innerHeight,left:q-pageXOffset,right:pageXOffset-q-e+innerWidth}},z=this.target.ownerDocument,A=z.defaultView,B=void 0;return z.body.scrollWidth>A.innerWidth&&(B=this.cache("scrollbar-size",j),x.viewport.bottom-=B.height),z.body.scrollHeight>A.innerHeight&&(B=this.cache("scrollbar-size",j),x.viewport.right-=B.width),["","static"].indexOf(z.body.style.position)!==-1&&["","static"].indexOf(z.body.parentElement.style.position)!==-1||(x.page.bottom=z.body.scrollHeight-r-f,x.page.right=z.body.scrollWidth-q-e),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var b=a.cache("target-offsetparent",function(){return i(a.target)}),c=a.cache("target-offsetparent-bounds",function(){return h(b)}),d=getComputedStyle(b),e=c,f={};if(["Top","Left","Bottom","Right"].forEach(function(a){f[a.toLowerCase()]=parseFloat(d["border"+a+"Width"])}),c.right=z.body.scrollWidth-c.left-e.width+f.right,c.bottom=z.body.scrollHeight-c.top-e.height+f.bottom,x.page.top>=c.top+f.top&&x.page.bottom>=c.bottom&&x.page.left>=c.left+f.left&&x.page.right>=c.right){var g=b.scrollTop,j=b.scrollLeft;x.offset={top:x.page.top-c.top+g-f.top,left:x.page.left-c.left+j-f.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),b&&F(),!0}}},{key:"move",value:function(a){var b=this;if("undefined"!=typeof this.element.parentNode){var c={};for(var d in a){c[d]={};for(var e in a[d]){for(var f=!1,g=0;g<this.history.length;++g){var h=this.history[g];if("undefined"!=typeof h[d]&&!s(h[d][e],a[d][e])){f=!0;break}}f||(c[d][e]=!0)}}var j={top:"",left:"",right:"",bottom:""},l=function(a,c){var d="undefined"!=typeof b.options.optimizations,e=d?b.options.optimizations.gpu:null;if(e!==!1){var f=void 0,g=void 0;a.top?(j.top=0,f=c.top):(j.bottom=0,f=-c.bottom),a.left?(j.left=0,g=c.left):(j.right=0,g=-c.right),j[K]="translateX("+Math.round(g)+"px) translateY("+Math.round(f)+"px)","msTransform"!==K&&(j[K]+=" translateZ(0)")}else a.top?j.top=c.top+"px":j.bottom=c.bottom+"px",a.left?j.left=c.left+"px":j.right=c.right+"px"},m=!1;if((c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(j.position="absolute",l(c.page,a.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(j.position="fixed",l(c.viewport,a.viewport)):"undefined"!=typeof c.offset&&c.offset.top&&c.offset.left?!function(){j.position="absolute";var d=b.cache("target-offsetparent",function(){return i(b.target)});i(b.element)!==d&&E(function(){b.element.parentNode.removeChild(b.element),d.appendChild(b.element)}),l(c.offset,a.offset),m=!0}():(j.position="absolute",l({top:!0,left:!0},a.page)),!m){for(var n=!0,o=this.element.parentNode;o&&1===o.nodeType&&"BODY"!==o.tagName;){if("static"!==getComputedStyle(o).position){n=!1;break}o=o.parentNode}n||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var p={},q=!1;for(var e in j){var r=j[e],t=this.element.style[e];t!==r&&(q=!0,p[e]=r)}q&&E(function(){k(b.element.style,p)})}}}]),b}(G);U.modules=[],y.position=M;var V=k(U,y),H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),J=y.Utils,h=J.getBounds,k=J.extend,q=J.updateClasses,E=J.defer,W=["left","top","right","bottom"];y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=a.targetAttachment;if(!this.options.constraints)return!0;var f=this.cache("element-bounds",function(){return h(b.element)}),g=f.height,i=f.width;if(0===i&&0===g&&"undefined"!=typeof this.lastSize){var j=this.lastSize;i=j.width,g=j.height}var l=this.cache("target-bounds",function(){return b.getTargetBounds()}),m=l.height,n=l.width,o=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(a){var b=a.outOfBoundsClass,c=a.pinnedClass;b&&o.push(b),c&&o.push(c)}),o.forEach(function(a){["left","top","right","bottom"].forEach(function(b){o.push(a+"-"+b)})});var p=[],r=k({},e),s=k({},this.attachment);return this.options.constraints.forEach(function(a){var f=a.to,h=a.attachment,j=a.pin;"undefined"==typeof h&&(h="");var k=void 0,l=void 0;if(h.indexOf(" ")>=0){var o=h.split(" "),q=H(o,2);l=q[0],k=q[1]}else k=l=h;var t=w(b,f);"target"!==l&&"both"!==l||(c<t[1]&&"top"===r.top&&(c+=m,r.top="bottom"),c+g>t[3]&&"bottom"===r.top&&(c-=m,r.top="top")),"together"===l&&("top"===r.top&&("bottom"===s.top&&c<t[1]?(c+=m,r.top="bottom",c+=g,s.top="top"):"top"===s.top&&c+g>t[3]&&c-(g-m)>=t[1]&&(c-=g-m,r.top="bottom",s.top="bottom")),"bottom"===r.top&&("top"===s.top&&c+g>t[3]?(c-=m,r.top="top",c-=g,s.top="bottom"):"bottom"===s.top&&c<t[1]&&c+(2*g-m)<=t[3]&&(c+=g-m,r.top="top",s.top="top")),"middle"===r.top&&(c+g>t[3]&&"top"===s.top?(c-=g,s.top="bottom"):c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"))),"target"!==k&&"both"!==k||(d<t[0]&&"left"===r.left&&(d+=n,r.left="right"),d+i>t[2]&&"right"===r.left&&(d-=n,r.left="left")),"together"===k&&(d<t[0]&&"left"===r.left?"right"===s.left?(d+=n,r.left="right",d+=i,s.left="left"):"left"===s.left&&(d+=n,r.left="right",d-=i,s.left="right"):d+i>t[2]&&"right"===r.left?"left"===s.left?(d-=n,r.left="left",d-=i,s.left="right"):"right"===s.left&&(d-=n,r.left="left",d+=i,s.left="left"):"center"===r.left&&(d+i>t[2]&&"left"===s.left?(d-=i,s.left="right"):d<t[0]&&"right"===s.left&&(d+=i,s.left="left"))),"element"!==l&&"both"!==l||(c<t[1]&&"bottom"===s.top&&(c+=g,s.top="top"),c+g>t[3]&&"top"===s.top&&(c-=g,s.top="bottom")),"element"!==k&&"both"!==k||(d<t[0]&&("right"===s.left?(d+=i,s.left="left"):"center"===s.left&&(d+=i/2,s.left="left")),d+i>t[2]&&("left"===s.left?(d-=i,s.left="right"):"center"===s.left&&(d-=i/2,s.left="right"))),"string"==typeof j?j=j.split(",").map(function(a){return a.trim()}):j===!0&&(j=["top","left","right","bottom"]),j=j||[];var u=[],v=[];c<t[1]&&(j.indexOf("top")>=0?(c=t[1],u.push("top")):v.push("top")),c+g>t[3]&&(j.indexOf("bottom")>=0?(c=t[3]-g,u.push("bottom")):v.push("bottom")),d<t[0]&&(j.indexOf("left")>=0?(d=t[0],u.push("left")):v.push("left")),d+i>t[2]&&(j.indexOf("right")>=0?(d=t[2]-i,u.push("right")):v.push("right")),u.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.pinnedClass?b.options.pinnedClass:b.getClass("pinned"),p.push(a),u.forEach(function(b){p.push(a+"-"+b)})}(),v.length&&!function(){var a=void 0;a="undefined"!=typeof b.options.outOfBoundsClass?b.options.outOfBoundsClass:b.getClass("out-of-bounds"),p.push(a),v.forEach(function(b){p.push(a+"-"+b)})}(),(u.indexOf("left")>=0||u.indexOf("right")>=0)&&(s.left=r.left=!1),(u.indexOf("top")>=0||u.indexOf("bottom")>=0)&&(s.top=r.top=!1),r.top===e.top&&r.left===e.left&&s.top===b.attachment.top&&s.left===b.attachment.left||(b.updateAttachClasses(s,r),b.trigger("update",{attachment:s,targetAttachment:r}))}),E(function(){b.options.addTargetClasses!==!1&&q(b.target,p,o),q(b.element,p,o)}),{top:c,left:d}}});var J=y.Utils,h=J.getBounds,q=J.updateClasses,E=J.defer;y.modules.push({position:function(a){var b=this,c=a.top,d=a.left,e=this.cache("element-bounds",function(){return h(b.element)}),f=e.height,g=e.width,i=this.getTargetBounds(),j=c+f,k=d+g,l=[];c<=i.bottom&&j>=i.top&&["left","right"].forEach(function(a){var b=i[a];b!==d&&b!==k||l.push(a)}),d<=i.right&&k>=i.left&&["top","bottom"].forEach(function(a){var b=i[a];b!==c&&b!==j||l.push(a)});var m=[],n=[],o=["left","top","right","bottom"];return m.push(this.getClass("abutted")),o.forEach(function(a){m.push(b.getClass("abutted")+"-"+a)}),l.length&&n.push(this.getClass("abutted")),l.forEach(function(a){n.push(b.getClass("abutted")+"-"+a)}),E(function(){b.options.addTargetClasses!==!1&&q(b.target,n,m),q(b.element,n,m)}),!0}});var H=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return y.modules.push({position:function(a){var b=a.top,c=a.left;if(this.options.shift){var d=this.options.shift;"function"==typeof this.options.shift&&(d=this.options.shift.call(this,{top:b,left:c}));var e=void 0,f=void 0;if("string"==typeof d){d=d.split(" "),d[1]=d[1]||d[0];var g=d,h=H(g,2);e=h[0],f=h[1],e=parseFloat(e,10),f=parseFloat(f,10)}else e=d.top,f=d.left;return b+=e,c+=f,{top:b,left:c}}}}),V});
define('theme_boost/collapse', ["exports","jquery","./util"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(){return f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f.apply(this,arguments)}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var j=d(b),k=d(c),l=function(a){var b="collapse",c="4.0.0",d="bs.collapse",h=".".concat(d),j=".data-api",l=a.fn[b],m=600,n={toggle:!0,parent:""},o={toggle:"boolean",parent:"(string|element)"},p={SHOW:"show".concat(h),SHOWN:"shown".concat(h),HIDE:"hide".concat(h),HIDDEN:"hidden".concat(h),CLICK_DATA_API:"click".concat(h).concat(j)},q={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},r={WIDTH:"width",HEIGHT:"height"},s={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},t=function(){function h(b,c){g(this,h),this._isTransitioning=!1,this._element=b,this._config=this._getConfig(c),this._triggerArray=a.makeArray(a('[data-toggle="collapse"][href="#'.concat(b.id,'"],')+'[data-toggle="collapse"][data-target="#'.concat(b.id,'"]')));for(var d=a(s.DATA_TOGGLE),e=0;e<d.length;e++){var f=d[e],i=k["default"].getSelectorFromElement(f);null!==i&&a(i).filter(b).length>0&&(this._selector=i,this._triggerArray.push(f))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return i(h,[{key:"toggle",value:function(){a(this._element).hasClass(q.SHOW)?this.hide():this.show()}},{key:"show",value:function(){var b=this;if(!this._isTransitioning&&!a(this._element).hasClass(q.SHOW)){var c,e;if(this._parent&&(c=a.makeArray(a(this._parent).find(s.ACTIVES).filter('[data-parent="'.concat(this._config.parent,'"]'))),0===c.length&&(c=null)),!(c&&(e=a(c).not(this._selector).data(d),e&&e._isTransitioning))){var f=a.Event(p.SHOW);if(a(this._element).trigger(f),!f.isDefaultPrevented()){c&&(h._jQueryInterface.call(a(c).not(this._selector),"hide"),e||a(c).data(d,null));var g=this._getDimension();a(this._element).removeClass(q.COLLAPSE).addClass(q.COLLAPSING),this._element.style[g]=0,this._triggerArray.length>0&&a(this._triggerArray).removeClass(q.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var i=function(){a(b._element).removeClass(q.COLLAPSING).addClass(q.COLLAPSE).addClass(q.SHOW),b._element.style[g]="",b.setTransitioning(!1),a(b._element).trigger(p.SHOWN)};if(!k["default"].supportsTransitionEnd())return void i();var j=g[0].toUpperCase()+g.slice(1),l="scroll".concat(j);a(this._element).one(k["default"].TRANSITION_END,i).emulateTransitionEnd(m),this._element.style[g]="".concat(this._element[l],"px")}}}}},{key:"hide",value:function(){var b=this;if(!this._isTransitioning&&a(this._element).hasClass(q.SHOW)){var c=a.Event(p.HIDE);if(a(this._element).trigger(c),!c.isDefaultPrevented()){var d=this._getDimension();if(this._element.style[d]="".concat(this._element.getBoundingClientRect()[d],"px"),k["default"].reflow(this._element),a(this._element).addClass(q.COLLAPSING).removeClass(q.COLLAPSE).removeClass(q.SHOW),this._triggerArray.length>0)for(var e=0;e<this._triggerArray.length;e++){var f=this._triggerArray[e],g=k["default"].getSelectorFromElement(f);if(null!==g){var h=a(g);h.hasClass(q.SHOW)||a(f).addClass(q.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var i=function(){b.setTransitioning(!1),a(b._element).removeClass(q.COLLAPSING).addClass(q.COLLAPSE).trigger(p.HIDDEN)};return this._element.style[d]="",k["default"].supportsTransitionEnd()?void a(this._element).one(k["default"].TRANSITION_END,i).emulateTransitionEnd(m):void i()}}}},{key:"setTransitioning",value:function(a){this._isTransitioning=a}},{key:"dispose",value:function(){a.removeData(this._element,d),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function(a){return a=f({},n,a),a.toggle=Boolean(a.toggle),k["default"].typeCheckConfig(b,a,o),a}},{key:"_getDimension",value:function(){var b=a(this._element).hasClass(r.WIDTH);return b?r.WIDTH:r.HEIGHT}},{key:"_getParent",value:function(){var b=this,c=null;k["default"].isElement(this._config.parent)?(c=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(c=this._config.parent[0])):c=a(this._config.parent)[0];var d='[data-toggle="collapse"][data-parent="'.concat(this._config.parent,'"]');return a(c).find(d).each(function(a,c){b._addAriaAndCollapsedClass(h._getTargetFromElement(c),[c])}),c}},{key:"_addAriaAndCollapsedClass",value:function(b,c){if(b){var d=a(b).hasClass(q.SHOW);c.length>0&&a(c).toggleClass(q.COLLAPSED,!d).attr("aria-expanded",d)}}}],[{key:"_getTargetFromElement",value:function(b){var c=k["default"].getSelectorFromElement(b);return c?a(c)[0]:null}},{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this),g=c.data(d),i=f({},n,c.data(),"object"===e(b)&&b);if(!g&&i.toggle&&/show|hide/.test(b)&&(i.toggle=!1),g||(g=new h(this,i),c.data(d,g)),"string"==typeof b){if("undefined"==typeof g[b])throw new TypeError('No method named "'.concat(b,'"'));g[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return n}}]),h}();return a(document).on(p.CLICK_DATA_API,s.DATA_TOGGLE,function(b){"A"===b.currentTarget.tagName&&b.preventDefault();var c=a(this),e=k["default"].getSelectorFromElement(this);a(e).each(function(){var b=a(this),e=b.data(d),f=e?"toggle":c.data();t._jQueryInterface.call(b,f)})}),a.fn[b]=t._jQueryInterface,a.fn[b].Constructor=t,a.fn[b].noConflict=function(){return a.fn[b]=l,t._jQueryInterface},t}(j["default"]);a["default"]=l});
define('theme_boost/button', ["exports","jquery"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var g=c(b),h=function(a){var b="button",c="4.0.0",e="bs.button",g=".".concat(e),h=".data-api",i=a.fn[b],j={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},k={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},l={CLICK_DATA_API:"click".concat(g).concat(h),FOCUS_BLUR_DATA_API:"focus".concat(g).concat(h," ")+"blur".concat(g).concat(h)},m=function(){function b(a){d(this,b),this._element=a}return f(b,[{key:"toggle",value:function(){var b=!0,c=!0,d=a(this._element).closest(k.DATA_TOGGLE)[0];if(d){var e=a(this._element).find(k.INPUT)[0];if(e){if("radio"===e.type)if(e.checked&&a(this._element).hasClass(j.ACTIVE))b=!1;else{var f=a(d).find(k.ACTIVE)[0];f&&a(f).removeClass(j.ACTIVE)}if(b){if(e.hasAttribute("disabled")||d.hasAttribute("disabled")||e.classList.contains("disabled")||d.classList.contains("disabled"))return;e.checked=!a(this._element).hasClass(j.ACTIVE),a(e).trigger("change")}e.focus(),c=!1}}c&&this._element.setAttribute("aria-pressed",!a(this._element).hasClass(j.ACTIVE)),b&&a(this._element).toggleClass(j.ACTIVE)}},{key:"dispose",value:function(){a.removeData(this._element,e),this._element=null}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var d=a(this).data(e);d||(d=new b(this),a(this).data(e,d)),"toggle"===c&&d[c]()})}},{key:"VERSION",get:function(){return c}}]),b}();return a(document).on(l.CLICK_DATA_API,k.DATA_TOGGLE_CARROT,function(b){b.preventDefault();var c=b.target;a(c).hasClass(j.BUTTON)||(c=a(c).closest(k.BUTTON)),m._jQueryInterface.call(a(c),"toggle")}).on(l.FOCUS_BLUR_DATA_API,k.DATA_TOGGLE_CARROT,function(b){var c=a(b.target).closest(k.BUTTON)[0];a(c).toggleClass(j.FOCUS,/^focus(in)?$/.test(b.type))}),a.fn[b]=m._jQueryInterface,a.fn[b].Constructor=m,a.fn[b].noConflict=function(){return a.fn[b]=i,m._jQueryInterface},m}(g["default"]);a["default"]=h});
define('theme_boost/tooltip', ["exports","jquery","core/popper","./util"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(){return f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f.apply(this,arguments)}function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var k=e(b),l=e(c),m=e(d),n=function(a){var b="tooltip",c="4.0.0",d="bs.tooltip",e=".".concat(d),i=a.fn[b],k=150,n="bs-tooltip",o=new RegExp("(^|\\s)".concat(n,"\\S+"),"g"),p={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},q={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},r={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},s={SHOW:"show",OUT:"out"},t={HIDE:"hide".concat(e),HIDDEN:"hidden".concat(e),SHOW:"show".concat(e),SHOWN:"shown".concat(e),INSERTED:"inserted".concat(e),CLICK:"click".concat(e),FOCUSIN:"focusin".concat(e),FOCUSOUT:"focusout".concat(e),MOUSEENTER:"mouseenter".concat(e),MOUSELEAVE:"mouseleave".concat(e)},u={FADE:"fade",SHOW:"show"},v={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},w={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},x=function(){function i(a,b){if(h(this,i),"undefined"==typeof l["default"])throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=a,this.config=this._getConfig(b),this.tip=null,this._setListeners()}return j(i,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(b){if(this._isEnabled)if(b){var c=this.constructor.DATA_KEY,d=a(b.currentTarget).data(c);d||(d=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(c,d)),d._activeTrigger.click=!d._activeTrigger.click,d._isWithActiveTrigger()?d._enter(null,d):d._leave(null,d)}else{if(a(this.getTipElement()).hasClass(u.SHOW))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),a.removeData(this.element,this.constructor.DATA_KEY),a(this.element).off(this.constructor.EVENT_KEY),a(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&a(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null}},{key:"show",value:function(){var b=this;if("none"===a(this.element).css("display"))throw new Error("Please use show on visible elements");var c=a.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){a(this.element).trigger(c);var d=a.contains(this.element.ownerDocument.documentElement,this.element);if(c.isDefaultPrevented()||!d)return;var e=this.getTipElement(),f=m["default"].getUID(this.constructor.NAME);e.setAttribute("id",f),this.element.setAttribute("aria-describedby",f),this.setContent(),this.config.animation&&a(e).addClass(u.FADE);var g="function"==typeof this.config.placement?this.config.placement.call(this,e,this.element):this.config.placement,h=this._getAttachment(g);this.addAttachmentClass(h);var j=this.config.container===!1?document.body:a(this.config.container);a(e).data(this.constructor.DATA_KEY,this),a.contains(this.element.ownerDocument.documentElement,this.tip)||a(e).appendTo(j),a(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new l["default"](this.element,e,{placement:h,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:v.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(a){a.originalPlacement!==a.placement&&b._handlePopperPlacementChange(a)},onUpdate:function(a){b._handlePopperPlacementChange(a)}}),a(e).addClass(u.SHOW),"ontouchstart"in document.documentElement&&a("body").children().on("mouseover",null,a.noop);var k=function(){b.config.animation&&b._fixTransition();var c=b._hoverState;b._hoverState=null,a(b.element).trigger(b.constructor.Event.SHOWN),c===s.OUT&&b._leave(null,b)};m["default"].supportsTransitionEnd()&&a(this.tip).hasClass(u.FADE)?a(this.tip).one(m["default"].TRANSITION_END,k).emulateTransitionEnd(i._TRANSITION_DURATION):k()}}},{key:"hide",value:function(b){var c=this,d=this.getTipElement(),e=a.Event(this.constructor.Event.HIDE),f=function(){c._hoverState!==s.SHOW&&d.parentNode&&d.parentNode.removeChild(d),c._cleanTipClass(),c.element.removeAttribute("aria-describedby"),a(c.element).trigger(c.constructor.Event.HIDDEN),null!==c._popper&&c._popper.destroy(),b&&b()};a(this.element).trigger(e),e.isDefaultPrevented()||(a(d).removeClass(u.SHOW),"ontouchstart"in document.documentElement&&a("body").children().off("mouseover",null,a.noop),this._activeTrigger[w.CLICK]=!1,this._activeTrigger[w.FOCUS]=!1,this._activeTrigger[w.HOVER]=!1,m["default"].supportsTransitionEnd()&&a(this.tip).hasClass(u.FADE)?a(d).one(m["default"].TRANSITION_END,f).emulateTransitionEnd(k):f(),this._hoverState="")}},{key:"update",value:function(){null!==this._popper&&this._popper.scheduleUpdate()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"addAttachmentClass",value:function(b){a(this.getTipElement()).addClass("".concat(n,"-").concat(b))}},{key:"getTipElement",value:function(){return this.tip=this.tip||a(this.config.template)[0],this.tip}},{key:"setContent",value:function(){var b=a(this.getTipElement());this.setElementContent(b.find(v.TOOLTIP_INNER),this.getTitle()),b.removeClass("".concat(u.FADE," ").concat(u.SHOW))}},{key:"setElementContent",value:function(b,c){var d=this.config.html;"object"===g(c)&&(c.nodeType||c.jquery)?d?a(c).parent().is(b)||b.empty().append(c):b.text(a(c).text()):b[d?"html":"text"](c)}},{key:"getTitle",value:function(){var a=this.element.getAttribute("data-original-title");return a||(a="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),a}},{key:"_getAttachment",value:function(a){return q[a.toUpperCase()]}},{key:"_setListeners",value:function(){var b=this,c=this.config.trigger.split(" ");c.forEach(function(c){if("click"===c)a(b.element).on(b.constructor.Event.CLICK,b.config.selector,function(a){return b.toggle(a)});else if(c!==w.MANUAL){var d=c===w.HOVER?b.constructor.Event.MOUSEENTER:b.constructor.Event.FOCUSIN,e=c===w.HOVER?b.constructor.Event.MOUSELEAVE:b.constructor.Event.FOCUSOUT;a(b.element).on(d,b.config.selector,function(a){return b._enter(a)}).on(e,b.config.selector,function(a){return b._leave(a)})}a(b.element).closest(".modal").on("hide.bs.modal",function(){return b.hide()})}),this.config.selector?this.config=f({},this.config,{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var a=g(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==a)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}},{key:"_enter",value:function(b,c){var d=this.constructor.DATA_KEY;return c=c||a(b.currentTarget).data(d),c||(c=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(d,c)),b&&(c._activeTrigger["focusin"===b.type?w.FOCUS:w.HOVER]=!0),a(c.getTipElement()).hasClass(u.SHOW)||c._hoverState===s.SHOW?void(c._hoverState=s.SHOW):(clearTimeout(c._timeout),c._hoverState=s.SHOW,c.config.delay&&c.config.delay.show?void(c._timeout=setTimeout(function(){c._hoverState===s.SHOW&&c.show()},c.config.delay.show)):void c.show())}},{key:"_leave",value:function(b,c){var d=this.constructor.DATA_KEY;if(c=c||a(b.currentTarget).data(d),c||(c=new this.constructor(b.currentTarget,this._getDelegateConfig()),a(b.currentTarget).data(d,c)),b&&(c._activeTrigger["focusout"===b.type?w.FOCUS:w.HOVER]=!1),!c._isWithActiveTrigger())return clearTimeout(c._timeout),c._hoverState=s.OUT,c.config.delay&&c.config.delay.hide?void(c._timeout=setTimeout(function(){c._hoverState===s.OUT&&c.hide()},c.config.delay.hide)):void c.hide()}},{key:"_isWithActiveTrigger",value:function(){for(var a in this._activeTrigger)if(this._activeTrigger[a])return!0;return!1}},{key:"_getConfig",value:function(c){return c=f({},this.constructor.Default,a(this.element).data(),c),"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),"number"==typeof c.title&&(c.title=c.title.toString()),"number"==typeof c.content&&(c.content=c.content.toString()),m["default"].typeCheckConfig(b,c,this.constructor.DefaultType),c}},{key:"_getDelegateConfig",value:function(){var a={};if(this.config)for(var b in this.config)this.constructor.Default[b]!==this.config[b]&&(a[b]=this.config[b]);return a}},{key:"_cleanTipClass",value:function(){var b=a(this.getTipElement()),c=b.attr("class").match(o);null!==c&&c.length>0&&b.removeClass(c.join(""))}},{key:"_handlePopperPlacementChange",value:function(a){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(a.placement))}},{key:"_fixTransition",value:function(){var b=this.getTipElement(),c=this.config.animation;null===b.getAttribute("x-placement")&&(a(b).removeClass(u.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=c)}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(d),e="object"===g(b)&&b;if((c||!/dispose|hide/.test(b))&&(c||(c=new i(this,e),a(this).data(d,c)),"string"==typeof b)){if("undefined"==typeof c[b])throw new TypeError('No method named "'.concat(b,'"'));c[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return r}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return d}},{key:"Event",get:function(){return t}},{key:"EVENT_KEY",get:function(){return e}},{key:"DefaultType",get:function(){return p}}]),i}();return a.fn[b]=x._jQueryInterface,a.fn[b].Constructor=x,a.fn[b].noConflict=function(){return a.fn[b]=i,x._jQueryInterface},x}(k["default"],l["default"]);a["default"]=n});
define('theme_boost/util', ["exports","jquery"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0});var d=c(b),e=function(a){function b(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function c(){return{bindType:h.end,delegateType:h.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}}}function d(){return("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"}}function e(b){var c=this,d=!1;return a(this).one(j.TRANSITION_END,function(){d=!0}),setTimeout(function(){d||j.triggerTransitionEnd(c)},b),this}function f(){h=d(),a.fn.emulateTransitionEnd=e,j.supportsTransitionEnd()&&(a.event.special[j.TRANSITION_END]=c())}function g(b){return b="function"==typeof a.escapeSelector?a.escapeSelector(b).substr(1):b.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}var h=!1,i=1e6,j={TRANSITION_END:"bsTransitionEnd",getUID:function(a){do a+=~~(Math.random()*i);while(document.getElementById(a));return a},getSelectorFromElement:function(b){var c=b.getAttribute("data-target");c&&"#"!==c||(c=b.getAttribute("href")||""),"#"===c.charAt(0)&&(c=g(c));try{var d=a(document).find(c);return d.length>0?c:null}catch(e){return null}},reflow:function(a){return a.offsetHeight},triggerTransitionEnd:function(b){a(b).trigger(h.end)},supportsTransitionEnd:function(){return Boolean(h)},isElement:function(a){return(a[0]||a).nodeType},typeCheckConfig:function(a,c,d){for(var e in d)if(Object.prototype.hasOwnProperty.call(d,e)){var f=d[e],g=c[e],h=g&&j.isElement(g)?"element":b(g);if(!new RegExp(f).test(h))throw new Error("".concat(a.toUpperCase(),": ")+'Option "'.concat(e,'" provided type "').concat(h,'" ')+'but expected type "'.concat(f,'".'))}}};return f(),j}(d["default"]);a["default"]=e});
define('theme_boost/tab', ["exports","jquery","./util"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var h=d(b),i=d(c),j=function(a){var b="tab",c="4.0.0",d="bs.tab",f=".".concat(d),h=".data-api",j=a.fn[b],k=150,l={HIDE:"hide".concat(f),HIDDEN:"hidden".concat(f),SHOW:"show".concat(f),SHOWN:"shown".concat(f),CLICK_DATA_API:"click".concat(f).concat(h)},m={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},n={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},o=function(){function b(a){e(this,b),this._element=a}return g(b,[{key:"show",value:function(){var b=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&a(this._element).hasClass(m.ACTIVE)||a(this._element).hasClass(m.DISABLED))){var c,d,e=a(this._element).closest(n.NAV_LIST_GROUP)[0],f=i["default"].getSelectorFromElement(this._element);if(e){var g="UL"===e.nodeName?n.ACTIVE_UL:n.ACTIVE;d=a.makeArray(a(e).find(g)),d=d[d.length-1]}var h=a.Event(l.HIDE,{relatedTarget:this._element}),j=a.Event(l.SHOW,{relatedTarget:d});if(d&&a(d).trigger(h),a(this._element).trigger(j),!j.isDefaultPrevented()&&!h.isDefaultPrevented()){f&&(c=a(f)[0]),this._activate(this._element,e);var k=function(){var c=a.Event(l.HIDDEN,{relatedTarget:b._element}),e=a.Event(l.SHOWN,{relatedTarget:d});a(d).trigger(c),a(b._element).trigger(e)};c?this._activate(c,c.parentNode,k):k()}}}},{key:"dispose",value:function(){a.removeData(this._element,d),this._element=null}},{key:"_activate",value:function(b,c,d){var e,f=this;e="UL"===c.nodeName?a(c).find(n.ACTIVE_UL):a(c).children(n.ACTIVE);var g=e[0],h=d&&i["default"].supportsTransitionEnd()&&g&&a(g).hasClass(m.FADE),j=function(){return f._transitionComplete(b,g,d)};g&&h?a(g).one(i["default"].TRANSITION_END,j).emulateTransitionEnd(k):j()}},{key:"_transitionComplete",value:function(b,c,d){if(c){a(c).removeClass("".concat(m.SHOW," ").concat(m.ACTIVE));var e=a(c.parentNode).find(n.DROPDOWN_ACTIVE_CHILD)[0];e&&a(e).removeClass(m.ACTIVE),"tab"===c.getAttribute("role")&&c.setAttribute("aria-selected",!1)}if(a(b).addClass(m.ACTIVE),"tab"===b.getAttribute("role")&&b.setAttribute("aria-selected",!0),i["default"].reflow(b),a(b).addClass(m.SHOW),b.parentNode&&a(b.parentNode).hasClass(m.DROPDOWN_MENU)){var f=a(b).closest(n.DROPDOWN)[0];f&&a(f).find(n.DROPDOWN_TOGGLE).addClass(m.ACTIVE),b.setAttribute("aria-expanded",!0)}d&&d()}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var e=a(this),f=e.data(d);if(f||(f=new b(this),e.data(d,f)),"string"==typeof c){if("undefined"==typeof f[c])throw new TypeError('No method named "'.concat(c,'"'));f[c]()}})}},{key:"VERSION",get:function(){return c}}]),b}();return a(document).on(l.CLICK_DATA_API,n.DATA_TOGGLE,function(b){b.preventDefault(),o._jQueryInterface.call(a(this),"show")}),a.fn[b]=o._jQueryInterface,a.fn[b].Constructor=o,a.fn[b].noConflict=function(){return a.fn[b]=j,o._jQueryInterface},o}(h["default"]);a["default"]=j});
define('theme_boost/loader', ["jquery","./tether","core/event"],function(a,b,c){return window.jQuery=a,window.Tether=b,require(["theme_boost/aria","theme_boost/util","theme_boost/alert","theme_boost/button","theme_boost/carousel","theme_boost/collapse","theme_boost/dropdown","theme_boost/modal","theme_boost/scrollspy","theme_boost/tab","theme_boost/tooltip","theme_boost/popover"],function(b){a("body").popover({trigger:"focus",selector:"[data-toggle=popover][data-trigger!=hover]"}),a("html").popover({container:"body",selector:"[data-toggle=popover][data-trigger=hover]",trigger:"hover",delay:{hide:500}}),c.getLegacyEvents().done(function(b){a(document).on(b.FILTER_CONTENT_UPDATED,function(){a("body").popover({selector:'[data-toggle="popover"]',trigger:"focus"})})}),b.init()}),{}});
define('theme_boost/modal', ["exports","jquery","./util"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(){return f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f.apply(this,arguments)}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var j=d(b),k=d(c),l=function(a){var b="modal",c="4.0.0",d="bs.modal",h=".".concat(d),j=".data-api",l=a.fn[b],m=300,n=150,o=27,p={backdrop:!0,keyboard:!0,focus:!0,show:!0},q={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},r={HIDE:"hide".concat(h),HIDDEN:"hidden".concat(h),SHOW:"show".concat(h),SHOWN:"shown".concat(h),FOCUSIN:"focusin".concat(h),RESIZE:"resize".concat(h),CLICK_DISMISS:"click.dismiss".concat(h),KEYDOWN_DISMISS:"keydown.dismiss".concat(h),MOUSEUP_DISMISS:"mouseup.dismiss".concat(h),MOUSEDOWN_DISMISS:"mousedown.dismiss".concat(h),CLICK_DATA_API:"click".concat(h).concat(j)},s={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},t={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},u=function(){function j(b,c){g(this,j),this._config=this._getConfig(c),this._element=b,this._dialog=a(b).find(t.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return i(j,[{key:"toggle",value:function(a){return this._isShown?this.hide():this.show(a)}},{key:"show",value:function(b){var c=this;if(!this._isTransitioning&&!this._isShown){k["default"].supportsTransitionEnd()&&a(this._element).hasClass(s.FADE)&&(this._isTransitioning=!0);var d=a.Event(r.SHOW,{relatedTarget:b});a(this._element).trigger(d),this._isShown||d.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),a(document.body).addClass(s.OPEN),this._setEscapeEvent(),this._setResizeEvent(),a(this._element).on(r.CLICK_DISMISS,t.DATA_DISMISS,function(a){return c.hide(a)}),a(this._dialog).on(r.MOUSEDOWN_DISMISS,function(){a(c._element).one(r.MOUSEUP_DISMISS,function(b){a(b.target).is(c._element)&&(c._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return c._showElement(b)}))}}},{key:"hide",value:function(b){var c=this;if(b&&b.preventDefault(),!this._isTransitioning&&this._isShown){var d=a.Event(r.HIDE);if(a(this._element).trigger(d),this._isShown&&!d.isDefaultPrevented()){this._isShown=!1;var e=k["default"].supportsTransitionEnd()&&a(this._element).hasClass(s.FADE);e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),a(document).off(r.FOCUSIN),a(this._element).removeClass(s.SHOW),a(this._element).off(r.CLICK_DISMISS),a(this._dialog).off(r.MOUSEDOWN_DISMISS),e?a(this._element).one(k["default"].TRANSITION_END,function(a){return c._hideModal(a)}).emulateTransitionEnd(m):this._hideModal()}}}},{key:"dispose",value:function(){a.removeData(this._element,d),a(window,document,this._element,this._backdrop).off(h),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_getConfig",value:function(a){return a=f({},p,a),k["default"].typeCheckConfig(b,a,q),a}},{key:"_showElement",value:function(b){var c=this,d=k["default"].supportsTransitionEnd()&&a(this._element).hasClass(s.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,d&&k["default"].reflow(this._element),a(this._element).addClass(s.SHOW),this._config.focus&&this._enforceFocus();var e=a.Event(r.SHOWN,{relatedTarget:b}),f=function(){c._config.focus&&c._element.focus(),c._isTransitioning=!1,a(c._element).trigger(e)};d?a(this._dialog).one(k["default"].TRANSITION_END,f).emulateTransitionEnd(m):f()}},{key:"_enforceFocus",value:function(){var b=this;a(document).off(r.FOCUSIN).on(r.FOCUSIN,function(c){document!==c.target&&b._element!==c.target&&0===a(b._element).has(c.target).length&&b._element.focus()})}},{key:"_setEscapeEvent",value:function(){var b=this;this._isShown&&this._config.keyboard?a(this._element).on(r.KEYDOWN_DISMISS,function(a){a.which===o&&(a.preventDefault(),b.hide())}):this._isShown||a(this._element).off(r.KEYDOWN_DISMISS)}},{key:"_setResizeEvent",value:function(){var b=this;this._isShown?a(window).on(r.RESIZE,function(a){return b.handleUpdate(a)}):a(window).off(r.RESIZE)}},{key:"_hideModal",value:function(){var b=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){a(document.body).removeClass(s.OPEN),b._resetAdjustments(),b._resetScrollbar(),a(b._element).trigger(r.HIDDEN)})}},{key:"_removeBackdrop",value:function(){this._backdrop&&(a(this._backdrop).remove(),this._backdrop=null)}},{key:"_showBackdrop",value:function(b){var c=this,d=a(this._element).hasClass(s.FADE)?s.FADE:"";if(this._isShown&&this._config.backdrop){var e=k["default"].supportsTransitionEnd()&&d;if(this._backdrop=document.createElement("div"),this._backdrop.className=s.BACKDROP,d&&a(this._backdrop).addClass(d),a(this._backdrop).appendTo(document.body),a(this._element).on(r.CLICK_DISMISS,function(a){return c._ignoreBackdropClick?void(c._ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"===c._config.backdrop?c._element.focus():c.hide()))}),e&&k["default"].reflow(this._backdrop),a(this._backdrop).addClass(s.SHOW),!b)return;if(!e)return void b();a(this._backdrop).one(k["default"].TRANSITION_END,b).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){a(this._backdrop).removeClass(s.SHOW);var f=function(){c._removeBackdrop(),b&&b()};k["default"].supportsTransitionEnd()&&a(this._element).hasClass(s.FADE)?a(this._backdrop).one(k["default"].TRANSITION_END,f).emulateTransitionEnd(n):f()}else b&&b()}},{key:"_adjustDialog",value:function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&a&&(this._element.style.paddingLeft="".concat(this._scrollbarWidth,"px")),this._isBodyOverflowing&&!a&&(this._element.style.paddingRight="".concat(this._scrollbarWidth,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=a.left+a.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function(){var b=this;if(this._isBodyOverflowing){a(t.FIXED_CONTENT).each(function(c,d){var e=a(d)[0].style.paddingRight,f=a(d).css("padding-right");a(d).data("padding-right",e).css("padding-right","".concat(parseFloat(f)+b._scrollbarWidth,"px"))}),a(t.STICKY_CONTENT).each(function(c,d){var e=a(d)[0].style.marginRight,f=a(d).css("margin-right");a(d).data("margin-right",e).css("margin-right","".concat(parseFloat(f)-b._scrollbarWidth,"px"))}),a(t.NAVBAR_TOGGLER).each(function(c,d){var e=a(d)[0].style.marginRight,f=a(d).css("margin-right");a(d).data("margin-right",e).css("margin-right","".concat(parseFloat(f)+b._scrollbarWidth,"px"))});var c=document.body.style.paddingRight,d=a("body").css("padding-right");a("body").data("padding-right",c).css("padding-right","".concat(parseFloat(d)+this._scrollbarWidth,"px"))}}},{key:"_resetScrollbar",value:function(){a(t.FIXED_CONTENT).each(function(b,c){var d=a(c).data("padding-right");"undefined"!=typeof d&&a(c).css("padding-right",d).removeData("padding-right")}),a("".concat(t.STICKY_CONTENT,", ").concat(t.NAVBAR_TOGGLER)).each(function(b,c){var d=a(c).data("margin-right");"undefined"!=typeof d&&a(c).css("margin-right",d).removeData("margin-right")});var b=a("body").data("padding-right");"undefined"!=typeof b&&a("body").css("padding-right",b).removeData("padding-right")}},{key:"_getScrollbarWidth",value:function(){var a=document.createElement("div");a.className=s.SCROLLBAR_MEASURER,document.body.appendChild(a);var b=a.getBoundingClientRect().width-a.clientWidth;return document.body.removeChild(a),b}}],[{key:"_jQueryInterface",value:function(b,c){return this.each(function(){var g=a(this).data(d),h=f({},j.Default,a(this).data(),"object"===e(b)&&b);if(g||(g=new j(this,h),a(this).data(d,g)),"string"==typeof b){if("undefined"==typeof g[b])throw new TypeError('No method named "'.concat(b,'"'));g[b](c)}else h.show&&g.show(c)})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return p}}]),j}();return a(document).on(r.CLICK_DATA_API,t.DATA_TOGGLE,function(b){var c,e=this,g=k["default"].getSelectorFromElement(this);g&&(c=a(g)[0]);var h=a(c).data(d)?"toggle":f({},a(c).data(),a(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||b.preventDefault();var i=a(c).one(r.SHOW,function(b){b.isDefaultPrevented()||i.one(r.HIDDEN,function(){a(e).is(":visible")&&e.focus()})});u._jQueryInterface.call(a(c),h,this)}),a.fn[b]=u._jQueryInterface,a.fn[b].Constructor=u,a.fn[b].noConflict=function(){return a.fn[b]=l,u._jQueryInterface},u}(j["default"]);a["default"]=l});
define('theme_boost/popover', ["exports","jquery","./tooltip"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){if(b&&("object"===e(b)||"function"==typeof b))return b;if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function k(){return k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},k.apply(this,arguments)}Object.defineProperty(a,"__esModule",{value:!0});var l=d(b),m=d(c),n=function(a){var b="popover",c="4.0.0",d="bs.popover",g=".".concat(d),l=a.fn[b],n="bs-popover",o=new RegExp("(^|\\s)".concat(n,"\\S+"),"g"),p=k({},m["default"].Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),q=k({},m["default"].DefaultType,{content:"(string|element|function)"}),r={FADE:"fade",SHOW:"show"},s={TITLE:".popover-header",CONTENT:".popover-body"},t={HIDE:"hide".concat(g),HIDDEN:"hidden".concat(g),SHOW:"show".concat(g),SHOWN:"shown".concat(g),INSERTED:"inserted".concat(g),CLICK:"click".concat(g),FOCUSIN:"focusin".concat(g),FOCUSOUT:"focusout".concat(g),MOUSEENTER:"mouseenter".concat(g),MOUSELEAVE:"mouseleave".concat(g)},u=function(k){function l(){return f(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return j(l,k),h(l,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"addAttachmentClass",value:function(b){a(this.getTipElement()).addClass("".concat(n,"-").concat(b))}},{key:"getTipElement",value:function(){return this.tip=this.tip||a(this.config.template)[0],this.tip}},{key:"setContent",value:function(){var b=a(this.getTipElement());this.setElementContent(b.find(s.TITLE),this.getTitle());var c=this._getContent();"function"==typeof c&&(c=c.call(this.element)),this.setElementContent(b.find(s.CONTENT),c),b.removeClass("".concat(r.FADE," ").concat(r.SHOW))}},{key:"_getContent",value:function(){return this.element.getAttribute("data-content")||this.config.content}},{key:"_cleanTipClass",value:function(){var b=a(this.getTipElement()),c=b.attr("class").match(o);null!==c&&c.length>0&&b.removeClass(c.join(""))}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(d),f="object"===e(b)?b:null;if((c||!/destroy|hide/.test(b))&&(c||(c=new l(this,f),a(this).data(d,c)),"string"==typeof b)){if("undefined"==typeof c[b])throw new TypeError('No method named "'.concat(b,'"'));c[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return p}},{key:"NAME",get:function(){return b}},{key:"DATA_KEY",get:function(){return d}},{key:"Event",get:function(){return t}},{key:"EVENT_KEY",get:function(){return g}},{key:"DefaultType",get:function(){return q}}]),l}(m["default"]);return a.fn[b]=u._jQueryInterface,a.fn[b].Constructor=u,a.fn[b].noConflict=function(){return a.fn[b]=l,u._jQueryInterface},u}(l["default"]);a["default"]=n});
define('theme_boost/carousel', ["exports","jquery","./util"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(){return f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f.apply(this,arguments)}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var j=d(b),k=d(c),l=function(a){var b="carousel",c="4.0.0",d="bs.carousel",h=".".concat(d),j=".data-api",l=a.fn[b],m=600,n=37,o=39,p=500,q={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},r={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},s={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},t={SLIDE:"slide".concat(h),SLID:"slid".concat(h),KEYDOWN:"keydown".concat(h),MOUSEENTER:"mouseenter".concat(h),MOUSELEAVE:"mouseleave".concat(h),TOUCHEND:"touchend".concat(h),LOAD_DATA_API:"load".concat(h).concat(j),CLICK_DATA_API:"click".concat(h).concat(j)},u={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},v={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},w=function(){function j(b,c){g(this,j),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(c),this._element=a(b)[0],this._indicatorsElement=a(this._element).find(v.INDICATORS)[0],this._addEventListeners()}return i(j,[{key:"next",value:function(){this._isSliding||this._slide(s.NEXT)}},{key:"nextWhenVisible",value:function(){!document.hidden&&a(this._element).is(":visible")&&"hidden"!==a(this._element).css("visibility")&&this.next()}},{key:"prev",value:function(){this._isSliding||this._slide(s.PREV)}},{key:"pause",value:function(b){b||(this._isPaused=!0),a(this._element).find(v.NEXT_PREV)[0]&&k["default"].supportsTransitionEnd()&&(k["default"].triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(a){a||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(b){var c=this;this._activeElement=a(this._element).find(v.ACTIVE_ITEM)[0];var d=this._getItemIndex(this._activeElement);if(!(b>this._items.length-1||b<0)){if(this._isSliding)return void a(this._element).one(t.SLID,function(){return c.to(b)});if(d===b)return this.pause(),void this.cycle();var e=b>d?s.NEXT:s.PREV;this._slide(e,this._items[b])}}},{key:"dispose",value:function(){a(this._element).off(h),a.removeData(this._element,d),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}},{key:"_getConfig",value:function(a){return a=f({},q,a),k["default"].typeCheckConfig(b,a,r),a}},{key:"_addEventListeners",value:function(){var b=this;this._config.keyboard&&a(this._element).on(t.KEYDOWN,function(a){return b._keydown(a)}),"hover"===this._config.pause&&(a(this._element).on(t.MOUSEENTER,function(a){return b.pause(a)}).on(t.MOUSELEAVE,function(a){return b.cycle(a)}),"ontouchstart"in document.documentElement&&a(this._element).on(t.TOUCHEND,function(){b.pause(),b.touchTimeout&&clearTimeout(b.touchTimeout),b.touchTimeout=setTimeout(function(a){return b.cycle(a)},p+b._config.interval)}))}},{key:"_keydown",value:function(a){if(!/input|textarea/i.test(a.target.tagName))switch(a.which){case n:a.preventDefault(),this.prev();break;case o:a.preventDefault(),this.next()}}},{key:"_getItemIndex",value:function(b){return this._items=a.makeArray(a(b).parent().find(v.ITEM)),this._items.indexOf(b)}},{key:"_getItemByDirection",value:function(a,b){var c=a===s.NEXT,d=a===s.PREV,e=this._getItemIndex(b),f=this._items.length-1,g=d&&0===e||c&&e===f;if(g&&!this._config.wrap)return b;var h=a===s.PREV?-1:1,i=(e+h)%this._items.length;return i===-1?this._items[this._items.length-1]:this._items[i]}},{key:"_triggerSlideEvent",value:function(b,c){var d=this._getItemIndex(b),e=this._getItemIndex(a(this._element).find(v.ACTIVE_ITEM)[0]),f=a.Event(t.SLIDE,{relatedTarget:b,direction:c,from:e,to:d});return a(this._element).trigger(f),f}},{key:"_setActiveIndicatorElement",value:function(b){if(this._indicatorsElement){a(this._indicatorsElement).find(v.ACTIVE).removeClass(u.ACTIVE);var c=this._indicatorsElement.children[this._getItemIndex(b)];c&&a(c).addClass(u.ACTIVE)}}},{key:"_slide",value:function(b,c){var d,e,f,g=this,h=a(this._element).find(v.ACTIVE_ITEM)[0],i=this._getItemIndex(h),j=c||h&&this._getItemByDirection(b,h),l=this._getItemIndex(j),n=Boolean(this._interval);if(b===s.NEXT?(d=u.LEFT,e=u.NEXT,f=s.LEFT):(d=u.RIGHT,e=u.PREV,f=s.RIGHT),j&&a(j).hasClass(u.ACTIVE))return void(this._isSliding=!1);var o=this._triggerSlideEvent(j,f);if(!o.isDefaultPrevented()&&h&&j){this._isSliding=!0,n&&this.pause(),this._setActiveIndicatorElement(j);var p=a.Event(t.SLID,{relatedTarget:j,direction:f,from:i,to:l});k["default"].supportsTransitionEnd()&&a(this._element).hasClass(u.SLIDE)?(a(j).addClass(e),k["default"].reflow(j),a(h).addClass(d),a(j).addClass(d),a(h).one(k["default"].TRANSITION_END,function(){a(j).removeClass("".concat(d," ").concat(e)).addClass(u.ACTIVE),a(h).removeClass("".concat(u.ACTIVE," ").concat(e," ").concat(d)),g._isSliding=!1,setTimeout(function(){return a(g._element).trigger(p)},0)}).emulateTransitionEnd(m)):(a(h).removeClass(u.ACTIVE),a(j).addClass(u.ACTIVE),this._isSliding=!1,a(this._element).trigger(p)),n&&this.cycle()}}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(d),g=f({},q,a(this).data());"object"===e(b)&&(g=f({},g,b));var h="string"==typeof b?b:g.slide;if(c||(c=new j(this,g),a(this).data(d,c)),"number"==typeof b)c.to(b);else if("string"==typeof h){if("undefined"==typeof c[h])throw new TypeError('No method named "'.concat(h,'"'));c[h]()}else g.interval&&(c.pause(),c.cycle())})}},{key:"_dataApiClickHandler",value:function(b){var c=k["default"].getSelectorFromElement(this);if(c){var e=a(c)[0];if(e&&a(e).hasClass(u.CAROUSEL)){var g=f({},a(e).data(),a(this).data()),h=this.getAttribute("data-slide-to");h&&(g.interval=!1),j._jQueryInterface.call(a(e),g),h&&a(e).data(d).to(h),b.preventDefault()}}}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return q}}]),j}();return a(document).on(t.CLICK_DATA_API,v.DATA_SLIDE,w._dataApiClickHandler),a(window).on(t.LOAD_DATA_API,function(){a(v.DATA_RIDE).each(function(){var b=a(this);w._jQueryInterface.call(b,b.data())})}),a.fn[b]=w._jQueryInterface,a.fn[b].Constructor=w,a.fn[b].noConflict=function(){return a.fn[b]=l,w._jQueryInterface},w}(j["default"]);a["default"]=l});
define('theme_boost/form-display-errors', ["jquery","core/event"],function(a,b){return{enhance:function(c){var d=document.getElementById(c);a(d).on(b.Events.FORM_FIELD_VALIDATION,function(b,c){b.preventDefault();var e=a(d).closest(".form-group"),f=e.find(".form-control-feedback");"TEXTAREA"==a(d).prop("tagName")&&e.find("[contenteditable]")&&(d=e.find("[contenteditable]")),""!==c?(e.addClass("has-danger"),e.data("client-validation-error",!0),a(d).addClass("is-invalid"),a(d).attr("aria-describedby",f.attr("id")),a(d).attr("aria-invalid",!0),f.attr("tabindex",0),f.html(c),f.is(":visible")||(f.show(),f.focus())):e.data("client-validation-error")===!0&&(e.removeClass("has-danger"),e.data("client-validation-error",!1),a(d).removeClass("is-invalid"),a(d).removeAttr("aria-describedby"),a(d).attr("aria-invalid",!1),f.hide())})}}});
define('theme_boost/scrollspy', ["exports","jquery","./util"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(){return f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f.apply(this,arguments)}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}Object.defineProperty(a,"__esModule",{value:!0});var j=d(b),k=d(c),l=function(a){var b="scrollspy",c="4.0.0",d="bs.scrollspy",h=".".concat(d),j=".data-api",l=a.fn[b],m={offset:10,method:"auto",target:""},n={offset:"number",method:"string",target:"(string|element)"},o={ACTIVATE:"activate".concat(h),SCROLL:"scroll".concat(h),LOAD_DATA_API:"load".concat(h).concat(j)},p={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},q={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},r={OFFSET:"offset",POSITION:"position"},s=function(){function j(b,c){var d=this;g(this,j),this._element=b,this._scrollElement="BODY"===b.tagName?window:b,this._config=this._getConfig(c),this._selector="".concat(this._config.target," ").concat(q.NAV_LINKS,",")+"".concat(this._config.target," ").concat(q.LIST_ITEMS,",")+"".concat(this._config.target," ").concat(q.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,a(this._scrollElement).on(o.SCROLL,function(a){return d._process(a)}),this.refresh(),this._process()}return i(j,[{key:"refresh",value:function(){var b=this,c=this._scrollElement===this._scrollElement.window?r.OFFSET:r.POSITION,d="auto"===this._config.method?c:this._config.method,e=d===r.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var f=a.makeArray(a(this._selector));f.map(function(b){var c,f=k["default"].getSelectorFromElement(b);if(f&&(c=a(f)[0]),c){var g=c.getBoundingClientRect();if(g.width||g.height)return[a(c)[d]().top+e,f]}return null}).filter(function(a){return a}).sort(function(a,b){return a[0]-b[0]}).forEach(function(a){b._offsets.push(a[0]),b._targets.push(a[1])})}},{key:"dispose",value:function(){a.removeData(this._element,d),a(this._scrollElement).off(h),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}},{key:"_getConfig",value:function(c){if(c=f({},m,c),"string"!=typeof c.target){var d=a(c.target).attr("id");d||(d=k["default"].getUID(b),a(c.target).attr("id",d)),c.target="#".concat(d)}return k["default"].typeCheckConfig(b,c,n),c}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var a=this._getScrollTop()+this._config.offset,b=this._getScrollHeight(),c=this._config.offset+b-this._getOffsetHeight();if(this._scrollHeight!==b&&this.refresh(),a>=c){var d=this._targets[this._targets.length-1];return void(this._activeTarget!==d&&this._activate(d))}if(this._activeTarget&&a<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var e=this._offsets.length;e--;){var f=this._activeTarget!==this._targets[e]&&a>=this._offsets[e]&&("undefined"==typeof this._offsets[e+1]||a<this._offsets[e+1]);f&&this._activate(this._targets[e])}}},{key:"_activate",value:function(b){this._activeTarget=b,this._clear();var c=this._selector.split(",");c=c.map(function(a){return"".concat(a,'[data-target="').concat(b,'"],')+"".concat(a,'[href="').concat(b,'"]')});var d=a(c.join(","));d.hasClass(p.DROPDOWN_ITEM)?(d.closest(q.DROPDOWN).find(q.DROPDOWN_TOGGLE).addClass(p.ACTIVE),d.addClass(p.ACTIVE)):(d.addClass(p.ACTIVE),d.parents(q.NAV_LIST_GROUP).prev("".concat(q.NAV_LINKS,", ").concat(q.LIST_ITEMS)).addClass(p.ACTIVE),d.parents(q.NAV_LIST_GROUP).prev(q.NAV_ITEMS).children(q.NAV_LINKS).addClass(p.ACTIVE)),a(this._scrollElement).trigger(o.ACTIVATE,{relatedTarget:b})}},{key:"_clear",value:function(){a(this._selector).filter(q.ACTIVE).removeClass(p.ACTIVE)}}],[{key:"_jQueryInterface",value:function(b){return this.each(function(){var c=a(this).data(d),f="object"===e(b)&&b;if(c||(c=new j(this,f),a(this).data(d,c)),"string"==typeof b){if("undefined"==typeof c[b])throw new TypeError('No method named "'.concat(b,'"'));c[b]()}})}},{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return m}}]),j}();return a(window).on(o.LOAD_DATA_API,function(){for(var b=a.makeArray(a(q.DATA_SPY)),c=b.length;c--;){var d=a(b[c]);s._jQueryInterface.call(d,d.data())}}),a.fn[b]=s._jQueryInterface,a.fn[b].Constructor=s,a.fn[b].noConflict=function(){return a.fn[b]=l,s._jQueryInterface},s}(j["default"]);a["default"]=l});
define('theme_bootstrapbase/bootstrap', ["jquery"],function(a){function b(b){a(".dropdown-backdrop").remove(),a(k).each(function(){var d=c(a(this));void 0!=b&&0!=d.find(b).length||d.removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}function d(b,c){var d,e=a.proxy(this.process,this),f=a(a(b).is("body")?window:b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}a(".h1").hide(),a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()});var e='[data-dismiss="alert"]',f=function(b){a(b).on("click",e,this.close)};f.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var g=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var c=a(this),d=c.data("alert");d||c.data("alert",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.alert.Constructor=f,a.fn.alert.noConflict=function(){return a.fn.alert=g,this},a(document).on("click.alert.data-api",e,f.prototype.close);var h=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};h.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},h.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var g=a.fn.button;a.fn.button=function(b){return this.each(function(){var c=a(this),d=c.data("button"),e="object"==typeof b&&b;d||c.data("button",d=new h(this,e)),"toggle"==b?d.toggle():b&&d.setState(b)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=h,a.fn.button.noConflict=function(){return a.fn.button=g,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")});var i=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};i.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||b<0))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0],direction:h}),!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(j.$indicators.children()[j.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var g=a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var c=a(this),d=c.data("carousel"),e=a.extend({},a.fn.carousel.defaults,"object"==typeof b&&b),f="string"==typeof b?b:e.slide;d||c.data("carousel",d=new i(this,e)),"number"==typeof b?d.to(b):f?d[f]():e.interval&&d.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=i,a.fn.carousel.noConflict=function(){return a.fn.carousel=g,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d,e=a(this),f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),g=a.extend({},f.data(),e.data());f.carousel(g),(d=e.attr("data-slide-to"))&&f.data("carousel").pause().to(d).cycle(),b.preventDefault()});var j=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};j.prototype={constructor:j,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var g=a.fn.collapse;a.fn.collapse=function(b){return this.each(function(){var c=a(this),d=c.data("collapse"),e=a.extend({},a.fn.collapse.defaults,c.data(),"object"==typeof b&&b);d||c.data("collapse",d=new j(this,e)),"string"==typeof b&&d[b]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=j,a.fn.collapse.noConflict=function(){return a.fn.collapse=g,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)});var k="[data-toggle=dropdown]",l=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};l.prototype={constructor:l,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(g),f||"ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",b),e.toggleClass("open"),g.focus(),!1},keydown:function(b){var d,e,f,g,h;if(/(38|40|27)/.test(b.keyCode)&&(d=a(this),b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled"))){if(f=c(d),g=f.hasClass("open"),!g||g&&27==b.keyCode)return 27==b.which&&f.find(k).focus(),d.click();e=a("[role=menu] li:not(.divider):visible a",f),e.length&&(h=e.index(e.filter(":focus")),38==b.keyCode&&h>0&&h--,40==b.keyCode&&h<e.length-1&&h++,~h||(h=0),e.eq(h).focus())}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new l(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=l,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",k,l.prototype.toggle).on("keydown.dropdown.data-api",k+", [role=menu]",l.prototype.keydown);var m=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};m.prototype={constructor:m,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var g=a.fn.modal;a.fn.modal=function(b){return this.each(function(){var c=a(this),d=c.data("modal"),e=a.extend({},a.fn.modal.defaults,c.data(),"object"==typeof b&&b);d||c.data("modal",d=new m(this,e)),"string"==typeof b?d[b]():e.show&&d.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=m,a.fn.modal.noConflict=function(){return a.fn.modal=g,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})});var n=function(a,b){this.init("tooltip",a,b)};n.prototype={constructor:n,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=a.left*-2,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");if(this.$element.trigger(d),!d.isDefaultPrevented())return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var g=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var c=a(this),d=c.data("tooltip"),e="object"==typeof b&&b;d||c.data("tooltip",d=new n(this,e)),"string"==typeof b&&d[b]()})},a.fn.tooltip.Constructor=n,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=g,this};var o=function(a,b){this.init("popover",a,b)};o.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:o,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=("function"==typeof c.content?c.content.call(b[0]):c.content)||b.attr("data-content")},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var g=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var c=a(this),d=c.data("popover"),e="object"==typeof b&&b;d||c.data("popover",d=new o(this,e)),"string"==typeof b&&d[b]()})},a.fn.popover.Constructor=o,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=g,this},d.prototype={constructor:d,refresh:function(){var b,c=this;this.offsets=a([]),this.targets=a([]),b=this.$body.find(this.selector).map(function(){var b=a(this),d=b.data("target")||b.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var g=a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var c=a(this),e=c.data("scrollspy"),f="object"==typeof b&&b;e||c.data("scrollspy",e=new d(this,f)),"string"==typeof b&&e[b]()})},a.fn.scrollspy.Constructor=d,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=g,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})});var p=function(b){this.element=a(b)};p.prototype={constructor:p,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var g=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var c=a(this),d=c.data("tab");d||c.data("tab",d=new p(this)),"string"==typeof b&&d[b]()})},a.fn.tab.Constructor=p,a.fn.tab.noConflict=function(){return a.fn.tab=g,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")});var q=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};q.prototype={constructor:q,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var g=a.fn.typeahead;a.fn.typeahead=function(b){return this.each(function(){var c=a(this),d=c.data("typeahead"),e="object"==typeof b&&b;d||c.data("typeahead",d=new q(this,e)),"string"==typeof b&&d[b]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=q,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=g,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||c.typeahead(c.data())});var r=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};r.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=!(null!=this.unpin&&d+this.unpin<=e.top)&&(null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&d<=h&&"top"),this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var g=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var c=a(this),d=c.data("affix"),e="object"==typeof b&&b;d||c.data("affix",d=new r(this,e)),"string"==typeof b&&d[b]()})},a.fn.affix.Constructor=r,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=g,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})});
        20190214093506Å"      2  x      P                 g      @  vb     d e f i n e ( ' c o r e / p e r m i s s i o n m a n a g e r ' ,   [ " j q u e r y " , " c o r e / c o n f i g " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / y u i " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f , g , h , i , j = { A D D R O L E : " a . a l l o w l i n k ,   a . p r o h i b i t l i n k " , R E M O V E R O L E : " a . p r e v e n t l i n k ,   a . u n p r o h i b i t l i n k " , U N P R O H I B I T : " a . u n p r o h i b i t l i n k " } , k = a . E v e n t ( " r o l e s l o a d e d " ) , l = n u l l , m = f u n c t i o n ( ) { v a r   d = { c o n t e x t i d : f , g e t r o l e s : 1 , s e s s k e y : b . s e s s k e y } ; a . p o s t ( h + " r o l e s / a j a x . p h p " , d , n u l l , " j s o n " ) . d o n e ( f u n c t i o n ( b ) { t r y { i = b , m = f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( k ) } , m ( ) } c a t c h ( d ) { c . e x c e p t i o n ( d ) } } ) . f a i l ( f u n c t i o n ( a , b , d ) { c . e x c e p t i o n ( d ) } ) } , n = f u n c t i o n ( b , e , g ) { v a r   j = { c o n t e x t i d : f , r o l e i d : e , s e s s k e y : M . c f g . s e s s k e y , a c t i o n : g , c a p a b i l i t y : b . d a t a ( " n a m e " ) } ; a . p o s t ( h + " r o l e s / a j a x . p h p " , j , n u l l , " j s o n " ) . d o n e ( f u n c t i o n ( f ) { v a r   g = f ; t r y { v a r   j = { r o l e n a m e : i [ e ] , r o l e i d : e , a d m i n u r l : h , i m a g e u r l : M . u t i l . i m a g e _ u r l ( " t / d e l e t e " , " m o o d l e " ) } ; s w i t c h ( g ) { c a s e " a l l o w " : j . s p a n c l a s s = " a l l o w e d " , j . l i n k c l a s s = " p r e v e n t l i n k " , j . a c t i o n = " p r e v e n t " , j . i c o n = " t / d e l e t e " ; b r e a k ; c a s e " p r o h i b i t " : j . s p a n c l a s s = " f o r b i d d e n " , j . l i n k c l a s s = " u n p r o h i b i t l i n k " , j . a c t i o n = " u n p r o h i b i t " , j . i c o n = " t / d e l e t e " ; b r e a k ; c a s e " p r e v e n t " : r e t u r n   v o i d   b . f i n d ( ' a [ d a t a - r o l e - i d = " ' + e + ' " ] ' ) . f i r s t ( ) . c l o s e s t ( " . a l l o w e d " ) . r e m o v e ( ) ; c a s e " u n p r o h i b i t " : r e t u r n   v o i d   b . f i n d ( ' a [ d a t a - r o l e - i d = " ' + e + ' " ] ' ) . f i r s t ( ) . c l o s e s t ( " . f o r b i d d e n " ) . r e m o v e ( ) ; d e f a u l t : r e t u r n } d . r e n d e r ( " c o r e / p e r m i s s i o n m a n a g e r _ r o l e " , j ) . d o n e ( f u n c t i o n ( c ) { i f ( " a l l o w " = = g ) a ( c ) . i n s e r t B e f o r e ( b . f i n d ( " . a l l o w m o r e : f i r s t " ) ) ; e l s e   i f ( " p r o h i b i t " = = g ) { a ( c ) . i n s e r t B e f o r e ( b . f i n d ( " . p r o h i b i t m o r e : f i r s t " ) ) ; v a r   d = b . f i n d ( " . a l l o w e d r o l e s " ) . f i r s t ( ) . f i n d ( ' a [ d a t a - r o l e - i d = " ' + e + ' " ] ' ) ; d & & d . f i r s t ( ) . c l o s e s t ( " . a l l o w e d " ) . r e m o v e ( ) } l . h i d e ( ) } ) . f a i l ( c . e x c e p t i o n ) } c a t c h ( k ) { c . e x c e p t i o n ( k ) } } ) . f a i l ( f u n c t i o n ( a , b , d ) { c . e x c e p t i o n ( d ) } ) } , o = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , e . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - d i a l o g u e " , f u n c t i o n ( ) { a ( " b o d y " ) . o n e ( " r o l e s l o a d e d " , f u n c t i o n ( ) { v a r   e = a ( b . c u r r e n t T a r g e t ) , f = e . d a t a ( " a c t i o n " ) , h = e . c l o s e s t ( " t r . r o l e c a p " ) , k = { c a p : h . d a t a ( " h u m a n n a m e " ) , c o n t e x t : g } , m = M . u t i l . g e t _ s t r i n g ( " r o l e " + f + " i n f o " , " c o r e _ r o l e " , k ) ; n u l l = = = l & & ( l = n e w   M . c o r e . d i a l o g u e ( { d r a g g a b l e : ! 0 , m o d a l : ! 0 , c l o s e B u t t o n : ! 0 , w i d t h : " 4 5 0 p x " } ) ) , l . s e t ( " h e a d e r C o n t e n t " , M . u t i l . g e t _ s t r i n g ( " r o l e " + f + " h e a d e r " , " c o r e _ r o l e " ) ) ; v a r   o , p , q = [ ] ; s w i t c h ( f ) { c a s e " a l l o w " : p = h . f i n d ( j . R E M O V E R O L E ) ; b r e a k ; c a s e " p r o h i b i t " : p = h . f i n d ( j . U N P R O H I B I T ) } f o r ( o   i n   i ) { v a r   r = " " , s = p . f i l t e r ( " [ d a t a - r o l e - i d = ' " + o + " ' ] " ) . l e n g t h ; s & & ( r = " d i s a b l e d " ) ; v a r   t = { r o l e i d : o , r o l e n a m e : i [ o ] , d i s a b l e d : r } ; q . p u s h ( t ) } d . r e n d e r ( " c o r e / p e r m i s s i o n m a n a g e r _ p a n e l c o n t e n t " , { m e s s a g e : m , r o l e s : q } ) . d o n e ( f u n c t i o n ( b ) { l . s e t ( " b o d y C o n t e n t " , b ) , l . s h o w ( ) , a ( " d i v . r o l e _ b u t t o n s " ) . d e l e g a t e ( " i n p u t " , " c l i c k " , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " r o l e - i d " ) ; n ( h , c , f ) } ) } ) . f a i l ( c . e x c e p t i o n ) } ) } ) , m ( ) } , p = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( " b o d y " ) . o n e ( " r o l e s l o a d e d " , f u n c t i o n ( ) { v a r   d = a ( b . c u r r e n t T a r g e t ) , e = d . d a t a ( " a c t i o n " ) , f = d . d a t a ( " r o l e - i d " ) , h = d . c l o s e s t ( " t r . r o l e c a p " ) , j = { r o l e : i [ f ] , c a p : h . d a t a ( " h u m a n n a m e " ) , c o n t e x t : g } ; c . c o n f i r m ( M . u t i l . g e t _ s t r i n g ( " c o n f i r m u n a s s i g n t i t l e " , " c o r e _ r o l e " ) , M . u t i l . g e t _ s t r i n g ( " c o n f i r m r o l e " + e , " c o r e _ r o l e " , j ) , M . u t i l . g e t _ s t r i n g ( " c o n f i r m u n a s s i g n y e s " , " c o r e _ r o l e " ) , M . u t i l . g e t _ s t r i n g ( " c o n f i r m u n a s s i g n n o " , " c o r e _ r o l e " ) , f u n c t i o n ( ) { n ( h , f , e ) } ) } ) , m ( ) } ; r e t u r n { i n i t i a l i z e : f u n c t i o n ( b ) { f = b . c o n t e x t i d , g = b . c o n t e x t n a m e , h = b . a d m i n u r l ; v a r   c = a ( " b o d y " ) ; c . d e l e g a t e ( j . A D D R O L E , " c l i c k " , o ) , c . d e l e g a t e ( j . R E M O V E R O L E , " c l i c k " , p ) } } } ) ; 
 d e f i n e ( ' c o r e / t r e e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { I T E M : " [ r o l e = t r e e i t e m ] " , G R O U P : " [ r o l e = t r e e i t e m ] : h a s ( [ r o l e = g r o u p ] ) ,   [ r o l e = t r e e i t e m ] [ a r i a - o w n s ] ,   [ r o l e = t r e e i t e m ] [ d a t a - r e q u i r e s - a j a x = t r u e ] " , C L O S E D _ G R O U P : " [ r o l e = t r e e i t e m ] : h a s ( [ r o l e = g r o u p ] ) [ a r i a - e x p a n d e d = f a l s e ] ,   [ r o l e = t r e e i t e m ] [ a r i a - o w n s ] [ a r i a - e x p a n d e d = f a l s e ] ,   [ r o l e = t r e e i t e m ] [ d a t a - r e q u i r e s - a j a x = t r u e ] [ a r i a - e x p a n d e d = f a l s e ] " , F I R S T _ I T E M : " [ r o l e = t r e e i t e m ] : f i r s t " , V I S I B L E _ I T E M : " [ r o l e = t r e e i t e m ] : v i s i b l e " , U N L O A D E D _ A J A X _ I T E M : " [ r o l e = t r e e i t e m ] [ d a t a - r e q u i r e s - a j a x = t r u e ] [ d a t a - l o a d e d = f a l s e ] [ a r i a - e x p a n d e d = t r u e ] " } , c = f u n c t i o n ( c , d ) { t h i s . t r e e R o o t = a ( c ) , t h i s . t r e e R o o t . d a t a ( " a c t i v e I t e m " , n u l l ) , t h i s . s e l e c t C a l l b a c k = d , t h i s . k e y s = { t a b : 9 , e n t e r : 1 3 , s p a c e : 3 2 , p a g e u p : 3 3 , p a g e d o w n : 3 4 , e n d : 3 5 , h o m e : 3 6 , l e f t : 3 7 , u p : 3 8 , r i g h t : 3 9 , d o w n : 4 0 , a s t e r i s k : 1 0 6 } , t h i s . i n i t i a l i s e N o d e s ( t h i s . t r e e R o o t ) , t h i s . s e t A c t i v e I t e m ( t h i s . t r e e R o o t . f i n d ( b . F I R S T _ I T E M ) ) , t h i s . r e f r e s h V i s i b l e I t e m s C a c h e ( ) , t h i s . b i n d E v e n t H a n d l e r s ( ) } ; r e t u r n   c . p r o t o t y p e . r e g i s t e r E n t e r C a l l b a c k = f u n c t i o n ( a ) { t h i s . e n t e r C a l l b a c k = a } , c . p r o t o t y p e . r e f r e s h V i s i b l e I t e m s C a c h e = f u n c t i o n ( ) { t h i s . t r e e R o o t . d a t a ( " v i s i b l e I t e m s " , t h i s . t r e e R o o t . f i n d ( b . V I S I B L E _ I T E M ) ) } , c . p r o t o t y p e . g e t V i s i b l e I t e m s = f u n c t i o n ( ) { r e t u r n   t h i s . t r e e R o o t . d a t a ( " v i s i b l e I t e m s " ) } , c . p r o t o t y p e . s e t A c t i v e I t e m = f u n c t i o n ( a ) { v a r   b = t h i s . t r e e R o o t . d a t a ( " a c t i v e I t e m " ) ; a ! = = b & & ( b & & ( b . a t t r ( " t a b i n d e x " , " - 1 " ) , b . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) ) , a . a t t r ( " t a b i n d e x " , " 0 " ) , a . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , t h i s . t r e e R o o t . d a t a ( " a c t i v e I t e m " , a ) , " f u n c t i o n " = = t y p e o f   t h i s . s e l e c t C a l l b a c k & & t h i s . s e l e c t C a l l b a c k ( a ) ) } , c . p r o t o t y p e . i s G r o u p I t e m = f u n c t i o n ( a ) { r e t u r n   a . i s ( b . G R O U P ) } , c . p r o t o t y p e . g e t G r o u p F r o m I t e m = f u n c t i o n ( a ) { v a r   b = t h i s . t r e e R o o t . f i n d ( " # " + a . a t t r ( " a r i a - o w n s " ) ) , c = a . c h i l d r e n ( " [ r o l e = g r o u p ] " ) ; r e t u r n   b . l e n g t h > c . l e n g t h ? b : c } , c . p r o t o t y p e . i s G r o u p C o l l a p s e d = f u n c t i o n ( a ) { r e t u r n " f a l s e " = = = a . a t t r ( " a r i a - e x p a n d e d " ) } , c . p r o t o t y p e . i s G r o u p C o l l a p s i b l e = f u n c t i o n ( a ) { r e t u r n " f a l s e " ! = = a . a t t r ( " d a t a - c o l l a p s i b l e " ) } , c . p r o t o t y p e . i n i t i a l i s e N o d e s = f u n c t i o n ( c ) { t h i s . r e m o v e A l l F r o m T a b O r d e r ( c ) , t h i s . s e t A r i a S e l e c t e d F a l s e O n I t e m s ( c ) ; v a r   d = t h i s ; c . f i n d ( b . U N L O A D E D _ A J A X _ I T E M ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; d . c o l l a p s e G r o u p ( b ) , d . e x p a n d G r o u p ( b ) } ) } , c . p r o t o t y p e . r e m o v e A l l F r o m T a b O r d e r = f u n c t i o n ( b ) { b . f i n d ( " * " ) . a t t r ( " t a b i n d e x " , " - 1 " ) , t h i s . g e t G r o u p F r o m I t e m ( a ( b ) ) . f i n d ( " * " ) . a t t r ( " t a b i n d e x " , " - 1 " ) } , c . p r o t o t y p e . s e t A r i a S e l e c t e d F a l s e O n I t e m s = f u n c t i o n ( a ) { a . f i n d ( b . I T E M ) . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) } , c . p r o t o t y p e . e x p a n d A l l G r o u p s = f u n c t i o n ( ) { v a r   c = t h i s ; t h i s . t r e e R o o t . f i n d ( b . C L O S E D _ G R O U P ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; c . e x p a n d G r o u p ( a ( t h i s ) ) . d o n e ( f u n c t i o n ( ) { c . e x p a n d A l l C h i l d G r o u p s ( b ) } ) } ) } , c . p r o t o t y p e . e x p a n d A l l C h i l d G r o u p s = f u n c t i o n ( c ) { v a r   d = t h i s ; t h i s . g e t G r o u p F r o m I t e m ( c ) . f i n d ( b . C L O S E D _ G R O U P ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; d . e x p a n d G r o u p ( a ( t h i s ) ) . d o n e ( f u n c t i o n ( ) { d . e x p a n d A l l C h i l d G r o u p s ( b ) } ) } ) } , c . p r o t o t y p e . e x p a n d G r o u p = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; i f ( " f a l s e " ! = = b . a t t r ( " d a t a - e x p a n d a b l e " ) & & t h i s . i s G r o u p C o l l a p s e d ( b ) ) i f ( " t r u e " = = = b . a t t r ( " d a t a - r e q u i r e s - a j a x " ) & & " t r u e " ! = = b . a t t r ( " d a t a - l o a d e d " ) ) { b . a t t r ( " d a t a - l o a d e d " , ! 1 ) ; v a r   d = b . c l o s e s t ( " [ d a t a - a j a x - l o a d e r ] " ) . a t t r ( " d a t a - a j a x - l o a d e r " ) , e = t h i s ; b . a d d C l a s s ( " l o a d i n g " ) , r e q u i r e ( [ d ] , f u n c t i o n ( a ) { a . l o a d ( b ) . d o n e ( f u n c t i o n ( ) { b . a t t r ( " d a t a - l o a d e d " , ! 0 ) , e . i n i t i a l i s e N o d e s ( b ) , e . f i n i s h E x p a n d i n g G r o u p ( b ) , b . r e m o v e C l a s s ( " l o a d i n g " ) , c . r e s o l v e ( ) } ) } ) } e l s e   t h i s . f i n i s h E x p a n d i n g G r o u p ( b ) , c . r e s o l v e ( ) ; e l s e   c . r e s o l v e ( ) ; r e t u r n   c } , c . p r o t o t y p e . f i n i s h E x p a n d i n g G r o u p = f u n c t i o n ( a ) { v a r   b = t h i s . g e t G r o u p F r o m I t e m ( a ) ; b . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , t h i s . r e f r e s h V i s i b l e I t e m s C a c h e ( ) } , c . p r o t o t y p e . c o l l a p s e G r o u p = f u n c t i o n ( a ) { i f ( t h i s . i s G r o u p C o l l a p s i b l e ( a ) & & ! t h i s . i s G r o u p C o l l a p s e d ( a ) ) { v a r   b = t h i s . g e t G r o u p F r o m I t e m ( a ) ; b . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , t h i s . r e f r e s h V i s i b l e I t e m s C a c h e ( ) } } , c . p r o t o t y p e . t o g g l e G r o u p = f u n c t i o n ( a ) { " t r u e " = = = a . a t t r ( " a r i a - e x p a n d e d " ) ? t h i s . c o l l a p s e G r o u p ( a ) : t h i s . e x p a n d G r o u p ( a ) } , c . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( c , d ) { v a r   e = t h i s . g e t V i s i b l e I t e m s ( ) . i n d e x ( c ) ; i f ( d . a l t K e y | | d . c t r l K e y | | d . m e t a K e y | | d . s h i f t K e y & & d . k e y C o d e ! = t h i s . k e y s . t a b ) r e t u r n ! 0 ; s w i t c h ( d . k e y C o d e ) { c a s e   t h i s . k e y s . h o m e : r e t u r n   t h i s . g e t V i s i b l e I t e m s ( ) . f i r s t ( ) . f o c u s ( ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n d : r e t u r n   t h i s . g e t V i s i b l e I t e m s ( ) . l a s t ( ) . f o c u s ( ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n t e r : v a r   f = c . c h i l d r e n ( " a " ) . l e n g t h ? c . c h i l d r e n ( " a " ) : c . c h i l d r e n ( ) . n o t ( b . G R O U P ) . f i n d ( " a " ) ; r e t u r n   f . l e n g t h ? " f u n c t i o n " = = t y p e o f   t h i s . e n t e r C a l l b a c k ? t h i s . e n t e r C a l l b a c k ( c ) : w i n d o w . l o c a t i o n . h r e f = f . f i r s t ( ) . a t t r ( " h r e f " ) : t h i s . i s G r o u p I t e m ( c ) & & t h i s . t o g g l e G r o u p ( c , ! 0 ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . s p a c e : r e t u r n   t h i s . i s G r o u p I t e m ( c ) & & t h i s . t o g g l e G r o u p ( c , ! 0 ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . l e f t : v a r   g = f u n c t i o n ( b ) { b . g e t V i s i b l e I t e m s ( ) . f i l t e r ( f u n c t i o n ( ) { r e t u r n   b . g e t G r o u p F r o m I t e m ( a ( t h i s ) ) . h a s ( c ) . l e n g t h } ) . f o c u s ( ) } ; r e t u r n   t h i s . i s G r o u p I t e m ( c ) ? t h i s . i s G r o u p C o l l a p s e d ( c ) ? g ( t h i s ) : t h i s . c o l l a p s e G r o u p ( c ) : g ( t h i s ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . r i g h t : r e t u r n   t h i s . i s G r o u p I t e m ( c ) & & ( t h i s . i s G r o u p C o l l a p s e d ( c ) ? t h i s . e x p a n d G r o u p ( c ) : t h i s . g e t G r o u p F r o m I t e m ( c ) . f i n d ( b . I T E M ) . f i r s t ( ) . f o c u s ( ) ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . u p : i f ( e > 0 ) { v a r   h = t h i s . g e t V i s i b l e I t e m s ( ) . e q ( e - 1 ) ; h . f o c u s ( ) } r e t u r n   d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . d o w n : i f ( e < t h i s . g e t V i s i b l e I t e m s ( ) . l e n g t h - 1 ) { v a r   i = t h i s . g e t V i s i b l e I t e m s ( ) . e q ( e + 1 ) ; i . f o c u s ( ) } r e t u r n   d . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . a s t e r i s k : r e t u r n   t h i s . e x p a n d A l l G r o u p s ( ) , d . s t o p P r o p a g a t i o n ( ) , ! 1 } r e t u r n ! 0 } , c . p r o t o t y p e . h a n d l e C l i c k = f u n c t i o n ( a , b ) { r e t u r n ! ! ( b . a l t K e y | | b . c t r l K e y | | b . s h i f t K e y | | b . m e t a K e y ) | | ( a . f o c u s ( ) , t h i s . i s G r o u p I t e m ( a ) & & t h i s . t o g g l e G r o u p ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 0 ) } , c . p r o t o t y p e . h a n d l e F o c u s = f u n c t i o n ( a , b ) { r e t u r n   t h i s . s e t A c t i v e I t e m ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 0 } , c . p r o t o t y p e . b i n d E v e n t H a n d l e r s = f u n c t i o n ( ) { v a r   c = t h i s ; t h i s . t r e e R o o t . o n ( { c l i c k : f u n c t i o n ( b ) { r e t u r n   c . h a n d l e C l i c k ( a ( t h i s ) , b ) } , k e y d o w n : f u n c t i o n ( b ) { r e t u r n   c . h a n d l e K e y D o w n ( a ( t h i s ) , b ) } , f o c u s : f u n c t i o n ( b ) { r e t u r n   c . h a n d l e F o c u s ( a ( t h i s ) , b ) } } , b . I T E M ) } , c } ) ; 
 d e f i n e ( ' c o r e / e v e n t ' ,   [ " j q u e r y " , " c o r e / y u i " ] , f u n c t i o n ( a , b ) { r e t u r n { E v e n t s : { F O R M _ F I E L D _ V A L I D A T I O N : " c o r e _ f o r m - f i e l d - v a l i d a t i o n " } , g e t L e g a c y E v e n t s : f u n c t i o n ( ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   b . u s e ( " e v e n t " , " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { c . r e s o l v e ( w i n d o w . M . c o r e . e v e n t ) } ) , c . p r o m i s e ( ) } , n o t i f y F i l t e r C o n t e n t U p d a t e d : f u n c t i o n ( c ) { c = a ( c ) , b . u s e ( " e v e n t " , " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( M . c o r e . e v e n t . F I L T E R _ C O N T E N T _ U P D A T E D , [ c ] ) ; v a r   d = n e w   b . N o d e L i s t ( c . g e t ( ) ) ; b . f i r e ( M . c o r e . e v e n t . F I L T E R _ C O N T E N T _ U P D A T E D , { n o d e s : d } ) } ) } , n o t i f y E d i t o r C o n t e n t R e s t o r e d : f u n c t i o n ( ) { b . u s e ( " e v e n t " , " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( M . c o r e . e v e n t . E D I T O R _ C O N T E N T _ R E S T O R E D ) , b . f i r e ( M . c o r e . e v e n t . E D I T O R _ C O N T E N T _ R E S T O R E D ) } ) } } } ) ; 
 d e f i n e ( ' c o r e / t r u n c a t e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = / ( \ s * \ S + | \ s ) $ / , c = / ^ ( \ S * ) / , d = / \ s / , e = f u n c t i o n ( a , b ) { i f ( n u l l = = t h i s ) t h r o w   T y p e E r r o r ( ) ; v a r   c = S t r i n g ( a ) , d = c . l e n g t h , e = b ? N u m b e r ( b ) : 0 ; i f ( e ! = e & & ( e = 0 ) , e < = - 1 | | e > = d ) r e t u r n " " ; e = 0 | e ; v a r   f , g = c . c h a r C o d e A t ( e ) , h = e + 1 , i = 1 ; r e t u r n   g > = 5 5 2 9 6 & & g < = 5 6 3 1 9 & & d > h & & ( f = c . c h a r C o d e A t ( h ) , f > = 5 6 3 2 0 & & f < = 5 7 3 4 3 & & ( i = 2 ) ) , i } , f = f u n c t i o n ( a ) { f o r ( v a r   b = 0 , c = 0 ; c < a . l e n g t h ; c + = e ( a , c ) ) b + + ; r e t u r n   b } , g = f u n c t i o n ( a , b ) { i f ( ! a . l e n g t h ) r e t u r n   0 ; v a r   c = 0 , d = 0 ; d o   c + = e ( a , c ) , d + + ; w h i l e ( c < a . l e n g t h & & d < b ) ; r e t u r n   c } ; r e t u r n   a . t r u n c a t e = f u n c t i o n ( b , c ) { r e t u r n   a ( " < d i v > < / d i v > " ) . a p p e n d ( b ) . t r u n c a t e ( c ) . h t m l ( ) } , a . f n . t r u n c a t e = f u n c t i o n ( e ) { a . i s N u m e r i c ( e ) & & ( e = { l e n g t h : e } ) ; v a r   h = a . e x t e n d ( { } , a . t r u n c a t e . d e f a u l t s , e ) ; r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   e = a ( t h i s ) ; h . n o B r e a k s & & e . f i n d ( " b r " ) . r e p l a c e W i t h ( "   " ) ; v a r   i = h . e l l i p s i s . l e n g t h , j = e . t e x t ( ) , k = f ( j ) , l = k - h . l e n g t h + i ; i f ( ! ( k < h . l e n g t h ) ) { i f ( h . s t r i p T a g s & & e . t e x t ( j ) , h . w o r d s & & l > 0 ) { v a r   m = j . s l i c e ( 0 , g ( j , h . l e n g t h - i ) + 1 ) , n = m . r e p l a c e ( b , " " ) , o = f ( n ) , p = ! m . m a t c h ( d ) ; l = h . k e e p F i r s t W o r d & & 0 = = = o ? k - f ( c . e x e c ( j ) [ 0 ] ) - i : p & & 0 = = = o ? k - h . l e n g t h + i : k - o - 1 } l > k & & ( l = k - h . l e n g t h ) , l < 0 | | ! l & & ! h . t r u n c a t e d | | a . e a c h ( e . c o n t e n t s ( ) . g e t ( ) . r e v e r s e ( ) , f u n c t i o n ( b , c ) { v a r   d = a ( c ) , e = d . t e x t ( ) , j = f ( e ) ; i f ( j < = l ) r e t u r n   h . t r u n c a t e d = ! 0 , l - = j , v o i d   d . r e m o v e ( ) ; i f ( 3 = = = c . n o d e T y p e ) { v a r   k = j - l ; r e t u r n   k = k > = 0 ? g ( e , k ) : 0 , a ( c . s p l i t T e x t ( k ) ) . r e p l a c e W i t h ( h . e l l i p s i s ) , ! 1 } r e t u r n   d . t r u n c a t e ( a . e x t e n d ( h , { l e n g t h : j - l + i } ) ) , ! 1 } ) } } ) } , a . t r u n c a t e . d e f a u l t s = { s t r i p T a g s : ! 1 , w o r d s : ! 1 , k e e p F i r s t W o r d : ! 1 , n o B r e a k s : ! 1 , l e n g t h : 1 / 0 , e l l i p s i s : " & " } , { t r u n c a t e : a . t r u n c a t e } } ) ; 
 d e f i n e ( ' c o r e / b a c k o f f _ t i m e r ' ,   f u n c t i o n ( ) { v a r   a = f u n c t i o n ( a , b ) { t h i s . c a l l b a c k = a , t h i s . b a c k O f f F u n c t i o n = b } ; r e t u r n   a . p r o t o t y p e . c a l l b a c k = n u l l , a . p r o t o t y p e . b a c k O f f F u n c t i o n = n u l l , a . p r o t o t y p e . t i m e = n u l l , a . p r o t o t y p e . t i m e o u t = n u l l , a . p r o t o t y p e . g e n e r a t e N e x t T i m e = f u n c t i o n ( ) { v a r   a = t h i s . b a c k O f f F u n c t i o n ( t h i s . t i m e ) ; r e t u r n   t h i s . t i m e = a , a } , a . p r o t o t y p e . r e s e t = f u n c t i o n ( ) { r e t u r n   t h i s . t i m e = n u l l , t h i s . s t o p ( ) , t h i s } , a . p r o t o t y p e . s t o p = f u n c t i o n ( ) { r e t u r n   t h i s . t i m e o u t & & ( w i n d o w . c l e a r T i m e o u t ( t h i s . t i m e o u t ) , t h i s . t i m e o u t = n u l l ) , t h i s } , a . p r o t o t y p e . s t a r t = f u n c t i o n ( ) { i f ( ! t h i s . t i m e o u t ) { v a r   a = t h i s . g e n e r a t e N e x t T i m e ( ) ; t h i s . t i m e o u t = w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . c a l l b a c k ( ) , t h i s . s t o p ( ) , t h i s . s t a r t ( ) } . b i n d ( t h i s ) , a ) } r e t u r n   t h i s } , a . p r o t o t y p e . r e s t a r t = f u n c t i o n ( ) { r e t u r n   t h i s . r e s e t ( ) . s t a r t ( ) } , a . g e t I n c r e m e n t a l C a l l b a c k = f u n c t i o n ( a , b , c , d ) { r e t u r n   f u n c t i o n ( e ) { r e t u r n   e ? e + b > c ? d : e + b : a } } , a } ) ; 
 d e f i n e ( ' c o r e / f o r m - c o u r s e - s e l e c t o r ' ,   [ " c o r e / a j a x " , " j q u e r y " ] , f u n c t i o n ( a , b ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( a , c ) { v a r   d = [ ] , e = 0 , f = S t r i n g ( b ( a ) . d a t a ( " e x c l u d e " ) ) . s p l i t ( " , " ) ; f o r ( e = 0 ; e < c . c o u r s e s . l e n g t h ; e + + ) f . i n d e x O f ( S t r i n g ( c . c o u r s e s [ e ] . i d ) ) = = = - 1 & & d . p u s h ( { v a l u e : c . c o u r s e s [ e ] . i d , l a b e l : c . c o u r s e s [ e ] . d i s p l a y n a m e } ) ; r e t u r n   d } , t r a n s p o r t : f u n c t i o n ( c , d , e , f ) { v a r   g = b ( c ) , h = g . d a t a ( " r e q u i r e d c a p a b i l i t i e s " ) ; h = " " ! = = h . t r i m ( ) ? h . s p l i t ( " , " ) : [ ] ; v a r   i = g . d a t a ( " l i m i t t o e n r o l l e d " ) , j = g . d a t a ( " i n c l u d e f r o n t p a g e " ) , k = n u l l ; " u n d e f i n e d " = = t y p e o f   d & & ( d = " " ) ; v a r   l = { c r i t e r i a n a m e : " s e a r c h " , c r i t e r i a v a l u e : d , p a g e : 0 , p e r p a g e : 1 0 0 , r e q u i r e d c a p a b i l i t i e s : h , l i m i t t o e n r o l l e d : i } , m = [ { m e t h o d n a m e : " c o r e _ c o u r s e _ s e a r c h _ c o u r s e s " , a r g s : l } ] ; j & & m . p u s h ( { m e t h o d n a m e : " c o r e _ c o u r s e _ g e t _ c o u r s e s " , a r g s : { o p t i o n s : { i d s : [ j ] } } } ) , k = a . c a l l ( m ) , b . w h e n . a p p l y ( b . w h e n , k ) . d o n e ( f u n c t i o n ( a , b ) { i f ( b & & 1 = = b . l e n g t h ) { v a r   c = b . p o p ( ) , f = " " = = = d | | c . f u l l n a m e . t o U p p e r C a s e ( ) . i n d e x O f ( d . t o U p p e r C a s e ( ) ) > - 1 | | c . s h o r t n a m e . t o U p p e r C a s e ( ) . i n d e x O f ( d . t o U p p e r C a s e ( ) ) > - 1 ; f & & a . c o u r s e s . s p l i c e ( 0 , 0 , c ) } e ( a ) } ) . f a i l ( f ) } } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ f a c t o r y ' ,   [ " j q u e r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e / m o d a l " , " c o r e / m o d a l _ s a v e _ c a n c e l " , " c o r e / m o d a l _ c o n f i r m " , " c o r e / m o d a l _ c a n c e l " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { D E F A U L T : " c o r e / m o d a l " , S A V E _ C A N C E L : " c o r e / m o d a l _ s a v e _ c a n c e l " , C O N F I R M : " c o r e / m o d a l _ s a v e _ c a n c e l " , C A N C E L : " c o r e / m o d a l _ c a n c e l " } , l = { D E F A U L T : " D E F A U L T " , S A V E _ C A N C E L : " S A V E _ C A N C E L " , C O N F I R M : " C O N F I R M " , C A N C E L : " C A N C E L " } ; c . r e g i s t e r ( l . D E F A U L T , d , k . D E F A U L T ) , c . r e g i s t e r ( l . S A V E _ C A N C E L , e , k . S A V E _ C A N C E L ) , c . r e g i s t e r ( l . C O N F I R M , f , k . C O N F I R M ) , c . r e g i s t e r ( l . C A N C E L , g , k . C A N C E L ) ; v a r   m = f u n c t i o n ( c , d , e ) { v a r   f = n u l l , g = " f u n c t i o n " = = t y p e o f   e . p r e S h o w C a l l b a c k , h = f u n c t i o n ( b , d ) { f = a ( b . c u r r e n t T a r g e t ) , c . t h e n ( f u n c t i o n ( a ) { r e t u r n   g & & e . p r e S h o w C a l l b a c k ( f , a ) , a . s h o w ( ) , a } ) , d . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ; i f ( A r r a y . i s A r r a y ( d ) ) { v a r   i = d [ 1 ] ; d = d [ 0 ] , j . d e f i n e ( d , [ j . e v e n t s . a c t i v a t e ] ) , d . o n ( j . e v e n t s . a c t i v a t e , i , h ) } e l s e   j . d e f i n e ( d , [ j . e v e n t s . a c t i v a t e ] ) , d . o n ( j . e v e n t s . a c t i v a t e , h ) ; c . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . g e t R o o t ( ) . o n ( b . h i d d e n , f u n c t i o n ( ) { n u l l ! = = f & & f . f o c u s ( ) } ) , a } ) } , n = f u n c t i o n ( b , c ) { c = a ( c ) ; v a r   d = b . m o d u l e , e = n e w   d ( c ) ; r e t u r n   e } , o = f u n c t i o n ( b , c ) { v a r   d = b . t e m p l a t e , e = h . r e n d e r ( d , c ) . t h e n ( f u n c t i o n ( c ) { v a r   d = a ( c ) ; r e t u r n   n ( b , d ) } ) . f a i l ( i . e x c e p t i o n ) ; r e t u r n   e } , p = f u n c t i o n ( a , b ) { v a r   d = a . t y p e | | l . D E F A U L T , e = ! ! a . l a r g e , f = n u l l , g = { } ; f = c . g e t ( d ) , f | | i . e x c e p t i o n ( { m e s s a g e : " U n a b l e   t o   f i n d   m o d a l   o f   t y p e :   " + d } ) , " u n d e f i n e d " ! = t y p e o f   a . t e m p l a t e C o n t e x t & & ( g = a . t e m p l a t e C o n t e x t ) ; v a r   h = o ( f , g ) . t h e n ( f u n c t i o n ( b ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   a . t i t l e & & b . s e t T i t l e ( a . t i t l e ) , " u n d e f i n e d " ! = t y p e o f   a . b o d y & & b . s e t B o d y ( a . b o d y ) , " u n d e f i n e d " ! = t y p e o f   a . f o o t e r & & b . s e t F o o t e r ( a . f o o t e r ) , e & & b . s e t L a r g e ( ) , b } ) ; r e t u r n " u n d e f i n e d " ! = t y p e o f   b & & m ( h , b , a ) , h } ; r e t u r n { c r e a t e : p , t y p e s : l } } ) ; 
 d e f i n e ( ' c o r e / s t r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / l o c a l s t o r a g e " ] , f u n c t i o n ( a , b , c ) { v a r   d = [ ] ; r e t u r n { g e t _ s t r i n g : f u n c t i o n ( a , b , c , d ) { v a r   e = t h i s . g e t _ s t r i n g s ( [ { k e y : a , c o m p o n e n t : b , p a r a m : c , l a n g : d } ] ) ; r e t u r n   e . t h e n ( f u n c t i o n ( a ) { r e t u r n   a [ 0 ] } ) } , g e t _ s t r i n g s : f u n c t i o n ( e ) { v a r   f , g = a . D e f e r r e d ( ) , h = [ ] , i = 0 , j = ! 1 ; f o r ( i = 0 ; i < e . l e n g t h ; i + + ) i f ( f = e [ i ] , " u n d e f i n e d " = = t y p e o f   f . l a n g & & ( f . l a n g = a ( " h t m l " ) . a t t r ( " l a n g " ) . r e p l a c e ( / - / g , " _ " ) ) , f . c a c h e K e y = " c o r e _ s t r / " + f . k e y + " / " + f . c o m p o n e n t + " / " + f . l a n g , " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] | | " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] [ f . k e y ] ) { v a r   k = c . g e t ( f . c a c h e K e y ) ; k ? ( " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] & & ( M . s t r [ f . c o m p o n e n t ] = [ ] ) , M . s t r [ f . c o m p o n e n t ] [ f . k e y ] = k ) : j = ! 0 } i f ( j ) { v a r   l = [ ] , m = [ ] , n = f u n c t i o n ( a ) { t h i s . r e s o l v e ( a ) } , o = f u n c t i o n ( a ) { t h i s . r e j e c t ( a ) } ; f o r ( i = 0 ; i < e . l e n g t h ; i + + ) i f ( f = e [ i ] , " u n d e f i n e d " ! = t y p e o f   d [ f . c a c h e K e y ] ) m . p u s h ( d [ f . c a c h e K e y ] ) ; e l s e { v a r   p = a . D e f e r r e d ( ) ; l . p u s h ( { m e t h o d n a m e : " c o r e _ g e t _ s t r i n g " , a r g s : { s t r i n g i d : f . k e y , c o m p o n e n t : f . c o m p o n e n t , l a n g : f . l a n g , s t r i n g p a r a m s : [ ] } , d o n e : n . b i n d ( p ) , f a i l : o . b i n d ( p ) } ) , d [ f . c a c h e K e y ] = p . p r o m i s e ( ) , m . p u s h ( d [ f . c a c h e K e y ] ) } l . l e n g t h > 0 & & b . c a l l ( l , ! 0 , ! 1 ) , a . w h e n . a p p l y ( n u l l , m ) . d o n e ( f u n c t i o n ( ) { v a r   a = 0 ; f o r ( a = 0 ; a < a r g u m e n t s . l e n g t h ; a + + ) f = e [ a ] , " u n d e f i n e d " = = t y p e o f   M . s t r [ f . c o m p o n e n t ] & & ( M . s t r [ f . c o m p o n e n t ] = [ ] ) , M . s t r [ f . c o m p o n e n t ] [ f . k e y ] = a r g u m e n t s [ a ] , c . s e t ( " c o r e _ s t r / " + f . k e y + " / " + f . c o m p o n e n t + " / " + f . l a n g , a r g u m e n t s [ a ] ) , h [ a ] = M . u t i l . g e t _ s t r i n g ( f . k e y , f . c o m p o n e n t , f . p a r a m ) . t r i m ( ) ; g . r e s o l v e ( h ) } ) . f a i l ( f u n c t i o n ( a ) { g . r e j e c t ( a ) } ) } e l s e { f o r ( i = 0 ; i < e . l e n g t h ; i + + ) f = e [ i ] , h [ i ] = M . u t i l . g e t _ s t r i n g ( f . k e y , f . c o m p o n e n t , f . p a r a m ) ; g . r e s o l v e ( h ) } r e t u r n   g . p r o m i s e ( ) } } } ) ; 
 d e f i n e ( ' c o r e / i n p l a c e _ e d i t a b l e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / c o n f i g " , " c o r e / u r l " , " c o r e / f o r m - a u t o c o m p l e t e " , " c o r e / p e n d i n g " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { r e t u r n   a ( " b o d y " ) . o n ( " c l i c k   k e y p r e s s " , " [ d a t a - i n p l a c e e d i t a b l e ]   [ d a t a - i n p l a c e e d i t a b l e l i n k ] " , f u n c t i o n ( j ) { i f ( " k e y p r e s s " ! = = j . t y p e | | 1 3 = = = j . k e y C o d e ) { v a r   k = n e w   i ( " a u t o c o m p l e t e - s t a r t - e d i t i n g " ) ; j . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , j . p r e v e n t D e f a u l t ( ) ; v a r   l = a ( t h i s ) , m = l . c l o s e s t ( " [ d a t a - i n p l a c e e d i t a b l e ] " ) , n = f u n c t i o n ( b ) { b . a d d C l a s s ( " u p d a t i n g " ) ; v a r   c = b . f i n d ( " i m g . s p i n n e r " ) ; c . l e n g t h ? c . s h o w ( ) : ( c = a ( " < i m g / > " ) . a t t r ( " s r c " , g . i m a g e U r l ( " i / l o a d i n g _ s m a l l " ) ) . a d d C l a s s ( " s p i n n e r " ) . a d d C l a s s ( " s m a l l i c o n " ) , b . a p p e n d ( c ) ) } , o = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " u p d a t i n g " ) , a . f i n d ( " i m g . s p i n n e r " ) . h i d e ( ) } , p = f u n c t i o n ( e , f ) { v a r   g = [ e . a t t r ( " d a t a - i t e m i d " ) , e . a t t r ( " d a t a - c o m p o n e n t " ) , e . a t t r ( " d a t a - i t e m t y p e " ) ] . j o i n ( " - " ) , h = n e w   i ( g ) ; n ( e ) , b . c a l l ( [ { m e t h o d n a m e : " c o r e _ u p d a t e _ i n p l a c e _ e d i t a b l e " , a r g s : { i t e m i d : e . a t t r ( " d a t a - i t e m i d " ) , c o m p o n e n t : e . a t t r ( " d a t a - c o m p o n e n t " ) , i t e m t y p e : e . a t t r ( " d a t a - i t e m t y p e " ) , v a l u e : f } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( b ) { r e t u r n   c . r e n d e r ( " c o r e / i n p l a c e _ e d i t a b l e " , b ) . t h e n ( f u n c t i o n ( d , f ) { v a r   g = e . a t t r ( " d a t a - v a l u e " ) , h = a ( d ) ; c . r e p l a c e N o d e ( e , h , f ) , h . f i n d ( " [ d a t a - i n p l a c e e d i t a b l e l i n k ] " ) . f o c u s ( ) , h . t r i g g e r ( { t y p e : " u p d a t e d " , a j a x r e t u r n : b , o l d v a l u e : g } ) } ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . r e s o l v e ( ) } ) . f a i l ( f u n c t i o n ( b ) { v a r   c = a . E v e n t ( " u p d a t e f a i l e d " , { e x c e p t i o n : b , n e w v a l u e : f } ) ; o ( e ) , M . u t i l . j s _ c o m p l e t e ( g ) , e . t r i g g e r ( c ) , c . i s D e f a u l t P r e v e n t e d ( ) | | d . e x c e p t i o n ( b ) } ) } , q = f u n c t i o n ( a ) { a . f i n d ( " i n p u t " ) . o f f ( ) , a . f i n d ( " s e l e c t " ) . o f f ( ) , a . h t m l ( a . a t t r ( " d a t a - o l d c o n t e n t " ) ) , a . r e m o v e A t t r ( " d a t a - o l d c o n t e n t " ) , a . r e m o v e C l a s s ( " i n p l a c e e d i t i n g o n " ) , a . f i n d ( " [ d a t a - i n p l a c e e d i t a b l e l i n k ] " ) . f o c u s ( ) } , r = f u n c t i o n ( ) { a ( " s p a n . i n p l a c e e d i t a b l e . i n p l a c e e d i t i n g o n " ) . e a c h ( f u n c t i o n ( ) { q ( a ( t h i s ) ) } ) } , s = f u n c t i o n ( b , c ) { v a r   d , e = b ; f o r ( d = 0 ; d < c ; d + + ) e + = S t r i n g ( M a t h . f l o o r ( 1 0 * M a t h . r a n d o m ( ) ) ) ; r e t u r n   0 = = = a ( " # " + e ) . l e n g t h ? e : s ( b , c ) } , t = f u n c t i o n ( b ) { e . g e t _ s t r i n g ( " e d i t t i t l e i n s t r u c t i o n s " ) . d o n e ( f u n c t i o n ( c ) { v a r   d = a ( ' < s p a n   c l a s s = " e d i t i n s t r u c t i o n s " > ' + c + " < / s p a n > " ) . a t t r ( " i d " , s ( " i d _ e d i t i n s t r u c t i o n s _ " , 2 0 ) ) , e = a ( ' < i n p u t   t y p e = " t e x t " / > ' ) . a t t r ( " i d " , s ( " i d _ i n p l a c e v a l u e _ " , 2 0 ) ) . a t t r ( " v a l u e " , b . a t t r ( " d a t a - v a l u e " ) ) . a t t r ( " a r i a - d e s c r i b e d b y " , d . a t t r ( " i d " ) ) . a d d C l a s s ( " i g n o r e d i r t y " ) . a d d C l a s s ( " f o r m - c o n t r o l " ) , g = a ( ' < l a b e l   c l a s s = " a c c e s s h i d e " > ' + m . a t t r ( " d a t a - e d i t l a b e l " ) + " < / l a b e l > " ) . a t t r ( " f o r " , e . a t t r ( " i d " ) ) ; b . h t m l ( " " ) . a p p e n d ( d ) . a p p e n d ( g ) . a p p e n d ( e ) , e . f o c u s ( ) , e . s e l e c t ( ) , e . o n ( " k e y u p   k e y p r e s s   f o c u s o u t " , f u n c t i o n ( a ) { i f ( ! f . b e h a t s i t e r u n n i n g | | " f o c u s o u t " ! = = a . t y p e ) { i f ( " k e y p r e s s " = = = a . t y p e & & 1 3 = = = a . k e y C o d e ) { v a r   c = e . v a l ( ) ; q ( b ) , p ( b , c ) } ( " k e y u p " = = = a . t y p e & & 2 7 = = = a . k e y C o d e | | " f o c u s o u t " = = = a . t y p e ) & & q ( b ) } } ) } ) } , u = f u n c t i o n ( a , b ) { q ( a ) , p ( a , b ) } , v = f u n c t i o n ( b , c ) { v a r   d , e = a ( " < s e l e c t > < / s e l e c t > " ) . a t t r ( " i d " , s ( " i d _ i n p l a c e v a l u e _ " , 2 0 ) ) . a d d C l a s s ( " c u s t o m - s e l e c t " ) , g = a ( ' < l a b e l   c l a s s = " a c c e s s h i d e " > ' + m . a t t r ( " d a t a - e d i t l a b e l " ) + " < / l a b e l > " ) . a t t r ( " f o r " , e . a t t r ( " i d " ) ) ; f o r ( d   i n   c ) e . a p p e n d ( a ( " < o p t i o n > " ) . a t t r ( " v a l u e " , c [ d ] . k e y ) . h t m l ( c [ d ] . v a l u e ) ) ; e . v a l ( b . a t t r ( " d a t a - v a l u e " ) ) , b . h t m l ( " " ) . a p p e n d ( g ) . a p p e n d ( e ) , e . f o c u s ( ) , e . s e l e c t ( ) , e . o n ( " k e y u p   c h a n g e   f o c u s o u t " , f u n c t i o n ( a ) { i f ( ! f . b e h a t s i t e r u n n i n g | | " f o c u s o u t " ! = = a . t y p e ) { i f ( " c h a n g e " = = = a . t y p e ) { v a r   c = e . v a l ( ) ; q ( b ) , p ( b , c ) } ( " k e y u p " = = = a . t y p e & & 2 7 = = = a . k e y C o d e | | " f o c u s o u t " = = = a . t y p e ) & & q ( b ) } } ) } , w = f u n c t i o n ( b , f ) { v a r   g , i = a ( " < s e l e c t > < / s e l e c t > " ) . a t t r ( " i d " , s ( " i d _ i n p l a c e v a l u e _ " , 2 0 ) ) . a d d C l a s s ( " f o r m - a u t o c o m p l e t e - o r i g i n a l - s e l e c t " ) . a d d C l a s s ( " c u s t o m - s e l e c t " ) , j = a ( ' < l a b e l   c l a s s = " a c c e s s h i d e " > ' + m . a t t r ( " d a t a - e d i t l a b e l " ) + " < / l a b e l > " ) . a t t r ( " f o r " , i . a t t r ( " i d " ) ) , k = f . o p t i o n s , l = f . a t t r i b u t e s , n = a ( ' < a   h r e f = " # " > < / a > ' ) , o = a ( ' < a   h r e f = " # " > < / a > ' ) ; f o r ( g   i n   k ) i . a p p e n d ( a ( " < o p t i o n > " ) . a t t r ( " v a l u e " , k [ g ] . k e y ) . h t m l ( k [ g ] . v a l u e ) ) ; l . m u l t i p l e & & i . a t t r ( " m u l t i p l e " , " t r u e " ) , i . v a l ( J S O N . p a r s e ( b . a t t r ( " d a t a - v a l u e " ) ) ) , e . g e t _ s t r i n g ( " s a v e c h a n g e s " , " c o r e " ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . r e n d e r P i x ( " e / s a v e " , " c o r e " , a ) } ) . t h e n ( f u n c t i o n ( a ) { n . a p p e n d ( a ) } ) . f a i l ( d . e x c e p t i o n ) , e . g e t _ s t r i n g ( " c a n c e l " , " c o r e " ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . r e n d e r P i x ( " e / c a n c e l " , " c o r e " , a ) } ) . t h e n ( f u n c t i o n ( a ) { o . a p p e n d ( a ) } ) . f a i l ( d . e x c e p t i o n ) , b . h t m l ( " " ) . a p p e n d ( j ) . a p p e n d ( i ) . a p p e n d ( n ) . a p p e n d ( o ) , i . f o c u s ( ) , i . s e l e c t ( ) , h . e n h a n c e ( i , l . t a g s , l . a j a x , l . p l a c e h o l d e r , l . c a s e S e n s i t i v e , l . s h o w S u g g e s t i o n s , l . n o S e l e c t i o n S t r i n g ) . t h e n ( f u n c t i o n ( ) { b . f i n d ( " [ r o l e = c o m b o b o x ] " ) . f o c u s ( ) } ) . f a i l ( d . e x c e p t i o n ) , i . o n ( " k e y u p " , f u n c t i o n ( a ) { ( " k e y u p " = = = a . t y p e & & 2 7 = = = a . k e y C o d e | | " f o c u s o u t " = = = a . t y p e ) & & q ( b ) } ) , n . o n ( " c l i c k " , f u n c t i o n ( a ) { v a r   c = J S O N . s t r i n g i f y ( i . v a l ( ) ) ; i . e m p t y ( ) , q ( b ) , p ( b , c ) , a . p r e v e n t D e f a u l t ( ) } ) , o . o n ( " c l i c k " , f u n c t i o n ( a ) { i . e m p t y ( ) , q ( b ) , a . p r e v e n t D e f a u l t ( ) } ) } , x = f u n c t i o n ( b ) { b . a d d C l a s s ( " i n p l a c e e d i t i n g o n " ) , b . a t t r ( " d a t a - o l d c o n t e n t " , b . h t m l ( ) ) ; v a r   c = b . a t t r ( " d a t a - t y p e " ) , d = b . a t t r ( " d a t a - o p t i o n s " ) ; " t o g g l e " = = = c ? u ( b , d ) : " s e l e c t " = = = c ? v ( b , a . p a r s e J S O N ( d ) ) : " a u t o c o m p l e t e " = = = c ? w ( b , a . p a r s e J S O N ( d ) ) : t ( b ) } ; r ( ) , x ( m ) , k . r e s o l v e ( ) } } ) , { } } ) ; 
 d e f i n e ( ' c o r e / p a g e d _ c o n t e n t _ p a g i n g _ b a r _ l i m i t _ s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p a g e d _ c o n t e n t _ e v e n t s " , " c o r e / p u b s u b " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { R O O T : ' [ d a t a - r e g i o n = " p a g i n g - c o n t r o l - l i m i t - c o n t a i n e r " ] ' , L I M I T _ O P T I O N : " [ d a t a - l i m i t ] " , L I M I T _ T O G G L E : ' [ d a t a - a c t i o n = " l i m i t - t o g g l e " ] ' } , f = f u n c t i o n ( f , g ) { f = a ( f ) , b . d e f i n e ( f , [ b . e v e n t s . a c t i v a t e ] ) , f . o n ( b . e v e n t s . a c t i v a t e , e . L I M I T _ O P T I O N , f u n c t i o n ( b , f ) { v a r   h = a ( b . t a r g e t ) . c l o s e s t ( e . L I M I T _ O P T I O N ) ; i f ( ! h . h a s C l a s s ( " a c t i v e " ) ) { v a r   i = p a r s e I n t ( h . a t t r ( " d a t a - l i m i t " ) , 1 0 ) ; d . p u b l i s h ( g + c . S E T _ I T E M S _ P E R _ P A G E _ L I M I T , i ) , f . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } } ) } ; r e t u r n { i n i t : f , r o o t S e l e c t o r : e . R O O T } } ) ; 
 d e f i n e ( ' c o r e / c h a r t j s ' ,   [ " c o r e / c h a r t j s - l a z y " ] , f u n c t i o n ( a ) { r e t u r n   a } ) ; 
 d e f i n e ( ' c o r e / s e a r c h - i n p u t ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = n u l l , c = f u n c t i o n ( a ) { b . h a s C l a s s ( " e x p a n d e d " ) ? e ( ) : d ( a ) } , d = f u n c t i o n ( c ) { v a r   d = a ( d o c u m e n t ) . w i d t h ( ) ; i f ( " k e y d o w n " ! = = c . t y p e | | 1 3 = = = c . k e y C o d e | | 3 2 = = = c . k e y C o d e ) r e t u r n   d < = 7 6 7 & & ( " c l i c k " = = = c . t y p e | | " k e y d o w n " = = = c . t y p e ) ? v o i d   f ( ) : v o i d ( d < = 7 6 7 | | ( " k e y d o w n " = = = c . t y p e & & c . p r e v e n t D e f a u l t ( ) , b . a d d C l a s s ( " e x p a n d e d " ) , b . f i n d ( " f o r m " ) . a d d C l a s s ( " e x p a n d e d " ) , b . f i n d ( " i n p u t " ) . f o c u s ( ) ) ) } , e = f u n c t i o n ( ) { b . r e m o v e C l a s s ( " e x p a n d e d " ) , b . f i n d ( " f o r m " ) . r e m o v e C l a s s ( " e x p a n d e d " ) } , f = f u n c t i o n ( ) { b . f i n d ( " f o r m " ) . s u b m i t ( ) } ; r e t u r n { i n i t : f u n c t i o n ( d ) { b = a ( " # " + d ) , b . o n ( " c l i c k   m o u s e o v e r   k e y d o w n " , " d i v " , c ) } } } ) ; 
 d e f i n e ( ' c o r e / p a g e d _ c o n t e n t _ f a c t o r y ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / p a g e d _ c o n t e n t " , " c o r e / p a g e d _ c o n t e n t _ e v e n t s " , " c o r e / p u b s u b " , " c o r e / a j a x " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { P A G E D _ C O N T E N T : " c o r e / p a g e d _ c o n t e n t " } , i = { I T E M S _ P E R _ P A G E _ S I N G L E : 2 5 , I T E M S _ P E R _ P A G E _ A R R A Y : [ 2 5 , 5 0 , 1 0 0 , 0 ] , M A X _ P A G E S : 3 } , j = f u n c t i o n ( ) { r e t u r n { p a g i n g b a r : ! 1 , p a g i n g d r o p d o w n : ! 1 , s k i p j s : ! 0 , i g n o r e c o n t r o l w h i l e l o a d i n g : ! 0 , c o n t r o l p l a c e m e n t b o t t o m : ! 1 } } , k = f u n c t i o n ( ) { r e t u r n { s h o w i t e m s p e r p a g e s e l e c t o r : ! 1 , i t e m s p e r p a g e : 3 5 , p r e v i o u s : ! 0 , n e x t : ! 0 , a c t i v e p a g e n u m b e r : 1 , h i d e c o n t r o l o n s i n g l e p a g e : ! 0 , p a g e s : [ ] } } , l = f u n c t i o n ( a , b ) { v a r   c = 1 ; i f ( a > 0 ) { v a r   d = a % b ; d ? ( a - = d , c = a / b + 1 ) : c = a / b } r e t u r n   c } , m = f u n c t i o n ( b , c ) { n u l l = = = c & & ( c = i . I T E M S _ P E R _ P A G E _ S I N G L E ) , a . i s A r r a y ( c ) & & ( c = c [ 0 ] ) ; v a r   d = k ( ) ; d . i t e m s p e r p a g e = c ; f o r ( v a r   e = l ( b , c ) , f = 1 ; f < = e ; f + + ) { v a r   g = { n u m b e r : f , p a g e : " " + f } ; 1 = = = f & & ( g . a c t i v e = ! 0 ) , d . p a g e s . p u s h ( g ) } r e t u r n   d } , n = f u n c t i o n ( b ) { i f ( a . i s A r r a y ( b ) ) { v a r   c = b . m a p ( f u n c t i o n ( a ) { r e t u r n " n u m b e r " = = t y p e o f   a ? { v a l u e : a , a c t i v e : ! 1 } : a } ) , d = c . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . a c t i v e } ) ; r e t u r n   d . l e n g t h | | ( c [ 0 ] . a c t i v e = ! 0 ) , c } r e t u r n   b } , o = f u n c t i o n ( b ) { n u l l = = = b & & ( b = i . I T E M S _ P E R _ P A G E _ A R R A Y ) ; v a r   c = k ( ) ; r e t u r n   c . i t e m s p e r p a g e = n ( b ) , c . s h o w i t e m s p e r p a g e s e l e c t o r = a . i s A r r a y ( b ) , c } , p = f u n c t i o n ( a , b ) { r e t u r n   a ? m ( a , b ) : o ( b ) } , q = f u n c t i o n ( b , c ) { i f ( n u l l = = = b & & ( b = i . I T E M S _ P E R _ P A G E _ S I N G L E ) , a . i s A r r a y ( b ) ) r e t u r n { o p t i o n s : b } ; v a r   d = { o p t i o n s : [ ] } , e = 0 , f = 0 , g = i . M A X _ P A G E S ; c . h a s O w n P r o p e r t y ( " m a x P a g e s " ) & & ( g = c . m a x P a g e s ) ; f o r ( v a r   h = 1 ; h < = g ; h + + ) { v a r   j = 0 ; h < = 2 ? ( j = b , f = b ) : ( f = 2 * f , j = f ) , e + = j ; v a r   k = { i t e m c o u n t : j , c o n t e n t : e } ; 1 = = = h & & ( k . a c t i v e = ! 0 ) , d . o p t i o n s . p u s h ( k ) } r e t u r n   d } , r = f u n c t i o n ( a , b , c ) { v a r   d = j ( ) ; r e t u r n   c . h a s O w n P r o p e r t y ( " i g n o r e C o n t r o l W h i l e L o a d i n g " ) & & ( d . i g n o r e c o n t r o l w h i l e l o a d i n g = c . i g n o r e C o n t r o l W h i l e L o a d i n g ) , c . h a s O w n P r o p e r t y ( " c o n t r o l P l a c e m e n t B o t t o m " ) & & ( d . c o n t r o l p l a c e m e n t b o t t o m = c . c o n t r o l P l a c e m e n t B o t t o m ) , c . h a s O w n P r o p e r t y ( " h i d e C o n t r o l O n S i n g l e P a g e " ) & & ( d . h i d e c o n t r o l o n s i n g l e p a g e = c . h i d e C o n t r o l O n S i n g l e P a g e ) , c . h a s O w n P r o p e r t y ( " a r i a L a b e l s " ) & & ( d . a r i a l a b e l s = c . a r i a L a b e l s ) , c . h a s O w n P r o p e r t y ( " d r o p d o w n " ) & & c . d r o p d o w n ? d . p a g i n g d r o p d o w n = q ( b , c ) : d . p a g i n g b a r = p ( a , b ) , d } , s = f u n c t i o n ( a , b ) { r e t u r n   u ( n u l l , n u l l , a , b ) } , t = f u n c t i o n ( a , b , c ) { r e t u r n   u ( n u l l , a , b , c ) } , u = f u n c t i o n ( e , f , g , i ) { i = i | | { } ; v a r   j = a . D e f e r r e d ( ) , k = r ( e , f , i ) ; r e t u r n   b . r e n d e r ( h . P A G E D _ C O N T E N T , k ) . t h e n ( f u n c t i o n ( b , c ) { b = a ( b ) ; v a r   e = b . a t t r ( " i d " ) ; i . h a s O w n P r o p e r t y ( " e v e n t N a m e s p a c e " ) & & ( e = i . e v e n t N a m e s p a c e ) ; v a r   f = b ; d . i n i t ( f , g , e ) , y ( e , i ) , j . r e s o l v e ( b , c ) } ) . f a i l ( f u n c t i o n ( a ) { j . r e j e c t ( a ) } ) . f a i l ( c . e x c e p t i o n ) , j . p r o m i s e ( ) } , v = f u n c t i o n ( a , b , c , d ) { " u n d e f i n e d " = = t y p e o f   d & & ( d = { } ) ; v a r   e = a . l e n g t h ; r e t u r n   u ( e , b , f u n c t i o n ( b ) { v a r   d = [ ] ; r e t u r n   b . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = b . o f f s e t , f = b . l i m i t ? c + b . l i m i t : e , g = a . s l i c e ( c , f ) ; d . p u s h ( g ) } ) , c ( d ) } , d ) } , w = f u n c t i o n ( a , b ) { f . p u b l i s h ( a + e . A L L _ I T E M S _ L O A D E D , b ) } , x = f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { v a r   c = { p r e f e r e n c e s : [ { t y p e : a , v a l u e : b } ] } , d = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : c } ; g . c a l l ( [ d ] ) } ; r e t u r n   b } , y = f u n c t i o n ( a , b ) { b . h a s O w n P r o p e r t y ( " p e r s i s t e n t L i m i t K e y " ) & & f . s u b s c r i b e ( a + e . S E T _ I T E M S _ P E R _ P A G E _ L I M I T , x ( b . p e r s i s t e n t L i m i t K e y ) ) } ; r e t u r n { c r e a t e : s , c r e a t e W i t h L i m i t : t , c r e a t e W i t h T o t a l A n d L i m i t : u , c r e a t e F r o m S t a t i c L i s t : v , c r e a t e F r o m A j a x : u , r e s e t L a s t P a g e N u m b e r : w } } ) ; 
 d e f i n e ( ' c o r e / k e y _ c o d e s ' ,   f u n c t i o n ( ) { r e t u r n { t a b : 9 , e n t e r : 1 3 , s h i f t : 1 6 , c t r l : 1 7 , a l t : 1 8 , e s c a p e : 2 7 , s p a c e : 3 2 , e n d : 3 5 , h o m e : 3 6 , a r r o w L e f t : 3 7 , a r r o w U p : 3 8 , a r r o w R i g h t : 3 9 , a r r o w D o w n : 4 0 , 8 : 5 6 , a s t e r i x : 1 0 6 , p a g e U p : 3 3 , p a g e D o w n : 3 4 } } ) ; 
 d e f i n e ( ' c o r e / a d d b l o c k m o d a l ' ,   [ " j q u e r y " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e ) { r e t u r n { i n i t : f u n c t i o n ( f ) { v a r   g = a ( " [ d a t a - k e y = a d d b l o c k ] " ) , h = f . b l o c k s . m a p ( f u n c t i o n ( a ) { r e t u r n { k e y : " p l u g i n n a m e " , c o m p o n e n t : " b l o c k _ " + a } } ) , i = d . g e t _ s t r i n g s ( h ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . m a p ( f u n c t i o n ( a , b ) { r e t u r n { n a m e : f . b l o c k s [ b ] , t i t l e : a } } ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . b l o c k s = a , c . r e n d e r ( " c o r e / a d d _ b l o c k _ b o d y " , f ) } ) . f a i l ( e . e x c e p t i o n ) , j = d . g e t _ s t r i n g ( " a d d b l o c k " ) . f a i l ( e . e x c e p t i o n ) ; b . c r e a t e ( { t i t l e : j , b o d y : i , t y p e : " C A N C E L " } , g ) } } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t _ h t m l t a b l e ' ,   [ " j q u e r y " , " c o r e / c h a r t _ o u t p u t _ b a s e " ] , f u n c t i o n ( a , b ) { f u n c t i o n   c ( ) { b . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ b u i l d ( ) } r e t u r n   c . p r o t o t y p e = O b j e c t . c r e a t e ( b . p r o t o t y p e ) , c . p r o t o t y p e . _ b u i l d = f u n c t i o n ( ) { t h i s . _ n o d e . e m p t y ( ) , t h i s . _ n o d e . a p p e n d ( t h i s . _ m a k e T a b l e ( ) ) } , c . p r o t o t y p e . _ m a k e T a b l e = f u n c t i o n ( ) { v a r   b , c , d , e = a ( " < t a b l e > " ) , f = t h i s . _ c h a r t , g = f . g e t L a b e l s ( ) , h = g . l e n g t h > 0 , i = f . g e t S e r i e s ( ) , j = i [ 0 ] . g e t C o u n t ( ) ; e . a d d C l a s s ( " c h a r t - o u t p u t - h t m l t a b l e   g e n e r a l t a b l e " ) , n u l l ! = = f . g e t T i t l e ( ) & & e . a p p e n d ( a ( " < c a p t i o n > " ) . t e x t ( f . g e t T i t l e ( ) ) ) , b = a ( " < t r > " ) , h & & b . a p p e n d ( a ( " < t d > " ) ) , i . f o r E a c h ( f u n c t i o n ( c ) { b . a p p e n d ( a ( " < t h > " ) . t e x t ( c . g e t L a b e l ( ) ) . a t t r ( " s c o p e " , " c o l " ) ) } ) , e . a p p e n d ( b ) ; f o r ( v a r   k = 0 ; k < j ; k + + ) { b = a ( " < t r > " ) , g . l e n g t h > 0 & & b . a p p e n d ( a ( " < t h > " ) . t e x t ( g [ k ] ) . a t t r ( " s c o p e " , " r o w " ) ) ; f o r ( v a r   l = 0 ; l < i . l e n g t h ; l + + ) c = i [ l ] . g e t V a l u e s ( ) [ k ] , d = i [ l ] . g e t L a b e l s ( ) , n u l l ! = = d & & ( c = i [ l ] . g e t L a b e l s ( ) [ k ] ) , b . a p p e n d ( a ( " < t d > " ) . t e x t ( c ) ) ; e . a p p e n d ( b ) } r e t u r n   e } , c . p r o t o t y p e . u p d a t e = f u n c t i o n ( ) { t h i s . _ b u i l d ( ) } , c } ) ; 
 d e f i n e ( ' c o r e / s e s s i o n s t o r a g e ' ,   [ " c o r e / c o n f i g " , " c o r e / s t o r a g e w r a p p e r " ] , f u n c t i o n ( a , b ) { v a r   c = n e w   b ( w i n d o w . s e s s i o n S t o r a g e ) ; r e t u r n { g e t : f u n c t i o n ( a ) { r e t u r n   c . g e t ( a ) } , s e t : f u n c t i o n ( a , b ) { r e t u r n   c . s e t ( a , b ) } } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ b a s e ' ,   [ " c o r e / c h a r t _ s e r i e s " , " c o r e / c h a r t _ a x i s " ] , f u n c t i o n ( a , b ) { f u n c t i o n   c ( ) { t h i s . _ s e r i e s = [ ] , t h i s . _ l a b e l s = [ ] , t h i s . _ x a x e s = [ ] , t h i s . _ y a x e s = [ ] , t h i s . _ s e t D e f a u l t s ( ) } r e t u r n   c . p r o t o t y p e . _ s e r i e s = n u l l , c . p r o t o t y p e . _ l a b e l s = n u l l , c . p r o t o t y p e . _ t i t l e = n u l l , c . p r o t o t y p e . _ x a x e s = n u l l , c . p r o t o t y p e . _ y a x e s = n u l l , c . p r o t o t y p e . C O L O R S E T = [ " # f 3 c 3 0 0 " , " # 8 7 5 6 9 2 " , " # f 3 8 4 0 0 " , " # a 1 c a f 1 " , " # b e 0 0 3 2 " , " # c 2 b 2 8 0 " , " # 7 f 1 8 0 d " , " # 0 0 8 8 5 6 " , " # e 6 8 f a c " , " # 0 0 6 7 a 5 " ] , c . p r o t o t y p e . _ c o n f i g C o l o r S e t = n u l l , c . p r o t o t y p e . T Y P E = n u l l , c . p r o t o t y p e . a d d S e r i e s = f u n c t i o n ( a ) { i f ( t h i s . _ v a l i d a t e S e r i e s ( a ) , t h i s . _ s e r i e s . p u s h ( a ) , n u l l = = = a . g e t C o l o r ( ) ) { v a r   b = t h i s . g e t C o n f i g C o l o r S e t ( ) | | c . p r o t o t y p e . C O L O R S E T ; a . s e t C o l o r ( b [ t h i s . _ s e r i e s . l e n g t h % b . l e n g t h ] ) } } , c . p r o t o t y p e . c r e a t e = f u n c t i o n ( c , d ) { v a r   e = n e w   c ; r e t u r n   e . s e t C o n f i g C o l o r S e t ( d . c o n f i g _ c o l o r s e t ) , e . s e t L a b e l s ( d . l a b e l s ) , e . s e t T i t l e ( d . t i t l e ) , d . s e r i e s . f o r E a c h ( f u n c t i o n ( b ) { e . a d d S e r i e s ( a . p r o t o t y p e . c r e a t e ( b ) ) } ) , d . a x e s . x . f o r E a c h ( f u n c t i o n ( a , c ) { e . s e t X A x i s ( b . p r o t o t y p e . c r e a t e ( a ) , c ) } ) , d . a x e s . y . f o r E a c h ( f u n c t i o n ( a , c ) { e . s e t Y A x i s ( b . p r o t o t y p e . c r e a t e ( a ) , c ) } ) , e } , c . p r o t o t y p e . _ _ g e t A x i s = f u n c t i o n ( a , c , d ) { v a r   e , f = " x " = = = a ? t h i s . _ x a x e s : t h i s . _ y a x e s , g = ( " x " = = = a ? t h i s . s e t X A x i s : t h i s . s e t Y A x i s ) . b i n d ( t h i s ) ; i f ( c = " u n d e f i n e d " = = t y p e o f   c ? 0 : c , d = " u n d e f i n e d " ! = t y p e o f   d & & d , e = f [ c ] , " u n d e f i n e d " = = t y p e o f   e ) { i f ( ! d ) t h r o w   n e w   E r r o r ( " U n k n o w n   a x i s . " ) ; e = n e w   b , g ( e , c ) } r e t u r n   e } , c . p r o t o t y p e . g e t C o n f i g C o l o r S e t = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o n f i g C o l o r S e t } , c . p r o t o t y p e . g e t L a b e l s = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l s } , c . p r o t o t y p e . g e t S e r i e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ s e r i e s } , c . p r o t o t y p e . g e t T i t l e = f u n c t i o n ( ) { r e t u r n   t h i s . _ t i t l e } , c . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { i f ( ! t h i s . T Y P E ) t h r o w   n e w   E r r o r ( " T h e   T Y P E   p r o p e r t y   h a s   n o t   b e e n   s e t . " ) ; r e t u r n   t h i s . T Y P E } , c . p r o t o t y p e . g e t X A x e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ x a x e s } , c . p r o t o t y p e . g e t X A x i s = f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ _ g e t A x i s ( " x " , a , b ) } , c . p r o t o t y p e . g e t Y A x e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ y a x e s } , c . p r o t o t y p e . g e t Y A x i s = f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ _ g e t A x i s ( " y " , a , b ) } , c . p r o t o t y p e . s e t C o n f i g C o l o r S e t = f u n c t i o n ( a ) { t h i s . _ c o n f i g C o l o r S e t = a } , c . p r o t o t y p e . _ s e t D e f a u l t s = f u n c t i o n ( ) { } , c . p r o t o t y p e . s e t L a b e l s = f u n c t i o n ( a ) { i f ( a . l e n g t h & & t h i s . _ s e r i e s . l e n g t h & & t h i s . _ s e r i e s [ 0 ] . l e n g t h ! = a . l e n g t h ) t h r o w   n e w   E r r o r ( " S e r i e s   m u s t   m a t c h   l a b e l   v a l u e s . " ) ; t h i s . _ l a b e l s = a } , c . p r o t o t y p e . s e t T i t l e = f u n c t i o n ( a ) { t h i s . _ t i t l e = a } , c . p r o t o t y p e . s e t X A x i s = f u n c t i o n ( a , b ) { b = " u n d e f i n e d " = = t y p e o f   b ? 0 : b , t h i s . _ v a l i d a t e A x i s ( " x " , a , b ) , t h i s . _ x a x e s [ b ] = a } , c . p r o t o t y p e . s e t Y A x i s = f u n c t i o n ( a , b ) { b = " u n d e f i n e d " = = t y p e o f   b ? 0 : b , t h i s . _ v a l i d a t e A x i s ( " y " , a , b ) , t h i s . _ y a x e s [ b ] = a } , c . p r o t o t y p e . _ v a l i d a t e A x i s = f u n c t i o n ( a , b , c ) { i f ( c = " u n d e f i n e d " = = t y p e o f   c ? 0 : c , c > 0 ) { v a r   d = " x " = = a ? t h i s . _ x a x e s : t h i s . _ y a x e s ; i f ( " u n d e f i n e d " = = t y p e o f   d [ c - 1 ] ) t h r o w   n e w   E r r o r ( " M i s s i n g   " + a + "   a x i s   a t   i n d e x   l o w e r   t h a n   " + c ) } } , c . p r o t o t y p e . _ v a l i d a t e S e r i e s = f u n c t i o n ( a ) { i f ( t h i s . _ s e r i e s . l e n g t h & & t h i s . _ s e r i e s [ 0 ] . g e t C o u n t ( ) ! = a . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " S e r i e s   d o   n o t   h a v e   a n   e q u a l   n u m b e r   o f   v a l u e s . " ) ; i f ( t h i s . _ l a b e l s . l e n g t h & & t h i s . _ l a b e l s . l e n g t h ! = a . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " S e r i e s   m u s t   m a t c h   l a b e l   v a l u e s . " ) } , c } ) ; 
 d e f i n e ( ' c o r e / a j a x ' ,   [ " j q u e r y " , " c o r e / c o n f i g " , " c o r e / l o g " , " c o r e / u r l " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = ! 1 , f = f u n c t i o n ( a ) { v a r   b , c , e = t h i s , f = n u l l , g = 0 ; i f ( a . e r r o r ) f o r ( ; g < e . l e n g t h ; g + + ) b = e [ g ] , b . d e f e r r e d . r e j e c t ( a ) ; e l s e { f o r ( g = 0 ; g < e . l e n g t h ; g + + ) { i f ( b = e [ g ] , c = a [ g ] , " u n d e f i n e d " = = t y p e o f   c ) { f = n e w   E r r o r ( " m i s s i n g   r e s p o n s e " ) ; b r e a k } i f ( c . e r r o r ! = = ! 1 ) { f = c . e x c e p t i o n ; b r e a k } b . d e f e r r e d . r e s o l v e ( c . d a t a ) } n u l l ! = = f & & ( " s e r v i c e r e q u i r e s l o g i n " = = = f . e r r o r c o d e ? w i n d o w . l o c a t i o n = d . r e l a t i v e U r l ( " / l o g i n / i n d e x . p h p " ) : e . f o r E a c h ( f u n c t i o n ( a ) { a . d e f e r r e d . r e j e c t ( f ) } ) ) } } , g = f u n c t i o n ( a , b , d ) { v a r   f = t h i s , g = 0 ; f o r ( g = 0 ; g < f . l e n g t h ; g + + ) { v a r   h = f [ g ] ; e ? ( c . e r r o r ( " P a g e   u n l o a d e d . " ) , c . e r r o r ( d ) ) : h . d e f e r r e d . r e j e c t ( d ) } } ; r e t u r n { c a l l : f u n c t i o n ( c , d , h ) { a ( w i n d o w ) . b i n d ( " b e f o r e u n l o a d " , f u n c t i o n ( ) { e = ! 0 } ) ; v a r   i , j = [ ] , k = [ ] , l = [ ] , m = " " ; f o r ( " u n d e f i n e d " = = t y p e o f   h & & ( h = ! 0 ) , " u n d e f i n e d " = = t y p e o f   d & & ( d = ! 0 ) , i = 0 ; i < c . l e n g t h ; i + + ) { v a r   n = c [ i ] ; j . p u s h ( { i n d e x : i , m e t h o d n a m e : n . m e t h o d n a m e , a r g s : n . a r g s } ) , n . d e f e r r e d = a . D e f e r r e d ( ) , k . p u s h ( n . d e f e r r e d . p r o m i s e ( ) ) , " u n d e f i n e d " ! = t y p e o f   n . d o n e & & n . d e f e r r e d . d o n e ( n . d o n e ) , " u n d e f i n e d " ! = t y p e o f   n . f a i l & & n . d e f e r r e d . f a i l ( n . f a i l ) , n . i n d e x = i , l . p u s h ( n . m e t h o d n a m e ) } m = l . l e n g t h < = 5 ? l . s o r t ( ) . j o i n ( ) : l . l e n g t h + " - m e t h o d - c a l l s " , j = J S O N . s t r i n g i f y ( j ) ; v a r   o = { t y p e : " P O S T " , d a t a : j , c o n t e x t : c , d a t a T y p e : " j s o n " , p r o c e s s D a t a : ! 1 , a s y n c : d , c o n t e n t T y p e : " a p p l i c a t i o n / j s o n " } , p = " s e r v i c e . p h p " ; h | | ( p = " s e r v i c e - n o l o g i n . p h p " ) ; v a r   q = b . w w w r o o t + " / l i b / a j a x / " + p + " ? s e s s k e y = " + b . s e s s k e y + " & i n f o = " + m ; r e t u r n   d ? a . a j a x ( q , o ) . d o n e ( f ) . f a i l ( g ) : ( o . s u c c e s s = f , o . e r r o r = g , a . a j a x ( q , o ) ) , k } } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ r e g i s t r y ' ,   [ " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a ) { v a r   b = { } , c = f u n c t i o n ( a ) { r e t u r n   b [ a ] } , d = f u n c t i o n ( d , e , f ) { c ( d ) & & a . e x c e p t i o n ( { m e s s a g e : " M o d a l   o f     t y p e   ' " + d + " '   i s   a l r e a d y   r e g i s t e r e d " } ) , e & & " f u n c t i o n " = = t y p e o f   e | | a . e x c e p t i o n ( { m e s s a g e : " Y o u   m u s t   p r o v i d e   a   m o d a l   m o d u l e " } ) , f | | a . e x c e p t i o n ( { m e s s a g e : " Y o u   m u s t   p r o v i d e   a   m o d a l   t e m p l a t e " } ) , b [ d ] = { m o d u l e : e , t e m p l a t e : f } } ; r e t u r n { r e g i s t e r : d , g e t : c } } ) ; 
 d e f i n e ( ' c o r e / i c o n _ s y s t e m ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( ) { } ; r e t u r n   b . p r o t o t y p e . i n i t = f u n c t i o n ( ) { r e t u r n   a . w h e n ( t h i s ) } , b . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , b , c , d ) { t h r o w   n e w   E r r o r ( " A b s t r a c t   f u n c t i o n   n o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . g e t T e m p l a t e N a m e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " A b s t r a c t   f u n c t i o n   n o t   i m p l e m e n t e d . " ) } , b } ) ; 
 d e f i n e ( ' c o r e / f i r s t ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { a ( d o c u m e n t ) . b i n d ( " a j a x S t a r t " , f u n c t i o n ( ) { M . u t i l . j s _ p e n d i n g ( " j q " ) } ) . b i n d ( " a j a x S t o p " , f u n c t i o n ( ) { M . u t i l . j s _ c o m p l e t e ( " j q " ) } ) } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ b a r ' ,   [ " c o r e / c h a r t _ b a s e " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( ) { a . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) } r e t u r n   b . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , b . p r o t o t y p e . _ h o r i z o n t a l = ! 1 , b . p r o t o t y p e . _ s t a c k e d = ! 1 , b . p r o t o t y p e . T Y P E = " b a r " , b . p r o t o t y p e . c r e a t e = f u n c t i o n ( b , c ) { v a r   d = a . p r o t o t y p e . c r e a t e . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   d . s e t H o r i z o n t a l ( c . h o r i z o n t a l ) , d . s e t S t a c k e d ( c . s t a c k e d ) , d } , b . p r o t o t y p e . _ s e t D e f a u l t s = f u n c t i o n ( ) { a . p r o t o t y p e . _ s e t D e f a u l t s . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   b = t h i s . g e t Y A x i s ( 0 , ! 0 ) ; b . s e t M i n ( 0 ) } , b . p r o t o t y p e . g e t H o r i z o n t a l = f u n c t i o n ( ) { r e t u r n   t h i s . _ h o r i z o n t a l } , b . p r o t o t y p e . g e t S t a c k e d = f u n c t i o n ( ) { r e t u r n   t h i s . _ s t a c k e d } , b . p r o t o t y p e . s e t H o r i z o n t a l = f u n c t i o n ( a ) { v a r   b = t h i s . g e t X A x i s ( 0 , ! 0 ) ; n u l l = = = b . g e t M i n ( ) & & b . s e t M i n ( 0 ) , t h i s . _ h o r i z o n t a l = B o o l e a n ( a ) } , b . p r o t o t y p e . s e t S t a c k e d = f u n c t i o n ( a ) { t h i s . _ s t a c k e d = B o o l e a n ( a ) } , b } ) ; 
 d e f i n e ( ' c o r e / p a g e d _ c o n t e n t _ p a g i n g _ d r o p d o w n ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p a g e d _ c o n t e n t _ e v e n t s " , " c o r e / p u b s u b " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { R O O T : ' [ d a t a - r e g i o n = " p a g i n g - d r o p d o w n - c o n t a i n e r " ] ' , D R O P D O W N _ I T E M : ' [ d a t a - r e g i o n = " d r o p d o w n - i t e m " ] ' , D R O P D O W N _ T O G G L E : ' [ d a t a - r e g i o n = " d r o p d o w n - t o g g l e " ] ' , A C T I V E _ D R O P D O W N _ I T E M : ' [ d a t a - r e g i o n = " d r o p d o w n - i t e m " ] . a c t i v e ' , C A R E T : ' [ d a t a - r e g i o n = " c a r e t " ] ' } , f = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - p a g e - n u m b e r " ) , 1 0 ) } , g = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( e . D R O P D O W N _ I T E M ) } , h = f u n c t i o n ( b , c ) { v a r   d = f ( c ) ; r e t u r n   g ( b ) . f i l t e r ( f u n c t i o n ( b , c ) { r e t u r n   f ( a ( c ) ) < d } ) } , i = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - i t e m - c o u n t " ) , 1 0 ) } , j = f u n c t i o n ( b , c ) { i f ( v o i d   0 ! = c . a t t r ( " d a t a - o f f s e t " ) ) r e t u r n   p a r s e I n t ( c . a t t r ( " d a t a - o f f s e t " ) , 1 0 ) ; v a r   d = 0 ; r e t u r n   h ( b , c ) . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) , d + = i ( c ) } ) , c . a t t r ( " d a t a - o f f s e t " , d ) , d } , k = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( e . A C T I V E _ D R O P D O W N _ I T E M ) } , l = f u n c t i o n ( b , c ) { r e t u r n   c . m a p ( f u n c t i o n ( c , d ) { r e t u r n   d = a ( d ) , { p a g e N u m b e r : f ( d ) , l i m i t : i ( d ) , o f f s e t : j ( b , d ) } } ) . g e t ( ) } , m = f u n c t i o n ( b ) { b . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) , c . a t t r ( " d a t a - p a g e - n u m b e r " , b + 1 ) } ) } , n = f u n c t i o n ( a , b , f ) { v a r   g = h ( a , b ) , i = g . a d d ( b ) , j = l ( a , i ) , m = a . f i n d ( e . D R O P D O W N _ T O G G L E ) , n = m . f i n d ( e . C A R E T ) ; k ( a ) . r e m o v e C l a s s ( " a c t i v e " ) , b . a d d C l a s s ( " a c t i v e " ) , m . h t m l ( b . t e x t ( ) ) , m . a p p e n d ( n ) , d . p u b l i s h ( f + c . S H O W _ P A G E S , j ) } , o = f u n c t i o n ( c , d ) { c = a ( c ) ; v a r   f = g ( c ) ; m ( f ) ; v a r   h = k ( c ) ; h . l e n g t h & & n ( c , h , d ) , b . d e f i n e ( c , [ b . e v e n t s . a c t i v a t e ] ) , c . o n ( b . e v e n t s . a c t i v a t e , e . D R O P D O W N _ I T E M , f u n c t i o n ( b , f ) { v a r   g = a ( b . t a r g e t ) . c l o s e s t ( e . D R O P D O W N _ I T E M ) ; n ( c , g , d ) , f . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) } ; r e t u r n { i n i t : o , r o o t S e l e c t o r : e . R O O T } } ) ; 
 d e f i n e ( ' c o r e / a u t o _ r o w s ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { E L E M E N T : " [ d a t a - a u t o - r o w s ] " } , c = { R O W _ C H A N G E : " a u t o r o w s : r o w c h a n g e " } , d = f u n c t i o n ( a ) { v a r   b = a . a t t r ( " r o w s " ) , c = a . d a t a ( " m i n - r o w s " ) , d = a . a t t r ( " d a t a - m a x - r o w s " ) , e = a . h e i g h t ( ) , f = a . i n n e r H e i g h t ( ) , g = f - e , h = a [ 0 ] . s c r o l l H e i g h t , i = ( h - g ) / ( e / b ) ; r e t u r n   a . c s s ( " h e i g h t " , " " ) , i < c ? c : d & & i > = d ? d : i } , e = f u n c t i o n ( b ) { v a r   e = a ( b . t a r g e t ) , f = e . d a t a ( " m i n - r o w s " ) , g = e . a t t r ( " r o w s " ) ; " u n d e f i n e d " = = t y p e o f   f & & e . d a t a ( " m i n - r o w s " , g ) , e . a t t r ( " r o w s " , 1 ) ; v a r   h = d ( e ) ; e . a t t r ( " r o w s " , h ) , h ! = g & & e . t r i g g e r ( c . R O W _ C H A N G E ) } , f = f u n c t i o n ( c ) { a ( c ) . d a t a ( " a u t o - r o w s " ) ? a ( c ) . o n ( " i n p u t   p r o p e r t y c h a n g e " , e . b i n d ( t h i s ) ) : a ( c ) . o n ( " i n p u t   p r o p e r t y c h a n g e " , b . E L E M E N T , e . b i n d ( t h i s ) ) } ; r e t u r n { i n i t : f , e v e n t s : c } } ) ; 
 ! f u n c t i o n ( a , b ) { " o b j e c t " = = t y p e o f   e x p o r t s & & e x p o r t s & & " s t r i n g " ! = t y p e o f   e x p o r t s . n o d e N a m e ? b ( e x p o r t s ) : " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' c o r e / m u s t a c h e ' ,   [ " e x p o r t s " ] , b ) : ( a . M u s t a c h e = { } , b ( a . M u s t a c h e ) ) } ( t h i s , f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { r e t u r n " f u n c t i o n " = = t y p e o f   a } f u n c t i o n   c ( a ) { r e t u r n   p ( a ) ? " a r r a y " : t y p e o f   a } f u n c t i o n   d ( a ) { r e t u r n   a . r e p l a c e ( / [ \ - \ [ \ ] { } ( ) * + ? . , \ \ \ ^ $ | # \ s ] / g , " \ \ $ & " ) } f u n c t i o n   e ( a , b ) { r e t u r n   n u l l ! = a & & " o b j e c t " = = t y p e o f   a & & b   i n   a } f u n c t i o n   f ( a , b ) { r e t u r n   q . c a l l ( a , b ) } f u n c t i o n   g ( a ) { r e t u r n ! f ( r , a ) } f u n c t i o n   h ( a ) { r e t u r n   S t r i n g ( a ) . r e p l a c e ( / [ & < > " ' ` = \ / ] / g , f u n c t i o n ( a ) { r e t u r n   s [ a ] } ) } f u n c t i o n   i ( b , c ) { f u n c t i o n   e ( ) { i f ( r & & ! s ) f o r ( ; q . l e n g t h ; ) d e l e t e   o [ q . p o p ( ) ] ; e l s e   q = [ ] ; r = ! 1 , s = ! 1 } f u n c t i o n   f ( a ) { i f ( " s t r i n g " = = t y p e o f   a & & ( a = a . s p l i t ( u , 2 ) ) , ! p ( a ) | | 2 ! = = a . l e n g t h ) t h r o w   n e w   E r r o r ( " I n v a l i d   t a g s :   " + a ) ; h = n e w   R e g E x p ( d ( a [ 0 ] ) + " \ \ s * " ) , i = n e w   R e g E x p ( " \ \ s * " + d ( a [ 1 ] ) ) , m = n e w   R e g E x p ( " \ \ s * " + d ( " } " + a [ 1 ] ) ) } i f ( ! b ) r e t u r n [ ] ; v a r   h , i , m , n = [ ] , o = [ ] , q = [ ] , r = ! 1 , s = ! 1 ; f ( c | | a . t a g s ) ; f o r ( v a r   y , z , A , B , C , D , E = n e w   l ( b ) ; ! E . e o s ( ) ; ) { i f ( y = E . p o s , A = E . s c a n U n t i l ( h ) ) f o r ( v a r   F = 0 , G = A . l e n g t h ; F < G ; + + F ) B = A . c h a r A t ( F ) , g ( B ) ? q . p u s h ( o . l e n g t h ) : s = ! 0 , o . p u s h ( [ " t e x t " , B , y , y + 1 ] ) , y + = 1 , " \ n " = = = B & & e ( ) ; i f ( ! E . s c a n ( h ) ) b r e a k ; i f ( r = ! 0 , z = E . s c a n ( x ) | | " n a m e " , E . s c a n ( t ) , " = " = = = z ? ( A = E . s c a n U n t i l ( v ) , E . s c a n ( v ) , E . s c a n U n t i l ( i ) ) : " { " = = = z ? ( A = E . s c a n U n t i l ( m ) , E . s c a n ( w ) , E . s c a n U n t i l ( i ) , z = " & " ) : A = E . s c a n U n t i l ( i ) , ! E . s c a n ( i ) ) t h r o w   n e w   E r r o r ( " U n c l o s e d   t a g   a t   " + E . p o s ) ; i f ( C = [ z , A , y , E . p o s ] , o . p u s h ( C ) , " # " = = = z | | " ^ " = = = z | | " $ " = = = z | | " < " = = = z ) n . p u s h ( C ) ; e l s e   i f ( " / " = = = z ) { i f ( D = n . p o p ( ) , ! D ) t h r o w   n e w   E r r o r ( ' U n o p e n e d   s e c t i o n   " ' + A + ' "   a t   ' + y ) ; i f ( D [ 1 ] ! = = A ) t h r o w   n e w   E r r o r ( ' U n c l o s e d   s e c t i o n   " ' + D [ 1 ] + ' "   a t   ' + y ) } e l s e " n a m e " = = = z | | " { " = = = z | | " & " = = = z ? s = ! 0 : " = " = = = z & & f ( A ) } i f ( D = n . p o p ( ) ) t h r o w   n e w   E r r o r ( ' U n c l o s e d   s e c t i o n   " ' + D [ 1 ] + ' "   a t   ' + E . p o s ) ; r e t u r n   k ( j ( o ) ) } f u n c t i o n   j ( a ) { f o r ( v a r   b , c , d = [ ] , e = 0 , f = a . l e n g t h ; e < f ; + + e ) b = a [ e ] , b & & ( " t e x t " = = = b [ 0 ] & & c & & " t e x t " = = = c [ 0 ] ? ( c [ 1 ] + = b [ 1 ] , c [ 3 ] = b [ 3 ] ) : ( d . p u s h ( b ) , c = b ) ) ; r e t u r n   d } f u n c t i o n   k ( a ) { f o r ( v a r   b , c , d = [ ] , e = d , f = [ ] , g = 0 , h = a . l e n g t h ; g < h ; + + g ) s w i t c h ( b = a [ g ] , b [ 0 ] ) { c a s e " $ " : c a s e " < " : c a s e " # " : c a s e " ^ " : e . p u s h ( b ) , f . p u s h ( b ) , e = b [ 4 ] = [ ] ; b r e a k ; c a s e " / " : c = f . p o p ( ) , c [ 5 ] = b [ 2 ] , e = f . l e n g t h > 0 ? f [ f . l e n g t h - 1 ] [ 4 ] : d ; b r e a k ; d e f a u l t : e . p u s h ( b ) } r e t u r n   d } f u n c t i o n   l ( a ) { t h i s . s t r i n g = a , t h i s . t a i l = a , t h i s . p o s = 0 } f u n c t i o n   m ( a , b ) { t h i s . v i e w = a , t h i s . b l o c k s = { } , t h i s . c a c h e = { " . " : t h i s . v i e w } , t h i s . p a r e n t = b } f u n c t i o n   n ( ) { t h i s . c a c h e = { } } v a r   o = O b j e c t . p r o t o t y p e . t o S t r i n g , p = A r r a y . i s A r r a y | | f u n c t i o n ( a ) { r e t u r n " [ o b j e c t   A r r a y ] " = = = o . c a l l ( a ) } , q = R e g E x p . p r o t o t y p e . t e s t , r = / \ S / , s = { " & " : " & a m p ; " , " < " : " & l t ; " , " > " : " & g t ; " , ' " ' : " & q u o t ; " , " ' " : " & # 3 9 ; " , " / " : " & # x 2 F ; " , " ` " : " & # x 6 0 ; " , " = " : " & # x 3 D ; " } , t = / \ s * / , u = / \ s + / , v = / \ s * = / , w = / \ s * \ } / , x = / # | \ ^ | \ / | > | \ { | & | = | ! | \ $ | < / ; l . p r o t o t y p e . e o s = f u n c t i o n ( ) { r e t u r n " " = = = t h i s . t a i l } , l . p r o t o t y p e . s c a n = f u n c t i o n ( a ) { v a r   b = t h i s . t a i l . m a t c h ( a ) ; i f ( ! b | | 0 ! = = b . i n d e x ) r e t u r n " " ; v a r   c = b [ 0 ] ; r e t u r n   t h i s . t a i l = t h i s . t a i l . s u b s t r i n g ( c . l e n g t h ) , t h i s . p o s + = c . l e n g t h , c } , l . p r o t o t y p e . s c a n U n t i l = f u n c t i o n ( a ) { v a r   b , c = t h i s . t a i l . s e a r c h ( a ) ; s w i t c h ( c ) { c a s e - 1 : b = t h i s . t a i l , t h i s . t a i l = " " ; b r e a k ; c a s e   0 : b = " " ; b r e a k ; d e f a u l t : b = t h i s . t a i l . s u b s t r i n g ( 0 , c ) , t h i s . t a i l = t h i s . t a i l . s u b s t r i n g ( c ) } r e t u r n   t h i s . p o s + = b . l e n g t h , b } , m . p r o t o t y p e . p u s h = f u n c t i o n ( a ) { r e t u r n   n e w   m ( a , t h i s ) } , m . p r o t o t y p e . s e t B l o c k V a r = f u n c t i o n ( a , b ) { v a r   c = t h i s . b l o c k s ; r e t u r n   c [ a ] = b , b } , m . p r o t o t y p e . c l e a r B l o c k V a r s = f u n c t i o n ( ) { t h i s . b l o c k s = { } } , m . p r o t o t y p e . g e t B l o c k V a r = f u n c t i o n ( a ) { v a r   b , c = t h i s . b l o c k s ; r e t u r n   c . h a s O w n P r o p e r t y ( a ) ? b = c [ a ] : t h i s . p a r e n t & & ( b = t h i s . p a r e n t . g e t B l o c k V a r ( a ) ) , b } , m . p r o t o t y p e . l o o k u p = f u n c t i o n ( a ) { v a r   c , d = t h i s . c a c h e ; i f ( d . h a s O w n P r o p e r t y ( a ) ) c = d [ a ] ; e l s e { f o r ( v a r   f , g , h = t h i s , i = ! 1 ; h ; ) { i f ( a . i n d e x O f ( " . " ) > 0 ) f o r ( c = h . v i e w , f = a . s p l i t ( " . " ) , g = 0 ; n u l l ! = c & & g < f . l e n g t h ; ) g = = = f . l e n g t h - 1 & & ( i = e ( c , f [ g ] ) ) , c = c [ f [ g + + ] ] ; e l s e   c = h . v i e w [ a ] , i = e ( h . v i e w , a ) ; i f ( i ) b r e a k ; h = h . p a r e n t } d [ a ] = c } r e t u r n   b ( c ) & & ( c = c . c a l l ( t h i s . v i e w ) ) , c } , n . p r o t o t y p e . c l e a r C a c h e = f u n c t i o n ( ) { t h i s . c a c h e = { } } , n . p r o t o t y p e . p a r s e = f u n c t i o n ( b , c ) { v a r   d = t h i s . c a c h e , e = d [ b ] ; r e t u r n   n u l l = = e & & ( e = d [ b + " : " + ( c | | a . t a g s ) . j o i n ( " : " ) ] = i ( b , c ) ) , e } , n . p r o t o t y p e . r e n d e r = f u n c t i o n ( a , b , c ) { v a r   d = t h i s . p a r s e ( a ) , e = b   i n s t a n c e o f   m ? b : n e w   m ( b ) ; r e t u r n   t h i s . r e n d e r T o k e n s ( d , e , c , a ) } , n . p r o t o t y p e . r e n d e r T o k e n s = f u n c t i o n ( a , b , c , d ) { f o r ( v a r   e , f , g , h = " " , i = 0 , j = a . l e n g t h ; i < j ; + + i ) g = v o i d   0 , e = a [ i ] , f = e [ 0 ] , " # " = = = f ? g = t h i s . r e n d e r S e c t i o n ( e , b , c , d ) : " ^ " = = = f ? g = t h i s . r e n d e r I n v e r t e d ( e , b , c , d ) : " > " = = = f ? g = t h i s . r e n d e r P a r t i a l ( e , b , c , d ) : " < " = = = f ? g = t h i s . r e n d e r B l o c k ( e , b , c , d ) : " $ " = = = f ? g = t h i s . r e n d e r B l o c k V a r i a b l e ( e , b , c , d ) : " & " = = = f ? g = t h i s . u n e s c a p e d V a l u e ( e , b ) : " n a m e " = = = f ? g = t h i s . e s c a p e d V a l u e ( e , b ) : " t e x t " = = = f & & ( g = t h i s . r a w V a l u e ( e ) ) , v o i d   0 ! = = g & & ( h + = g ) ; r e t u r n   h } , n . p r o t o t y p e . r e n d e r S e c t i o n = f u n c t i o n ( a , c , d , e ) { f u n c t i o n   f ( a ) { r e t u r n   g . r e n d e r ( a , c , d ) } v a r   g = t h i s , h = " " , i = c . l o o k u p ( a [ 1 ] ) ; i f ( i ) { i f ( p ( i ) ) f o r ( v a r   j = 0 , k = i . l e n g t h ; j < k ; + + j ) h + = t h i s . r e n d e r T o k e n s ( a [ 4 ] , c . p u s h ( i [ j ] ) , d , e ) ; e l s e   i f ( " o b j e c t " = = t y p e o f   i | | " s t r i n g " = = t y p e o f   i | | " n u m b e r " = = t y p e o f   i ) h + = t h i s . r e n d e r T o k e n s ( a [ 4 ] , c . p u s h ( i ) , d , e ) ; e l s e   i f ( b ( i ) ) { i f ( " s t r i n g " ! = t y p e o f   e ) t h r o w   n e w   E r r o r ( " C a n n o t   u s e   h i g h e r - o r d e r   s e c t i o n s   w i t h o u t   t h e   o r i g i n a l   t e m p l a t e " ) ; i = i . c a l l ( c . v i e w , e . s l i c e ( a [ 3 ] , a [ 5 ] ) , f ) , n u l l ! = i & & ( h + = i ) } e l s e   h + = t h i s . r e n d e r T o k e n s ( a [ 4 ] , c , d , e ) ; r e t u r n   h } } , n . p r o t o t y p e . r e n d e r I n v e r t e d = f u n c t i o n ( a , b , c , d ) { v a r   e = b . l o o k u p ( a [ 1 ] ) ; i f ( ! e | | p ( e ) & & 0 = = = e . l e n g t h ) r e t u r n   t h i s . r e n d e r T o k e n s ( a [ 4 ] , b , c , d ) } , n . p r o t o t y p e . r e n d e r P a r t i a l = f u n c t i o n ( a , c , d ) { i f ( d ) { v a r   e = b ( d ) ? d ( a [ 1 ] ) : d [ a [ 1 ] ] ; r e t u r n   n u l l ! = e ? t h i s . r e n d e r T o k e n s ( t h i s . p a r s e ( e ) , c , d , e ) : v o i d   0 } } , n . p r o t o t y p e . r e n d e r B l o c k = f u n c t i o n ( a , c , d , e ) { i f ( d ) { v a r   f = b ( d ) ? d ( a [ 1 ] ) : d [ a [ 1 ] ] ; n u l l ! = f & & c . c l e a r B l o c k V a r s ( ) , t h i s . r e n d e r T o k e n s ( a [ 4 ] , c , d , e ) ; v a r   g = t h i s . r e n d e r T o k e n s ( t h i s . p a r s e ( f ) , c , d , f ) ; r e t u r n   c . c l e a r B l o c k V a r s ( ) , g } } , n . p r o t o t y p e . r e n d e r B l o c k V a r i a b l e = f u n c t i o n ( a , b , c , d ) { v a r   e = a [ 1 ] , f = b . g e t B l o c k V a r ( e ) ; r e t u r n   f ? t h i s . r e n d e r T o k e n s ( t h i s . p a r s e ( f ) , b , c , f ) : ( b . s e t B l o c k V a r ( e , d . s l i c e ( a [ 3 ] , a [ 5 ] ) ) , t h i s . r e n d e r T o k e n s ( a [ 4 ] , b , c , d ) ) } , n . p r o t o t y p e . u n e s c a p e d V a l u e = f u n c t i o n ( a , b ) { v a r   c = b . l o o k u p ( a [ 1 ] ) ; i f ( n u l l ! = c ) r e t u r n   c } , n . p r o t o t y p e . e s c a p e d V a l u e = f u n c t i o n ( b , c ) { v a r   d = c . l o o k u p ( b [ 1 ] ) ; i f ( n u l l ! = d ) r e t u r n   a . e s c a p e ( d ) } , n . p r o t o t y p e . r a w V a l u e = f u n c t i o n ( a ) { r e t u r n   a [ 1 ] } , a . n a m e = " m u s t a c h e . j s " , a . v e r s i o n = " 2 . 3 . 0 " , a . t a g s = [ " { { " , " } } " ] ; v a r   y = n e w   n ; r e t u r n   a . c l e a r C a c h e = f u n c t i o n ( ) { r e t u r n   y . c l e a r C a c h e ( ) } , a . p a r s e = f u n c t i o n ( a , b ) { r e t u r n   y . p a r s e ( a , b ) } , a . r e n d e r = f u n c t i o n ( a , b , d ) { i f ( " s t r i n g " ! = t y p e o f   a ) t h r o w   n e w   T y p e E r r o r ( ' I n v a l i d   t e m p l a t e !   T e m p l a t e   s h o u l d   b e   a   " s t r i n g "   b u t   " ' + c ( a ) + ' "   w a s   g i v e n   a s   t h e   f i r s t   a r g u m e n t   f o r   m u s t a c h e # r e n d e r ( t e m p l a t e ,   v i e w ,   p a r t i a l s ) ' ) ; r e t u r n   y . r e n d e r ( a , b , d ) } , a . t o _ h t m l = f u n c t i o n ( c , d , e , f ) { v a r   g = a . r e n d e r ( c , d , e ) ; r e t u r n   b ( f ) ? v o i d   f ( g ) : g } , a . e s c a p e = h , a . S c a n n e r = l , a . C o n t e x t = m , a . W r i t e r = n , a } ) ; 
 d e f i n e ( ' c o r e / t o o l t i p ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , a ( t h i s . _ r e g i o n S e l e c t o r ) . e a c h ( f u n c t i o n ( b , c ) { v a r   d = a ( c ) . a t t r ( " a r i a - d e s c r i b e d b y " ) ; i f ( d ) { v a r   e = d o c u m e n t . g e t E l e m e n t B y I d ( d ) ; i f ( e ) { v a r   f = " t o o l t i p " = = a ( e ) . a t t r ( " r o l e " ) ; f & & ( a ( e ) . h i d e ( ) , a ( c ) . a t t r ( " t a b i n d e x " , " 0 " ) ) , a ( c ) . o n ( " f o c u s " , t h i s . _ h a n d l e F o c u s . b i n d ( t h i s ) ) , a ( c ) . o n ( " m o u s e o v e r " , t h i s . _ h a n d l e M o u s e O v e r . b i n d ( t h i s ) ) , a ( c ) . o n ( " m o u s e o u t " , t h i s . _ h a n d l e M o u s e O u t . b i n d ( t h i s ) ) , a ( c ) . o n ( " b l u r " , t h i s . _ h a n d l e B l u r . b i n d ( t h i s ) ) , a ( c ) . o n ( " k e y d o w n " , t h i s . _ h a n d l e K e y D o w n . b i n d ( t h i s ) ) } } } . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , b . p r o t o t y p e . _ s h o w T o o l t i p = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) , d = c . a t t r ( " a r i a - d e s c r i b e d b y " ) ; i f ( d ) { v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( d ) ) ; i f ( e . s h o w ( ) , e . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , ! e . i s ( " . t o o l t i p " ) ) { v a r   f = a ( ' < d i v   c l a s s = " t o o l t i p - i n n e r " > < / d i v > ' ) ; f . a p p e n d ( e . c o n t e n t s ( ) ) , e . a p p e n d ( f ) , e . a d d C l a s s ( " t o o l t i p " ) , e . a d d C l a s s ( " b o t t o m " ) , e . a p p e n d ( ' < d i v   c l a s s = " t o o l t i p - a r r o w " > < / d i v > ' ) } v a r   g = c . o f f s e t ( ) ; g . t o p + = c . h e i g h t ( ) + 1 0 , a ( e ) . o f f s e t ( g ) } } , b . p r o t o t y p e . _ h i d e T o o l t i p = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) , d = c . a t t r ( " a r i a - d e s c r i b e d b y " ) ; i f ( d ) { v a r   e = d o c u m e n t . g e t E l e m e n t B y I d ( d ) ; a ( e ) . h i d e ( ) , a ( e ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) } } , b . p r o t o t y p e . _ h a n d l e F o c u s = f u n c t i o n ( a ) { t h i s . _ s h o w T o o l t i p ( a ) } , b . p r o t o t y p e . _ h a n d l e K e y D o w n = f u n c t i o n ( a ) { 2 7 = = a . w h i c h & & t h i s . _ h i d e T o o l t i p ( a ) } , b . p r o t o t y p e . _ h a n d l e M o u s e O v e r = f u n c t i o n ( a ) { t h i s . _ s h o w T o o l t i p ( a ) } , b . p r o t o t y p e . _ h a n d l e M o u s e O u t = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) ; c . i s ( " : f o c u s " ) | | t h i s . _ h i d e T o o l t i p ( b ) } , b . p r o t o t y p e . _ h a n d l e B l u r = f u n c t i o n ( a ) { t h i s . _ h i d e T o o l t i p ( a ) } , b } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t ' ,   [ " c o r e / c h a r t _ o u t p u t _ c h a r t j s " ] , f u n c t i o n ( a ) { v a r   b = a ; r e t u r n   b } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ c o n f i r m ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ s a v e _ c a n c e l " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = f u n c t i o n ( a ) { e . w a r n ( " T h e   C O N F I R M   m o d a l   t y p e   h a s   b e e n   d e p r e c a t e d   a n d   s h o u l d   n o t   b e   u s e d   a n y m o r e .   P l e a s e   u s e   t h e   S A V E _ C A N C E L   m o d a l   t y p e   i n s t e a d . " ) , d . c a l l ( t h i s , a ) } ; r e t u r n   f . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , f . p r o t o t y p e . c o n s t r u c t o r = f , f } ) ; 
 d e f i n e ( ' c o r e / f o r m - a u t o c o m p l e t e ' ,   [ " j q u e r y " , " c o r e / l o g " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { D O W N : 4 0 , E N T E R : 1 3 , S P A C E : 3 2 , E S C A P E : 2 7 , C O M M A : 4 4 , U P : 3 8 } , g = a . n o w ( ) , h = f u n c t i o n ( b , c ) { v a r   d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) , e = d . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . l e n g t h ; f o r ( b % = e ; b < 0 ; ) b + = e ; v a r   f = a ( d . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . g e t ( b ) ) , g = c . s e l e c t i o n I d + " - " + b ; r e t u r n   d . c h i l d r e n ( ) . a t t r ( " d a t a - a c t i v e - s e l e c t i o n " , ! 1 ) . a t t r ( " i d " , " " ) , f . a t t r ( " d a t a - a c t i v e - s e l e c t i o n " , ! 0 ) . a t t r ( " i d " , g ) , d . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " , g ) , a . D e f e r r e d ( ) . r e s o l v e ( ) } , i = f u n c t i o n ( b , c , f ) { v a r   g = " f o r m - a u t o c o m p l e t e - u p d a t e S e l e c t i o n L i s t - " + c . i n p u t I d ; M . u t i l . j s _ p e n d i n g ( g ) ; v a r   i = [ ] , j = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) , k = j . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " ) , l = ! 1 ; k & & ( l = a ( d o c u m e n t . g e t E l e m e n t B y I d ( k ) ) . a t t r ( " d a t a - v a l u e " ) ) , f . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { i f ( a ( c ) . p r o p ( " s e l e c t e d " ) ) { v a r   d ; d = a ( c ) . d a t a ( " h t m l " ) ? a ( c ) . d a t a ( " h t m l " ) : a ( c ) . h t m l ( ) , i . p u s h ( { l a b e l : d , v a l u e : a ( c ) . a t t r ( " v a l u e " ) } ) } } ) ; v a r   m = a . e x t e n d ( { i t e m s : i } , b , c ) ; r e t u r n   d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s e l e c t i o n " , m ) . t h e n ( f u n c t i o n ( b , e ) { r e t u r n   d . r e p l a c e N o d e C o n t e n t s ( j , b , e ) , l ! = = ! 1 & & j . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . e a c h ( f u n c t i o n ( b , d ) { a ( d ) . a t t r ( " d a t a - v a l u e " ) = = = l & & h ( b , c ) } ) , l } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( g ) } ) [ " c a t c h " ] ( e . e x c e p t i o n ) } , j = f u n c t i o n ( a ) { " u n d e f i n e d " ! = t y p e o f   M . c o r e _ f o r m c h a n g e c h e c k e r & & M . c o r e _ f o r m c h a n g e c h e c k e r . s e t _ f o r m _ c h a n g e d ( ) , a . c h a n g e ( ) } , k = f u n c t i o n ( b , c , d , e ) { v a r   f = a ( d ) . a t t r ( " d a t a - v a l u e " ) ; r e t u r n   b . m u l t i p l e & & e . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . a t t r ( " v a l u e " ) = = f & & ( a ( c ) . p r o p ( " s e l e c t e d " , ! 1 ) , a ( c ) . a t t r ( " d a t a - i s c u s t o m " ) & & a ( c ) . r e m o v e ( ) ) } ) , i ( b , c , e ) . t h e n ( f u n c t i o n ( ) { j ( e ) } ) } , l = f u n c t i o n ( b , c ) { v a r   d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) , e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) , f = e . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . l e n g t h ; f o r ( b % = f ; b < 0 ; ) b + = f ; v a r   g = a ( e . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . g e t ( b ) ) , h = a ( e . c h i l d r e n ( " [ r o l e = o p t i o n ] " ) ) . i n d e x ( g ) , i = c . s u g g e s t i o n s I d + " - " + h ; e . c h i l d r e n ( ) . a t t r ( " a r i a - s e l e c t e d " , ! 1 ) . a t t r ( " i d " , " " ) , g . a t t r ( " a r i a - s e l e c t e d " , ! 0 ) . a t t r ( " i d " , i ) , d . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " , i ) ; v a r   j = g . o f f s e t ( ) . t o p - e . o f f s e t ( ) . t o p + e . s c r o l l T o p ( ) - e . h e i g h t ( ) / 2 ; r e t u r n   e . a n i m a t e ( { s c r o l l T o p : j } , 1 0 0 ) . p r o m i s e ( ) } , m = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s u g g e s t i o n s I d ) ) , d = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) , e = c . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . i n d e x ( d ) ; r e t u r n   l ( e + 1 , b ) } , n = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s e l e c t i o n I d ) ) , d = c . c h i l d r e n ( " [ d a t a - a c t i v e - s e l e c t i o n = t r u e ] " ) ; i f ( ! d ) r e t u r n   h ( 0 , b ) ; v a r   e = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . i n d e x ( d ) ; r e t u r n   h ( e - 1 , b ) } , o = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s e l e c t i o n I d ) ) , d = c . c h i l d r e n ( " [ d a t a - a c t i v e - s e l e c t i o n = t r u e ] " ) , e = 0 ; r e t u r n   d ? ( e = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . i n d e x ( d ) , e + = 1 ) : e = 0 , h ( e , b ) } , p = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s u g g e s t i o n s I d ) ) , d = c . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) , e = c . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . i n d e x ( d ) ; r e t u r n   l ( e - 1 , b ) } , q = f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . i n p u t I d ) ) , d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b . s u g g e s t i o n s I d ) ) ; r e t u r n   c . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) . a t t r ( " a r i a - a c t i v e d e s c e n d a n t " , b . s e l e c t i o n I d ) , d . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) , a . D e f e r r e d ( ) . r e s o l v e ( ) } , r = f u n c t i o n ( b , f , g , h ) { v a r   i = " f o r m - a u t o c o m p l e t e - u p d a t e S u g g e s t i o n s - " + f . i n p u t I d ; M . u t i l . j s _ p e n d i n g ( i ) ; v a r   j = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . i n p u t I d ) ) , k = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . s u g g e s t i o n s I d ) ) , m = ! 1 , n = [ ] ; h . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . p r o p ( " s e l e c t e d " ) ! = = ! 0 & & ( n [ n . l e n g t h ] = { l a b e l : c . i n n e r H T M L , v a l u e : a ( c ) . a t t r ( " v a l u e " ) } ) } ) ; v a r   o = f . c a s e S e n s i t i v e ? g : g . t o L o c a l e L o w e r C a s e ( ) , p = a . e x t e n d ( { o p t i o n s : n } , b , f ) , q = d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s u g g e s t i o n s " , p ) . t h e n ( f u n c t i o n ( e , g ) { r e t u r n   d . r e p l a c e N o d e ( k , e , g ) , k = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . s u g g e s t i o n s I d ) ) , k . s h o w ( ) . a t t r ( " a r i a - h i d d e n " , ! 1 ) , k . c h i l d r e n ( ) . e a c h ( f u n c t i o n ( c , d ) { d = a ( d ) , b . c a s e S e n s i t i v e & & d . t e x t ( ) . i n d e x O f ( o ) > - 1 | | ! b . c a s e S e n s i t i v e & & d . t e x t ( ) . t o L o c a l e L o w e r C a s e ( ) . i n d e x O f ( o ) > - 1 ? ( d . s h o w ( ) . a t t r ( " a r i a - h i d d e n " , ! 1 ) , m = ! 0 ) : d . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) } ) , j . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , h . a t t r ( " d a t a - n o t i c e " ) ? k . h t m l ( h . a t t r ( " d a t a - n o t i c e " ) ) : m ? b . t a g s | | l ( 0 , f ) : c . g e t _ s t r i n g ( " n o s u g g e s t i o n s " , " f o r m " ) . d o n e ( f u n c t i o n ( a ) { k . h t m l ( a ) } ) , k } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( i ) } ) [ " c a t c h " ] ( e . e x c e p t i o n ) ; r e t u r n   q } , s = f u n c t i o n ( b , c , d ) { v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) , f = e . v a l ( ) , g = f . s p l i t ( " , " ) , h = ! 1 ; r e t u r n   a . e a c h ( g , f u n c t i o n ( c , e ) { i f ( e = e . t r i m ( ) , " " ! = = e & & ( b . m u l t i p l e | | d . c h i l d r e n ( " o p t i o n " ) . p r o p ( " s e l e c t e d " , ! 1 ) , d . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . a t t r ( " v a l u e " ) = = e & & ( h = ! 0 , a ( c ) . p r o p ( " s e l e c t e d " , ! 0 ) ) } ) , ! h ) ) { v a r   f = a ( " < o p t i o n > " ) ; f . a p p e n d ( d o c u m e n t . c r e a t e T e x t N o d e ( e ) ) , f . a t t r ( " v a l u e " , e ) , d . a p p e n d ( f ) , f . p r o p ( " s e l e c t e d " , ! 0 ) , f . a t t r ( " d a t a - i s c u s t o m " , ! 0 ) } } ) , i ( b , c , d ) . t h e n ( f u n c t i o n ( ) { j ( d ) } ) . t h e n ( f u n c t i o n ( ) { e . v a l ( " " ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   q ( c ) } ) } , t = f u n c t i o n ( b , c , d ) { v a r   e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) , f = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) , g = f . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . a t t r ( " d a t a - v a l u e " ) ; r e t u r n   b . m u l t i p l e | | d . c h i l d r e n ( " o p t i o n " ) . p r o p ( " s e l e c t e d " , ! 1 ) , d . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . a t t r ( " v a l u e " ) = = g & & a ( c ) . p r o p ( " s e l e c t e d " , ! 0 ) } ) , i ( b , c , d ) . t h e n ( f u n c t i o n ( ) { j ( d ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   b . c l o s e S u g g e s t i o n s O n S e l e c t ? ( e . v a l ( " " ) , q ( c ) ) : ( e . f o c u s ( ) , r ( b , c , e . v a l ( ) , d ) ) } ) } , u = f u n c t i o n ( b , c , d , e , f ) { v a r   g = w ( " u p d a t e A j a x " ) , h = a ( b . c u r r e n t T a r g e t ) . v a l ( ) ; r e t u r n   f . t r a n s p o r t ( c . s e l e c t o r , h , f u n c t i o n ( b ) { v a r   h = f . p r o c e s s R e s u l t s ( c . s e l e c t o r , b ) , i = [ ] ; i f ( e . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) , c . p r o p ( " s e l e c t e d " ) ? i . p u s h ( S t r i n g ( c . a t t r ( " v a l u e " ) ) ) : c . r e m o v e ( ) } ) , ! c . m u l t i p l e & & 0 = = = e . c h i l d r e n ( " o p t i o n " ) . l e n g t h ) { v a r   j = a ( " < o p t i o n > " ) ; e . a p p e n d ( j ) } a . i s A r r a y ( h ) ? ( a . e a c h ( h , f u n c t i o n ( b , c ) { i f ( i . i n d e x O f ( S t r i n g ( c . v a l u e ) ) = = = - 1 ) { v a r   d = a ( " < o p t i o n > " ) ; d . a p p e n d ( c . l a b e l ) , d . a t t r ( " v a l u e " , c . v a l u e ) , e . a p p e n d ( d ) } } ) , e . a t t r ( " d a t a - n o t i c e " , " " ) ) : e . a t t r ( " d a t a - n o t i c e " , h ) , g . r e s o l v e ( r ( c , d , " " , e ) ) } , f u n c t i o n ( a ) { g . r e j e c t ( a ) } ) , g } , v = f u n c t i o n ( b , c , d ) { v a r   g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . i n p u t I d ) ) ; i f ( g . o n ( " k e y d o w n " , f u n c t i o n ( e ) { v a r   h = w ( " a d d N a v i g a t i o n - " + c . i n p u t I d + " - " + e . k e y C o d e ) ; s w i t c h ( e . k e y C o d e ) { c a s e   f . D O W N : r e t u r n   b . s h o w S u g g e s t i o n s ? ( " t r u e " = = = g . a t t r ( " a r i a - e x p a n d e d " ) ? h . r e s o l v e ( m ( c ) ) : ! g . v a l ( ) & & b . a j a x ? r e q u i r e ( [ b . a j a x ] , f u n c t i o n ( a ) { h . r e s o l v e ( u ( e , b , c , d , a ) ) } ) : h . r e s o l v e ( r ( b , c , g . v a l ( ) , d ) ) , e . p r e v e n t D e f a u l t ( ) , ! 1 ) : ( h . r e s o l v e ( ) , ! 0 ) ; c a s e   f . U P : r e t u r n   h . r e s o l v e ( p ( c ) ) , e . p r e v e n t D e f a u l t ( ) , ! 1 ; c a s e   f . E N T E R : v a r   i = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) ; r e t u r n " t r u e " = = = g . a t t r ( " a r i a - e x p a n d e d " ) & & i . c h i l d r e n ( " [ a r i a - s e l e c t e d = t r u e ] " ) . l e n g t h > 0 ? h . r e s o l v e ( t ( b , c , d ) ) : b . t a g s ? h . r e s o l v e ( s ( b , c , d ) ) : h . r e s o l v e ( ) , e . p r e v e n t D e f a u l t ( ) , ! 1 ; c a s e   f . E S C A P E : r e t u r n " t r u e " = = = g . a t t r ( " a r i a - e x p a n d e d " ) ? h . r e s o l v e ( q ( c ) ) : h . r e s o l v e ( ) , e . p r e v e n t D e f a u l t ( ) , ! 1 } r e t u r n   h . r e s o l v e ( ) , ! 0 } ) , g . o n ( " k e y p r e s s " , f u n c t i o n ( a ) { r e t u r n   a . k e y C o d e ! = = f . C O M M A | | ( b . t a g s & & w ( " k e y p r e s s - " + a . k e y C o d e ) . r e s o l v e ( s ( b , c , d ) ) , a . p r e v e n t D e f a u l t ( ) , ! 1 ) } ) , g . o n ( " b l u r " , f u n c t i o n ( ) { v a r   e = w ( " f o r m - a u t o c o m p l e t e - b l u r " ) ; w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { v a r   f = a ( d o c u m e n t . a c t i v e E l e m e n t ) ; f . a t t r ( " i d " ) ! = g . a t t r ( " i d " ) & & ( b . t a g s & & e . t h e n ( f u n c t i o n ( ) { r e t u r n   s ( b , c , d ) } ) [ " c a t c h " ] ( ) , e . t h e n ( f u n c t i o n ( ) { r e t u r n   q ( c ) } ) [ " c a t c h " ] ( ) ) , e . r e s o l v e ( ) } , 5 0 0 ) } ) , b . s h o w S u g g e s t i o n s ) { v a r   h = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . d o w n A r r o w I d ) ) ; h . o n ( " c l i c k " , f u n c t i o n ( a ) { v a r   e = w ( " f o r m - a u t o c o m p l e t e - s h o w - s u g g e s t i o n s " ) ; g . f o c u s ( ) , ! g . v a l ( ) & & b . a j a x ? r e q u i r e ( [ b . a j a x ] , f u n c t i o n ( f ) { e . r e s o l v e ( u ( a , b , c , d , f ) ) } ) : e . r e s o l v e ( r ( b , c , g . v a l ( ) , d ) ) } ) } v a r   i = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) ; i . p a r e n t ( ) . p r o p ( " o n c l i c k " , n u l l ) . o f f ( " c l i c k " ) , i . p a r e n t ( ) . o n ( " c l i c k " , " [ r o l e = o p t i o n ] " , f u n c t i o n ( e ) { v a r   f = w ( " f o r m - a u t o c o m p l e t e - p a r e n t " ) , g = a ( e . c u r r e n t T a r g e t ) . c l o s e s t ( " [ r o l e = o p t i o n ] " ) , h = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s u g g e s t i o n s I d ) ) , i = h . c h i l d r e n ( " [ a r i a - h i d d e n = f a l s e ] " ) . i n d e x ( g ) ; l ( i , c ) . t h e n ( f u n c t i o n ( ) { r e t u r n   t ( b , c , d ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   f . r e s o l v e ( ) } ) [ " c a t c h " ] ( ) } ) ; v a r   j = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) ; j . o n ( " c l i c k " , " [ r o l e = l i s t i t e m ] " , f u n c t i o n ( e ) { v a r   f = w ( " f o r m - a u t o c o m p l e t e - c l i c k s " ) ; f . r e s o l v e ( k ( b , c , a ( e . c u r r e n t T a r g e t ) , d ) ) } ) , j . o n ( " k e y d o w n " , f u n c t i o n ( e ) { v a r   g = w ( " f o r m - a u t o c o m p l e t e - k e y d o w n - " + e . k e y C o d e ) ; s w i t c h ( e . k e y C o d e ) { c a s e   f . D O W N : r e t u r n   e . p r e v e n t D e f a u l t ( ) , g . r e s o l v e ( o ( c ) ) , ! 1 ; c a s e   f . U P : r e t u r n   e . p r e v e n t D e f a u l t ( ) , g . r e s o l v e ( n ( c ) ) , ! 1 ; c a s e   f . S P A C E : c a s e   f . E N T E R : v a r   h = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . s e l e c t i o n I d ) ) . c h i l d r e n ( " [ d a t a - a c t i v e - s e l e c t i o n = t r u e ] " ) ; r e t u r n   h & & ( e . p r e v e n t D e f a u l t ( ) , g . r e s o l v e ( k ( b , c , h , d ) ) ) , ! 1 } r e t u r n   g . r e s o l v e ( ) , ! 0 } ) , b . s h o w S u g g e s t i o n s & & ( b . a j a x ? r e q u i r e ( [ b . a j a x ] , f u n c t i o n ( a ) { v a r   f = n u l l , h = ! 1 , i = " a u t o c o m p l e t e - t h r o t t l e d h a n d l e r " , j = f u n c t i o n ( g ) { f = n u l l , h = ! 0 , u ( g , b , c , d , a ) . t h e n ( f u n c t i o n ( ) { r e t u r n   n u l l = = = f & & M . u t i l . j s _ c o m p l e t e ( i ) , h = ! 1 , a r g u m e n t s [ 0 ] } ) [ " c a t c h " ] ( e . e x c e p t i o n ) } , k = f u n c t i o n ( a ) { r e t u r n   w i n d o w . c l e a r T i m e o u t ( f ) , h ? v o i d ( f = w i n d o w . s e t T i m e o u t ( k . b i n d ( t h i s , a ) , 1 0 0 ) ) : ( n u l l = = = f & & M . u t i l . j s _ p e n d i n g ( i ) , v o i d ( f = w i n d o w . s e t T i m e o u t ( j . b i n d ( t h i s , a ) , 3 0 0 ) ) ) } ; g . o n ( " i n p u t " , k ) } ) : g . o n ( " i n p u t " , f u n c t i o n ( e ) { v a r   f = a ( e . c u r r e n t T a r g e t ) . v a l ( ) , g = a ( e . c u r r e n t T a r g e t ) . d a t a ( " l a s t - v a l u e " ) ; g ! = = f & & r ( b , c , f , d ) , a ( e . c u r r e n t T a r g e t ) . d a t a ( " l a s t - v a l u e " , f ) } ) ) } , w = f u n c t i o n ( b ) { v a r   c = " f o r m - a u t o c o m p l e t e : " + b ; M . u t i l . j s _ p e n d i n g ( c ) ; v a r   d = a . D e f e r r e d ( ) ; r e t u r n   d . t h e n ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( c ) , a r g u m e n t s [ 0 ] } ) [ " c a t c h " ] ( e . e x c e p t i o n ) , d } ; r e t u r n { e n h a n c e : f u n c t i o n ( f , h , j , k , l , m , n , o ) { v a r   p = { s e l e c t o r : f , t a g s : ! 1 , a j a x : ! 1 , p l a c e h o l d e r : k , c a s e S e n s i t i v e : ! 1 , s h o w S u g g e s t i o n s : ! 0 , n o S e l e c t i o n S t r i n g : n } , q = " a u t o c o m p l e t e - s e t u p - " + f ; M . u t i l . j s _ p e n d i n g ( q ) , " u n d e f i n e d " ! = t y p e o f   h & & ( p . t a g s = h ) , " u n d e f i n e d " ! = t y p e o f   j & & ( p . a j a x = j ) , " u n d e f i n e d " ! = t y p e o f   l & & ( p . c a s e S e n s i t i v e = l ) , " u n d e f i n e d " ! = t y p e o f   m & & ( p . s h o w S u g g e s t i o n s = m ) , " u n d e f i n e d " = = t y p e o f   n & & c . g e t _ s t r i n g ( " n o s e l e c t i o n " , " f o r m " ) . d o n e ( f u n c t i o n ( a ) { p . n o S e l e c t i o n S t r i n g = a } ) . f a i l ( e . e x c e p t i o n ) ; v a r   r = a ( f ) ; i f ( ! r ) r e t u r n   b . d e b u g ( " S e l e c t o r   n o t   f o u n d :   " + f ) , M . u t i l . j s _ c o m p l e t e ( q ) , ! 1 ; r . c s s ( " v i s i b i l i t y " , " h i d d e n " ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) ; v a r   s = { s e l e c t I d : r . a t t r ( " i d " ) , i n p u t I d : " f o r m _ a u t o c o m p l e t e _ i n p u t - " + g , s u g g e s t i o n s I d : " f o r m _ a u t o c o m p l e t e _ s u g g e s t i o n s - " + g , s e l e c t i o n I d : " f o r m _ a u t o c o m p l e t e _ s e l e c t i o n - " + g , d o w n A r r o w I d : " f o r m _ a u t o c o m p l e t e _ d o w n a r r o w - " + g } ; g + + , p . m u l t i p l e = r . a t t r ( " m u l t i p l e " ) , " u n d e f i n e d " ! = t y p e o f   o ? p . c l o s e S u g g e s t i o n s O n S e l e c t = o : p . c l o s e S u g g e s t i o n s O n S e l e c t = ! p . m u l t i p l e ; v a r   t = a ( " [ f o r = " + s . s e l e c t I d + " ] " ) , u = [ ] ; r . c h i l d r e n ( " o p t i o n " ) . e a c h ( f u n c t i o n ( b , c ) { u [ b ] = { l a b e l : c . i n n e r H T M L , v a l u e : a ( c ) . a t t r ( " v a l u e " ) } } ) ; v a r   w = a . e x t e n d ( { } , p , s ) ; w . o p t i o n s = u , w . i t e m s = [ ] ; v a r   x = " " , y = d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ i n p u t " , w ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   x + = b , a } ) , z = d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s u g g e s t i o n s " , w ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   x + = b , a } ) , A = d . r e n d e r ( " c o r e / f o r m _ a u t o c o m p l e t e _ s e l e c t i o n " , w ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   x + = b , a } ) ; r e t u r n   a . w h e n ( y , z , A ) . t h e n ( f u n c t i o n ( b , c , e ) { r . h i d e ( ) , r . a f t e r ( c ) , r . a f t e r ( b ) , r . a f t e r ( e ) , d . r u n T e m p l a t e J S ( x ) , t . a t t r ( " f o r " , s . i n p u t I d ) , v ( p , s , r ) ; v a r   f = a ( d o c u m e n t . g e t E l e m e n t B y I d ( s . s u g g e s t i o n s I d ) ) ; f . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   i ( p , s , r ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( q ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { M . u t i l . j s _ c o m p l e t e ( q ) , e . e x c e p t i o n ( a ) } ) } } } ) ; 
 d e f i n e ( ' c o r e / y u i ' ,   f u n c t i o n ( ) { r e t u r n   Y } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t _ b a s e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( b , c ) { t h i s . _ n o d e = a ( b ) , t h i s . _ c h a r t = c } r e t u r n   b . p r o t o t y p e . u p d a t e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   s u p p o r t e d . " ) } , b } ) ; 
 d e f i n e ( ' c o r e / p o p o v e r _ r e g i o n _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c ) { v a r   d = { C O N T E N T : " . p o p o v e r - r e g i o n - c o n t e n t " , C O N T E N T _ C O N T A I N E R : " . p o p o v e r - r e g i o n - c o n t e n t - c o n t a i n e r " , M E N U _ C O N T A I N E R : " . p o p o v e r - r e g i o n - c o n t a i n e r " , M E N U _ T O G G L E : " . p o p o v e r - r e g i o n - t o g g l e " , C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' } , e = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . c o n t e n t = t h i s . r o o t . f i n d ( d . C O N T E N T ) , t h i s . c o n t e n t C o n t a i n e r = t h i s . r o o t . f i n d ( d . C O N T E N T _ C O N T A I N E R ) , t h i s . m e n u C o n t a i n e r = t h i s . r o o t . f i n d ( d . M E N U _ C O N T A I N E R ) , t h i s . m e n u T o g g l e = t h i s . r o o t . f i n d ( d . M E N U _ T O G G L E ) , t h i s . i s L o a d i n g = ! 1 , t h i s . p r o m i s e s = { c l o s e H a n d l e r s : a . D e f e r r e d ( ) , n a v i g a t i o n H a n d l e r s : a . D e f e r r e d ( ) } , t h i s . r e g i s t e r B a s e E v e n t L i s t e n e r s ( ) } ; r e t u r n   e . p r o t o t y p e . e v e n t s = f u n c t i o n ( ) { r e t u r n { m e n u O p e n e d : " p o p o v e r r e g i o n : m e n u o p e n e d " , m e n u C l o s e d : " p o p o v e r r e g i o n : m e n u c l o s e d " , s t a r t L o a d i n g : " p o p o v e r r e g i o n : s t a r t L o a d i n g " , s t o p L o a d i n g : " p o p o v e r r e g i o n : s t o p L o a d i n g " } } , e . p r o t o t y p e . g e t C o n t e n t C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t C o n t a i n e r } , e . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t } , e . p r o t o t y p e . i s M e n u O p e n = f u n c t i o n ( ) { r e t u r n ! t h i s . r o o t . h a s C l a s s ( " c o l l a p s e d " ) } , e . p r o t o t y p e . t o g g l e M e n u = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) ? t h i s . c l o s e M e n u ( ) : t h i s . o p e n M e n u ( ) } , e . p r o t o t y p e . c l o s e M e n u = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) & & ( t h i s . r o o t . a d d C l a s s ( " c o l l a p s e d " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . m e n u C l o s e d ) ) } , e . p r o t o t y p e . o p e n M e n u = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) | | ( t h i s . r o o t . r e m o v e C l a s s ( " c o l l a p s e d " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , t h i s . m e n u C o n t a i n e r . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , t h i s . p r o m i s e s . c l o s e H a n d l e r s . r e s o l v e ( ) , t h i s . p r o m i s e s . n a v i g a t i o n H a n d l e r s . r e s o l v e ( ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . m e n u O p e n e d ) ) } , e . p r o t o t y p e . u p d a t e B u t t o n A r i a L a b e l = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) ? b . g e t _ s t r i n g ( " h i d e p o p o v e r w i n d o w " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : b . g e t _ s t r i n g ( " s h o w p o p o v e r w i n d o w " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) } , e . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 0 , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . a d d C l a s s ( " l o a d i n g " ) , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . a t t r ( " a r i a - b u s y " , " t r u e " ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . s t a r t L o a d i n g ) } , e . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 1 , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . r e m o v e C l a s s ( " l o a d i n g " ) , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . a t t r ( " a r i a - b u s y " , " f a l s e " ) , t h i s . r o o t . t r i g g e r ( t h i s . e v e n t s ( ) . s t o p L o a d i n g ) } , e . p r o t o t y p e . f o c u s M e n u T o g g l e = f u n c t i o n ( ) { t h i s . m e n u T o g g l e . f o c u s ( ) } , e . p r o t o t y p e . c o n t e n t I t e m H a s F o c u s = f u n c t i o n ( ) { r e t u r n   t h i s . g e t C o n t e n t I t e m W i t h F o c u s ( ) . l e n g t h > 0 } , e . p r o t o t y p e . g e t C o n t e n t I t e m W i t h F o c u s = f u n c t i o n ( ) { v a r   b = a ( d o c u m e n t . a c t i v e E l e m e n t ) , c = t h i s . g e t C o n t e n t ( ) . c h i l d r e n ( ) , d = c . f i l t e r ( b ) ; r e t u r n   d . l e n g t h | | ( d = c . h a s ( b ) ) , d } , e . p r o t o t y p e . f o c u s C o n t e n t I t e m = f u n c t i o n ( a ) { a . i s ( d . C A N _ R E C E I V E _ F O C U S ) ? a . f o c u s ( ) : a . f i n d ( d . C A N _ R E C E I V E _ F O C U S ) . f i r s t ( ) . f o c u s ( ) } , e . p r o t o t y p e . f o c u s F i r s t C o n t e n t I t e m = f u n c t i o n ( ) { t h i s . f o c u s C o n t e n t I t e m ( t h i s . g e t C o n t e n t ( ) . c h i l d r e n ( ) . f i r s t ( ) ) } , e . p r o t o t y p e . f o c u s L a s t C o n t e n t I t e m = f u n c t i o n ( ) { t h i s . f o c u s C o n t e n t I t e m ( t h i s . g e t C o n t e n t ( ) . c h i l d r e n ( ) . l a s t ( ) ) } , e . p r o t o t y p e . f o c u s N e x t C o n t e n t I t e m = f u n c t i o n ( ) { v a r   a = t h i s . g e t C o n t e n t I t e m W i t h F o c u s ( ) ; a . l e n g t h & & a . n e x t ( ) & & t h i s . f o c u s C o n t e n t I t e m ( a . n e x t ( ) ) } , e . p r o t o t y p e . f o c u s P r e v i o u s C o n t e n t I t e m = f u n c t i o n ( ) { v a r   a = t h i s . g e t C o n t e n t I t e m W i t h F o c u s ( ) ; a . l e n g t h & & a . p r e v ( ) & & t h i s . f o c u s C o n t e n t I t e m ( a . p r e v ( ) ) } , e . p r o t o t y p e . r e g i s t e r B a s e E v e n t L i s t e n e r s = f u n c t i o n ( ) { c . d e f i n e ( t h i s . r o o t , [ c . e v e n t s . a c t i v a t e , c . e v e n t s . e s c a p e ] ) , t h i s . r o o t . o n ( c . e v e n t s . a c t i v a t e , d . M E N U _ T O G G L E , f u n c t i o n ( ) { t h i s . t o g g l e M e n u ( ) } . b i n d ( t h i s ) ) , t h i s . p r o m i s e s . c l o s e H a n d l e r s . d o n e ( f u n c t i o n ( ) { t h i s . r o o t . o n ( c . e v e n t s . e s c a p e , f u n c t i o n ( ) { t h i s . c l o s e M e n u ( ) , t h i s . f o c u s M e n u T o g g l e ( ) } . b i n d ( t h i s ) ) , a ( " h t m l " ) . c l i c k ( f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) ; t h i s . r o o t . i s ( c ) | | t h i s . r o o t . h a s ( c ) . l e n g t h | | t h i s . c l o s e M e n u ( ) } . b i n d ( t h i s ) ) , c . d e f i n e ( t h i s . g e t C o n t e n t C o n t a i n e r ( ) , [ c . e v e n t s . s c r o l l B o t t o m ] ) } . b i n d ( t h i s ) ) } , e . p r o t o t y p e . r e g i s t e r L i s t N a v i g a t i o n E v e n t L i s t e n e r s = f u n c t i o n ( ) { c . d e f i n e ( t h i s . r o o t , [ c . e v e n t s . d o w n ] ) , t h i s . r o o t . o n ( c . e v e n t s . d o w n , f u n c t i o n ( a , b ) { t h i s . i s M e n u O p e n ( ) ? t h i s . c o n t e n t I t e m H a s F o c u s ( ) ? t h i s . f o c u s N e x t C o n t e n t I t e m ( ) : t h i s . f o c u s F i r s t C o n t e n t I t e m ( ) : ( t h i s . o p e n M e n u ( ) , t h i s . f o c u s F i r s t C o n t e n t I t e m ( ) ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . p r o m i s e s . n a v i g a t i o n H a n d l e r s . d o n e ( f u n c t i o n ( ) { c . d e f i n e ( t h i s . r o o t , [ c . e v e n t s . u p , c . e v e n t s . h o m e , c . e v e n t s . e n d ] ) , t h i s . r o o t . o n ( c . e v e n t s . u p , f u n c t i o n ( a , b ) { t h i s . f o c u s P r e v i o u s C o n t e n t I t e m ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( c . e v e n t s . h o m e , f u n c t i o n ( a , b ) { t h i s . f o c u s F i r s t C o n t e n t I t e m ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( c . e v e n t s . e n d , f u n c t i o n ( a , b ) { t h i s . f o c u s L a s t C o n t e n t I t e m ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , e } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ b a c k d r o p ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = { R O O T : ' [ d a t a - r e g i o n = " m o d a l - b a c k d r o p " ] ' } , e = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . i s A t t a c h e d = ! 1 , t h i s . r o o t . i s ( d . R O O T ) | | c . e x c e p t i o n ( { m e s s a g e : " E l e m e n t   i s   n o t   a   m o d a l   b a c k d r o p " } ) } ; r e t u r n   e . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , e . p r o t o t y p e . a t t a c h T o D O M = f u n c t i o n ( ) { t h i s . i s A t t a c h e d | | ( a ( " b o d y " ) . a p p e n d ( t h i s . r o o t ) , t h i s . i s A t t a c h e d = ! 0 ) } , e . p r o t o t y p e . s e t Z I n d e x = f u n c t i o n ( a ) { t h i s . r o o t . c s s ( " z - i n d e x " , a ) } , e . p r o t o t y p e . i s V i s i b l e = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " s h o w " ) } , e . p r o t o t y p e . h a s T r a n s i t i o n s = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R o o t ( ) . h a s C l a s s ( " f a d e " ) } , e . p r o t o t y p e . s h o w = f u n c t i o n ( ) { t h i s . i s V i s i b l e ( ) | | ( t h i s . i s A t t a c h e d | | t h i s . a t t a c h T o D O M ( ) , t h i s . r o o t . r e m o v e C l a s s ( " h i d e " ) . a d d C l a s s ( " s h o w " ) ) } , e . p r o t o t y p e . h i d e = f u n c t i o n ( ) { t h i s . i s V i s i b l e ( ) & & ( t h i s . h a s T r a n s i t i o n s ( ) ? t h i s . g e t R o o t ( ) . o n e ( " t r a n s i t i o n e n d   w e b k i t T r a n s i t i o n E n d   o T r a n s i t i o n E n d " , f u n c t i o n ( ) { t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) } . b i n d ( t h i s ) ) : t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) ) } , e . p r o t o t y p e . d e s t r o y = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e ( ) } , e } ) ; 
 d e f i n e ( ' c o r e / m o d a l ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / k e y _ c o d e s " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l _ b a c k d r o p " , " c o r e / e v e n t " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i , j = { C O N T A I N E R : ' [ d a t a - r e g i o n = " m o d a l - c o n t a i n e r " ] ' , M O D A L : ' [ d a t a - r e g i o n = " m o d a l " ] ' , H E A D E R : ' [ d a t a - r e g i o n = " h e a d e r " ] ' , T I T L E : ' [ d a t a - r e g i o n = " t i t l e " ] ' , B O D Y : ' [ d a t a - r e g i o n = " b o d y " ] ' , F O O T E R : ' [ d a t a - r e g i o n = " f o o t e r " ] ' , H I D E : ' [ d a t a - a c t i o n = " h i d e " ] ' , D I A L O G : " [ r o l e = d i a l o g ] " , M E N U _ B A R : " [ r o l e = m e n u b a r ] " , H A S _ Z _ I N D E X : " . m o o d l e - h a s - z i n d e x " , C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' } , k = { L O A D I N G : " c o r e / l o a d i n g " , B A C K D R O P : " c o r e / m o d a l _ b a c k d r o p " } , l = 0 , m = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . m o d a l = t h i s . r o o t . f i n d ( j . M O D A L ) , t h i s . h e a d e r = t h i s . m o d a l . f i n d ( j . H E A D E R ) , t h i s . t i t l e = t h i s . h e a d e r . f i n d ( j . T I T L E ) , t h i s . b o d y = t h i s . m o d a l . f i n d ( j . B O D Y ) , t h i s . f o o t e r = t h i s . m o d a l . f i n d ( j . F O O T E R ) , t h i s . h i d d e n S i b l i n g s = [ ] , t h i s . i s A t t a c h e d = ! 1 , t h i s . b o d y J S = n u l l , t h i s . f o o t e r J S = n u l l , t h i s . m o d a l C o u n t = l + + , t h i s . r o o t . i s ( j . C O N T A I N E R ) | | c . e x c e p t i o n ( { m e s s a g e : " E l e m e n t   i s   n o t   a   m o d a l   c o n t a i n e r " } ) , t h i s . m o d a l . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " C o n t a i n e r   d o e s   n o t   c o n t a i n   a   m o d a l " } ) , t h i s . h e a d e r . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   i s   m i s s i n g   a   h e a d e r   r e g i o n " } ) , t h i s . t i t l e . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   h e a d e r   i s   m i s s i n g   a   t i t l e   r e g i o n " } ) , t h i s . b o d y . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   i s   m i s s i n g   a   b o d y   r e g i o n " } ) , t h i s . f o o t e r . l e n g t h | | c . e x c e p t i o n ( { m e s s a g e : " M o d a l   i s   m i s s i n g   a   f o o t e r   r e g i o n " } ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   m . p r o t o t y p e . a t t a c h T o D O M = f u n c t i o n ( ) { t h i s . i s A t t a c h e d | | ( a ( " b o d y " ) . a p p e n d ( t h i s . r o o t ) , t h i s . b o d y J S & & ( b . r u n T e m p l a t e J S ( t h i s . b o d y J S ) , t h i s . b o d y J S = n u l l ) , t h i s . f o o t e r J S & & ( b . r u n T e m p l a t e J S ( t h i s . f o o t e r J S ) , t h i s . f o o t e r J S = n u l l ) , t h i s . i s A t t a c h e d = ! 0 ) } , m . p r o t o t y p e . c o u n t O t h e r V i s i b l e M o d a l s = f u n c t i o n ( ) { v a r   b = 0 ; r e t u r n   a ( " b o d y " ) . f i n d ( j . C O N T A I N E R ) . e a c h ( f u n c t i o n ( c , d ) { d = a ( d ) , ! t h i s . r o o t . i s ( d ) & & d . h a s C l a s s ( " s h o w " ) & & b + + } . b i n d ( t h i s ) ) , b } , m . p r o t o t y p e . g e t B a c k d r o p = f u n c t i o n ( ) { r e t u r n   i | | ( i = b . r e n d e r ( k . B A C K D R O P , { } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = a ( b ) ; r e t u r n   n e w   f ( c ) } ) . f a i l ( c . e x c e p t i o n ) ) , i } , m . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , m . p r o t o t y p e . g e t M o d a l = f u n c t i o n ( ) { r e t u r n   t h i s . m o d a l } , m . p r o t o t y p e . g e t T i t l e = f u n c t i o n ( ) { r e t u r n   t h i s . t i t l e } , m . p r o t o t y p e . g e t B o d y = f u n c t i o n ( ) { r e t u r n   t h i s . b o d y } , m . p r o t o t y p e . g e t F o o t e r = f u n c t i o n ( ) { r e t u r n   t h i s . f o o t e r } , m . p r o t o t y p e . g e t M o d a l C o u n t = f u n c t i o n ( ) { r e t u r n   t h i s . m o d a l C o u n t } , m . p r o t o t y p e . s e t T i t l e = f u n c t i o n ( a ) { v a r   b = t h i s . g e t T i t l e ( ) ; t h i s . a s y n c S e t ( a , b . h t m l . b i n d ( b ) ) } , m . p r o t o t y p e . s e t B o d y = f u n c t i o n ( d ) { v a r   e = t h i s . g e t B o d y ( ) ; i f ( " s t r i n g " = = t y p e o f   d ) e . h t m l ( d ) , g . n o t i f y F i l t e r C o n t e n t U p d a t e d ( e ) , t h i s . g e t R o o t ( ) . t r i g g e r ( h . b o d y R e n d e r e d , t h i s ) ; e l s e { v a r   f = " a m d - m o d a l - j s - p e n d i n g - i d - " + t h i s . g e t M o d a l C o u n t ( ) ; M . u t i l . j s _ p e n d i n g ( f ) ; v a r   i = n u l l ; i f ( e . c s s ( " o v e r f l o w " , " h i d d e n " ) , " p e n d i n g " = = d . s t a t e ( ) ) { v a r   j = e . i n n e r H e i g h t ( ) ; j < 1 0 0 & & ( j = 1 0 0 ) , e . a n i m a t e ( { h e i g h t : j + " p x " } , 1 5 0 ) , e . h t m l ( " " ) , i = b . r e n d e r ( k . L O A D I N G , { } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = a ( b ) . h i d e ( ) ; r e t u r n   e . h t m l ( c ) , c . f a d e I n ( 1 5 0 ) , a . w h e n ( c . p r o m i s e ( ) , d ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . f a d e O u t ( 1 0 0 ) . p r o m i s e ( ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   d } ) } e l s e   i = d ; i . t h e n ( f u n c t i o n ( a , c ) { v a r   d = n u l l ; i f ( t h i s . i s V i s i b l e ( ) ) { e . c s s ( " o p a c i t y " , 0 ) ; v a r   f = e . i n n e r H e i g h t ( ) ; e . h t m l ( a ) , e . c s s ( " h e i g h t " , " " ) ; v a r   i = e . i n n e r H e i g h t ( ) ; e . c s s ( " h e i g h t " , f + " p x " ) , d = e . a n i m a t e ( { h e i g h t : i + " p x " , o p a c i t y : 1 } , { d u r a t i o n : 1 5 0 , q u e u e : ! 1 } ) . p r o m i s e ( ) } e l s e   e . h t m l ( a ) ; r e t u r n   c & & ( t h i s . i s A t t a c h e d ? b . r u n T e m p l a t e J S ( c ) : t h i s . b o d y J S = c ) , g . n o t i f y F i l t e r C o n t e n t U p d a t e d ( e ) , t h i s . g e t R o o t ( ) . t r i g g e r ( h . b o d y R e n d e r e d , t h i s ) , d } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { e . c s s ( " h e i g h t " , " " ) , e . c s s ( " o v e r f l o w " , " " ) , e . c s s ( " o p a c i t y " , " " ) , M . u t i l . j s _ c o m p l e t e ( f ) } ) . f a i l ( c . e x c e p t i o n ) } } , m . p r o t o t y p e . s e t F o o t e r = f u n c t i o n ( a ) { t h i s . s h o w F o o t e r ( ) ; v a r   c = t h i s . g e t F o o t e r ( ) ; " s t r i n g " = = t y p e o f   a ? c . h t m l ( a ) : b . r e n d e r ( k . L O A D I N G , { } ) . d o n e ( f u n c t i o n ( d ) { c . h t m l ( d ) , a . d o n e ( f u n c t i o n ( a , d ) { c . h t m l ( a ) , d & & ( t h i s . i s A t t a c h e d ? b . r u n T e m p l a t e J S ( d ) : t h i s . f o o t e r J S = d ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . h a s F o o t e r C o n t e n t = f u n c t i o n ( ) { r e t u r n ! ! t h i s . g e t F o o t e r ( ) . c h i l d r e n ( ) . l e n g t h } , m . p r o t o t y p e . h i d e F o o t e r = f u n c t i o n ( ) { t h i s . g e t F o o t e r ( ) . a d d C l a s s ( " h i d d e n " ) } , m . p r o t o t y p e . s h o w F o o t e r = f u n c t i o n ( ) { t h i s . g e t F o o t e r ( ) . r e m o v e C l a s s ( " h i d d e n " ) } , m . p r o t o t y p e . s e t L a r g e = f u n c t i o n ( ) { t h i s . i s L a r g e ( ) | | t h i s . g e t M o d a l ( ) . a d d C l a s s ( " m o d a l - l g " ) } , m . p r o t o t y p e . i s L a r g e = f u n c t i o n ( ) { r e t u r n   t h i s . g e t M o d a l ( ) . h a s C l a s s ( " m o d a l - l g " ) } , m . p r o t o t y p e . s e t S m a l l = f u n c t i o n ( ) { t h i s . i s S m a l l ( ) | | t h i s . g e t M o d a l ( ) . r e m o v e C l a s s ( " m o d a l - l g " ) } , m . p r o t o t y p e . i s S m a l l = f u n c t i o n ( ) { r e t u r n ! t h i s . g e t M o d a l ( ) . h a s C l a s s ( " m o d a l - l g " ) } , m . p r o t o t y p e . c a l c u l a t e Z I n d e x = f u n c t i o n ( ) { v a r   b = a ( j . D I A L O G + " ,   " + j . M E N U _ B A R + " ,   " + j . H A S _ Z _ I N D E X ) , c = p a r s e I n t ( t h i s . r o o t . c s s ( " z - i n d e x " ) ) ; r e t u r n   b . e a c h ( f u n c t i o n ( b , d ) { d = a ( d ) ; v a r   e = d . c s s ( " z - i n d e x " ) ? p a r s e I n t ( d . c s s ( " z - i n d e x " ) ) : 0 ; e > c & & ( c = e ) } ) , c } , m . p r o t o t y p e . i s V i s i b l e = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " s h o w " ) } , m . p r o t o t y p e . h a s F o c u s = f u n c t i o n ( ) { v a r   b = a ( d o c u m e n t . a c t i v e E l e m e n t ) ; r e t u r n   t h i s . r o o t . i s ( b ) | | t h i s . r o o t . h a s ( b ) . l e n g t h } , m . p r o t o t y p e . h a s T r a n s i t i o n s = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R o o t ( ) . h a s C l a s s ( " f a d e " ) } , m . p r o t o t y p e . s h o w = f u n c t i o n ( ) { t h i s . i s V i s i b l e ( ) | | ( t h i s . h a s F o o t e r C o n t e n t ( ) ? t h i s . s h o w F o o t e r ( ) : t h i s . h i d e F o o t e r ( ) , t h i s . i s A t t a c h e d | | t h i s . a t t a c h T o D O M ( ) , t h i s . g e t B a c k d r o p ( ) . d o n e ( f u n c t i o n ( b ) { v a r   c = t h i s . c a l c u l a t e Z I n d e x ( ) , d = c + 2 , e = d - 1 ; t h i s . r o o t . c s s ( " z - i n d e x " , d ) , b . s e t Z I n d e x ( e ) , b . s h o w ( ) , t h i s . r o o t . r e m o v e C l a s s ( " h i d e " ) . a d d C l a s s ( " s h o w " ) , t h i s . a c c e s s i b i l i t y S h o w ( ) , t h i s . g e t M o d a l ( ) . f o c u s ( ) , a ( " b o d y " ) . a d d C l a s s ( " m o d a l - o p e n " ) , t h i s . r o o t . t r i g g e r ( h . s h o w n , t h i s ) } . b i n d ( t h i s ) ) ) } , m . p r o t o t y p e . h i d e = f u n c t i o n ( ) { t h i s . g e t B a c k d r o p ( ) . d o n e ( f u n c t i o n ( b ) { t h i s . c o u n t O t h e r V i s i b l e M o d a l s ( ) | | ( b . h i d e ( ) , a ( " b o d y " ) . r e m o v e C l a s s ( " m o d a l - o p e n " ) ) ; v a r   c = p a r s e I n t ( t h i s . r o o t . c s s ( " z - i n d e x " ) ) ; t h i s . r o o t . c s s ( " z - i n d e x " , " " ) , b . s e t Z I n d e x ( c - 3 ) , t h i s . a c c e s s i b i l i t y H i d e ( ) , t h i s . h a s T r a n s i t i o n s ( ) ? t h i s . g e t R o o t ( ) . o n e ( " t r a n s i t i o n e n d   w e b k i t T r a n s i t i o n E n d   o T r a n s i t i o n E n d " , f u n c t i o n ( ) { t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) } . b i n d ( t h i s ) ) : t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " s h o w " ) . a d d C l a s s ( " h i d e " ) , t h i s . r o o t . t r i g g e r ( h . h i d d e n , t h i s ) } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . d e s t r o y = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e ( ) , t h i s . r o o t . t r i g g e r ( h . d e s t r o y e d , t h i s ) } , m . p r o t o t y p e . a c c e s s i b i l i t y S h o w = f u n c t i o n ( ) { a ( " b o d y " ) . c h i l d r e n ( ) . e a c h ( f u n c t i o n ( b , c ) { i f ( ! t h i s . r o o t . i s ( c ) ) { c = a ( c ) ; v a r   d = c . a t t r ( " a r i a - h i d d e n " ) ; " t r u e " ! = = d & & ( c . d a t a ( " p r e v i o u s - a r i a - h i d d e n " , d ) , t h i s . h i d d e n S i b l i n g s . p u s h ( c ) , c . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ) } } . b i n d ( t h i s ) ) , t h i s . r o o t . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) } , m . p r o t o t y p e . a c c e s s i b i l i t y H i d e = f u n c t i o n ( ) { t h i s . r o o t . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . e a c h ( t h i s . h i d d e n S i b l i n g s , f u n c t i o n ( b , c ) { c = a ( c ) ; v a r   d = c . d a t a ( " p r e v i o u s - a r i a - h i d d e n " ) ; " u n d e f i n e d " = = t y p e o f   d ? c . r e m o v e A t t r ( " a r i a - h i d d e n " ) : c . a t t r ( " a r i a - h i d d e n " , d ) } ) , t h i s . h i d d e n S i b l i n g s = [ ] } , m . p r o t o t y p e . h a n d l e T a b L o c k = f u n c t i o n ( b ) { i f ( t h i s . h a s F o c u s ( ) ) { v a r   c = a ( d o c u m e n t . a c t i v e E l e m e n t ) , d = t h i s . m o d a l . f i n d ( j . C A N _ R E C E I V E _ F O C U S ) , e = d . f i r s t ( ) , f = d . l a s t ( ) ; c . i s ( e ) & & b . s h i f t K e y ? ( f . f o c u s ( ) , b . p r e v e n t D e f a u l t ( ) ) : c . i s ( f ) & & ! b . s h i f t K e y & & ( e . f o c u s ( ) , b . p r e v e n t D e f a u l t ( ) ) } } , m . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { t h i s . g e t R o o t ( ) . o n ( " k e y d o w n " , f u n c t i o n ( a ) { t h i s . i s V i s i b l e ( ) & & ( a . k e y C o d e = = d . t a b ? t h i s . h a n d l e T a b L o c k ( a ) : a . k e y C o d e = = d . e s c a p e & & t h i s . h i d e ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . c l i c k ( f u n c t i o n ( b ) { a ( b . t a r g e t ) . c l o s e s t ( j . M O D A L ) . l e n g t h | | a ( b . t a r g e t ) . c l o s e s t ( j . C O N T A I N E R ) . l e n g t h & & t h i s . h i d e ( ) } . b i n d ( t h i s ) ) , e . d e f i n e ( t h i s . g e t M o d a l ( ) , [ e . e v e n t s . a c t i v a t e ] ) , t h i s . g e t M o d a l ( ) . o n ( e . e v e n t s . a c t i v a t e , j . H I D E , f u n c t i o n ( a , b ) { t h i s . h i d e ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . a s y n c S e t = f u n c t i o n ( b , d ) { v a r   e = b ; r e t u r n " o b j e c t " = = t y p e o f   b & & b . h a s O w n P r o p e r t y ( " t h e n " ) | | ( e = a . D e f e r r e d ( ) , e . r e s o l v e ( b ) ) , e . t h e n ( f u n c t i o n ( a ) { d ( a ) } ) . f a i l ( c . e x c e p t i o n ) , e } , m } ) ; 
 d e f i n e ( ' c o r e / f r a g m e n t ' ,   [ " j q u e r y " , " c o r e / a j a x " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( a , c , d , e ) { v a r   f = [ ] ; f o r ( v a r   g   i n   e ) f . p u s h ( { n a m e : g , v a l u e : e [ g ] } ) ; r e t u r n   b . c a l l ( [ { m e t h o d n a m e : " c o r e _ g e t _ f r a g m e n t " , a r g s : { c o m p o n e n t : a , c a l l b a c k : c , c o n t e x t i d : d , a r g s : f } } ] ) [ 0 ] } ; r e t u r n { l o a d F r a g m e n t : f u n c t i o n ( b , d , e , f ) { v a r   g = a . D e f e r r e d ( ) ; r e t u r n   c ( b , d , e , f ) . t h e n ( f u n c t i o n ( b ) { v a r   c = a ( b . j a v a s c r i p t ) , d = " " ; c . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) ; v a r   e = c . p r o p ( " t a g N a m e " ) ; i f ( e & & " s c r i p t " = = e . t o L o w e r C a s e ( ) ) i f ( c . a t t r ( " s r c " ) ) { v a r   f = ! 1 ; a ( " s c r i p t " ) . e a c h ( f u n c t i o n ( b , d ) { r e t u r n   a ( d ) . a t t r ( " s r c " ) = = c . a t t r ( " s r c " ) & & ( f = ! 0 ) , ! f } ) , f | | ( d + = "   {   " , d + = '   n o d e   =   d o c u m e n t . c r e a t e E l e m e n t ( " s c r i p t " ) ;   ' , d + = '   n o d e . t y p e   =   " t e x t / j a v a s c r i p t " ;   ' , d + = '   n o d e . s r c   =   d e c o d e U R I ( " ' + e n c o d e U R I ( c . a t t r ( " s r c " ) ) + ' " ) ;   ' , d + = '   d o c u m e n t . g e t E l e m e n t s B y T a g N a m e ( " h e a d " ) [ 0 ] . a p p e n d C h i l d ( n o d e ) ;   ' , d + = "   }   " ) } e l s e   d + = "   " + c . t e x t ( ) } ) , g . r e s o l v e ( b . h t m l , d ) } ) . f a i l ( f u n c t i o n ( a ) { g . r e j e c t ( a ) } ) , g . p r o m i s e ( ) } } } ) ; 
 d e f i n e ( ' c o r e / p a g e d _ c o n t e n t _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { S H O W _ P A G E S : " c o r e - p a g e d - c o n t e n t - s h o w - p a g e s " , P A G E S _ S H O W N : " c o r e - p a g e d - c o n t e n t - p a g e s - s h o w n " , A L L _ I T E M S _ L O A D E D : " c o r e - p a g e d - c o n t e n t - a l l - i t e m s - l o a d e d " , S E T _ I T E M S _ P E R _ P A G E _ L I M I T : " c o r e - p a g e d - c o n t e n t - s e t - i t e m s - p e r - p a g e - l i m i t " } } ) ; 
 d e f i n e ( ' c o r e / t a g ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { r e t u r n { i n i t T a g i n d e x P a g e : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( " . t a g a r e a [ d a t a - t a ]   a [ d a t a - q u i c k l o a d = 1 ] " , " c l i c k " , f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( t h i s ) , f = e [ 0 ] . s e a r c h . r e p l a c e ( / ^ \ ? / , " " ) , g = e . c l o s e s t ( " . t a g a r e a [ d a t a - t a ] " ) , h = f . s p l i t ( " & " ) . r e d u c e ( f u n c t i o n ( a , b ) { v a r   c = b . s p l i t ( " = " ) ; r e t u r n   a [ c [ 0 ] ] = d e c o d e U R I C o m p o n e n t ( c [ 1 ] ) , a } , { } ) , i = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ t a g _ g e t _ t a g i n d e x " , a r g s : { t a g i n d e x : h } } ] , ! 0 ) ; a . w h e n . a p p l y ( a , i ) . d o n e ( f u n c t i o n ( a ) { c . r e n d e r ( " c o r e _ t a g / i n d e x " , a ) . d o n e ( f u n c t i o n ( a ) { g . r e p l a c e W i t h ( a ) } ) } ) } ) } , i n i t M a n a g e P a g e : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " u p d a t e d " , " [ d a t a - i n p l a c e e d i t a b l e ] " , f u n c t i o n ( b ) { i f ( e . g e t _ s t r i n g ( " s e l e c t t a g " , " c o r e _ t a g " , b . a j a x r e t u r n . v a l u e ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   a ( ' l a b e l [ f o r = " t a g s e l e c t ' + b . a j a x r e t u r n . i t e m i d + ' " ] ' ) . h t m l ( c ) } ) . f a i l ( d . e x c e p t i o n ) , e . g e t _ s t r i n g ( " n o w " ) . d o n e ( f u n c t i o n ( c ) { a ( b . t a r g e t ) . c l o s e s t ( " t r " ) . f i n d ( " t d . c o l - t i m e m o d i f i e d " ) . h t m l ( c ) } ) , " t a g f l a g " = = = b . a j a x r e t u r n . i t e m t y p e ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " t r " ) ; " 0 " = = = b . a j a x r e t u r n . v a l u e ? c . r e m o v e C l a s s ( " f l a g g e d - t a g " ) : c . a d d C l a s s ( " f l a g g e d - t a g " ) } } ) , a ( " . t a g - m a n a g e m e n t - t a b l e " ) . d e l e g a t e ( " a . t a g d e l e t e " , " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . a t t r ( " h r e f " ) ; e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " } , { k e y : " c o n f i r m d e l e t e t a g " , c o m p o n e n t : " t a g " } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = c } ) } ) } ) , a ( " # t a g - m a n a g e m e n t - d e l e t e " ) . c l i c k ( f u n c t i o n ( b ) { v a r   c = a ( t h i s ) . c l o s e s t ( " f o r m " ) . g e t ( 0 ) , f = a ( c ) . f i n d ( " i n p u t [ t y p e = c h e c k b o x ] : c h e c k e d " ) . l e n g t h ; i f ( f ) { v a r   g = a ( " < i n p u t   t y p e = ' h i d d e n ' / > " ) . a t t r ( " n a m e " , t h i s . n a m e ) ; b . p r e v e n t D e f a u l t ( ) , e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " } , { k e y : " c o n f i r m d e l e t e t a g s " , c o m p o n e n t : " t a g " } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { g . a p p e n d T o ( c ) , c . s u b m i t ( ) } ) } ) } } ) , a ( " # t a g - m a n a g e m e n t - c o m b i n e " ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   h = a ( t h i s ) . c l o s e s t ( " f o r m " ) . g e t ( 0 ) , i = a ( h ) . f i n d ( " i n p u t [ t y p e = c h e c k b o x ] : c h e c k e d " ) ; i f ( i . l e n g t h < = 1 ) r e t u r n   v o i d   e . g e t _ s t r i n g s ( [ { k e y : " c o m b i n e s e l e c t e d " , c o m p o n e n t : " t a g " } , { k e y : " s e l e c t m u l t i p l e t a g s " , c o m p o n e n t : " t a g " } , { k e y : " o k " } ] ) . d o n e ( f u n c t i o n ( a ) { d . a l e r t ( a [ 0 ] , a [ 1 ] , a [ 2 ] ) } ) ; v a r   j = a ( " < i n p u t   t y p e = ' h i d d e n ' / > " ) . a t t r ( " n a m e " , t h i s . n a m e ) , k = " " , l = [ ] ; i . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) . v a l ( ) , c = a ( " . i n p l a c e e d i t a b l e [ d a t a - i t e m t y p e = t a g n a m e ] [ d a t a - i t e m i d = " + b + " ] " ) . a t t r ( " d a t a - v a l u e " ) ; l . p u s h ( { i d : b , n a m e : c } ) } ) , e . g e t _ s t r i n g s ( [ { k e y : " c o m b i n e s e l e c t e d " , c o m p o n e n t : " t a g " } , { k e y : " c o n t i n u e " } ] ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] ; k = a [ 1 ] ; v a r   d = { t a g s : l } ; r e t u r n   f . c r e a t e ( { t i t l e : b , b o d y : c . r e n d e r ( " c o r e _ t a g / c o m b i n e _ t a g s " , d ) , t y p e : f . t y p e s . S A V E _ C A N C E L } ) } ) . t h e n ( f u n c t i o n ( b ) { b . s e t S a v e B u t t o n T e x t ( k ) , b . g e t R o o t ( ) . o n ( g . s a v e , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , j . a p p e n d T o ( h ) ; v a r   c = a ( " i n p u t [ n a m e = m a i n t a g ] : c h e c k e d " , " # c o m b i n e t a g s _ f o r m " ) . v a l ( ) ; a ( " < i n p u t   t y p e = ' h i d d e n ' / > " ) . a t t r ( " n a m e " , " m a i n t a g " ) . a t t r ( " v a l u e " , c ) . a p p e n d T o ( h ) , h . s u b m i t ( ) } ) , b . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { b . d e s t r o y ( ) } ) , b . s h o w ( ) , a ( " # c o m b i n e t a g s _ f o r m   i n p u t [ t y p e = r a d i o ] " ) . f i r s t ( ) . f o c u s ( ) . p r o p ( " c h e c k e d " , ! 0 ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } ) , a ( " b o d y " ) . o n ( " u p d a t e f a i l e d " , " [ d a t a - i n p l a c e e d i t a b l e ] [ d a t a - i t e m t y p e = t a g n a m e ] " , f u n c t i o n ( b ) { v a r   c = b . e x c e p t i o n , f = b . n e w v a l u e , g = a ( b . t a r g e t ) . a t t r ( " d a t a - i t e m i d " ) ; " n a m e s a l r e a d y b e e i n g u s e d " = = = c . e r r o r c o d e & & ( b . p r e v e n t D e f a u l t ( ) , e . g e t _ s t r i n g s ( [ { k e y : " n a m e u s e d d o c o m b i n e " , c o m p o n e n t : " t a g " } , { k e y : " y e s " } , { k e y : " c a n c e l " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( b . m e s s a g e , a [ 0 ] , a [ 1 ] , a [ 2 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = w i n d o w . l o c a t i o n . h r e f + " & n e w n a m e = " + e n c o d e U R I C o m p o n e n t ( f ) + " & t a g i d = " + e n c o d e U R I C o m p o n e n t ( g ) + " & a c t i o n = r e n a m e c o m b i n e & s e s s k e y = " + M . c f g . s e s s k e y } ) } ) ) } ) , a ( " b o d y " ) . o n ( " c l i c k " , " a [ d a t a - a c t i o n = a d d s t a n d a r d t a g ] " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   h = " " ; e . g e t _ s t r i n g s ( [ { k e y : " a d d o t a g s " , c o m p o n e n t : " t a g " } , { k e y : " c o n t i n u e " } ] ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] ; h = a [ 1 ] ; v a r   d = { a c t i o n u r l : w i n d o w . l o c a t i o n . h r e f , s e s s k e y : M . c f g . s e s s k e y } ; r e t u r n   f . c r e a t e ( { t i t l e : b , b o d y : c . r e n d e r ( " c o r e _ t a g / a d d _ t a g s " , d ) , t y p e : f . t y p e s . S A V E _ C A N C E L } ) } ) . t h e n ( f u n c t i o n ( b ) { b . s e t S a v e B u t t o n T e x t ( h ) , b . g e t R o o t ( ) . o n ( g . s a v e , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . f i n d ( " # i d _ t a g s l i s t " ) , d = c . v a l ( ) . t r i m ( ) ; c . v a l ( d ) ; v a r   e = a ( " # a d d t a g s _ f o r m " ) ; r e t u r n   e . o n ( " s u b m i t " , f u n c t i o n ( b ) { v a r   c = a ( " # a d d t a g s _ f o r m " ) ; c [ 0 ] . c h e c k V a l i d i t y ( ) = = = ! 1 & & ( b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) ) , c . a d d C l a s s ( " w a s - v a l i d a t e d " ) , a ( ' [ d a t a - r e g i o n = " t a g s l i s t i n p u t " ] ' ) . a d d C l a s s ( " e r r o r " ) ; v a r   d = a ( " # i d _ t a g s l i s t _ e r r o r _ m e s s a g e " ) ; d . r e m o v e A t t r ( " h i d d e n " ) , d . a d d C l a s s ( " h e l p - b l o c k " ) } ) , e . s u b m i t ( ) , ! 1 } ) , b . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { b . d e s t r o y ( ) } ) , b . s h o w ( ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } ) } , i n i t M a n a g e C o l l e c t i o n s P a g e : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " u p d a t e d " , " [ d a t a - i n p l a c e e d i t a b l e ] " , f u n c t i o n ( b ) { v a r   c , d , e , f = b . a j a x r e t u r n ; " c o r e _ t a g " = = = f . c o m p o n e n t & & " t a g a r e a e n a b l e " = = = f . i t e m t y p e & & ( c = a ( t h i s ) . a t t r ( " d a t a - i t e m i d " ) , a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . h i d e ( ) , e = f . v a l u e , " 1 " = = = e ? ( a ( t h i s ) . c l o s e s t ( " t r " ) . r e m o v e C l a s s ( " d i m m e d _ t e x t " ) , d = a ( t h i s ) . c l o s e s t ( " t r " ) . f i n d ( ' [ d a t a - i t e m t y p e = " t a g a r e a c o l l e c t i o n " ] ' ) . a t t r ( " d a t a - v a l u e " ) , a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d = " + d + " ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . s h o w ( ) ) : a ( t h i s ) . c l o s e s t ( " t r " ) . a d d C l a s s ( " d i m m e d _ t e x t " ) ) , " c o r e _ t a g " = = = f . c o m p o n e n t & & " t a g a r e a c o l l e c t i o n " = = = f . i t e m t y p e & & ( c = a ( t h i s ) . a t t r ( " d a t a - i t e m i d " ) , a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . h i d e ( ) , d = a ( t h i s ) . a t t r ( " d a t a - v a l u e " ) , e = a ( t h i s ) . c l o s e s t ( " t r " ) . f i n d ( ' [ d a t a - i t e m t y p e = " t a g a r e a e n a b l e " ] ' ) . a t t r ( " d a t a - v a l u e " ) , " 1 " = = = e & & a ( " . t a g - c o l l e c t i o n s - t a b l e   u l [ d a t a - c o l l e c t i o n i d = " + d + " ]   l i [ d a t a - a r e a i d = " + c + " ] " ) . s h o w ( ) ) } ) , a ( " b o d y " ) . o n ( " c l i c k " , " . a d d t a g c o l l   >   a " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   h = [ { k e y : " a d d t a g c o l l " , c o m p o n e n t : " t a g " } , { k e y : " c r e a t e " } ] , i = a ( t h i s ) . a t t r ( " d a t a - u r l " ) , j = " " ; e . g e t _ s t r i n g s ( h ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] ; j = a [ 1 ] ; v a r   d = { a c t i o n u r l : i , s e s s k e y : M . c f g . s e s s k e y } ; r e t u r n   f . c r e a t e ( { t i t l e : b , b o d y : c . r e n d e r ( " c o r e _ t a g / a d d _ t a g _ c o l l e c t i o n " , d ) , t y p e : f . t y p e s . S A V E _ C A N C E L } ) } ) . t h e n ( f u n c t i o n ( b ) { b . s e t S a v e B u t t o n T e x t ( j ) , b . g e t R o o t ( ) . o n ( g . s a v e , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . f i n d ( " # a d d t a g c o l l _ n a m e " ) , d = c . v a l ( ) . t r i m ( ) ; c . v a l ( d ) ; v a r   e = a ( " # a d d t a g c o l l _ f o r m " ) ; r e t u r n   e . o n ( " s u b m i t " , f u n c t i o n ( b ) { e [ 0 ] . c h e c k V a l i d i t y ( ) = = = ! 1 & & ( b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) ) , e . a d d C l a s s ( " w a s - v a l i d a t e d " ) , a ( ' [ d a t a - r e g i o n = " a d d t a g c o l l _ n a m e i n p u t " ] ' ) . a d d C l a s s ( " e r r o r " ) ; v a r   c = a ( " # i d _ a d d t a g c o l l _ n a m e _ e r r o r _ m e s s a g e " ) ; c . r e m o v e A t t r ( " h i d d e n " ) , c . a d d C l a s s ( " h e l p - b l o c k " ) } ) , e . s u b m i t ( ) , ! 1 } ) , b . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { b . d e s t r o y ( ) } ) , b . s h o w ( ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } ) , a ( " b o d y " ) . o n ( " c l i c k " , " . t a g - c o l l e c t i o n s - t a b l e   . a c t i o n _ d e l e t e " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . a t t r ( " d a t a - u r l " ) + " & s e s s k e y = " + M . c f g . s e s s k e y ; e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " } , { k e y : " s u r e d e l e t e c o l l " , c o m p o n e n t : " t a g " , p a r a m : a ( t h i s ) . a t t r ( " d a t a - c o l l n a m e " ) } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = c } ) } ) } ) } } } ) ; 
 d e f i n e ( ' c o r e / u r l ' ,   [ " j q u e r y " , " c o r e / c o n f i g " ] , f u n c t i o n ( a , b ) { r e t u r n { f i l e U r l : f u n c t i o n ( a , c ) { v a r   d = b . w w w r o o t + a ; r e t u r n " / " ! = c . c h a r A t ( 0 ) & & ( c = " / " + c ) , d + = b . s l a s h a r g u m e n t s ? c : " ? f i l e = " + e n c o d e U R I C o m p o n e n t ( c ) } , r e l a t i v e U r l : f u n c t i o n ( c , d , e ) { i f ( 0 = = = c . i n d e x O f ( " h t t p : " ) | | 0 = = = c . i n d e x O f ( " h t t p s : " ) | | c . i n d e x O f ( " : / / " ) > = 0 ) t h r o w   n e w   E r r o r ( " r e l a t i v e U r l   f u n c t i o n   d o e s   n o t   a c c e p t   a b s o l u t e   u r l s " ) ; " / " ! = c . c h a r A t ( 0 ) & & ( c = " / " + c ) , " a d m i n " ! = = b . a d m i n & & ( c = c . r e p l a c e ( / ^ \ / a d m i n \ / / , " / " + b . a d m i n + " / " ) ) , d = d | | { } , e & & ( d . s e s s k e y = b . s e s s k e y ) ; v a r   f = " " ; r e t u r n   O b j e c t . k e y s ( d ) . l e n g t h & & ( f = a . m a p ( d , f u n c t i o n ( a , b ) { r e t u r n   b + " = " + a } ) . j o i n ( " & " ) ) , " " ! = = f ? b . w w w r o o t + c + " ? " + f : b . w w w r o o t + c } , i m a g e U r l : f u n c t i o n ( a , b ) { r e t u r n   M . u t i l . i m a g e _ u r l ( a , b ) } } } ) ; 
 d e f i n e ( ' c o r e / s t o r a g e w r a p p e r ' ,   [ " c o r e / c o n f i g " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { t h i s . s t o r a g e = b , t h i s . s u p p o r t e d = t h i s . d e t e c t S u p p o r t ( ) , t h i s . h a s h S o u r c e = a . w w w r o o t + " / " + a . j s r e v , t h i s . h a s h = t h i s . h a s h S t r i n g ( t h i s . h a s h S o u r c e ) , t h i s . p r e f i x = t h i s . h a s h + " / " , t h i s . j s r e v P r e f i x = t h i s . h a s h S t r i n g ( a . w w w r o o t ) + " / j s r e v " , t h i s . v a l i d a t e C a c h e ( ) } ; r e t u r n   b . p r o t o t y p e . d e t e c t S u p p o r t = f u n c t i o n ( ) { i f ( a . j s r e v = = - 1 ) r e t u r n ! 1 ; i f ( " u n d e f i n e d " = = t y p e o f   t h i s . s t o r a g e ) r e t u r n ! 1 ; v a r   b = " t e s t " ; t r y { r e t u r n   n u l l ! = = t h i s . s t o r a g e & & ( t h i s . s t o r a g e . s e t I t e m ( b , " 1 " ) , t h i s . s t o r a g e . r e m o v e I t e m ( b ) , ! 0 ) } c a t c h ( c ) { r e t u r n ! 1 } } , b . p r o t o t y p e . p r e f i x K e y = f u n c t i o n ( a ) { r e t u r n   t h i s . p r e f i x + a } , b . p r o t o t y p e . v a l i d a t e C a c h e = f u n c t i o n ( ) { v a r   b = t h i s . s t o r a g e . g e t I t e m ( t h i s . j s r e v P r e f i x ) ; i f ( n u l l = = = b ) r e t u r n   v o i d   t h i s . s t o r a g e . s e t I t e m ( t h i s . j s r e v P r e f i x , a . j s r e v ) ; v a r   c = a . j s r e v ; c ! = b & & ( t h i s . s t o r a g e . c l e a r ( ) , t h i s . s t o r a g e . s e t I t e m ( t h i s . j s r e v P r e f i x , a . j s r e v ) ) } , b . p r o t o t y p e . h a s h S t r i n g = f u n c t i o n ( a ) { v a r   b , c , d , e = 0 ; i f ( 0 = = = a . l e n g t h ) r e t u r n   e ; f o r ( b = 0 , d = a . l e n g t h ; b < d ; b + + ) c = a . c h a r C o d e A t ( b ) , e = ( e < < 5 ) - e + c , e | = 0 ; r e t u r n   e } , b . p r o t o t y p e . g e t = f u n c t i o n ( a ) { r e t u r n ! ! t h i s . s u p p o r t e d & & ( a = t h i s . p r e f i x K e y ( a ) , t h i s . s t o r a g e . g e t I t e m ( a ) ) } , b . p r o t o t y p e . s e t = f u n c t i o n ( a , b ) { i f ( ! t h i s . s u p p o r t e d ) r e t u r n ! 1 ; a = t h i s . p r e f i x K e y ( a ) ; t r y { t h i s . s t o r a g e . s e t I t e m ( a , b ) } c a t c h ( c ) { r e t u r n ! 1 } r e t u r n ! 0 } , b } ) ; 
 d e f i n e ( ' c o r e / p a g e d _ c o n t e n t _ p a g e s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / p u b s u b " , " c o r e / p a g e d _ c o n t e n t _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { R O O T : ' [ d a t a - r e g i o n = " p a g e - c o n t a i n e r " ] ' , P A G E _ R E G I O N : ' [ d a t a - r e g i o n = " p a g e d - c o n t e n t - p a g e " ] ' , A C T I V E _ P A G E _ R E G I O N : ' [ d a t a - r e g i o n = " p a g e d - c o n t e n t - p a g e " ] . a c t i v e ' } , g = { P A G I N G _ C O N T E N T _ I T E M : " c o r e / p a g e d _ c o n t e n t _ p a g e " , L O A D I N G : " c o r e / o v e r l a y _ l o a d i n g " } , h = 3 0 0 , i = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - p a g e = " ' + b + ' " ] ' ) } , j = f u n c t i o n ( d ) { v a r   e = a . D e f e r r e d ( ) ; r e t u r n   d . a t t r ( " a r i a - b u s y " , ! 0 ) , b . r e n d e r ( g . L O A D I N G , { v i s i b l e : ! 0 } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = a ( b ) , f = s e t T i m e o u t ( f u n c t i o n ( ) { d . c s s ( " p o s i t i o n " , " r e l a t i v e " ) , c . a p p e n d T o ( d ) } , h ) ; e . a l w a y s ( f u n c t i o n ( ) { c l e a r T i m e o u t ( f ) , c . r e m o v e ( ) , d . c s s ( " p o s i t i o n " , " " ) , d . r e m o v e A t t r ( " a r i a - b u s y " ) } ) } ) . f a i l ( c . e x c e p t i o n ) , e } , k = f u n c t i o n ( d , e , f ) { v a r   h = a . D e f e r r e d ( ) ; r e t u r n   e . t h e n ( f u n c t i o n ( a , e ) { e = e | | " " , b . r e n d e r ( g . P A G I N G _ C O N T E N T _ I T E M , { p a g e : f , c o n t e n t : a } ) . t h e n ( f u n c t i o n ( a ) { b . a p p e n d N o d e C o n t e n t s ( d , a , e ) ; v a r   c = i ( d , f ) ; h . r e s o l v e ( c ) } ) . f a i l ( f u n c t i o n ( a ) { h . r e j e c t ( a ) } ) . f a i l ( c . e x c e p t i o n ) } ) . f a i l ( f u n c t i o n ( a ) { h . r e j e c t ( a ) } ) . f a i l ( c . e x c e p t i o n ) , h . p r o m i s e ( ) } , l = f u n c t i o n ( b , g , h , l ) { v a r   m = [ ] , n = [ ] , o = a . D e f e r r e d ( ) , p = ! 0 ; i f ( g . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = a . p a g e N u m b e r , d = i ( b , c ) ; d . l e n g t h ? m . p u s h ( d ) : n . p u s h ( a ) } ) , n . l e n g t h & & " f u n c t i o n " = = t y p e o f   l ) { v a r   q = l ( n , { a l l I t e m s L o a d e d : f u n c t i o n ( a ) { d . p u b l i s h ( h + e . A L L _ I T E M S _ L O A D E D , a ) } } ) , r = q . m a p ( f u n c t i o n ( a , c ) { r e t u r n   k ( b , a , n [ c ] . p a g e N u m b e r ) } ) ; a . w h e n . a p p l y ( a , r ) . t h e n ( f u n c t i o n ( ) { v a r   a = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s ) ; o . r e s o l v e ( a ) } ) . f a i l ( f u n c t i o n ( a ) { o . r e j e c t ( a ) } ) . f a i l ( c . e x c e p t i o n ) } e l s e   o . r e s o l v e ( [ ] ) ; v a r   s = j ( b ) ; o . t h e n ( f u n c t i o n ( a ) { v a r   c = m . c o n c a t ( a ) ; b . f i n d ( f . P A G E _ R E G I O N ) . a d d C l a s s ( " h i d d e n " ) , c . f o r E a c h ( f u n c t i o n ( a ) { p & & a . r e m o v e C l a s s ( " h i d d e n " ) } ) } ) . t h e n ( f u n c t i o n ( ) { d . p u b l i s h ( h + e . P A G E S _ S H O W N , g ) } ) . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { s . r e s o l v e ( ) } ) } , m = f u n c t i o n ( b , c , f ) { b = a ( b ) , d . s u b s c r i b e ( c + e . S H O W _ P A G E S , f u n c t i o n ( a ) { l ( b , a , c , f ) } ) , d . s u b s c r i b e ( c + e . S E T _ I T E M S _ P E R _ P A G E _ L I M I T , f u n c t i o n ( ) { b . e m p t y ( ) } ) } ; r e t u r n { i n i t : m , r o o t S e l e c t o r : f . R O O T } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ l i n e ' ,   [ " c o r e / c h a r t _ b a s e " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( ) { a . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) } r e t u r n   b . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , b . p r o t o t y p e . T Y P E = " l i n e " , b . p r o t o t y p e . _ s m o o t h = ! 1 , b . p r o t o t y p e . c r e a t e = f u n c t i o n ( b , c ) { v a r   d = a . p r o t o t y p e . c r e a t e . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   d . s e t S m o o t h ( c . s m o o t h ) , d } , b . p r o t o t y p e . g e t S m o o t h = f u n c t i o n ( ) { r e t u r n   t h i s . _ s m o o t h } , b . p r o t o t y p e . s e t S m o o t h = f u n c t i o n ( a ) { t h i s . _ s m o o t h = B o o l e a n ( a ) } , b } ) ; 
 d e f i n e ( ' c o r e / d r a g d r o p ' ,   [ " j q u e r y " , " c o r e / a u t o s c r o l l " ] , f u n c t i o n ( a , b ) { v a r   c = { e v e n t C a p t u r e O p t i o n s : { p a s s i v e : ! 1 , c a p t u r e : ! 0 } , d r a g P r o x y : n u l l , o n M o v e : n u l l , o n D r o p : n u l l , i n i t i a l P o s i t i o n : n u l l , i n i t i a l X : n u l l , i n i t i a l Y : n u l l , t o u c h i n g : n u l l , p r e p a r e : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b ; i f ( b = " t o u c h s t a r t " = = = a . t y p e ? n u l l = = = c . t o u c h i n g & & a . c h a n g e d T o u c h e s . l e n g t h > 0 : 1 = = = a . w h i c h ) { v a r   d = c . g e t E v e n t X Y ( a ) ; r e t u r n   d . s t a r t = ! 0 , d } r e t u r n { s t a r t : ! 1 } } , s t a r t : f u n c t i o n ( a , d , e , f ) { v a r   g = c . g e t E v e n t X Y ( a ) ; s w i t c h ( c . i n i t i a l X = g . x , c . i n i t i a l Y = g . y , c . i n i t i a l P o s i t i o n = d . o f f s e t ( ) , c . d r a g P r o x y = d , c . o n M o v e = e , c . o n D r o p = f , a . t y p e ) { c a s e " m o u s e d o w n " : c . a d d E v e n t S p e c i a l ( " m o u s e m o v e " , c . m o u s e M o v e ) , c . a d d E v e n t S p e c i a l ( " m o u s e u p " , c . m o u s e U p ) ; b r e a k ; c a s e " t o u c h s t a r t " : c . a d d E v e n t S p e c i a l ( " t o u c h e n d " , c . t o u c h E n d ) , c . a d d E v e n t S p e c i a l ( " t o u c h c a n c e l " , c . t o u c h E n d ) , c . a d d E v e n t S p e c i a l ( " t o u c h m o v e " , c . t o u c h M o v e ) , c . t o u c h i n g = a . c h a n g e d T o u c h e s [ 0 ] . i d e n t i f i e r ; b r e a k ; d e f a u l t : t h r o w   n e w   E r r o r ( " U n e x p e c t e d   e v e n t   t y p e :   " + a . t y p e ) } b . s t a r t ( c . s c r o l l ) } , a d d E v e n t S p e c i a l : f u n c t i o n ( a , b ) { t r y { w i n d o w . a d d E v e n t L i s t e n e r ( a , b , c . e v e n t C a p t u r e O p t i o n s ) } c a t c h ( d ) { c . e v e n t C a p t u r e O p t i o n s = ! 0 , w i n d o w . a d d E v e n t L i s t e n e r ( a , b , c . e v e n t C a p t u r e O p t i o n s ) } } , g e t E v e n t X Y : f u n c t i o n ( a ) { s w i t c h ( a . t y p e ) { c a s e " t o u c h s t a r t " : r e t u r n { x : a . c h a n g e d T o u c h e s [ 0 ] . p a g e X , y : a . c h a n g e d T o u c h e s [ 0 ] . p a g e Y } ; c a s e " m o u s e d o w n " : r e t u r n { x : a . p a g e X , y : a . p a g e Y } ; d e f a u l t : t h r o w   n e w   E r r o r ( " U n e x p e c t e d   e v e n t   t y p e :   " + a . t y p e ) } } , t o u c h M o v e : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; f o r ( v a r   b = 0 ; b < a . c h a n g e d T o u c h e s . l e n g t h ; b + + ) a . c h a n g e d T o u c h e s [ b ] . i d e n t i f i e r = = = c . t o u c h i n g & & c . h a n d l e M o v e ( a . c h a n g e d T o u c h e s [ b ] . p a g e X , a . c h a n g e d T o u c h e s [ b ] . p a g e Y ) } , m o u s e M o v e : f u n c t i o n ( a ) { c . h a n d l e M o v e ( a . p a g e X , a . p a g e Y ) } , h a n d l e M o v e : f u n c t i o n ( b , d ) { v a r   e = c . d r a g P r o x y . o f f s e t ( ) , f = e . t o p - p a r s e I n t ( c . d r a g P r o x y . c s s ( " t o p " ) ) , g = e . l e f t - p a r s e I n t ( c . d r a g P r o x y . c s s ( " l e f t " ) ) , h = a ( d o c u m e n t ) . h e i g h t ( ) - c . d r a g P r o x y . o u t e r H e i g h t ( ) - f , i = a ( d o c u m e n t ) . w i d t h ( ) - c . d r a g P r o x y . o u t e r W i d t h ( ) - g , j = - f , k = - g , l = c . i n i t i a l P o s i t i o n , m = { t o p : M a t h . m a x ( j , M a t h . m i n ( h , l . t o p + ( d - c . i n i t i a l Y ) - f ) ) , l e f t : M a t h . m a x ( k , M a t h . m i n ( i , l . l e f t + ( b - c . i n i t i a l X ) - g ) ) } ; c . d r a g P r o x y . c s s ( m ) , c . o n M o v e ( b , d , c . d r a g P r o x y ) } , t o u c h E n d : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; f o r ( v a r   b = 0 ; b < a . c h a n g e d T o u c h e s . l e n g t h ; b + + ) a . c h a n g e d T o u c h e s [ b ] . i d e n t i f i e r = = = c . t o u c h i n g & & c . h a n d l e E n d ( a . c h a n g e d T o u c h e s [ b ] . p a g e X , a . c h a n g e d T o u c h e s [ b ] . p a g e Y ) } , m o u s e U p : f u n c t i o n ( a ) { c . h a n d l e E n d ( a . p a g e X , a . p a g e Y ) } , h a n d l e E n d : f u n c t i o n ( a , d ) { n u l l ! = = c . t o u c h i n g ? ( w i n d o w . r e m o v e E v e n t L i s t e n e r ( " t o u c h e n d " , c . t o u c h E n d , c . e v e n t C a p t u r e O p t i o n s ) , w i n d o w . r e m o v e E v e n t L i s t e n e r ( " t o u c h c a n c e l " , c . t o u c h E n d , c . e v e n t C a p t u r e O p t i o n s ) , w i n d o w . r e m o v e E v e n t L i s t e n e r ( " t o u c h m o v e " , c . t o u c h M o v e , c . e v e n t C a p t u r e O p t i o n s ) , c . t o u c h i n g = n u l l ) : ( w i n d o w . r e m o v e E v e n t L i s t e n e r ( " m o u s e m o v e " , c . m o u s e M o v e , c . e v e n t C a p t u r e O p t i o n s ) , w i n d o w . r e m o v e E v e n t L i s t e n e r ( " m o u s e u p " , c . m o u s e U p , c . e v e n t C a p t u r e O p t i o n s ) ) , b . s t o p ( ) , c . o n D r o p ( a , d , c . d r a g P r o x y ) } , s c r o l l : f u n c t i o n ( b ) { v a r   d = a ( d o c u m e n t ) . h e i g h t ( ) - c . d r a g P r o x y . o u t e r H e i g h t ( ) , e = c . d r a g P r o x y . o f f s e t ( ) ; e . t o p = M a t h . m i n ( d , e . t o p + b ) , c . d r a g P r o x y . c s s ( e ) } } ; r e t u r n { p r e p a r e : c . p r e p a r e , s t a r t : c . s t a r t } } ) ; 
 d e f i n e ( ' c o r e / l o c a l s t o r a g e ' ,   [ " c o r e / c o n f i g " , " c o r e / s t o r a g e w r a p p e r " ] , f u n c t i o n ( a , b ) { v a r   c = n e w   b ( w i n d o w . l o c a l S t o r a g e ) ; r e t u r n { g e t : f u n c t i o n ( a ) { r e t u r n   c . g e t ( a ) } , s e t : f u n c t i o n ( a , b ) { r e t u r n   c . s e t ( a , b ) } } } ) ; 
 d e f i n e ( ' c o r e / l o g ' ,   [ " c o r e / l o g l e v e l " ] , f u n c t i o n ( a ) { v a r   b = a . m e t h o d F a c t o r y ; r e t u r n   a . m e t h o d F a c t o r y = f u n c t i o n ( a , c ) { v a r   d = b ( a , c ) ; r e t u r n   f u n c t i o n ( a , b ) { d ( b ? b + " :   " + a : a ) } } , a . s e t C o n f i g = f u n c t i o n ( b ) { " u n d e f i n e d " ! = t y p e o f   b . l e v e l & & a . s e t L e v e l ( b . l e v e l ) } , a } ) ; 
 d e f i n e ( ' c o r e / s o r t a b l e _ l i s t ' ,   [ " j q u e r y " , " c o r e / l o g " , " c o r e / a u t o s c r o l l " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { t a r g e t L i s t S e l e c t o r : n u l l , m o v e H a n d l e r S e l e c t o r : " [ d a t a - d r a g - t y p e = m o v e ] " , i s H o r i z o n t a l : ! 1 , a u t o S c r o l l : ! 0 } , i = { k e y b o a r d D r a g C l a s s : " d r a g d r o p - k e y b o a r d - d r a g " , i s D r a g g e d C l a s s : " s o r t a b l e - l i s t - i s - d r a g g e d " , c u r r e n t P o s i t i o n C l a s s : " s o r t a b l e - l i s t - c u r r e n t - p o s i t i o n " , s o u r c e L i s t C l a s s : " s o r t a b l e - l i s t - s o u r c e " , t a r g e t L i s t C l a s s : " s o r t a b l e - l i s t - t a r g e t " , o v e r E l e m e n t C l a s s : " s o r t a b l e - l i s t - o v e r - e l e m e n t " } , j = f u n c t i o n ( ) { v a r   a , b = ! 1 , c = " t e s t p a s s i v e e v e n t o p t i o n s " ; t r y { a = O b j e c t . d e f i n e P r o p e r t y ( { } , " p a s s i v e " , { g e t : f u n c t i o n ( ) { b = ! 0 } } ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( c , a , a ) , d o c u m e n t . r e m o v e E v e n t L i s t e n e r ( c , a , a ) } c a t c h ( d ) { b = ! 1 } r e t u r n   b } , k = f u n c t i o n ( a ) { r e t u r n { s e t u p : f u n c t i o n ( b , c , d ) { r e t u r n ! ! c . i n c l u d e s ( " n o t P a s s i v e " ) & & ( t h i s . a d d E v e n t L i s t e n e r ( a , d , { p a s s i v e : ! 1 } ) , ! 0 ) } } } ; j & & ( a . e v e n t . s p e c i a l . t o u c h s t a r t = k ( " t o u c h s t a r t " ) , a . e v e n t . s p e c i a l . t o u c h m o v e = k ( " t o u c h m o v e " ) , a . e v e n t . s p e c i a l . t o u c h e n d = k ( " t o u c h e n d " ) ) ; v a r   l = f u n c t i o n ( b , c ) { t h i s . i n f o = n u l l , t h i s . p r o x y = n u l l , t h i s . p r o x y D e l t a = n u l l , t h i s . d r a g C o u n t e r = 0 , t h i s . l a s t E v e n t = n u l l , t h i s . c o n f i g = a . e x t e n d ( { } , h , c | | { } ) , t h i s . c o n f i g . l i s t S e l e c t o r = b , t h i s . c o n f i g . t a r g e t L i s t S e l e c t o r | | ( t h i s . c o n f i g . t a r g e t L i s t S e l e c t o r = b ) , " o b j e c t " = = t y p e o f   t h i s . c o n f i g . l i s t S e l e c t o r ? a ( t h i s . c o n f i g . l i s t S e l e c t o r ) . o n ( " m o u s e d o w n   t o u c h s t a r t . n o t P a s s i v e " , a . p r o x y ( t h i s . d r a g S t a r t H a n d l e r , t h i s ) ) : a ( " b o d y " ) . o n ( " m o u s e d o w n   t o u c h s t a r t . n o t P a s s i v e " , t h i s . c o n f i g . l i s t S e l e c t o r , a . p r o x y ( t h i s . d r a g S t a r t H a n d l e r , t h i s ) ) , n u l l ! = = t h i s . c o n f i g . m o v e H a n d l e r S e l e c t o r & & a ( " b o d y " ) . o n ( " c l i c k   k e y p r e s s " , t h i s . c o n f i g . m o v e H a n d l e r S e l e c t o r , a . p r o x y ( t h i s . c l i c k H a n d l e r , t h i s ) ) } ; r e t u r n   l . E V E N T S = { D R A G S T A R T : " s o r t a b l e l i s t - d r a g s t a r t " , D R A G : " s o r t a b l e l i s t - d r a g " , D R O P : " s o r t a b l e l i s t - d r o p " , D R A G E N D : " s o r t a b l e l i s t - d r a g e n d " } , l . p r o t o t y p e . r e s e t D r a g g e d C l a s s e s = f u n c t i o n ( ) { v a r   b = [ i . i s D r a g g e d C l a s s , i . c u r r e n t P o s i t i o n C l a s s , i . o v e r E l e m e n t C l a s s , i . t a r g e t L i s t C l a s s ] ; f o r ( v a r   c   i n   b ) a ( " . " + b [ c ] ) . r e m o v e C l a s s ( b [ c ] ) ; t h i s . p r o x y & & ( t h i s . p r o x y . r e m o v e ( ) , t h i s . p r o x y = a ( ) ) } , l . p r o t o t y p e . c a l c u l a t e P o s i t i o n O n P a g e = f u n c t i o n ( b ) { i f ( b . o r i g i n a l E v e n t & & b . o r i g i n a l E v e n t . t o u c h e s & & v o i d   0 ! = = b . o r i g i n a l E v e n t . t o u c h e s [ 0 ] ) { v a r   c = b . o r i g i n a l E v e n t . t o u c h e s [ 0 ] ; b . p a g e X = c . p a g e X , b . p a g e Y = c . p a g e Y } v o i d   0 = = = b . p a g e X ? ( b . p a g e X = t h i s . l a s t E v e n t . p a g e X , b . p a g e Y = t h i s . l a s t E v e n t . p a g e Y ) : t h i s . l a s t E v e n t = b , v o i d   0 = = = b . c l i e n t X & & ( b . c l i e n t X = M a t h . r o u n d ( b . p a g e X - a ( w i n d o w ) . s c r o l l L e f t ( ) ) , b . c l i e n t Y = M a t h . r o u n d ( b . p a g e Y - a ( w i n d o w ) . s c r o l l T o p ( ) ) ) } , l . p r o t o t y p e . d r a g S t a r t H a n d l e r = f u n c t i o n ( b ) { i f ( n u l l ! = = t h i s . i n f o ) { i f ( " c l i c k " = = = t h i s . i n f o . t y p e | | " t o u c h e n d " = = = t h i s . i n f o . t y p e ) r e t u r n ; t h i s . m o v e E l e m e n t ( t h i s . i n f o . s o u r c e L i s t , t h i s . i n f o . s o u r c e N e x t E l e m e n t ) , t h i s . f i n i s h D r a g g i n g ( ) } i f ( " m o u s e d o w n " ! = = b . t y p e | | 1 = = = b . w h i c h ) { t h i s . c a l c u l a t e P o s i t i o n O n P a g e ( b ) ; v a r   d = a ( b . t a r g e t ) . c l o s e s t ( a ( b . c u r r e n t T a r g e t ) . c h i l d r e n ( ) ) ; i f ( d . l e n g t h & & ( n u l l = = = t h i s . c o n f i g . m o v e H a n d l e r S e l e c t o r | | a ( b . t a r g e t ) . c l o s e s t ( t h i s . c o n f i g . m o v e H a n d l e r S e l e c t o r , d ) . l e n g t h ) ) { b . s t o p P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , t h i s . d r a g C o u n t e r + + , t h i s . i n f o = { e l e m e n t : d , s o u r c e N e x t E l e m e n t : d . n e x t ( ) , s o u r c e L i s t : d . p a r e n t ( ) , t a r g e t N e x t E l e m e n t : d . n e x t ( ) , t a r g e t L i s t : d . p a r e n t ( ) , t y p e : b . t y p e , d r o p p e d : ! 1 , s t a r t X : b . p a g e X , s t a r t Y : b . p a g e Y , s t a r t T i m e : ( n e w   D a t e ) . g e t T i m e ( ) } , a ( t h i s . c o n f i g . t a r g e t L i s t S e l e c t o r ) . a d d C l a s s ( i . t a r g e t L i s t C l a s s ) ; v a r   e = d . o f f s e t ( ) ; d . a d d C l a s s ( i . c u r r e n t P o s i t i o n C l a s s ) , t h i s . p r o x y D e l t a = { x : e . l e f t - b . p a g e X , y : e . t o p - b . p a g e Y } , t h i s . p r o x y = a ( ) ; v a r   f = t h i s . d r a g C o u n t e r ; s e t T i m e o u t ( a . p r o x y ( f u n c t i o n ( ) { n u l l ! = = t h i s . i n f o & & " c l i c k " ! = = t h i s . i n f o . t y p e & & " k e y p r e s s " ! = = t h i s . i n f o . t y p e & & t h i s . d r a g C o u n t e r = = = f & & t h i s . c r e a t e P r o x y ( ) } , t h i s ) , 5 0 0 ) , a ( w i n d o w ) . o n ( " m o u s e m o v e   t o u c h m o v e . n o t P a s s i v e   m o u s e u p   t o u c h e n d . n o t P a s s i v e " , a . p r o x y ( t h i s . d r a g H a n d l e r , t h i s ) ) , a ( w i n d o w ) . o n ( " k e y p r e s s " , a . p r o x y ( t h i s . d r a g c a n c e l H a n d l e r , t h i s ) ) , t h i s . c o n f i g . a u t o S c r o l l & & c . s t a r t ( f u n c t i o n ( ) { a ( w i n d o w ) . t r i g g e r ( " m o u s e m o v e " ) } ) , t h i s . e x e c u t e C a l l b a c k ( l . E V E N T S . D R A G S T A R T ) } } } , l . p r o t o t y p e . c r e a t e P r o x y = f u n c t i o n ( ) { t h i s . p r o x y = t h i s . i n f o . e l e m e n t . c l o n e ( ) , t h i s . i n f o . s o u r c e L i s t . a p p e n d ( t h i s . p r o x y ) , t h i s . p r o x y . r e m o v e A t t r ( " i d " ) . r e m o v e C l a s s ( i . c u r r e n t P o s i t i o n C l a s s ) . a d d C l a s s ( i . i s D r a g g e d C l a s s ) . c s s ( { p o s i t i o n : " f i x e d " } ) , t h i s . p r o x y . o f f s e t ( { t o p : t h i s . p r o x y D e l t a . y + t h i s . l a s t E v e n t . p a g e Y , l e f t : t h i s . p r o x y D e l t a . x + t h i s . l a s t E v e n t . p a g e X } ) } , l . p r o t o t y p e . c l i c k H a n d l e r = f u n c t i o n ( b ) { i f ( ( " k e y p r e s s " ! = = b . t y p e | | 1 3 = = = b . o r i g i n a l E v e n t . k e y C o d e | | 3 2 = = = b . o r i g i n a l E v e n t . k e y C o d e ) & & n u l l = = = t h i s . i n f o ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( t h i s . c o n f i g . m o v e H a n d l e r S e l e c t o r ) , d = c . c l o s e s t ( t h i s . c o n f i g . l i s t S e l e c t o r ) , e = c . c l o s e s t ( d . c h i l d r e n ( ) ) ; e . l e n g t h & & ( b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , t h i s . d r a g C o u n t e r + + , t h i s . i n f o = { e l e m e n t : e , s o u r c e N e x t E l e m e n t : e . n e x t ( ) , s o u r c e L i s t : d , t a r g e t N e x t E l e m e n t : e . n e x t ( ) , t a r g e t L i s t : d , d r o p p e d : ! 1 , t y p e : b . t y p e , s t a r t T i m e : ( n e w   D a t e ) . g e t T i m e ( ) } , t h i s . e x e c u t e C a l l b a c k ( l . E V E N T S . D R A G S T A R T ) , t h i s . d i s p l a y M o v e D i a l o g u e ( c ) ) } } , l . p r o t o t y p e . g e t P o s i t i o n I n N o d e = f u n c t i o n ( a , b , c ) { i f ( ! c . l e n g t h ) r e t u r n   n u l l ; v a r   d = c [ 0 ] , e = 0 , f = d . g e t B o u n d i n g C l i e n t R e c t ( ) , g = b - ( f . t o p + w i n d o w . s c r o l l Y ) , h = a - ( f . l e f t + w i n d o w . s c r o l l X ) ; r e t u r n   h > = - e & & h < = f . w i d t h + e & & g > = - e & & g < = f . h e i g h t + e ? { x : h , y : g , x R a t i o : f . w i d t h ? h / f . w i d t h : 0 , y R a t i o : f . h e i g h t ? g / f . h e i g h t : 0 } : n u l l } , l . p r o t o t y p e . i s L i s t H o r i z o n t a l = f u n c t i o n ( a ) { v a r   b = t h i s . c o n f i g . i s H o r i z o n t a l ; r e t u r n   b = = = ! 0 | | b = = = ! 1 ? b : b ( a ) } , l . p r o t o t y p e . d r a g H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , t h i s . c a l c u l a t e P o s i t i o n O n P a g e ( b ) , t h i s . p r o x y . o f f s e t ( { t o p : - 1 e 3 , l e f t : - 1 e 3 } ) ; v a r   c = a ( d o c u m e n t . e l e m e n t F r o m P o i n t ( b . c l i e n t X , b . c l i e n t Y ) ) , d = t h i s . i n f o . e l e m e n t [ 0 ] , e = f u n c t i o n ( ) { r e t u r n   t h i s ! = = d } , f = c . c l o s e s t ( " . " + i . t a r g e t L i s t C l a s s + "   >   : n o t ( . " + i . i s D r a g g e d C l a s s + " ) " ) . f i l t e r ( e ) , g = c . c l o s e s t ( " . " + i . t a r g e t L i s t C l a s s ) , h = t h i s . p r o x y , j = f u n c t i o n ( ) { r e t u r n ! h | | ! h . l e n g t h | | t h i s ! = = h [ 0 ] } ; i f ( a ( " . " + i . o v e r E l e m e n t C l a s s ) . r e m o v e C l a s s ( i . o v e r E l e m e n t C l a s s ) , f . a d d C l a s s ( i . o v e r E l e m e n t C l a s s ) , t h i s . p r o x y . o f f s e t ( { t o p : t h i s . p r o x y D e l t a . y + b . p a g e Y , l e f t : t h i s . p r o x y D e l t a . x + b . p a g e X } ) , g . l e n g t h & & ! g . c h i l d r e n ( ) . f i l t e r ( j ) . l e n g t h ) t h i s . m o v e E l e m e n t ( g , a ( ) ) ; e l s e   i f ( 1 = = = f . l e n g t h & & ! t h i s . i n f o . e l e m e n t . f i n d ( f [ 0 ] ) . l e n g t h ) { v a r   k = t h i s . g e t P o s i t i o n I n N o d e ( b . p a g e X , b . p a g e Y , f ) ; i f ( k ) { v a r   m = f . p a r e n t ( ) , n = t h i s . i s L i s t H o r i z o n t a l ( m ) ? k . x R a t i o : k . y R a t i o , o = f . f i n d ( " . " + i . t a r g e t L i s t C l a s s ) , p = ! o . c h i l d r e n ( ) . f i l t e r ( j ) . f i l t e r ( e ) . l e n g t h ; o . l e n g t h & & p & & n > . 2 & & n < . 8 ? t h i s . m o v e E l e m e n t ( o , a ( ) ) : n > . 5 ? t h i s . m o v e E l e m e n t ( m , f . n e x t ( ) . f i l t e r ( j ) ) : t h i s . m o v e E l e m e n t ( m , f ) } } i f ( " m o u s e u p " = = = b . t y p e | | " t o u c h e n d " = = = b . t y p e ) { t h i s . i n f o . e n d X = b . p a g e X , t h i s . i n f o . e n d Y = b . p a g e Y , t h i s . i n f o . e n d T i m e = ( n e w   D a t e ) . g e t T i m e ( ) , t h i s . i n f o . d r o p p e d = ! 0 , t h i s . i n f o . p o s i t i o n C h a n g e d = t h i s . h a s P o s i t i o n C h a n g e d ( t h i s . i n f o ) ; v a r   q = t h i s . i n f o ; t h i s . e x e c u t e C a l l b a c k ( l . E V E N T S . D R O P ) , t h i s . f i n i s h D r a g g i n g ( ) , " t o u c h e n d " = = = b . t y p e & & n u l l ! = = t h i s . c o n f i g . m o v e H a n d l e r S e l e c t o r & & q . e n d T i m e - q . s t a r t T i m e < 5 0 0 & & ! q . p o s i t i o n C h a n g e d & & t h i s . c l i c k H a n d l e r ( b ) } } , l . p r o t o t y p e . h a s P o s i t i o n C h a n g e d = f u n c t i o n ( a ) { r e t u r n   a . s o u r c e L i s t [ 0 ] ! = = a . t a r g e t L i s t [ 0 ] | | a . s o u r c e N e x t E l e m e n t . l e n g t h ! = = a . t a r g e t N e x t E l e m e n t . l e n g t h | | a . s o u r c e N e x t E l e m e n t . l e n g t h & & a . s o u r c e N e x t E l e m e n t [ 0 ] ! = = a . t a r g e t N e x t E l e m e n t [ 0 ] } , l . p r o t o t y p e . m o v e E l e m e n t = f u n c t i o n ( a , b ) { v a r   c = t h i s . i n f o . e l e m e n t ; b . l e n g t h & & b [ 0 ] = = = c [ 0 ] | | a [ 0 ] = = = t h i s . i n f o . t a r g e t L i s t [ 0 ] & & b . l e n g t h = = = t h i s . i n f o . t a r g e t N e x t E l e m e n t . l e n g t h & & b [ 0 ] = = = t h i s . i n f o . t a r g e t N e x t E l e m e n t [ 0 ] | | ( b . l e n g t h ? a [ 0 ] . i n s e r t B e f o r e ( c [ 0 ] , b [ 0 ] ) : t h i s . p r o x y & & t h i s . p r o x y . p a r e n t ( ) . l e n g t h & & t h i s . p r o x y . p a r e n t ( ) [ 0 ] = = = a [ 0 ] ? a [ 0 ] . i n s e r t B e f o r e ( c [ 0 ] , t h i s . p r o x y [ 0 ] ) : a [ 0 ] . a p p e n d C h i l d ( c [ 0 ] ) , t h i s . i n f o . t a r g e t L i s t = a , t h i s . i n f o . t a r g e t N e x t E l e m e n t = b , t h i s . e x e c u t e C a l l b a c k ( l . E V E N T S . D R A G ) ) } , l . p r o t o t y p e . f i n i s h D r a g g i n g = f u n c t i o n ( ) { t h i s . r e s e t D r a g g e d C l a s s e s ( ) , t h i s . c o n f i g . a u t o S c r o l l & & c . s t o p ( ) , a ( w i n d o w ) . o f f ( " m o u s e m o v e   t o u c h m o v e . n o t P a s s i v e   m o u s e u p   t o u c h e n d . n o t P a s s i v e " , a . p r o x y ( t h i s . d r a g H a n d l e r , t h i s ) ) , a ( w i n d o w ) . o f f ( " k e y p r e s s " , a . p r o x y ( t h i s . d r a g c a n c e l H a n d l e r , t h i s ) ) , t h i s . e x e c u t e C a l l b a c k ( l . E V E N T S . D R A G E N D ) , t h i s . i n f o = n u l l } , l . p r o t o t y p e . e x e c u t e C a l l b a c k = f u n c t i o n ( a ) { t h i s . i n f o . e l e m e n t . t r i g g e r ( a , t h i s . i n f o ) } , l . p r o t o t y p e . d r a g c a n c e l H a n d l e r = f u n c t i o n ( a ) { " k e y p r e s s " = = = a . t y p e & & 2 7 = = = a . o r i g i n a l E v e n t . k e y C o d e & & ( t h i s . m o v e E l e m e n t ( t h i s . i n f o . s o u r c e L i s t , t h i s . i n f o . s o u r c e N e x t E l e m e n t ) , t h i s . f i n i s h D r a g g i n g ( ) ) } , l . p r o t o t y p e . g e t E l e m e n t N a m e = f u n c t i o n ( b ) { r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( b . t e x t ( ) ) } , l . p r o t o t y p e . g e t D e s t i n a t i o n N a m e = f u n c t i o n ( a , b ) { r e t u r n   b . l e n g t h ? t h i s . g e t E l e m e n t N a m e ( b ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . g e t _ s t r i n g ( " m o v e c o n t e n t a f t e r " , " m o o d l e " , a ) } ) : d . g e t _ s t r i n g ( " m o v e c o n t e n t t o t h e t o p " , " m o o d l e " ) } , l . p r o t o t y p e . g e t M o v e D i a l o g u e T i t l e = f u n c t i o n ( b , c ) { r e t u r n   c . a t t r ( " t i t l e " ) ? a . D e f e r r e d ( ) . r e s o l v e ( c . a t t r ( " t i t l e " ) ) : t h i s . g e t E l e m e n t N a m e ( b ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . g e t _ s t r i n g ( " m o v e c o n t e n t " , " m o o d l e " , a ) } ) } , l . p r o t o t y p e . g e t D e s t i n a t i o n s L i s t = f u n c t i o n ( ) { v a r   b = [ ] , c = a ( t h i s . c o n f i g . t a r g e t L i s t S e l e c t o r ) , d = a ( " < u l / > " ) . a d d C l a s s ( i . k e y b o a r d D r a g C l a s s ) , e = a . w h e n ( ) . t h e n ( f u n c t i o n ( ) { r e t u r n   d } ) , f = a . p r o x y ( f u n c t i o n ( b , c , f ) { c . i s ( t h i s . i n f o . e l e m e n t ) | | f . i s ( t h i s . i n f o . e l e m e n t ) | | a . c o n t a i n s ( t h i s . i n f o . e l e m e n t [ 0 ] , b [ 0 ] ) | | ( e = e . t h e n ( a . p r o x y ( f u n c t i o n ( ) { r e t u r n   t h i s . g e t D e s t i n a t i o n N a m e ( b , f ) } , t h i s ) ) . t h e n ( f u n c t i o n ( e ) { v a r   f = a ( " < l i / > " ) . a p p e n d T o ( d ) , g = a ( ' < a   h r e f = " # " / > ' ) . a t t r ( " d a t a - c o r e _ s o r t a b l e _ l i s t - q u i c k m o v e " , 1 ) . a p p e n d T o ( f ) ; r e t u r n   g . d a t a ( " p a r e n t - e l e m e n t " , b ) . d a t a ( " b e f o r e - e l e m e n t " , c ) . t e x t ( e ) , d } ) ) } , t h i s ) , g = f u n c t i o n ( ) { i f ( a . i n A r r a y ( t h i s , b ) = = = - 1 ) { b . p u s h ( t h i s ) ; v a r   d = a ( t h i s ) , e = d . c h i l d r e n ( ) ; e . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; f ( d , b , b . p r e v ( ) ) , b . f i n d ( c ) . e a c h ( g ) } ) , f ( d , a ( ) , e . l a s t ( ) ) } } ; r e t u r n   c . e a c h ( g ) , e } , l . p r o t o t y p e . d i s p l a y M o v e D i a l o g u e = f u n c t i o n ( b ) { e . c r e a t e ( { t y p e : e . t y p e s . C A N C E L , t i t l e : t h i s . g e t M o v e D i a l o g u e T i t l e ( t h i s . i n f o . e l e m e n t , b ) , b o d y : t h i s . g e t D e s t i n a t i o n s L i s t ( ) } ) . t h e n ( a . p r o x y ( f u n c t i o n ( c ) { v a r   d = a . p r o x y ( f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) , d . s t o p P r o p a g a t i o n ( ) , t h i s . m o v e E l e m e n t ( a ( d . c u r r e n t T a r g e t ) . d a t a ( " p a r e n t - e l e m e n t " ) , a ( d . c u r r e n t T a r g e t ) . d a t a ( " b e f o r e - e l e m e n t " ) ) , t h i s . i n f o . e n d T i m e = ( n e w   D a t e ) . g e t T i m e ( ) , t h i s . i n f o . p o s i t i o n C h a n g e d = t h i s . h a s P o s i t i o n C h a n g e d ( t h i s . i n f o ) , t h i s . i n f o . d r o p p e d = ! 0 , b . f o c u s ( ) , t h i s . e x e c u t e C a l l b a c k ( l . E V E N T S . D R O P ) , c . h i d e ( ) } , t h i s ) ; r e t u r n   c . g e t R o o t ( ) . o n ( " c l i c k " , " [ d a t a - c o r e _ s o r t a b l e _ l i s t - q u i c k m o v e ] " , d ) , c . g e t R o o t ( ) . o n ( f . h i d d e n , a . p r o x y ( f u n c t i o n ( ) { c . g e t R o o t ( ) . o f f ( " c l i c k " , " [ d a t a - c o r e _ s o r t a b l e _ l i s t - q u i c k m o v e ] " , d ) , c . d e s t r o y ( ) , t h i s . f i n i s h D r a g g i n g ( ) } , t h i s ) ) , c . s e t L a r g e ( ) , c . s h o w ( ) , c } , t h i s ) ) [ " c a t c h " ] ( g . e x c e p t i o n ) } , l } ) ; 
 d e f i n e ( ' c o r e / t e m p l a t e s ' ,   [ " c o r e / m u s t a c h e " , " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e / u r l " , " c o r e / c o n f i g " , " c o r e / l o c a l s t o r a g e " , " c o r e / i c o n _ s y s t e m " , " c o r e / e v e n t " , " c o r e / y u i " , " c o r e / l o g " , " c o r e / t r u n c a t e " , " c o r e / u s e r _ d a t e " , " c o r e / p e n d i n g " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m , n , o ) { v a r   p = 0 , q = { } , r = { } , s = { } , t = { } , u = f u n c t i o n ( ) { t h i s . r e q u i r e d S t r i n g s = [ ] , t h i s . r e q u i r e d J S = [ ] , t h i s . r e q u i r e d D a t e s = [ ] , t h i s . c u r r e n t T h e m e N a m e = " " } ; u . p r o t o t y p e . r e q u i r e d S t r i n g s = n u l l , u . p r o t o t y p e . r e q u i r e d D a t e s = [ ] , u . p r o t o t y p e . r e q u i r e d J S = n u l l , u . p r o t o t y p e . c u r r e n t T h e m e N a m e = " " , u . p r o t o t y p e . g e t T e m p l a t e = f u n c t i o n ( a ) { v a r   d = a . s p l i t ( " / " ) , e = d . s h i f t ( ) , f = d . s h i f t ( ) , g = t h i s . c u r r e n t T h e m e N a m e + " / " + a ; i f ( g   i n   r ) r e t u r n   r [ g ] ; v a r   i = h . g e t ( " c o r e _ t e m p l a t e / " + g ) ; i f ( i ) r e t u r n   q [ g ] = i , r [ g ] = b . D e f e r r e d ( ) . r e s o l v e ( i ) . p r o m i s e ( ) , r [ g ] ; v a r   j = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ o u t p u t _ l o a d _ t e m p l a t e " , a r g s : { c o m p o n e n t : e , t e m p l a t e : f , t h e m e n a m e : t h i s . c u r r e n t T h e m e N a m e } } ] , ! 0 , ! 1 ) ; r e t u r n   r [ g ] = j [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   q [ g ] = a , h . s e t ( " c o r e _ t e m p l a t e / " + g , a ) , a } ) , r [ g ] } , u . p r o t o t y p e . p a r t i a l H e l p e r = f u n c t i o n ( a ) { v a r   b = t h i s . c u r r e n t T h e m e N a m e + " / " + a ; r e t u r n   b   i n   q | | e . e x c e p t i o n ( n e w   E r r o r ( " F a i l e d   t o   p r e - f e t c h   t h e   t e m p l a t e :   " + a ) ) , q [ b ] } , u . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , c , d ) { v a r   f = g . i c o n s y s t e m m o d u l e , h = b . D e f e r r e d ( ) ; r e t u r n   r e q u i r e ( [ f ] , f u n c t i o n ( a ) { v a r   b = n e w   a ; b   i n s t a n c e o f   i ? ( t = b , b . i n i t ( ) . t h e n ( h . r e s o l v e ) [ " c a t c h " ] ( e . e x c e p t i o n ) ) : h . r e j e c t ( " I n v a l i d   i c o n   s y s t e m   s p e c i f i e d " + g . i c o n s y s t e m m o d u l e ) } ) , h . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . g e t T e m p l a t e ( a . g e t T e m p l a t e N a m e ( ) ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   t . r e n d e r I c o n ( a , c , d , b ) } ) } , u . p r o t o t y p e . p i x H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = b . s p l i t ( " , " ) , e = " " , f = " " , g = " " ; d . l e n g t h > 0 & & ( e = c ( d . s h i f t ( ) . t r i m ( ) , a ) ) , d . l e n g t h > 0 & & ( f = c ( d . s h i f t ( ) . t r i m ( ) , a ) ) , d . l e n g t h > 0 & & ( g = c ( d . j o i n ( " , " ) . t r i m ( ) , a ) ) ; v a r   h = t . g e t T e m p l a t e N a m e ( ) , i = t h i s . c u r r e n t T h e m e N a m e + " / " + h , j = q [ i ] ; r e t u r n   e = e . r e p l a c e ( / & # x 2 F ; / g i , " / " ) , t . r e n d e r I c o n ( e , f , g , j ) } , u . p r o t o t y p e . j s H e l p e r = f u n c t i o n ( a , b , c ) { r e t u r n   t h i s . r e q u i r e d J S . p u s h ( c ( b , a ) ) , " " } , u . p r o t o t y p e . s t r i n g H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = b . s p l i t ( " , " ) , e = " " , f = " " , g = " " ; d . l e n g t h > 0 & & ( e = d . s h i f t ( ) . t r i m ( ) ) , d . l e n g t h > 0 & & ( f = d . s h i f t ( ) . t r i m ( ) ) , d . l e n g t h > 0 & & ( g = d . j o i n ( " , " ) . t r i m ( ) ) , " " ! = = g & & ( g = c ( g , a ) ) , 0 = = = g . i n d e x O f ( " { " ) & & 0 ! = = g . i n d e x O f ( " { { " ) & & ( g = J S O N . p a r s e ( g ) ) ; v a r   h = t h i s . r e q u i r e d S t r i n g s . l e n g t h ; r e t u r n   t h i s . r e q u i r e d S t r i n g s . p u s h ( { k e y : e , c o m p o n e n t : f , p a r a m : g } ) , " [ [ _ s " + h + " ] ] " } , u . p r o t o t y p e . q u o t e H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = c ( b . t r i m ( ) , a ) ; r e t u r n   d = d . r e p l a c e ( ' " ' , ' \ \ " ' ) . r e p l a c e ( / ( [ \ { \ } ] { 2 , 3 } ) / g , " { { = < %   % > = } } $ 1 < % = { {   } } = % > " ) , ' " ' + d + ' " ' } , u . p r o t o t y p e . s h o r t e n T e x t H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = / ( . * ? ) , ( . * ) / , e = b . m a t c h ( d ) , f = e [ 1 ] . t r i m ( ) , g = e [ 2 ] . t r i m ( ) , h = c ( g , a ) ; r e t u r n   m . t r u n c a t e ( h , { l e n g t h : f , w o r d s : ! 0 , e l l i p s i s : " . . . " } ) } , u . p r o t o t y p e . u s e r D a t e H e l p e r = f u n c t i o n ( a , b , c ) { v a r   d = / ( . * ? ) , ( . * ) / , e = b . m a t c h ( d ) , f = c ( e [ 1 ] . t r i m ( ) , a ) , g = c ( e [ 2 ] . t r i m ( ) , a ) , h = t h i s . r e q u i r e d D a t e s . l e n g t h ; r e t u r n   t h i s . r e q u i r e d D a t e s . p u s h ( { t i m e s t a m p : f , f o r m a t : g } ) , " [ [ _ t _ " + h + " ] ] " } , u . p r o t o t y p e . a d d H e l p e r s = f u n c t i o n ( a , b ) { t h i s . c u r r e n t T h e m e N a m e = b , t h i s . r e q u i r e d S t r i n g s = [ ] , t h i s . r e q u i r e d J S = [ ] , a . u n i q i d = p + + , a . s t r = f u n c t i o n ( ) { r e t u r n   t h i s . s t r i n g H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . p i x = f u n c t i o n ( ) { r e t u r n   t h i s . p i x H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . j s = f u n c t i o n ( ) { r e t u r n   t h i s . j s H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . q u o t e = f u n c t i o n ( ) { r e t u r n   t h i s . q u o t e H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . s h o r t e n t e x t = f u n c t i o n ( ) { r e t u r n   t h i s . s h o r t e n T e x t H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . u s e r d a t e = f u n c t i o n ( ) { r e t u r n   t h i s . u s e r D a t e H e l p e r . b i n d ( t h i s , a ) } . b i n d ( t h i s ) , a . g l o b a l s = { c o n f i g : g } , a . c u r r e n t T h e m e = b } , u . p r o t o t y p e . g e t J S = f u n c t i o n ( ) { v a r   a = " " ; r e t u r n   t h i s . r e q u i r e d J S . l e n g t h > 0 & & ( a = t h i s . r e q u i r e d J S . j o i n ( " ; \ n " ) ) , a } , u . p r o t o t y p e . t r e a t S t r i n g s I n C o n t e n t = f u n c t i o n ( a , b ) { v a r   c , d , e , f , g , h , i = / \ [ \ [ _ s \ d + \ ] \ ] / ; d o { f o r ( c = " " , d = a . s e a r c h ( i ) ; d > - 1 ; ) { c + = a . s u b s t r i n g ( 0 , d ) , a = a . s u b s t r ( d ) , e = " " , f = 4 , g = a . s u b s t r ( f , 1 ) ; d o   e + = g , f + + , g = a . s u b s t r ( f , 1 ) ; w h i l e ( " ] " ! = g ) ; h = b [ p a r s e I n t ( e , 1 0 ) ] , " u n d e f i n e d " = = t y p e o f   h & & ( l . d e b u g ( " C o u l d   n o t   f i n d   s t r i n g   f o r   p a t t e r n   [ [ _ s " + e + " ] ] . " ) , h = " " ) , c + = h , a = a . s u b s t r ( 6 + e . l e n g t h ) , d = a . s e a r c h ( i ) } a = c + a , d = a . s e a r c h ( i ) } w h i l e ( d > - 1 ) ; r e t u r n   a } , u . p r o t o t y p e . t r e a t D a t e s I n C o n t e n t = f u n c t i o n ( a , b ) { r e t u r n   b . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = " \ \ [ \ \ [ _ t _ " + c + " \ \ ] \ \ ] " , e = n e w   R e g E x p ( d , " g " ) ; a = a . r e p l a c e ( e , b ) } ) , a } , u . p r o t o t y p e . d o R e n d e r = f u n c t i o n ( c , e , f ) { t h i s . c u r r e n t T h e m e N a m e = f ; v a r   g = t . g e t T e m p l a t e N a m e ( ) , h = n e w   o ( " c o r e / t e m p l a t e s : d o R e n d e r " ) ; r e t u r n   t h i s . g e t T e m p l a t e ( g ) . t h e n ( f u n c t i o n ( ) { t h i s . a d d H e l p e r s ( e , f ) ; v a r   d = a . r e n d e r ( c , e , t h i s . p a r t i a l H e l p e r . b i n d ( t h i s ) ) ; r e t u r n   b . D e f e r r e d ( ) . r e s o l v e ( d . t r i m ( ) , t h i s . g e t J S ( ) ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   t h i s . r e q u i r e d S t r i n g s . l e n g t h > 0 ? d . g e t _ s t r i n g s ( t h i s . r e q u i r e d S t r i n g s ) . t h e n ( f u n c t i o n ( d ) { r e t u r n   t h i s . r e q u i r e d D a t e s = t h i s . r e q u i r e d D a t e s . m a p ( f u n c t i o n ( a ) { r e t u r n { t i m e s t a m p : t h i s . t r e a t S t r i n g s I n C o n t e n t ( a . t i m e s t a m p , d ) , f o r m a t : t h i s . t r e a t S t r i n g s I n C o n t e n t ( a . f o r m a t , d ) } } . b i n d ( t h i s ) ) , a = t h i s . t r e a t S t r i n g s I n C o n t e n t ( a , d ) , c = t h i s . t r e a t S t r i n g s I n C o n t e n t ( c , d ) , b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) : b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   t h i s . r e q u i r e d D a t e s . l e n g t h > 0 ? n . g e t ( t h i s . r e q u i r e d D a t e s ) . t h e n ( f u n c t i o n ( d ) { r e t u r n   a = t h i s . t r e a t D a t e s I n C o n t e n t ( a , d ) , c = t h i s . t r e a t D a t e s I n C o n t e n t ( c , d ) , b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) : b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   h . r e s o l v e ( ) , b . D e f e r r e d ( ) . r e s o l v e ( a , c ) . p r o m i s e ( ) } ) } ; v a r   v = f u n c t i o n ( a ) { i f ( " " ! = = a . t r i m ( ) ) { v a r   c = b ( " < s c r i p t > " ) . a t t r ( " t y p e " , " t e x t / j a v a s c r i p t " ) . h t m l ( a ) ; b ( " h e a d " ) . a p p e n d ( c ) } } , w = f u n c t i o n ( a , c , d , e ) { v a r   f = b ( a ) ; i f ( f . l e n g t h ) { v a r   g = b ( c ) , h = n u l l ; e ? ( h = n e w   k . N o d e L i s t ( f . c h i l d r e n ( ) . g e t ( ) ) , h . d e s t r o y ( ! 0 ) , f . e m p t y ( ) , f . a p p e n d ( g ) ) : ( h = n e w   k . N o d e L i s t ( f . g e t ( ) ) , h . d e s t r o y ( ! 0 ) , f . r e p l a c e W i t h ( g ) ) , v ( d ) , j . n o t i f y F i l t e r C o n t e n t U p d a t e d ( g ) } } ; u . p r o t o t y p e . s c a n F o r P a r t i a l s = f u n c t i o n ( b ) { v a r   c = a . p a r s e ( b ) , d = [ ] , e = f u n c t i o n ( a , b ) { v a r   c , d ; f o r ( c = 0 ; c < a . l e n g t h ; c + + ) d = a [ c ] , " > " ! = d [ 0 ] & & " < " ! = d [ 0 ] | | b . p u s h ( d [ 1 ] ) , d . l e n g t h > 4 & & e ( d [ 4 ] , b ) } ; r e t u r n   e ( c , d ) , d } , u . p r o t o t y p e . c a c h e P a r t i a l s = f u n c t i o n ( a , c ) { v a r   d = t h i s . c u r r e n t T h e m e N a m e + " / " + a ; r e t u r n   d   i n   s ? s [ d ] : ( c = c | | [ d ] , s [ d ] = b . D e f e r r e d ( ) , t h i s . g e t T e m p l a t e ( a ) . t h e n ( f u n c t i o n ( e ) { v a r   f = t h i s . s c a n F o r P a r t i a l s ( e ) , g = f . f i l t e r ( f u n c t i o n ( b ) { r e t u r n ! ( c . i n d e x O f ( t h i s . c u r r e n t T h e m e N a m e + " / " + b ) > = 0 ) & & b ! = a } . b i n d ( t h i s ) ) , h = g . m a p ( f u n c t i o n ( a ) { r e t u r n   c . p u s h ( t h i s . c u r r e n t T h e m e N a m e + " / " + a ) , t h i s . c a c h e P a r t i a l s ( a , c ) } . b i n d ( t h i s ) ) ; r e t u r n   b . w h e n . a p p l y ( b , h ) . t h e n ( f u n c t i o n ( ) { r e t u r n   s [ d ] . r e s o l v e ( e ) } ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( s [ d ] . r e j e c t ) , s [ d ] ) } , u . p r o t o t y p e . r e n d e r = f u n c t i o n ( a , c , d ) { " u n d e f i n e d " = = t y p e o f   d & & ( d = g . t h e m e ) , t h i s . c u r r e n t T h e m e N a m e = d ; v a r   f = g . i c o n s y s t e m m o d u l e , h = b . D e f e r r e d ( ) ; r e t u r n   r e q u i r e ( [ f ] , f u n c t i o n ( a ) { v a r   b = n e w   a ; b   i n s t a n c e o f   i ? ( t = b , b . i n i t ( ) . t h e n ( h . r e s o l v e ) [ " c a t c h " ] ( e . e x c e p t i o n ) ) : h . r e j e c t ( " I n v a l i d   i c o n   s y s t e m   s p e c i f i e d " + g . i c o n s y s t e m ) } ) , h . t h e n ( f u n c t i o n ( ) { r e t u r n   t h i s . c a c h e P a r t i a l s ( a ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . d o R e n d e r ( a , c , d ) } . b i n d ( t h i s ) ) } ; v a r   x = f u n c t i o n ( a , c , d ) { v a r   e = b ( a ) ; e . l e n g t h & & ( e . p r e p e n d ( c ) , v ( d ) , j . n o t i f y F i l t e r C o n t e n t U p d a t e d ( e ) ) } , y = f u n c t i o n ( a , c , d ) { v a r   e = b ( a ) ; e . l e n g t h & & ( e . a p p e n d ( c ) , v ( d ) , j . n o t i f y F i l t e r C o n t e n t U p d a t e d ( e ) ) } ; r e t u r n { r e n d e r : f u n c t i o n ( a , b , c ) { v a r   d = n e w   u ; r e t u r n   d . r e n d e r ( a , b , c ) } , r e n d e r P i x : f u n c t i o n ( a , b , c ) { v a r   d = n e w   u ; r e t u r n   d . r e n d e r I c o n ( a , b , c ) } , r u n T e m p l a t e J S : v , r e p l a c e N o d e C o n t e n t s : f u n c t i o n ( a , b , c ) { w ( a , b , c , ! 0 ) } , r e p l a c e N o d e : f u n c t i o n ( a , b , c ) { w ( a , b , c , ! 1 ) } , p r e p e n d N o d e C o n t e n t s : f u n c t i o n ( a , b , c ) { x ( a , b , c ) } , a p p e n d N o d e C o n t e n t s : f u n c t i o n ( a , b , c ) { y ( a , b , c ) } } } ) ; 
 d e f i n e ( ' c o r e / a d a p t e r ' ,   [ ] , f u n c t i o n ( ) { r e t u r n   f u n c t i o n   a ( b , c , d ) { f u n c t i o n   e ( g , h ) { i f ( ! c [ g ] ) { i f ( ! b [ g ] ) { v a r   i = " f u n c t i o n " = = t y p e o f   r e q u i r e & & r e q u i r e ; i f ( ! h & & i ) r e t u r n   i ( g , ! 0 ) ; i f ( f ) r e t u r n   f ( g , ! 0 ) ; v a r   j = n e w   E r r o r ( " C a n n o t   f i n d   m o d u l e   ' " + g + " ' " ) ; t h r o w   j . c o d e = " M O D U L E _ N O T _ F O U N D " , j } v a r   k = c [ g ] = { e x p o r t s : { } } ; b [ g ] [ 0 ] . c a l l ( k . e x p o r t s , f u n c t i o n ( a ) { v a r   c = b [ g ] [ 1 ] [ a ] ; r e t u r n   e ( c ? c : a ) } , k , k . e x p o r t s , a , b , c , d ) } r e t u r n   c [ g ] . e x p o r t s } f o r ( v a r   f = " f u n c t i o n " = = t y p e o f   r e q u i r e & & r e q u i r e , g = 0 ; g < d . l e n g t h ; g + + ) e ( d [ g ] ) ; r e t u r n   e } ( { 1 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a , b , c , d , e ) { v a r   f = j . w r i t e R t p D e s c r i p t i o n ( a . k i n d , b ) ; i f ( f + = j . w r i t e I c e P a r a m e t e r s ( a . i c e G a t h e r e r . g e t L o c a l P a r a m e t e r s ( ) ) , f + = j . w r i t e D t l s P a r a m e t e r s ( a . d t l s T r a n s p o r t . g e t L o c a l P a r a m e t e r s ( ) , " o f f e r " = = = c ? " a c t p a s s " : e | | " a c t i v e " ) , f + = " a = m i d : " + a . m i d + " \ r \ n " , f + = a . r t p S e n d e r & & a . r t p R e c e i v e r ? " a = s e n d r e c v \ r \ n " : a . r t p S e n d e r ? " a = s e n d o n l y \ r \ n " : a . r t p R e c e i v e r ? " a = r e c v o n l y \ r \ n " : " a = i n a c t i v e \ r \ n " , a . r t p S e n d e r ) { v a r   g = a . r t p S e n d e r . _ i n i t i a l T r a c k I d | | a . r t p S e n d e r . t r a c k . i d ; a . r t p S e n d e r . _ i n i t i a l T r a c k I d = g ; v a r   h = " m s i d : " + ( d ? d . i d : " - " ) + "   " + g + " \ r \ n " ; f + = " a = " + h , f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c + "   " + h , a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x & & ( f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x . s s r c + "   " + h , f + = " a = s s r c - g r o u p : F I D   " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c + "   " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x . s s r c + " \ r \ n " ) } r e t u r n   f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c + "   c n a m e : " + j . l o c a l C N a m e + " \ r \ n " , a . r t p S e n d e r & & a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x & & ( f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x . s s r c + "   c n a m e : " + j . l o c a l C N a m e + " \ r \ n " ) , f } f u n c t i o n   e ( a , b ) { v a r   c = ! 1 ; r e t u r n   a = J S O N . p a r s e ( J S O N . s t r i n g i f y ( a ) ) , a . f i l t e r ( f u n c t i o n ( a ) { i f ( a & & ( a . u r l s | | a . u r l ) ) { v a r   d = a . u r l s | | a . u r l ; a . u r l & & ! a . u r l s & & c o n s o l e . w a r n ( " R T C I c e S e r v e r . u r l   i s   d e p r e c a t e d !   U s e   u r l s   i n s t e a d . " ) ; v a r   e = " s t r i n g " = = t y p e o f   d ; r e t u r n   e & & ( d = [ d ] ) , d = d . f i l t e r ( f u n c t i o n ( a ) { v a r   d = 0 = = = a . i n d e x O f ( " t u r n : " ) & & a . i n d e x O f ( " t r a n s p o r t = u d p " ) ! = = - 1 & & a . i n d e x O f ( " t u r n : [ " ) = = = - 1 & & ! c ; r e t u r n   d ? ( c = ! 0 , ! 0 ) : 0 = = = a . i n d e x O f ( " s t u n : " ) & & b > = 1 4 3 9 3 & & a . i n d e x O f ( " ? t r a n s p o r t = u d p " ) = = = - 1 } ) , d e l e t e   a . u r l , a . u r l s = e ? d [ 0 ] : d , ! ! d . l e n g t h } } ) } f u n c t i o n   f ( a , b ) { v a r   c = { c o d e c s : [ ] , h e a d e r E x t e n s i o n s : [ ] , f e c M e c h a n i s m s : [ ] } , d = f u n c t i o n ( a , b ) { a = p a r s e I n t ( a , 1 0 ) ; f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) i f ( b [ c ] . p a y l o a d T y p e = = = a | | b [ c ] . p r e f e r r e d P a y l o a d T y p e = = = a ) r e t u r n   b [ c ] } , e = f u n c t i o n ( a , b , c , e ) { v a r   f = d ( a . p a r a m e t e r s . a p t , c ) , g = d ( b . p a r a m e t e r s . a p t , e ) ; r e t u r n   f & & g & & f . n a m e . t o L o w e r C a s e ( ) = = = g . n a m e . t o L o w e r C a s e ( ) } ; r e t u r n   a . c o d e c s . f o r E a c h ( f u n c t i o n ( d ) { f o r ( v a r   f = 0 ; f < b . c o d e c s . l e n g t h ; f + + ) { v a r   g = b . c o d e c s [ f ] ; i f ( d . n a m e . t o L o w e r C a s e ( ) = = = g . n a m e . t o L o w e r C a s e ( ) & & d . c l o c k R a t e = = = g . c l o c k R a t e ) { i f ( " r t x " = = = d . n a m e . t o L o w e r C a s e ( ) & & d . p a r a m e t e r s & & g . p a r a m e t e r s . a p t & & ! e ( d , g , a . c o d e c s , b . c o d e c s ) ) c o n t i n u e ; g = J S O N . p a r s e ( J S O N . s t r i n g i f y ( g ) ) , g . n u m C h a n n e l s = M a t h . m i n ( d . n u m C h a n n e l s , g . n u m C h a n n e l s ) , c . c o d e c s . p u s h ( g ) , g . r t c p F e e d b a c k = g . r t c p F e e d b a c k . f i l t e r ( f u n c t i o n ( a ) { f o r ( v a r   b = 0 ; b < d . r t c p F e e d b a c k . l e n g t h ; b + + ) i f ( d . r t c p F e e d b a c k [ b ] . t y p e = = = a . t y p e & & d . r t c p F e e d b a c k [ b ] . p a r a m e t e r = = = a . p a r a m e t e r ) r e t u r n ! 0 ; r e t u r n ! 1 } ) ; b r e a k } } } ) , a . h e a d e r E x t e n s i o n s . f o r E a c h ( f u n c t i o n ( a ) { f o r ( v a r   d = 0 ; d < b . h e a d e r E x t e n s i o n s . l e n g t h ; d + + ) { v a r   e = b . h e a d e r E x t e n s i o n s [ d ] ; i f ( a . u r i = = = e . u r i ) { c . h e a d e r E x t e n s i o n s . p u s h ( e ) ; b r e a k } } } ) , c } f u n c t i o n   g ( a , b , c ) { r e t u r n { o f f e r : { s e t L o c a l D e s c r i p t i o n : [ " s t a b l e " , " h a v e - l o c a l - o f f e r " ] , s e t R e m o t e D e s c r i p t i o n : [ " s t a b l e " , " h a v e - r e m o t e - o f f e r " ] } , a n s w e r : { s e t L o c a l D e s c r i p t i o n : [ " h a v e - r e m o t e - o f f e r " , " h a v e - l o c a l - p r a n s w e r " ] , s e t R e m o t e D e s c r i p t i o n : [ " h a v e - l o c a l - o f f e r " , " h a v e - r e m o t e - p r a n s w e r " ] } } [ b ] [ a ] . i n d e x O f ( c ) ! = = - 1 } f u n c t i o n   h ( a , b ) { v a r   c = a . g e t R e m o t e C a n d i d a t e s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   b . f o u n d a t i o n = = = a . f o u n d a t i o n & & b . i p = = = a . i p & & b . p o r t = = = a . p o r t & & b . p r i o r i t y = = = a . p r i o r i t y & & b . p r o t o c o l = = = a . p r o t o c o l & & b . t y p e = = = a . t y p e } ) ; r e t u r n   c | | a . a d d R e m o t e C a n d i d a t e ( b ) , ! c } f u n c t i o n   i ( a , b ) { v a r   c = n e w   E r r o r ( b ) ; r e t u r n   c . n a m e = a , c . c o d e = { N o t S u p p o r t e d E r r o r : 9 , I n v a l i d S t a t e E r r o r : 1 1 , I n v a l i d A c c e s s E r r o r : 1 5 , T y p e E r r o r : v o i d   0 , O p e r a t i o n E r r o r : v o i d   0 } [ a ] , c } v a r   j = a ( " s d p " ) ; b . e x p o r t s = f u n c t i o n ( a , b ) { f u n c t i o n   c ( b , c ) { c . a d d T r a c k ( b ) , c . d i s p a t c h E v e n t ( n e w   a . M e d i a S t r e a m T r a c k E v e n t ( " a d d t r a c k " , { t r a c k : b } ) ) } f u n c t i o n   k ( b , c ) { c . r e m o v e T r a c k ( b ) , c . d i s p a t c h E v e n t ( n e w   a . M e d i a S t r e a m T r a c k E v e n t ( " r e m o v e t r a c k " , { t r a c k : b } ) ) } f u n c t i o n   l ( b , c , d , e ) { v a r   f = n e w   E v e n t ( " t r a c k " ) ; f . t r a c k = c , f . r e c e i v e r = d , f . t r a n s c e i v e r = { r e c e i v e r : d } , f . s t r e a m s = e , a . s e t T i m e o u t ( f u n c t i o n ( ) { b . _ d i s p a t c h E v e n t ( " t r a c k " , f ) } ) } v a r   m = f u n c t i o n ( c ) { v a r   d = t h i s , f = d o c u m e n t . c r e a t e D o c u m e n t F r a g m e n t ( ) ; i f ( [ " a d d E v e n t L i s t e n e r " , " r e m o v e E v e n t L i s t e n e r " , " d i s p a t c h E v e n t " ] . f o r E a c h ( f u n c t i o n ( a ) { d [ a ] = f [ a ] . b i n d ( f ) } ) , t h i s . c a n T r i c k l e I c e C a n d i d a t e s = n u l l , t h i s . n e e d N e g o t i a t i o n = ! 1 , t h i s . l o c a l S t r e a m s = [ ] , t h i s . r e m o t e S t r e a m s = [ ] , t h i s . l o c a l D e s c r i p t i o n = n u l l , t h i s . r e m o t e D e s c r i p t i o n = n u l l , t h i s . s i g n a l i n g S t a t e = " s t a b l e " , t h i s . i c e C o n n e c t i o n S t a t e = " n e w " , t h i s . c o n n e c t i o n S t a t e = " n e w " , t h i s . i c e G a t h e r i n g S t a t e = " n e w " , c = J S O N . p a r s e ( J S O N . s t r i n g i f y ( c | | { } ) ) , t h i s . u s i n g B u n d l e = " m a x - b u n d l e " = = = c . b u n d l e P o l i c y , " n e g o t i a t e " = = = c . r t c p M u x P o l i c y ) t h r o w   i ( " N o t S u p p o r t e d E r r o r " , " r t c p M u x P o l i c y   ' n e g o t i a t e '   i s   n o t   s u p p o r t e d " ) ; s w i t c h ( c . r t c p M u x P o l i c y | | ( c . r t c p M u x P o l i c y = " r e q u i r e " ) , c . i c e T r a n s p o r t P o l i c y ) { c a s e " a l l " : c a s e " r e l a y " : b r e a k ; d e f a u l t : c . i c e T r a n s p o r t P o l i c y = " a l l " } s w i t c h ( c . b u n d l e P o l i c y ) { c a s e " b a l a n c e d " : c a s e " m a x - c o m p a t " : c a s e " m a x - b u n d l e " : b r e a k ; d e f a u l t : c . b u n d l e P o l i c y = " b a l a n c e d " } i f ( c . i c e S e r v e r s = e ( c . i c e S e r v e r s | | [ ] , b ) , t h i s . _ i c e G a t h e r e r s = [ ] , c . i c e C a n d i d a t e P o o l S i z e ) f o r ( v a r   g = c . i c e C a n d i d a t e P o o l S i z e ; g > 0 ; g - - ) t h i s . _ i c e G a t h e r e r s . p u s h ( n e w   a . R T C I c e G a t h e r e r ( { i c e S e r v e r s : c . i c e S e r v e r s , g a t h e r P o l i c y : c . i c e T r a n s p o r t P o l i c y } ) ) ; e l s e   c . i c e C a n d i d a t e P o o l S i z e = 0 ; t h i s . _ c o n f i g = c , t h i s . t r a n s c e i v e r s = [ ] , t h i s . _ s d p S e s s i o n I d = j . g e n e r a t e S e s s i o n I d ( ) , t h i s . _ s d p S e s s i o n V e r s i o n = 0 , t h i s . _ d t l s R o l e = v o i d   0 , t h i s . _ i s C l o s e d = ! 1 } ; m . p r o t o t y p e . o n i c e c a n d i d a t e = n u l l , m . p r o t o t y p e . o n a d d s t r e a m = n u l l , m . p r o t o t y p e . o n t r a c k = n u l l , m . p r o t o t y p e . o n r e m o v e s t r e a m = n u l l , m . p r o t o t y p e . o n s i g n a l i n g s t a t e c h a n g e = n u l l , m . p r o t o t y p e . o n i c e c o n n e c t i o n s t a t e c h a n g e = n u l l , m . p r o t o t y p e . o n c o n n e c t i o n s t a t e c h a n g e = n u l l , m . p r o t o t y p e . o n i c e g a t h e r i n g s t a t e c h a n g e = n u l l , m . p r o t o t y p e . o n n e g o t i a t i o n n e e d e d = n u l l , m . p r o t o t y p e . o n d a t a c h a n n e l = n u l l , m . p r o t o t y p e . _ d i s p a t c h E v e n t = f u n c t i o n ( a , b ) { t h i s . _ i s C l o s e d | | ( t h i s . d i s p a t c h E v e n t ( b ) , " f u n c t i o n " = = t y p e o f   t h i s [ " o n " + a ] & & t h i s [ " o n " + a ] ( b ) ) } , m . p r o t o t y p e . _ e m i t G a t h e r i n g S t a t e C h a n g e = f u n c t i o n ( ) { v a r   a = n e w   E v e n t ( " i c e g a t h e r i n g s t a t e c h a n g e " ) ; t h i s . _ d i s p a t c h E v e n t ( " i c e g a t h e r i n g s t a t e c h a n g e " , a ) } , m . p r o t o t y p e . g e t C o n f i g u r a t i o n = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o n f i g } , m . p r o t o t y p e . g e t L o c a l S t r e a m s = f u n c t i o n ( ) { r e t u r n   t h i s . l o c a l S t r e a m s } , m . p r o t o t y p e . g e t R e m o t e S t r e a m s = f u n c t i o n ( ) { r e t u r n   t h i s . r e m o t e S t r e a m s } , m . p r o t o t y p e . _ c r e a t e T r a n s c e i v e r = f u n c t i o n ( a , b ) { v a r   c = t h i s . t r a n s c e i v e r s . l e n g t h > 0 , d = { t r a c k : n u l l , i c e G a t h e r e r : n u l l , i c e T r a n s p o r t : n u l l , d t l s T r a n s p o r t : n u l l , l o c a l C a p a b i l i t i e s : n u l l , r e m o t e C a p a b i l i t i e s : n u l l , r t p S e n d e r : n u l l , r t p R e c e i v e r : n u l l , k i n d : a , m i d : n u l l , s e n d E n c o d i n g P a r a m e t e r s : n u l l , r e c v E n c o d i n g P a r a m e t e r s : n u l l , s t r e a m : n u l l , a s s o c i a t e d R e m o t e M e d i a S t r e a m s : [ ] , w a n t R e c e i v e : ! 0 } ; i f ( t h i s . u s i n g B u n d l e & & c ) d . i c e T r a n s p o r t = t h i s . t r a n s c e i v e r s [ 0 ] . i c e T r a n s p o r t , d . d t l s T r a n s p o r t = t h i s . t r a n s c e i v e r s [ 0 ] . d t l s T r a n s p o r t ; e l s e { v a r   e = t h i s . _ c r e a t e I c e A n d D t l s T r a n s p o r t s ( ) ; d . i c e T r a n s p o r t = e . i c e T r a n s p o r t , d . d t l s T r a n s p o r t = e . d t l s T r a n s p o r t } r e t u r n   b | | t h i s . t r a n s c e i v e r s . p u s h ( d ) , d } , m . p r o t o t y p e . a d d T r a c k = f u n c t i o n ( b , c ) { i f ( t h i s . _ i s C l o s e d ) t h r o w   i ( " I n v a l i d S t a t e E r r o r " , " A t t e m p t e d   t o   c a l l   a d d T r a c k   o n   a   c l o s e d   p e e r c o n n e c t i o n . " ) ; v a r   d = t h i s . t r a n s c e i v e r s . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . t r a c k = = = b } ) ; i f ( d ) t h r o w   i ( " I n v a l i d A c c e s s E r r o r " , " T r a c k   a l r e a d y   e x i s t s . " ) ; f o r ( v a r   e , f = 0 ; f < t h i s . t r a n s c e i v e r s . l e n g t h ; f + + ) t h i s . t r a n s c e i v e r s [ f ] . t r a c k | | t h i s . t r a n s c e i v e r s [ f ] . k i n d ! = = b . k i n d | | ( e = t h i s . t r a n s c e i v e r s [ f ] ) ; r e t u r n   e | | ( e = t h i s . _ c r e a t e T r a n s c e i v e r ( b . k i n d ) ) , t h i s . _ m a y b e F i r e N e g o t i a t i o n N e e d e d ( ) , t h i s . l o c a l S t r e a m s . i n d e x O f ( c ) = = = - 1 & & t h i s . l o c a l S t r e a m s . p u s h ( c ) , e . t r a c k = b , e . s t r e a m = c , e . r t p S e n d e r = n e w   a . R T C R t p S e n d e r ( b , e . d t l s T r a n s p o r t ) , e . r t p S e n d e r } , m . p r o t o t y p e . a d d S t r e a m = f u n c t i o n ( a ) { v a r   c = t h i s ; i f ( b > = 1 5 0 2 5 ) a . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( b ) { c . a d d T r a c k ( b , a ) } ) ; e l s e { v a r   d = a . c l o n e ( ) ; a . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a , b ) { v a r   c = d . g e t T r a c k s ( ) [ b ] ; a . a d d E v e n t L i s t e n e r ( " e n a b l e d " , f u n c t i o n ( a ) { c . e n a b l e d = a . e n a b l e d } ) } ) , d . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { c . a d d T r a c k ( a , d ) } ) } } , m . p r o t o t y p e . r e m o v e T r a c k = f u n c t i o n ( b ) { i f ( t h i s . _ i s C l o s e d ) t h r o w   i ( " I n v a l i d S t a t e E r r o r " , " A t t e m p t e d   t o   c a l l   r e m o v e T r a c k   o n   a   c l o s e d   p e e r c o n n e c t i o n . " ) ; i f ( ! ( b   i n s t a n c e o f   a . R T C R t p S e n d e r ) ) t h r o w   n e w   T y p e E r r o r ( " A r g u m e n t   1   o f   R T C P e e r C o n n e c t i o n . r e m o v e T r a c k   d o e s   n o t   i m p l e m e n t   i n t e r f a c e   R T C R t p S e n d e r . " ) ; v a r   c = t h i s . t r a n s c e i v e r s . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . r t p S e n d e r = = = b } ) ; i f ( ! c ) t h r o w   i ( " I n v a l i d A c c e s s E r r o r " , " S e n d e r   w a s   n o t   c r e a t e d   b y   t h i s   c o n n e c t i o n . " ) ; v a r   d = c . s t r e a m ; c . r t p S e n d e r . s t o p ( ) , c . r t p S e n d e r = n u l l , c . t r a c k = n u l l , c . s t r e a m = n u l l ; v a r   e = t h i s . t r a n s c e i v e r s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . s t r e a m } ) ; e . i n d e x O f ( d ) = = = - 1 & & t h i s . l o c a l S t r e a m s . i n d e x O f ( d ) > - 1 & & t h i s . l o c a l S t r e a m s . s p l i c e ( t h i s . l o c a l S t r e a m s . i n d e x O f ( d ) , 1 ) , t h i s . _ m a y b e F i r e N e g o t i a t i o n N e e d e d ( ) } , m . p r o t o t y p e . r e m o v e S t r e a m = f u n c t i o n ( a ) { v a r   b = t h i s ; a . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = b . g e t S e n d e r s ( ) . f i n d ( f u n c t i o n ( b ) { r e t u r n   b . t r a c k = = = a } ) ; c & & b . r e m o v e T r a c k ( c ) } ) } , m . p r o t o t y p e . g e t S e n d e r s = f u n c t i o n ( ) { r e t u r n   t h i s . t r a n s c e i v e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n ! ! a . r t p S e n d e r } ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . r t p S e n d e r } ) } , m . p r o t o t y p e . g e t R e c e i v e r s = f u n c t i o n ( ) { r e t u r n   t h i s . t r a n s c e i v e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n ! ! a . r t p R e c e i v e r } ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . r t p R e c e i v e r } ) } , m . p r o t o t y p e . _ c r e a t e I c e G a t h e r e r = f u n c t i o n ( b , c ) { v a r   d = t h i s ; i f ( c & & b > 0 ) r e t u r n   t h i s . t r a n s c e i v e r s [ 0 ] . i c e G a t h e r e r ; i f ( t h i s . _ i c e G a t h e r e r s . l e n g t h ) r e t u r n   t h i s . _ i c e G a t h e r e r s . s h i f t ( ) ; v a r   e = n e w   a . R T C I c e G a t h e r e r ( { i c e S e r v e r s : t h i s . _ c o n f i g . i c e S e r v e r s , g a t h e r P o l i c y : t h i s . _ c o n f i g . i c e T r a n s p o r t P o l i c y } ) ; r e t u r n   O b j e c t . d e f i n e P r o p e r t y ( e , " s t a t e " , { v a l u e : " n e w " , w r i t a b l e : ! 0 } ) , t h i s . t r a n s c e i v e r s [ b ] . b u f f e r e d C a n d i d a t e E v e n t s = [ ] , t h i s . t r a n s c e i v e r s [ b ] . b u f f e r C a n d i d a t e s = f u n c t i o n ( a ) { v a r   c = ! a . c a n d i d a t e | | 0 = = = O b j e c t . k e y s ( a . c a n d i d a t e ) . l e n g t h ; e . s t a t e = c ? " c o m p l e t e d " : " g a t h e r i n g " , n u l l ! = = d . t r a n s c e i v e r s [ b ] . b u f f e r e d C a n d i d a t e E v e n t s & & d . t r a n s c e i v e r s [ b ] . b u f f e r e d C a n d i d a t e E v e n t s . p u s h ( a ) } , e . a d d E v e n t L i s t e n e r ( " l o c a l c a n d i d a t e " , t h i s . t r a n s c e i v e r s [ b ] . b u f f e r C a n d i d a t e s ) , e } , m . p r o t o t y p e . _ g a t h e r = f u n c t i o n ( b , c ) { v a r   d = t h i s , e = t h i s . t r a n s c e i v e r s [ c ] . i c e G a t h e r e r ; i f ( ! e . o n l o c a l c a n d i d a t e ) { v a r   f = t h i s . t r a n s c e i v e r s [ c ] . b u f f e r e d C a n d i d a t e E v e n t s ; t h i s . t r a n s c e i v e r s [ c ] . b u f f e r e d C a n d i d a t e E v e n t s = n u l l , e . r e m o v e E v e n t L i s t e n e r ( " l o c a l c a n d i d a t e " , t h i s . t r a n s c e i v e r s [ c ] . b u f f e r C a n d i d a t e s ) , e . o n l o c a l c a n d i d a t e = f u n c t i o n ( a ) { i f ( ! ( d . u s i n g B u n d l e & & c > 0 ) ) { v a r   f = n e w   E v e n t ( " i c e c a n d i d a t e " ) ; f . c a n d i d a t e = { s d p M i d : b , s d p M L i n e I n d e x : c } ; v a r   g = a . c a n d i d a t e , h = ! g | | 0 = = = O b j e c t . k e y s ( g ) . l e n g t h ; i f ( h ) " n e w " ! = = e . s t a t e & & " g a t h e r i n g " ! = = e . s t a t e | | ( e . s t a t e = " c o m p l e t e d " ) ; e l s e { " n e w " = = = e . s t a t e & & ( e . s t a t e = " g a t h e r i n g " ) , g . c o m p o n e n t = 1 , g . u f r a g = e . g e t L o c a l P a r a m e t e r s ( ) . u s e r n a m e F r a g m e n t ; v a r   i = j . w r i t e C a n d i d a t e ( g ) ; f . c a n d i d a t e = O b j e c t . a s s i g n ( f . c a n d i d a t e , j . p a r s e C a n d i d a t e ( i ) ) , f . c a n d i d a t e . c a n d i d a t e = i , f . c a n d i d a t e . t o J S O N = f u n c t i o n ( ) { r e t u r n { c a n d i d a t e : f . c a n d i d a t e . c a n d i d a t e , s d p M i d : f . c a n d i d a t e . s d p M i d , s d p M L i n e I n d e x : f . c a n d i d a t e . s d p M L i n e I n d e x , u s e r n a m e F r a g m e n t : f . c a n d i d a t e . u s e r n a m e F r a g m e n t } } } v a r   k = j . g e t M e d i a S e c t i o n s ( d . l o c a l D e s c r i p t i o n . s d p ) ; h ? k [ f . c a n d i d a t e . s d p M L i n e I n d e x ] + = " a = e n d - o f - c a n d i d a t e s \ r \ n " : k [ f . c a n d i d a t e . s d p M L i n e I n d e x ] + = " a = " + f . c a n d i d a t e . c a n d i d a t e + " \ r \ n " , d . l o c a l D e s c r i p t i o n . s d p = j . g e t D e s c r i p t i o n ( d . l o c a l D e s c r i p t i o n . s d p ) + k . j o i n ( " " ) ; v a r   l = d . t r a n s c e i v e r s . e v e r y ( f u n c t i o n ( a ) { r e t u r n   a . i c e G a t h e r e r & & " c o m p l e t e d " = = = a . i c e G a t h e r e r . s t a t e } ) ; " g a t h e r i n g " ! = = d . i c e G a t h e r i n g S t a t e & & ( d . i c e G a t h e r i n g S t a t e = " g a t h e r i n g " , d . _ e m i t G a t h e r i n g S t a t e C h a n g e ( ) ) , h | | d . _ d i s p a t c h E v e n t ( " i c e c a n d i d a t e " , f ) , l & & ( d . _ d i s p a t c h E v e n t ( " i c e c a n d i d a t e " , n e w   E v e n t ( " i c e c a n d i d a t e " ) ) , d . i c e G a t h e r i n g S t a t e = " c o m p l e t e " , d . _ e m i t G a t h e r i n g S t a t e C h a n g e ( ) ) } } , a . s e t T i m e o u t ( f u n c t i o n ( ) { f . f o r E a c h ( f u n c t i o n ( a ) { e . o n l o c a l c a n d i d a t e ( a ) } ) } , 0 ) } } , m . p r o t o t y p e . _ c r e a t e I c e A n d D t l s T r a n s p o r t s = f u n c t i o n ( ) { v a r   b = t h i s , c = n e w   a . R T C I c e T r a n s p o r t ( n u l l ) ; c . o n i c e s t a t e c h a n g e = f u n c t i o n ( ) { b . _ u p d a t e I c e C o n n e c t i o n S t a t e ( ) , b . _ u p d a t e C o n n e c t i o n S t a t e ( ) } ; v a r   d = n e w   a . R T C D t l s T r a n s p o r t ( c ) ; r e t u r n   d . o n d t l s s t a t e c h a n g e = f u n c t i o n ( ) { b . _ u p d a t e C o n n e c t i o n S t a t e ( ) } , d . o n e r r o r = f u n c t i o n ( ) { O b j e c t . d e f i n e P r o p e r t y ( d , " s t a t e " , { v a l u e : " f a i l e d " , w r i t a b l e : ! 0 } ) , b . _ u p d a t e C o n n e c t i o n S t a t e ( ) } , { i c e T r a n s p o r t : c , d t l s T r a n s p o r t : d } } , m . p r o t o t y p e . _ d i s p o s e I c e A n d D t l s T r a n s p o r t s = f u n c t i o n ( a ) { v a r   b = t h i s . t r a n s c e i v e r s [ a ] . i c e G a t h e r e r ; b & & ( d e l e t e   b . o n l o c a l c a n d i d a t e , d e l e t e   t h i s . t r a n s c e i v e r s [ a ] . i c e G a t h e r e r ) ; v a r   c = t h i s . t r a n s c e i v e r s [ a ] . i c e T r a n s p o r t ; c & & ( d e l e t e   c . o n i c e s t a t e c h a n g e , d e l e t e   t h i s . t r a n s c e i v e r s [ a ] . i c e T r a n s p o r t ) ; v a r   d = t h i s . t r a n s c e i v e r s [ a ] . d t l s T r a n s p o r t ; d & & ( d e l e t e   d . o n d t l s s t a t e c h a n g e , d e l e t e   d . o n e r r o r , d e l e t e   t h i s . t r a n s c e i v e r s [ a ] . d t l s T r a n s p o r t ) } , m . p r o t o t y p e . _ t r a n s c e i v e = f u n c t i o n ( a , c , d ) { v a r   e = f ( a . l o c a l C a p a b i l i t i e s , a . r e m o t e C a p a b i l i t i e s ) ; c & & a . r t p S e n d e r & & ( e . e n c o d i n g s = a . s e n d E n c o d i n g P a r a m e t e r s , e . r t c p = { c n a m e : j . l o c a l C N a m e , c o m p o u n d : a . r t c p P a r a m e t e r s . c o m p o u n d } , a . r e c v E n c o d i n g P a r a m e t e r s . l e n g t h & & ( e . r t c p . s s r c = a . r e c v E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c ) , a . r t p S e n d e r . s e n d ( e ) ) , d & & a . r t p R e c e i v e r & & e . c o d e c s . l e n g t h > 0 & & ( " v i d e o " = = = a . k i n d & & a . r e c v E n c o d i n g P a r a m e t e r s & & b < 1 5 0 1 9 & & a . r e c v E n c o d i n g P a r a m e t e r s . f o r E a c h ( f u n c t i o n ( a ) { d e l e t e   a . r t x } ) , a . r e c v E n c o d i n g P a r a m e t e r s . l e n g t h ? e . e n c o d i n g s = a . r e c v E n c o d i n g P a r a m e t e r s : e . e n c o d i n g s = [ { } ] , e . r t c p = { c o m p o u n d : a . r t c p P a r a m e t e r s . c o m p o u n d } , a . r t c p P a r a m e t e r s . c n a m e & & ( e . r t c p . c n a m e = a . r t c p P a r a m e t e r s . c n a m e ) , a . s e n d E n c o d i n g P a r a m e t e r s . l e n g t h & & ( e . r t c p . s s r c = a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c ) , a . r t p R e c e i v e r . r e c e i v e ( e ) ) } , m . p r o t o t y p e . s e t L o c a l D e s c r i p t i o n = f u n c t i o n ( a ) { v a r   b = t h i s ; i f ( [ " o f f e r " , " a n s w e r " ] . i n d e x O f ( a . t y p e ) = = = - 1 ) r e t u r n   P r o m i s e . r e j e c t ( i ( " T y p e E r r o r " , ' U n s u p p o r t e d   t y p e   " ' + a . t y p e + ' " ' ) ) ; i f ( ! g ( " s e t L o c a l D e s c r i p t i o n " , a . t y p e , b . s i g n a l i n g S t a t e ) | | b . _ i s C l o s e d ) r e t u r n   P r o m i s e . r e j e c t ( i ( " I n v a l i d S t a t e E r r o r " , " C a n   n o t   s e t   l o c a l   " + a . t y p e + "   i n   s t a t e   " + b . s i g n a l i n g S t a t e ) ) ; v a r   c , d ; i f ( " o f f e r " = = = a . t y p e ) c = j . s p l i t S e c t i o n s ( a . s d p ) , d = c . s h i f t ( ) , c . f o r E a c h ( f u n c t i o n ( a , c ) { v a r   d = j . p a r s e R t p P a r a m e t e r s ( a ) ; b . t r a n s c e i v e r s [ c ] . l o c a l C a p a b i l i t i e s = d } ) , b . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a , c ) { b . _ g a t h e r ( a . m i d , c ) } ) ; e l s e   i f ( " a n s w e r " = = = a . t y p e ) { c = j . s p l i t S e c t i o n s ( b . r e m o t e D e s c r i p t i o n . s d p ) , d = c . s h i f t ( ) ; v a r   e = j . m a t c h P r e f i x ( d , " a = i c e - l i t e " ) . l e n g t h > 0 ; c . f o r E a c h ( f u n c t i o n ( a , c ) { v a r   g = b . t r a n s c e i v e r s [ c ] , h = g . i c e G a t h e r e r , i = g . i c e T r a n s p o r t , k = g . d t l s T r a n s p o r t , l = g . l o c a l C a p a b i l i t i e s , m = g . r e m o t e C a p a b i l i t i e s , n = j . i s R e j e c t e d ( a ) & & 0 = = = j . m a t c h P r e f i x ( a , " a = b u n d l e - o n l y " ) . l e n g t h ; i f ( ! n & & ! g . r e j e c t e d ) { v a r   o = j . g e t I c e P a r a m e t e r s ( a , d ) , p = j . g e t D t l s P a r a m e t e r s ( a , d ) ; e & & ( p . r o l e = " s e r v e r " ) , b . u s i n g B u n d l e & & 0 ! = = c | | ( b . _ g a t h e r ( g . m i d , c ) , " n e w " = = = i . s t a t e & & i . s t a r t ( h , o , e ? " c o n t r o l l i n g " : " c o n t r o l l e d " ) , " n e w " = = = k . s t a t e & & k . s t a r t ( p ) ) ; v a r   q = f ( l , m ) ; b . _ t r a n s c e i v e ( g , q . c o d e c s . l e n g t h > 0 , ! 1 ) } } ) } r e t u r n   b . l o c a l D e s c r i p t i o n = { t y p e : a . t y p e , s d p : a . s d p } , " o f f e r " = = = a . t y p e ? b . _ u p d a t e S i g n a l i n g S t a t e ( " h a v e - l o c a l - o f f e r " ) : b . _ u p d a t e S i g n a l i n g S t a t e ( " s t a b l e " ) , P r o m i s e . r e s o l v e ( ) } , m . p r o t o t y p e . s e t R e m o t e D e s c r i p t i o n = f u n c t i o n ( d ) { v a r   e = t h i s ; i f ( [ " o f f e r " , " a n s w e r " ] . i n d e x O f ( d . t y p e ) = = = - 1 ) r e t u r n   P r o m i s e . r e j e c t ( i ( " T y p e E r r o r " , ' U n s u p p o r t e d   t y p e   " ' + d . t y p e + ' " ' ) ) ; i f ( ! g ( " s e t R e m o t e D e s c r i p t i o n " , d . t y p e , e . s i g n a l i n g S t a t e ) | | e . _ i s C l o s e d ) r e t u r n   P r o m i s e . r e j e c t ( i ( " I n v a l i d S t a t e E r r o r " , " C a n   n o t   s e t   r e m o t e   " + d . t y p e + "   i n   s t a t e   " + e . s i g n a l i n g S t a t e ) ) ; v a r   f = { } ; e . r e m o t e S t r e a m s . f o r E a c h ( f u n c t i o n ( a ) { f [ a . i d ] = a } ) ; v a r   m = [ ] , n = j . s p l i t S e c t i o n s ( d . s d p ) , o = n . s h i f t ( ) , p = j . m a t c h P r e f i x ( o , " a = i c e - l i t e " ) . l e n g t h > 0 , q = j . m a t c h P r e f i x ( o , " a = g r o u p : B U N D L E   " ) . l e n g t h > 0 ; e . u s i n g B u n d l e = q ; v a r   r = j . m a t c h P r e f i x ( o , " a = i c e - o p t i o n s : " ) [ 0 ] ; r e t u r n   r ? e . c a n T r i c k l e I c e C a n d i d a t e s = r . s u b s t r ( 1 4 ) . s p l i t ( "   " ) . i n d e x O f ( " t r i c k l e " ) > = 0 : e . c a n T r i c k l e I c e C a n d i d a t e s = ! 1 , n . f o r E a c h ( f u n c t i o n ( g , i ) { v a r   l = j . s p l i t L i n e s ( g ) , n = j . g e t K i n d ( g ) , r = j . i s R e j e c t e d ( g ) & & 0 = = = j . m a t c h P r e f i x ( g , " a = b u n d l e - o n l y " ) . l e n g t h , s = l [ 0 ] . s u b s t r ( 2 ) . s p l i t ( "   " ) [ 2 ] , t = j . g e t D i r e c t i o n ( g , o ) , u = j . p a r s e M s i d ( g ) , v = j . g e t M i d ( g ) | | j . g e n e r a t e I d e n t i f i e r ( ) ; i f ( " a p p l i c a t i o n " = = = n & & " D T L S / S C T P " = = = s | | r ) r e t u r n   v o i d ( e . t r a n s c e i v e r s [ i ] = { m i d : v , k i n d : n , r e j e c t e d : ! 0 } ) ; ! r & & e . t r a n s c e i v e r s [ i ] & & e . t r a n s c e i v e r s [ i ] . r e j e c t e d & & ( e . t r a n s c e i v e r s [ i ] = e . _ c r e a t e T r a n s c e i v e r ( n , ! 0 ) ) ; v a r   w , x , y , z , A , B , C , D , E , F , G , H = j . p a r s e R t p P a r a m e t e r s ( g ) ; r | | ( F = j . g e t I c e P a r a m e t e r s ( g , o ) , G = j . g e t D t l s P a r a m e t e r s ( g , o ) , G . r o l e = " c l i e n t " ) , C = j . p a r s e R t p E n c o d i n g P a r a m e t e r s ( g ) ; v a r   I = j . p a r s e R t c p P a r a m e t e r s ( g ) , J = j . m a t c h P r e f i x ( g , " a = e n d - o f - c a n d i d a t e s " , o ) . l e n g t h > 0 , K = j . m a t c h P r e f i x ( g , " a = c a n d i d a t e : " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   j . p a r s e C a n d i d a t e ( a ) } ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   1 = = = a . c o m p o n e n t } ) ; i f ( ( " o f f e r " = = = d . t y p e | | " a n s w e r " = = = d . t y p e ) & & ! r & & q & & i > 0 & & e . t r a n s c e i v e r s [ i ] & & ( e . _ d i s p o s e I c e A n d D t l s T r a n s p o r t s ( i ) , e . t r a n s c e i v e r s [ i ] . i c e G a t h e r e r = e . t r a n s c e i v e r s [ 0 ] . i c e G a t h e r e r , e . t r a n s c e i v e r s [ i ] . i c e T r a n s p o r t = e . t r a n s c e i v e r s [ 0 ] . i c e T r a n s p o r t , e . t r a n s c e i v e r s [ i ] . d t l s T r a n s p o r t = e . t r a n s c e i v e r s [ 0 ] . d t l s T r a n s p o r t , e . t r a n s c e i v e r s [ i ] . r t p S e n d e r & & e . t r a n s c e i v e r s [ i ] . r t p S e n d e r . s e t T r a n s p o r t ( e . t r a n s c e i v e r s [ 0 ] . d t l s T r a n s p o r t ) , e . t r a n s c e i v e r s [ i ] . r t p R e c e i v e r & & e . t r a n s c e i v e r s [ i ] . r t p R e c e i v e r . s e t T r a n s p o r t ( e . t r a n s c e i v e r s [ 0 ] . d t l s T r a n s p o r t ) ) , " o f f e r " ! = = d . t y p e | | r ) " a n s w e r " ! = = d . t y p e | | r | | ( w = e . t r a n s c e i v e r s [ i ] , x = w . i c e G a t h e r e r , y = w . i c e T r a n s p o r t , z = w . d t l s T r a n s p o r t , A = w . r t p R e c e i v e r , B = w . s e n d E n c o d i n g P a r a m e t e r s , D = w . l o c a l C a p a b i l i t i e s , e . t r a n s c e i v e r s [ i ] . r e c v E n c o d i n g P a r a m e t e r s = C , e . t r a n s c e i v e r s [ i ] . r e m o t e C a p a b i l i t i e s = H , e . t r a n s c e i v e r s [ i ] . r t c p P a r a m e t e r s = I , K . l e n g t h & & " n e w " = = = y . s t a t e & & ( ! p & & ! J | | q & & 0 ! = = i ? K . f o r E a c h ( f u n c t i o n ( a ) { h ( w . i c e T r a n s p o r t , a ) } ) : y . s e t R e m o t e C a n d i d a t e s ( K ) ) , q & & 0 ! = = i | | ( " n e w " = = = y . s t a t e & & y . s t a r t ( x , F , " c o n t r o l l i n g " ) , " n e w " = = = z . s t a t e & & z . s t a r t ( G ) ) , e . _ t r a n s c e i v e ( w , " s e n d r e c v " = = = t | | " r e c v o n l y " = = = t , " s e n d r e c v " = = = t | | " s e n d o n l y " = = = t ) , ! A | | " s e n d r e c v " ! = = t & & " s e n d o n l y " ! = = t ? d e l e t e   w . r t p R e c e i v e r : ( E = A . t r a c k , u ? ( f [ u . s t r e a m ] | | ( f [ u . s t r e a m ] = n e w   a . M e d i a S t r e a m ) , c ( E , f [ u . s t r e a m ] ) , m . p u s h ( [ E , A , f [ u . s t r e a m ] ] ) ) : ( f [ " d e f a u l t " ] | | ( f [ " d e f a u l t " ] = n e w   a . M e d i a S t r e a m ) , c ( E , f [ " d e f a u l t " ] ) , m . p u s h ( [ E , A , f [ " d e f a u l t " ] ] ) ) ) ) ; e l s e { w = e . t r a n s c e i v e r s [ i ] | | e . _ c r e a t e T r a n s c e i v e r ( n ) , w . m i d = v , w . i c e G a t h e r e r | | ( w . i c e G a t h e r e r = e . _ c r e a t e I c e G a t h e r e r ( i , q ) ) , K . l e n g t h & & " n e w " = = = w . i c e T r a n s p o r t . s t a t e & & ( ! J | | q & & 0 ! = = i ? K . f o r E a c h ( f u n c t i o n ( a ) { h ( w . i c e T r a n s p o r t , a ) } ) : w . i c e T r a n s p o r t . s e t R e m o t e C a n d i d a t e s ( K ) ) , D = a . R T C R t p R e c e i v e r . g e t C a p a b i l i t i e s ( n ) , b < 1 5 0 1 9 & & ( D . c o d e c s = D . c o d e c s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " r t x " ! = = a . n a m e } ) ) , B = w . s e n d E n c o d i n g P a r a m e t e r s | | [ { s s r c : 1 0 0 1 * ( 2 * i + 2 ) } ] ; v a r   L = ! 1 ; i f ( " s e n d r e c v " = = = t | | " s e n d o n l y " = = = t ) { i f ( L = ! w . r t p R e c e i v e r , A = w . r t p R e c e i v e r | | n e w   a . R T C R t p R e c e i v e r ( w . d t l s T r a n s p o r t , n ) , L ) { v a r   M ; E = A . t r a c k , u & & " - " = = = u . s t r e a m | | ( u ? ( f [ u . s t r e a m ] | | ( f [ u . s t r e a m ] = n e w   a . M e d i a S t r e a m , O b j e c t . d e f i n e P r o p e r t y ( f [ u . s t r e a m ] , " i d " , { g e t : f u n c t i o n ( ) { r e t u r n   u . s t r e a m } } ) ) , O b j e c t . d e f i n e P r o p e r t y ( E , " i d " , { g e t : f u n c t i o n ( ) { r e t u r n   u . t r a c k } } ) , M = f [ u . s t r e a m ] ) : ( f [ " d e f a u l t " ] | | ( f [ " d e f a u l t " ] = n e w   a . M e d i a S t r e a m ) , M = f [ " d e f a u l t " ] ) ) , M & & ( c ( E , M ) , w . a s s o c i a t e d R e m o t e M e d i a S t r e a m s . p u s h ( M ) ) , m . p u s h ( [ E , A , M ] ) } } e l s e   w . r t p R e c e i v e r & & w . r t p R e c e i v e r . t r a c k & & ( w . a s s o c i a t e d R e m o t e M e d i a S t r e a m s . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a . g e t T r a c k s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . i d = = = w . r t p R e c e i v e r . t r a c k . i d } ) ; b & & k ( b , a ) } ) , w . a s s o c i a t e d R e m o t e M e d i a S t r e a m s = [ ] ) ; w . l o c a l C a p a b i l i t i e s = D , w . r e m o t e C a p a b i l i t i e s = H , w . r t p R e c e i v e r = A , w . r t c p P a r a m e t e r s = I , w . s e n d E n c o d i n g P a r a m e t e r s = B , w . r e c v E n c o d i n g P a r a m e t e r s = C , e . _ t r a n s c e i v e ( e . t r a n s c e i v e r s [ i ] , ! 1 , L ) } } ) , v o i d   0 = = = e . _ d t l s R o l e & & ( e . _ d t l s R o l e = " o f f e r " = = = d . t y p e ? " a c t i v e " : " p a s s i v e " ) , e . r e m o t e D e s c r i p t i o n = { t y p e : d . t y p e , s d p : d . s d p } , " o f f e r " = = = d . t y p e ? e . _ u p d a t e S i g n a l i n g S t a t e ( " h a v e - r e m o t e - o f f e r " ) : e . _ u p d a t e S i g n a l i n g S t a t e ( " s t a b l e " ) , O b j e c t . k e y s ( f ) . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = f [ b ] ; i f ( c . g e t T r a c k s ( ) . l e n g t h ) { i f ( e . r e m o t e S t r e a m s . i n d e x O f ( c ) = = = - 1 ) { e . r e m o t e S t r e a m s . p u s h ( c ) ; v a r   d = n e w   E v e n t ( " a d d s t r e a m " ) ; d . s t r e a m = c , a . s e t T i m e o u t ( f u n c t i o n ( ) { e . _ d i s p a t c h E v e n t ( " a d d s t r e a m " , d ) } ) } m . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] , d = a [ 1 ] ; c . i d = = = a [ 2 ] . i d & & l ( e , b , d , [ c ] ) } ) } } ) , m . f o r E a c h ( f u n c t i o n ( a ) { a [ 2 ] | | l ( e , a [ 0 ] , a [ 1 ] , [ ] ) } ) , a . s e t T i m e o u t ( f u n c t i o n ( ) { e & & e . t r a n s c e i v e r s & & e . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a ) { a . i c e T r a n s p o r t & & " n e w " = = = a . i c e T r a n s p o r t . s t a t e & & a . i c e T r a n s p o r t . g e t R e m o t e C a n d i d a t e s ( ) . l e n g t h > 0 & & ( c o n s o l e . w a r n ( " T i m e o u t   f o r   a d d R e m o t e C a n d i d a t e .   C o n s i d e r   s e n d i n g   a n   e n d - o f - c a n d i d a t e s   n o t i f i c a t i o n " ) , a . i c e T r a n s p o r t . a d d R e m o t e C a n d i d a t e ( { } ) ) } ) } , 4 e 3 ) , P r o m i s e . r e s o l v e ( ) } , m . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a ) { a . i c e T r a n s p o r t & & a . i c e T r a n s p o r t . s t o p ( ) , a . d t l s T r a n s p o r t & & a . d t l s T r a n s p o r t . s t o p ( ) , a . r t p S e n d e r & & a . r t p S e n d e r . s t o p ( ) , a . r t p R e c e i v e r & & a . r t p R e c e i v e r . s t o p ( ) } ) , t h i s . _ i s C l o s e d = ! 0 , t h i s . _ u p d a t e S i g n a l i n g S t a t e ( " c l o s e d " ) } , m . p r o t o t y p e . _ u p d a t e S i g n a l i n g S t a t e = f u n c t i o n ( a ) { t h i s . s i g n a l i n g S t a t e = a ; v a r   b = n e w   E v e n t ( " s i g n a l i n g s t a t e c h a n g e " ) ; t h i s . _ d i s p a t c h E v e n t ( " s i g n a l i n g s t a t e c h a n g e " , b ) } , m . p r o t o t y p e . _ m a y b e F i r e N e g o t i a t i o n N e e d e d = f u n c t i o n ( ) { v a r   b = t h i s ; " s t a b l e " = = = t h i s . s i g n a l i n g S t a t e & & t h i s . n e e d N e g o t i a t i o n ! = = ! 0 & & ( t h i s . n e e d N e g o t i a t i o n = ! 0 , a . s e t T i m e o u t ( f u n c t i o n ( ) { i f ( b . n e e d N e g o t i a t i o n ) { b . n e e d N e g o t i a t i o n = ! 1 ; v a r   a = n e w   E v e n t ( " n e g o t i a t i o n n e e d e d " ) ; b . _ d i s p a t c h E v e n t ( " n e g o t i a t i o n n e e d e d " , a ) } } , 0 ) ) } , m . p r o t o t y p e . _ u p d a t e I c e C o n n e c t i o n S t a t e = f u n c t i o n ( ) { v a r   a , b = { " n e w " : 0 , c l o s e d : 0 , c h e c k i n g : 0 , c o n n e c t e d : 0 , c o m p l e t e d : 0 , d i s c o n n e c t e d : 0 , f a i l e d : 0 } ; i f ( t h i s . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a ) { b [ a . i c e T r a n s p o r t . s t a t e ] + + } ) , a = " n e w " , b . f a i l e d > 0 ? a = " f a i l e d " : b . c h e c k i n g > 0 ? a = " c h e c k i n g " : b . d i s c o n n e c t e d > 0 ? a = " d i s c o n n e c t e d " : b [ " n e w " ] > 0 ? a = " n e w " : b . c o n n e c t e d > 0 ? a = " c o n n e c t e d " : b . c o m p l e t e d > 0 & & ( a = " c o m p l e t e d " ) , a ! = = t h i s . i c e C o n n e c t i o n S t a t e ) { t h i s . i c e C o n n e c t i o n S t a t e = a ; v a r   c = n e w   E v e n t ( " i c e c o n n e c t i o n s t a t e c h a n g e " ) ; t h i s . _ d i s p a t c h E v e n t ( " i c e c o n n e c t i o n s t a t e c h a n g e " , c ) } } , m . p r o t o t y p e . _ u p d a t e C o n n e c t i o n S t a t e = f u n c t i o n ( ) { v a r   a , b = { " n e w " : 0 , c l o s e d : 0 , c o n n e c t i n g : 0 , c o n n e c t e d : 0 , c o m p l e t e d : 0 , d i s c o n n e c t e d : 0 , f a i l e d : 0 } ; i f ( t h i s . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a ) { b [ a . i c e T r a n s p o r t . s t a t e ] + + , b [ a . d t l s T r a n s p o r t . s t a t e ] + + } ) , b . c o n n e c t e d + = b . c o m p l e t e d , a = " n e w " , b . f a i l e d > 0 ? a = " f a i l e d " : b . c o n n e c t i n g > 0 ? a = " c o n n e c t i n g " : b . d i s c o n n e c t e d > 0 ? a = " d i s c o n n e c t e d " : b [ " n e w " ] > 0 ? a = " n e w " : b . c o n n e c t e d > 0 & & ( a = " c o n n e c t e d " ) , a ! = = t h i s . c o n n e c t i o n S t a t e ) { t h i s . c o n n e c t i o n S t a t e = a ; v a r   c = n e w   E v e n t ( " c o n n e c t i o n s t a t e c h a n g e " ) ; t h i s . _ d i s p a t c h E v e n t ( " c o n n e c t i o n s t a t e c h a n g e " , c ) } } , m . p r o t o t y p e . c r e a t e O f f e r = f u n c t i o n ( ) { v a r   c = t h i s ; i f ( c . _ i s C l o s e d ) r e t u r n   P r o m i s e . r e j e c t ( i ( " I n v a l i d S t a t e E r r o r " , " C a n   n o t   c a l l   c r e a t e O f f e r   a f t e r   c l o s e " ) ) ; v a r   e = c . t r a n s c e i v e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " a u d i o " = = = a . k i n d } ) . l e n g t h , f = c . t r a n s c e i v e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " v i d e o " = = = a . k i n d } ) . l e n g t h , g = a r g u m e n t s [ 0 ] ; i f ( g ) { i f ( g . m a n d a t o r y | | g . o p t i o n a l ) t h r o w   n e w   T y p e E r r o r ( " L e g a c y   m a n d a t o r y / o p t i o n a l   c o n s t r a i n t s   n o t   s u p p o r t e d . " ) ; v o i d   0 ! = = g . o f f e r T o R e c e i v e A u d i o & & ( e = g . o f f e r T o R e c e i v e A u d i o = = = ! 0 ? 1 : g . o f f e r T o R e c e i v e A u d i o = = = ! 1 ? 0 : g . o f f e r T o R e c e i v e A u d i o ) , v o i d   0 ! = = g . o f f e r T o R e c e i v e V i d e o & & ( f = g . o f f e r T o R e c e i v e V i d e o = = = ! 0 ? 1 : g . o f f e r T o R e c e i v e V i d e o = = = ! 1 ? 0 : g . o f f e r T o R e c e i v e V i d e o ) } f o r ( c . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a ) { " a u d i o " = = = a . k i n d ? ( e - - , e < 0 & & ( a . w a n t R e c e i v e = ! 1 ) ) : " v i d e o " = = = a . k i n d & & ( f - - , f < 0 & & ( a . w a n t R e c e i v e = ! 1 ) ) } ) ; e > 0 | | f > 0 ; ) e > 0 & & ( c . _ c r e a t e T r a n s c e i v e r ( " a u d i o " ) , e - - ) , f > 0 & & ( c . _ c r e a t e T r a n s c e i v e r ( " v i d e o " ) , f - - ) ; v a r   h = j . w r i t e S e s s i o n B o i l e r p l a t e ( c . _ s d p S e s s i o n I d , c . _ s d p S e s s i o n V e r s i o n + + ) ; c . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( d , e ) { v a r   f = d . t r a c k , g = d . k i n d , h = d . m i d | | j . g e n e r a t e I d e n t i f i e r ( ) ; d . m i d = h , d . i c e G a t h e r e r | | ( d . i c e G a t h e r e r = c . _ c r e a t e I c e G a t h e r e r ( e , c . u s i n g B u n d l e ) ) ; v a r   i = a . R T C R t p S e n d e r . g e t C a p a b i l i t i e s ( g ) ; b < 1 5 0 1 9 & & ( i . c o d e c s = i . c o d e c s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " r t x " ! = = a . n a m e } ) ) , i . c o d e c s . f o r E a c h ( f u n c t i o n ( a ) { " H 2 6 4 " = = = a . n a m e & & v o i d   0 = = = a . p a r a m e t e r s [ " l e v e l - a s y m m e t r y - a l l o w e d " ] & & ( a . p a r a m e t e r s [ " l e v e l - a s y m m e t r y - a l l o w e d " ] = " 1 " ) , d . r e m o t e C a p a b i l i t i e s & & d . r e m o t e C a p a b i l i t i e s . c o d e c s & & d . r e m o t e C a p a b i l i t i e s . c o d e c s . f o r E a c h ( f u n c t i o n ( b ) { a . n a m e . t o L o w e r C a s e ( ) = = = b . n a m e . t o L o w e r C a s e ( ) & & a . c l o c k R a t e = = = b . c l o c k R a t e & & ( a . p r e f e r r e d P a y l o a d T y p e = b . p a y l o a d T y p e ) } ) } ) , i . h e a d e r E x t e n s i o n s . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = d . r e m o t e C a p a b i l i t i e s & & d . r e m o t e C a p a b i l i t i e s . h e a d e r E x t e n s i o n s | | [ ] ; b . f o r E a c h ( f u n c t i o n ( b ) { a . u r i = = = b . u r i & & ( a . i d = b . i d ) } ) } ) ; v a r   k = d . s e n d E n c o d i n g P a r a m e t e r s | | [ { s s r c : 1 0 0 1 * ( 2 * e + 1 ) } ] ; f & & b > = 1 5 0 1 9 & & " v i d e o " = = = g & & ! k [ 0 ] . r t x & & ( k [ 0 ] . r t x = { s s r c : k [ 0 ] . s s r c + 1 } ) , d . w a n t R e c e i v e & & ( d . r t p R e c e i v e r = n e w   a . R T C R t p R e c e i v e r ( d . d t l s T r a n s p o r t , g ) ) , d . l o c a l C a p a b i l i t i e s = i , d . s e n d E n c o d i n g P a r a m e t e r s = k } ) , " m a x - c o m p a t " ! = = c . _ c o n f i g . b u n d l e P o l i c y & & ( h + = " a = g r o u p : B U N D L E   " + c . t r a n s c e i v e r s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . m i d } ) . j o i n ( "   " ) + " \ r \ n " ) , h + = " a = i c e - o p t i o n s : t r i c k l e \ r \ n " , c . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a , b ) { h + = d ( a , a . l o c a l C a p a b i l i t i e s , " o f f e r " , a . s t r e a m , c . _ d t l s R o l e ) , h + = " a = r t c p - r s i z e \ r \ n " , ! a . i c e G a t h e r e r | | " n e w " = = = c . i c e G a t h e r i n g S t a t e | | 0 ! = = b & & c . u s i n g B u n d l e | | ( a . i c e G a t h e r e r . g e t L o c a l C a n d i d a t e s ( ) . f o r E a c h ( f u n c t i o n ( a ) { a . c o m p o n e n t = 1 , h + = " a = " + j . w r i t e C a n d i d a t e ( a ) + " \ r \ n " } ) , " c o m p l e t e d " = = = a . i c e G a t h e r e r . s t a t e & & ( h + = " a = e n d - o f - c a n d i d a t e s \ r \ n " ) ) } ) ; v a r   k = n e w   a . R T C S e s s i o n D e s c r i p t i o n ( { t y p e : " o f f e r " , s d p : h } ) ; r e t u r n   P r o m i s e . r e s o l v e ( k ) } , m . p r o t o t y p e . c r e a t e A n s w e r = f u n c t i o n ( ) { v a r   c = t h i s ; i f ( c . _ i s C l o s e d ) r e t u r n   P r o m i s e . r e j e c t ( i ( " I n v a l i d S t a t e E r r o r " , " C a n   n o t   c a l l   c r e a t e A n s w e r   a f t e r   c l o s e " ) ) ; i f ( " h a v e - r e m o t e - o f f e r " ! = = c . s i g n a l i n g S t a t e & & " h a v e - l o c a l - p r a n s w e r " ! = = c . s i g n a l i n g S t a t e ) r e t u r n   P r o m i s e . r e j e c t ( i ( " I n v a l i d S t a t e E r r o r " , " C a n   n o t   c a l l   c r e a t e A n s w e r   i n   s i g n a l i n g S t a t e   " + c . s i g n a l i n g S t a t e ) ) ; v a r   e = j . w r i t e S e s s i o n B o i l e r p l a t e ( c . _ s d p S e s s i o n I d , c . _ s d p S e s s i o n V e r s i o n + + ) ; c . u s i n g B u n d l e & & ( e + = " a = g r o u p : B U N D L E   " + c . t r a n s c e i v e r s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . m i d } ) . j o i n ( "   " ) + " \ r \ n " ) ; v a r   g = j . g e t M e d i a S e c t i o n s ( c . r e m o t e D e s c r i p t i o n . s d p ) . l e n g t h ; c . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( a , h ) { i f ( ! ( h + 1 > g ) ) { i f ( a . r e j e c t e d ) r e t u r n " a p p l i c a t i o n " = = = a . k i n d ? e + = " m = a p p l i c a t i o n   0   D T L S / S C T P   5 0 0 0 \ r \ n " : " a u d i o " = = = a . k i n d ? e + = " m = a u d i o   0   U D P / T L S / R T P / S A V P F   0 \ r \ n a = r t p m a p : 0   P C M U / 8 0 0 0 \ r \ n " : " v i d e o " = = = a . k i n d & & ( e + = " m = v i d e o   0   U D P / T L S / R T P / S A V P F   1 2 0 \ r \ n a = r t p m a p : 1 2 0   V P 8 / 9 0 0 0 0 \ r \ n " ) , v o i d ( e + = " c = I N   I P 4   0 . 0 . 0 . 0 \ r \ n a = i n a c t i v e \ r \ n a = m i d : " + a . m i d + " \ r \ n " ) ; i f ( a . s t r e a m ) { v a r   i ; " a u d i o " = = = a . k i n d ? i = a . s t r e a m . g e t A u d i o T r a c k s ( ) [ 0 ] : " v i d e o " = = = a . k i n d & & ( i = a . s t r e a m . g e t V i d e o T r a c k s ( ) [ 0 ] ) , i & & b > = 1 5 0 1 9 & & " v i d e o " = = = a . k i n d & & ! a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x & & ( a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x = { s s r c : a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c + 1 } ) } v a r   j = f ( a . l o c a l C a p a b i l i t i e s , a . r e m o t e C a p a b i l i t i e s ) , k = j . c o d e c s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " r t x " = = = a . n a m e . t o L o w e r C a s e ( ) } ) . l e n g t h ; ! k & & a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x & & d e l e t e   a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x , e + = d ( a , j , " a n s w e r " , a . s t r e a m , c . _ d t l s R o l e ) , a . r t c p P a r a m e t e r s & & a . r t c p P a r a m e t e r s . r e d u c e d S i z e & & ( e + = " a = r t c p - r s i z e \ r \ n " ) } } ) ; v a r   h = n e w   a . R T C S e s s i o n D e s c r i p t i o n ( { t y p e : " a n s w e r " , s d p : e } ) ; r e t u r n   P r o m i s e . r e s o l v e ( h ) } , m . p r o t o t y p e . a d d I c e C a n d i d a t e = f u n c t i o n ( a ) { v a r   b , c = t h i s ; r e t u r n   a & & v o i d   0 = = = a . s d p M L i n e I n d e x & & ! a . s d p M i d ? P r o m i s e . r e j e c t ( n e w   T y p e E r r o r ( " s d p M L i n e I n d e x   o r   s d p M i d   r e q u i r e d " ) ) : n e w   P r o m i s e ( f u n c t i o n ( d , e ) { i f ( ! c . r e m o t e D e s c r i p t i o n ) r e t u r n   e ( i ( " I n v a l i d S t a t e E r r o r " , " C a n   n o t   a d d   I C E   c a n d i d a t e   w i t h o u t   a   r e m o t e   d e s c r i p t i o n " ) ) ; i f ( a & & " " ! = = a . c a n d i d a t e ) { v a r   f = a . s d p M L i n e I n d e x ; i f ( a . s d p M i d ) f o r ( v a r   g = 0 ; g < c . t r a n s c e i v e r s . l e n g t h ; g + + ) i f ( c . t r a n s c e i v e r s [ g ] . m i d = = = a . s d p M i d ) { f = g ; b r e a k } v a r   k = c . t r a n s c e i v e r s [ f ] ; i f ( ! k ) r e t u r n   e ( i ( " O p e r a t i o n E r r o r " , " C a n   n o t   a d d   I C E   c a n d i d a t e " ) ) ; i f ( k . r e j e c t e d ) r e t u r n   d ( ) ; v a r   l = O b j e c t . k e y s ( a . c a n d i d a t e ) . l e n g t h > 0 ? j . p a r s e C a n d i d a t e ( a . c a n d i d a t e ) : { } ; i f ( " t c p " = = = l . p r o t o c o l & & ( 0 = = = l . p o r t | | 9 = = = l . p o r t ) ) r e t u r n   d ( ) ; i f ( l . c o m p o n e n t & & 1 ! = = l . c o m p o n e n t ) r e t u r n   d ( ) ; i f ( ( 0 = = = f | | f > 0 & & k . i c e T r a n s p o r t ! = = c . t r a n s c e i v e r s [ 0 ] . i c e T r a n s p o r t ) & & ! h ( k . i c e T r a n s p o r t , l ) ) r e t u r n   e ( i ( " O p e r a t i o n E r r o r " , " C a n   n o t   a d d   I C E   c a n d i d a t e " ) ) ; v a r   m = a . c a n d i d a t e . t r i m ( ) ; 0 = = = m . i n d e x O f ( " a = " ) & & ( m = m . s u b s t r ( 2 ) ) , b = j . g e t M e d i a S e c t i o n s ( c . r e m o t e D e s c r i p t i o n . s d p ) , b [ f ] + = " a = " + ( l . t y p e ? m : " e n d - o f - c a n d i d a t e s " ) + " \ r \ n " , c . r e m o t e D e s c r i p t i o n . s d p = j . g e t D e s c r i p t i o n ( c . r e m o t e D e s c r i p t i o n . s d p ) + b . j o i n ( " " ) } e l s e   f o r ( v a r   n = 0 ; n < c . t r a n s c e i v e r s . l e n g t h & & ( c . t r a n s c e i v e r s [ n ] . r e j e c t e d | | ( c . t r a n s c e i v e r s [ n ] . i c e T r a n s p o r t . a d d R e m o t e C a n d i d a t e ( { } ) , b = j . g e t M e d i a S e c t i o n s ( c . r e m o t e D e s c r i p t i o n . s d p ) , b [ n ] + = " a = e n d - o f - c a n d i d a t e s \ r \ n " , c . r e m o t e D e s c r i p t i o n . s d p = j . g e t D e s c r i p t i o n ( c . r e m o t e D e s c r i p t i o n . s d p ) + b . j o i n ( " " ) , ! c . u s i n g B u n d l e ) ) ; n + + ) ; d ( ) } ) } , m . p r o t o t y p e . g e t S t a t s = f u n c t i o n ( ) { v a r   a = [ ] ; t h i s . t r a n s c e i v e r s . f o r E a c h ( f u n c t i o n ( b ) { [ " r t p S e n d e r " , " r t p R e c e i v e r " , " i c e G a t h e r e r " , " i c e T r a n s p o r t " , " d t l s T r a n s p o r t " ] . f o r E a c h ( f u n c t i o n ( c ) { b [ c ] & & a . p u s h ( b [ c ] . g e t S t a t s ( ) ) } ) } ) ; v a r   b = f u n c t i o n ( a ) { r e t u r n { i n b o u n d r t p : " i n b o u n d - r t p " , o u t b o u n d r t p : " o u t b o u n d - r t p " , c a n d i d a t e p a i r : " c a n d i d a t e - p a i r " , l o c a l c a n d i d a t e : " l o c a l - c a n d i d a t e " , r e m o t e c a n d i d a t e : " r e m o t e - c a n d i d a t e " } [ a . t y p e ] | | a . t y p e } ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( c ) { v a r   d = n e w   M a p ; P r o m i s e . a l l ( a ) . t h e n ( f u n c t i o n ( a ) { a . f o r E a c h ( f u n c t i o n ( a ) { O b j e c t . k e y s ( a ) . f o r E a c h ( f u n c t i o n ( c ) { a [ c ] . t y p e = b ( a [ c ] ) , d . s e t ( c , a [ c ] ) } ) } ) , c ( d ) } ) } ) } ; v a r   n = [ " c r e a t e O f f e r " , " c r e a t e A n s w e r " ] ; r e t u r n   n . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = m . p r o t o t y p e [ a ] ; m . p r o t o t y p e [ a ] = f u n c t i o n ( ) { v a r   a = a r g u m e n t s ; r e t u r n " f u n c t i o n " = = t y p e o f   a [ 0 ] | | " f u n c t i o n " = = t y p e o f   a [ 1 ] ? b . a p p l y ( t h i s , [ a r g u m e n t s [ 2 ] ] ) . t h e n ( f u n c t i o n ( b ) { " f u n c t i o n " = = t y p e o f   a [ 0 ] & & a [ 0 ] . a p p l y ( n u l l , [ b ] ) } , f u n c t i o n ( b ) { " f u n c t i o n " = = t y p e o f   a [ 1 ] & & a [ 1 ] . a p p l y ( n u l l , [ b ] ) } ) : b . a p p l y ( t h i s , a r g u m e n t s ) } } ) , n = [ " s e t L o c a l D e s c r i p t i o n " , " s e t R e m o t e D e s c r i p t i o n " , " a d d I c e C a n d i d a t e " ] , n . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = m . p r o t o t y p e [ a ] ; m . p r o t o t y p e [ a ] = f u n c t i o n ( ) { v a r   a = a r g u m e n t s ; r e t u r n " f u n c t i o n " = = t y p e o f   a [ 1 ] | | " f u n c t i o n " = = t y p e o f   a [ 2 ] ? b . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { " f u n c t i o n " = = t y p e o f   a [ 1 ] & & a [ 1 ] . a p p l y ( n u l l ) } , f u n c t i o n ( b ) { " f u n c t i o n " = = t y p e o f   a [ 2 ] & & a [ 2 ] . a p p l y ( n u l l , [ b ] ) } ) : b . a p p l y ( t h i s , a r g u m e n t s ) } } ) , [ " g e t S t a t s " ] . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = m . p r o t o t y p e [ a ] ; m . p r o t o t y p e [ a ] = f u n c t i o n ( ) { v a r   a = a r g u m e n t s ; r e t u r n " f u n c t i o n " = = t y p e o f   a [ 1 ] ? b . a p p l y ( t h i s , a r g u m e n t s ) . t h e n ( f u n c t i o n ( ) { " f u n c t i o n " = = t y p e o f   a [ 1 ] & & a [ 1 ] . a p p l y ( n u l l ) } ) : b . a p p l y ( t h i s , a r g u m e n t s ) } } ) , m } } , { s d p : 2 } ] , 2 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = { } ; d . g e n e r a t e I d e n t i f i e r = f u n c t i o n ( ) { r e t u r n   M a t h . r a n d o m ( ) . t o S t r i n g ( 3 6 ) . s u b s t r ( 2 , 1 0 ) } , d . l o c a l C N a m e = d . g e n e r a t e I d e n t i f i e r ( ) , d . s p l i t L i n e s = f u n c t i o n ( a ) { r e t u r n   a . t r i m ( ) . s p l i t ( " \ n " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t r i m ( ) } ) } , d . s p l i t S e c t i o n s = f u n c t i o n ( a ) { v a r   b = a . s p l i t ( " \ n m = " ) ; r e t u r n   b . m a p ( f u n c t i o n ( a , b ) { r e t u r n ( b > 0 ? " m = " + a : a ) . t r i m ( ) + " \ r \ n " } ) } , d . g e t D e s c r i p t i o n = f u n c t i o n ( a ) { v a r   b = d . s p l i t S e c t i o n s ( a ) ; r e t u r n   b & & b [ 0 ] } , d . g e t M e d i a S e c t i o n s = f u n c t i o n ( a ) { v a r   b = d . s p l i t S e c t i o n s ( a ) ; r e t u r n   b . s h i f t ( ) , b } , d . m a t c h P r e f i x = f u n c t i o n ( a , b ) { r e t u r n   d . s p l i t L i n e s ( a ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   0 = = = a . i n d e x O f ( b ) } ) } , d . p a r s e C a n d i d a t e = f u n c t i o n ( a ) { v a r   b ; b = 0 = = = a . i n d e x O f ( " a = c a n d i d a t e : " ) ? a . s u b s t r i n g ( 1 2 ) . s p l i t ( "   " ) : a . s u b s t r i n g ( 1 0 ) . s p l i t ( "   " ) ; f o r ( v a r   c = { f o u n d a t i o n : b [ 0 ] , c o m p o n e n t : p a r s e I n t ( b [ 1 ] , 1 0 ) , p r o t o c o l : b [ 2 ] . t o L o w e r C a s e ( ) , p r i o r i t y : p a r s e I n t ( b [ 3 ] , 1 0 ) , i p : b [ 4 ] , p o r t : p a r s e I n t ( b [ 5 ] , 1 0 ) , t y p e : b [ 7 ] } , d = 8 ; d < b . l e n g t h ; d + = 2 ) s w i t c h ( b [ d ] ) { c a s e " r a d d r " : c . r e l a t e d A d d r e s s = b [ d + 1 ] ; b r e a k ; c a s e " r p o r t " : c . r e l a t e d P o r t = p a r s e I n t ( b [ d + 1 ] , 1 0 ) ; b r e a k ; c a s e " t c p t y p e " : c . t c p T y p e = b [ d + 1 ] ; b r e a k ; c a s e " u f r a g " : c . u f r a g = b [ d + 1 ] , c . u s e r n a m e F r a g m e n t = b [ d + 1 ] ; b r e a k ; d e f a u l t : c [ b [ d ] ] = b [ d + 1 ] } r e t u r n   c } , d . w r i t e C a n d i d a t e = f u n c t i o n ( a ) { v a r   b = [ ] ; b . p u s h ( a . f o u n d a t i o n ) , b . p u s h ( a . c o m p o n e n t ) , b . p u s h ( a . p r o t o c o l . t o U p p e r C a s e ( ) ) , b . p u s h ( a . p r i o r i t y ) , b . p u s h ( a . i p ) , b . p u s h ( a . p o r t ) ; v a r   c = a . t y p e ; r e t u r n   b . p u s h ( " t y p " ) , b . p u s h ( c ) , " h o s t " ! = = c & & a . r e l a t e d A d d r e s s & & a . r e l a t e d P o r t & & ( b . p u s h ( " r a d d r " ) , b . p u s h ( a . r e l a t e d A d d r e s s ) , b . p u s h ( " r p o r t " ) , b . p u s h ( a . r e l a t e d P o r t ) ) , a . t c p T y p e & & " t c p " = = = a . p r o t o c o l . t o L o w e r C a s e ( ) & & ( b . p u s h ( " t c p t y p e " ) , b . p u s h ( a . t c p T y p e ) ) , ( a . u s e r n a m e F r a g m e n t | | a . u f r a g ) & & ( b . p u s h ( " u f r a g " ) , b . p u s h ( a . u s e r n a m e F r a g m e n t | | a . u f r a g ) ) , " c a n d i d a t e : " + b . j o i n ( "   " ) } , d . p a r s e I c e O p t i o n s = f u n c t i o n ( a ) { r e t u r n   a . s u b s t r ( 1 4 ) . s p l i t ( "   " ) } , d . p a r s e R t p M a p = f u n c t i o n ( a ) { v a r   b = a . s u b s t r ( 9 ) . s p l i t ( "   " ) , c = { p a y l o a d T y p e : p a r s e I n t ( b . s h i f t ( ) , 1 0 ) } ; r e t u r n   b = b [ 0 ] . s p l i t ( " / " ) , c . n a m e = b [ 0 ] , c . c l o c k R a t e = p a r s e I n t ( b [ 1 ] , 1 0 ) , c . n u m C h a n n e l s = 3 = = = b . l e n g t h ? p a r s e I n t ( b [ 2 ] , 1 0 ) : 1 , c } , d . w r i t e R t p M a p = f u n c t i o n ( a ) { v a r   b = a . p a y l o a d T y p e ; r e t u r n   v o i d   0 ! = = a . p r e f e r r e d P a y l o a d T y p e & & ( b = a . p r e f e r r e d P a y l o a d T y p e ) , " a = r t p m a p : " + b + "   " + a . n a m e + " / " + a . c l o c k R a t e + ( 1 ! = = a . n u m C h a n n e l s ? " / " + a . n u m C h a n n e l s : " " ) + " \ r \ n " } , d . p a r s e E x t m a p = f u n c t i o n ( a ) { v a r   b = a . s u b s t r ( 9 ) . s p l i t ( "   " ) ; r e t u r n { i d : p a r s e I n t ( b [ 0 ] , 1 0 ) , d i r e c t i o n : b [ 0 ] . i n d e x O f ( " / " ) > 0 ? b [ 0 ] . s p l i t ( " / " ) [ 1 ] : " s e n d r e c v " , u r i : b [ 1 ] } } , d . w r i t e E x t m a p = f u n c t i o n ( a ) { r e t u r n " a = e x t m a p : " + ( a . i d | | a . p r e f e r r e d I d ) + ( a . d i r e c t i o n & & " s e n d r e c v " ! = = a . d i r e c t i o n ? " / " + a . d i r e c t i o n : " " ) + "   " + a . u r i + " \ r \ n " } , d . p a r s e F m t p = f u n c t i o n ( a ) { f o r ( v a r   b , c = { } , d = a . s u b s t r ( a . i n d e x O f ( "   " ) + 1 ) . s p l i t ( " ; " ) , e = 0 ; e < d . l e n g t h ; e + + ) b = d [ e ] . t r i m ( ) . s p l i t ( " = " ) , c [ b [ 0 ] . t r i m ( ) ] = b [ 1 ] ; r e t u r n   c } , d . w r i t e F m t p = f u n c t i o n ( a ) { v a r   b = " " , c = a . p a y l o a d T y p e ; i f ( v o i d   0 ! = = a . p r e f e r r e d P a y l o a d T y p e & & ( c = a . p r e f e r r e d P a y l o a d T y p e ) , a . p a r a m e t e r s & & O b j e c t . k e y s ( a . p a r a m e t e r s ) . l e n g t h ) { v a r   d = [ ] ; O b j e c t . k e y s ( a . p a r a m e t e r s ) . f o r E a c h ( f u n c t i o n ( b ) { d . p u s h ( b + " = " + a . p a r a m e t e r s [ b ] ) } ) , b + = " a = f m t p : " + c + "   " + d . j o i n ( " ; " ) + " \ r \ n " } r e t u r n   b } , d . p a r s e R t c p F b = f u n c t i o n ( a ) { v a r   b = a . s u b s t r ( a . i n d e x O f ( "   " ) + 1 ) . s p l i t ( "   " ) ; r e t u r n { t y p e : b . s h i f t ( ) , p a r a m e t e r : b . j o i n ( "   " ) } } , d . w r i t e R t c p F b = f u n c t i o n ( a ) { v a r   b = " " , c = a . p a y l o a d T y p e ; r e t u r n   v o i d   0 ! = = a . p r e f e r r e d P a y l o a d T y p e & & ( c = a . p r e f e r r e d P a y l o a d T y p e ) , a . r t c p F e e d b a c k & & a . r t c p F e e d b a c k . l e n g t h & & a . r t c p F e e d b a c k . f o r E a c h ( f u n c t i o n ( a ) { b + = " a = r t c p - f b : " + c + "   " + a . t y p e + ( a . p a r a m e t e r & & a . p a r a m e t e r . l e n g t h ? "   " + a . p a r a m e t e r : " " ) + " \ r \ n " } ) , b } , d . p a r s e S s r c M e d i a = f u n c t i o n ( a ) { v a r   b = a . i n d e x O f ( "   " ) , c = { s s r c : p a r s e I n t ( a . s u b s t r ( 7 , b - 7 ) , 1 0 ) } , d = a . i n d e x O f ( " : " , b ) ; r e t u r n   d > - 1 ? ( c . a t t r i b u t e = a . s u b s t r ( b + 1 , d - b - 1 ) , c . v a l u e = a . s u b s t r ( d + 1 ) ) : c . a t t r i b u t e = a . s u b s t r ( b + 1 ) , c } , d . g e t M i d = f u n c t i o n ( a ) { v a r   b = d . m a t c h P r e f i x ( a , " a = m i d : " ) [ 0 ] ; i f ( b ) r e t u r n   b . s u b s t r ( 6 ) } , d . p a r s e F i n g e r p r i n t = f u n c t i o n ( a ) { v a r   b = a . s u b s t r ( 1 4 ) . s p l i t ( "   " ) ; r e t u r n { a l g o r i t h m : b [ 0 ] . t o L o w e r C a s e ( ) , v a l u e : b [ 1 ] } } , d . g e t D t l s P a r a m e t e r s = f u n c t i o n ( a , b ) { v a r   c = d . m a t c h P r e f i x ( a + b , " a = f i n g e r p r i n t : " ) ; r e t u r n { r o l e : " a u t o " , f i n g e r p r i n t s : c . m a p ( d . p a r s e F i n g e r p r i n t ) } } , d . w r i t e D t l s P a r a m e t e r s = f u n c t i o n ( a , b ) { 
 v a r   c = " a = s e t u p : " + b + " \ r \ n " ; r e t u r n   a . f i n g e r p r i n t s . f o r E a c h ( f u n c t i o n ( a ) { c + = " a = f i n g e r p r i n t : " + a . a l g o r i t h m + "   " + a . v a l u e + " \ r \ n " } ) , c } , d . g e t I c e P a r a m e t e r s = f u n c t i o n ( a , b ) { v a r   c = d . s p l i t L i n e s ( a ) ; c = c . c o n c a t ( d . s p l i t L i n e s ( b ) ) ; v a r   e = { u s e r n a m e F r a g m e n t : c . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   0 = = = a . i n d e x O f ( " a = i c e - u f r a g : " ) } ) [ 0 ] . s u b s t r ( 1 2 ) , p a s s w o r d : c . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   0 = = = a . i n d e x O f ( " a = i c e - p w d : " ) } ) [ 0 ] . s u b s t r ( 1 0 ) } ; r e t u r n   e } , d . w r i t e I c e P a r a m e t e r s = f u n c t i o n ( a ) { r e t u r n " a = i c e - u f r a g : " + a . u s e r n a m e F r a g m e n t + " \ r \ n a = i c e - p w d : " + a . p a s s w o r d + " \ r \ n " } , d . p a r s e R t p P a r a m e t e r s = f u n c t i o n ( a ) { f o r ( v a r   b = { c o d e c s : [ ] , h e a d e r E x t e n s i o n s : [ ] , f e c M e c h a n i s m s : [ ] , r t c p : [ ] } , c = d . s p l i t L i n e s ( a ) , e = c [ 0 ] . s p l i t ( "   " ) , f = 3 ; f < e . l e n g t h ; f + + ) { v a r   g = e [ f ] , h = d . m a t c h P r e f i x ( a , " a = r t p m a p : " + g + "   " ) [ 0 ] ; i f ( h ) { v a r   i = d . p a r s e R t p M a p ( h ) , j = d . m a t c h P r e f i x ( a , " a = f m t p : " + g + "   " ) ; s w i t c h ( i . p a r a m e t e r s = j . l e n g t h ? d . p a r s e F m t p ( j [ 0 ] ) : { } , i . r t c p F e e d b a c k = d . m a t c h P r e f i x ( a , " a = r t c p - f b : " + g + "   " ) . m a p ( d . p a r s e R t c p F b ) , b . c o d e c s . p u s h ( i ) , i . n a m e . t o U p p e r C a s e ( ) ) { c a s e " R E D " : c a s e " U L P F E C " : b . f e c M e c h a n i s m s . p u s h ( i . n a m e . t o U p p e r C a s e ( ) ) } } } r e t u r n   d . m a t c h P r e f i x ( a , " a = e x t m a p : " ) . f o r E a c h ( f u n c t i o n ( a ) { b . h e a d e r E x t e n s i o n s . p u s h ( d . p a r s e E x t m a p ( a ) ) } ) , b } , d . w r i t e R t p D e s c r i p t i o n = f u n c t i o n ( a , b ) { v a r   c = " " ; c + = " m = " + a + "   " , c + = b . c o d e c s . l e n g t h > 0 ? " 9 " : " 0 " , c + = "   U D P / T L S / R T P / S A V P F   " , c + = b . c o d e c s . m a p ( f u n c t i o n ( a ) { r e t u r n   v o i d   0 ! = = a . p r e f e r r e d P a y l o a d T y p e ? a . p r e f e r r e d P a y l o a d T y p e : a . p a y l o a d T y p e } ) . j o i n ( "   " ) + " \ r \ n " , c + = " c = I N   I P 4   0 . 0 . 0 . 0 \ r \ n " , c + = " a = r t c p : 9   I N   I P 4   0 . 0 . 0 . 0 \ r \ n " , b . c o d e c s . f o r E a c h ( f u n c t i o n ( a ) { c + = d . w r i t e R t p M a p ( a ) , c + = d . w r i t e F m t p ( a ) , c + = d . w r i t e R t c p F b ( a ) } ) ; v a r   e = 0 ; r e t u r n   b . c o d e c s . f o r E a c h ( f u n c t i o n ( a ) { a . m a x p t i m e > e & & ( e = a . m a x p t i m e ) } ) , e > 0 & & ( c + = " a = m a x p t i m e : " + e + " \ r \ n " ) , c + = " a = r t c p - m u x \ r \ n " , b . h e a d e r E x t e n s i o n s . f o r E a c h ( f u n c t i o n ( a ) { c + = d . w r i t e E x t m a p ( a ) } ) , c } , d . p a r s e R t p E n c o d i n g P a r a m e t e r s = f u n c t i o n ( a ) { v a r   b , c = [ ] , e = d . p a r s e R t p P a r a m e t e r s ( a ) , f = e . f e c M e c h a n i s m s . i n d e x O f ( " R E D " ) ! = = - 1 , g = e . f e c M e c h a n i s m s . i n d e x O f ( " U L P F E C " ) ! = = - 1 , h = d . m a t c h P r e f i x ( a , " a = s s r c : " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   d . p a r s e S s r c M e d i a ( a ) } ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " c n a m e " = = = a . a t t r i b u t e } ) , i = h . l e n g t h > 0 & & h [ 0 ] . s s r c , j = d . m a t c h P r e f i x ( a , " a = s s r c - g r o u p : F I D " ) . m a p ( f u n c t i o n ( a ) { v a r   b = a . s p l i t ( "   " ) ; r e t u r n   b . s h i f t ( ) , b . m a p ( f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a , 1 0 ) } ) } ) ; j . l e n g t h > 0 & & j [ 0 ] . l e n g t h > 1 & & j [ 0 ] [ 0 ] = = = i & & ( b = j [ 0 ] [ 1 ] ) , e . c o d e c s . f o r E a c h ( f u n c t i o n ( a ) { i f ( " R T X " = = = a . n a m e . t o U p p e r C a s e ( ) & & a . p a r a m e t e r s . a p t ) { v a r   d = { s s r c : i , c o d e c P a y l o a d T y p e : p a r s e I n t ( a . p a r a m e t e r s . a p t , 1 0 ) , r t x : { s s r c : b } } ; c . p u s h ( d ) , f & & ( d = J S O N . p a r s e ( J S O N . s t r i n g i f y ( d ) ) , d . f e c = { s s r c : b , m e c h a n i s m : g ? " r e d + u l p f e c " : " r e d " } , c . p u s h ( d ) ) } } ) , 0 = = = c . l e n g t h & & i & & c . p u s h ( { s s r c : i } ) ; v a r   k = d . m a t c h P r e f i x ( a , " b = " ) ; r e t u r n   k . l e n g t h & & ( k = 0 = = = k [ 0 ] . i n d e x O f ( " b = T I A S : " ) ? p a r s e I n t ( k [ 0 ] . s u b s t r ( 7 ) , 1 0 ) : 0 = = = k [ 0 ] . i n d e x O f ( " b = A S : " ) ? 1 e 3 * p a r s e I n t ( k [ 0 ] . s u b s t r ( 5 ) , 1 0 ) * . 9 5 - 1 6 e 3 : v o i d   0 , c . f o r E a c h ( f u n c t i o n ( a ) { a . m a x B i t r a t e = k } ) ) , c } , d . p a r s e R t c p P a r a m e t e r s = f u n c t i o n ( a ) { v a r   b = { } , c = d . m a t c h P r e f i x ( a , " a = s s r c : " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   d . p a r s e S s r c M e d i a ( a ) } ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " c n a m e " = = = a . a t t r i b u t e } ) [ 0 ] ; c & & ( b . c n a m e = c . v a l u e , b . s s r c = c . s s r c ) ; v a r   e = d . m a t c h P r e f i x ( a , " a = r t c p - r s i z e " ) ; b . r e d u c e d S i z e = e . l e n g t h > 0 , b . c o m p o u n d = 0 = = = e . l e n g t h ; v a r   f = d . m a t c h P r e f i x ( a , " a = r t c p - m u x " ) ; r e t u r n   b . m u x = f . l e n g t h > 0 , b } , d . p a r s e M s i d = f u n c t i o n ( a ) { v a r   b , c = d . m a t c h P r e f i x ( a , " a = m s i d : " ) ; i f ( 1 = = = c . l e n g t h ) r e t u r n   b = c [ 0 ] . s u b s t r ( 7 ) . s p l i t ( "   " ) , { s t r e a m : b [ 0 ] , t r a c k : b [ 1 ] } ; v a r   e = d . m a t c h P r e f i x ( a , " a = s s r c : " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   d . p a r s e S s r c M e d i a ( a ) } ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " m s i d " = = = a . a t t r i b u t e } ) ; r e t u r n   e . l e n g t h > 0 ? ( b = e [ 0 ] . v a l u e . s p l i t ( "   " ) , { s t r e a m : b [ 0 ] , t r a c k : b [ 1 ] } ) : v o i d   0 } , d . g e n e r a t e S e s s i o n I d = f u n c t i o n ( ) { r e t u r n   M a t h . r a n d o m ( ) . t o S t r i n g ( ) . s u b s t r ( 2 , 2 1 ) } , d . w r i t e S e s s i o n B o i l e r p l a t e = f u n c t i o n ( a , b ) { v a r   c , e = v o i d   0 ! = = b ? b : 2 ; r e t u r n   c = a ? a : d . g e n e r a t e S e s s i o n I d ( ) , " v = 0 \ r \ n o = t h i s i s a d a p t e r o r t c   " + c + "   " + e + "   I N   I P 4   1 2 7 . 0 . 0 . 1 \ r \ n s = - \ r \ n t = 0   0 \ r \ n " } , d . w r i t e M e d i a S e c t i o n = f u n c t i o n ( a , b , c , e ) { v a r   f = d . w r i t e R t p D e s c r i p t i o n ( a . k i n d , b ) ; i f ( f + = d . w r i t e I c e P a r a m e t e r s ( a . i c e G a t h e r e r . g e t L o c a l P a r a m e t e r s ( ) ) , f + = d . w r i t e D t l s P a r a m e t e r s ( a . d t l s T r a n s p o r t . g e t L o c a l P a r a m e t e r s ( ) , " o f f e r " = = = c ? " a c t p a s s " : " a c t i v e " ) , f + = " a = m i d : " + a . m i d + " \ r \ n " , f + = a . d i r e c t i o n ? " a = " + a . d i r e c t i o n + " \ r \ n " : a . r t p S e n d e r & & a . r t p R e c e i v e r ? " a = s e n d r e c v \ r \ n " : a . r t p S e n d e r ? " a = s e n d o n l y \ r \ n " : a . r t p R e c e i v e r ? " a = r e c v o n l y \ r \ n " : " a = i n a c t i v e \ r \ n " , a . r t p S e n d e r ) { v a r   g = " m s i d : " + e . i d + "   " + a . r t p S e n d e r . t r a c k . i d + " \ r \ n " ; f + = " a = " + g , f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c + "   " + g , a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x & & ( f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x . s s r c + "   " + g , f + = " a = s s r c - g r o u p : F I D   " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c + "   " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x . s s r c + " \ r \ n " ) } r e t u r n   f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . s s r c + "   c n a m e : " + d . l o c a l C N a m e + " \ r \ n " , a . r t p S e n d e r & & a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x & & ( f + = " a = s s r c : " + a . s e n d E n c o d i n g P a r a m e t e r s [ 0 ] . r t x . s s r c + "   c n a m e : " + d . l o c a l C N a m e + " \ r \ n " ) , f } , d . g e t D i r e c t i o n = f u n c t i o n ( a , b ) { f o r ( v a r   c = d . s p l i t L i n e s ( a ) , e = 0 ; e < c . l e n g t h ; e + + ) s w i t c h ( c [ e ] ) { c a s e " a = s e n d r e c v " : c a s e " a = s e n d o n l y " : c a s e " a = r e c v o n l y " : c a s e " a = i n a c t i v e " : r e t u r n   c [ e ] . s u b s t r ( 2 ) } r e t u r n   b ? d . g e t D i r e c t i o n ( b ) : " s e n d r e c v " } , d . g e t K i n d = f u n c t i o n ( a ) { v a r   b = d . s p l i t L i n e s ( a ) , c = b [ 0 ] . s p l i t ( "   " ) ; r e t u r n   c [ 0 ] . s u b s t r ( 2 ) } , d . i s R e j e c t e d = f u n c t i o n ( a ) { r e t u r n " 0 " = = = a . s p l i t ( "   " , 2 ) [ 1 ] } , d . p a r s e M L i n e = f u n c t i o n ( a ) { v a r   b = d . s p l i t L i n e s ( a ) , c = b [ 0 ] . s u b s t r ( 2 ) . s p l i t ( "   " ) ; r e t u r n { k i n d : c [ 0 ] , p o r t : p a r s e I n t ( c [ 1 ] , 1 0 ) , p r o t o c o l : c [ 2 ] , f m t : c . s l i c e ( 3 ) . j o i n ( "   " ) } } , d . p a r s e O L i n e = f u n c t i o n ( a ) { v a r   b = d . m a t c h P r e f i x ( a , " o = " ) [ 0 ] , c = b . s u b s t r ( 2 ) . s p l i t ( "   " ) ; r e t u r n { u s e r n a m e : c [ 0 ] , s e s s i o n I d : c [ 1 ] , s e s s i o n V e r s i o n : p a r s e I n t ( c [ 2 ] , 1 0 ) , n e t T y p e : c [ 3 ] , a d d r e s s T y p e : c [ 4 ] , a d d r e s s : c [ 5 ] } } , " o b j e c t " = = t y p e o f   b & & ( b . e x p o r t s = d ) } , { } ] , 3 : [ f u n c t i o n ( a , b , c ) { ( f u n c t i o n ( c ) { " u s e   s t r i c t " ; v a r   d = a ( " . / a d a p t e r _ f a c t o r y . j s " ) ; b . e x p o r t s = d ( { w i n d o w : c . w i n d o w } ) } ) . c a l l ( t h i s , " u n d e f i n e d " ! = t y p e o f   g l o b a l ? g l o b a l : " u n d e f i n e d " ! = t y p e o f   s e l f ? s e l f : " u n d e f i n e d " ! = t y p e o f   w i n d o w ? w i n d o w : { } ) } , { " . / a d a p t e r _ f a c t o r y . j s " : 4 } ] , 4 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " . / u t i l s " ) ; b . e x p o r t s = f u n c t i o n ( b , c ) { v a r   e = b & & b . w i n d o w , f = { s h i m C h r o m e : ! 0 , s h i m F i r e f o x : ! 0 , s h i m E d g e : ! 0 , s h i m S a f a r i : ! 0 } ; f o r ( v a r   g   i n   c ) h a s O w n P r o p e r t y . c a l l ( c , g ) & & ( f [ g ] = c [ g ] ) ; v a r   h = d . l o g , i = d . d e t e c t B r o w s e r ( e ) , j = a ( " . / c h r o m e / c h r o m e _ s h i m " ) | | n u l l , k = a ( " . / e d g e / e d g e _ s h i m " ) | | n u l l , l = a ( " . / f i r e f o x / f i r e f o x _ s h i m " ) | | n u l l , m = a ( " . / s a f a r i / s a f a r i _ s h i m " ) | | n u l l , n = a ( " . / c o m m o n _ s h i m " ) | | n u l l , o = { b r o w s e r D e t a i l s : i , c o m m o n S h i m : n , e x t r a c t V e r s i o n : d . e x t r a c t V e r s i o n , d i s a b l e L o g : d . d i s a b l e L o g , d i s a b l e W a r n i n g s : d . d i s a b l e W a r n i n g s } ; s w i t c h ( i . b r o w s e r ) { c a s e " c h r o m e " : i f ( ! j | | ! j . s h i m P e e r C o n n e c t i o n | | ! f . s h i m C h r o m e ) r e t u r n   h ( " C h r o m e   s h i m   i s   n o t   i n c l u d e d   i n   t h i s   a d a p t e r   r e l e a s e . " ) , o ; h ( " a d a p t e r . j s   s h i m m i n g   c h r o m e . " ) , o . b r o w s e r S h i m = j , n . s h i m C r e a t e O b j e c t U R L ( e ) , j . s h i m G e t U s e r M e d i a ( e ) , j . s h i m M e d i a S t r e a m ( e ) , j . s h i m S o u r c e O b j e c t ( e ) , j . s h i m P e e r C o n n e c t i o n ( e ) , j . s h i m O n T r a c k ( e ) , j . s h i m A d d T r a c k R e m o v e T r a c k ( e ) , j . s h i m G e t S e n d e r s W i t h D t m f ( e ) , n . s h i m R T C I c e C a n d i d a t e ( e ) , n . s h i m M a x M e s s a g e S i z e ( e ) , n . s h i m S e n d T h r o w T y p e E r r o r ( e ) ; b r e a k ; c a s e " f i r e f o x " : i f ( ! l | | ! l . s h i m P e e r C o n n e c t i o n | | ! f . s h i m F i r e f o x ) r e t u r n   h ( " F i r e f o x   s h i m   i s   n o t   i n c l u d e d   i n   t h i s   a d a p t e r   r e l e a s e . " ) , o ; h ( " a d a p t e r . j s   s h i m m i n g   f i r e f o x . " ) , o . b r o w s e r S h i m = l , n . s h i m C r e a t e O b j e c t U R L ( e ) , l . s h i m G e t U s e r M e d i a ( e ) , l . s h i m S o u r c e O b j e c t ( e ) , l . s h i m P e e r C o n n e c t i o n ( e ) , l . s h i m O n T r a c k ( e ) , l . s h i m R e m o v e S t r e a m ( e ) , n . s h i m R T C I c e C a n d i d a t e ( e ) , n . s h i m M a x M e s s a g e S i z e ( e ) , n . s h i m S e n d T h r o w T y p e E r r o r ( e ) ; b r e a k ; c a s e " e d g e " : i f ( ! k | | ! k . s h i m P e e r C o n n e c t i o n | | ! f . s h i m E d g e ) r e t u r n   h ( " M S   e d g e   s h i m   i s   n o t   i n c l u d e d   i n   t h i s   a d a p t e r   r e l e a s e . " ) , o ; h ( " a d a p t e r . j s   s h i m m i n g   e d g e . " ) , o . b r o w s e r S h i m = k , n . s h i m C r e a t e O b j e c t U R L ( e ) , k . s h i m G e t U s e r M e d i a ( e ) , k . s h i m P e e r C o n n e c t i o n ( e ) , k . s h i m R e p l a c e T r a c k ( e ) , n . s h i m M a x M e s s a g e S i z e ( e ) , n . s h i m S e n d T h r o w T y p e E r r o r ( e ) ; b r e a k ; c a s e " s a f a r i " : i f ( ! m | | ! f . s h i m S a f a r i ) r e t u r n   h ( " S a f a r i   s h i m   i s   n o t   i n c l u d e d   i n   t h i s   a d a p t e r   r e l e a s e . " ) , o ; h ( " a d a p t e r . j s   s h i m m i n g   s a f a r i . " ) , o . b r o w s e r S h i m = m , n . s h i m C r e a t e O b j e c t U R L ( e ) , m . s h i m R T C I c e S e r v e r U r l s ( e ) , m . s h i m C a l l b a c k s A P I ( e ) , m . s h i m L o c a l S t r e a m s A P I ( e ) , m . s h i m R e m o t e S t r e a m s A P I ( e ) , m . s h i m T r a c k E v e n t T r a n s c e i v e r ( e ) , m . s h i m G e t U s e r M e d i a ( e ) , m . s h i m C r e a t e O f f e r L e g a c y ( e ) , n . s h i m R T C I c e C a n d i d a t e ( e ) , n . s h i m M a x M e s s a g e S i z e ( e ) , n . s h i m S e n d T h r o w T y p e E r r o r ( e ) ; b r e a k ; d e f a u l t : h ( " U n s u p p o r t e d   b r o w s e r ! " ) } r e t u r n   o } } , { " . / c h r o m e / c h r o m e _ s h i m " : 5 , " . / c o m m o n _ s h i m " : 7 , " . / e d g e / e d g e _ s h i m " : 8 , " . / f i r e f o x / f i r e f o x _ s h i m " : 1 0 , " . / s a f a r i / s a f a r i _ s h i m " : 1 2 , " . / u t i l s " : 1 3 } ] , 5 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " . . / u t i l s . j s " ) , e = d . l o g ; b . e x p o r t s = { s h i m G e t U s e r M e d i a : a ( " . / g e t u s e r m e d i a " ) , s h i m M e d i a S t r e a m : f u n c t i o n ( a ) { a . M e d i a S t r e a m = a . M e d i a S t r e a m | | a . w e b k i t M e d i a S t r e a m } , s h i m O n T r a c k : f u n c t i o n ( a ) { i f ( " o b j e c t " ! = t y p e o f   a | | ! a . R T C P e e r C o n n e c t i o n | | " o n t r a c k " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e ) " R T C R t p T r a n s c e i v e r " i n   a | | d . w r a p P e e r C o n n e c t i o n E v e n t ( a , " t r a c k " , f u n c t i o n ( a ) { r e t u r n   a . t r a n s c e i v e r | | ( a . t r a n s c e i v e r = { r e c e i v e r : a . r e c e i v e r } ) , a } ) ; e l s e { O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , " o n t r a c k " , { g e t : f u n c t i o n ( ) { r e t u r n   t h i s . _ o n t r a c k } , s e t : f u n c t i o n ( a ) { t h i s . _ o n t r a c k & & t h i s . r e m o v e E v e n t L i s t e n e r ( " t r a c k " , t h i s . _ o n t r a c k ) , t h i s . a d d E v e n t L i s t e n e r ( " t r a c k " , t h i s . _ o n t r a c k = a ) } } ) ; v a r   b = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . s e t R e m o t e D e s c r i p t i o n ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . s e t R e m o t e D e s c r i p t i o n = f u n c t i o n ( ) { v a r   c = t h i s ; r e t u r n   c . _ o n t r a c k p o l y | | ( c . _ o n t r a c k p o l y = f u n c t i o n ( b ) { b . s t r e a m . a d d E v e n t L i s t e n e r ( " a d d t r a c k " , f u n c t i o n ( d ) { v a r   e ; e = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t R e c e i v e r s ? c . g e t R e c e i v e r s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . t r a c k & & a . t r a c k . i d = = = d . t r a c k . i d } ) : { t r a c k : d . t r a c k } ; v a r   f = n e w   E v e n t ( " t r a c k " ) ; f . t r a c k = d . t r a c k , f . r e c e i v e r = e , f . t r a n s c e i v e r = { r e c e i v e r : e } , f . s t r e a m s = [ b . s t r e a m ] , c . d i s p a t c h E v e n t ( f ) } ) , b . s t r e a m . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( d ) { v a r   e ; e = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t R e c e i v e r s ? c . g e t R e c e i v e r s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . t r a c k & & a . t r a c k . i d = = = d . i d } ) : { t r a c k : d } ; v a r   f = n e w   E v e n t ( " t r a c k " ) ; f . t r a c k = d , f . r e c e i v e r = e , f . t r a n s c e i v e r = { r e c e i v e r : e } , f . s t r e a m s = [ b . s t r e a m ] , c . d i s p a t c h E v e n t ( f ) } ) } , c . a d d E v e n t L i s t e n e r ( " a d d s t r e a m " , c . _ o n t r a c k p o l y ) ) , b . a p p l y ( c , a r g u m e n t s ) } } } , s h i m G e t S e n d e r s W i t h D t m f : f u n c t i o n ( a ) { i f ( " o b j e c t " = = t y p e o f   a & & a . R T C P e e r C o n n e c t i o n & & ! ( " g e t S e n d e r s " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e ) & & " c r e a t e D T M F S e n d e r " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e ) { v a r   b = f u n c t i o n ( a , b ) { r e t u r n { t r a c k : b , g e t   d t m f ( ) { r e t u r n   v o i d   0 = = = t h i s . _ d t m f & & ( " a u d i o " = = = b . k i n d ? t h i s . _ d t m f = a . c r e a t e D T M F S e n d e r ( b ) : t h i s . _ d t m f = n u l l ) , t h i s . _ d t m f } , _ p c : a } } ; i f ( ! a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S e n d e r s ) { a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S e n d e r s = f u n c t i o n ( ) { r e t u r n   t h i s . _ s e n d e r s = t h i s . _ s e n d e r s | | [ ] , t h i s . _ s e n d e r s . s l i c e ( ) } ; v a r   c = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k = f u n c t i o n ( a , d ) { v a r   e = t h i s , f = c . a p p l y ( e , a r g u m e n t s ) ; r e t u r n   f | | ( f = b ( e , a ) , e . _ s e n d e r s . p u s h ( f ) ) , f } ; v a r   d = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e T r a c k ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e T r a c k = f u n c t i o n ( a ) { v a r   b = t h i s ; d . a p p l y ( b , a r g u m e n t s ) ; v a r   c = b . _ s e n d e r s . i n d e x O f ( a ) ; c ! = = - 1 & & b . _ s e n d e r s . s p l i c e ( c , 1 ) } } v a r   e = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d S t r e a m ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d S t r e a m = f u n c t i o n ( a ) { v a r   c = t h i s ; c . _ s e n d e r s = c . _ s e n d e r s | | [ ] , e . a p p l y ( c , [ a ] ) , a . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { c . _ s e n d e r s . p u s h ( b ( c , a ) ) } ) } ; v a r   f = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m = f u n c t i o n ( a ) { v a r   b = t h i s ; b . _ s e n d e r s = b . _ s e n d e r s | | [ ] , f . a p p l y ( b , [ a ] ) , a . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = b . _ s e n d e r s . f i n d ( f u n c t i o n ( b ) { r e t u r n   b . t r a c k = = = a } ) ; c & & b . _ s e n d e r s . s p l i c e ( b . _ s e n d e r s . i n d e x O f ( c ) , 1 ) } ) } } e l s e   i f ( " o b j e c t " = = t y p e o f   a & & a . R T C P e e r C o n n e c t i o n & & " g e t S e n d e r s " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e & & " c r e a t e D T M F S e n d e r " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e & & a . R T C R t p S e n d e r & & ! ( " d t m f " i n   a . R T C R t p S e n d e r . p r o t o t y p e ) ) { v a r   g = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S e n d e r s ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S e n d e r s = f u n c t i o n ( ) { v a r   a = t h i s , b = g . a p p l y ( a , [ ] ) ; r e t u r n   b . f o r E a c h ( f u n c t i o n ( b ) { b . _ p c = a } ) , b } , O b j e c t . d e f i n e P r o p e r t y ( a . R T C R t p S e n d e r . p r o t o t y p e , " d t m f " , { g e t : f u n c t i o n ( ) { r e t u r n   v o i d   0 = = = t h i s . _ d t m f & & ( " a u d i o " = = = t h i s . t r a c k . k i n d ? t h i s . _ d t m f = t h i s . _ p c . c r e a t e D T M F S e n d e r ( t h i s . t r a c k ) : t h i s . _ d t m f = n u l l ) , t h i s . _ d t m f } } ) } } , s h i m S o u r c e O b j e c t : f u n c t i o n ( a ) { v a r   b = a & & a . U R L ; " o b j e c t " = = t y p e o f   a & & ( ! a . H T M L M e d i a E l e m e n t | | " s r c O b j e c t " i n   a . H T M L M e d i a E l e m e n t . p r o t o t y p e | | O b j e c t . d e f i n e P r o p e r t y ( a . H T M L M e d i a E l e m e n t . p r o t o t y p e , " s r c O b j e c t " , { g e t : f u n c t i o n ( ) { r e t u r n   t h i s . _ s r c O b j e c t } , s e t : f u n c t i o n ( a ) { v a r   c = t h i s ; r e t u r n   t h i s . _ s r c O b j e c t = a , t h i s . s r c & & b . r e v o k e O b j e c t U R L ( t h i s . s r c ) , a ? ( t h i s . s r c = b . c r e a t e O b j e c t U R L ( a ) , a . a d d E v e n t L i s t e n e r ( " a d d t r a c k " , f u n c t i o n ( ) { c . s r c & & b . r e v o k e O b j e c t U R L ( c . s r c ) , c . s r c = b . c r e a t e O b j e c t U R L ( a ) } ) , v o i d   a . a d d E v e n t L i s t e n e r ( " r e m o v e t r a c k " , f u n c t i o n ( ) { c . s r c & & b . r e v o k e O b j e c t U R L ( c . s r c ) , c . s r c = b . c r e a t e O b j e c t U R L ( a ) } ) ) : v o i d ( t h i s . s r c = " " ) } } ) ) } , s h i m A d d T r a c k R e m o v e T r a c k W i t h N a t i v e : f u n c t i o n ( a ) { a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t L o c a l S t r e a m s = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   t h i s . _ s h i m m e d L o c a l S t r e a m s = t h i s . _ s h i m m e d L o c a l S t r e a m s | | { } , O b j e c t . k e y s ( t h i s . _ s h i m m e d L o c a l S t r e a m s ) . m a p ( f u n c t i o n ( b ) { r e t u r n   a . _ s h i m m e d L o c a l S t r e a m s [ b ] [ 0 ] } ) } ; v a r   b = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k = f u n c t i o n ( a , c ) { i f ( ! c ) r e t u r n   b . a p p l y ( t h i s , a r g u m e n t s ) ; t h i s . _ s h i m m e d L o c a l S t r e a m s = t h i s . _ s h i m m e d L o c a l S t r e a m s | | { } ; v a r   d = b . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   t h i s . _ s h i m m e d L o c a l S t r e a m s [ c . i d ] ? t h i s . _ s h i m m e d L o c a l S t r e a m s [ c . i d ] . i n d e x O f ( d ) = = = - 1 & & t h i s . _ s h i m m e d L o c a l S t r e a m s [ c . i d ] . p u s h ( d ) : t h i s . _ s h i m m e d L o c a l S t r e a m s [ c . i d ] = [ c , d ] , d } ; v a r   c = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d S t r e a m ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d S t r e a m = f u n c t i o n ( a ) { v a r   b = t h i s ; t h i s . _ s h i m m e d L o c a l S t r e a m s = t h i s . _ s h i m m e d L o c a l S t r e a m s | | { } , a . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = b . g e t S e n d e r s ( ) . f i n d ( f u n c t i o n ( b ) { r e t u r n   b . t r a c k = = = a } ) ; i f ( c ) t h r o w   n e w   D O M E x c e p t i o n ( " T r a c k   a l r e a d y   e x i s t s . " , " I n v a l i d A c c e s s E r r o r " ) } ) ; v a r   d = b . g e t S e n d e r s ( ) ; c . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   e = b . g e t S e n d e r s ( ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   d . i n d e x O f ( a ) = = = - 1 } ) ; t h i s . _ s h i m m e d L o c a l S t r e a m s [ a . i d ] = [ a ] . c o n c a t ( e ) } ; v a r   d = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m = f u n c t i o n ( a ) { r e t u r n   t h i s . _ s h i m m e d L o c a l S t r e a m s = t h i s . _ s h i m m e d L o c a l S t r e a m s | | { } , d e l e t e   t h i s . _ s h i m m e d L o c a l S t r e a m s [ a . i d ] , d . a p p l y ( t h i s , a r g u m e n t s ) } ; v a r   e = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e T r a c k ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e T r a c k = f u n c t i o n ( a ) { v a r   b = t h i s ; r e t u r n   t h i s . _ s h i m m e d L o c a l S t r e a m s = t h i s . _ s h i m m e d L o c a l S t r e a m s | | { } , a & & O b j e c t . k e y s ( t h i s . _ s h i m m e d L o c a l S t r e a m s ) . f o r E a c h ( f u n c t i o n ( c ) { v a r   d = b . _ s h i m m e d L o c a l S t r e a m s [ c ] . i n d e x O f ( a ) ; d ! = = - 1 & & b . _ s h i m m e d L o c a l S t r e a m s [ c ] . s p l i c e ( d , 1 ) , 1 = = = b . _ s h i m m e d L o c a l S t r e a m s [ c ] . l e n g t h & & d e l e t e   b . _ s h i m m e d L o c a l S t r e a m s [ c ] } ) , e . a p p l y ( t h i s , a r g u m e n t s ) } } , s h i m A d d T r a c k R e m o v e T r a c k : f u n c t i o n ( a ) { f u n c t i o n   b ( a , b ) { v a r   c = b . s d p ; r e t u r n   O b j e c t . k e y s ( a . _ r e v e r s e S t r e a m s | | [ ] ) . f o r E a c h ( f u n c t i o n ( b ) { v a r   d = a . _ r e v e r s e S t r e a m s [ b ] , e = a . _ s t r e a m s [ d . i d ] ; c = c . r e p l a c e ( n e w   R e g E x p ( e . i d , " g " ) , d . i d ) } ) , n e w   R T C S e s s i o n D e s c r i p t i o n ( { t y p e : b . t y p e , s d p : c } ) } f u n c t i o n   c ( a , b ) { v a r   c = b . s d p ; r e t u r n   O b j e c t . k e y s ( a . _ r e v e r s e S t r e a m s | | [ ] ) . f o r E a c h ( f u n c t i o n ( b ) { v a r   d = a . _ r e v e r s e S t r e a m s [ b ] , e = a . _ s t r e a m s [ d . i d ] ; c = c . r e p l a c e ( n e w   R e g E x p ( d . i d , " g " ) , e . i d ) } ) , n e w   R T C S e s s i o n D e s c r i p t i o n ( { t y p e : b . t y p e , s d p : c } ) } v a r   e = d . d e t e c t B r o w s e r ( a ) ; i f ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k & & e . v e r s i o n > = 6 5 ) r e t u r n   t h i s . s h i m A d d T r a c k R e m o v e T r a c k W i t h N a t i v e ( a ) ; v a r   f = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t L o c a l S t r e a m s ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t L o c a l S t r e a m s = f u n c t i o n ( ) { v a r   a = t h i s , b = f . a p p l y ( t h i s ) ; r e t u r n   a . _ r e v e r s e S t r e a m s = a . _ r e v e r s e S t r e a m s | | { } , b . m a p ( f u n c t i o n ( b ) { r e t u r n   a . _ r e v e r s e S t r e a m s [ b . i d ] } ) } ; v a r   g = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d S t r e a m ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d S t r e a m = f u n c t i o n ( b ) { v a r   c = t h i s ; i f ( c . _ s t r e a m s = c . _ s t r e a m s | | { } , c . _ r e v e r s e S t r e a m s = c . _ r e v e r s e S t r e a m s | | { } , b . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = c . g e t S e n d e r s ( ) . f i n d ( f u n c t i o n ( b ) { r e t u r n   b . t r a c k = = = a } ) ; i f ( b ) t h r o w   n e w   D O M E x c e p t i o n ( " T r a c k   a l r e a d y   e x i s t s . " , " I n v a l i d A c c e s s E r r o r " ) } ) , ! c . _ r e v e r s e S t r e a m s [ b . i d ] ) { v a r   d = n e w   a . M e d i a S t r e a m ( b . g e t T r a c k s ( ) ) ; c . _ s t r e a m s [ b . i d ] = d , c . _ r e v e r s e S t r e a m s [ d . i d ] = b , b = d } g . a p p l y ( c , [ b ] ) } ; v a r   h = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m = f u n c t i o n ( a ) { v a r   b = t h i s ; b . _ s t r e a m s = b . _ s t r e a m s | | { } , b . _ r e v e r s e S t r e a m s = b . _ r e v e r s e S t r e a m s | | { } , h . a p p l y ( b , [ b . _ s t r e a m s [ a . i d ] | | a ] ) , d e l e t e   b . _ r e v e r s e S t r e a m s [ b . _ s t r e a m s [ a . i d ] ? b . _ s t r e a m s [ a . i d ] . i d : a . i d ] , d e l e t e   b . _ s t r e a m s [ a . i d ] } , a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k = f u n c t i o n ( b , c ) { v a r   d = t h i s ; i f ( " c l o s e d " = = = d . s i g n a l i n g S t a t e ) t h r o w   n e w   D O M E x c e p t i o n ( " T h e   R T C P e e r C o n n e c t i o n ' s   s i g n a l i n g S t a t e   i s   ' c l o s e d ' . " , " I n v a l i d S t a t e E r r o r " ) ; v a r   e = [ ] . s l i c e . c a l l ( a r g u m e n t s , 1 ) ; i f ( 1 ! = = e . l e n g t h | | ! e [ 0 ] . g e t T r a c k s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a = = = b } ) ) t h r o w   n e w   D O M E x c e p t i o n ( " T h e   a d a p t e r . j s   a d d T r a c k   p o l y f i l l   o n l y   s u p p o r t s   a   s i n g l e     s t r e a m   w h i c h   i s   a s s o c i a t e d   w i t h   t h e   s p e c i f i e d   t r a c k . " , " N o t S u p p o r t e d E r r o r " ) ; v a r   f = d . g e t S e n d e r s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . t r a c k = = = b } ) ; i f ( f ) t h r o w   n e w   D O M E x c e p t i o n ( " T r a c k   a l r e a d y   e x i s t s . " , " I n v a l i d A c c e s s E r r o r " ) ; d . _ s t r e a m s = d . _ s t r e a m s | | { } , d . _ r e v e r s e S t r e a m s = d . _ r e v e r s e S t r e a m s | | { } ; v a r   g = d . _ s t r e a m s [ c . i d ] ; i f ( g ) g . a d d T r a c k ( b ) , P r o m i s e . r e s o l v e ( ) . t h e n ( f u n c t i o n ( ) { d . d i s p a t c h E v e n t ( n e w   E v e n t ( " n e g o t i a t i o n n e e d e d " ) ) } ) ; e l s e { v a r   h = n e w   a . M e d i a S t r e a m ( [ b ] ) ; d . _ s t r e a m s [ c . i d ] = h , d . _ r e v e r s e S t r e a m s [ h . i d ] = c , d . a d d S t r e a m ( h ) } r e t u r n   d . g e t S e n d e r s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . t r a c k = = = b } ) } , [ " c r e a t e O f f e r " , " c r e a t e A n s w e r " ] . f o r E a c h ( f u n c t i o n ( c ) { v a r   d = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ c ] ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ c ] = f u n c t i o n ( ) { v a r   a = t h i s , c = a r g u m e n t s , e = a r g u m e n t s . l e n g t h & & " f u n c t i o n " = = t y p e o f   a r g u m e n t s [ 0 ] ; r e t u r n   e ? d . a p p l y ( a , [ f u n c t i o n ( d ) { v a r   e = b ( a , d ) ; c [ 0 ] . a p p l y ( n u l l , [ e ] ) } , f u n c t i o n ( a ) { c [ 1 ] & & c [ 1 ] . a p p l y ( n u l l , a ) } , a r g u m e n t s [ 2 ] ] ) : d . a p p l y ( a , a r g u m e n t s ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   b ( a , c ) } ) } } ) ; v a r   i = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . s e t L o c a l D e s c r i p t i o n ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . s e t L o c a l D e s c r i p t i o n = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a r g u m e n t s . l e n g t h & & a r g u m e n t s [ 0 ] . t y p e ? ( a r g u m e n t s [ 0 ] = c ( a , a r g u m e n t s [ 0 ] ) , i . a p p l y ( a , a r g u m e n t s ) ) : i . a p p l y ( a , a r g u m e n t s ) } ; v a r   j = O b j e c t . g e t O w n P r o p e r t y D e s c r i p t o r ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , " l o c a l D e s c r i p t i o n " ) ; O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , " l o c a l D e s c r i p t i o n " , { g e t : f u n c t i o n ( ) { v a r   a = t h i s , c = j . g e t . a p p l y ( t h i s ) ; r e t u r n " " = = = c . t y p e ? c : b ( a , c ) } } ) , a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e T r a c k = f u n c t i o n ( a ) { v a r   b = t h i s ; i f ( " c l o s e d " = = = b . s i g n a l i n g S t a t e ) t h r o w   n e w   D O M E x c e p t i o n ( " T h e   R T C P e e r C o n n e c t i o n ' s   s i g n a l i n g S t a t e   i s   ' c l o s e d ' . " , " I n v a l i d S t a t e E r r o r " ) ; i f ( ! a . _ p c ) t h r o w   n e w   D O M E x c e p t i o n ( " A r g u m e n t   1   o f   R T C P e e r C o n n e c t i o n . r e m o v e T r a c k   d o e s   n o t   i m p l e m e n t   i n t e r f a c e   R T C R t p S e n d e r . " , " T y p e E r r o r " ) ; v a r   c = a . _ p c = = = b ; i f ( ! c ) t h r o w   n e w   D O M E x c e p t i o n ( " S e n d e r   w a s   n o t   c r e a t e d   b y   t h i s   c o n n e c t i o n . " , " I n v a l i d A c c e s s E r r o r " ) ; b . _ s t r e a m s = b . _ s t r e a m s | | { } ; v a r   d ; O b j e c t . k e y s ( b . _ s t r e a m s ) . f o r E a c h ( f u n c t i o n ( c ) { v a r   e = b . _ s t r e a m s [ c ] . g e t T r a c k s ( ) . f i n d ( f u n c t i o n ( b ) { r e t u r n   a . t r a c k = = = b } ) ; e & & ( d = b . _ s t r e a m s [ c ] ) } ) , d & & ( 1 = = = d . g e t T r a c k s ( ) . l e n g t h ? b . r e m o v e S t r e a m ( b . _ r e v e r s e S t r e a m s [ d . i d ] ) : d . r e m o v e T r a c k ( a . t r a c k ) , b . d i s p a t c h E v e n t ( n e w   E v e n t ( " n e g o t i a t i o n n e e d e d " ) ) ) } } , s h i m P e e r C o n n e c t i o n : f u n c t i o n ( a ) { v a r   b = d . d e t e c t B r o w s e r ( a ) ; i f ( ! a . R T C P e e r C o n n e c t i o n & & a . w e b k i t R T C P e e r C o n n e c t i o n ) a . R T C P e e r C o n n e c t i o n = f u n c t i o n ( b , c ) { r e t u r n   e ( " P e e r C o n n e c t i o n " ) , b & & b . i c e T r a n s p o r t P o l i c y & & ( b . i c e T r a n s p o r t s = b . i c e T r a n s p o r t P o l i c y ) , n e w   a . w e b k i t R T C P e e r C o n n e c t i o n ( b , c ) } , a . R T C P e e r C o n n e c t i o n . p r o t o t y p e = a . w e b k i t R T C P e e r C o n n e c t i o n . p r o t o t y p e , a . w e b k i t R T C P e e r C o n n e c t i o n . g e n e r a t e C e r t i f i c a t e & & O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n , " g e n e r a t e C e r t i f i c a t e " , { g e t : f u n c t i o n ( ) { r e t u r n   a . w e b k i t R T C P e e r C o n n e c t i o n . g e n e r a t e C e r t i f i c a t e } } ) ; e l s e { v a r   c = a . R T C P e e r C o n n e c t i o n ; a . R T C P e e r C o n n e c t i o n = f u n c t i o n ( a , b ) { i f ( a & & a . i c e S e r v e r s ) { f o r ( v a r   e = [ ] , f = 0 ; f < a . i c e S e r v e r s . l e n g t h ; f + + ) { v a r   g = a . i c e S e r v e r s [ f ] ; ! g . h a s O w n P r o p e r t y ( " u r l s " ) & & g . h a s O w n P r o p e r t y ( " u r l " ) ? ( d . d e p r e c a t e d ( " R T C I c e S e r v e r . u r l " , " R T C I c e S e r v e r . u r l s " ) , g = J S O N . p a r s e ( J S O N . s t r i n g i f y ( g ) ) , g . u r l s = g . u r l , e . p u s h ( g ) ) : e . p u s h ( a . i c e S e r v e r s [ f ] ) } a . i c e S e r v e r s = e } r e t u r n   n e w   c ( a , b ) } , a . R T C P e e r C o n n e c t i o n . p r o t o t y p e = c . p r o t o t y p e , O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n , " g e n e r a t e C e r t i f i c a t e " , { g e t : f u n c t i o n ( ) { r e t u r n   c . g e n e r a t e C e r t i f i c a t e } } ) } v a r   f = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S t a t s ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S t a t s = f u n c t i o n ( a , b , c ) { v a r   d = t h i s , e = a r g u m e n t s ; i f ( a r g u m e n t s . l e n g t h > 0 & & " f u n c t i o n " = = t y p e o f   a ) r e t u r n   f . a p p l y ( t h i s , a r g u m e n t s ) ; i f ( 0 = = = f . l e n g t h & & ( 0 = = = a r g u m e n t s . l e n g t h | | " f u n c t i o n " ! = t y p e o f   a r g u m e n t s [ 0 ] ) ) r e t u r n   f . a p p l y ( t h i s , [ ] ) ; v a r   g = f u n c t i o n ( a ) { v a r   b = { } , c = a . r e s u l t ( ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = { i d : a . i d , t i m e s t a m p : a . t i m e s t a m p , t y p e : { l o c a l c a n d i d a t e : " l o c a l - c a n d i d a t e " , r e m o t e c a n d i d a t e : " r e m o t e - c a n d i d a t e " } [ a . t y p e ] | | a . t y p e } ; a . n a m e s ( ) . f o r E a c h ( f u n c t i o n ( b ) { c [ b ] = a . s t a t ( b ) } ) , b [ c . i d ] = c } ) , b } , h = f u n c t i o n ( a ) { r e t u r n   n e w   M a p ( O b j e c t . k e y s ( a ) . m a p ( f u n c t i o n ( b ) { r e t u r n [ b , a [ b ] ] } ) ) } ; i f ( a r g u m e n t s . l e n g t h > = 2 ) { v a r   i = f u n c t i o n ( a ) { e [ 1 ] ( h ( g ( a ) ) ) } ; r e t u r n   f . a p p l y ( t h i s , [ i , a r g u m e n t s [ 0 ] ] ) } r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( a , b ) { f . a p p l y ( d , [ f u n c t i o n ( b ) { a ( h ( g ( b ) ) ) } , b ] ) } ) . t h e n ( b , c ) } , b . v e r s i o n < 5 1 & & [ " s e t L o c a l D e s c r i p t i o n " , " s e t R e m o t e D e s c r i p t i o n " , " a d d I c e C a n d i d a t e " ] . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] = f u n c t i o n ( ) { v a r   a = a r g u m e n t s , b = t h i s , d = n e w   P r o m i s e ( f u n c t i o n ( d , e ) { c . a p p l y ( b , [ a [ 0 ] , d , e ] ) } ) ; r e t u r n   a . l e n g t h < 2 ? d : d . t h e n ( f u n c t i o n ( ) { a [ 1 ] . a p p l y ( n u l l , [ ] ) } , f u n c t i o n ( b ) { a . l e n g t h > = 3 & & a [ 2 ] . a p p l y ( n u l l , [ b ] ) } ) } } ) , b . v e r s i o n < 5 2 & & [ " c r e a t e O f f e r " , " c r e a t e A n s w e r " ] . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] = f u n c t i o n ( ) { v a r   a = t h i s ; i f ( a r g u m e n t s . l e n g t h < 1 | | 1 = = = a r g u m e n t s . l e n g t h & & " o b j e c t " = = t y p e o f   a r g u m e n t s [ 0 ] ) { v a r   b = 1 = = = a r g u m e n t s . l e n g t h ? a r g u m e n t s [ 0 ] : v o i d   0 ; r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( d , e ) { c . a p p l y ( a , [ d , e , b ] ) } ) } r e t u r n   c . a p p l y ( t h i s , a r g u m e n t s ) } } ) , [ " s e t L o c a l D e s c r i p t i o n " , " s e t R e m o t e D e s c r i p t i o n " , " a d d I c e C a n d i d a t e " ] . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] = f u n c t i o n ( ) { r e t u r n   a r g u m e n t s [ 0 ] = n e w ( " a d d I c e C a n d i d a t e " = = = b ? a . R T C I c e C a n d i d a t e : a . R T C S e s s i o n D e s c r i p t i o n ) ( a r g u m e n t s [ 0 ] ) , c . a p p l y ( t h i s , a r g u m e n t s ) } } ) ; v a r   g = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d I c e C a n d i d a t e ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d I c e C a n d i d a t e = f u n c t i o n ( ) { r e t u r n   a r g u m e n t s [ 0 ] ? g . a p p l y ( t h i s , a r g u m e n t s ) : ( a r g u m e n t s [ 1 ] & & a r g u m e n t s [ 1 ] . a p p l y ( n u l l ) , P r o m i s e . r e s o l v e ( ) ) } } } } , { " . . / u t i l s . j s " : 1 3 , " . / g e t u s e r m e d i a " : 6 } ] , 6 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " . . / u t i l s . j s " ) , e = d . l o g ; b . e x p o r t s = f u n c t i o n ( a ) { v a r   b = d . d e t e c t B r o w s e r ( a ) , c = a & & a . n a v i g a t o r , f = f u n c t i o n ( a ) { i f ( " o b j e c t " ! = t y p e o f   a | | a . m a n d a t o r y | | a . o p t i o n a l ) r e t u r n   a ; v a r   b = { } ; r e t u r n   O b j e c t . k e y s ( a ) . f o r E a c h ( f u n c t i o n ( c ) { i f ( " r e q u i r e " ! = = c & & " a d v a n c e d " ! = = c & & " m e d i a S o u r c e " ! = = c ) { v a r   d = " o b j e c t " = = t y p e o f   a [ c ] ? a [ c ] : { i d e a l : a [ c ] } ; v o i d   0 ! = = d . e x a c t & & " n u m b e r " = = t y p e o f   d . e x a c t & & ( d . m i n = d . m a x = d . e x a c t ) ; v a r   e = f u n c t i o n ( a , b ) { r e t u r n   a ? a + b . c h a r A t ( 0 ) . t o U p p e r C a s e ( ) + b . s l i c e ( 1 ) : " d e v i c e I d " = = = b ? " s o u r c e I d " : b } ; i f ( v o i d   0 ! = = d . i d e a l ) { b . o p t i o n a l = b . o p t i o n a l | | [ ] ; v a r   f = { } ; " n u m b e r " = = t y p e o f   d . i d e a l ? ( f [ e ( " m i n " , c ) ] = d . i d e a l , b . o p t i o n a l . p u s h ( f ) , f = { } , f [ e ( " m a x " , c ) ] = d . i d e a l , b . o p t i o n a l . p u s h ( f ) ) : ( f [ e ( " " , c ) ] = d . i d e a l , b . o p t i o n a l . p u s h ( f ) ) } v o i d   0 ! = = d . e x a c t & & " n u m b e r " ! = t y p e o f   d . e x a c t ? ( b . m a n d a t o r y = b . m a n d a t o r y | | { } , b . m a n d a t o r y [ e ( " " , c ) ] = d . e x a c t ) : [ " m i n " , " m a x " ] . f o r E a c h ( f u n c t i o n ( a ) { v o i d   0 ! = = d [ a ] & & ( b . m a n d a t o r y = b . m a n d a t o r y | | { } , b . m a n d a t o r y [ e ( a , c ) ] = d [ a ] ) } ) } } ) , a . a d v a n c e d & & ( b . o p t i o n a l = ( b . o p t i o n a l | | [ ] ) . c o n c a t ( a . a d v a n c e d ) ) , b } , g = f u n c t i o n ( a , d ) { i f ( b . v e r s i o n > = 6 1 ) r e t u r n   d ( a ) ; i f ( a = J S O N . p a r s e ( J S O N . s t r i n g i f y ( a ) ) , a & & " o b j e c t " = = t y p e o f   a . a u d i o ) { v a r   g = f u n c t i o n ( a , b , c ) { b   i n   a & & ! ( c   i n   a ) & & ( a [ c ] = a [ b ] , d e l e t e   a [ b ] ) } ; a = J S O N . p a r s e ( J S O N . s t r i n g i f y ( a ) ) , g ( a . a u d i o , " a u t o G a i n C o n t r o l " , " g o o g A u t o G a i n C o n t r o l " ) , g ( a . a u d i o , " n o i s e S u p p r e s s i o n " , " g o o g N o i s e S u p p r e s s i o n " ) , a . a u d i o = f ( a . a u d i o ) } i f ( a & & " o b j e c t " = = t y p e o f   a . v i d e o ) { v a r   h = a . v i d e o . f a c i n g M o d e ; h = h & & ( " o b j e c t " = = t y p e o f   h ? h : { i d e a l : h } ) ; v a r   i = b . v e r s i o n < 6 6 ; i f ( h & & ( " u s e r " = = = h . e x a c t | | " e n v i r o n m e n t " = = = h . e x a c t | | " u s e r " = = = h . i d e a l | | " e n v i r o n m e n t " = = = h . i d e a l ) & & ( ! c . m e d i a D e v i c e s . g e t S u p p o r t e d C o n s t r a i n t s | | ! c . m e d i a D e v i c e s . g e t S u p p o r t e d C o n s t r a i n t s ( ) . f a c i n g M o d e | | i ) ) { d e l e t e   a . v i d e o . f a c i n g M o d e ; v a r   j ; i f ( " e n v i r o n m e n t " = = = h . e x a c t | | " e n v i r o n m e n t " = = = h . i d e a l ? j = [ " b a c k " , " r e a r " ] : " u s e r " ! = = h . e x a c t & & " u s e r " ! = = h . i d e a l | | ( j = [ " f r o n t " ] ) , j ) r e t u r n   c . m e d i a D e v i c e s . e n u m e r a t e D e v i c e s ( ) . t h e n ( f u n c t i o n ( b ) { b = b . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " v i d e o i n p u t " = = = a . k i n d } ) ; v a r   c = b . f i n d ( f u n c t i o n ( a ) { r e t u r n   j . s o m e ( f u n c t i o n ( b ) { r e t u r n   a . l a b e l . t o L o w e r C a s e ( ) . i n d e x O f ( b ) ! = = - 1 } ) } ) ; r e t u r n ! c & & b . l e n g t h & & j . i n d e x O f ( " b a c k " ) ! = = - 1 & & ( c = b [ b . l e n g t h - 1 ] ) , c & & ( a . v i d e o . d e v i c e I d = h . e x a c t ? { e x a c t : c . d e v i c e I d } : { i d e a l : c . d e v i c e I d } ) , a . v i d e o = f ( a . v i d e o ) , e ( " c h r o m e :   " + J S O N . s t r i n g i f y ( a ) ) , d ( a ) } ) } a . v i d e o = f ( a . v i d e o ) } r e t u r n   e ( " c h r o m e :   " + J S O N . s t r i n g i f y ( a ) ) , d ( a ) } , h = f u n c t i o n ( a ) { r e t u r n { n a m e : { P e r m i s s i o n D e n i e d E r r o r : " N o t A l l o w e d E r r o r " , P e r m i s s i o n D i s m i s s e d E r r o r : " N o t A l l o w e d E r r o r " , I n v a l i d S t a t e E r r o r : " N o t A l l o w e d E r r o r " , D e v i c e s N o t F o u n d E r r o r : " N o t F o u n d E r r o r " , C o n s t r a i n t N o t S a t i s f i e d E r r o r : " O v e r c o n s t r a i n e d E r r o r " , T r a c k S t a r t E r r o r : " N o t R e a d a b l e E r r o r " , M e d i a D e v i c e F a i l e d D u e T o S h u t d o w n : " N o t A l l o w e d E r r o r " , M e d i a D e v i c e K i l l S w i t c h O n : " N o t A l l o w e d E r r o r " , T a b C a p t u r e E r r o r : " A b o r t E r r o r " , S c r e e n C a p t u r e E r r o r : " A b o r t E r r o r " , D e v i c e C a p t u r e E r r o r : " A b o r t E r r o r " } [ a . n a m e ] | | a . n a m e , m e s s a g e : a . m e s s a g e , c o n s t r a i n t : a . c o n s t r a i n t N a m e , t o S t r i n g : f u n c t i o n ( ) { r e t u r n   t h i s . n a m e + ( t h i s . m e s s a g e & & " :   " ) + t h i s . m e s s a g e } } } , i = f u n c t i o n ( a , b , d ) { g ( a , f u n c t i o n ( a ) { c . w e b k i t G e t U s e r M e d i a ( a , b , f u n c t i o n ( a ) { d & & d ( h ( a ) ) } ) } ) } ; c . g e t U s e r M e d i a = i ; v a r   j = f u n c t i o n ( a ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( b , d ) { c . g e t U s e r M e d i a ( a , b , d ) } ) } ; i f ( c . m e d i a D e v i c e s | | ( c . m e d i a D e v i c e s = { g e t U s e r M e d i a : j , e n u m e r a t e D e v i c e s : f u n c t i o n ( ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( b ) { v a r   c = { a u d i o : " a u d i o i n p u t " , v i d e o : " v i d e o i n p u t " } ; r e t u r n   a . M e d i a S t r e a m T r a c k . g e t S o u r c e s ( f u n c t i o n ( a ) { b ( a . m a p ( f u n c t i o n ( a ) { r e t u r n { l a b e l : a . l a b e l , k i n d : c [ a . k i n d ] , d e v i c e I d : a . i d , g r o u p I d : " " } } ) ) } ) } ) } , g e t S u p p o r t e d C o n s t r a i n t s : f u n c t i o n ( ) { r e t u r n { d e v i c e I d : ! 0 , e c h o C a n c e l l a t i o n : ! 0 , f a c i n g M o d e : ! 0 , f r a m e R a t e : ! 0 , h e i g h t : ! 0 , w i d t h : ! 0 } } } ) , c . m e d i a D e v i c e s . g e t U s e r M e d i a ) { v a r   k = c . m e d i a D e v i c e s . g e t U s e r M e d i a . b i n d ( c . m e d i a D e v i c e s ) ; c . m e d i a D e v i c e s . g e t U s e r M e d i a = f u n c t i o n ( a ) { r e t u r n   g ( a , f u n c t i o n ( a ) { r e t u r n   k ( a ) . t h e n ( f u n c t i o n ( b ) { i f ( a . a u d i o & & ! b . g e t A u d i o T r a c k s ( ) . l e n g t h | | a . v i d e o & & ! b . g e t V i d e o T r a c k s ( ) . l e n g t h ) t h r o w   b . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { a . s t o p ( ) } ) , n e w   D O M E x c e p t i o n ( " " , " N o t F o u n d E r r o r " ) ; r e t u r n   b } , f u n c t i o n ( a ) { r e t u r n   P r o m i s e . r e j e c t ( h ( a ) ) } ) } ) } } e l s e   c . m e d i a D e v i c e s . g e t U s e r M e d i a = f u n c t i o n ( a ) { r e t u r n   j ( a ) } ; " u n d e f i n e d " = = t y p e o f   c . m e d i a D e v i c e s . a d d E v e n t L i s t e n e r & & ( c . m e d i a D e v i c e s . a d d E v e n t L i s t e n e r = f u n c t i o n ( ) { e ( " D u m m y   m e d i a D e v i c e s . a d d E v e n t L i s t e n e r   c a l l e d . " ) } ) , " u n d e f i n e d " = = t y p e o f   c . m e d i a D e v i c e s . r e m o v e E v e n t L i s t e n e r & & ( c . m e d i a D e v i c e s . r e m o v e E v e n t L i s t e n e r = f u n c t i o n ( ) { e ( " D u m m y   m e d i a D e v i c e s . r e m o v e E v e n t L i s t e n e r   c a l l e d . " ) } ) } } , { " . . / u t i l s . j s " : 1 3 } ] , 7 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " s d p " ) , e = a ( " . / u t i l s " ) ; b . e x p o r t s = { s h i m R T C I c e C a n d i d a t e : f u n c t i o n ( a ) { i f ( a . R T C I c e C a n d i d a t e & & ! ( a . R T C I c e C a n d i d a t e & & " f o u n d a t i o n " i n   a . R T C I c e C a n d i d a t e . p r o t o t y p e ) ) { v a r   b = a . R T C I c e C a n d i d a t e ; a . R T C I c e C a n d i d a t e = f u n c t i o n ( a ) { i f ( " o b j e c t " = = t y p e o f   a & & a . c a n d i d a t e & & 0 = = = a . c a n d i d a t e . i n d e x O f ( " a = " ) & & ( a = J S O N . p a r s e ( J S O N . s t r i n g i f y ( a ) ) , a . c a n d i d a t e = a . c a n d i d a t e . s u b s t r ( 2 ) ) , a . c a n d i d a t e & & a . c a n d i d a t e . l e n g t h ) { v a r   c = n e w   b ( a ) , e = d . p a r s e C a n d i d a t e ( a . c a n d i d a t e ) , f = O b j e c t . a s s i g n ( c , e ) ; r e t u r n   f . t o J S O N = f u n c t i o n ( ) { r e t u r n { c a n d i d a t e : f . c a n d i d a t e , s d p M i d : f . s d p M i d , s d p M L i n e I n d e x : f . s d p M L i n e I n d e x , u s e r n a m e F r a g m e n t : f . u s e r n a m e F r a g m e n t } } , f } r e t u r n   n e w   b ( a ) } , a . R T C I c e C a n d i d a t e . p r o t o t y p e = b . p r o t o t y p e , e . w r a p P e e r C o n n e c t i o n E v e n t ( a , " i c e c a n d i d a t e " , f u n c t i o n ( b ) { r e t u r n   b . c a n d i d a t e & & O b j e c t . d e f i n e P r o p e r t y ( b , " c a n d i d a t e " , { v a l u e : n e w   a . R T C I c e C a n d i d a t e ( b . c a n d i d a t e ) , w r i t a b l e : " f a l s e " } ) , b } ) } } , s h i m C r e a t e O b j e c t U R L : f u n c t i o n ( a ) { v a r   b = a & & a . U R L ; i f ( " o b j e c t " = = t y p e o f   a & & a . H T M L M e d i a E l e m e n t & & " s r c O b j e c t " i n   a . H T M L M e d i a E l e m e n t . p r o t o t y p e & & b . c r e a t e O b j e c t U R L & & b . r e v o k e O b j e c t U R L ) { v a r   c = b . c r e a t e O b j e c t U R L . b i n d ( b ) , d = b . r e v o k e O b j e c t U R L . b i n d ( b ) , f = n e w   M a p , g = 0 ; b . c r e a t e O b j e c t U R L = f u n c t i o n ( a ) { i f ( " g e t T r a c k s " i n   a ) { v a r   b = " p o l y b l o b : " +   + + g ; r e t u r n   f . s e t ( b , a ) , e . d e p r e c a t e d ( " U R L . c r e a t e O b j e c t U R L ( s t r e a m ) " , " e l e m . s r c O b j e c t   =   s t r e a m " ) , b } r e t u r n   c ( a ) } , b . r e v o k e O b j e c t U R L = f u n c t i o n ( a ) { d ( a ) , f [ " d e l e t e " ] ( a ) } ; v a r   h = O b j e c t . g e t O w n P r o p e r t y D e s c r i p t o r ( a . H T M L M e d i a E l e m e n t . p r o t o t y p e , " s r c " ) ; O b j e c t . d e f i n e P r o p e r t y ( a . H T M L M e d i a E l e m e n t . p r o t o t y p e , " s r c " , { g e t : f u n c t i o n ( ) { r e t u r n   h . g e t . a p p l y ( t h i s ) } , s e t : f u n c t i o n ( a ) { r e t u r n   t h i s . s r c O b j e c t = f . g e t ( a ) | | n u l l , h . s e t . a p p l y ( t h i s , [ a ] ) } } ) ; v a r   i = a . H T M L M e d i a E l e m e n t . p r o t o t y p e . s e t A t t r i b u t e ; a . H T M L M e d i a E l e m e n t . p r o t o t y p e . s e t A t t r i b u t e = f u n c t i o n ( ) { r e t u r n   2 = = = a r g u m e n t s . l e n g t h & & " s r c " = = = ( " " + a r g u m e n t s [ 0 ] ) . t o L o w e r C a s e ( ) & & ( t h i s . s r c O b j e c t = f . g e t ( a r g u m e n t s [ 1 ] ) | | n u l l ) , i . a p p l y ( t h i s , a r g u m e n t s ) } } } , s h i m M a x M e s s a g e S i z e : f u n c t i o n ( a ) { i f ( ! a . R T C S c t p T r a n s p o r t & & a . R T C P e e r C o n n e c t i o n ) { v a r   b = e . d e t e c t B r o w s e r ( a ) ; " s c t p " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , " s c t p " , { g e t : f u n c t i o n ( ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . _ s c t p ? n u l l : t h i s . _ s c t p } } ) ; v a r   c = f u n c t i o n ( a ) { v a r   b = d . s p l i t S e c t i o n s ( a . s d p ) ; r e t u r n   b . s h i f t ( ) , b . s o m e ( f u n c t i o n ( a ) { v a r   b = d . p a r s e M L i n e ( a ) ; r e t u r n   b & & " a p p l i c a t i o n " = = = b . k i n d & & b . p r o t o c o l . i n d e x O f ( " S C T P " ) ! = = - 1 } ) } , f = f u n c t i o n ( a ) { v a r   b = a . s d p . m a t c h ( / m o z i l l a . . . T H I S _ I S _ S D P A R T A - ( \ d + ) / ) ; i f ( n u l l = = = b | | b . l e n g t h < 2 ) r e t u r n - 1 ; v a r   c = p a r s e I n t ( b [ 1 ] , 1 0 ) ; r e t u r n   c ! = = c ? - 1 : c } , g = f u n c t i o n ( a ) { v a r   c = 6 5 5 3 6 ; r e t u r n " f i r e f o x " = = = b . b r o w s e r & & ( c = b . v e r s i o n < 5 7 ? a = = = - 1 ? 1 6 3 8 4 : 2 1 4 7 4 8 3 6 3 7 : 5 7 = = = b . v e r s i o n ? 6 5 5 3 5 : 6 5 5 3 6 ) , c } , h = f u n c t i o n ( a , c ) { v a r   e = 6 5 5 3 6 ; " f i r e f o x " = = = b . b r o w s e r & & 5 7 = = = b . v e r s i o n & & ( e = 6 5 5 3 5 ) ; v a r   f = d . m a t c h P r e f i x ( a . s d p , " a = m a x - m e s s a g e - s i z e : " ) ; r e t u r n   f . l e n g t h > 0 ? e = p a r s e I n t ( f [ 0 ] . s u b s t r ( 1 9 ) , 1 0 ) : " f i r e f o x " = = = b . b r o w s e r & & c ! = = - 1 & & ( e = 2 1 4 7 4 8 3 6 3 7 ) , e } , i = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . s e t R e m o t e D e s c r i p t i o n ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . s e t R e m o t e D e s c r i p t i o n = f u n c t i o n ( ) { v a r   a = t h i s ; i f ( a . _ s c t p = n u l l , c ( a r g u m e n t s [ 0 ] ) ) { v a r   b , d = f ( a r g u m e n t s [ 0 ] ) , e = g ( d ) , j = h ( a r g u m e n t s [ 0 ] , d ) ; b = 0 = = = e & & 0 = = = j ? N u m b e r . P O S I T I V E _ I N F I N I T Y : 0 = = = e | | 0 = = = j ? M a t h . m a x ( e , j ) : M a t h . m i n ( e , j ) ; v a r   k = { } ; O b j e c t . d e f i n e P r o p e r t y ( k , " m a x M e s s a g e S i z e " , { g e t : f u n c t i o n ( ) { r e t u r n   b } } ) , a . _ s c t p = k } r e t u r n   i . a p p l y ( a , a r g u m e n t s ) } } } , s h i m S e n d T h r o w T y p e E r r o r : f u n c t i o n ( a ) { i f ( a . R T C P e e r C o n n e c t i o n & & " c r e a t e D a t a C h a n n e l " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e ) { v a r   b = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . c r e a t e D a t a C h a n n e l ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . c r e a t e D a t a C h a n n e l = f u n c t i o n ( ) { v a r   a = t h i s , c = b . a p p l y ( a , a r g u m e n t s ) , d = c . s e n d ; r e t u r n   c . s e n d = f u n c t i o n ( ) { v a r   b = t h i s , c = a r g u m e n t s [ 0 ] , e = c . l e n g t h | | c . s i z e | | c . b y t e L e n g t h ; i f ( e > a . s c t p . m a x M e s s a g e S i z e ) t h r o w   n e w   D O M E x c e p t i o n ( " M e s s a g e   t o o   l a r g e   ( c a n   s e n d   a   m a x i m u m   o f   " + a . s c t p . m a x M e s s a g e S i z e + "   b y t e s ) " , " T y p e E r r o r " ) ; r e t u r n   d . a p p l y ( b , a r g u m e n t s ) } , c } } } } } , { " . / u t i l s " : 1 3 , s d p : 2 } ] , 8 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " . . / u t i l s " ) , e = a ( " r t c p e e r c o n n e c t i o n - s h i m " ) ; b . e x p o r t s = { s h i m G e t U s e r M e d i a : a ( " . / g e t u s e r m e d i a " ) , s h i m P e e r C o n n e c t i o n : f u n c t i o n ( a ) { v a r   b = d . d e t e c t B r o w s e r ( a ) ; i f ( a . R T C I c e G a t h e r e r & & ( a . R T C I c e C a n d i d a t e | | ( a . R T C I c e C a n d i d a t e = f u n c t i o n ( a ) { r e t u r n   a } ) , a . R T C S e s s i o n D e s c r i p t i o n | | ( a . R T C S e s s i o n D e s c r i p t i o n = f u n c t i o n ( a ) { r e t u r n   a } ) , b . v e r s i o n < 1 5 0 2 5 ) ) { v a r   c = O b j e c t . g e t O w n P r o p e r t y D e s c r i p t o r ( a . M e d i a S t r e a m T r a c k . p r o t o t y p e , " e n a b l e d " ) ; O b j e c t . d e f i n e P r o p e r t y ( a . M e d i a S t r e a m T r a c k . p r o t o t y p e , " e n a b l e d " , { s e t : f u n c t i o n ( a ) { c . s e t . c a l l ( t h i s , a ) ; v a r   b = n e w   E v e n t ( " e n a b l e d " ) ; b . e n a b l e d = a , t h i s . d i s p a t c h E v e n t ( b ) } } ) } ! a . R T C R t p S e n d e r | | " d t m f " i n   a . R T C R t p S e n d e r . p r o t o t y p e | | O b j e c t . d e f i n e P r o p e r t y ( a . R T C R t p S e n d e r . p r o t o t y p e , " d t m f " , { g e t : f u n c t i o n ( ) { r e t u r n   v o i d   0 = = = t h i s . _ d t m f & & ( " a u d i o " = = = t h i s . t r a c k . k i n d ? t h i s . _ d t m f = n e w   a . R T C D t m f S e n d e r ( t h i s ) : " v i d e o " = = = t h i s . t r a c k . k i n d & & ( t h i s . _ d t m f = n u l l ) ) , t h i s . _ d t m f } } ) , a . R T C D t m f S e n d e r & & ! a . R T C D T M F S e n d e r & & ( a . R T C D T M F S e n d e r = a . R T C D t m f S e n d e r ) , a . R T C P e e r C o n n e c t i o n = e ( a , b . v e r s i o n ) } , s h i m R e p l a c e T r a c k : f u n c t i o n ( a ) { ! a . R T C R t p S e n d e r | | " r e p l a c e T r a c k " i n   a . R T C R t p S e n d e r . p r o t o t y p e | | ( a . R T C R t p S e n d e r . p r o t o t y p e . r e p l a c e T r a c k = a . R T C R t p S e n d e r . p r o t o t y p e . s e t T r a c k ) } } } , { " . . / u t i l s " : 1 3 , " . / g e t u s e r m e d i a " : 9 , " r t c p e e r c o n n e c t i o n - s h i m " : 1 } ] , 9 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; b . e x p o r t s = f u n c t i o n ( a ) { v a r   b = a & & a . n a v i g a t o r , c = f u n c t i o n ( a ) { r e t u r n { n a m e : { P e r m i s s i o n D e n i e d E r r o r : " N o t A l l o w e d E r r o r " } [ a . n a m e ] | | a . n a m e , m e s s a g e : a . m e s s a g e , c o n s t r a i n t : a . c o n s t r a i n t , t o S t r i n g : f u n c t i o n ( ) { r e t u r n   t h i s . n a m e } } } , d = b . m e d i a D e v i c e s . g e t U s e r M e d i a . b i n d ( b . m e d i a D e v i c e s ) ; b . m e d i a D e v i c e s . g e t U s e r M e d i a = f u n c t i o n ( a ) { r e t u r n   d ( a ) [ " c a t c h " ] ( f u n c t i o n ( a ) { r e t u r n   P r o m i s e . r e j e c t ( c ( a ) ) } ) } } } , { } ] , 1 0 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " . . / u t i l s " ) ; b . e x p o r t s = { s h i m G e t U s e r M e d i a : a ( " . / g e t u s e r m e d i a " ) , s h i m O n T r a c k : f u n c t i o n ( a ) { " o b j e c t " ! = t y p e o f   a | | ! a . R T C P e e r C o n n e c t i o n | | " o n t r a c k " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , " o n t r a c k " , { g e t : f u n c t i o n ( ) { r e t u r n   t h i s . _ o n t r a c k } , s e t : f u n c t i o n ( a ) { t h i s . _ o n t r a c k & & ( t h i s . r e m o v e E v e n t L i s t e n e r ( " t r a c k " , t h i s . _ o n t r a c k ) , t h i s . r e m o v e E v e n t L i s t e n e r ( " a d d s t r e a m " , t h i s . _ o n t r a c k p o l y ) ) , t h i s . a d d E v e n t L i s t e n e r ( " t r a c k " , t h i s . _ o n t r a c k = a ) , t h i s . a d d E v e n t L i s t e n e r ( " a d d s t r e a m " , t h i s . _ o n t r a c k p o l y = f u n c t i o n ( a ) { a . s t r e a m . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = n e w   E v e n t ( " t r a c k " ) ; c . t r a c k = b , c . r e c e i v e r = { t r a c k : b } , c . t r a n s c e i v e r = { r e c e i v e r : c . r e c e i v e r } , c . s t r e a m s = [ a . s t r e a m ] , t h i s . d i s p a t c h E v e n t ( c ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } } ) , " o b j e c t " = = t y p e o f   a & & a . R T C T r a c k E v e n t & & " r e c e i v e r " i n   a . R T C T r a c k E v e n t . p r o t o t y p e & & ! ( " t r a n s c e i v e r " i n   a . R T C T r a c k E v e n t . p r o t o t y p e ) & & O b j e c t . d e f i n e P r o p e r t y ( a . R T C T r a c k E v e n t . p r o t o t y p e , " t r a n s c e i v e r " , { g e t : f u n c t i o n ( ) { r e t u r n { r e c e i v e r : t h i s . r e c e i v e r } } } ) } , s h i m S o u r c e O b j e c t : f u n c t i o n ( a ) { " o b j e c t " = = t y p e o f   a & & ( ! a . H T M L M e d i a E l e m e n t | | " s r c O b j e c t " i n   a . H T M L M e d i a E l e m e n t . p r o t o t y p e | | O b j e c t . d e f i n e P r o p e r t y ( a . H T M L M e d i a E l e m e n t . p r o t o t y p e , " s r c O b j e c t " , { g e t : f u n c t i o n ( ) { r e t u r n   t h i s . m o z S r c O b j e c t } , s e t : f u n c t i o n ( a ) { t h i s . m o z S r c O b j e c t = a } } ) ) } , s h i m P e e r C o n n e c t i o n : f u n c t i o n ( a ) { v a r   b = d . d e t e c t B r o w s e r ( a ) ; i f ( " o b j e c t " = = t y p e o f   a & & ( a . R T C P e e r C o n n e c t i o n | | a . m o z R T C P e e r C o n n e c t i o n ) ) { 
 a . R T C P e e r C o n n e c t i o n | | ( a . R T C P e e r C o n n e c t i o n = f u n c t i o n ( c , d ) { i f ( b . v e r s i o n < 3 8 & & c & & c . i c e S e r v e r s ) { f o r ( v a r   e = [ ] , f = 0 ; f < c . i c e S e r v e r s . l e n g t h ; f + + ) { v a r   g = c . i c e S e r v e r s [ f ] ; i f ( g . h a s O w n P r o p e r t y ( " u r l s " ) ) f o r ( v a r   h = 0 ; h < g . u r l s . l e n g t h ; h + + ) { v a r   i = { u r l : g . u r l s [ h ] } ; 0 = = = g . u r l s [ h ] . i n d e x O f ( " t u r n " ) & & ( i . u s e r n a m e = g . u s e r n a m e , i . c r e d e n t i a l = g . c r e d e n t i a l ) , e . p u s h ( i ) } e l s e   e . p u s h ( c . i c e S e r v e r s [ f ] ) } c . i c e S e r v e r s = e } r e t u r n   n e w   a . m o z R T C P e e r C o n n e c t i o n ( c , d ) } , a . R T C P e e r C o n n e c t i o n . p r o t o t y p e = a . m o z R T C P e e r C o n n e c t i o n . p r o t o t y p e , a . m o z R T C P e e r C o n n e c t i o n . g e n e r a t e C e r t i f i c a t e & & O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n , " g e n e r a t e C e r t i f i c a t e " , { g e t : f u n c t i o n ( ) { r e t u r n   a . m o z R T C P e e r C o n n e c t i o n . g e n e r a t e C e r t i f i c a t e } } ) , a . R T C S e s s i o n D e s c r i p t i o n = a . m o z R T C S e s s i o n D e s c r i p t i o n , a . R T C I c e C a n d i d a t e = a . m o z R T C I c e C a n d i d a t e ) , [ " s e t L o c a l D e s c r i p t i o n " , " s e t R e m o t e D e s c r i p t i o n " , " a d d I c e C a n d i d a t e " ] . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e [ b ] = f u n c t i o n ( ) { r e t u r n   a r g u m e n t s [ 0 ] = n e w ( " a d d I c e C a n d i d a t e " = = = b ? a . R T C I c e C a n d i d a t e : a . R T C S e s s i o n D e s c r i p t i o n ) ( a r g u m e n t s [ 0 ] ) , c . a p p l y ( t h i s , a r g u m e n t s ) } } ) ; v a r   c = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d I c e C a n d i d a t e ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d I c e C a n d i d a t e = f u n c t i o n ( ) { r e t u r n   a r g u m e n t s [ 0 ] ? c . a p p l y ( t h i s , a r g u m e n t s ) : ( a r g u m e n t s [ 1 ] & & a r g u m e n t s [ 1 ] . a p p l y ( n u l l ) , P r o m i s e . r e s o l v e ( ) ) } ; v a r   e = f u n c t i o n ( a ) { v a r   b = n e w   M a p ; r e t u r n   O b j e c t . k e y s ( a ) . f o r E a c h ( f u n c t i o n ( c ) { b . s e t ( c , a [ c ] ) , b [ c ] = a [ c ] } ) , b } , f = { i n b o u n d r t p : " i n b o u n d - r t p " , o u t b o u n d r t p : " o u t b o u n d - r t p " , c a n d i d a t e p a i r : " c a n d i d a t e - p a i r " , l o c a l c a n d i d a t e : " l o c a l - c a n d i d a t e " , r e m o t e c a n d i d a t e : " r e m o t e - c a n d i d a t e " } , g = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S t a t s ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S t a t s = f u n c t i o n ( a , c , d ) { r e t u r n   g . a p p l y ( t h i s , [ a | | n u l l ] ) . t h e n ( f u n c t i o n ( a ) { i f ( b . v e r s i o n < 4 8 & & ( a = e ( a ) ) , b . v e r s i o n < 5 3 & & ! c ) t r y { a . f o r E a c h ( f u n c t i o n ( a ) { a . t y p e = f [ a . t y p e ] | | a . t y p e } ) } c a t c h ( d ) { i f ( " T y p e E r r o r " ! = = d . n a m e ) t h r o w   d ; a . f o r E a c h ( f u n c t i o n ( b , c ) { a . s e t ( c , O b j e c t . a s s i g n ( { } , b , { t y p e : f [ b . t y p e ] | | b . t y p e } ) ) } ) } r e t u r n   a } ) . t h e n ( c , d ) } } } , s h i m R e m o v e S t r e a m : f u n c t i o n ( a ) { ! a . R T C P e e r C o n n e c t i o n | | " r e m o v e S t r e a m " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m = f u n c t i o n ( a ) { v a r   b = t h i s ; d . d e p r e c a t e d ( " r e m o v e S t r e a m " , " r e m o v e T r a c k " ) , t h i s . g e t S e n d e r s ( ) . f o r E a c h ( f u n c t i o n ( c ) { c . t r a c k & & a . g e t T r a c k s ( ) . i n d e x O f ( c . t r a c k ) ! = = - 1 & & b . r e m o v e T r a c k ( c ) } ) } ) } } } , { " . . / u t i l s " : 1 3 , " . / g e t u s e r m e d i a " : 1 1 } ] , 1 1 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " . . / u t i l s " ) , e = d . l o g ; b . e x p o r t s = f u n c t i o n ( a ) { v a r   b = d . d e t e c t B r o w s e r ( a ) , c = a & & a . n a v i g a t o r , f = a & & a . M e d i a S t r e a m T r a c k , g = f u n c t i o n ( a ) { r e t u r n { n a m e : { I n t e r n a l E r r o r : " N o t R e a d a b l e E r r o r " , N o t S u p p o r t e d E r r o r : " T y p e E r r o r " , P e r m i s s i o n D e n i e d E r r o r : " N o t A l l o w e d E r r o r " , S e c u r i t y E r r o r : " N o t A l l o w e d E r r o r " } [ a . n a m e ] | | a . n a m e , m e s s a g e : { " T h e   o p e r a t i o n   i s   i n s e c u r e . " : " T h e   r e q u e s t   i s   n o t   a l l o w e d   b y   t h e   u s e r   a g e n t   o r   t h e   p l a t f o r m   i n   t h e   c u r r e n t   c o n t e x t . " } [ a . m e s s a g e ] | | a . m e s s a g e , c o n s t r a i n t : a . c o n s t r a i n t , t o S t r i n g : f u n c t i o n ( ) { r e t u r n   t h i s . n a m e + ( t h i s . m e s s a g e & & " :   " ) + t h i s . m e s s a g e } } } , h = f u n c t i o n ( a , d , f ) { v a r   h = f u n c t i o n ( a ) { i f ( " o b j e c t " ! = t y p e o f   a | | a . r e q u i r e ) r e t u r n   a ; v a r   b = [ ] ; r e t u r n   O b j e c t . k e y s ( a ) . f o r E a c h ( f u n c t i o n ( c ) { i f ( " r e q u i r e " ! = = c & & " a d v a n c e d " ! = = c & & " m e d i a S o u r c e " ! = = c ) { v a r   d = a [ c ] = " o b j e c t " = = t y p e o f   a [ c ] ? a [ c ] : { i d e a l : a [ c ] } ; i f ( v o i d   0 = = = d . m i n & & v o i d   0 = = = d . m a x & & v o i d   0 = = = d . e x a c t | | b . p u s h ( c ) , v o i d   0 ! = = d . e x a c t & & ( " n u m b e r " = = t y p e o f   d . e x a c t ? d . m i n = d . m a x = d . e x a c t : a [ c ] = d . e x a c t , d e l e t e   d . e x a c t ) , v o i d   0 ! = = d . i d e a l ) { a . a d v a n c e d = a . a d v a n c e d | | [ ] ; v a r   e = { } ; " n u m b e r " = = t y p e o f   d . i d e a l ? e [ c ] = { m i n : d . i d e a l , m a x : d . i d e a l } : e [ c ] = d . i d e a l , a . a d v a n c e d . p u s h ( e ) , d e l e t e   d . i d e a l , O b j e c t . k e y s ( d ) . l e n g t h | | d e l e t e   a [ c ] } } } ) , b . l e n g t h & & ( a . r e q u i r e = b ) , a } ; r e t u r n   a = J S O N . p a r s e ( J S O N . s t r i n g i f y ( a ) ) , b . v e r s i o n < 3 8 & & ( e ( " s p e c :   " + J S O N . s t r i n g i f y ( a ) ) , a . a u d i o & & ( a . a u d i o = h ( a . a u d i o ) ) , a . v i d e o & & ( a . v i d e o = h ( a . v i d e o ) ) , e ( " f f 3 7 :   " + J S O N . s t r i n g i f y ( a ) ) ) , c . m o z G e t U s e r M e d i a ( a , d , f u n c t i o n ( a ) { f ( g ( a ) ) } ) } , i = f u n c t i o n ( a ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( b , c ) { h ( a , b , c ) } ) } ; i f ( c . m e d i a D e v i c e s | | ( c . m e d i a D e v i c e s = { g e t U s e r M e d i a : i , a d d E v e n t L i s t e n e r : f u n c t i o n ( ) { } , r e m o v e E v e n t L i s t e n e r : f u n c t i o n ( ) { } } ) , c . m e d i a D e v i c e s . e n u m e r a t e D e v i c e s = c . m e d i a D e v i c e s . e n u m e r a t e D e v i c e s | | f u n c t i o n ( ) { r e t u r n   n e w   P r o m i s e ( f u n c t i o n ( a ) { v a r   b = [ { k i n d : " a u d i o i n p u t " , d e v i c e I d : " d e f a u l t " , l a b e l : " " , g r o u p I d : " " } , { k i n d : " v i d e o i n p u t " , d e v i c e I d : " d e f a u l t " , l a b e l : " " , g r o u p I d : " " } ] ; a ( b ) } ) } , b . v e r s i o n < 4 1 ) { v a r   j = c . m e d i a D e v i c e s . e n u m e r a t e D e v i c e s . b i n d ( c . m e d i a D e v i c e s ) ; c . m e d i a D e v i c e s . e n u m e r a t e D e v i c e s = f u n c t i o n ( ) { r e t u r n   j ( ) . t h e n ( v o i d   0 , f u n c t i o n ( a ) { i f ( " N o t F o u n d E r r o r " = = = a . n a m e ) r e t u r n [ ] ; t h r o w   a } ) } } i f ( b . v e r s i o n < 4 9 ) { v a r   k = c . m e d i a D e v i c e s . g e t U s e r M e d i a . b i n d ( c . m e d i a D e v i c e s ) ; c . m e d i a D e v i c e s . g e t U s e r M e d i a = f u n c t i o n ( a ) { r e t u r n   k ( a ) . t h e n ( f u n c t i o n ( b ) { i f ( a . a u d i o & & ! b . g e t A u d i o T r a c k s ( ) . l e n g t h | | a . v i d e o & & ! b . g e t V i d e o T r a c k s ( ) . l e n g t h ) t h r o w   b . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( a ) { a . s t o p ( ) } ) , n e w   D O M E x c e p t i o n ( " T h e   o b j e c t   c a n   n o t   b e   f o u n d   h e r e . " , " N o t F o u n d E r r o r " ) ; r e t u r n   b } , f u n c t i o n ( a ) { r e t u r n   P r o m i s e . r e j e c t ( g ( a ) ) } ) } } i f ( ! ( b . v e r s i o n > 5 5 & & " a u t o G a i n C o n t r o l " i n   c . m e d i a D e v i c e s . g e t S u p p o r t e d C o n s t r a i n t s ( ) ) ) { v a r   l = f u n c t i o n ( a , b , c ) { b   i n   a & & ! ( c   i n   a ) & & ( a [ c ] = a [ b ] , d e l e t e   a [ b ] ) } , m = c . m e d i a D e v i c e s . g e t U s e r M e d i a . b i n d ( c . m e d i a D e v i c e s ) ; i f ( c . m e d i a D e v i c e s . g e t U s e r M e d i a = f u n c t i o n ( a ) { r e t u r n " o b j e c t " = = t y p e o f   a & & " o b j e c t " = = t y p e o f   a . a u d i o & & ( a = J S O N . p a r s e ( J S O N . s t r i n g i f y ( a ) ) , l ( a . a u d i o , " a u t o G a i n C o n t r o l " , " m o z A u t o G a i n C o n t r o l " ) , l ( a . a u d i o , " n o i s e S u p p r e s s i o n " , " m o z N o i s e S u p p r e s s i o n " ) ) , m ( a ) } , f & & f . p r o t o t y p e . g e t S e t t i n g s ) { v a r   n = f . p r o t o t y p e . g e t S e t t i n g s ; f . p r o t o t y p e . g e t S e t t i n g s = f u n c t i o n ( ) { v a r   a = n . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   l ( a , " m o z A u t o G a i n C o n t r o l " , " a u t o G a i n C o n t r o l " ) , l ( a , " m o z N o i s e S u p p r e s s i o n " , " n o i s e S u p p r e s s i o n " ) , a } } i f ( f & & f . p r o t o t y p e . a p p l y C o n s t r a i n t s ) { v a r   o = f . p r o t o t y p e . a p p l y C o n s t r a i n t s ; f . p r o t o t y p e . a p p l y C o n s t r a i n t s = f u n c t i o n ( a ) { r e t u r n " a u d i o " = = = t h i s . k i n d & & " o b j e c t " = = t y p e o f   a & & ( a = J S O N . p a r s e ( J S O N . s t r i n g i f y ( a ) ) , l ( a , " a u t o G a i n C o n t r o l " , " m o z A u t o G a i n C o n t r o l " ) , l ( a , " n o i s e S u p p r e s s i o n " , " m o z N o i s e S u p p r e s s i o n " ) ) , o . a p p l y ( t h i s , [ a ] ) } } } c . g e t U s e r M e d i a = f u n c t i o n ( a , e , f ) { r e t u r n   b . v e r s i o n < 4 4 ? h ( a , e , f ) : ( d . d e p r e c a t e d ( " n a v i g a t o r . g e t U s e r M e d i a " , " n a v i g a t o r . m e d i a D e v i c e s . g e t U s e r M e d i a " ) , v o i d   c . m e d i a D e v i c e s . g e t U s e r M e d i a ( a ) . t h e n ( e , f ) ) } } } , { " . . / u t i l s " : 1 3 } ] , 1 2 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; v a r   d = a ( " . . / u t i l s " ) ; b . e x p o r t s = { s h i m L o c a l S t r e a m s A P I : f u n c t i o n ( a ) { i f ( " o b j e c t " = = t y p e o f   a & & a . R T C P e e r C o n n e c t i o n ) { i f ( " g e t L o c a l S t r e a m s " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t L o c a l S t r e a m s = f u n c t i o n ( ) { r e t u r n   t h i s . _ l o c a l S t r e a m s | | ( t h i s . _ l o c a l S t r e a m s = [ ] ) , t h i s . _ l o c a l S t r e a m s } ) , " g e t S t r e a m B y I d " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t S t r e a m B y I d = f u n c t i o n ( a ) { v a r   b = n u l l ; r e t u r n   t h i s . _ l o c a l S t r e a m s & & t h i s . _ l o c a l S t r e a m s . f o r E a c h ( f u n c t i o n ( c ) { c . i d = = = a & & ( b = c ) } ) , t h i s . _ r e m o t e S t r e a m s & & t h i s . _ r e m o t e S t r e a m s . f o r E a c h ( f u n c t i o n ( c ) { c . i d = = = a & & ( b = c ) } ) , b } ) , ! ( " a d d S t r e a m " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e ) ) { v a r   b = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d S t r e a m = f u n c t i o n ( a ) { t h i s . _ l o c a l S t r e a m s | | ( t h i s . _ l o c a l S t r e a m s = [ ] ) , t h i s . _ l o c a l S t r e a m s . i n d e x O f ( a ) = = = - 1 & & t h i s . _ l o c a l S t r e a m s . p u s h ( a ) ; v a r   c = t h i s ; a . g e t T r a c k s ( ) . f o r E a c h ( f u n c t i o n ( d ) { b . c a l l ( c , d , a ) } ) } , a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . a d d T r a c k = f u n c t i o n ( a , c ) { r e t u r n   c & & ( t h i s . _ l o c a l S t r e a m s ? t h i s . _ l o c a l S t r e a m s . i n d e x O f ( c ) = = = - 1 & & t h i s . _ l o c a l S t r e a m s . p u s h ( c ) : t h i s . _ l o c a l S t r e a m s = [ c ] ) , b . c a l l ( t h i s , a , c ) } } " r e m o v e S t r e a m " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . r e m o v e S t r e a m = f u n c t i o n ( a ) { t h i s . _ l o c a l S t r e a m s | | ( t h i s . _ l o c a l S t r e a m s = [ ] ) ; v a r   b = t h i s . _ l o c a l S t r e a m s . i n d e x O f ( a ) ; i f ( b ! = = - 1 ) { t h i s . _ l o c a l S t r e a m s . s p l i c e ( b , 1 ) ; v a r   c = t h i s , d = a . g e t T r a c k s ( ) ; t h i s . g e t S e n d e r s ( ) . f o r E a c h ( f u n c t i o n ( a ) { d . i n d e x O f ( a . t r a c k ) ! = = - 1 & & c . r e m o v e T r a c k ( a ) } ) } } ) } } , s h i m R e m o t e S t r e a m s A P I : f u n c t i o n ( a ) { " o b j e c t " = = t y p e o f   a & & a . R T C P e e r C o n n e c t i o n & & ( " g e t R e m o t e S t r e a m s " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . g e t R e m o t e S t r e a m s = f u n c t i o n ( ) { r e t u r n   t h i s . _ r e m o t e S t r e a m s ? t h i s . _ r e m o t e S t r e a m s : [ ] } ) , " o n a d d s t r e a m " i n   a . R T C P e e r C o n n e c t i o n . p r o t o t y p e | | O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , " o n a d d s t r e a m " , { g e t : f u n c t i o n ( ) { r e t u r n   t h i s . _ o n a d d s t r e a m } , s e t : f u n c t i o n ( a ) { v a r   b = t h i s ; t h i s . _ o n a d d s t r e a m & & ( t h i s . r e m o v e E v e n t L i s t e n e r ( " a d d s t r e a m " , t h i s . _ o n a d d s t r e a m ) , t h i s . r e m o v e E v e n t L i s t e n e r ( " t r a c k " , t h i s . _ o n a d d s t r e a m p o l y ) ) , t h i s . a d d E v e n t L i s t e n e r ( " a d d s t r e a m " , t h i s . _ o n a d d s t r e a m = a ) , t h i s . a d d E v e n t L i s t e n e r ( " t r a c k " , t h i s . _ o n a d d s t r e a m p o l y = f u n c t i o n ( a ) { a . s t r e a m s . f o r E a c h ( f u n c t i o n ( a ) { i f ( b . _ r e m o t e S t r e a m s | | ( b . _ r e m o t e S t r e a m s = [ ] ) , ! ( b . _ r e m o t e S t r e a m s . i n d e x O f ( a ) > = 0 ) ) { b . _ r e m o t e S t r e a m s . p u s h ( a ) ; v a r   c = n e w   E v e n t ( " a d d s t r e a m " ) ; c . s t r e a m = a , b . d i s p a t c h E v e n t ( c ) } } ) } ) } } ) ) } , s h i m C a l l b a c k s A P I : f u n c t i o n ( a ) { i f ( " o b j e c t " = = t y p e o f   a & & a . R T C P e e r C o n n e c t i o n ) { v a r   b = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , c = b . c r e a t e O f f e r , d = b . c r e a t e A n s w e r , e = b . s e t L o c a l D e s c r i p t i o n , f = b . s e t R e m o t e D e s c r i p t i o n , g = b . a d d I c e C a n d i d a t e ; b . c r e a t e O f f e r = f u n c t i o n ( a , b ) { v a r   d = a r g u m e n t s . l e n g t h > = 2 ? a r g u m e n t s [ 2 ] : a r g u m e n t s [ 0 ] , e = c . a p p l y ( t h i s , [ d ] ) ; r e t u r n   b ? ( e . t h e n ( a , b ) , P r o m i s e . r e s o l v e ( ) ) : e } , b . c r e a t e A n s w e r = f u n c t i o n ( a , b ) { v a r   c = a r g u m e n t s . l e n g t h > = 2 ? a r g u m e n t s [ 2 ] : a r g u m e n t s [ 0 ] , e = d . a p p l y ( t h i s , [ c ] ) ; r e t u r n   b ? ( e . t h e n ( a , b ) , P r o m i s e . r e s o l v e ( ) ) : e } ; v a r   h = f u n c t i o n ( a , b , c ) { v a r   d = e . a p p l y ( t h i s , [ a ] ) ; r e t u r n   c ? ( d . t h e n ( b , c ) , P r o m i s e . r e s o l v e ( ) ) : d } ; b . s e t L o c a l D e s c r i p t i o n = h , h = f u n c t i o n ( a , b , c ) { v a r   d = f . a p p l y ( t h i s , [ a ] ) ; r e t u r n   c ? ( d . t h e n ( b , c ) , P r o m i s e . r e s o l v e ( ) ) : d } , b . s e t R e m o t e D e s c r i p t i o n = h , h = f u n c t i o n ( a , b , c ) { v a r   d = g . a p p l y ( t h i s , [ a ] ) ; r e t u r n   c ? ( d . t h e n ( b , c ) , P r o m i s e . r e s o l v e ( ) ) : d } , b . a d d I c e C a n d i d a t e = h } } , s h i m G e t U s e r M e d i a : f u n c t i o n ( a ) { v a r   b = a & & a . n a v i g a t o r ; b . g e t U s e r M e d i a | | ( b . w e b k i t G e t U s e r M e d i a ? b . g e t U s e r M e d i a = b . w e b k i t G e t U s e r M e d i a . b i n d ( b ) : b . m e d i a D e v i c e s & & b . m e d i a D e v i c e s . g e t U s e r M e d i a & & ( b . g e t U s e r M e d i a = f u n c t i o n ( a , c , d ) { b . m e d i a D e v i c e s . g e t U s e r M e d i a ( a ) . t h e n ( c , d ) } . b i n d ( b ) ) ) } , s h i m R T C I c e S e r v e r U r l s : f u n c t i o n ( a ) { v a r   b = a . R T C P e e r C o n n e c t i o n ; a . R T C P e e r C o n n e c t i o n = f u n c t i o n ( a , c ) { i f ( a & & a . i c e S e r v e r s ) { f o r ( v a r   e = [ ] , f = 0 ; f < a . i c e S e r v e r s . l e n g t h ; f + + ) { v a r   g = a . i c e S e r v e r s [ f ] ; ! g . h a s O w n P r o p e r t y ( " u r l s " ) & & g . h a s O w n P r o p e r t y ( " u r l " ) ? ( d . d e p r e c a t e d ( " R T C I c e S e r v e r . u r l " , " R T C I c e S e r v e r . u r l s " ) , g = J S O N . p a r s e ( J S O N . s t r i n g i f y ( g ) ) , g . u r l s = g . u r l , d e l e t e   g . u r l , e . p u s h ( g ) ) : e . p u s h ( a . i c e S e r v e r s [ f ] ) } a . i c e S e r v e r s = e } r e t u r n   n e w   b ( a , c ) } , a . R T C P e e r C o n n e c t i o n . p r o t o t y p e = b . p r o t o t y p e , " g e n e r a t e C e r t i f i c a t e " i n   a . R T C P e e r C o n n e c t i o n & & O b j e c t . d e f i n e P r o p e r t y ( a . R T C P e e r C o n n e c t i o n , " g e n e r a t e C e r t i f i c a t e " , { g e t : f u n c t i o n ( ) { r e t u r n   b . g e n e r a t e C e r t i f i c a t e } } ) } , s h i m T r a c k E v e n t T r a n s c e i v e r : f u n c t i o n ( a ) { " o b j e c t " = = t y p e o f   a & & a . R T C P e e r C o n n e c t i o n & & " r e c e i v e r " i n   a . R T C T r a c k E v e n t . p r o t o t y p e & & ! a . R T C T r a n s c e i v e r & & O b j e c t . d e f i n e P r o p e r t y ( a . R T C T r a c k E v e n t . p r o t o t y p e , " t r a n s c e i v e r " , { g e t : f u n c t i o n ( ) { r e t u r n { r e c e i v e r : t h i s . r e c e i v e r } } } ) } , s h i m C r e a t e O f f e r L e g a c y : f u n c t i o n ( a ) { v a r   b = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . c r e a t e O f f e r ; a . R T C P e e r C o n n e c t i o n . p r o t o t y p e . c r e a t e O f f e r = f u n c t i o n ( a ) { v a r   c = t h i s ; i f ( a ) { " u n d e f i n e d " ! = t y p e o f   a . o f f e r T o R e c e i v e A u d i o & & ( a . o f f e r T o R e c e i v e A u d i o = ! ! a . o f f e r T o R e c e i v e A u d i o ) ; v a r   d = c . g e t T r a n s c e i v e r s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . s e n d e r . t r a c k & & " a u d i o " = = = a . s e n d e r . t r a c k . k i n d } ) ; a . o f f e r T o R e c e i v e A u d i o = = = ! 1 & & d ? " s e n d r e c v " = = = d . d i r e c t i o n ? d . s e t D i r e c t i o n ? d . s e t D i r e c t i o n ( " s e n d o n l y " ) : d . d i r e c t i o n = " s e n d o n l y " : " r e c v o n l y " = = = d . d i r e c t i o n & & ( d . s e t D i r e c t i o n ? d . s e t D i r e c t i o n ( " i n a c t i v e " ) : d . d i r e c t i o n = " i n a c t i v e " ) : a . o f f e r T o R e c e i v e A u d i o ! = = ! 0 | | d | | c . a d d T r a n s c e i v e r ( " a u d i o " ) , " u n d e f i n e d " ! = t y p e o f   a . o f f e r T o R e c e i v e A u d i o & & ( a . o f f e r T o R e c e i v e V i d e o = ! ! a . o f f e r T o R e c e i v e V i d e o ) ; v a r   e = c . g e t T r a n s c e i v e r s ( ) . f i n d ( f u n c t i o n ( a ) { r e t u r n   a . s e n d e r . t r a c k & & " v i d e o " = = = a . s e n d e r . t r a c k . k i n d } ) ; a . o f f e r T o R e c e i v e V i d e o = = = ! 1 & & e ? " s e n d r e c v " = = = e . d i r e c t i o n ? e . s e t D i r e c t i o n ( " s e n d o n l y " ) : " r e c v o n l y " = = = e . d i r e c t i o n & & e . s e t D i r e c t i o n ( " i n a c t i v e " ) : a . o f f e r T o R e c e i v e V i d e o ! = = ! 0 | | e | | c . a d d T r a n s c e i v e r ( " v i d e o " ) } r e t u r n   b . a p p l y ( c , a r g u m e n t s ) } } } } , { " . . / u t i l s " : 1 3 } ] , 1 3 : [ f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a , b , c ) { v a r   d = a . m a t c h ( b ) ; r e t u r n   d & & d . l e n g t h > = c & & p a r s e I n t ( d [ c ] , 1 0 ) } f u n c t i o n   e ( a , b , c ) { i f ( a . R T C P e e r C o n n e c t i o n ) { v a r   d = a . R T C P e e r C o n n e c t i o n . p r o t o t y p e , e = d . a d d E v e n t L i s t e n e r ; d . a d d E v e n t L i s t e n e r = f u n c t i o n ( a , d ) { i f ( a ! = = b ) r e t u r n   e . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   f = f u n c t i o n ( a ) { d ( c ( a ) ) } ; r e t u r n   t h i s . _ e v e n t M a p = t h i s . _ e v e n t M a p | | { } , t h i s . _ e v e n t M a p [ d ] = f , e . a p p l y ( t h i s , [ a , f ] ) } ; v a r   f = d . r e m o v e E v e n t L i s t e n e r ; d . r e m o v e E v e n t L i s t e n e r = f u n c t i o n ( a , c ) { i f ( a ! = = b | | ! t h i s . _ e v e n t M a p | | ! t h i s . _ e v e n t M a p [ c ] ) r e t u r n   f . a p p l y ( t h i s , a r g u m e n t s ) ; v a r   d = t h i s . _ e v e n t M a p [ c ] ; r e t u r n   d e l e t e   t h i s . _ e v e n t M a p [ c ] , f . a p p l y ( t h i s , [ a , d ] ) } , O b j e c t . d e f i n e P r o p e r t y ( d , " o n " + b , { g e t : f u n c t i o n ( ) { r e t u r n   t h i s [ " _ o n " + b ] } , s e t : f u n c t i o n ( a ) { t h i s [ " _ o n " + b ] & & ( t h i s . r e m o v e E v e n t L i s t e n e r ( b , t h i s [ " _ o n " + b ] ) , d e l e t e   t h i s [ " _ o n " + b ] ) , a & & t h i s . a d d E v e n t L i s t e n e r ( b , t h i s [ " _ o n " + b ] = a ) } } ) } } v a r   f = ! 0 , g = ! 0 ; b . e x p o r t s = { e x t r a c t V e r s i o n : d , w r a p P e e r C o n n e c t i o n E v e n t : e , d i s a b l e L o g : f u n c t i o n ( a ) { r e t u r n " b o o l e a n " ! = t y p e o f   a ? n e w   E r r o r ( " A r g u m e n t   t y p e :   " + t y p e o f   a + " .   P l e a s e   u s e   a   b o o l e a n . " ) : ( f = a , a ? " a d a p t e r . j s   l o g g i n g   d i s a b l e d " : " a d a p t e r . j s   l o g g i n g   e n a b l e d " ) } , d i s a b l e W a r n i n g s : f u n c t i o n ( a ) { r e t u r n " b o o l e a n " ! = t y p e o f   a ? n e w   E r r o r ( " A r g u m e n t   t y p e :   " + t y p e o f   a + " .   P l e a s e   u s e   a   b o o l e a n . " ) : ( g = ! a , " a d a p t e r . j s   d e p r e c a t i o n   w a r n i n g s   " + ( a ? " d i s a b l e d " : " e n a b l e d " ) ) } , l o g : f u n c t i o n ( ) { i f ( " o b j e c t " = = t y p e o f   w i n d o w ) { i f ( f ) r e t u r n ; " u n d e f i n e d " ! = t y p e o f   c o n s o l e & & " f u n c t i o n " = = t y p e o f   c o n s o l e . l o g & & c o n s o l e . l o g . a p p l y ( c o n s o l e , a r g u m e n t s ) } } , d e p r e c a t e d : f u n c t i o n ( a , b ) { g & & c o n s o l e . w a r n ( a + "   i s   d e p r e c a t e d ,   p l e a s e   u s e   " + b + "   i n s t e a d . " ) } , d e t e c t B r o w s e r : f u n c t i o n ( a ) { v a r   b = a & & a . n a v i g a t o r , c = { } ; i f ( c . b r o w s e r = n u l l , c . v e r s i o n = n u l l , " u n d e f i n e d " = = t y p e o f   a | | ! a . n a v i g a t o r ) r e t u r n   c . b r o w s e r = " N o t   a   b r o w s e r . " , c ; i f ( b . m o z G e t U s e r M e d i a ) c . b r o w s e r = " f i r e f o x " , c . v e r s i o n = d ( b . u s e r A g e n t , / F i r e f o x \ / ( \ d + ) \ . / , 1 ) ; e l s e   i f ( b . w e b k i t G e t U s e r M e d i a ) c . b r o w s e r = " c h r o m e " , c . v e r s i o n = d ( b . u s e r A g e n t , / C h r o m ( e | i u m ) \ / ( \ d + ) \ . / , 2 ) ; e l s e   i f ( b . m e d i a D e v i c e s & & b . u s e r A g e n t . m a t c h ( / E d g e \ / ( \ d + ) . ( \ d + ) $ / ) ) c . b r o w s e r = " e d g e " , c . v e r s i o n = d ( b . u s e r A g e n t , / E d g e \ / ( \ d + ) . ( \ d + ) $ / , 2 ) ; e l s e { i f ( ! a . R T C P e e r C o n n e c t i o n | | ! b . u s e r A g e n t . m a t c h ( / A p p l e W e b K i t \ / ( \ d + ) \ . / ) ) r e t u r n   c . b r o w s e r = " N o t   a   s u p p o r t e d   b r o w s e r . " , c ; c . b r o w s e r = " s a f a r i " , c . v e r s i o n = d ( b . u s e r A g e n t , / A p p l e W e b K i t \ / ( \ d + ) \ . / , 1 ) } r e t u r n   c } } } , { } ] } , { } , [ 3 ] ) ( 3 ) } ) ; 
 d e f i n e ( ' c o r e / a u t o s c r o l l ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { S C R O L L _ T H R E S H O L D : 3 0 , S C R O L L _ F R E Q U E N C Y : 1 e 3 / 6 0 , S C R O L L _ S P E E D : . 5 , s c r o l l i n g I d : n u l l , s c r o l l A m o u n t : 0 , c a l l b a c k : n u l l , s t a r t : f u n c t i o n ( c ) { a ( w i n d o w ) . o n ( " m o u s e m o v e " , b . m o u s e M o v e ) , a ( w i n d o w ) . o n ( " t o u c h m o v e " , b . t o u c h M o v e ) , b . c a l l b a c k = c } , s t o p : f u n c t i o n ( ) { a ( w i n d o w ) . o f f ( " m o u s e m o v e " , b . m o u s e M o v e ) , a ( w i n d o w ) . o f f ( " t o u c h m o v e " , b . t o u c h M o v e ) , n u l l ! = = b . s c r o l l i n g I d & & b . s t o p S c r o l l i n g ( ) } , t o u c h M o v e : f u n c t i o n ( a ) { f o r ( v a r   c = 0 ; c < a . c h a n g e d T o u c h e s . l e n g t h ; c + + ) b . h a n d l e M o v e ( a . c h a n g e d T o u c h e s [ c ] . c l i e n t X , a . c h a n g e d T o u c h e s [ c ] . c l i e n t Y ) } , m o u s e M o v e : f u n c t i o n ( a ) { b . h a n d l e M o v e ( a . c l i e n t X , a . c l i e n t Y ) } , h a n d l e M o v e : f u n c t i o n ( c , d ) { d < b . S C R O L L _ T H R E S H O L D ? b . s c r o l l A m o u n t = - M a t h . m i n ( b . S C R O L L _ T H R E S H O L D - d , b . S C R O L L _ T H R E S H O L D ) : d > a ( w i n d o w ) . h e i g h t ( ) - b . S C R O L L _ T H R E S H O L D ? b . s c r o l l A m o u n t = M a t h . m i n ( d - ( a ( w i n d o w ) . h e i g h t ( ) - b . S C R O L L _ T H R E S H O L D ) , b . S C R O L L _ T H R E S H O L D ) : b . s c r o l l A m o u n t = 0 , b . s c r o l l A m o u n t & & n u l l = = = b . s c r o l l i n g I d ? b . s t a r t S c r o l l i n g ( ) : b . s c r o l l A m o u n t | | n u l l = = = b . s c r o l l i n g I d | | b . s t o p S c r o l l i n g ( ) } , s t a r t S c r o l l i n g : f u n c t i o n ( ) { v a r   c = a ( d o c u m e n t ) . h e i g h t ( ) - a ( w i n d o w ) . h e i g h t ( ) ; b . s c r o l l i n g I d = w i n d o w . s e t I n t e r v a l ( f u n c t i o n ( ) { v a r   d = a ( w i n d o w ) . s c r o l l T o p ( ) , e = M a t h . r o u n d ( b . s c r o l l A m o u n t * b . S C R O L L _ S P E E D ) ; i f ( d + e < 0 & & ( e = - d ) , d + e > c & & ( e = c - d ) , 0 ! = = e ) { a ( w i n d o w ) . s c r o l l T o p ( d + e ) ; v a r   f = a ( w i n d o w ) . s c r o l l T o p ( ) - d ; 0 ! = = f & & b . c a l l b a c k & & b . c a l l b a c k ( f ) } } , b . S C R O L L _ F R E Q U E N C Y ) } , s t o p S c r o l l i n g : f u n c t i o n ( ) { w i n d o w . c l e a r I n t e r v a l ( b . s c r o l l i n g I d ) , b . s c r o l l i n g I d = n u l l } } ; r e t u r n { s t a r t : b . s t a r t , s t o p : b . s t o p } } ) ; 
 d e f i n e ( ' c o r e / p e n d i n g ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   b = b | | { } , M . u t i l . j s _ p e n d i n g ( b ) , c . t h e n ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( b ) } ) [ " c a t c h " ] ( ) , c } ; r e t u r n   b . p r o t o t y p e . c o n s t r u c t o r = b , b } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ a x i s ' ,   [ ] , f u n c t i o n ( ) { f u n c t i o n   a ( ) { } r e t u r n   a . p r o t o t y p e . P O S _ D E F A U L T = n u l l , a . p r o t o t y p e . P O S _ B O T T O M = " b o t t o m " , a . p r o t o t y p e . P O S _ L E F T = " l e f t " , a . p r o t o t y p e . P O S _ R I G H T = " r i g h t " , a . p r o t o t y p e . P O S _ T O P = " t o p " , a . p r o t o t y p e . _ l a b e l = n u l l , a . p r o t o t y p e . _ l a b e l s = n u l l , a . p r o t o t y p e . _ m a x = n u l l , a . p r o t o t y p e . _ m i n = n u l l , a . p r o t o t y p e . _ p o s i t i o n = n u l l , a . p r o t o t y p e . _ s t e p S i z e = n u l l , a . p r o t o t y p e . c r e a t e = f u n c t i o n ( b ) { v a r   c = n e w   a ; r e t u r n   c . s e t P o s i t i o n ( b . p o s i t i o n ) , c . s e t L a b e l ( b . l a b e l ) , c . s e t S t e p S i z e ( b . s t e p S i z e ) , c . s e t M a x ( b . m a x ) , c . s e t M i n ( b . m i n ) , c . s e t L a b e l s ( b . l a b e l s ) , c } , a . p r o t o t y p e . g e t L a b e l = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l } , a . p r o t o t y p e . g e t L a b e l s = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l s } , a . p r o t o t y p e . g e t M a x = f u n c t i o n ( ) { r e t u r n   t h i s . _ m a x } , a . p r o t o t y p e . g e t M i n = f u n c t i o n ( ) { r e t u r n   t h i s . _ m i n } , a . p r o t o t y p e . g e t P o s i t i o n = f u n c t i o n ( ) { r e t u r n   t h i s . _ p o s i t i o n } , a . p r o t o t y p e . g e t S t e p S i z e = f u n c t i o n ( ) { r e t u r n   t h i s . _ s t e p S i z e } , a . p r o t o t y p e . s e t L a b e l = f u n c t i o n ( a ) { t h i s . _ l a b e l = a | | n u l l } , a . p r o t o t y p e . s e t L a b e l s = f u n c t i o n ( a ) { t h i s . _ l a b e l s = a | | n u l l , n u l l = = = t h i s . _ l a b e l s | | n u l l ! = = t h i s . _ s t e p S i z e | | n u l l ! = = t h i s . _ m i n & & 0 ! = = t h i s . _ m i n | | n u l l ! = = t h i s . _ m a x | | ( t h i s . s e t S t e p S i z e ( 1 ) , t h i s . s e t M i n ( 0 ) , t h i s . s e t M a x ( a . l e n g t h - 1 ) ) } , a . p r o t o t y p e . s e t M a x = f u n c t i o n ( a ) { t h i s . _ m a x = " u n d e f i n e d " ! = t y p e o f   a ? a : n u l l } , a . p r o t o t y p e . s e t M i n = f u n c t i o n ( a ) { t h i s . _ m i n = " u n d e f i n e d " ! = t y p e o f   a ? a : n u l l } , a . p r o t o t y p e . s e t P o s i t i o n = f u n c t i o n ( a ) { i f ( a ! = t h i s . P O S _ D E F A U L T & & a ! = t h i s . P O S _ B O T T O M & & a ! = t h i s . P O S _ L E F T & & a ! = t h i s . P O S _ R I G H T & & a ! = t h i s . P O S _ T O P ) t h r o w   n e w   E r r o r ( " I n v a l i d   a x i s   p o s i t i o n . " ) ; t h i s . _ p o s i t i o n = a } , a . p r o t o t y p e . s e t S t e p S i z e = f u n c t i o n ( a ) { i f ( " u n d e f i n e d " = = t y p e o f   a | | n u l l = = = a ) a = n u l l ; e l s e { i f ( i s N a N ( N u m b e r ( a ) ) ) t h r o w   n e w   E r r o r ( " V a l u e   f o r   s t e p S i z e   i s   n o t   a   n u m b e r . " ) ; a = N u m b e r ( a ) } t h i s . _ s t e p S i z e = a } , a } ) ; 
 d e f i n e ( ' c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s ' ,   [ " j q u e r y " , " c o r e / k e y _ c o d e s " ] , f u n c t i o n ( a , b ) { v a r   c = { a c t i v a t e : " c i e : a c t i v a t e " , k e y b o a r d A c t i v a t e : " c i e : k e y b o a r d a c t i v a t e " , e s c a p e : " c i e : e s c a p e " , d o w n : " c i e : d o w n " , u p : " c i e : u p " , h o m e : " c i e : h o m e " , e n d : " c i e : e n d " , n e x t : " c i e : n e x t " , p r e v i o u s : " c i e : p r e v i o u s " , a s t e r i x : " c i e : a s t e r i x " , s c r o l l L o c k : " c i e : s c r o l l L o c k " , s c r o l l T o p : " c i e : s c r o l l T o p " , s c r o l l B o t t o m : " c i e : s c r o l l B o t t o m " , c t r l P a g e U p : " c i e : c t r l P a g e U p " , c t r l P a g e D o w n : " c i e : c t r l P a g e D o w n " , e n t e r : " c i e : e n t e r " } , d = { } , e = f u n c t i o n ( a , b ) { r e t u r n   b = b | | [ ] , ! ( ! b . l e n g t h | | b . i n d e x O f ( a ) = = = - 1 ) } , f = f u n c t i o n ( a ) { r e t u r n   a . s h i f t K e y | | a . m e t a K e y | | a . a l t K e y | | a . c t r l K e y } , g = f u n c t i o n ( b , c ) { v a r   e = " " ; r e t u r n   c . h a s O w n P r o p e r t y ( " o r i g i n a l E v e n t " ) ? ( e = " t r i g g e r e d C u s t o m _ " + b , c . o r i g i n a l E v e n t . h a s O w n P r o p e r t y ( e ) ? v o i d   0 : ( c . o r i g i n a l E v e n t [ e ] = ! 0 , v o i d   a ( c . t a r g e t ) . t r i g g e r ( b , [ { o r i g i n a l E v e n t : c } ] ) ) ) : ( e = " " + b + c . t y p e + c . t i m e S t a m p , v o i d ( d . h a s O w n P r o p e r t y ( e ) | | ( d [ e ] = ! 0 , a ( c . t a r g e t ) . t r i g g e r ( b , [ { o r i g i n a l E v e n t : c } ] ) ) ) ) } , h = f u n c t i o n ( a , b , c ) { a . o f f ( " k e y d o w n . " + b ) . o n ( " k e y d o w n . " + b , f u n c t i o n ( a ) { f ( a ) | | a . k e y C o d e = = c & & g ( b , a ) } ) } , i = f u n c t i o n ( a ) { a . o f f ( " c l i c k . c i e . a c t i v a t e " ) . o n ( " c l i c k . c i e . a c t i v a t e " , f u n c t i o n ( a ) { g ( c . a c t i v a t e , a ) } ) , a . o f f ( " k e y d o w n . c i e . a c t i v a t e " ) . o n ( " k e y d o w n . c i e . a c t i v a t e " , f u n c t i o n ( a ) { f ( a ) | | a . k e y C o d e ! = b . e n t e r & & a . k e y C o d e ! = b . s p a c e | | g ( c . a c t i v a t e , a ) } ) } , j = f u n c t i o n ( a ) { a . o f f ( " k e y d o w n . c i e . k e y b o a r d a c t i v a t e " ) . o n ( " k e y d o w n . c i e . k e y b o a r d a c t i v a t e " , f u n c t i o n ( a ) { f ( a ) | | a . k e y C o d e ! = b . e n t e r & & a . k e y C o d e ! = b . s p a c e | | g ( c . k e y b o a r d A c t i v a t e , a ) } ) } , k = f u n c t i o n ( a ) { h ( a , c . e s c a p e , b . e s c a p e ) } , l = f u n c t i o n ( a ) { h ( a , c . d o w n , b . a r r o w D o w n ) } , m = f u n c t i o n ( a ) { h ( a , c . u p , b . a r r o w U p ) } , n = f u n c t i o n ( a ) { h ( a , c . h o m e , b . h o m e ) } , o = f u n c t i o n ( a ) { h ( a , c . e n d , b . e n d ) } , p = f u n c t i o n ( d ) { v a r   e = " r t l " = = a ( " h t m l " ) . a t t r ( " d i r " ) ? b . a r r o w L e f t : b . a r r o w R i g h t ; h ( d , c . n e x t , e ) } , q = f u n c t i o n ( d ) { v a r   e = " r t l " = = a ( " h t m l " ) . a t t r ( " d i r " ) ? b . a r r o w R i g h t : b . a r r o w L e f t ; h ( d , c . p r e v i o u s , e ) } , r = f u n c t i o n ( a ) { h ( a , c . a s t e r i x , b . a s t e r i x ) } , s = f u n c t i o n ( a ) { a . o f f ( " s c r o l l . c i e . s c r o l l T o p " ) . o n ( " s c r o l l . c i e . s c r o l l T o p " , f u n c t i o n ( b ) { v a r   d = a . s c r o l l T o p ( ) ; 0 = = = d & & g ( c . s c r o l l T o p , b ) } ) } , t = f u n c t i o n ( a ) { a . o f f ( " s c r o l l . c i e . s c r o l l B o t t o m " ) . o n ( " s c r o l l . c i e . s c r o l l B o t t o m " , f u n c t i o n ( b ) { v a r   d = a . s c r o l l T o p ( ) , e = a . i n n e r H e i g h t ( ) , f = a [ 0 ] . s c r o l l H e i g h t ; d + e > = f & & g ( c . s c r o l l B o t t o m , b ) } ) } , u = f u n c t i o n ( a ) { a . o f f ( " D O M M o u s e S c r o l l . c i e . D O M M o u s e S c r o l l L o c k   m o u s e w h e e l . c i e . m o u s e w h e e l L o c k " ) . o n ( " D O M M o u s e S c r o l l . c i e . D O M M o u s e S c r o l l L o c k   m o u s e w h e e l . c i e . m o u s e w h e e l L o c k " , f u n c t i o n ( b ) { v a r   d = a . s c r o l l T o p ( ) , e = a [ 0 ] . s c r o l l H e i g h t , f = a . h e i g h t ( ) , h = " D O M M o u s e S c r o l l " = = b . t y p e ? b . o r i g i n a l E v e n t . d e t a i l * - 4 0 : b . o r i g i n a l E v e n t . w h e e l D e l t a , i = h > 0 ; r e t u r n ! i & & - h > e - f - d ? ( a . s c r o l l T o p ( e ) , b . s t o p P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , b . r e t u r n V a l u e = ! 1 , g ( c . s c r o l l L o c k , b ) , ! 1 ) : ! ( i & & h > d ) | | ( a . s c r o l l T o p ( 0 ) , b . s t o p P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , b . r e t u r n V a l u e = ! 1 , g ( c . s c r o l l L o c k , b ) , ! 1 ) } ) } , v = f u n c t i o n ( a ) { a . o f f ( " k e y d o w n . c i e . c t r l p a g e u p " ) . o n ( " k e y d o w n . c i e . c t r l p a g e u p " , f u n c t i o n ( a ) { a . c t r l K e y & & a . k e y C o d e = = b . p a g e U p & & g ( c . c t r l P a g e U p , a ) } ) } , w = f u n c t i o n ( a ) { a . o f f ( " k e y d o w n . c i e . c t r l p a g e d o w n " ) . o n ( " k e y d o w n . c i e . c t r l p a g e d o w n " , f u n c t i o n ( a ) { a . c t r l K e y & & a . k e y C o d e = = b . p a g e D o w n & & g ( c . c t r l P a g e D o w n , a ) } ) } , x = f u n c t i o n ( a ) { h ( a , c . e n t e r , b . e n t e r ) } , y = f u n c t i o n ( ) { v a r   a = { } ; r e t u r n   a [ c . a c t i v a t e ] = i , a [ c . k e y b o a r d A c t i v a t e ] = j , a [ c . e s c a p e ] = k , a [ c . d o w n ] = l , a [ c . u p ] = m , a [ c . h o m e ] = n , a [ c . e n d ] = o , a [ c . n e x t ] = p , a [ c . p r e v i o u s ] = q , a [ c . a s t e r i x ] = r , a [ c . s c r o l l L o c k ] = u , a [ c . s c r o l l T o p ] = s , a [ c . s c r o l l B o t t o m ] = t , a [ c . c t r l P a g e U p ] = v , a [ c . c t r l P a g e D o w n ] = w , a [ c . e n t e r ] = x , a } , z = f u n c t i o n ( b , c ) { b = a ( b ) , c = c | | [ ] , b . l e n g t h & & c . l e n g t h & & a . e a c h ( y ( ) , f u n c t i o n ( a , d ) { e ( a , c ) & & d ( b ) } ) } ; r e t u r n { d e f i n e : z , e v e n t s : c } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ s a v e _ c a n c e l ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { S A V E _ B U T T O N : ' [ d a t a - a c t i o n = " s a v e " ] ' , C A N C E L _ B U T T O N : ' [ d a t a - a c t i o n = " c a n c e l " ] ' } , g = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . S A V E _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : " N o   s a v e   b u t t o n   f o u n d " } ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . C A N C E L _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : " N o   c a n c e l   b u t t o n   f o u n d " } ) } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , g . p r o t o t y p e . c o n s t r u c t o r = g , g . p r o t o t y p e . s e t F o o t e r = f u n c t i o n ( ) { b . e x c e p t i o n ( { m e s s a g e : " C a n   n o t   c h a n g e   t h e   f o o t e r   o f   a   s a v e   c a n c e l   m o d a l " } ) } , g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . S A V E _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . s a v e ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . C A N C E L _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . c a n c e l ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } , g . p r o t o t y p e . s e t S a v e B u t t o n T e x t = f u n c t i o n ( a ) { v a r   b = t h i s . g e t F o o t e r ( ) . f i n d ( f . S A V E _ B U T T O N ) ; t h i s . a s y n c S e t ( a , b . t e x t . b i n d ( b ) ) } , g } ) ; 
 d e f i n e ( ' c o r e / u s e r _ d a t e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s e s s i o n s t o r a g e " , " c o r e / c o n f i g " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = 8 6 4 0 0 , f = { } , g = f u n c t i o n ( b ) { v a r   c = a ( " h t m l " ) . a t t r ( " l a n g " ) . r e p l a c e ( / - / g , " _ " ) ; r e t u r n " c o r e _ u s e r _ d a t e / " + c + " / " + d . u s e r t i m e z o n e + " / " + b . t i m e s t a m p + " / " + b . f o r m a t } , h = f u n c t i o n ( a ) { r e t u r n   c . g e t ( a ) } , i = f u n c t i o n ( a , b ) { c . s e t ( a , b ) } , j = f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   f [ a ] } , k = f u n c t i o n ( a ) { r e t u r n   f [ a ] } , l = f u n c t i o n ( a , b ) { f [ a ] = b } , m = f u n c t i o n ( a ) { v a r   c = a . m a p ( f u n c t i o n ( a ) { r e t u r n { t i m e s t a m p : a . t i m e s t a m p , f o r m a t : a . f o r m a t } } ) , e = { m e t h o d n a m e : " c o r e _ g e t _ u s e r _ d a t e s " , a r g s : { c o n t e x t i d : d . c o n t e x t i d , t i m e s t a m p s : c } } ; r e t u r n   b . c a l l ( [ e ] , ! 0 , ! 0 ) [ 0 ] . t h e n ( f u n c t i o n ( b ) { b . d a t e s . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = a [ c ] , e = g ( d ) ; i ( e , b ) , d . d e f e r r e d . r e s o l v e ( b ) } ) } ) [ " c a t c h " ] ( f u n c t i o n ( b ) { a . f o r E a c h ( f u n c t i o n ( a ) { a . d e f e r r e d . r e j e c t ( b ) } ) } ) } , n = f u n c t i o n ( b ) { v a r   c = [ ] , d = [ ] ; r e t u r n   b . f o r E a c h ( f u n c t i o n ( b ) { v a r   e = g ( b ) ; i f ( j ( e ) ) d . p u s h ( k ( e ) ) ; e l s e { v a r   f = a . D e f e r r e d ( ) , i = h ( e ) ; i ? f . r e s o l v e ( i ) : ( b . d e f e r r e d = f , c . p u s h ( b ) ) , l ( e , f . p r o m i s e ( ) ) , d . p u s h ( f . p r o m i s e ( ) ) } } ) , c . l e n g t h & & m ( c ) , a . w h e n . a p p l y ( a , d ) . t h e n ( f u n c t i o n ( ) { r e t u r n   1 = = = a r g u m e n t s . l e n g t h ? [ a r g u m e n t s [ 0 ] ] : A r r a y . a p p l y ( n u l l , a r g u m e n t s ) } ) } , o = f u n c t i o n ( a , b ) { v a r   c = a > b , d = M a t h . a b s ( a - b ) , f = c ? M a t h . f l o o r ( d / e ) : M a t h . c e i l ( d / e ) , g = f * e , h = c ? b + g : b - g ; r e t u r n   h } ; r e t u r n { g e t : n , g e t U s e r M i d n i g h t F o r T i m e s t a m p : o } } ) ; 
 d e f i n e ( ' c o r e / f o r m - c o h o r t - s e l e c t o r ' ,   [ " c o r e / a j a x " , " j q u e r y " ] , f u n c t i o n ( a , b ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( a , c ) { v a r   d = [ ] , e = 0 , f = S t r i n g ( b ( a ) . d a t a ( " e x c l u d e " ) ) . s p l i t ( " , " ) ; f o r ( e = 0 ; e < c . c o h o r t s . l e n g t h ; e + + ) f . i n d e x O f ( S t r i n g ( c . c o h o r t s [ e ] . i d ) ) = = = - 1 & & d . p u s h ( { v a l u e : c . c o h o r t s [ e ] . i d , l a b e l : c . c o h o r t s [ e ] . n a m e } ) ; r e t u r n   d } , t r a n s p o r t : f u n c t i o n ( c , d , e , f ) { v a r   g = b ( c ) , h = n u l l ; " u n d e f i n e d " = = t y p e o f   d & & ( d = " " ) ; v a r   i = g . d a t a ( " c o n t e x t i d " ) , j = { q u e r y : d , i n c l u d e s : " p a r e n t s " , l i m i t f r o m : 0 , l i m i t n u m : 1 0 0 , c o n t e x t : { c o n t e x t i d : i } } , k = [ { m e t h o d n a m e : " c o r e _ c o h o r t _ s e a r c h _ c o h o r t s " , a r g s : j } ] ; h = a . c a l l ( k ) , b . w h e n . a p p l y ( b . w h e n , h ) . d o n e ( f u n c t i o n ( a ) { e ( a ) } ) . f a i l ( f ) } } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ b u i l d e r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { m a k e : f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   r e q u i r e ( [ " c o r e / c h a r t _ " + b . t y p e ] , f u n c t i o n ( a ) { v a r   d = a . p r o t o t y p e . c r e a t e ( a , b ) ; c . r e s o l v e ( d ) } ) , c . p r o m i s e ( ) } } ; r e t u r n   b } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ o u t p u t _ c h a r t j s ' ,   [ " j q u e r y " , " c o r e / c h a r t j s " , " c o r e / c h a r t _ a x i s " , " c o r e / c h a r t _ b a r " , " c o r e / c h a r t _ o u t p u t _ b a s e " , " c o r e / c h a r t _ l i n e " , " c o r e / c h a r t _ p i e " , " c o r e / c h a r t _ s e r i e s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { f u n c t i o n   i ( ) { e . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) , t h i s . _ c a n v a s = t h i s . _ n o d e , " C A N V A S " ! = t h i s . _ c a n v a s . p r o p ( " t a g N a m e " ) & & ( t h i s . _ c a n v a s = a ( " < c a n v a s > " ) , t h i s . _ n o d e . a p p e n d ( t h i s . _ c a n v a s ) ) , t h i s . _ b u i l d ( ) } v a r   j = f u n c t i o n ( a , b ) { r e t u r n " a x i s - " + a + " - " + b } ; r e t u r n   i . p r o t o t y p e = O b j e c t . c r e a t e ( e . p r o t o t y p e ) , i . p r o t o t y p e . _ c o n f i g = n u l l , i . p r o t o t y p e . _ c h a r t j s = n u l l , i . p r o t o t y p e . _ c a n v a s = n u l l , i . p r o t o t y p e . _ b u i l d = f u n c t i o n ( ) { t h i s . _ c o n f i g = t h i s . _ m a k e C o n f i g ( ) , t h i s . _ c h a r t j s = n e w   b ( t h i s . _ c a n v a s [ 0 ] , t h i s . _ c o n f i g ) } , i . p r o t o t y p e . _ c l e a n D a t a = f u n c t i o n ( b ) { r e t u r n   b   i n s t a n c e o f   A r r a y ? b . m a p ( f u n c t i o n ( b ) { r e t u r n   a ( " < s p a n > " ) . h t m l ( b ) . t e x t ( ) } ) : a ( " < s p a n > " ) . h t m l ( b ) . t e x t ( ) } , i . p r o t o t y p e . _ g e t C h a r t T y p e = f u n c t i o n ( ) { v a r   a = t h i s . _ c h a r t . g e t T y p e ( ) ; r e t u r n   t h i s . _ c h a r t . g e t T y p e ( ) = = = d . p r o t o t y p e . T Y P E & & t h i s . _ c h a r t . g e t H o r i z o n t a l ( ) = = = ! 0 ? a = " h o r i z o n t a l B a r " : t h i s . _ c h a r t . g e t T y p e ( ) = = = g . p r o t o t y p e . T Y P E & & t h i s . _ c h a r t . g e t D o u g h n u t ( ) = = = ! 0 & & ( a = " d o u g h n u t " ) , a } , i . p r o t o t y p e . _ m a k e A x i s C o n f i g = f u n c t i o n ( a , b , d ) { v a r   e = { i d : j ( b , d ) } ; r e t u r n   a . g e t P o s i t i o n ( ) ! = = c . p r o t o t y p e . P O S _ D E F A U L T & & ( e . p o s i t i o n = a . g e t P o s i t i o n ( ) ) , n u l l ! = = a . g e t L a b e l ( ) & & ( e . s c a l e L a b e l = { d i s p l a y : ! 0 , l a b e l S t r i n g : t h i s . _ c l e a n D a t a ( a . g e t L a b e l ( ) ) } ) , n u l l ! = = a . g e t S t e p S i z e ( ) & & ( e . t i c k s = e . t i c k s | | { } , e . t i c k s . s t e p S i z e = a . g e t S t e p S i z e ( ) ) , n u l l ! = = a . g e t M a x ( ) & & ( e . t i c k s = e . t i c k s | | { } , e . t i c k s . m a x = a . g e t M a x ( ) ) , n u l l ! = = a . g e t M i n ( ) & & ( e . t i c k s = e . t i c k s | | { } , e . t i c k s . m i n = a . g e t M i n ( ) ) , e } , i . p r o t o t y p e . _ m a k e C o n f i g = f u n c t i o n ( ) { v a r   a = { t y p e : t h i s . _ g e t C h a r t T y p e ( ) , d a t a : { l a b e l s : t h i s . _ c l e a n D a t a ( t h i s . _ c h a r t . g e t L a b e l s ( ) ) , d a t a s e t s : t h i s . _ m a k e D a t a s e t s C o n f i g ( ) } , o p t i o n s : { t i t l e : { d i s p l a y : n u l l ! = = t h i s . _ c h a r t . g e t T i t l e ( ) , t e x t : t h i s . _ c l e a n D a t a ( t h i s . _ c h a r t . g e t T i t l e ( ) ) } } } ; r e t u r n   t h i s . _ c h a r t . g e t X A x e s ( ) . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = b . g e t L a b e l s ( ) ; a . o p t i o n s . s c a l e s = a . o p t i o n s . s c a l e s | | { } , a . o p t i o n s . s c a l e s . x A x e s = a . o p t i o n s . s c a l e s . x A x e s | | [ ] , a . o p t i o n s . s c a l e s . x A x e s [ c ] = t h i s . _ m a k e A x i s C o n f i g ( b , " x " , c ) , n u l l ! = = d & & ( a . o p t i o n s . s c a l e s . x A x e s [ c ] . t i c k s . c a l l b a c k = f u n c t i o n ( a , b ) { r e t u r n   d [ b ] | | " " } ) , a . o p t i o n s . s c a l e s . x A x e s [ c ] . s t a c k e d = t h i s . _ i s S t a c k e d ( ) } . b i n d ( t h i s ) ) , t h i s . _ c h a r t . g e t Y A x e s ( ) . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = b . g e t L a b e l s ( ) ; a . o p t i o n s . s c a l e s = a . o p t i o n s . s c a l e s | | { } , a . o p t i o n s . s c a l e s . y A x e s = a . o p t i o n s . s c a l e s . y A x e s | | [ ] , a . o p t i o n s . s c a l e s . y A x e s [ c ] = t h i s . _ m a k e A x i s C o n f i g ( b , " y " , c ) , n u l l ! = = d & & ( a . o p t i o n s . s c a l e s . y A x e s [ c ] . t i c k s . c a l l b a c k = f u n c t i o n ( a ) { r e t u r n   d [ p a r s e I n t ( a , 1 0 ) ] | | " " } ) , a . o p t i o n s . s c a l e s . y A x e s [ c ] . s t a c k e d = t h i s . _ i s S t a c k e d ( ) } . b i n d ( t h i s ) ) , a . o p t i o n s . t o o l t i p s = { c a l l b a c k s : { l a b e l : t h i s . _ m a k e T o o l t i p . b i n d ( t h i s ) } } , a } , i . p r o t o t y p e . _ m a k e D a t a s e t s C o n f i g = f u n c t i o n ( ) { v a r   a = t h i s . _ c h a r t . g e t S e r i e s ( ) . m a p ( f u n c t i o n ( a ) { v a r   b = a . h a s C o l o r e d V a l u e s ( ) ? a . g e t C o l o r s ( ) : a . g e t C o l o r ( ) , c = { l a b e l : t h i s . _ c l e a n D a t a ( a . g e t L a b e l ( ) ) , d a t a : a . g e t V a l u e s ( ) , t y p e : a . g e t T y p e ( ) , f i l l : ! 1 , b a c k g r o u n d C o l o r : b , b o r d e r C o l o r : t h i s . _ c h a r t . g e t T y p e ( ) = = g . p r o t o t y p e . T Y P E ? " # f f f " : b , l i n e T e n s i o n : t h i s . _ i s S m o o t h ( a ) ? . 3 : 0 } ; r e t u r n   n u l l ! = = a . g e t X A x i s ( ) & & ( c . x A x i s I D = j ( " x " , a . g e t X A x i s ( ) ) ) , n u l l ! = = a . g e t Y A x i s ( ) & & ( c . y A x i s I D = j ( " y " , a . g e t Y A x i s ( ) ) ) , c } . b i n d ( t h i s ) ) ; r e t u r n   a } , i . p r o t o t y p e . _ m a k e T o o l t i p = f u n c t i o n ( a , b ) { v a r   c = t h i s . _ c h a r t . g e t S e r i e s ( ) [ a . d a t a s e t I n d e x ] , d = c . g e t L a b e l ( ) , e = c . g e t L a b e l s ( ) , f = b . d a t a s e t s [ a . d a t a s e t I n d e x ] . d a t a , g = f [ a . i n d e x ] , h = [ ] ; i f ( " " = = a . x L a b e l & & " " = = a . y L a b e l ) { v a r   i = t h i s . _ c l e a n D a t a ( t h i s . _ c h a r t . g e t L a b e l s ( ) ) ; h . p u s h ( i [ a . i n d e x ] ) } r e t u r n   n u l l ! = = e ? h . p u s h ( t h i s . _ c l e a n D a t a ( e [ a . i n d e x ] ) ) : h . p u s h ( t h i s . _ c l e a n D a t a ( d ) + " :   " + g ) , h } , i . p r o t o t y p e . _ i s S m o o t h = f u n c t i o n ( a ) { v a r   b = ! 1 ; r e t u r n   t h i s . _ c h a r t . g e t T y p e ( ) = = = f . p r o t o t y p e . T Y P E ? ( b = a . g e t S m o o t h ( ) , n u l l = = = b & & ( b = t h i s . _ c h a r t . g e t S m o o t h ( ) ) ) : a . g e t T y p e ( ) = = = h . p r o t o t y p e . T Y P E _ L I N E & & ( b = a . g e t S m o o t h ( ) ) , b } , i . p r o t o t y p e . _ i s S t a c k e d = f u n c t i o n ( ) { v a r   a = ! 1 ; r e t u r n   t h i s . _ c h a r t . g e t T y p e ( ) = = = d . p r o t o t y p e . T Y P E & & ( a = t h i s . _ c h a r t . g e t S t a c k e d ( ) ) , a } , i . p r o t o t y p e . u p d a t e = f u n c t i o n ( ) { a . e x t e n d ( ! 0 , t h i s . _ c o n f i g , t h i s . _ m a k e C o n f i g ( ) ) , t h i s . _ c h a r t j s . u p d a t e ( ) } , i } ) ; 
 d e f i n e ( ' c o r e / p u b s u b ' ,   [ ] , f u n c t i o n ( ) { v a r   a = { } , b = f u n c t i o n ( b , c ) { a [ b ] = a [ b ] | | [ ] , a [ b ] . p u s h ( c ) } , c = f u n c t i o n ( b , c ) { i f ( a [ b ] ) f o r ( v a r   d = 0 ; d < a [ b ] . l e n g t h ; d + + ) i f ( a [ b ] [ d ] = = = c ) { a [ b ] . s p l i c e ( d , 1 ) ; b r e a k } } , d = f u n c t i o n ( b , c ) { a [ b ] & & a [ b ] . f o r E a c h ( f u n c t i o n ( a ) { a ( c ) } ) } ; r e t u r n { s u b s c r i b e : b , u n s u b s c r i b e : c , p u b l i s h : d } } ) ; 
 d e f i n e ( ' c o r e / p a g e d _ c o n t e n t _ p a g i n g _ b a r ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p a g e d _ c o n t e n t _ e v e n t s " , " c o r e / s t r " , " c o r e / p u b s u b " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { R O O T : ' [ d a t a - r e g i o n = " p a g i n g - b a r " ] ' , P A G E : " [ d a t a - p a g e ] " , P A G E _ I T E M : ' [ d a t a - r e g i o n = " p a g e - i t e m " ] ' , P A G E _ L I N K : ' [ d a t a - r e g i o n = " p a g e - l i n k " ] ' , F I R S T _ B U T T O N : ' [ d a t a - c o n t r o l = " f i r s t " ] ' , L A S T _ B U T T O N : ' [ d a t a - c o n t r o l = " l a s t " ] ' , N E X T _ B U T T O N : ' [ d a t a - c o n t r o l = " n e x t " ] ' , P R E V I O U S _ B U T T O N : ' [ d a t a - c o n t r o l = " p r e v i o u s " ] ' } , g = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( f . P A G E _ I T E M + ' [ d a t a - p a g e - n u m b e r = " ' + b + ' " ] ' ) } , h = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( f . N E X T _ B U T T O N ) } , i = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - l a s t - p a g e - n u m b e r " , b ) } , j = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - l a s t - p a g e - n u m b e r " ) , 1 0 ) } , k = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - a c t i v e - p a g e - n u m b e r " ) , 1 0 ) } , l = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - a c t i v e - p a g e - n u m b e r " , b ) } , m = f u n c t i o n ( a ) { v a r   b = k ( a ) ; r e t u r n ! i s N a N ( b ) & & 0 ! = b } , n = f u n c t i o n ( a , b ) { i f ( v o i d   0 ! = b . a t t r ( " d a t a - p a g e " ) ) r e t u r n   p a r s e I n t ( b . a t t r ( " d a t a - p a g e - n u m b e r " ) , 1 0 ) ; v a r   c = 1 , d = n u l l ; s w i t c h ( b . a t t r ( " d a t a - c o n t r o l " ) ) { c a s e " f i r s t " : c = 1 ; b r e a k ; c a s e " l a s t " : c = j ( a ) ; b r e a k ; c a s e " n e x t " : d = k ( a ) ; v a r   e = j ( a ) ; c = e ? d & & d < e ? d + 1 : e : d + 1 ; b r e a k ; c a s e " p r e v i o u s " : d = k ( a ) , c = d & & d > 1 ? d - 1 : 1 ; b r e a k ; d e f a u l t : c = 1 } r e t u r n   p a r s e I n t ( c , 1 0 ) } , o = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - i t e m s - p e r - p a g e " ) , 1 0 ) } , p = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - i t e m s - p e r - p a g e " , b ) } , q = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( a ) { a . a d d C l a s s ( " h i d d e n " ) } , s = f u n c t i o n ( a ) { v a r   b = a . f i n d ( f . N E X T _ B U T T O N ) , c = a . f i n d ( f . L A S T _ B U T T O N ) ; b . a d d C l a s s ( " d i s a b l e d " ) , b . a t t r ( " a r i a - d i s a b l e d " , ! 0 ) , c . a d d C l a s s ( " d i s a b l e d " ) , c . a t t r ( " a r i a - d i s a b l e d " , ! 0 ) } , t = f u n c t i o n ( a ) { v a r   b = a . f i n d ( f . N E X T _ B U T T O N ) , c = a . f i n d ( f . L A S T _ B U T T O N ) ; b . r e m o v e C l a s s ( " d i s a b l e d " ) , b . r e m o v e A t t r ( " a r i a - d i s a b l e d " ) , c . r e m o v e C l a s s ( " d i s a b l e d " ) , c . r e m o v e A t t r ( " a r i a - d i s a b l e d " ) } , u = f u n c t i o n ( a ) { v a r   b = a . f i n d ( f . P R E V I O U S _ B U T T O N ) , c = a . f i n d ( f . F I R S T _ B U T T O N ) ; b . a d d C l a s s ( " d i s a b l e d " ) , b . a t t r ( " a r i a - d i s a b l e d " , ! 0 ) , c . a d d C l a s s ( " d i s a b l e d " ) , c . a t t r ( " a r i a - d i s a b l e d " , ! 0 ) } , v = f u n c t i o n ( a ) { v a r   b = a . f i n d ( f . P R E V I O U S _ B U T T O N ) , c = a . f i n d ( f . F I R S T _ B U T T O N ) ; b . r e m o v e C l a s s ( " d i s a b l e d " ) , b . r e m o v e A t t r ( " a r i a - d i s a b l e d " ) , c . r e m o v e C l a s s ( " d i s a b l e d " ) , c . r e m o v e A t t r ( " a r i a - d i s a b l e d " ) } , w = f u n c t i o n ( a ) { v a r   b = a . a t t r ( " d a t a - a r i a - l a b e l - c o m p o n e n t s - p a g i n a t i o n - i t e m " ) , c = b . s p l i t ( " , " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t r i m ( ) } ) ; r e t u r n   c } , x = f u n c t i o n ( a ) { v a r   b = a . a t t r ( " d a t a - a r i a - l a b e l - c o m p o n e n t s - p a g i n a t i o n - a c t i v e - i t e m " ) , c = b . s p l i t ( " , " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t r i m ( ) } ) ; r e t u r n   c } , y = f u n c t i o n ( b , c ) { v a r   d = 0 ; l ( b , 0 ) , c . e a c h ( f u n c t i o n ( c , e ) { v a r   f = c + 1 ; e = a ( e ) , e . a t t r ( " d a t a - p a g e - n u m b e r " , f ) , d + + , e . h a s C l a s s ( " a c t i v e " ) & & l ( b , f ) } ) , i ( b , d ) } , z = f u n c t i o n ( b ) { v a r   c = w ( b ) , e = x ( b ) , g = k ( b ) , h = b . f i n d ( f . P A G E _ I T E M ) , i = h . m a p ( f u n c t i o n ( d , f ) { f = a ( f ) ; v a r   h = n ( b , f ) ; r e t u r n   h = = = g ? { k e y : e [ 0 ] , c o m p o n e n t : e [ 1 ] , p a r a m : h } : { k e y : c [ 0 ] , c o m p o n e n t : c [ 1 ] , p a r a m : h } } ) ; d . g e t _ s t r i n g s ( i ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   h . e a c h ( f u n c t i o n ( c , d ) { d = a ( d ) ; v a r   e = b [ c ] ; d . a t t r ( " a r i a - l a b e l " , e ) , d . f i n d ( f . P A G E _ L I N K ) . a t t r ( " a r i a - l a b e l " , e ) } ) , b } ) [ " c a t c h " ] ( f u n c t i o n ( ) { } ) } , A = f u n c t i o n ( a , b , d ) { v a r   h = j ( a ) , i = b = = k ( a ) , m = o ( a ) , n = ( b - 1 ) * m ; i f ( ! i ) { a . f i n d ( f . P A G E _ I T E M ) . r e m o v e C l a s s ( " a c t i v e " ) . r e m o v e A t t r ( " a r i a - c u r r e n t " ) ; v a r   p = g ( a , b ) ; p . a d d C l a s s ( " a c t i v e " ) , p . a t t r ( " a r i a - c u r r e n t " , ! 0 ) , l ( a , b ) } h & & b > = h ? s ( a ) : t ( a ) , b > 1 ? v ( a ) : u ( a ) , z ( a ) , e . p u b l i s h ( d + c . S H O W _ P A G E S , [ { p a g e N u m b e r : b , l i m i t : m , o f f s e t : n } ] ) } , B = f u n c t i o n ( d , g ) { v a r   h = d . a t t r ( " d a t a - i g n o r e - c o n t r o l - w h i l e - l o a d i n g " ) , k = ! 1 ; " " = = h & & ( h = ! 0 ) , b . d e f i n e ( d , [ b . e v e n t s . a c t i v a t e ] ) , d . o n ( b . e v e n t s . a c t i v a t e , f . P A G E _ I T E M , f u n c t i o n ( b , c ) { i f ( c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) , ! h | | ! k ) { v a r   e = a ( b . t a r g e t ) . c l o s e s t ( f . P A G E _ I T E M ) ; i f ( ! e . h a s C l a s s ( " d i s a b l e d " ) ) { v a r   i = n ( d , e ) ; A ( d , i , g ) , k = ! 0 } } } ) , e . s u b s c r i b e ( g + c . A L L _ I T E M S _ L O A D E D , f u n c t i o n ( a ) { k = ! 1 ; v a r   b = j ( d ) ; ( ! b | | a < b ) & & i ( d , a ) , 1 = = = a & & d . a t t r ( " d a t a - h i d e - c o n t r o l - o n - s i n g l e - p a g e " ) ? ( r ( d ) , s ( d ) , u ( d ) ) : ( q ( d ) , s ( d ) ) } ) , e . s u b s c r i b e ( g + c . P A G E S _ S H O W N , f u n c t i o n ( ) { k = ! 1 } ) , e . s u b s c r i b e ( g + c . S E T _ I T E M S _ P E R _ P A G E _ L I M I T , f u n c t i o n ( a ) { p ( d , a ) , i ( d , 0 ) , l ( d , 0 ) , q ( d ) , A ( d , 1 , g ) } ) } , C = f u n c t i o n ( b , c ) { b = a ( b ) ; v a r   d = b . f i n d ( f . P A G E ) ; i f ( y ( b , d ) , B ( b , c ) , m ( b ) ) { v a r   e = k ( b ) ; g ( b , e ) . c l i c k ( ) , 1 = = e & & u ( b ) } e l s e   h ( b ) . c l i c k ( ) } ; r e t u r n { i n i t : C , s h o w P a g e : A , r o o t S e l e c t o r : f . R O O T } } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ p i e ' ,   [ " c o r e / c h a r t _ b a s e " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( ) { a . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , a r g u m e n t s ) } r e t u r n   b . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , b . p r o t o t y p e . T Y P E = " p i e " , b . p r o t o t y p e . _ d o u g h n u t = n u l l , b . p r o t o t y p e . c r e a t e = f u n c t i o n ( b , c ) { v a r   d = a . p r o t o t y p e . c r e a t e . a p p l y ( t h i s , a r g u m e n t s ) ; r e t u r n   d . s e t D o u g h n u t ( c . d o u g h n u t ) , d } , b . p r o t o t y p e . a d d S e r i e s = f u n c t i o n ( b ) { i f ( n u l l = = = b . g e t C o l o r ( ) ) { f o r ( v a r   c = [ ] , d = t h i s . g e t C o n f i g C o l o r S e t ( ) | | a . p r o t o t y p e . C O L O R S E T , e = 0 ; e < b . g e t C o u n t ( ) ; e + + ) c . p u s h ( d [ e % d . l e n g t h ] ) ; b . s e t C o l o r s ( c ) } r e t u r n   a . p r o t o t y p e . a d d S e r i e s . a p p l y ( t h i s , a r g u m e n t s ) } , b . p r o t o t y p e . g e t D o u g h n u t = f u n c t i o n ( ) { r e t u r n   t h i s . _ d o u g h n u t } , b . p r o t o t y p e . s e t D o u g h n u t = f u n c t i o n ( a ) { t h i s . _ d o u g h n u t = B o o l e a n ( a ) } , b . p r o t o t y p e . _ v a l i d a t e S e r i e s = f u n c t i o n ( ) { i f ( t h i s . _ s e r i e s . l e n g t h > = 1 ) t h r o w   n e w   E r r o r ( " P i e   c h a r t s   o n l y   s u p p o r t   o n e   s e r i e . " ) ; r e t u r n   a . p r o t o t y p e . _ v a l i d a t e S e r i e s . a p p l y ( t h i s , a r g u m e n t s ) } , b } ) ; 
 d e f i n e ( ' c o r e / i c o n _ s y s t e m _ s t a n d a r d ' ,   [ " c o r e / i c o n _ s y s t e m " , " c o r e / u r l " , " c o r e / m u s t a c h e " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( ) { a . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   d . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , d . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , d , e , f ) { v a r   g = b . i m a g e U r l ( a , d ) , h = { a t t r i b u t e s : [ { n a m e : " s r c " , v a l u e : g } , { n a m e : " a l t " , v a l u e : e } , { n a m e : " t i t l e " , v a l u e : e } ] } , i = c . r e n d e r ( f , h ) ; r e t u r n   i . t r i m ( ) } , d . p r o t o t y p e . g e t T e m p l a t e N a m e = f u n c t i o n ( ) { r e t u r n " c o r e / p i x _ i c o n " } , d } ) ; 
 ! f u n c t i o n ( a , b ) { " o b j e c t " = = t y p e o f   e x p o r t s & & " u n d e f i n e d " ! = t y p e o f   m o d u l e ? m o d u l e . e x p o r t s = b ( ) : " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' c o r e / p o p p e r ' ,   b ) : a . P o p p e r = b ( ) } ( t h i s , f u n c t i o n ( ) { " u s e   s t r i c t " ; f u n c t i o n   a ( a ) { v a r   b = ! 1 ; r e t u r n   f u n c t i o n ( ) { b | | ( b = ! 0 , P r o m i s e . r e s o l v e ( ) . t h e n ( f u n c t i o n ( ) { b = ! 1 , a ( ) } ) ) } } f u n c t i o n   b ( a ) { v a r   b = ! 1 ; r e t u r n   f u n c t i o n ( ) { b | | ( b = ! 0 , s e t T i m e o u t ( f u n c t i o n ( ) { b = ! 1 , a ( ) } , h a ) ) } } f u n c t i o n   c ( a ) { v a r   b = { } ; r e t u r n   a & & " [ o b j e c t   F u n c t i o n ] " = = = b . t o S t r i n g . c a l l ( a ) } f u n c t i o n   d ( a , b ) { i f ( 1 ! = = a . n o d e T y p e ) r e t u r n [ ] ; v a r   c = w i n d o w . g e t C o m p u t e d S t y l e ( a , n u l l ) ; r e t u r n   b ? c [ b ] : c } f u n c t i o n   e ( a ) { r e t u r n " H T M L " = = = a . n o d e N a m e ? a : a . p a r e n t N o d e | | a . h o s t } f u n c t i o n   f ( a ) { i f ( ! a ) r e t u r n   w i n d o w . d o c u m e n t . b o d y ; s w i t c h ( a . n o d e N a m e ) { c a s e " H T M L " : c a s e " B O D Y " : r e t u r n   a . o w n e r D o c u m e n t . b o d y ; c a s e " # d o c u m e n t " : r e t u r n   a . b o d y } v a r   b = d ( a ) , c = b . o v e r f l o w , g = b . o v e r f l o w X , h = b . o v e r f l o w Y ; r e t u r n / ( a u t o | s c r o l l ) / . t e s t ( c + h + g ) ? a : f ( e ( a ) ) } f u n c t i o n   g ( a ) { v a r   b = a & & a . o f f s e t P a r e n t , c = b & & b . n o d e N a m e ; r e t u r n   c & & " B O D Y " ! = = c & & " H T M L " ! = = c ? [ " T D " , " T A B L E " ] . i n d e x O f ( b . n o d e N a m e ) ! = = - 1 & & " s t a t i c " = = = d ( b , " p o s i t i o n " ) ? g ( b ) : b : a ? a . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t : w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t } f u n c t i o n   h ( a ) { v a r   b = a . n o d e N a m e ; r e t u r n " B O D Y " ! = = b & & ( " H T M L " = = = b | | g ( a . f i r s t E l e m e n t C h i l d ) = = = a ) } f u n c t i o n   i ( a ) { r e t u r n   n u l l ! = = a . p a r e n t N o d e ? i ( a . p a r e n t N o d e ) : a } f u n c t i o n   j ( a , b ) { i f ( ! ( a & & a . n o d e T y p e & & b & & b . n o d e T y p e ) ) r e t u r n   w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t ; v a r   c = a . c o m p a r e D o c u m e n t P o s i t i o n ( b ) & N o d e . D O C U M E N T _ P O S I T I O N _ F O L L O W I N G , d = c ? a : b , e = c ? b : a , f = d o c u m e n t . c r e a t e R a n g e ( ) ; f . s e t S t a r t ( d , 0 ) , f . s e t E n d ( e , 0 ) ; v a r   k = f . c o m m o n A n c e s t o r C o n t a i n e r ; i f ( a ! = = k & & b ! = = k | | d . c o n t a i n s ( e ) ) r e t u r n   h ( k ) ? k : g ( k ) ; v a r   l = i ( a ) ; r e t u r n   l . h o s t ? j ( l . h o s t , b ) : j ( a , i ( b ) . h o s t ) } f u n c t i o n   k ( a ) { v a r   b = a r g u m e n t s . l e n g t h > 1 & & v o i d   0 ! = = a r g u m e n t s [ 1 ] ? a r g u m e n t s [ 1 ] : " t o p " , c = " t o p " = = = b ? " s c r o l l T o p " : " s c r o l l L e f t " , d = a . n o d e N a m e ; i f ( " B O D Y " = = = d | | " H T M L " = = = d ) { v a r   e = a . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t , f = a . o w n e r D o c u m e n t . s c r o l l i n g E l e m e n t | | e ; r e t u r n   f [ c ] } r e t u r n   a [ c ] } f u n c t i o n   l ( a , b ) { v a r   c = a r g u m e n t s . l e n g t h > 2 & & v o i d   0 ! = = a r g u m e n t s [ 2 ] & & a r g u m e n t s [ 2 ] , d = k ( b , " t o p " ) , e = k ( b , " l e f t " ) , f = c ? - 1 : 1 ; r e t u r n   a . t o p + = d * f , a . b o t t o m + = d * f , a . l e f t + = e * f , a . r i g h t + = e * f , a } f u n c t i o n   m ( a , b ) { v a r   c = " x " = = = b ? " L e f t " : " T o p " , d = " L e f t " = = = c ? " R i g h t " : " B o t t o m " ; r e t u r n + a [ " b o r d e r " + c + " W i d t h " ] . s p l i t ( " p x " ) [ 0 ] +   + a [ " b o r d e r " + d + " W i d t h " ] . s p l i t ( " p x " ) [ 0 ] } f u n c t i o n   n ( a , b , c , d ) { r e t u r n   M a t h . m a x ( b [ " o f f s e t " + a ] , b [ " s c r o l l " + a ] , c [ " c l i e n t " + a ] , c [ " o f f s e t " + a ] , c [ " s c r o l l " + a ] , m a ( ) ? c [ " o f f s e t " + a ] + d [ " m a r g i n " + ( " H e i g h t " = = = a ? " T o p " : " L e f t " ) ] + d [ " m a r g i n " + ( " H e i g h t " = = = a ? " B o t t o m " : " R i g h t " ) ] : 0 ) } f u n c t i o n   o ( ) { v a r   a = w i n d o w . d o c u m e n t . b o d y , b = w i n d o w . d o c u m e n t . d o c u m e n t E l e m e n t , c = m a ( ) & & w i n d o w . g e t C o m p u t e d S t y l e ( b ) ; r e t u r n { h e i g h t : n ( " H e i g h t " , a , b , c ) , w i d t h : n ( " W i d t h " , a , b , c ) } } f u n c t i o n   p ( a ) { r e t u r n   q a ( { } , a , { r i g h t : a . l e f t + a . w i d t h , b o t t o m : a . t o p + a . h e i g h t } ) } f u n c t i o n   q ( a ) { v a r   b = { } ; i f ( m a ( ) ) t r y { b = a . g e t B o u n d i n g C l i e n t R e c t ( ) ; v a r   c = k ( a , " t o p " ) , e = k ( a , " l e f t " ) ; b . t o p + = c , b . l e f t + = e , b . b o t t o m + = c , b . r i g h t + = e } c a t c h ( f ) { } e l s e   b = a . g e t B o u n d i n g C l i e n t R e c t ( ) ; v a r   g = { l e f t : b . l e f t , t o p : b . t o p , w i d t h : b . r i g h t - b . l e f t , h e i g h t : b . b o t t o m - b . t o p } , h = " H T M L " = = = a . n o d e N a m e ? o ( ) : { } , i = h . w i d t h | | a . c l i e n t W i d t h | | g . r i g h t - g . l e f t , j = h . h e i g h t | | a . c l i e n t H e i g h t | | g . b o t t o m - g . t o p , l = a . o f f s e t W i d t h - i , n = a . o f f s e t H e i g h t - j ; i f ( l | | n ) { v a r   q = d ( a ) ; l - = m ( q , " x " ) , n - = m ( q , " y " ) , g . w i d t h - = l , g . h e i g h t - = n } r e t u r n   p ( g ) } f u n c t i o n   r ( a , b ) { v a r   c = m a ( ) , e = " H T M L " = = = b . n o d e N a m e , g = q ( a ) , h = q ( b ) , i = f ( a ) , j = d ( b ) , k = + j . b o r d e r T o p W i d t h . s p l i t ( " p x " ) [ 0 ] , m = + j . b o r d e r L e f t W i d t h . s p l i t ( " p x " ) [ 0 ] , n = p ( { t o p : g . t o p - h . t o p - k , l e f t : g . l e f t - h . l e f t - m , w i d t h : g . w i d t h , h e i g h t : g . h e i g h t } ) ; i f ( n . m a r g i n T o p = 0 , n . m a r g i n L e f t = 0 , ! c & & e ) { v a r   o = + j . m a r g i n T o p . s p l i t ( " p x " ) [ 0 ] , r = + j . m a r g i n L e f t . s p l i t ( " p x " ) [ 0 ] ; n . t o p - = k - o , n . b o t t o m - = k - o , n . l e f t - = m - r , n . r i g h t - = m - r , n . m a r g i n T o p = o , n . m a r g i n L e f t = r } r e t u r n ( c ? b . c o n t a i n s ( i ) : b = = = i & & " B O D Y " ! = = i . n o d e N a m e ) & & ( n = l ( n , b ) ) , n } f u n c t i o n   s ( a ) { v a r   b = a . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t , c = r ( a , b ) , d = M a t h . m a x ( b . c l i e n t W i d t h , w i n d o w . i n n e r W i d t h | | 0 ) , e = M a t h . m a x ( b . c l i e n t H e i g h t , w i n d o w . i n n e r H e i g h t | | 0 ) , f = k ( b ) , g = k ( b , " l e f t " ) , h = { t o p : f - c . t o p + c . m a r g i n T o p , l e f t : g - c . l e f t + c . m a r g i n L e f t , w i d t h : d , h e i g h t : e } ; r e t u r n   p ( h ) } f u n c t i o n   t ( a ) { v a r   b = a . n o d e N a m e ; r e t u r n " B O D Y " ! = = b & & " H T M L " ! = = b & & ( " f i x e d " = = = d ( a , " p o s i t i o n " ) | | t ( e ( a ) ) ) } f u n c t i o n   u ( a , b , c , d ) { v a r   g = { t o p : 0 , l e f t : 0 } , h = j ( a , b ) ; i f ( " v i e w p o r t " = = = d ) g = s ( h ) ; e l s e { v a r   i = v o i d   0 ; " s c r o l l P a r e n t " = = = d ? ( i = f ( e ( a ) ) , " B O D Y " = = = i . n o d e N a m e & & ( i = a . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t ) ) : i = " w i n d o w " = = = d ? a . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t : d ; v a r   k = r ( i , h ) ; i f ( " H T M L " ! = = i . n o d e N a m e | | t ( h ) ) g = k ; e l s e { v a r   l = o ( ) , m = l . h e i g h t , n = l . w i d t h ; g . t o p + = k . t o p - k . m a r g i n T o p , g . b o t t o m = m + k . t o p , g . l e f t + = k . l e f t - k . m a r g i n L e f t , g . r i g h t = n + k . l e f t } } r e t u r n   g . l e f t + = c , g . t o p + = c , g . r i g h t - = c , g . b o t t o m - = c , g } f u n c t i o n   v ( a ) { v a r   b = a . w i d t h , c = a . h e i g h t ; r e t u r n   b * c } f u n c t i o n   w ( a , b , c , d , e ) { v a r   f = a r g u m e n t s . l e n g t h > 5 & & v o i d   0 ! = = a r g u m e n t s [ 5 ] ? a r g u m e n t s [ 5 ] : 0 ; i f ( a . i n d e x O f ( " a u t o " ) = = = - 1 ) r e t u r n   a ; v a r   g = u ( c , d , f , e ) , h = { t o p : { w i d t h : g . w i d t h , h e i g h t : b . t o p - g . t o p } , r i g h t : { w i d t h : g . r i g h t - b . r i g h t , h e i g h t : g . h e i g h t } , b o t t o m : { w i d t h : g . w i d t h , h e i g h t : g . b o t t o m - b . b o t t o m } , l e f t : { w i d t h : b . l e f t - g . l e f t , h e i g h t : g . h e i g h t } } , i = O b j e c t . k e y s ( h ) . m a p ( f u n c t i o n ( a ) { r e t u r n   q a ( { k e y : a } , h [ a ] , { a r e a : v ( h [ a ] ) } ) } ) . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   b . a r e a - a . a r e a } ) , j = i . f i l t e r ( f u n c t i o n ( a ) { v a r   b = a . w i d t h , d = a . h e i g h t ; r e t u r n   b > = c . c l i e n t W i d t h & & d > = c . c l i e n t H e i g h t } ) , k = j . l e n g t h > 0 ? j [ 0 ] . k e y : i [ 0 ] . k e y , l = a . s p l i t ( " - " ) [ 1 ] ; r e t u r n   k + ( l ? " - " + l : " " ) } f u n c t i o n   x ( a , b , c ) { v a r   d = j ( b , c ) ; r e t u r n   r ( c , d ) } f u n c t i o n   y ( a ) { v a r   b = w i n d o w . g e t C o m p u t e d S t y l e ( a ) , c = p a r s e F l o a t ( b . m a r g i n T o p ) + p a r s e F l o a t ( b . m a r g i n B o t t o m ) , d = p a r s e F l o a t ( b . m a r g i n L e f t ) + p a r s e F l o a t ( b . m a r g i n R i g h t ) , e = { w i d t h : a . o f f s e t W i d t h + d , h e i g h t : a . o f f s e t H e i g h t + c } ; r e t u r n   e } f u n c t i o n   z ( a ) { v a r   b = { l e f t : " r i g h t " , r i g h t : " l e f t " , b o t t o m : " t o p " , t o p : " b o t t o m " } ; r e t u r n   a . r e p l a c e ( / l e f t | r i g h t | b o t t o m | t o p / g , f u n c t i o n ( a ) { r e t u r n   b [ a ] } ) } f u n c t i o n   A ( a , b , c ) { c = c . s p l i t ( " - " ) [ 0 ] ; v a r   d = y ( a ) , e = { w i d t h : d . w i d t h , h e i g h t : d . h e i g h t } , f = [ " r i g h t " , " l e f t " ] . i n d e x O f ( c ) ! = = - 1 , g = f ? " t o p " : " l e f t " , h = f ? " l e f t " : " t o p " , i = f ? " h e i g h t " : " w i d t h " , j = f ? " w i d t h " : " h e i g h t " ; r e t u r n   e [ g ] = b [ g ] + b [ i ] / 2 - d [ i ] / 2 , c = = = h ? e [ h ] = b [ h ] - d [ j ] : e [ h ] = b [ z ( h ) ] , e } f u n c t i o n   B ( a , b ) { r e t u r n   A r r a y . p r o t o t y p e . f i n d ? a . f i n d ( b ) : a . f i l t e r ( b ) [ 0 ] } f u n c t i o n   C ( a , b , c ) { i f ( A r r a y . p r o t o t y p e . f i n d I n d e x ) r e t u r n   a . f i n d I n d e x ( f u n c t i o n ( a ) { r e t u r n   a [ b ] = = = c } ) ; v a r   d = B ( a , f u n c t i o n ( a ) { r e t u r n   a [ b ] = = = c } ) ; r e t u r n   a . i n d e x O f ( d ) } f u n c t i o n   D ( a , b , d ) { v a r   e = v o i d   0 = = = d ? a : a . s l i c e ( 0 , C ( a , " n a m e " , d ) ) ; r e t u r n   e . f o r E a c h ( f u n c t i o n ( a ) { a [ " f u n c t i o n " ] & & c o n s o l e . w a r n ( " ` m o d i f i e r . f u n c t i o n `   i s   d e p r e c a t e d ,   u s e   ` m o d i f i e r . f n ` ! " ) ; v a r   d = a [ " f u n c t i o n " ] | | a . f n ; a . e n a b l e d & & c ( d ) & & ( b . o f f s e t s . p o p p e r = p ( b . o f f s e t s . p o p p e r ) , b . o f f s e t s . r e f e r e n c e = p ( b . o f f s e t s . r e f e r e n c e ) , b = d ( b , a ) ) } ) , b } f u n c t i o n   E ( ) { i f ( ! t h i s . s t a t e . i s D e s t r o y e d ) { v a r   a = { i n s t a n c e : t h i s , s t y l e s : { } , a r r o w S t y l e s : { } , a t t r i b u t e s : { } , f l i p p e d : ! 1 , o f f s e t s : { } } ; a . o f f s e t s . r e f e r e n c e = x ( t h i s . s t a t e , t h i s . p o p p e r , t h i s . r e f e r e n c e ) , a . p l a c e m e n t = w ( t h i s . o p t i o n s . p l a c e m e n t , a . o f f s e t s . r e f e r e n c e , t h i s . p o p p e r , t h i s . r e f e r e n c e , t h i s . o p t i o n s . m o d i f i e r s . f l i p . b o u n d a r i e s E l e m e n t , t h i s . o p t i o n s . m o d i f i e r s . f l i p . p a d d i n g ) , a . o r i g i n a l P l a c e m e n t = a . p l a c e m e n t , a . o f f s e t s . p o p p e r = A ( t h i s . p o p p e r , a . o f f s e t s . r e f e r e n c e , a . p l a c e m e n t ) , a . o f f s e t s . p o p p e r . p o s i t i o n = " a b s o l u t e " , a = D ( t h i s . m o d i f i e r s , a ) , t h i s . s t a t e . i s C r e a t e d ? t h i s . o p t i o n s . o n U p d a t e ( a ) : ( t h i s . s t a t e . i s C r e a t e d = ! 0 , t h i s . o p t i o n s . o n C r e a t e ( a ) ) } } f u n c t i o n   F ( a , b ) { r e t u r n   a . s o m e ( f u n c t i o n ( a ) { v a r   c = a . n a m e , d = a . e n a b l e d ; r e t u r n   d & & c = = = b } ) } f u n c t i o n   G ( a ) { f o r ( v a r   b = [ ! 1 , " m s " , " W e b k i t " , " M o z " , " O " ] , c = a . c h a r A t ( 0 ) . t o U p p e r C a s e ( ) + a . s l i c e ( 1 ) , d = 0 ; d < b . l e n g t h - 1 ; d + + ) { v a r   e = b [ d ] , f = e ? " " + e + c : a ; i f ( " u n d e f i n e d " ! = t y p e o f   w i n d o w . d o c u m e n t . b o d y . s t y l e [ f ] ) r e t u r n   f } r e t u r n   n u l l } f u n c t i o n   H ( ) { r e t u r n   t h i s . s t a t e . i s D e s t r o y e d = ! 0 , F ( t h i s . m o d i f i e r s , " a p p l y S t y l e " ) & & ( t h i s . p o p p e r . r e m o v e A t t r i b u t e ( " x - p l a c e m e n t " ) , t h i s . p o p p e r . s t y l e . l e f t = " " , t h i s . p o p p e r . s t y l e . p o s i t i o n = " " , t h i s . p o p p e r . s t y l e . t o p = " " , t h i s . p o p p e r . s t y l e [ G ( " t r a n s f o r m " ) ] = " " ) , t h i s . d i s a b l e E v e n t L i s t e n e r s ( ) , t h i s . o p t i o n s . r e m o v e O n D e s t r o y & & t h i s . p o p p e r . p a r e n t N o d e . r e m o v e C h i l d ( t h i s . p o p p e r ) , t h i s } f u n c t i o n   I ( a ) { v a r   b = a . o w n e r D o c u m e n t ; r e t u r n   b ? b . d e f a u l t V i e w : w i n d o w } f u n c t i o n   J ( a , b , c , d ) { v a r   e = " B O D Y " = = = a . n o d e N a m e , g = e ? a . o w n e r D o c u m e n t . d e f a u l t V i e w : a ; g . a d d E v e n t L i s t e n e r ( b , c , { p a s s i v e : ! 0 } ) , e | | J ( f ( g . p a r e n t N o d e ) , b , c , d ) , d . p u s h ( g ) } f u n c t i o n   K ( a , b , c , d ) { c . u p d a t e B o u n d = d , I ( a ) . a d d E v e n t L i s t e n e r ( " r e s i z e " , c . u p d a t e B o u n d , { p a s s i v e : ! 0 } ) ; v a r   e = f ( a ) ; r e t u r n   J ( e , " s c r o l l " , c . u p d a t e B o u n d , c . s c r o l l P a r e n t s ) , c . s c r o l l E l e m e n t = e , c . e v e n t s E n a b l e d = ! 0 , c } f u n c t i o n   L ( ) { t h i s . s t a t e . e v e n t s E n a b l e d | | ( t h i s . s t a t e = K ( t h i s . r e f e r e n c e , t h i s . o p t i o n s , t h i s . s t a t e , t h i s . s c h e d u l e U p d a t e ) ) } f u n c t i o n   M ( a , b ) { r e t u r n   I ( a ) . r e m o v e E v e n t L i s t e n e r ( " r e s i z e " , b . u p d a t e B o u n d ) , b . s c r o l l P a r e n t s . f o r E a c h ( f u n c t i o n ( a ) { a . r e m o v e E v e n t L i s t e n e r ( " s c r o l l " , b . u p d a t e B o u n d ) } ) , b . u p d a t e B o u n d = n u l l , b . s c r o l l P a r e n t s = [ ] , b . s c r o l l E l e m e n t = n u l l , b . e v e n t s E n a b l e d = ! 1 , b } f u n c t i o n   N ( ) { t h i s . s t a t e . e v e n t s E n a b l e d & & ( w i n d o w . c a n c e l A n i m a t i o n F r a m e ( t h i s . s c h e d u l e U p d a t e ) , t h i s . s t a t e = M ( t h i s . r e f e r e n c e , t h i s . s t a t e ) ) } f u n c t i o n   O ( a ) { r e t u r n " " ! = = a & & ! i s N a N ( p a r s e F l o a t ( a ) ) & & i s F i n i t e ( a ) } f u n c t i o n   P ( a , b ) { O b j e c t . k e y s ( b ) . f o r E a c h ( f u n c t i o n ( c ) { v a r   d = " " ; [ " w i d t h " , " h e i g h t " , " t o p " , " r i g h t " , " b o t t o m " , " l e f t " ] . i n d e x O f ( c ) ! = = - 1 & & O ( b [ c ] ) & & ( d = " p x " ) , a . s t y l e [ c ] = b [ c ] + d } ) } f u n c t i o n   Q ( a , b ) { O b j e c t . k e y s ( b ) . f o r E a c h ( f u n c t i o n ( c ) { v a r   d = b [ c ] ; d ! = = ! 1 ? a . s e t A t t r i b u t e ( c , b [ c ] ) : a . r e m o v e A t t r i b u t e ( c ) } ) } f u n c t i o n   R ( a ) { r e t u r n   P ( a . i n s t a n c e . p o p p e r , a . s t y l e s ) , Q ( a . i n s t a n c e . p o p p e r , a . a t t r i b u t e s ) , a . a r r o w E l e m e n t & & O b j e c t . k e y s ( a . a r r o w S t y l e s ) . l e n g t h & & P ( a . a r r o w E l e m e n t , a . a r r o w S t y l e s ) , a } f u n c t i o n   S ( a , b , c , d , e ) { v a r   f = x ( e , b , a ) , g = w ( c . p l a c e m e n t , f , b , a , c . m o d i f i e r s . f l i p . b o u n d a r i e s E l e m e n t , c . m o d i f i e r s . f l i p . p a d d i n g ) ; r e t u r n   b . s e t A t t r i b u t e ( " x - p l a c e m e n t " , g ) , P ( b , { p o s i t i o n : " a b s o l u t e " } ) , c } f u n c t i o n   T ( a , b ) { v a r   c = b . x , d = b . y , e = a . o f f s e t s . p o p p e r , f = B ( a . i n s t a n c e . m o d i f i e r s , f u n c t i o n ( a ) { r e t u r n " a p p l y S t y l e " = = = a . n a m e } ) . g p u A c c e l e r a t i o n ; v o i d   0 ! = = f & & c o n s o l e . w a r n ( " W A R N I N G :   ` g p u A c c e l e r a t i o n `   o p t i o n   m o v e d   t o   ` c o m p u t e S t y l e `   m o d i f i e r   a n d   w i l l   n o t   b e   s u p p o r t e d   i n   f u t u r e   v e r s i o n s   o f   P o p p e r . j s ! " ) ; v a r   h = v o i d   0 ! = = f ? f : b . g p u A c c e l e r a t i o n , i = g ( a . i n s t a n c e . p o p p e r ) , j = q ( i ) , k = { p o s i t i o n : e . p o s i t i o n } , l = { l e f t : M a t h . f l o o r ( e . l e f t ) , t o p : M a t h . f l o o r ( e . t o p ) , b o t t o m : M a t h . f l o o r ( e . b o t t o m ) , r i g h t : M a t h . f l o o r ( e . r i g h t ) } , m = " b o t t o m " = = = c ? " t o p " : " b o t t o m " , n = " r i g h t " = = = d ? " l e f t " : " r i g h t " , o = G ( " t r a n s f o r m " ) , p = v o i d   0 , r = v o i d   0 ; i f ( r = " b o t t o m " = = = m ? - j . h e i g h t + l . b o t t o m : l . t o p , p = " r i g h t " = = = n ? - j . w i d t h + l . r i g h t : l . l e f t , h & & o ) k [ o ] = " t r a n s l a t e 3 d ( " + p + " p x ,   " + r + " p x ,   0 ) " , k [ m ] = 0 , k [ n ] = 0 , k . w i l l C h a n g e = " t r a n s f o r m " ; e l s e { v a r   s = " b o t t o m " = = = m ? - 1 : 1 , t = " r i g h t " = = = n ? - 1 : 1 ; k [ m ] = r * s , k [ n ] = p * t , k . w i l l C h a n g e = m + " ,   " + n } v a r   u = { " x - p l a c e m e n t " : a . p l a c e m e n t } ; r e t u r n   a . a t t r i b u t e s = q a ( { } , u , a . a t t r i b u t e s ) , a . s t y l e s = q a ( { } , k , a . s t y l e s ) , a . a r r o w S t y l e s = q a ( { } , a . o f f s e t s . a r r o w , a . a r r o w S t y l e s ) , a } f u n c t i o n   U ( a , b , c ) { v a r   d = B ( a , f u n c t i o n ( a ) { v a r   c = a . n a m e ; r e t u r n   c = = = b } ) , e = ! ! d & & a . s o m e ( f u n c t i o n ( a ) { r e t u r n   a . n a m e = = = c & & a . e n a b l e d & & a . o r d e r < d . o r d e r } ) ; i f ( ! e ) { v a r   f = " ` " + b + " ` " , g = " ` " + c + " ` " ; c o n s o l e . w a r n ( g + "   m o d i f i e r   i s   r e q u i r e d   b y   " + f + "   m o d i f i e r   i n   o r d e r   t o   w o r k ,   b e   s u r e   t o   i n c l u d e   i t   b e f o r e   " + f + " ! " ) } r e t u r n   e } f u n c t i o n   V ( a , b ) { i f ( ! U ( a . i n s t a n c e . m o d i f i e r s , " a r r o w " , " k e e p T o g e t h e r " ) ) r e t u r n   a ; v a r   c = b . e l e m e n t ; i f ( " s t r i n g " = = t y p e o f   c ) { i f ( c = a . i n s t a n c e . p o p p e r . q u e r y S e l e c t o r ( c ) , ! c ) r e t u r n   a } e l s e   i f ( ! a . i n s t a n c e . p o p p e r . c o n t a i n s ( c ) ) r e t u r n   c o n s o l e . w a r n ( " W A R N I N G :   ` a r r o w . e l e m e n t `   m u s t   b e   c h i l d   o f   i t s   p o p p e r   e l e m e n t ! " ) , a ; v a r   e = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , f = a . o f f s e t s , g = f . p o p p e r , h = f . r e f e r e n c e , i = [ " l e f t " , " r i g h t " ] . i n d e x O f ( e ) ! = = - 1 , j = i ? " h e i g h t " : " w i d t h " , k = i ? " T o p " : " L e f t " , l = k . t o L o w e r C a s e ( ) , m = i ? " l e f t " : " t o p " , n = i ? " b o t t o m " : " r i g h t " , o = y ( c ) [ j ] ; h [ n ] - o < g [ l ] & & ( a . o f f s e t s . p o p p e r [ l ] - = g [ l ] - ( h [ n ] - o ) ) , h [ l ] + o > g [ n ] & & ( a . o f f s e t s . p o p p e r [ l ] + = h [ l ] + o - g [ n ] ) ; v a r   q = h [ l ] + h [ j ] / 2 - o / 2 , r = d ( a . i n s t a n c e . p o p p e r , " m a r g i n " + k ) . r e p l a c e ( " p x " , " " ) , s = q - p ( a . o f f s e t s . p o p p e r ) [ l ] - r ; r e t u r n   s = M a t h . m a x ( M a t h . m i n ( g [ j ] - o , s ) , 0 ) , a . a r r o w E l e m e n t = c , a . o f f s e t s . a r r o w = { } , a . o f f s e t s . a r r o w [ l ] = M a t h . r o u n d ( s ) , a . o f f s e t s . a r r o w [ m ] = " " , a } f u n c t i o n   W ( a ) { r e t u r n " e n d " = = = a ? " s t a r t " : " s t a r t " = = = a ? " e n d " : a } f u n c t i o n   X ( a ) { v a r   b = a r g u m e n t s . l e n g t h > 1 & & v o i d   0 ! = = a r g u m e n t s [ 1 ] & & a r g u m e n t s [ 1 ] , c = s a . i n d e x O f ( a ) , d = s a . s l i c e ( c + 1 ) . c o n c a t ( s a . s l i c e ( 0 , c ) ) ; r e t u r n   b ? d . r e v e r s e ( ) : d } f u n c t i o n   Y ( a , b ) { i f ( F ( a . i n s t a n c e . m o d i f i e r s , " i n n e r " ) ) r e t u r n   a ; i f ( a . f l i p p e d & & a . p l a c e m e n t = = = a . o r i g i n a l P l a c e m e n t ) r e t u r n   a ; v a r   c = u ( a . i n s t a n c e . p o p p e r , a . i n s t a n c e . r e f e r e n c e , b . p a d d i n g , b . b o u n d a r i e s E l e m e n t ) , d = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , e = z ( d ) , f = a . p l a c e m e n t . s p l i t ( " - " ) [ 1 ] | | " " , g = [ ] ; s w i t c h ( b . b e h a v i o r ) { c a s e   t a . F L I P : g = [ d , e ] ; b r e a k ; c a s e   t a . C L O C K W I S E : g = X ( d ) ; b r e a k ; c a s e   t a . C O U N T E R C L O C K W I S E : g = X ( d , ! 0 ) ; b r e a k ; d e f a u l t : g = b . b e h a v i o r } r e t u r n   g . f o r E a c h ( f u n c t i o n ( h , i ) { i f ( d ! = = h | | g . l e n g t h = = = i + 1 ) r e t u r n   a ; d = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , e = z ( d ) ; v a r   j = a . o f f s e t s . p o p p e r , k = a . o f f s e t s . r e f e r e n c e , l = M a t h . f l o o r , m = " l e f t " = = = d & & l ( j . r i g h t ) > l ( k . l e f t ) | | " r i g h t " = = = d & & l ( j . l e f t ) < l ( k . r i g h t ) | | " t o p " = = = d & & l ( j . b o t t o m ) > l ( k . t o p ) | | " b o t t o m " = = = d & & l ( j . t o p ) < l ( k . b o t t o m ) , n = l ( j . l e f t ) < l ( c . l e f t ) , o = l ( j . r i g h t ) > l ( c . r i g h t ) , p = l ( j . t o p ) < l ( c . t o p ) , q = l ( j . b o t t o m ) > l ( c . b o t t o m ) , r = " l e f t " = = = d & & n | | " r i g h t " = = = d & & o | | " t o p " = = = d & & p | | " b o t t o m " = = = d & & q , s = [ " t o p " , " b o t t o m " ] . i n d e x O f ( d ) ! = = - 1 , t = ! ! b . f l i p V a r i a t i o n s & & ( s & & " s t a r t " = = = f & & n | | s & & " e n d " = = = f & & o | | ! s & & " s t a r t " = = = f & & p | | ! s & & " e n d " = = = f & & q ) ; ( m | | r | | t ) & & ( a . f l i p p e d = ! 0 , ( m | | r ) & & ( d = g [ i + 1 ] ) , t & & ( f = W ( f ) ) , a . p l a c e m e n t = d + ( f ? " - " + f : " " ) , a . o f f s e t s . p o p p e r = q a ( { } , a . o f f s e t s . p o p p e r , A ( a . i n s t a n c e . p o p p e r , a . o f f s e t s . r e f e r e n c e , a . p l a c e m e n t ) ) , a = D ( a . i n s t a n c e . m o d i f i e r s , a , " f l i p " ) ) } ) , a } f u n c t i o n   Z ( a ) { v a r   b = a . o f f s e t s , c = b . p o p p e r , d = b . r e f e r e n c e , e = a . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , f = M a t h . f l o o r , g = [ " t o p " , " b o t t o m " ] . i n d e x O f ( e ) ! = = - 1 , h = g ? " r i g h t " : " b o t t o m " , i = g ? " l e f t " : " t o p " , j = g ? " w i d t h " : " h e i g h t " ; r e t u r n   c [ h ] < f ( d [ i ] ) & & ( a . o f f s e t s . p o p p e r [ i ] = f ( d [ i ] ) - c [ j ] ) , c [ i ] > f ( d [ h ] ) & & ( a . o f f s e t s . p o p p e r [ i ] = f ( d [ h ] ) ) , a } f u n c t i o n   $ ( a , b , c , d ) { v a r   e = a . m a t c h ( / ( ( ? : \ - | \ + ) ? \ d * \ . ? \ d * ) ( . * ) / ) , f = + e [ 1 ] , g = e [ 2 ] ; i f ( ! f ) r e t u r n   a ; i f ( 0 = = = g . i n d e x O f ( " % " ) ) { v a r   h = v o i d   0 ; s w i t c h ( g ) { c a s e " % p " : h = c ; b r e a k ; c a s e " % " : c a s e " % r " : d e f a u l t : h = d } v a r   i = p ( h ) ; r e t u r n   i [ b ] / 1 0 0 * f } i f ( " v h " = = = g | | " v w " = = = g ) { v a r   j = v o i d   0 ; r e t u r n   j = " v h " = = = g ? M a t h . m a x ( d o c u m e n t . d o c u m e n t E l e m e n t . c l i e n t H e i g h t , w i n d o w . i n n e r H e i g h t | | 0 ) : M a t h . m a x ( d o c u m e n t . d o c u m e n t E l e m e n t . c l i e n t W i d t h , w i n d o w . i n n e r W i d t h | | 0 ) , j / 1 0 0 * f } r e t u r n   f } f u n c t i o n   _ ( a , b , c , d ) { v a r   e = [ 0 , 0 ] , f = [ " r i g h t " , " l e f t " ] . i n d e x O f ( d ) ! = = - 1 , g = a . s p l i t ( / ( \ + | \ - ) / ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t r i m ( ) } ) , h = g . i n d e x O f ( B ( g , f u n c t i o n ( a ) { r e t u r n   a . s e a r c h ( / , | \ s / ) ! = = - 1 } ) ) ; g [ h ] & & g [ h ] . i n d e x O f ( " , " ) = = = - 1 & & c o n s o l e . w a r n ( " O f f s e t s   s e p a r a t e d   b y   w h i t e   s p a c e ( s )   a r e   d e p r e c a t e d ,   u s e   a   c o m m a   ( , )   i n s t e a d . " ) ; v a r   i = / \ s * , \ s * | \ s + / , j = h ! = = - 1 ? [ g . s l i c e ( 0 , h ) . c o n c a t ( [ g [ h ] . s p l i t ( i ) [ 0 ] ] ) , [ g [ h ] . s p l i t ( i ) [ 1 ] ] . c o n c a t ( g . s l i c e ( h + 1 ) ) ] : [ g ] ; r e t u r n   j = j . m a p ( f u n c t i o n ( a , d ) { v a r   e = ( 1 = = = d ? ! f : f ) ? " h e i g h t " : " w i d t h " , g = ! 1 ; r e t u r n   a . r e d u c e ( f u n c t i o n ( a , b ) { r e t u r n " " = = = a [ a . l e n g t h - 1 ] & & [ " + " , " - " ] . i n d e x O f ( b ) ! = = - 1 ? ( a [ a . l e n g t h - 1 ] = b , g = ! 0 , a ) : g ? ( a [ a . l e n g t h - 1 ] + = b , g = ! 1 , a ) : a . c o n c a t ( b ) } , [ ] ) . m a p ( f u n c t i o n ( a ) { r e t u r n   $ ( a , e , b , c ) } ) } ) , j . f o r E a c h ( f u n c t i o n ( a , b ) { a . f o r E a c h ( f u n c t i o n ( c , d ) { O ( c ) & & ( e [ b ] + = c * ( " - " = = = a [ d - 1 ] ? - 1 : 1 ) ) } ) } ) , e } f u n c t i o n   a a ( a , b ) { v a r   c = b . o f f s e t , d = a . p l a c e m e n t , e = a . o f f s e t s , f = e . p o p p e r , g = e . r e f e r e n c e , h = d . s p l i t ( " - " ) [ 0 ] , i = v o i d   0 ; r e t u r n   i = O ( + c ) ? [ + c , 0 ] : _ ( c , f , g , h ) , " l e f t " = = = h ? ( f . t o p + = i [ 0 ] , f . l e f t - = i [ 1 ] ) : " r i g h t " = = = h ? ( f . t o p + = i [ 0 ] , f . l e f t + = i [ 1 ] ) : " t o p " = = = h ? ( f . l e f t + = i [ 0 ] , f . t o p - = i [ 1 ] ) : " b o t t o m " = = = h & & ( f . l e f t + = i [ 0 ] , f . t o p + = i [ 1 ] ) , a . p o p p e r = f , a } f u n c t i o n   b a ( a , b ) { v a r   c = b . b o u n d a r i e s E l e m e n t | | g ( a . i n s t a n c e . p o p p e r ) ; a . i n s t a n c e . r e f e r e n c e = = = c & & ( c = g ( c ) ) ; v a r   d = u ( a . i n s t a n c e . p o p p e r , a . i n s t a n c e . r e f e r e n c e , b . p a d d i n g , c ) ; b . b o u n d a r i e s = d ; v a r   e = b . p r i o r i t y , f = a . o f f s e t s . p o p p e r , h = { p r i m a r y : f u n c t i o n ( a ) { v a r   c = f [ a ] ; r e t u r n   f [ a ] < d [ a ] & & ! b . e s c a p e W i t h R e f e r e n c e & & ( c = M a t h . m a x ( f [ a ] , d [ a ] ) ) , p a ( { } , a , c ) } , s e c o n d a r y : f u n c t i o n ( a ) { v a r   c = " r i g h t " = = = a ? " l e f t " : " t o p " , e = f [ c ] ; r e t u r n   f [ a ] > d [ a ] & & ! b . e s c a p e W i t h R e f e r e n c e & & ( e = M a t h . m i n ( f [ c ] , d [ a ] - ( " r i g h t " = = = a ? f . w i d t h : f . h e i g h t ) ) ) , p a ( { } , c , e ) } } ; r e t u r n   e . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = [ " l e f t " , " t o p " ] . i n d e x O f ( a ) ! = = - 1 ? " p r i m a r y " : " s e c o n d a r y " ; f = q a ( { } , f , h [ b ] ( a ) ) } ) , a . o f f s e t s . p o p p e r = f , a } f u n c t i o n   c a ( a ) { v a r   b = a . p l a c e m e n t , c = b . s p l i t ( " - " ) [ 0 ] , d = b . s p l i t ( " - " ) [ 1 ] ; i f ( d ) { v a r   e = a . o f f s e t s , f = e . r e f e r e n c e , g = e . p o p p e r , h = [ " b o t t o m " , " t o p " ] . i n d e x O f ( c ) ! = = - 1 , i = h ? " l e f t " : " t o p " , j = h ? " w i d t h " : " h e i g h t " , k = { s t a r t : p a ( { } , i , f [ i ] ) , e n d : p a ( { } , i , f [ i ] + f [ j ] - g [ j ] ) } ; a . o f f s e t s . p o p p e r = q a ( { } , g , k [ d ] ) } r e t u r n   a } f u n c t i o n   d a ( a ) { i f ( ! U ( a . i n s t a n c e . m o d i f i e r s , " h i d e " , " p r e v e n t O v e r f l o w " ) ) r e t u r n   a ; v a r   b = a . o f f s e t s . r e f e r e n c e , c = B ( a . i n s t a n c e . m o d i f i e r s , f u n c t i o n ( a ) { r e t u r n " p r e v e n t O v e r f l o w " = = = a . n a m e } ) . b o u n d a r i e s ; i f ( b . b o t t o m < c . t o p | | b . l e f t > c . r i g h t | | b . t o p > c . b o t t o m | | b . r i g h t < c . l e f t ) { i f ( a . h i d e = = = ! 0 ) r e t u r n   a ; a . h i d e = ! 0 , a . a t t r i b u t e s [ " x - o u t - o f - b o u n d a r i e s " ] = " " } e l s e { i f ( a . h i d e = = = ! 1 ) r e t u r n   a ; a . h i d e = ! 1 , a . a t t r i b u t e s [ " x - o u t - o f - b o u n d a r i e s " ] = ! 1 } r e t u r n   a } f u n c t i o n   e a ( a ) { v a r   b = a . p l a c e m e n t , c = b . s p l i t ( " - " ) [ 0 ] , d = a . o f f s e t s , e = d . p o p p e r , f = d . r e f e r e n c e , g = [ " l e f t " , " r i g h t " ] . i n d e x O f ( c ) ! = = - 1 , h = [ " t o p " , " l e f t " ] . i n d e x O f ( c ) = = = - 1 ; r e t u r n   e [ g ? " l e f t " : " t o p " ] = f [ c ] - ( h ? e [ g ? " w i d t h " : " h e i g h t " ] : 0 ) , a . p l a c e m e n t = z ( b ) , a . o f f s e t s . p o p p e r = p ( e ) , a } f o r ( v a r   f a = " u n d e f i n e d " ! = t y p e o f   w i n d o w & & " u n d e f i n e d " ! = t y p e o f   w i n d o w . d o c u m e n t , g a = [ " E d g e " , " T r i d e n t " , " F i r e f o x " ] , h a = 0 , i a = 0 ; i a < g a . l e n g t h ; i a + = 1 ) i f ( f a & & n a v i g a t o r . u s e r A g e n t . i n d e x O f ( g a [ i a ] ) > = 0 ) { h a = 1 ; b r e a k } v a r   j a = f a & & w i n d o w . P r o m i s e , k a = j a ? a : b , l a = v o i d   0 , m a = f u n c t i o n ( ) { r e t u r n   v o i d   0 = = = l a & & ( l a = n a v i g a t o r . a p p V e r s i o n . i n d e x O f ( " M S I E   1 0 " ) ! = = - 1 ) , l a } , n a = f u n c t i o n ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } , o a = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , p a = f u n c t i o n ( a , b , c ) { r e t u r n   b   i n   a ? O b j e c t . d e f i n e P r o p e r t y ( a , b , { v a l u e : c , e n u m e r a b l e : ! 0 , c o n f i g u r a b l e : ! 0 , w r i t a b l e : ! 0 } ) : a [ b ] = c , a } , q a = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , r a = [ " a u t o - s t a r t " , " a u t o " , " a u t o - e n d " , " t o p - s t a r t " , " t o p " , " t o p - e n d " , " r i g h t - s t a r t " , " r i g h t " , " r i g h t - e n d " , " b o t t o m - e n d " , " b o t t o m " , " b o t t o m - s t a r t " , " l e f t - e n d " , " l e f t " , " l e f t - s t a r t " ] , s a = r a . s l i c e ( 3 ) , t a = { F L I P : " f l i p " , C L O C K W I S E : " c l o c k w i s e " , C O U N T E R C L O C K W I S E : " c o u n t e r c l o c k w i s e " } , u a = { s h i f t : { o r d e r : 1 0 0 , e n a b l e d : ! 0 , f n : c a } , o f f s e t : { o r d e r : 2 0 0 , e n a b l e d : ! 0 , f n : a a , o f f s e t : 0 } , p r e v e n t O v e r f l o w : { o r d e r : 3 0 0 , e n a b l e d : ! 0 , f n : b a , p r i o r i t y : [ " l e f t " , " r i g h t " , " t o p " , " b o t t o m " ] , p a d d i n g : 5 , b o u n d a r i e s E l e m e n t : " s c r o l l P a r e n t " } , k e e p T o g e t h e r : { o r d e r : 4 0 0 , e n a b l e d : ! 0 , f n : Z } , a r r o w : { o r d e r : 5 0 0 , e n a b l e d : ! 0 , f n : V , e l e m e n t : " [ x - a r r o w ] " } , f l i p : { o r d e r : 6 0 0 , e n a b l e d : ! 0 , f n : Y , b e h a v i o r : " f l i p " , p a d d i n g : 5 , b o u n d a r i e s E l e m e n t : " v i e w p o r t " } , i n n e r : { o r d e r : 7 0 0 , e n a b l e d : ! 1 , f n : e a } , h i d e : { o r d e r : 8 0 0 , e n a b l e d : ! 0 , f n : d a } , c o m p u t e S t y l e : { o r d e r : 8 5 0 , e n a b l e d : ! 0 , f n : T , g p u A c c e l e r a t i o n : ! 0 , x : " b o t t o m " , y : " r i g h t " } , a p p l y S t y l e : { o r d e r : 9 0 0 , e n a b l e d : ! 0 , f n : R , o n L o a d : S , g p u A c c e l e r a t i o n : v o i d   0 } } , v a = { p l a c e m e n t : " b o t t o m " , e v e n t s E n a b l e d : ! 0 , r e m o v e O n D e s t r o y : ! 1 , o n C r e a t e : f u n c t i o n ( ) { } , o n U p d a t e : f u n c t i o n ( ) { } , m o d i f i e r s : u a } , w a = f u n c t i o n ( ) { f u n c t i o n   a ( b , d ) { v a r   e = t h i s , f = a r g u m e n t s . l e n g t h > 2 & & v o i d   0 ! = = a r g u m e n t s [ 2 ] ? a r g u m e n t s [ 2 ] : { } ; n a ( t h i s , a ) , t h i s . s c h e d u l e U p d a t e = f u n c t i o n ( ) { r e t u r n   r e q u e s t A n i m a t i o n F r a m e ( e . u p d a t e ) } , t h i s . u p d a t e = k a ( t h i s . u p d a t e . b i n d ( t h i s ) ) , t h i s . o p t i o n s = q a ( { } , a . D e f a u l t s , f ) , t h i s . s t a t e = { i s D e s t r o y e d : ! 1 , i s C r e a t e d : ! 1 , s c r o l l P a r e n t s : [ ] } , t h i s . r e f e r e n c e = b & & b . j q u e r y ? b [ 0 ] : b , t h i s . p o p p e r = d & & d . j q u e r y ? d [ 0 ] : d , t h i s . o p t i o n s . m o d i f i e r s = { } , O b j e c t . k e y s ( q a ( { } , a . D e f a u l t s . m o d i f i e r s , f . m o d i f i e r s ) ) . f o r E a c h ( f u n c t i o n ( b ) { e . o p t i o n s . m o d i f i e r s [ b ] = q a ( { } , a . D e f a u l t s . m o d i f i e r s [ b ] | | { } , f . m o d i f i e r s ? f . m o d i f i e r s [ b ] : { } ) } ) , t h i s . m o d i f i e r s = O b j e c t . k e y s ( t h i s . o p t i o n s . m o d i f i e r s ) . m a p ( f u n c t i o n ( a ) { r e t u r n   q a ( { n a m e : a } , e . o p t i o n s . m o d i f i e r s [ a ] ) } ) . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a . o r d e r - b . o r d e r } ) , t h i s . m o d i f i e r s . f o r E a c h ( f u n c t i o n ( a ) { a . e n a b l e d & & c ( a . o n L o a d ) & & a . o n L o a d ( e . r e f e r e n c e , e . p o p p e r , e . o p t i o n s , a , e . s t a t e ) } ) , t h i s . u p d a t e ( ) ; v a r   g = t h i s . o p t i o n s . e v e n t s E n a b l e d ; g & & t h i s . e n a b l e E v e n t L i s t e n e r s ( ) , t h i s . s t a t e . e v e n t s E n a b l e d = g } r e t u r n   o a ( a , [ { k e y : " u p d a t e " , v a l u e : f u n c t i o n ( ) { r e t u r n   E . c a l l ( t h i s ) } } , { k e y : " d e s t r o y " , v a l u e : f u n c t i o n ( ) { r e t u r n   H . c a l l ( t h i s ) } } , { k e y : " e n a b l e E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { r e t u r n   L . c a l l ( t h i s ) } } , { k e y : " d i s a b l e E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { r e t u r n   N . c a l l ( t h i s ) } } ] ) , a } ( ) ; r e t u r n   w a . U t i l s = ( " u n d e f i n e d " ! = t y p e o f   w i n d o w ? w i n d o w : g l o b a l ) . P o p p e r U t i l s , w a . p l a c e m e n t s = r a , w a . D e f a u l t s = v a , w a } ) ; 
 d e f i n e ( ' c o r e / c o n f i g ' ,   f u n c t i o n ( ) { r e t u r n   M . c f g } ) ; 
 d e f i n e ( ' c o r e / i c o n _ s y s t e m _ f o n t a w e s o m e ' ,   [ " c o r e / i c o n _ s y s t e m " , " j q u e r y " , " c o r e / a j a x " , " c o r e / m u s t a c h e " , " c o r e / l o c a l s t o r a g e " , " c o r e / u r l " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = n u l l , h = n u l l , i = f u n c t i o n ( ) { a . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   i . p r o t o t y p e = O b j e c t . c r e a t e ( a . p r o t o t y p e ) , i . p r o t o t y p e . i n i t = f u n c t i o n ( ) { i f ( g ) r e t u r n   b . w h e n ( t h i s ) ; v a r   a = e . g e t ( " c o r e / i c o n m a p - f o n t a w e s o m e " ) ; r e t u r n   a & & ( a = J S O N . p a r s e ( a ) ) , a ? ( g = a , b . w h e n ( t h i s ) ) : ( n u l l = = = h & & ( h = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ o u t p u t _ l o a d _ f o n t a w e s o m e _ i c o n _ m a p " , a r g s : [ ] } ] , ! 0 , ! 1 ) [ 0 ] ) , h . t h e n ( f u n c t i o n ( a ) { r e t u r n   g = { } , b . e a c h ( a , f u n c t i o n ( a , b ) { g [ b . c o m p o n e n t + " / " + b . p i x ] = b . t o } ) , e . s e t ( " c o r e / i c o n m a p - f o n t a w e s o m e " , J S O N . s t r i n g i f y ( g ) ) , t h i s } . b i n d ( t h i s ) ) ) } , i . p r o t o t y p e . r e n d e r I c o n = f u n c t i o n ( a , b , c , e ) { v a r   h = g [ b + " / " + a ] , i = ! 1 ; i f ( " u n d e f i n e d " = = t y p e o f   h ) { v a r   j = f . i m a g e U r l ( a , b ) ; i = { a t t r i b u t e s : [ { n a m e : " s r c " , v a l u e : j } , { n a m e : " a l t " , v a l u e : c } , { n a m e : " t i t l e " , v a l u e : c } ] } } v a r   k = { k e y : h , t i t l e : c , a l t : c , u n m a p p e d I c o n : i } , l = d . r e n d e r ( e , k ) ; r e t u r n   l . t r i m ( ) } , i . p r o t o t y p e . g e t T e m p l a t e N a m e = f u n c t i o n ( ) { r e t u r n " c o r e / p i x _ i c o n _ f o n t a w e s o m e " } , i } ) ; 
 d e f i n e ( ' c o r e / p a g e d _ c o n t e n t ' ,   [ " j q u e r y " , " c o r e / p a g e d _ c o n t e n t _ p a g e s " , " c o r e / p a g e d _ c o n t e n t _ p a g i n g _ b a r " , " c o r e / p a g e d _ c o n t e n t _ p a g i n g _ b a r _ l i m i t _ s e l e c t o r " , " c o r e / p a g e d _ c o n t e n t _ p a g i n g _ d r o p d o w n " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = f u n c t i o n ( f , g , h ) { f = a ( f ) ; v a r   i = f . f i n d ( b . r o o t S e l e c t o r ) , j = f . f i n d ( c . r o o t S e l e c t o r ) , k = f . f i n d ( e . r o o t S e l e c t o r ) , l = f . f i n d ( d . r o o t S e l e c t o r ) , m = f . a t t r ( " i d " ) ; h & & ( m = h ) , b . i n i t ( i , m , g ) , j . l e n g t h & & c . i n i t ( j , m ) , l . l e n g t h & & d . i n i t ( l , m ) , k . l e n g t h & & e . i n i t ( k , m ) } ; r e t u r n { i n i t : f , r o o t S e l e c t o r : ' [ d a t a - r e g i o n = " p a g e d - c o n t e n t - c o n t a i n e r " ] ' } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { s h o w n : " m o d a l : s h o w n " , h i d d e n : " m o d a l : h i d d e n " , d e s t r o y e d : " m o d a l : d e s t r o y e d " , b o d y R e n d e r e d : " m o d a l : b o d y R e n d e r e d " , s a v e : " m o d a l - s a v e - c a n c e l : s a v e " , c a n c e l : " m o d a l - s a v e - c a n c e l : c a n c e l " , y e s : " m o d a l - s a v e - c a n c e l : s a v e " , n o : " m o d a l - s a v e - c a n c e l : c a n c e l " } } ) ; 
 d e f i n e ( ' c o r e / m o d a l _ c a n c e l ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { C A N C E L _ B U T T O N : ' [ d a t a - a c t i o n = " c a n c e l " ] ' } , g = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) , t h i s . g e t F o o t e r ( ) . f i n d ( f . C A N C E L _ B U T T O N ) . l e n g t h | | b . e x c e p t i o n ( { m e s s a g e : " N o   c a n c e l   b u t t o n   f o u n d " } ) } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , g . p r o t o t y p e . c o n s t r u c t o r = g , g . p r o t o t y p e . s e t F o o t e r = f u n c t i o n ( ) { b . e x c e p t i o n ( { m e s s a g e : " C a n   n o t   c h a n g e   t h e   f o o t e r   o f   a   c a n c e l   m o d a l " } ) } , g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , f . C A N C E L _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . c a n c e l ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } , g } ) ; 
 ! f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' c o r e / l o g l e v e l ' ,   b ) : " o b j e c t " = = t y p e o f   m o d u l e & & m o d u l e . e x p o r t s ? m o d u l e . e x p o r t s = b ( ) : a . l o g = b ( ) } ( t h i s , f u n c t i o n ( ) { " u s e   s t r i c t " ; f u n c t i o n   a ( a , b ) { v a r   c = a [ b ] ; i f ( " f u n c t i o n " = = t y p e o f   c . b i n d ) r e t u r n   c . b i n d ( a ) ; t r y { r e t u r n   F u n c t i o n . p r o t o t y p e . b i n d . c a l l ( c , a ) } c a t c h ( d ) { r e t u r n   f u n c t i o n ( ) { r e t u r n   F u n c t i o n . p r o t o t y p e . a p p l y . a p p l y ( c , [ a , a r g u m e n t s ] ) } } } f u n c t i o n   b ( b ) { r e t u r n " d e b u g " = = = b & & ( b = " l o g " ) , t y p e o f   c o n s o l e ! = = h & & ( v o i d   0 ! = = c o n s o l e [ b ] ? a ( c o n s o l e , b ) : v o i d   0 ! = = c o n s o l e . l o g ? a ( c o n s o l e , " l o g " ) : g ) } f u n c t i o n   c ( a , b ) { f o r ( v a r   c = 0 ; c < i . l e n g t h ; c + + ) { v a r   d = i [ c ] ; t h i s [ d ] = c < a ? g : t h i s . m e t h o d F a c t o r y ( d , a , b ) } t h i s . l o g = t h i s . d e b u g } f u n c t i o n   d ( a , b , d ) { r e t u r n   f u n c t i o n ( ) { t y p e o f   c o n s o l e ! = = h & & ( c . c a l l ( t h i s , b , d ) , t h i s [ a ] . a p p l y ( t h i s , a r g u m e n t s ) ) } } f u n c t i o n   e ( a , c , e ) { r e t u r n   b ( a ) | | d . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   f ( a , b , d ) { f u n c t i o n   f ( a ) { v a r   b = ( i [ a ] | | " s i l e n t " ) . t o U p p e r C a s e ( ) ; i f ( t y p e o f   w i n d o w ! = = h ) { t r y { r e t u r n   v o i d ( w i n d o w . l o c a l S t o r a g e [ l ] = b ) } c a t c h ( c ) { } t r y { w i n d o w . d o c u m e n t . c o o k i e = e n c o d e U R I C o m p o n e n t ( l ) + " = " + b + " ; " } c a t c h ( c ) { } } } f u n c t i o n   g ( ) { v a r   a ; i f ( t y p e o f   w i n d o w ! = = h ) { t r y { a = w i n d o w . l o c a l S t o r a g e [ l ] } c a t c h ( b ) { } i f ( t y p e o f   a = = = h ) t r y { v a r   c = w i n d o w . d o c u m e n t . c o o k i e , d = c . i n d e x O f ( e n c o d e U R I C o m p o n e n t ( l ) + " = " ) ; d ! = = - 1 & & ( a = / ^ ( [ ^ ; ] + ) / . e x e c ( c . s l i c e ( d ) ) [ 1 ] ) } c a t c h ( b ) { } r e t u r n   v o i d   0 = = = k . l e v e l s [ a ] & & ( a = v o i d   0 ) , a } } v a r   j , k = t h i s , l = " l o g l e v e l " ; a & & ( l + = " : " + a ) , k . l e v e l s = { T R A C E : 0 , D E B U G : 1 , I N F O : 2 , W A R N : 3 , E R R O R : 4 , S I L E N T : 5 } , k . m e t h o d F a c t o r y = d | | e , k . g e t L e v e l = f u n c t i o n ( ) { r e t u r n   j } , k . s e t L e v e l = f u n c t i o n ( b , d ) { i f ( " s t r i n g " = = t y p e o f   b & & v o i d   0 ! = = k . l e v e l s [ b . t o U p p e r C a s e ( ) ] & & ( b = k . l e v e l s [ b . t o U p p e r C a s e ( ) ] ) , ! ( " n u m b e r " = = t y p e o f   b & & b > = 0 & & b < = k . l e v e l s . S I L E N T ) ) t h r o w " l o g . s e t L e v e l ( )   c a l l e d   w i t h   i n v a l i d   l e v e l :   " + b ; i f ( j = b , d ! = = ! 1 & & f ( b ) , c . c a l l ( k , b , a ) , t y p e o f   c o n s o l e = = = h & & b < k . l e v e l s . S I L E N T ) r e t u r n " N o   c o n s o l e   a v a i l a b l e   f o r   l o g g i n g " } , k . s e t D e f a u l t L e v e l = f u n c t i o n ( a ) { g ( ) | | k . s e t L e v e l ( a , ! 1 ) } , k . e n a b l e A l l = f u n c t i o n ( a ) { k . s e t L e v e l ( k . l e v e l s . T R A C E , a ) } , k . d i s a b l e A l l = f u n c t i o n ( a ) { k . s e t L e v e l ( k . l e v e l s . S I L E N T , a ) } ; v a r   m = g ( ) ; n u l l = = m & & ( m = n u l l = = b ? " W A R N " : b ) , k . s e t L e v e l ( m , ! 1 ) } v a r   g = f u n c t i o n ( ) { } , h = " u n d e f i n e d " , i = [ " t r a c e " , " d e b u g " , " i n f o " , " w a r n " , " e r r o r " ] , j = n e w   f , k = { } ; j . g e t L o g g e r = f u n c t i o n ( a ) { i f ( " s t r i n g " ! = t y p e o f   a | | " " = = = a ) t h r o w   n e w   T y p e E r r o r ( " Y o u   m u s t   s u p p l y   a   n a m e   w h e n   c r e a t i n g   a   l o g g e r . " ) ; v a r   b = k [ a ] ; r e t u r n   b | | ( b = k [ a ] = n e w   f ( a , j . g e t L e v e l ( ) , j . m e t h o d F a c t o r y ) ) , b } ; v a r   l = t y p e o f   w i n d o w ! = = h ? w i n d o w . l o g : v o i d   0 ; r e t u r n   j . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   t y p e o f   w i n d o w ! = = h & & w i n d o w . l o g = = = j & & ( w i n d o w . l o g = l ) , j } , j } ) ; 
 d e f i n e ( ' c o r e / c h a r t _ s e r i e s ' ,   [ ] , f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { i f ( " s t r i n g " ! = t y p e o f   a ) t h r o w   n e w   E r r o r ( " I n v a l i d   l a b e l   f o r   s e r i e s . " ) ; i f ( " o b j e c t " ! = t y p e o f   b ) t h r o w   n e w   E r r o r ( " V a l u e s   f o r   a   s e r i e s   m u s t   b e   a n   a r r a y . " ) ; i f ( b . l e n g t h < 1 ) t h r o w   n e w   E r r o r ( " I n v a l i d   v a l u e s   r e c e i v e d   f o r   s e r i e s . " ) ; t h i s . _ c o l o r s = [ ] , t h i s . _ l a b e l = a , t h i s . _ v a l u e s = b } r e t u r n   a . p r o t o t y p e . T Y P E _ D E F A U L T = n u l l , a . p r o t o t y p e . T Y P E _ L I N E = " l i n e " , a . p r o t o t y p e . _ c o l o r s = n u l l , a . p r o t o t y p e . _ l a b e l = n u l l , a . p r o t o t y p e . _ l a b e l s = n u l l , a . p r o t o t y p e . _ s m o o t h = ! 1 , a . p r o t o t y p e . _ t y p e = a . p r o t o t y p e . T Y P E _ D E F A U L T , a . p r o t o t y p e . _ v a l u e s = n u l l , a . p r o t o t y p e . _ x a x i s = n u l l , a . p r o t o t y p e . _ y a x i s = n u l l , a . p r o t o t y p e . c r e a t e = f u n c t i o n ( b ) { v a r   c = n e w   a ( b . l a b e l , b . v a l u e s ) ; r e t u r n   c . s e t T y p e ( b . t y p e ) , c . s e t X A x i s ( b . a x e s . x ) , c . s e t Y A x i s ( b . a x e s . y ) , c . s e t L a b e l s ( b . l a b e l s ) , b . c o l o r s & & b . c o l o r s . l e n g t h > 1 ? c . s e t C o l o r s ( b . c o l o r s ) : c . s e t C o l o r ( b . c o l o r s [ 0 ] ) , c . s e t S m o o t h ( b . s m o o t h ) , c } , a . p r o t o t y p e . g e t C o l o r = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o l o r s [ 0 ] | | n u l l } , a . p r o t o t y p e . g e t C o l o r s = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o l o r s } , a . p r o t o t y p e . g e t C o u n t = f u n c t i o n ( ) { r e t u r n   t h i s . _ v a l u e s . l e n g t h } , a . p r o t o t y p e . g e t L a b e l = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l } , a . p r o t o t y p e . g e t L a b e l s = f u n c t i o n ( ) { r e t u r n   t h i s . _ l a b e l s } , a . p r o t o t y p e . g e t S m o o t h = f u n c t i o n ( ) { r e t u r n   t h i s . _ s m o o t h } , a . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n   t h i s . _ t y p e } , a . p r o t o t y p e . g e t V a l u e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ v a l u e s } , a . p r o t o t y p e . g e t X A x i s = f u n c t i o n ( ) { r e t u r n   t h i s . _ x a x i s } , a . p r o t o t y p e . g e t Y A x i s = f u n c t i o n ( ) { r e t u r n   t h i s . _ y a x i s } , a . p r o t o t y p e . h a s C o l o r e d V a l u e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ c o l o r s . l e n g t h = = t h i s . g e t C o u n t ( ) } , a . p r o t o t y p e . s e t C o l o r = f u n c t i o n ( a ) { t h i s . _ c o l o r s = [ a ] } , a . p r o t o t y p e . s e t C o l o r s = f u n c t i o n ( a ) { i f ( a & & a . l e n g t h ! = t h i s . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " W h e n   s e t t i n g   m u l t i p l e   c o l o r s   t h e r e   m u s t   b e   o n e   p e r   v a l u e . " ) ; t h i s . _ c o l o r s = a | | [ ] } , a . p r o t o t y p e . s e t L a b e l s = f u n c t i o n ( a ) { t h i s . _ v a l i d a t e L a b e l s ( a ) , a = " u n d e f i n e d " = = t y p e o f   a ? n u l l : a , t h i s . _ l a b e l s = a } , a . p r o t o t y p e . s e t S m o o t h = f u n c t i o n ( a ) { a = " u n d e f i n e d " = = t y p e o f   a ? n u l l : a , t h i s . _ s m o o t h = a } , a . p r o t o t y p e . s e t T y p e = f u n c t i o n ( a ) { i f ( a ! = t h i s . T Y P E _ D E F A U L T & & a ! = t h i s . T Y P E _ L I N E ) t h r o w   n e w   E r r o r ( " I n v a l i d   s e r i e   t y p e . " ) ; t h i s . _ t y p e = a | | n u l l } , a . p r o t o t y p e . s e t X A x i s = f u n c t i o n ( a ) { t h i s . _ x a x i s = a | | n u l l } , a . p r o t o t y p e . s e t Y A x i s = f u n c t i o n ( a ) { t h i s . _ y a x i s = a | | n u l l } , a . p r o t o t y p e . _ v a l i d a t e L a b e l s = f u n c t i o n ( a ) { i f ( a & & a . l e n g t h > 0 & & a . l e n g t h ! = t h i s . g e t C o u n t ( ) ) t h r o w   n e w   E r r o r ( " S e r i e s   l a b e l s   m u s t   m a t c h   s e r i e s   v a l u e s . " ) } , a } ) ; 
 d e f i n e ( ' c o r e / n o t i f i c a t i o n ' ,   [ " c o r e / y u i " , " j q u e r y " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c ) { v a r   d = { t y p e s : { s u c c e s s : " c o r e / n o t i f i c a t i o n _ s u c c e s s " , i n f o : " c o r e / n o t i f i c a t i o n _ i n f o " , w a r n i n g : " c o r e / n o t i f i c a t i o n _ w a r n i n g " , e r r o r : " c o r e / n o t i f i c a t i o n _ e r r o r " } , f i e l d N a m e : " u s e r - n o t i f i c a t i o n s " , f e t c h N o t i f i c a t i o n s : f u n c t i o n ( ) { r e q u i r e ( [ " c o r e / a j a x " ] , f u n c t i o n ( a ) { v a r   b = a . c a l l ( [ { m e t h o d n a m e : " c o r e _ f e t c h _ n o t i f i c a t i o n s " , a r g s : { c o n t e x t i d : d . c o n t e x t i d } } ] ) ; b [ 0 ] . d o n e ( d . a d d N o t i f i c a t i o n s ) } ) } , a d d N o t i f i c a t i o n s : f u n c t i o n ( a ) { a | | ( a = [ ] ) , b . e a c h ( a , f u n c t i o n ( a , b ) { d . r e n d e r N o t i f i c a t i o n ( b . t e m p l a t e , b . v a r i a b l e s ) } ) } , s e t u p T a r g e t R e g i o n : f u n c t i o n ( ) { v a r   a = b ( " # " + d . f i e l d N a m e ) ; i f ( a . l e n g t h ) r e t u r n ! 1 ; v a r   c = b ( " < s p a n > " ) . a t t r ( " i d " , d . f i e l d N a m e ) ; r e t u r n   a = b ( " # r e g i o n - m a i n " ) , a . l e n g t h ? a . p r e p e n d ( c ) : ( a = b ( ' [ r o l e = " m a i n " ] ' ) , a . l e n g t h ? a . p r e p e n d ( c ) : ( a = b ( " b o d y " ) , a . p r e p e n d ( c ) ) ) } , a d d N o t i f i c a t i o n : f u n c t i o n ( a ) { v a r   c = d . t y p e s . e r r o r ; r e t u r n   a = b . e x t e n d ( { c l o s e b u t t o n : ! 0 , a n n o u n c e : ! 0 , t y p e : " e r r o r " } , a ) , a . t e m p l a t e ? ( c = a . t e m p l a t e , d e l e t e   a . t e m p l a t e ) : a . t y p e & & ( " u n d e f i n e d " ! = t y p e o f   d . t y p e s [ a . t y p e ] & & ( c = d . t y p e s [ a . t y p e ] ) , d e l e t e   a . t y p e ) , d . r e n d e r N o t i f i c a t i o n ( c , a ) } , r e n d e r N o t i f i c a t i o n : f u n c t i o n ( a , e ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   e . m e s s a g e & & e . m e s s a g e ? v o i d   r e q u i r e ( [ " c o r e / t e m p l a t e s " ] , f u n c t i o n ( c ) { c . r e n d e r ( a , e ) . d o n e ( f u n c t i o n ( a , e ) { b ( " # " + d . f i e l d N a m e ) . p r e p e n d ( a ) , c . r u n T e m p l a t e J S ( e ) } ) . f a i l ( d . e x c e p t i o n ) } ) : v o i d   c . d e b u g ( " N o t i f i c a t i o n   r e c e i v e d   w i t h o u t   c o n t e n t .   S k i p p i n g . " ) } , a l e r t : f u n c t i o n ( b , c , d ) { a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - a l e r t " , f u n c t i o n ( ) { v a r   a = n e w   M . c o r e . a l e r t ( { t i t l e : b , m e s s a g e : c , y e s L a b e l : d } ) ; a . s h o w ( ) } ) } , c o n f i r m : f u n c t i o n ( b , c , d , e , f , g ) { a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - c o n f i r m " , f u n c t i o n ( ) { v a r   a = n e w   M . c o r e . c o n f i r m ( { t i t l e : b , q u e s t i o n : c , y e s L a b e l : d , n o L a b e l : e } ) ; a . o n ( " c o m p l e t e - y e s " , f u n c t i o n ( ) { f ( ) } ) , g & & a . o n ( " c o m p l e t e - n o " , f u n c t i o n ( ) { g ( ) } ) , a . s h o w ( ) } ) } , e x c e p t i o n : f u n c t i o n ( b ) { i f ( " u n d e f i n e d " = = t y p e o f   b . s t a c k & & ( b . s t a c k = " " ) , b . d e b u g i n f o & & ( b . s t a c k + = b . d e b u g i n f o + " \ n " ) , ! b . b a c k t r a c e & & b . s t a c k t r a c e & & ( b . b a c k t r a c e = b . s t a c k t r a c e ) , b . b a c k t r a c e ) { b . s t a c k + = b . b a c k t r a c e ; v a r   c = b . b a c k t r a c e . m a t c h ( / l i n e   ( [ ^   ] * )   o f / ) , d = b . b a c k t r a c e . m a t c h ( /   o f   ( [ ^ : ] * ) :   / ) ; c & & c [ 1 ] & & ( b . l i n e N u m b e r = c [ 1 ] ) , d & & d [ 1 ] & & ( b . f i l e N a m e = d [ 1 ] , b . f i l e N a m e . l e n g t h > 3 0 & & ( b . f i l e N a m e = " . . . " + b . f i l e N a m e . s u b s t r ( b . f i l e N a m e . l e n g t h - 2 7 ) ) ) } " u n d e f i n e d " = = t y p e o f   b . n a m e & & b . e r r o r c o d e & & ( b . n a m e = b . e r r o r c o d e ) , a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n - e x c e p t i o n " , f u n c t i o n ( ) { v a r   a = n e w   M . c o r e . e x c e p t i o n ( b ) ; a . s h o w ( ) } ) } } ; r e t u r n { i n i t : f u n c t i o n ( a , b ) { d . c o n t e x t i d = a , d . s e t u p T a r g e t R e g i o n ( ) , d . a d d N o t i f i c a t i o n s ( b ) , d . f e t c h N o t i f i c a t i o n s ( ) } , f e t c h N o t i f i c a t i o n s : d . f e t c h N o t i f i c a t i o n s , a d d N o t i f i c a t i o n : d . a d d N o t i f i c a t i o n , a l e r t : d . a l e r t , c o n f i r m : d . c o n f i r m , e x c e p t i o n : d . e x c e p t i o n } } ) ; 
 d e f i n e ( ' c o r e / p a g e _ g l o b a l ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( ) { v a r   d = a ( " b o d y " ) ; b . d e f i n e ( d , [ b . e v e n t s . a c t i v a t e ] ) , d . o n ( b . e v e n t s . a c t i v a t e , " [ d a t a - s h o w - a c t i v e - i t e m ] " , f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( " . d r o p d o w n - i t e m " ) , e = d . c l o s e s t ( " [ d a t a - s h o w - a c t i v e - i t e m ] " ) ; i f ( d . h a s C l a s s ( " d r o p d o w n - i t e m " ) & & ! d . h a s C l a s s ( " a c t i v e " ) ) { v a r   f = e . f i n d ( " . d r o p d o w n - i t e m " ) ; f . r e m o v e C l a s s ( " a c t i v e " ) , f . r e m o v e A t t r ( " a r i a - c u r r e n t " ) , e . a t t r ( " d a t a - s k i p - a c t i v e - c l a s s " ) | | d . a d d C l a s s ( " a c t i v e " ) , d . a t t r ( " a r i a - c u r r e n t " , ! 0 ) ; v a r   g = d . t e x t ( ) , h = e . p a r e n t ( ) . f i n d ( ' [ d a t a - t o g g l e = " d r o p d o w n " ] ' ) , i = h . f i n d ( " [ d a t a - a c t i v e - i t e m - t e x t ] " ) ; i . l e n g t h ? i . h t m l ( g ) : h . h t m l ( g ) ; v a r   j = e . a t t r ( " d a t a - a c t i v e - i t e m - b u t t o n - a r i a - l a b e l - c o m p o n e n t s " ) ; i f ( j ) { v a r   k = j . s p l i t ( " , " ) ; k . p u s h ( g ) , c . g e t _ s t r i n g ( k [ 0 ] . t r i m ( ) , k [ 1 ] . t r i m ( ) , k [ 2 ] . t r i m ( ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   h . a t t r ( " a r i a - l a b e l " , a ) , a } ) [ " c a t c h " ] ( f u n c t i o n ( ) { r e t u r n ! 1 } ) } } } ) } , e = f u n c t i o n ( ) { d ( ) } ; r e t u r n { i n i t : e } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / c a l e n d a r _ f i l t e r ' ,   [ " j q u e r y " , " c o r e _ c a l e n d a r / s e l e c t o r s " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e / s t r " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = f u n c t i o n ( d ) { d . o n ( " c l i c k " , b . e v e n t F i l t e r I t e m , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) ; g ( c ) , b . p r e v e n t D e f a u l t ( ) } ) , a ( " b o d y " ) . o n ( c . v i e w U p d a t e d , f u n c t i o n ( ) { v a r   c = d . f i n d ( b . e v e n t F i l t e r I t e m ) ; c . e a c h ( f u n c t i o n ( b , c ) { i f ( c = a ( c ) , c . d a t a ( " e v e n t t y p e - h i d d e n " ) ) { v a r   d = i ( c ) ; h ( d ) } } ) } ) } , g = f u n c t i o n ( a ) { v a r   b = i ( a ) ; r e t u r n   b . h i d d e n = ! b . h i d d e n , d . g e t _ s t r i n g ( " e v e n t t y p e " + b . e v e n t t y p e , " c a l e n d a r " ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b . n a m e = a , b } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   e . r e n d e r ( " c o r e _ c a l e n d a r / e v e n t _ f i l t e r _ k e y " , a ) } ) . t h e n ( f u n c t i o n ( b , c ) { r e t u r n   e . r e p l a c e N o d e ( a , b , c ) } ) . t h e n ( f u n c t i o n ( ) { h ( b ) } ) } , h = f u n c t i o n ( b ) { M . u t i l . j s _ p e n d i n g ( " m o n t h - m i n i - f i l t e r C h a n g e d " ) , a ( " b o d y " ) . t r i g g e r ( c . f i l t e r C h a n g e d , { t y p e : b . e v e n t t y p e , h i d d e n : b . h i d d e n } ) , M . u t i l . j s _ c o m p l e t e ( " m o n t h - m i n i - f i l t e r C h a n g e d " ) } , i = f u n c t i o n ( a ) { r e t u r n { e v e n t t y p e : a . d a t a ( " e v e n t t y p e " ) , h i d d e n : a . d a t a ( " e v e n t t y p e - h i d d e n " ) } } ; r e t u r n { i n i t : f u n c t i o n ( b ) { b = a ( b ) , f ( b ) } } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / s u m m a r y _ m o d a l ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e _ c a l e n d a r / r e p o s i t o r y " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / c r u d " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k ) { v a r   l = ! 1 , m = { R O O T : " [ d a t a - r e g i o n = ' s u m m a r y - m o d a l - c o n t a i n e r ' ] " , E D I T _ B U T T O N : ' [ d a t a - a c t i o n = " e d i t " ] ' , D E L E T E _ B U T T O N : ' [ d a t a - a c t i o n = " d e l e t e " ] ' } , n = f u n c t i o n ( a ) { e . c a l l ( t h i s , a ) } ; r e t u r n   n . T Y P E = " c o r e _ c a l e n d a r - e v e n t _ s u m m a r y " , n . p r o t o t y p e = O b j e c t . c r e a t e ( e . p r o t o t y p e ) , n . p r o t o t y p e . c o n s t r u c t o r = n , n . p r o t o t y p e . g e t E d i t B u t t o n = f u n c t i o n ( ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . e d i t B u t t o n & & ( t h i s . e d i t B u t t o n = t h i s . g e t F o o t e r ( ) . f i n d ( m . E D I T _ B U T T O N ) ) , t h i s . e d i t B u t t o n } , n . p r o t o t y p e . g e t D e l e t e B u t t o n = f u n c t i o n ( ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . d e l e t e B u t t o n & & ( t h i s . d e l e t e B u t t o n = t h i s . g e t F o o t e r ( ) . f i n d ( m . D E L E T E _ B U T T O N ) ) , t h i s . d e l e t e B u t t o n } , n . p r o t o t y p e . g e t E v e n t I d = f u n c t i o n ( ) { r e t u r n   t h i s . g e t B o d y ( ) . f i n d ( m . R O O T ) . a t t r ( " d a t a - e v e n t - i d " ) } , n . p r o t o t y p e . g e t E v e n t T i t l e = f u n c t i o n ( ) { r e t u r n   t h i s . g e t B o d y ( ) . f i n d ( m . R O O T ) . a t t r ( " d a t a - e v e n t - t i t l e " ) } , n . p r o t o t y p e . g e t E v e n t C o u n t = f u n c t i o n ( ) { r e t u r n   t h i s . g e t B o d y ( ) . f i n d ( m . R O O T ) . a t t r ( " d a t a - e v e n t - c o u n t " ) } , n . p r o t o t y p e . g e t E d i t U r l = f u n c t i o n ( ) { r e t u r n   t h i s . g e t B o d y ( ) . f i n d ( m . R O O T ) . a t t r ( " d a t a - e d i t - u r l " ) } , n . p r o t o t y p e . i s A c t i o n E v e n t = f u n c t i o n ( ) { r e t u r n " t r u e " = = t h i s . g e t B o d y ( ) . f i n d ( m . R O O T ) . a t t r ( " d a t a - a c t i o n - e v e n t " ) } , n . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { e . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t R o o t ( ) . o n ( h . b o d y R e n d e r e d , f u n c t i o n ( ) { t h i s . g e t M o d a l ( ) . d a t a ( { e v e n t T i t l e : t h i s . g e t E v e n t T i t l e ( ) , e v e n t I d : t h i s . g e t E v e n t I d ( ) , e v e n t C o u n t : t h i s . g e t E v e n t C o u n t ( ) } ) . a t t r ( " d a t a - t y p e " , " e v e n t " ) , k . r e g i s t e r R e m o v e ( t h i s . g e t M o d a l ( ) ) } . b i n d ( t h i s ) ) , a ( " b o d y " ) . o n ( j . d e l e t e d , f u n c t i o n ( ) { t h i s . h i d e ( ) } . b i n d ( t h i s ) ) , d . d e f i n e ( t h i s . g e t E d i t B u t t o n ( ) , [ d . e v e n t s . a c t i v a t e ] ) , t h i s . g e t E d i t B u t t o n ( ) . o n ( d . e v e n t s . a c t i v a t e , f u n c t i o n ( b , c ) { t h i s . i s A c t i o n E v e n t ( ) ? a ( " b o d y " ) . t r i g g e r ( j . e d i t A c t i o n E v e n t , [ t h i s . g e t E d i t U r l ( ) ] ) : a ( " b o d y " ) . t r i g g e r ( j . e d i t E v e n t , [ t h i s . g e t E v e n t I d ( ) ] ) , t h i s . h i d e ( ) , b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } . b i n d ( t h i s ) ) } , l | | ( f . r e g i s t e r ( n . T Y P E , n , " c o r e _ c a l e n d a r / e v e n t _ s u m m a r y _ m o d a l " ) , l = ! 0 ) , n } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / c a l e n d a r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ f a c t o r y " , " c o r e _ c a l e n d a r / m o d a l _ e v e n t _ f o r m " , " c o r e _ c a l e n d a r / s u m m a r y _ m o d a l " , " c o r e _ c a l e n d a r / r e p o s i t o r y " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / v i e w _ m a n a g e r " , " c o r e _ c a l e n d a r / c r u d " , " c o r e _ c a l e n d a r / s e l e c t o r s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m , n , o ) { v a r   p = { R O O T : " [ d a t a - r e g i o n = ' c a l e n d a r ' ] " , D A Y : " [ d a t a - r e g i o n = ' d a y ' ] " , N E W _ E V E N T _ B U T T O N : " [ d a t a - a c t i o n = ' n e w - e v e n t - b u t t o n ' ] " , D A Y _ C O N T E N T : " [ d a t a - r e g i o n = ' d a y - c o n t e n t ' ] " , L O A D I N G _ I C O N : " . l o a d i n g - i c o n " , V I E W _ D A Y _ L I N K : " [ d a t a - a c t i o n = ' v i e w - d a y - l i n k ' ] " , C A L E N D A R _ M O N T H _ W R A P P E R : " . c a l e n d a r w r a p p e r " , T O D A Y : " . t o d a y " } , q = f u n c t i o n ( b , c , f , g ) { v a r   h = n u l l , i = g . a t t r ( " d a t a - d a y - t i m e s t a m p " ) ; f & & ( h = f . a t t r ( " d a t a - d a y - t i m e s t a m p " ) ) , f & & h = = i | | d . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { g . f i n d ( p . D A Y _ C O N T E N T ) . a d d C l a s s ( " h i d d e n " ) , d . a p p e n d N o d e C o n t e n t s ( g , a , b ) , f & & ( f . f i n d ( p . D A Y _ C O N T E N T ) . a d d C l a s s ( " h i d d e n " ) , d . a p p e n d N o d e C o n t e n t s ( f , a , b ) ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   k . u p d a t e E v e n t S t a r t D a y ( c , i ) } ) . t h e n ( f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( l . e v e n t M o v e d , [ c , f , g ] ) } ) . a l w a y s ( f u n c t i o n ( ) { v a r   a = g . f i n d ( p . L O A D I N G _ I C O N ) ; i f ( g . f i n d ( p . D A Y _ C O N T E N T ) . r e m o v e C l a s s ( " h i d d e n " ) , d . r e p l a c e N o d e ( a , " " , " " ) , f ) { v a r   b = f . f i n d ( p . L O A D I N G _ I C O N ) ; f . f i n d ( p . D A Y _ C O N T E N T ) . r e m o v e C l a s s ( " h i d d e n " ) , d . r e p l a c e N o d e ( b , " " , " " ) } } ) . f a i l ( e . e x c e p t i o n ) } , r = f u n c t i o n ( b , c ) { v a r   d = a ( " b o d y " ) ; d . o n ( l . c r e a t e d , f u n c t i o n ( ) { m . r e l o a d C u r r e n t M o n t h ( b ) } ) , d . o n ( l . d e l e t e d , f u n c t i o n ( ) { m . r e l o a d C u r r e n t M o n t h ( b ) } ) , d . o n ( l . u p d a t e d , f u n c t i o n ( ) { m . r e l o a d C u r r e n t M o n t h ( b ) } ) , d . o n ( l . e d i t A c t i o n E v e n t , f u n c t i o n ( a , b ) { w i n d o w . l o c a t i o n . a s s i g n ( b ) } ) , d . o n ( l . m o v e E v e n t , q ) , d . o n ( l . e v e n t M o v e d , f u n c t i o n ( ) { m . r e l o a d C u r r e n t M o n t h ( b ) } ) , n . r e g i s t e r E d i t L i s t e n e r s ( b , c ) } , s = f u n c t i o n ( b ) { b . o n ( " c h a n g e " , o . e l e m e n t s . c o u r s e S e l e c t o r , f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . v a l ( ) ; m . r e l o a d C u r r e n t M o n t h ( b , d , n u l l ) . t h e n ( f u n c t i o n ( ) { r e t u r n   b . f i n d ( o . e l e m e n t s . c o u r s e S e l e c t o r ) . v a l ( d ) } ) . f a i l ( e . e x c e p t i o n ) } ) ; v a r   c = n . r e g i s t e r E v e n t F o r m M o d a l ( b ) , d = a ( p . C A L E N D A R _ M O N T H _ W R A P P E R ) . d a t a ( " c o n t e x t - i d " ) ; r ( b , c ) , d & & b . o n ( " c l i c k " , p . D A Y , f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) ; i f ( ! d . i s ( p . V I E W _ D A Y _ L I N K ) ) { v a r   f = a ( t h i s ) . a t t r ( " d a t a - n e w - e v e n t - t i m e s t a m p " ) ; c . t h e n ( f u n c t i o n ( a ) { v a r   b = d . c l o s e s t ( o . w r a p p e r ) ; a . s e t C o u r s e I d ( b . d a t a ( " c o u r s e i d " ) ) ; v a r   c = b . d a t a ( " c a t e g o r y i d " ) ; " u n d e f i n e d " ! = t y p e o f   c & & a . s e t C a t e g o r y I d ( c ) , a . s e t C o n t e x t I d ( b . d a t a ( " c o n t e x t I d " ) ) , a . s e t S t a r t T i m e ( f ) , a . s h o w ( ) } ) . f a i l ( e . e x c e p t i o n ) , b . p r e v e n t D e f a u l t ( ) } } ) } ; r e t u r n { i n i t : f u n c t i o n ( b ) { b = a ( b ) , m . i n i t ( b ) , s ( b ) } } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / c a l e n d a r _ v i e w ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e _ c a l e n d a r / s e l e c t o r s " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / v i e w _ m a n a g e r " , " c o r e _ c a l e n d a r / r e p o s i t o r y " , " c o r e / m o d a l _ f a c t o r y " , " c o r e _ c a l e n d a r / m o d a l _ e v e n t _ f o r m " , " c o r e / m o d a l _ e v e n t s " , " c o r e _ c a l e n d a r / c r u d " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k ) { v a r   l = f u n c t i o n ( b , g ) { v a r   h = a ( " b o d y " ) ; k . r e g i s t e r R e m o v e ( b ) ; v a r   i = " r e l o a d C u r r e n t " + g . c h a r A t ( 0 ) . t o U p p e r C a s e ( ) + g . s l i c e ( 1 ) ; h . o n ( e . c r e a t e d , f u n c t i o n ( ) { f [ i ] ( b ) } ) , h . o n ( e . d e l e t e d , f u n c t i o n ( ) { f [ i ] ( b ) } ) , h . o n ( e . u p d a t e d , f u n c t i o n ( ) { f [ i ] ( b ) } ) , b . o n ( " c h a n g e " , d . c o u r s e S e l e c t o r , f u n c t i o n ( ) { v a r   e = a ( t h i s ) , g = e . v a l ( ) ; f [ i ] ( b , g , n u l l ) . t h e n ( f u n c t i o n ( ) { r e t u r n   b . f i n d ( d . c o u r s e S e l e c t o r ) . v a l ( g ) } ) . t h e n ( f u n c t i o n ( ) { w i n d o w . h i s t o r y . p u s h S t a t e ( { } , " " , " ? v i e w = u p c o m i n g & c o u r s e = " + g ) } ) . f a i l ( c . e x c e p t i o n ) } ) , h . o n ( e . f i l t e r C h a n g e d , f u n c t i o n ( a , c ) { v a r   e = b . f i n d ( d . e v e n t T y p e [ c . t y p e ] ) ; 1 = = c . h i d d e n ? e . a d d C l a s s ( " h i d d e n " ) : e . r e m o v e C l a s s ( " h i d d e n " ) } ) ; v a r   j = k . r e g i s t e r E v e n t F o r m M o d a l ( b ) ; k . r e g i s t e r E d i t L i s t e n e r s ( b , j ) } ; r e t u r n { i n i t : f u n c t i o n ( b , c ) { b = a ( b ) , f . i n i t ( b , c ) , l ( b , c ) } } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / c a l e n d a r _ m i n i ' ,   [ " j q u e r y " , " c o r e _ c a l e n d a r / s e l e c t o r s " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / v i e w _ m a n a g e r " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( b ) { v a r   d = a ( " b o d y " ) , e = " . " + b . a t t r ( " i d " ) ; d . o n ( c . c r e a t e d + e , b , f ) , d . o n ( c . d e l e t e d + e , b , f ) , d . o n ( c . u p d a t e d + e , b , f ) , d . o n ( c . e v e n t M o v e d + e , b , f ) } , f = f u n c t i o n ( b ) { v a r   e = b . d a t a , f = a ( " b o d y " ) , g = " . " + e . a t t r ( " i d " ) ; e . i s ( " : v i s i b l e " ) ? d . r e l o a d C u r r e n t M o n t h ( e ) : ( f . o f f ( c . c r e a t e d + g ) , f . o f f ( c . d e l e t e d + g ) , f . o f f ( c . u p d a t e d + g ) , f . o f f ( c . e v e n t M o v e d + g ) ) } , g = f u n c t i o n ( e ) { a ( " b o d y " ) . o n ( c . f i l t e r C h a n g e d , f u n c t i o n ( a , c ) { v a r   d = e . f i n d ( b . e v e n t T y p e [ c . t y p e ] ) ; d . t o g g l e C l a s s ( " c a l e n d a r _ e v e n t _ " + c . t y p e , ! c . h i d d e n ) } ) ; v a r   f = " . " + e . a t t r ( " i d " ) ; a ( " b o d y " ) . o n ( " c h a n g e " + f , b . e l e m e n t s . c o u r s e S e l e c t o r , f u n c t i o n ( ) { i f ( e . i s ( " : v i s i b l e " ) ) { v a r   b = a ( t h i s ) , c = b . v a l ( ) , g = n u l l ; d . r e l o a d C u r r e n t M o n t h ( e , c , g ) } e l s e   a ( " b o d y " ) . o f f ( " c h a n g e " + f ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( b , c ) { b = a ( b ) , d . i n i t ( b ) , g ( b ) , e ( b ) , c & & d . r e l o a d C u r r e n t M o n t h ( b ) } } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / c r u d ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e _ c a l e n d a r / m o d a l _ e v e n t _ f o r m " , " c o r e _ c a l e n d a r / r e p o s i t o r y " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / m o d a l _ d e l e t e " , " c o r e _ c a l e n d a r / s e l e c t o r s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m ) { f u n c t i o n   n ( d , e , f ) { v a r   i = [ { k e y : " d e l e t e e v e n t " , c o m p o n e n t : " c a l e n d a r " } ] ; f = p a r s e I n t ( f , 1 0 ) ; v a r   m , n = f > 1 ; n ? ( i . p u s h ( { k e y : " c o n f i r m e v e n t s e r i e s d e l e t e " , c o m p o n e n t : " c a l e n d a r " , p a r a m : { n a m e : e , c o u n t : f } } ) , m = g . c r e a t e ( { t y p e : l . T Y P E } ) ) : ( i . p u s h ( { k e y : " c o n f i r m e v e n t d e l e t e " , c o m p o n e n t : " c a l e n d a r " , p a r a m : e } ) , m = g . c r e a t e ( { t y p e : g . t y p e s . S A V E _ C A N C E L } ) ) , m . t h e n ( f u n c t i o n ( a ) { a . s h o w ( ) } ) . f a i l ( c . e x c e p t i o n ) ; v a r   o = b . g e t _ s t r i n g s ( i ) , p = a . w h e n ( o , m ) . t h e n ( f u n c t i o n ( b , e ) { r e t u r n   e . s e t T i t l e ( b [ 0 ] ) , e . s e t B o d y ( b [ 1 ] ) , n | | e . s e t S a v e B u t t o n T e x t ( b [ 0 ] ) , e . g e t R o o t ( ) . o n ( h . s a v e , f u n c t i o n ( ) { j . d e l e t e E v e n t ( d , ! 1 ) . t h e n ( f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( k . d e l e t e d , [ d , ! 1 ] ) } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } ) , e . g e t R o o t ( ) . o n ( k . d e l e t e A l l , f u n c t i o n ( ) { j . d e l e t e E v e n t ( d , ! 0 ) . t h e n ( f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( k . d e l e t e d , [ d , ! 0 ] ) } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } ) , e } ) . f a i l ( c . e x c e p t i o n ) ; r e t u r n   p } f u n c t i o n   o ( b ) { b . o n ( " c l i c k " , m . a c t i o n s . r e m o v e , f u n c t i o n ( b ) { v a r   c = a ( t h i s ) . c l o s e s t ( m . e v e n t I t e m ) , d = c . d a t a ( " e v e n t I d " ) , e = c . d a t a ( " e v e n t T i t l e " ) , f = c . d a t a ( " e v e n t C o u n t " ) ; n ( d , e , f ) , b . p r e v e n t D e f a u l t ( ) } ) } f u n c t i o n   p ( b , d ) { r e t u r n   d . t h e n ( f u n c t i o n ( c ) { a ( " b o d y " ) . o n ( k . e d i t E v e n t , f u n c t i o n ( a , d ) { v a r   e = b . f i n d ( m . w r a p p e r ) ; c . s e t E v e n t I d ( d ) , c . s e t C o n t e x t I d ( e . d a t a ( " c o n t e x t I d " ) ) , c . s h o w ( ) , a . s t o p I m m e d i a t e P r o p a g a t i o n ( ) } ) } ) . f a i l ( c . e x c e p t i o n ) , d } v a r   q = f u n c t i o n ( b ) { v a r   d = g . c r e a t e ( { t y p e : i . T Y P E , l a r g e : ! 0 } ) ; r e t u r n   b . o n ( " c l i c k " , m . a c t i o n s . c r e a t e , f u n c t i o n ( a ) { d . t h e n ( f u n c t i o n ( a ) { v a r   c = b . f i n d ( m . w r a p p e r ) , d = c . d a t a ( " c a t e g o r y i d " ) ; " u n d e f i n e d " ! = t y p e o f   d & & a . s e t C a t e g o r y I d ( d ) ; v a r   e = b . f i n d ( m . t o d a y ) , f = b . f i n d ( m . d a y ) ; ! e . l e n g t h & & f . l e n g t h & & a . s e t S t a r t T i m e ( f . d a t a ( " n e w E v e n t T i m e s t a m p " ) ) , a . s e t C o n t e x t I d ( c . d a t a ( " c o n t e x t I d " ) ) , a . s e t C o u r s e I d ( c . d a t a ( " c o u r s e i d " ) ) , a . s h o w ( ) } ) . f a i l ( c . e x c e p t i o n ) , a . p r e v e n t D e f a u l t ( ) } ) , b . o n ( " c l i c k " , m . a c t i o n s . e d i t , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( b . c u r r e n t T a r g e t ) , f = e . c l o s e s t ( m . w r a p p e r ) , g = e . c l o s e s t ( m . e v e n t I t e m ) ; d . t h e n ( f u n c t i o n ( a ) { a . s e t E v e n t I d ( g . d a t a ( " e v e n t I d " ) ) , a . s e t C o n t e x t I d ( f . d a t a ( " c o n t e x t I d " ) ) , a . s h o w ( ) , b . s t o p I m m e d i a t e P r o p a g a t i o n ( ) } ) . f a i l ( c . e x c e p t i o n ) } ) , d } ; r e t u r n { r e g i s t e r R e m o v e : o , r e g i s t e r E d i t L i s t e n e r s : p , r e g i s t e r E v e n t F o r m M o d a l : q } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / e v e n t _ f o r m ' ,   [ " j q u e r y " , " c o r e _ c a l e n d a r / r e p o s i t o r y " ] , f u n c t i o n ( a , b ) { v a r   c = { E V E N T _ G R O U P _ C O U R S E _ I D : ' [ n a m e = " g r o u p c o u r s e i d " ] ' , E V E N T _ G R O U P _ I D : ' [ n a m e = " g r o u p i d " ] ' , S E L E C T _ O P T I O N : " o p t i o n " } , d = f u n c t i o n ( d ) { v a r   e = d . f i n d ( c . E V E N T _ G R O U P _ C O U R S E _ I D ) , f = f u n c t i o n ( b ) { v a r   e = d . f i n d ( c . E V E N T _ G R O U P _ I D ) , f = e . f i n d ( c . S E L E C T _ O P T I O N ) , g = a ( b ) ; f . r e m o v e ( ) , e . p r o p ( " d i s a b l e d " , ! 1 ) , g . e a c h ( f u n c t i o n ( b , c ) { a ( e ) . a p p e n d ( a ( " < o p t i o n > < / o p t i o n > " ) . a t t r ( " v a l u e " , c . i d ) . t e x t ( c . n a m e ) ) } ) } ; e . o n ( " c h a n g e " , f u n c t i o n ( ) { v a r   a = d . f i n d ( c . E V E N T _ G R O U P _ C O U R S E _ I D ) . v a l ( ) ; b . g e t C o u r s e G r o u p s D a t a ( a ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f ( a ) } ) [ " c a t c h " ] ( N o t i f i c a t i o n . e x c e p t i o n ) } ) } , e = f u n c t i o n ( b ) { v a r   c = a ( " # " + b ) ; d ( c ) } ; r e t u r n { i n i t : e } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / c a l e n d a r _ t h r e e m o n t h ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e _ c a l e n d a r / s e l e c t o r s " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e / t e m p l a t e s " , " c o r e _ c a l e n d a r / v i e w _ m a n a g e r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( e ) { v a r   g = a ( " b o d y " ) ; g . o n ( d . m o n t h C h a n g e d , f u n c t i o n ( a , c , d , f , g ) { e . q u e u e ( f u n c t i o n ( e ) { r e t u r n   h ( a , c , d , f , g ) . t h e n ( f u n c t i o n ( ) { r e t u r n   e ( ) } ) . f a i l ( b . e x c e p t i o n ) } ) } ) ; v a r   h = f u n c t i o n ( b , d , g , h , i ) { v a r   j = e . f i n d ( ' [ d a t a - y e a r = " ' + d + ' " ] [ d a t a - m o n t h = " ' + g + ' " ] ' ) , k = j . c l o s e s t ( c . c a l e n d a r P e r i o d s . m o n t h ) , l = e . f i n d ( c . c a l e n d a r P e r i o d s . m o n t h ) , m = a ( l [ 0 ] ) , n = a ( l [ 2 ] ) , o = a ( " < s p a n > " ) ; o . a t t r ( " d a t a - t e m p l a t e " , " c o r e _ c a l e n d a r / t h r e e m o n t h _ m o n t h " ) , o . a t t r ( " d a t a - i n c l u d e n a v i g a t i o n " , ! 1 ) , o . a t t r ( " d a t a - m i n i " , ! 0 ) ; v a r   p = a ( " < d i v > " ) ; p . h i d e ( ) , p . a p p e n d ( o ) ; v a r   q , r , s ; r e t u r n   k . i s ( m ) ? ( p . i n s e r t B e f o r e ( m ) , q = m . d a t a ( " p r e v i o u s Y e a r " ) , r = m . d a t a ( " p r e v i o u s M o n t h " ) , s = n ) : k . i s ( n ) & & ( p . i n s e r t A f t e r ( n ) , q = n . d a t a ( " n e x t Y e a r " ) , r = n . d a t a ( " n e x t M o n t h " ) , s = m ) , f . r e f r e s h M o n t h C o n t e n t ( o , q , r , h , i , o ) . t h e n ( f u n c t i o n ( ) { v a r   b = a . D e f e r r e d ( ) , c = a . D e f e r r e d ( ) ; r e t u r n   s . s l i d e U p ( " f a s t " , f u n c t i o n ( ) { a ( t h i s ) . r e m o v e ( ) , b . r e s o l v e ( ) } ) , p . s l i d e D o w n ( " f a s t " , f u n c t i o n ( ) { c . r e s o l v e ( ) } ) , a . w h e n ( b , c ) } ) } } ; r e t u r n { i n i t : f u n c t i o n ( b ) { b = a ( b ) , g ( b ) } } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { c r e a t e d : " c a l e n d a r - e v e n t s : c r e a t e d " , d e l e t e d : " c a l e n d a r - e v e n t s : d e l e t e d " , d e l e t e A l l : " c a l e n d a r - e v e n t s : d e l e t e _ a l l " , u p d a t e d : " c a l e n d a r - e v e n t s : u p d a t e d " , e d i t E v e n t : " c a l e n d a r - e v e n t s : e d i t _ e v e n t " , e d i t A c t i o n E v e n t : " c a l e n d a r - e v e n t s : e d i t _ a c t i o n _ e v e n t " , e v e n t M o v e d : " c a l e n d a r - e v e n t s : e v e n t _ m o v e d " , d a y C h a n g e d : " c a l e n d a r - e v e n t s : d a y _ c h a n g e d " , m o n t h C h a n g e d : " c a l e n d a r - e v e n t s : m o n t h _ c h a n g e d " , m o v e E v e n t : " c a l e n d a r - e v e n t s : m o v e _ e v e n t " , f i l t e r C h a n g e d : " c a l e n d a r - e v e n t s : f i l t e r _ c h a n g e d " , v i e w U p d a t e d : " c a l e n d a r - e v e n t s : v i e w _ u p d a t e d " } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / m o d a l _ d e l e t e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e _ c a l e n d a r / e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = ! 1 , i = { D E L E T E _ O N E _ B U T T O N : ' [ d a t a - a c t i o n = " d e l e t e o n e " ] ' , D E L E T E _ A L L _ B U T T O N : ' [ d a t a - a c t i o n = " d e l e t e a l l " ] ' , C A N C E L _ B U T T O N : ' [ d a t a - a c t i o n = " c a n c e l " ] ' } , j = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) } ; r e t u r n   j . T Y P E = " c o r e _ c a l e n d a r - m o d a l _ d e l e t e " , j . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , j . p r o t o t y p e . c o n s t r u c t o r = j , j . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , i . D E L E T E _ O N E _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . s a v e ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , i . D E L E T E _ A L L _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( g . d e l e t e A l l ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , i . C A N C E L _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( e . c a n c e l ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } , h | | ( f . r e g i s t e r ( j . T Y P E , j , " c a l e n d a r / e v e n t _ d e l e t e _ m o d a l " ) , h = ! 0 ) , j } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / m o n t h _ n a v i g a t i o n _ d r a g _ d r o p ' ,   [ " j q u e r y " , " c o r e _ c a l e n d a r / d r a g _ d r o p _ d a t a _ s t o r e " ] , f u n c t i o n ( a , b ) { v a r   c = { D R A G G A B L E : ' [ d r a g g a b l e = " t r u e " ] [ d a t a - r e g i o n = " e v e n t - i t e m " ] ' , D R O P _ Z O N E : ' [ d a t a - d r o p - z o n e = " n a v - l i n k " ] ' } , d = " b g - p r i m a r y   t e x t - w h i t e " , e = " d r o p - t a r g e t " , f = 1 e 3 , g = ! 1 , h = n u l l , i = n u l l , j = f u n c t i o n ( a , b ) { b ? a . a d d C l a s s ( d ) : a . r e m o v e C l a s s ( d ) } , k = f u n c t i o n ( ) { i . f i n d ( c . D R O P _ Z O N E ) . a d d C l a s s ( e ) } , l = f u n c t i o n ( ) { i . f i n d ( c . D R O P _ Z O N E ) . r e m o v e C l a s s ( e ) } , m = f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( c . D R O P _ Z O N E ) ; r e t u r n   d . l e n g t h ? d : n u l l } , n = f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( c . D R A G G A B L E ) ; d . l e n g t h & & k ( ) } , o = f u n c t i o n ( a ) { i f ( b . h a s E v e n t I d ( ) ) { a . p r e v e n t D e f a u l t ( ) ; v a r   c = m ( a ) ; c & & b . h a s E v e n t I d ( ) & & ( h | | ( h = s e t T i m e o u t ( f u n c t i o n ( ) { c . c l i c k ( ) , h = n u l l } , f ) ) , j ( c , ! 0 ) , l ( ) ) } } , p = f u n c t i o n ( a ) { i f ( b . h a s E v e n t I d ( ) ) { v a r   c = m ( a ) ; c & & ( h & & ( c l e a r T i m e o u t ( h ) , h = n u l l ) , j ( c , ! 1 ) , k ( ) , a . p r e v e n t D e f a u l t ( ) ) } } , q = f u n c t i o n ( a ) { i f ( b . h a s E v e n t I d ( ) ) { l ( ) ; v a r   c = m ( a ) ; c & & ( j ( c , ! 1 ) , a . p r e v e n t D e f a u l t ( ) ) } } ; r e t u r n { i n i t : f u n c t i o n ( c ) { g | | ( d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g s t a r t " , n , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g o v e r " , o , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g l e a v e " , p , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r o p " , q , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g e n d " , l , ! 1 ) , g = ! 0 ) , i = a ( c ) , b . h a s E v e n t I d ( ) & & k ( ) } } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / v i e w _ m a n a g e r ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e _ c a l e n d a r / r e p o s i t o r y " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / s e l e c t o r s " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e _ c a l e n d a r / s u m m a r y _ m o d a l " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = f u n c t i o n ( b ) { b = a ( b ) , b . o n ( " c l i c k " , g . l i n k s . e v e n t L i n k , f u n c t i o n ( b ) { v a r   c , d = a ( b . t a r g e t ) , e = n u l l ; c = d . i s ( g . a c t i o n s . v i e w E v e n t ) ? d : d . c l o s e s t ( g . a c t i o n s . v i e w E v e n t ) , e = c . l e n g t h ? c . d a t a ( " e v e n t I d " ) : d . f i n d ( g . a c t i o n s . v i e w E v e n t ) . d a t a ( " e v e n t I d " ) , e & & ( b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , w ( e ) ) } ) , b . o n ( " c l i c k " , g . l i n k s . n a v L i n k , f u n c t i o n ( c ) { v a r   d = b . f i n d ( g . w r a p p e r ) , e = d . d a t a ( " v i e w " ) , f = d . d a t a ( " c o u r s e i d " ) , h = d . d a t a ( " c a t e g o r y i d " ) , i = a ( c . c u r r e n t T a r g e t ) ; " m o n t h " = = = e ? ( m ( b , i . a t t r ( " h r e f " ) , i . d a t a ( " y e a r " ) , i . d a t a ( " m o n t h " ) , f , h ) , c . p r e v e n t D e f a u l t ( ) ) : " d a y " = = = e & & ( q ( b , i . a t t r ( " h r e f " ) , i . d a t a ( " y e a r " ) , i . d a t a ( " m o n t h " ) , i . d a t a ( " d a y " ) , f , h ) , c . p r e v e n t D e f a u l t ( ) ) } ) } , l = f u n c t i o n ( c , h , i , j , k , l ) { r ( c ) , l = l | | c . f i n d ( g . w r a p p e r ) , M . u t i l . j s _ p e n d i n g ( [ c . g e t ( " i d " ) , h , i , j ] . j o i n ( " - " ) ) ; v a r   m = c . d a t a ( " i n c l u d e n a v i g a t i o n " ) , n = c . d a t a ( " m i n i " ) ; r e t u r n   e . g e t C a l e n d a r M o n t h D a t a ( h , i , j , k , m , n ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b . r e n d e r ( c . a t t r ( " d a t a - t e m p l a t e " ) , a ) } ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   b . r e p l a c e N o d e ( l , a , c ) } ) . t h e n ( f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( f . v i e w U p d a t e d ) } ) . a l w a y s ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( [ c . g e t ( " i d " ) , h , i , j ] . j o i n ( " - " ) ) , s ( c ) } ) . f a i l ( d . e x c e p t i o n ) } , m = f u n c t i o n ( b , c , d , e , g , h ) { r e t u r n   l ( b , d , e , g , h ) . t h e n ( f u n c t i o n ( ) { r e t u r n   c . l e n g t h & & " # " ! = = c & & w i n d o w . h i s t o r y . p u s h S t a t e ( { } , " " , c ) , a r g u m e n t s } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   a ( " b o d y " ) . t r i g g e r ( f . m o n t h C h a n g e d , [ d , e , g , h ] ) , a r g u m e n t s } ) } , n = f u n c t i o n ( a , b , c ) { v a r   d = a . f i n d ( g . w r a p p e r ) . d a t a ( " y e a r " ) , e = a . f i n d ( g . w r a p p e r ) . d a t a ( " m o n t h " ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   b & & ( b = a . f i n d ( g . w r a p p e r ) . d a t a ( " c o u r s e i d " ) ) , " u n d e f i n e d " = = t y p e o f   c & & ( c = a . f i n d ( g . w r a p p e r ) . d a t a ( " c a t e g o r y i d " ) ) , l ( a , d , e , b , c ) } , o = f u n c t i o n ( c , h , i , j , k , l , m ) { r ( c ) , m = m | | c . f i n d ( g . w r a p p e r ) , M . u t i l . j s _ p e n d i n g ( [ c . g e t ( " i d " ) , h , i , j , k , l ] . j o i n ( " - " ) ) ; v a r   n = c . d a t a ( " i n c l u d e n a v i g a t i o n " ) ; r e t u r n   e . g e t C a l e n d a r D a y D a t a ( h , i , j , k , l , n ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b . r e n d e r ( c . a t t r ( " d a t a - t e m p l a t e " ) , a ) } ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   b . r e p l a c e N o d e ( m , a , c ) } ) . t h e n ( f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( f . v i e w U p d a t e d ) } ) . a l w a y s ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( [ c . g e t ( " i d " ) , h , i , j , k , l ] . j o i n ( " - " ) ) , s ( c ) } ) . f a i l ( d . e x c e p t i o n ) } , p = f u n c t i o n ( a , b , c ) { v a r   d = a . f i n d ( g . w r a p p e r ) , e = d . d a t a ( " y e a r " ) , f = d . d a t a ( " m o n t h " ) , h = d . d a t a ( " d a y " ) ; r e t u r n   b | | ( b = a . f i n d ( g . w r a p p e r ) . d a t a ( " c o u r s e i d " ) ) , " u n d e f i n e d " = = t y p e o f   c & & ( c = a . f i n d ( g . w r a p p e r ) . d a t a ( " c a t e g o r y i d " ) ) , o ( a , e , f , h , b , c ) } , q = f u n c t i o n ( b , c , d , e , g , h , i ) { r e t u r n   o ( b , d , e , g , h , i ) . t h e n ( f u n c t i o n ( ) { r e t u r n   c . l e n g t h & & " # " ! = = c & & w i n d o w . h i s t o r y . p u s h S t a t e ( { } , " " , c ) , a r g u m e n t s } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   a ( " b o d y " ) . t r i g g e r ( f . d a y C h a n g e d , [ d , e , g , h , i ] ) , a r g u m e n t s } ) } , r = f u n c t i o n ( a ) { v a r   b = a . f i n d ( g . c o n t a i n e r s . l o a d i n g I c o n ) ; b . r e m o v e C l a s s ( " h i d d e n " ) } , s = f u n c t i o n ( a ) { v a r   b = a . f i n d ( g . c o n t a i n e r s . l o a d i n g I c o n ) ; b . a d d C l a s s ( " h i d d e n " ) } , t = f u n c t i o n ( c , h , i ) { r ( c ) ; v a r   j = c . f i n d ( g . w r a p p e r ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   h & & ( h = c . f i n d ( g . w r a p p e r ) . d a t a ( " c o u r s e i d " ) ) , " u n d e f i n e d " = = t y p e o f   i & & ( i = c . f i n d ( g . w r a p p e r ) . d a t a ( " c a t e g o r y i d " ) ) , e . g e t C a l e n d a r U p c o m i n g D a t a ( h , i ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b . r e n d e r ( c . a t t r ( " d a t a - t e m p l a t e " ) , a ) } ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   b . r e p l a c e N o d e ( j , a , c ) } ) . t h e n ( f u n c t i o n ( ) { a ( " b o d y " ) . t r i g g e r ( f . v i e w U p d a t e d ) } ) . a l w a y s ( f u n c t i o n ( ) { r e t u r n   s ( c ) } ) . f a i l ( d . e x c e p t i o n ) } , u = f u n c t i o n ( a ) { s w i t c h ( a ) { c a s e " u s e r " : r e t u r n " u s e r " ; c a s e " s i t e " : r e t u r n " s i t e " ; c a s e " g r o u p " : r e t u r n " g r o u p " ; c a s e " c a t e g o r y " : r e t u r n " c a t e g o r y " ; d e f a u l t : r e t u r n " c o u r s e " } } , v = f u n c t i o n ( a ) { r e t u r n " c a l e n d a r _ e v e n t _ " + u ( a ) } , w = f u n c t i o n ( a ) { v a r   c = " " ; e . g e t E v e n t B y I d ( a ) . t h e n ( f u n c t i o n ( b ) { i f ( ! b . e v e n t ) t h r o w   n e w   E r r o r ( " E r r o r   e n c o u n t e r e d   w h i l e   t r y i n g   t o   f e t c h   c a l e n d a r   e v e n t   w i t h   I D :   " + a ) ; v a r   d = b . e v e n t ; r e t u r n   c = v ( d . e v e n t t y p e ) , x ( d . e v e n t t y p e ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . e v e n t t y p e = a , d } ) } ) . t h e n ( f u n c t i o n ( a ) { v a r   d = { t i t l e : a . n a m e , t y p e : j . T Y P E , b o d y : b . r e n d e r ( " c o r e _ c a l e n d a r / e v e n t _ s u m m a r y _ b o d y " , a ) , t e m p l a t e C o n t e x t : { c a n e d i t : a . c a n e d i t , c a n d e l e t e : a . c a n d e l e t e , h e a d e r c l a s s e s : c , i s a c t i o n e v e n t : a . i s a c t i o n e v e n t , u r l : a . u r l } } ; r e t u r n   h . c r e a t e ( d ) } ) . d o n e ( f u n c t i o n ( a ) { a . g e t R o o t ( ) . o n ( i . h i d d e n , f u n c t i o n ( ) { a . d e s t r o y ( ) } ) , a . s h o w ( ) } ) . f a i l ( d . e x c e p t i o n ) } , x = f u n c t i o n ( a ) { v a r   b = " t y p e " + u ( a ) ; r e t u r n   c . g e t _ s t r i n g ( b , " c o r e _ c a l e n d a r " ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a } ) } ; r e t u r n { i n i t : f u n c t i o n ( a ) { k ( a ) } , r e l o a d C u r r e n t M o n t h : n , c h a n g e M o n t h : m , r e f r e s h M o n t h C o n t e n t : l , r e l o a d C u r r e n t D a y : p , c h a n g e D a y : q , r e f r e s h D a y C o n t e n t : o , r e l o a d C u r r e n t U p c o m i n g : t } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / s e l e c t o r s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { e v e n t F i l t e r I t e m : " [ d a t a - a c t i o n = ' f i l t e r - e v e n t - t y p e ' ] " , e v e n t T y p e : { s i t e : " [ d a t a - e v e n t t y p e - s i t e ] " , c a t e g o r y : " [ d a t a - e v e n t t y p e - c a t e g o r y ] " , c o u r s e : " [ d a t a - e v e n t t y p e - c o u r s e ] " , g r o u p : " [ d a t a - e v e n t t y p e - g r o u p ] " , u s e r : " [ d a t a - e v e n t t y p e - u s e r ] " } , p o p o v e r T y p e : { s i t e : " [ d a t a - p o p o v e r - e v e n t t y p e - s i t e ] " , c a t e g o r y : " [ d a t a - p o p o v e r - e v e n t t y p e - c a t e g o r y ] " , c o u r s e : " [ d a t a - p o p o v e r - e v e n t t y p e - c o u r s e ] " , g r o u p : " [ d a t a - p o p o v e r - e v e n t t y p e - g r o u p ] " , u s e r : " [ d a t a - p o p o v e r - e v e n t t y p e - u s e r ] " } , c a l e n d a r P e r i o d s : { m o n t h : " [ d a t a - p e r i o d = ' m o n t h ' ] " } , c o u r s e S e l e c t o r : ' s e l e c t [ n a m e = " c o u r s e " ] ' , a c t i o n s : { c r e a t e : ' [ d a t a - a c t i o n = " n e w - e v e n t - b u t t o n " ] ' , e d i t : ' [ d a t a - a c t i o n = " e d i t " ] ' , r e m o v e : ' [ d a t a - a c t i o n = " d e l e t e " ] ' , v i e w E v e n t : ' [ d a t a - a c t i o n = " v i e w - e v e n t " ] ' } , e l e m e n t s : { c o u r s e S e l e c t o r : ' s e l e c t [ n a m e = " c o u r s e " ] ' } , t o d a y : " . t o d a y " , d a y : ' [ d a t a - r e g i o n = " d a y " ] ' , w r a p p e r : " . c a l e n d a r w r a p p e r " , e v e n t I t e m : ' [ d a t a - t y p e = " e v e n t " ] ' , l i n k s : { n a v L i n k : " . c a l e n d a r w r a p p e r   . a r r o w _ l i n k " , e v e n t L i n k : " [ d a t a - r e g i o n = ' e v e n t - i t e m ' ] " } , c o n t a i n e r s : { l o a d i n g I c o n : ' [ d a t a - r e g i o n = " o v e r l a y - i c o n - c o n t a i n e r " ] ' } } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / d r a g _ d r o p _ d a t a _ s t o r e ' ,   [ ] , f u n c t i o n ( ) { v a r   a = n u l l , b = n u l l , c = n u l l , d = n u l l , e = n u l l , f = n u l l , g = f u n c t i o n ( b ) { a = b } , h = f u n c t i o n ( ) { r e t u r n   a } , i = f u n c t i o n ( ) { r e t u r n   n u l l ! = = a } , j = f u n c t i o n ( a ) { b = a } , k = f u n c t i o n ( ) { r e t u r n   b } , l = f u n c t i o n ( a ) { c = a } , m = f u n c t i o n ( ) { r e t u r n   c } , n = f u n c t i o n ( ) { r e t u r n   n u l l ! = = c } , o = f u n c t i o n ( a ) { d = a } , p = f u n c t i o n ( ) { r e t u r n   d } , q = f u n c t i o n ( ) { r e t u r n   n u l l ! = = d } , r = f u n c t i o n ( a ) { e = a } , s = f u n c t i o n ( ) { r e t u r n   e } , t = f u n c t i o n ( a ) { f = a } , u = f u n c t i o n ( ) { r e t u r n   f } , v = f u n c t i o n ( ) { g ( n u l l ) , j ( n u l l ) , l ( n u l l ) , o ( n u l l ) , r ( n u l l ) , t ( n u l l ) } ; r e t u r n { s e t E v e n t I d : g , g e t E v e n t I d : h , h a s E v e n t I d : i , s e t D u r a t i o n D a y s : j , g e t D u r a t i o n D a y s : k , s e t M i n T i m e s t a r t : l , g e t M i n T i m e s t a r t : m , h a s M i n T i m e s t a r t : n , s e t M a x T i m e s t a r t : o , g e t M a x T i m e s t a r t : p , h a s M a x T i m e s t a r t : q , s e t M i n E r r o r : r , g e t M i n E r r o r : s , s e t M a x E r r o r : t , g e t M a x E r r o r : u , c l e a r A l l : v } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / m o d a l _ e v e n t _ f o r m ' ,   [ " j q u e r y " , " c o r e / e v e n t " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e / f r a g m e n t " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / r e p o s i t o r y " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k ) { v a r   l = ! 1 , m = { S A V E _ B U T T O N : ' [ d a t a - a c t i o n = " s a v e " ] ' , L O A D I N G _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " l o a d i n g - i c o n - c o n t a i n e r " ] ' } , n = f u n c t i o n ( a ) { g . c a l l ( t h i s , a ) , t h i s . e v e n t I d = n u l l , t h i s . s t a r t T i m e = n u l l , t h i s . c o u r s e I d = n u l l , t h i s . c a t e g o r y I d = n u l l , t h i s . c o n t e x t I d = n u l l , t h i s . r e l o a d i n g B o d y = ! 1 , t h i s . r e l o a d i n g T i t l e = ! 1 , t h i s . s a v e B u t t o n = t h i s . g e t F o o t e r ( ) . f i n d ( m . S A V E _ B U T T O N ) } ; r e t u r n   n . T Y P E = " c o r e _ c a l e n d a r - m o d a l _ e v e n t _ f o r m " , n . p r o t o t y p e = O b j e c t . c r e a t e ( g . p r o t o t y p e ) , n . p r o t o t y p e . c o n s t r u c t o r = n , n . p r o t o t y p e . s e t C o n t e x t I d = f u n c t i o n ( a ) { t h i s . c o n t e x t I d = a } , n . p r o t o t y p e . g e t C o n t e x t I d = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e x t I d } , n . p r o t o t y p e . s e t C o u r s e I d = f u n c t i o n ( a ) { t h i s . c o u r s e I d = a } , n . p r o t o t y p e . g e t C o u r s e I d = f u n c t i o n ( ) { r e t u r n   t h i s . c o u r s e I d } , n . p r o t o t y p e . s e t C a t e g o r y I d = f u n c t i o n ( a ) { t h i s . c a t e g o r y I d = a } , n . p r o t o t y p e . g e t C a t e g o r y I d = f u n c t i o n ( ) { r e t u r n   t h i s . c a t e g o r y I d } , n . p r o t o t y p e . h a s C o u r s e I d = f u n c t i o n ( ) { r e t u r n   n u l l ! = = t h i s . c o u r s e I d } , n . p r o t o t y p e . h a s C a t e g o r y I d = f u n c t i o n ( ) { r e t u r n   n u l l ! = = t h i s . c a t e g o r y I d } , n . p r o t o t y p e . s e t E v e n t I d = f u n c t i o n ( a ) { t h i s . e v e n t I d = a } , n . p r o t o t y p e . g e t E v e n t I d = f u n c t i o n ( ) { r e t u r n   t h i s . e v e n t I d } , n . p r o t o t y p e . h a s E v e n t I d = f u n c t i o n ( ) { r e t u r n   n u l l ! = = t h i s . e v e n t I d } , n . p r o t o t y p e . s e t S t a r t T i m e = f u n c t i o n ( a ) { t h i s . s t a r t T i m e = a } , n . p r o t o t y p e . g e t S t a r t T i m e = f u n c t i o n ( ) { r e t u r n   t h i s . s t a r t T i m e } , n . p r o t o t y p e . h a s S t a r t T i m e = f u n c t i o n ( ) { r e t u r n   n u l l ! = = t h i s . s t a r t T i m e } , n . p r o t o t y p e . g e t F o r m = f u n c t i o n ( ) { r e t u r n   t h i s . g e t B o d y ( ) . f i n d ( " f o r m " ) } , n . p r o t o t y p e . d i s a b l e B u t t o n s = f u n c t i o n ( ) { t h i s . s a v e B u t t o n . p r o p ( " d i s a b l e d " , ! 0 ) } , n . p r o t o t y p e . e n a b l e B u t t o n s = f u n c t i o n ( ) { t h i s . s a v e B u t t o n . p r o p ( " d i s a b l e d " , ! 1 ) } , n . p r o t o t y p e . r e l o a d T i t l e C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . r e l o a d i n g T i t l e ? t h i s . t i t l e P r o m i s e : ( t h i s . r e l o a d i n g T i t l e = ! 0 , t h i s . h a s E v e n t I d ( ) ? t h i s . t i t l e P r o m i s e = c . g e t _ s t r i n g ( " e d i t e v e n t " , " c a l e n d a r " ) : t h i s . t i t l e P r o m i s e = c . g e t _ s t r i n g ( " n e w e v e n t " , " c a l e n d a r " ) , t h i s . t i t l e P r o m i s e . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . s e t T i t l e ( a ) , a } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . r e l o a d i n g T i t l e = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) , t h i s . t i t l e P r o m i s e ) } , n . p r o t o t y p e . r e l o a d B o d y C o n t e n t = f u n c t i o n ( a ) { i f ( t h i s . r e l o a d i n g B o d y ) r e t u r n   t h i s . b o d y P r o m i s e ; t h i s . r e l o a d i n g B o d y = ! 0 , t h i s . d i s a b l e B u t t o n s ( ) ; v a r   b = { } ; r e t u r n   t h i s . h a s E v e n t I d ( ) & & ( b . e v e n t i d = t h i s . g e t E v e n t I d ( ) ) , t h i s . h a s S t a r t T i m e ( ) & & ( b . s t a r t t i m e = t h i s . g e t S t a r t T i m e ( ) ) , t h i s . h a s C o u r s e I d ( ) & & ( b . c o u r s e i d = t h i s . g e t C o u r s e I d ( ) ) , t h i s . h a s C a t e g o r y I d ( ) & & ( b . c a t e g o r y i d = t h i s . g e t C a t e g o r y I d ( ) ) , " u n d e f i n e d " ! = t y p e o f   a & & ( b . f o r m d a t a = a ) , t h i s . b o d y P r o m i s e = i . l o a d F r a g m e n t ( " c a l e n d a r " , " e v e n t _ f o r m " , t h i s . g e t C o n t e x t I d ( ) , b ) , t h i s . s e t B o d y ( t h i s . b o d y P r o m i s e ) , t h i s . b o d y P r o m i s e . t h e n ( f u n c t i o n ( ) { t h i s . e n a b l e B u t t o n s ( ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { t h i s . r e l o a d i n g B o d y = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) , t h i s . b o d y P r o m i s e } , n . p r o t o t y p e . r e l o a d A l l C o n t e n t = f u n c t i o n ( ) { r e t u r n   a . w h e n ( t h i s . r e l o a d T i t l e C o n t e n t ( ) , t h i s . r e l o a d B o d y C o n t e n t ( ) ) } , n . p r o t o t y p e . s h o w = f u n c t i o n ( ) { t h i s . r e l o a d A l l C o n t e n t ( ) , g . p r o t o t y p e . s h o w . c a l l ( t h i s ) } , n . p r o t o t y p e . h i d e = f u n c t i o n ( ) { g . p r o t o t y p e . h i d e . c a l l ( t h i s ) , t h i s . s e t E v e n t I d ( n u l l ) , t h i s . s e t S t a r t T i m e ( n u l l ) , t h i s . s e t C o u r s e I d ( n u l l ) , t h i s . s e t C a t e g o r y I d ( n u l l ) } , n . p r o t o t y p e . g e t F o r m D a t a = f u n c t i o n ( ) { r e t u r n   t h i s . g e t F o r m ( ) . s e r i a l i z e ( ) } , n . p r o t o t y p e . s a v e = f u n c t i o n ( ) { v a r   b = t h i s . s a v e B u t t o n . f i n d ( m . L O A D I N G _ I C O N _ C O N T A I N E R ) ; b . r e m o v e C l a s s ( " h i d d e n " ) , t h i s . d i s a b l e B u t t o n s ( ) ; v a r   c = t h i s . g e t F o r m D a t a ( ) ; r e t u r n   k . s u b m i t C r e a t e U p d a t e F o r m ( c ) . t h e n ( f u n c t i o n ( b ) { i f ( b . v a l i d a t i o n e r r o r ) r e t u r n   v o i d   t h i s . r e l o a d B o d y C o n t e n t ( c ) ; v a r   d = t h i s . h a s E v e n t I d ( ) ; t h i s . h i d e ( ) , d ? a ( " b o d y " ) . t r i g g e r ( j . u p d a t e d , [ b . e v e n t ] ) : a ( " b o d y " ) . t r i g g e r ( j . c r e a t e d , [ b . e v e n t ] ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { b . a d d C l a s s ( " h i d d e n " ) , t h i s . e n a b l e B u t t o n s ( ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , n . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( f . e v e n t s . a c t i v a t e , m . S A V E _ B U T T O N , f u n c t i o n ( a , b ) { t h i s . g e t F o r m ( ) . s u b m i t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( " s u b m i t " , f u n c t i o n ( a ) { t h i s . s a v e ( ) , a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) } . b i n d ( t h i s ) ) } , l | | ( h . r e g i s t e r ( n . T Y P E , n , " c a l e n d a r / m o d a l _ e v e n t _ f o r m " ) , l = ! 0 ) , n } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( a , c ) { " u n d e f i n e d " = = t y p e o f   c & & ( c = ! 1 ) ; v a r   d = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ d e l e t e _ c a l e n d a r _ e v e n t s " , a r g s : { e v e n t s : [ { e v e n t i d : a , r e p e a t : c } ] } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , d = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ c a l e n d a r _ e v e n t _ b y _ i d " , a r g s : { e v e n t i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , e = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ s u b m i t _ c r e a t e _ u p d a t e _ f o r m " , a r g s : { f o r m d a t a : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , f = f u n c t i o n ( a , c , d , e , f , g ) { v a r   h = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ c a l e n d a r _ m o n t h l y _ v i e w " , a r g s : { y e a r : a , m o n t h : c , c o u r s e i d : d , c a t e g o r y i d : e , i n c l u d e n a v i g a t i o n : f , m i n i : g } } ; r e t u r n   b . c a l l ( [ h ] ) [ 0 ] } , g = f u n c t i o n ( a , c , d , e , f ) { v a r   g = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ c a l e n d a r _ d a y _ v i e w " , a r g s : { y e a r : a , m o n t h : c , d a y : d , c o u r s e i d : e , c a t e g o r y i d : f } } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] } , h = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ u p d a t e _ e v e n t _ s t a r t _ d a y " , a r g s : { e v e n t i d : a , d a y t i m e s t a m p : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , i = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ c a l e n d a r _ u p c o m i n g _ v i e w " , a r g s : { c o u r s e i d : a , c a t e g o r y i d : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , j = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ g r o u p _ g e t _ c o u r s e _ g r o u p s " , a r g s : { c o u r s e i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } ; r e t u r n { g e t E v e n t B y I d : d , d e l e t e E v e n t : c , u p d a t e E v e n t S t a r t D a y : h , s u b m i t C r e a t e U p d a t e F o r m : e , g e t C a l e n d a r M o n t h D a t a : f , g e t C a l e n d a r D a y D a t a : g , g e t C a l e n d a r U p c o m i n g D a t a : i , g e t C o u r s e G r o u p s D a t a : j } } ) ; 
 d e f i n e ( ' c o r e _ c a l e n d a r / m o n t h _ v i e w _ d r a g _ d r o p ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e _ c a l e n d a r / e v e n t s " , " c o r e _ c a l e n d a r / d r a g _ d r o p _ d a t a _ s t o r e " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { R O O T : " [ d a t a - r e g i o n = ' c a l e n d a r ' ] " , D R A G G A B L E : ' [ d r a g g a b l e = " t r u e " ] [ d a t a - r e g i o n = " e v e n t - i t e m " ] ' , D R O P _ Z O N E : ' [ d a t a - d r o p - z o n e = " m o n t h - v i e w - d a y " ] ' , W E E K : ' [ d a t a - r e g i o n = " m o n t h - v i e w - w e e k " ] ' } , g = " b g - f a d e d " , h = " b g - d a n g e r   t e x t - w h i t e " , i = " b g - p r i m a r y   t e x t - w h i t e " , j = g + "   " + h + "   " + i , k = ! 1 , l = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( f . D R O P _ Z O N E ) ; r e t u r n   c . l e n g t h ? c : n u l l } , m = f u n c t i o n ( a ) { v a r   b = a . a t t r ( " d a t a - d a y - t i m e s t a m p " ) , c = e . g e t M i n T i m e s t a r t ( ) , d = e . g e t M a x T i m e s t a r t ( ) ; r e t u r n ! ( c & & c > b ) & & ! ( d & & d < b ) } , n = f u n c t i o n ( a ) { v a r   b = a . a t t r ( " d a t a - d a y - t i m e s t a m p " ) , c = e . g e t M i n T i m e s t a r t ( ) , d = e . g e t M a x T i m e s t a r t ( ) ; r e t u r n   c & & c > b ? e . g e t M i n E r r o r ( ) : d & & d < b ? e . g e t M a x E r r o r ( ) : n u l l } , o = f u n c t i o n ( ) { a ( f . R O O T ) . f i n d ( f . D R O P _ Z O N E ) . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) , c . r e m o v e C l a s s ( j ) } ) } , p = f u n c t i o n ( a , b , c ) { " u n d e f i n e d " = = t y p e o f   c & & ( c = e . g e t D u r a t i o n D a y s ( ) ) ; v a r   d = m ( a ) ; i f ( a . r e m o v e C l a s s ( j ) , b ? d ? a . a d d C l a s s ( i ) : a . a d d C l a s s ( h ) : ( a . r e m o v e C l a s s ( i + "   " + h ) , d | | a . a d d C l a s s ( g ) ) , c - - , c > 0 ) { v a r   k = a . n e x t ( ) ; i f ( ! k . l e n g t h ) { v a r   l = a . c l o s e s t ( f . W E E K ) . n e x t ( ) ; l . l e n g t h & & ( k = l . c h i l d r e n ( f . D R O P _ Z O N E ) . f i r s t ( ) ) } k . l e n g t h & & p ( k , b , c ) } } , q = f u n c t i o n ( ) { a ( f . R O O T ) . f i n d ( f . D R O P _ Z O N E ) . e a c h ( f u n c t i o n ( b , c ) { c = a ( c ) , m ( c ) | | p ( c , ! 1 ) } ) } , r = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) , d = c . c l o s e s t ( f . D R A G G A B L E ) ; i f ( d . l e n g t h ) { v a r   g = d . f i n d ( " [ d a t a - e v e n t - i d ] " ) , h = g . a t t r ( " d a t a - e v e n t - i d " ) , i = d . a t t r ( " d a t a - m i n - d a y - t i m e s t a m p " ) , j = d . a t t r ( " d a t a - m a x - d a y - t i m e s t a m p " ) , k = d . a t t r ( " d a t a - m i n - d a y - e r r o r " ) , l = d . a t t r ( " d a t a - m a x - d a y - e r r o r " ) , m = f . R O O T + '   [ d a t a - e v e n t - i d = " ' + h + ' " ] ' , n = a ( m ) . l e n g t h ; e . s e t E v e n t I d ( h ) , e . s e t D u r a t i o n D a y s ( n ) , i & & e . s e t M i n T i m e s t a r t ( i ) , j & & e . s e t M a x T i m e s t a r t ( j ) , k & & e . s e t M i n E r r o r ( k ) , l & & e . s e t M a x E r r o r ( l ) , b . d a t a T r a n s f e r . e f f e c t A l l o w e d = " m o v e " , b . d a t a T r a n s f e r . d r o p E f f e c t = " m o v e " , b . d a t a T r a n s f e r . s e t D a t a ( " t e x t / p l a i n " , h ) , b . d r o p E f f e c t = " m o v e " , q ( ) } } , s = f u n c t i o n ( a ) { i f ( e . h a s E v e n t I d ( ) ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = l ( a ) ; b & & p ( b , ! 0 ) } } , t = f u n c t i o n ( a ) { i f ( e . h a s E v e n t I d ( ) ) { v a r   b = l ( a ) ; b & & ( p ( b , ! 1 ) , a . p r e v e n t D e f a u l t ( ) ) } } , u = f u n c t i o n ( g ) { i f ( e . h a s E v e n t I d ( ) ) { v a r   h = l ( g ) ; i f ( ! h ) r e t u r n   e . c l e a r A l l ( ) , v o i d   o ( ) ; i f ( m ( h ) ) { v a r   i = e . g e t E v e n t I d ( ) , j = f . R O O T + '   [ d a t a - e v e n t - i d = " ' + i + ' " ] ' , k = a ( j ) , p = n u l l ; k . l e n g t h & & ( p = k . c l o s e s t ( f . D R O P _ Z O N E ) ) , a ( " b o d y " ) . t r i g g e r ( d . m o v e E v e n t , [ i , p , h ] ) } e l s e { v a r   q = n ( h ) ; c . g e t _ s t r i n g ( " e r r o r i n v a l i d d a t e " , " c a l e n d a r " ) . t h e n ( f u n c t i o n ( a ) { b . e x c e p t i o n ( { n a m e : a , m e s s a g e : q | | a } ) } ) } e . c l e a r A l l ( ) , o ( ) , g . p r e v e n t D e f a u l t ( ) } } , v = f u n c t i o n ( ) { e . c l e a r A l l ( ) , o ( ) } , w = f u n c t i o n ( ) { q ( ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { k | | ( d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g s t a r t " , r , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g o v e r " , s , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g l e a v e " , t , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r o p " , u , ! 1 ) , d o c u m e n t . a d d E v e n t L i s t e n e r ( " d r a g e n d " , v , ! 1 ) , a ( " b o d y " ) . o n ( d . m o n t h C h a n g e d , w ) , k = ! 0 ) } } } ) ; 
 d e f i n e ( ' c o r e _ c o u r s e / e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { f a v o u r i t e d : " c o r e _ c o u r s e : f a v o u r i t e d " , u n f a v o r i t e d : " c o r e _ c o u r s e : u n f a v o r i t e d " } } ) ; 
 d e f i n e ( ' c o r e _ c o u r s e / a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / u r l " , " c o r e / y u i " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / k e y _ c o d e s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { E D I T I N P R O G R E S S : " e d i t i n p r o g r e s s " , S E C T I O N D R A G G A B L E : " s e c t i o n d r a g g a b l e " , E D I T I N G M O V E : " e d i t i n g _ m o v e " } , l = { A C T I V I T Y L I : " l i . a c t i v i t y " , A C T I O N A R E A : " . a c t i o n s " , A C T I V I T Y A C T I O N : " a . c m - e d i t - a c t i o n " , M E N U : " . m o o d l e - a c t i o n m e n u [ d a t a - e n h a n c e = m o o d l e - c o r e - a c t i o n m e n u ] " , T O G G L E : " . t o g g l e - d i s p l a y , . d r o p d o w n - t o g g l e " , S E C T I O N L I : " l i . s e c t i o n " , S E C T I O N A C T I O N M E N U : " . s e c t i o n _ a c t i o n _ m e n u " , A D D S E C T I O N S : " # c h a n g e n u m s e c t i o n s   [ d a t a - a d d - s e c t i o n s ] " } ; g . u s e ( " m o o d l e - c o u r s e - c o u r s e b a s e " , f u n c t i o n ( ) { v a r   a = M . c o u r s e . f o r m a t . g e t _ s e c t i o n _ s e l e c t o r ( ) ; a & & ( l . S E C T I O N L I = a ) } ) ; v a r   m = f u n c t i o n ( a ) { v a r   b ; r e t u r n   g . u s e ( " m o o d l e - c o u r s e - u t i l " , f u n c t i o n ( c ) { b = c . M o o d l e . c o r e _ c o u r s e . u t i l . c m . g e t I d ( c . N o d e ( a . g e t ( 0 ) ) ) } ) , b } , n = f u n c t i o n ( a ) { v a r   b ; r e t u r n   g . u s e ( " m o o d l e - c o u r s e - u t i l " , f u n c t i o n ( c ) { b = c . M o o d l e . c o r e _ c o u r s e . u t i l . c m . g e t N a m e ( c . N o d e ( a . g e t ( 0 ) ) ) } ) , b } , o = f u n c t i o n ( a ) { a . a d d C l a s s ( k . E D I T I N P R O G R E S S ) ; v a r   b = a . f i n d ( l . A C T I O N A R E A ) . g e t ( 0 ) ; i f ( b ) { v a r   c = M . u t i l . a d d _ s p i n n e r ( g , g . N o d e ( b ) ) ; r e t u r n   c . s h o w ( ) , c } r e t u r n   n u l l } , p = f u n c t i o n ( a ) { a . a d d C l a s s ( k . E D I T I N P R O G R E S S ) ; v a r   b = a . f i n d ( l . S E C T I O N A C T I O N M E N U ) . g e t ( 0 ) ; i f ( b ) { v a r   c = M . u t i l . a d d _ s p i n n e r ( g , g . N o d e ( b ) ) ; r e t u r n   c . s h o w ( ) , c } r e t u r n   n u l l } , q = f u n c t i o n ( a ) { v a r   b = M . u t i l . a d d _ l i g h t b o x ( g , g . N o d e ( a . g e t ( 0 ) ) ) ; r e t u r n   b . s h o w ( ) , b } , r = f u n c t i o n ( a , b , c ) { w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a . r e m o v e C l a s s ( k . E D I T I N P R O G R E S S ) , b & & b . h i d e ( ) } , c ) } , s = f u n c t i o n ( a , b ) { a & & w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a . h i d e ( ) } , b ) } , t = f u n c t i o n ( a , b ) { i f ( g . u s e ( " m o o d l e - c o u r s e - c o u r s e b a s e " , f u n c t i o n ( ) { M . c o u r s e . c o u r s e b a s e . i n v o k e _ f u n c t i o n ( " s e t u p _ f o r _ r e s o u r c e " , " # " + a ) } ) , M . c o r e . a c t i o n m e n u & & M . c o r e . a c t i o n m e n u . n e w D O M N o d e & & M . c o r e . a c t i o n m e n u . n e w D O M N o d e ( g . o n e ( " # " + a ) ) , b ) { v a r   c = g . o n e ( " # " + a + "   " + l . M E N U ) . o n e ( l . T O G G L E ) ; c & & c . s i m u l a t e & & c . s i m u l a t e ( " c l i c k " ) } } , u = f u n c t i o n ( b , c ) { v a r   d = a ( " # " + b ) , e = " [ d a t a - a c t i o n = " + c + " ] " ; " g r o u p s s e p a r a t e " ! = = c & & " g r o u p s v i s i b l e " ! = = c & & " g r o u p s n o n e " ! = = c | | ( e = " [ d a t a - a c t i o n = g r o u p s s e p a r a t e ] , [ d a t a - a c t i o n = g r o u p s v i s i b l e ] , [ d a t a - a c t i o n = g r o u p s n o n e ] " ) , d . f i n d ( e ) . i s ( " : v i s i b l e " ) ? d . f i n d ( e ) . f o c u s ( ) : d . f i n d ( l . M E N U ) . f i n d ( l . T O G G L E ) . f o c u s ( ) } , v = f u n c t i o n ( b ) { v a r   c = a ( " a : v i s i b l e " ) , d = ! 1 , e = n u l l ; r e t u r n   c . e a c h ( f u n c t i o n ( ) { i f ( a . c o n t a i n s ( b [ 0 ] , t h i s ) ) d = ! 0 ; e l s e   i f ( d ) r e t u r n   e = t h i s , ! 1 } ) , e } , w = f u n c t i o n ( c , e , f ) { v a r   g , h = f . a t t r ( " d a t a - k e e p o p e n " ) , i = f . a t t r ( " d a t a - a c t i o n " ) , j = o ( c ) , k = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o u r s e _ e d i t _ m o d u l e " , a r g s : { i d : e , a c t i o n : i , s e c t i o n r e t u r n : f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) ? f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) : 0 } } ] , ! 0 ) ; " d u p l i c a t e " = = = i & & ( g = q ( f . c l o s e s t ( l . S E C T I O N L I ) ) ) , a . w h e n . a p p l y ( a , k ) . d o n e ( f u n c t i o n ( b ) { v a r   d = v ( c ) ; c . r e p l a c e W i t h ( b ) , a ( " < d i v > " + b + " < / d i v > " ) . f i n d ( l . A C T I V I T Y L I ) . e a c h ( f u n c t i o n ( b ) { t ( a ( t h i s ) . a t t r ( " i d " ) , h ) , 0 = = = b & & ( u ( a ( t h i s ) . a t t r ( " i d " ) , i ) , d = n u l l ) } ) , d & & d . f o c u s ( ) , r ( c , j , 4 0 0 ) , s ( g , 4 0 0 ) , c . t r i g g e r ( a . E v e n t ( " c o u r s e m o d u l e e d i t e d " , { a j a x r e t u r n : b , a c t i o n : i } ) ) } ) . f a i l ( f u n c t i o n ( b ) { r ( c , j ) , s ( g ) ; v a r   e = a . E v e n t ( " c o u r s e m o d u l e e d i t f a i l e d " , { e x c e p t i o n : b , a c t i o n : i } ) ; c . t r i g g e r ( e ) , e . i s D e f a u l t P r e v e n t e d ( ) | | d . e x c e p t i o n ( b ) } ) } , x = f u n c t i o n ( c , d , e ) { v a r   f = o ( c ) , g = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o u r s e _ g e t _ m o d u l e " , a r g s : { i d : d , s e c t i o n r e t u r n : e } } ] , ! 0 ) ; a . w h e n . a p p l y ( a , g ) . d o n e ( f u n c t i o n ( a ) { r ( c , f , 4 0 0 ) , C ( a ) } ) . f a i l ( f u n c t i o n ( ) { r ( c , f ) } ) } , y = f u n c t i o n ( a , b ) { v a r   c = a . a t t r ( " c l a s s " ) . m a t c h ( / m o d t y p e _ ( [ ^ \ s ] * ) / ) [ 1 ] , f = n ( a ) ; e . g e t _ s t r i n g ( " p l u g i n n a m e " , c ) . d o n e ( f u n c t i o n ( a ) { v a r   c = { t y p e : a , n a m e : f } ; e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " } , { k e y : n u l l = = = f ? " d e l e t e c h e c k t y p e " : " d e l e t e c h e c k t y p e n a m e " , p a r a m : c } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , b ) } ) } ) } , z = f u n c t i o n ( a , b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " } , { k e y : " y e s " } , { k e y : " n o " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , a , c [ 1 ] , c [ 2 ] , b ) } ) } , A = f u n c t i o n ( a , b , f , g , h , i , j ) { v a r   k = [ { k e y : f , c o m p o n e n t : g } ] ; r e t u r n   h & & k . p u s h ( { k e y : h , c o m p o n e n t : i } ) , e . g e t _ s t r i n g s ( k ) . t h e n ( f u n c t i o n ( d ) { a . f i n d ( " s p a n . m e n u - a c t i o n - t e x t " ) . h t m l ( d [ 0 ] ) , a . a t t r ( " t i t l e " , d [ 0 ] ) ; v a r   e = " " ; r e t u r n   h & & ( e = d [ 1 ] , a . a t t r ( " t i t l e " , e ) ) , c . r e n d e r P i x ( b , " c o r e " , e ) } ) . t h e n ( f u n c t i o n ( b ) { a . f i n d ( " . i c o n " ) . r e p l a c e W i t h ( b ) , a . a t t r ( " d a t a - a c t i o n " , j ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , B = f u n c t i o n ( b , c , d , e ) { v a r   f = c . a t t r ( " d a t a - a c t i o n " ) ; i f ( " h i d e " = = = f | | " s h o w " = = = f ) { i f ( " h i d e " = = = f ? ( b . a d d C l a s s ( " h i d d e n " ) , A ( c , " i / s h o w " , " s h o w f r o m o t h e r s " , " f o r m a t _ " + e , n u l l , n u l l , " s h o w " ) ) : ( b . r e m o v e C l a s s ( " h i d d e n " ) , A ( c , " i / h i d e " , " h i d e f r o m o t h e r s " , " f o r m a t _ " + e , n u l l , n u l l , " h i d e " ) ) , v o i d   0 ! = = d . m o d u l e s ) f o r ( v a r   g   i n   d . m o d u l e s ) C ( d . m o d u l e s [ g ] ) ; v o i d   0 ! = = d . s e c t i o n _ a v a i l a b i l i t y & & b . f i n d ( " . s e c t i o n _ a v a i l a b i l i t y " ) . f i r s t ( ) . r e p l a c e W i t h ( d . s e c t i o n _ a v a i l a b i l i t y ) } e l s e   i f ( " s e t m a r k e r " = = = f ) { v a r   h = a ( l . S E C T I O N L I + " . c u r r e n t " ) , i = h . f i n d ( l . S E C T I O N A C T I O N M E N U + "   a [ d a t a - a c t i o n = r e m o v e m a r k e r ] " ) ; h . r e m o v e C l a s s ( " c u r r e n t " ) , A ( i , " i / m a r k e r " , " h i g h l i g h t " , " c o r e " , " m a r k t h i s t o p i c " , " c o r e " , " s e t m a r k e r " ) , b . a d d C l a s s ( " c u r r e n t " ) , A ( c , " i / m a r k e d " , " h i g h l i g h t o f f " , " c o r e " , " m a r k e d t h i s t o p i c " , " c o r e " , " r e m o v e m a r k e r " ) } e l s e " r e m o v e m a r k e r " = = = f & & ( b . r e m o v e C l a s s ( " c u r r e n t " ) , A ( c , " i / m a r k e r " , " h i g h l i g h t " , " c o r e " , " m a r k t h i s t o p i c " , " c o r e " , " s e t m a r k e r " ) ) } , C = f u n c t i o n ( b ) { a ( " < d i v > " + b + " < / d i v > " ) . f i n d ( l . A C T I V I T Y L I ) . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . a t t r ( " i d " ) ; a ( l . A C T I V I T Y L I + " # " + c ) . r e p l a c e W i t h ( b ) , t ( c , ! 1 ) } ) } , D = f u n c t i o n ( c , e , f , g ) { v a r   h = f . a t t r ( " d a t a - a c t i o n " ) , i = f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) ? f . a t t r ( " d a t a - s e c t i o n r e t u r n " ) : 0 , j = p ( c ) , k = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o u r s e _ e d i t _ s e c t i o n " , a r g s : { i d : e , a c t i o n : h , s e c t i o n r e t u r n : i } } ] , ! 0 ) , m = q ( c ) ; a . w h e n . a p p l y ( a , k ) . d o n e ( f u n c t i o n ( b ) { v a r   d = a . p a r s e J S O N ( b ) ; r ( c , j ) , s ( m ) , c . f i n d ( l . S E C T I O N A C T I O N M E N U ) . f i n d ( l . T O G G L E ) . f o c u s ( ) ; v a r   e = a . E v e n t ( " c o u r s e s e c t i o n e d i t e d " , { a j a x r e t u r n : d , a c t i o n : h } ) ; c . t r i g g e r ( e ) , e . i s D e f a u l t P r e v e n t e d ( ) | | B ( c , f , d , g ) } ) . f a i l ( f u n c t i o n ( b ) { r ( c , j ) , s ( m ) ; v a r   e = a . E v e n t ( " c o u r s e s e c t i o n e d i t f a i l e d " , { e x c e p t i o n : b , a c t i o n : h } ) ; c . t r i g g e r ( e ) , e . i s D e f a u l t P r e v e n t e d ( ) | | d . e x c e p t i o n ( b ) } ) } ; r e t u r n   g . u s e ( " m o o d l e - c o u r s e - c o u r s e b a s e " , f u n c t i o n ( ) { M . c o u r s e . c o u r s e b a s e . r e g i s t e r _ m o d u l e ( { s e t _ v i s i b i l i t y _ r e s o u r c e _ u i : f u n c t i o n ( b ) { v a r   c = a ( b . e l e m e n t . g e t D O M N o d e ( ) ) , d = m ( c ) ; i f ( d ) { v a r   e = c . f i n d ( " . " + k . E D I T I N G M O V E ) . a t t r ( " d a t a - s e c t i o n r e t u r n " ) ; x ( c , d , e ) } } } ) } ) , { i n i t C o u r s e P a g e : f u n c t i o n ( b ) { a ( " b o d y " ) . o n ( " c l i c k   k e y p r e s s " , l . A C T I V I T Y L I + "   " + l . A C T I V I T Y A C T I O N + " [ d a t a - a c t i o n ] " , f u n c t i o n ( b ) { i f ( " k e y p r e s s " ! = = b . t y p e | | 1 3 = = = b . k e y C o d e ) { v a r   c = a ( t h i s ) , d = c . c l o s e s t ( l . A C T I V I T Y L I ) , e = c . a t t r ( " d a t a - a c t i o n " ) , f = m ( d ) ; s w i t c h ( e ) { c a s e " m o v e l e f t " : c a s e " m o v e r i g h t " : c a s e " d e l e t e " : c a s e " d u p l i c a t e " : c a s e " h i d e " : c a s e " s t e a l t h " : c a s e " s h o w " : c a s e " g r o u p s s e p a r a t e " : c a s e " g r o u p s v i s i b l e " : c a s e " g r o u p s n o n e " : b r e a k ; d e f a u l t : r e t u r n } f & & ( b . p r e v e n t D e f a u l t ( ) , " d e l e t e " = = = e ? y ( d , f u n c t i o n ( ) { w ( d , f , c ) } ) : w ( d , f , c ) ) } } ) , a ( " b o d y " ) . o n ( " c l i c k   k e y p r e s s " , l . S E C T I O N L I + "   " + l . S E C T I O N A C T I O N M E N U + " [ d a t a - s e c t i o n i d ]   a [ d a t a - a c t i o n ] " , f u n c t i o n ( c ) { i f ( " k e y p r e s s " ! = = c . t y p e | | 1 3 = = = c . k e y C o d e ) { v a r   d = a ( t h i s ) , e = d . c l o s e s t ( l . S E C T I O N L I ) , f = d . c l o s e s t ( l . S E C T I O N A C T I O N M E N U ) . a t t r ( " d a t a - s e c t i o n i d " ) ; c . p r e v e n t D e f a u l t ( ) , d . a t t r ( " d a t a - c o n f i r m " ) ? z ( d . a t t r ( " d a t a - c o n f i r m " ) , f u n c t i o n ( ) { D ( e , f , d , b ) } ) : D ( e , f , d , b ) } } ) , e . g e t _ s t r i n g ( " n u m b e r w e e k s " ) . d o n e ( f u n c t i o n ( b ) { v a r   c = a ( l . A D D S E C T I O N S ) , d = c . a t t r ( " d a t a - a d d - s e c t i o n s " ) , e = c . a t t r ( " n e w - s e c t i o n s " ) , f = a ( ' < d i v > < l a b e l   f o r = " a d d _ s e c t i o n _ n u m s e c t i o n s " > < / l a b e l >   < i n p u t   i d = " a d d _ s e c t i o n _ n u m s e c t i o n s "   t y p e = " n u m b e r "   m i n = " 1 "   m a x = " ' + e + ' "   v a l u e = " 1 " > < / d i v > ' ) ; f . f i n d ( " l a b e l " ) . h t m l ( b ) , h . c r e a t e ( { t i t l e : d , t y p e : h . t y p e s . S A V E _ C A N C E L , b o d y : f . h t m l ( ) } , c ) . d o n e ( f u n c t i o n ( b ) { v a r   e = a ( b . g e t B o d y ( ) ) . f i n d ( " # a d d _ s e c t i o n _ n u m s e c t i o n s " ) , f = f u n c t i o n ( ) { " " + p a r s e I n t ( e . v a l ( ) ) = = = e . v a l ( ) & & p a r s e I n t ( e . v a l ( ) ) > = 1 & & ( d o c u m e n t . l o c a t i o n = c . a t t r ( " h r e f " ) + " & n u m s e c t i o n s = " + p a r s e I n t ( e . v a l ( ) ) ) } ; b . s e t S a v e B u t t o n T e x t ( d ) , b . g e t R o o t ( ) . o n ( i . s h o w n , f u n c t i o n ( ) { e . f o c u s ( ) . s e l e c t ( ) . o n ( " k e y d o w n " , f u n c t i o n ( a ) { a . k e y C o d e = = = j . e n t e r & & f ( ) } ) } ) , b . g e t R o o t ( ) . o n ( i . s a v e , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , f ( ) } ) } ) } ) } , r e p l a c e S e c t i o n A c t i o n I t e m : f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = a . f i n d ( l . S E C T I O N A C T I O N M E N U + "   " + b ) ; A ( i , c , d , e , f , g , h ) } } } ) ; 
 d e f i n e ( ' c o r e _ c o u r s e / r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( a , c , d , e ) { v a r   f = { c l a s s i f i c a t i o n : a } ; " u n d e f i n e d " ! = t y p e o f   c & & ( f . l i m i t = c ) , " u n d e f i n e d " ! = t y p e o f   d & & ( f . o f f s e t = d ) , " u n d e f i n e d " ! = t y p e o f   e & & ( f . s o r t = e ) ; v a r   g = { m e t h o d n a m e : " c o r e _ c o u r s e _ g e t _ e n r o l l e d _ c o u r s e s _ b y _ t i m e l i n e _ c l a s s i f i c a t i o n " , a r g s : f } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] } , d = f u n c t i o n ( a , c , d , e ) { v a r   f = { } ; " u n d e f i n e d " ! = t y p e o f   a & & ( f . l i m i t = c ) , " u n d e f i n e d " ! = t y p e o f   c & & ( f . l i m i t = c ) , " u n d e f i n e d " ! = t y p e o f   d & & ( f . o f f s e t = d ) , " u n d e f i n e d " ! = t y p e o f   e & & ( f . s o r t = e ) ; v a r   g = { m e t h o d n a m e : " c o r e _ c o u r s e _ g e t _ r e c e n t _ c o u r s e s " , a r g s : f } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] } ; r e t u r n { g e t E n r o l l e d C o u r s e s B y T i m e l i n e C l a s s i f i c a t i o n : c , g e t L a s t A c c e s s e d C o u r s e s : d } } ) ; 
 d e f i n e ( ' c o r e _ f o r m / d e f a u l t c u s t o m ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) , d = J S O N . p a r s e ( c . a t t r ( " d a t a - d e f a u l t v a l u e " ) ) , e = J S O N . p a r s e ( c . a t t r ( " d a t a - c u s t o m v a l u e " ) ) , f = c . a t t r ( " d a t a - t y p e " ) , g = c . c l o s e s t ( " f o r m " ) , h = c . a t t r ( " n a m e " ) . r e p l a c e ( / \ [ c u s t o m i z e \ ] $ / , " [ v a l u e ] " ) , i = c . p r o p ( " c h e c k e d " ) ? e : d ; " t e x t " = = = f ? g . f i n d ( ' [ n a m e = " ' + h + ' " ] ' ) . v a l ( i ) : " d a t e _ s e l e c t o r " = = = f ? ( g . f i n d ( ' [ n a m e = " ' + h + ' [ d a y ] " ] ' ) . v a l ( i . d a y ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ m o n t h ] " ] ' ) . v a l ( i . m o n t h ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ y e a r ] " ] ' ) . v a l ( i . y e a r ) ) : " d a t e _ t i m e _ s e l e c t o r " = = = f & & ( g . f i n d ( ' [ n a m e = " ' + h + ' [ d a y ] " ] ' ) . v a l ( i . d a y ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ m o n t h ] " ] ' ) . v a l ( i . m o n t h ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ y e a r ] " ] ' ) . v a l ( i . y e a r ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ h o u r ] " ] ' ) . v a l ( i . h o u r ) , g . f i n d ( ' [ n a m e = " ' + h + ' [ m i n u t e ] " ] ' ) . v a l ( i . m i n u t e ) ) } , c = " i n p u t [ d a t a - d e f a u l t c u s t o m = t r u e ] " ; a ( " b o d y " ) . o n ( " c h a n g e " , c , b ) } ) ; 
 d e f i n e ( ' c o r e _ f o r m / f i l e t y p e s ' ,   [ " j q u e r y " , " c o r e / l o g " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / t r e e " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { " u s e   s t r i c t " ; v a r   i = f u n c t i o n ( c , d , e , f ) { i f ( t h i s . e l e m e n t I d = c , t h i s . e l e m e n t L a b e l = d , t h i s . o n l y T y p e s = e , t h i s . a l l o w A l l = f , t h i s . i n p u t F i e l d = a ( " # " + c ) , t h i s . w r a p p e r B r o w s e r T r i g g e r = a ( ' [ d a t a - f i l e t y p e s b r o w s e r = " ' + c + ' " ] ' ) , t h i s . w r a p p e r D e s c r i p t i o n s = a ( ' [ d a t a - f i l e t y p e s d e s c r i p t i o n s = " ' + c + ' " ] ' ) , t h i s . w r a p p e r B r o w s e r T r i g g e r . l e n g t h ) r e t u r n   t h i s . i n p u t F i e l d . l e n g t h & & t h i s . w r a p p e r D e s c r i p t i o n s . l e n g t h ? v o i d   t h i s . p r e p a r e B r o w s e r T r i g g e r ( ) . t h e n ( f u n c t i o n ( ) { r e t u r n   t h i s . p r e p a r e B r o w s e r M o d a l ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { r e t u r n   t h i s . p r e p a r e B r o w s e r T r e e ( ) } . b i n d ( t h i s ) ) : v o i d   b . e r r o r ( " c o r e _ f o r m / f i l e t y p e s :   U n e x p e c t e d   D O M   s t r u c t u r e ,   u n a b l e   t o   e n h a n c e   f i l e t y p e s   f i e l d   " + c ) } ; r e t u r n   i . p r o t o t y p e . p r e p a r e B r o w s e r T r i g g e r = f u n c t i o n ( ) { r e t u r n   g . r e n d e r ( " c o r e _ f o r m / f i l e t y p e s - t r i g g e r " , { } ) . t h e n ( f u n c t i o n ( a ) { t h i s . w r a p p e r B r o w s e r T r i g g e r . h t m l ( a ) , t h i s . b r o w s e r T r i g g e r = t h i s . w r a p p e r B r o w s e r T r i g g e r . f i n d ( ' [ d a t a - f i l e t y p e s w i d g e t = " b r o w s e r t r i g g e r " ] ' ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . p r e p a r e B r o w s e r M o d a l = f u n c t i o n ( ) { r e t u r n   d . c r e a t e ( { t y p e : d . t y p e s . S A V E _ C A N C E L , t i t l e : t h i s . e l e m e n t L a b e l } ) . t h e n ( f u n c t i o n ( a ) { t h i s . b r o w s e r M o d a l = a } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . o n ( e . h i d d e n , f u n c t i o n ( ) { t h i s . b r o w s e r T r i g g e r . f o c u s ( ) } . b i n d ( t h i s ) ) , t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . o n ( e . s a v e , f u n c t i o n ( ) { t h i s . s a v e B r o w s e r M o d a l ( ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . p r e p a r e B r o w s e r T r e e = f u n c t i o n ( ) { r e t u r n   t h i s . b r o w s e r T r i g g e r . o n ( " c l i c k " , f u n c t i o n ( b ) { i f ( b . p r e v e n t D e f a u l t ( ) , ! t h i s . i n p u t F i e l d . i s ( " [ d i s a b l e d ] " ) ) { v a r   c = t h i s . l o a d B r o w s e r M o d a l B o d y ( ) ; c . t h e n ( f u n c t i o n ( ) { t h i s . b r o w s e r T r e e = n e w   h ( t h i s . b r o w s e r M o d a l . g e t B o d y ( ) ) , t h i s . b r o w s e r T r e e . h a n d l e K e y D o w n = f u n c t i o n ( a , b ) { b . k e y C o d e = = t h i s . b r o w s e r T r e e . k e y s . e n t e r | | b . k e y C o d e = = t h i s . b r o w s e r T r e e . k e y s . s p a c e ? ( b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , t h i s . t o g g l e C h e c k b o x ( a . a t t r ( " d a t a - f i l e t y p e s b r o w s e r k e y " ) ) ) : h . p r o t o t y p e . h a n d l e K e y D o w n . c a l l ( t h i s . b r o w s e r T r e e , a , b ) } . b i n d ( t h i s ) , t h i s . a l l o w A l l & & ( t h i s . h i d e O r S h o w I t e m s D e p e n d i n g O n A l l o w A l l ( t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' i n p u t [ t y p e = " c h e c k b o x " ] [ d a t a - f i l e t y p e s b r o w s e r k e y = " * " ] : f i r s t ' ) ) , t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . o n ( " c h a n g e " , ' i n p u t [ t y p e = " c h e c k b o x " ] [ d a t a - f i l e t y p e s b r o w s e r k e y = " * " ] ' , f u n c t i o n ( b ) { t h i s . h i d e O r S h o w I t e m s D e p e n d i n g O n A l l o w A l l ( a ( b . c u r r e n t T a r g e t ) ) } . b i n d ( t h i s ) ) ) , t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . o n ( " c h a n g e " , ' i n p u t [ t y p e = " c h e c k b o x " ] [ d a t a - f i l e t y p e s b r o w s e r k e y ] ' , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) , d = c . a t t r ( " d a t a - f i l e t y p e s b r o w s e r k e y " ) ; t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' i n p u t [ t y p e = " c h e c k b o x " ] [ d a t a - f i l e t y p e s b r o w s e r k e y = " ' + d + ' " ] ' ) . p r o p ( " c h e c k e d " , c . p r o p ( " c h e c k e d " ) ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { t h i s . b r o w s e r M o d a l . s h o w ( ) } . b i n d ( t h i s ) ) , t h i s . b r o w s e r M o d a l . s e t B o d y ( c ) } } . b i n d ( t h i s ) ) , a . w h e n ( ) } , i . p r o t o t y p e . l o a d B r o w s e r M o d a l B o d y = f u n c t i o n ( ) { v a r   a = { o n l y t y p e s : t h i s . o n l y T y p e s . j o i n ( ) , a l l o w a l l : t h i s . a l l o w A l l , c u r r e n t : t h i s . i n p u t F i e l d . v a l ( ) } ; r e t u r n   f . c a l l ( [ { m e t h o d n a m e : " c o r e _ f o r m _ g e t _ f i l e t y p e s _ b r o w s e r _ d a t a " , a r g s : a } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   g . r e n d e r ( " c o r e _ f o r m / f i l e t y p e s - b r o w s e r " , { e l e m e n t i d : t h i s . e l e m e n t I d , g r o u p s : a . g r o u p s } ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . t o g g l e C h e c k b o x = f u n c t i o n ( a ) { v a r   b = t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' i n p u t [ t y p e = " c h e c k b o x " ] [ d a t a - f i l e t y p e s b r o w s e r k e y = " ' + a + ' " ] : f i r s t ' ) ; b . p r o p ( " c h e c k e d " , ! b . p r o p ( " c h e c k e d " ) ) } , i . p r o t o t y p e . s a v e B r o w s e r M o d a l = f u n c t i o n ( ) { i f ( t h i s . a l l o w A l l ) { v a r   b = t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' i n p u t [ t y p e = " c h e c k b o x " ] [ d a t a - f i l e t y p e s b r o w s e r k e y = " * " ] ' ) ; i f ( b . l e n g t h & & b . p r o p ( " c h e c k e d " ) ) r e t u r n   t h i s . i n p u t F i e l d . v a l ( " * " ) , v o i d   t h i s . u p d a t e D e s c r i p t i o n s ( [ " * " ] ) } v a r   c = [ ] ; t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' i n p u t [ t y p e = " c h e c k b o x " ] ' ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) , d = b . a t t r ( " d a t a - f i l e t y p e s b r o w s e r k e y " ) ; b . p r o p ( " c h e c k e d " ) & & c . p u s h ( d ) } ) , c = c . f i l t e r ( f u n c t i o n ( a , b , c ) { r e t u r n   c . i n d e x O f ( a ) = = b } ) , t h i s . i n p u t F i e l d . v a l ( c . j o i n ( "   " ) ) , t h i s . u p d a t e D e s c r i p t i o n s ( c ) } , i . p r o t o t y p e . u p d a t e D e s c r i p t i o n s = f u n c t i o n ( a ) { v a r   b = [ ] ; a . f o r E a c h ( f u n c t i o n ( a ) { b . p u s h ( { d e s c r i p t i o n : t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' [ d a t a - f i l e t y p e s n a m e = " ' + a + ' " ] : f i r s t ' ) . t e x t ( ) . t r i m ( ) , e x t e n s i o n s : t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' [ d a t a - f i l e t y p e s e x t e n s i o n s = " ' + a + ' " ] : f i r s t ' ) . t e x t ( ) . t r i m ( ) } ) } . b i n d ( t h i s ) ) ; v a r   c = { h a s d e s c r i p t i o n s : b . l e n g t h > 0 , d e s c r i p t i o n s : b } ; r e t u r n   g . r e n d e r ( " c o r e _ f o r m / f i l e t y p e s - d e s c r i p t i o n s " , c ) . t h e n ( f u n c t i o n ( a ) { t h i s . w r a p p e r D e s c r i p t i o n s . h t m l ( a ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . h i d e O r S h o w I t e m s D e p e n d i n g O n A l l o w A l l = f u n c t i o n ( a ) { v a r   b = t h i s . b r o w s e r M o d a l . g e t R o o t ( ) . f i n d ( ' [ r o l e = " t r e e i t e m " ] [ d a t a - f i l e t y p e s b r o w s e r k e y ! = " * " ] ' ) ; a . p r o p ( " c h e c k e d " ) ? b . h i d e ( ) : b . s h o w ( ) } , { i n i t : f u n c t i o n ( a , b , c , d ) { n e w   i ( a , b , c , d ) } } } ) ; 
 d e f i n e ( ' c o r e _ f o r m / p a s s w o r d u n m a s k ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( b ) { t h i s . w r a p p e r S e l e c t o r = ' [ d a t a - p a s s w o r d u n m a s k = " w r a p p e r " ] [ d a t a - p a s s w o r d u n m a s k i d = " ' + b + ' " ] ' , t h i s . w r a p p e r = a ( t h i s . w r a p p e r S e l e c t o r ) , t h i s . e d i t o r S p a c e = t h i s . w r a p p e r . f i n d ( ' [ d a t a - p a s s w o r d u n m a s k = " e d i t o r " ] ' ) , t h i s . e d i t L i n k = t h i s . w r a p p e r . f i n d ( ' a [ d a t a - p a s s w o r d u n m a s k = " e d i t " ] ' ) , t h i s . e d i t I n s t r u c t i o n s = t h i s . w r a p p e r . f i n d ( ' [ d a t a - p a s s w o r d u n m a s k = " i n s t r u c t i o n s " ] ' ) , t h i s . d i s p l a y V a l u e = t h i s . w r a p p e r . f i n d ( ' [ d a t a - p a s s w o r d u n m a s k = " d i s p l a y v a l u e " ] ' ) , t h i s . i n p u t F i e l d L a b e l = a ( ' l a b e l [ f o r = " ' + b + ' " ] ' ) , t h i s . i n p u t F i e l d = t h i s . e d i t o r S p a c e . f i n d ( d o c u m e n t . g e t E l e m e n t B y I d ( b ) ) , t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " h i d d e n " ) , t h i s . i n p u t F i e l d . r e m o v e C l a s s ( " h i d d e n i f j s " ) , t h i s . e d i t I n s t r u c t i o n s . a t t r ( " i d " ) | | t h i s . e d i t I n s t r u c t i o n s . a t t r ( " i d " , b + " _ i n s t r u c t i o n s " ) , t h i s . e d i t I n s t r u c t i o n s . h i d e ( ) , t h i s . s e t D i s p l a y V a l u e ( ) , t h i s . a d d L i s t e n e r s ( ) } ; r e t u r n   c . p r o t o t y p e . a d d L i s t e n e r s = f u n c t i o n ( ) { r e t u r n   t h i s . w r a p p e r . o n ( " c l i c k   k e y p r e s s " , ' [ d a t a - p a s s w o r d u n m a s k = " e d i t " ] ' , a . p r o x y ( f u n c t i o n ( b ) { " k e y p r e s s " = = = b . t y p e & & 1 3 ! = = b . k e y C o d e | | ( b . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , " h i d d e n " ! = = t h i s . i n p u t F i e l d . a t t r ( " t y p e " ) ? " c l i c k " = = = b . t y p e | | a ( b . r e l a t e d T a r g e t ) . i s ( " : i n p u t " ) ? t h i s . t u r n E d i t i n g O f f ( ! 1 ) : t h i s . t u r n E d i t i n g O f f ( ! 0 ) : t h i s . t u r n E d i t i n g O n ( ) ) } , t h i s ) ) , t h i s . w r a p p e r . o n ( " c l i c k   k e y p r e s s " , ' [ d a t a - p a s s w o r d u n m a s k = " u n m a s k " ] ' , a . p r o x y ( f u n c t i o n ( a ) { " k e y p r e s s " = = = a . t y p e & & 1 3 ! = = a . k e y C o d e | | ( a . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) , t h i s . w r a p p e r . d a t a ( " u n m a s k e d " , ! t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) ) , t h i s . s e t D i s p l a y V a l u e ( ) ) } , t h i s ) ) , t h i s . w r a p p e r . o n ( " k e y d o w n " , " i n p u t " , a . p r o x y ( f u n c t i o n ( a ) { " k e y d o w n " = = = a . t y p e & & 1 3 ! = = a . k e y C o d e | | ( a . s t o p I m m e d i a t e P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) , t h i s . t u r n E d i t i n g O f f ( ! 0 ) ) } , t h i s ) ) , t h i s . i n p u t F i e l d L a b e l . o n ( " c l i c k " , a . p r o x y ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . t u r n E d i t i n g O n ( ) } , t h i s ) ) , t h i s } , c . p r o t o t y p e . c h e c k F o c u s O u t = f u n c t i o n ( b ) { t h i s . i s E d i t i n g ( ) & & w i n d o w . s e t T i m e o u t ( a . p r o x y ( f u n c t i o n ( ) { v a r   c = b . r e l a t e d T a r g e t | | d o c u m e n t . a c t i v e E l e m e n t ; t h i s . w r a p p e r . h a s ( a ( c ) ) . l e n g t h | | t h i s . t u r n E d i t i n g O f f ( ! a ( c ) . i s ( " : i n p u t , a " ) ) } , t h i s ) , 1 0 0 ) } , c . p r o t o t y p e . p a s s w o r d V i s i b l e = f u n c t i o n ( ) { r e t u r n ! ! t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) } , c . p r o t o t y p e . i s E d i t i n g = f u n c t i o n ( ) { r e t u r n " h i d d e n " ! = = t h i s . i n p u t F i e l d . a t t r ( " t y p e " ) } , c . p r o t o t y p e . t u r n E d i t i n g O n = f u n c t i o n ( ) { v a r   b = t h i s . g e t D i s p l a y V a l u e ( ) ; r e t u r n   t h i s . p a s s w o r d V i s i b l e ( ) ? t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " t e x t " ) : t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " p a s s w o r d " ) , t h i s . i n p u t F i e l d . v a l ( b ) , t h i s . i n p u t F i e l d . a t t r ( " s i z e " , t h i s . i n p u t F i e l d . a t t r ( " d a t a - s i z e " ) ) , t h i s . e d i t I n s t r u c t i o n s . l e n g t h & & ( t h i s . i n p u t F i e l d . a t t r ( " a r i a - d e s c r i b e d b y " , t h i s . e d i t I n s t r u c t i o n s . a t t r ( " i d " ) ) , t h i s . e d i t I n s t r u c t i o n s . s h o w ( ) ) , t h i s . w r a p p e r . a t t r ( " d a t a - p a s s w o r d u n m a s k - v i s i b l e " , 1 ) , t h i s . e d i t L i n k . h i d e ( ) , t h i s . i n p u t F i e l d . f o c u s ( ) . s e l e c t ( ) , a ( " b o d y " ) . o n ( " f o c u s o u t " , t h i s . w r a p p e r S e l e c t o r , a . p r o x y ( t h i s . c h e c k F o c u s O u t , t h i s ) ) , t h i s } , c . p r o t o t y p e . t u r n E d i t i n g O f f = f u n c t i o n ( b ) { a ( " b o d y " ) . o f f ( " f o c u s o u t " , t h i s . w r a p p e r S e l e c t o r , t h i s . c h e c k F o c u s O u t ) ; v a r   c = t h i s . g e t D i s p l a y V a l u e ( ) ; r e t u r n   t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " h i d d e n " ) . a t t r ( " a r i a - d e s c r i b e d b y " , n u l l ) , t h i s . i n p u t F i e l d . v a l ( c ) , t h i s . e d i t I n s t r u c t i o n s . h i d e ( ) , t h i s . w r a p p e r . r e m o v e A t t r ( " d a t a - p a s s w o r d u n m a s k - v i s i b l e " ) , t h i s . i n p u t F i e l d . r e m o v e A t t r ( " s i z e " ) , t h i s . e d i t L i n k . s h o w ( ) , t h i s . s e t D i s p l a y V a l u e ( ) , b & & t h i s . e d i t L i n k . f o c u s ( ) , t h i s } , c . p r o t o t y p e . g e t D i s p l a y V a l u e = f u n c t i o n ( ) { r e t u r n   t h i s . i n p u t F i e l d . v a l ( ) } , c . p r o t o t y p e . s e t D i s p l a y V a l u e = f u n c t i o n ( ) { v a r   c = t h i s . g e t D i s p l a y V a l u e ( ) ; r e t u r n   t h i s . i s E d i t i n g ( ) & & ( t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) ? t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " t e x t " ) : t h i s . i n p u t F i e l d . a t t r ( " t y p e " , " p a s s w o r d " ) , t h i s . i n p u t F i e l d . v a l ( c ) ) , c & & t h i s . w r a p p e r . d a t a ( " u n m a s k e d " ) ? t h i s . d i s p l a y V a l u e . t e x t ( c ) : ( c | | ( c = " " ) , b . r e n d e r ( " c o r e _ f o r m / e l e m e n t - p a s s w o r d u n m a s k - f i l l " , { e l e m e n t : { f r o z e n : t h i s . i n p u t F i e l d . i s ( " [ r e a d o n l y ] " ) , v a l u e : c , v a l u e c h a r s : c . s p l i t ( " " ) } } ) . d o n e ( a . p r o x y ( f u n c t i o n ( a , c ) { t h i s . d i s p l a y V a l u e . h t m l ( a ) , b . r u n T e m p l a t e J S ( c ) } , t h i s ) ) ) , t h i s } , c } ) ; 
 d e f i n e ( ' c o r e _ g r a d e s / e d i t t r e e _ i n d e x ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " c h a n g e " , " . i t e m s e l e c t . i g n o r e d i r t y " , b . c h e c k M o v e M e n u S t a t e ) , a ( " b o d y " ) . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " g r a d e _ e d i t t r e e - i n d e x - b u l k s e l e c t " ] ' , b . t o g g l e A l l S e l e c t I t e m s ) , a ( " b o d y " ) . o n ( " c h a n g e " , " . w e i g h t o v e r r i d e " , b . t o g g l e W e i g h t I n p u t ) , a ( " # m e n u m o v e a f t e r " ) . o n ( " c h a n g e " , f u n c t i o n ( ) { v a r   b = a ( t h i s ) . c l o s e s t ( " f o r m " ) , c = b . f i n d ( " # b u l k m o v e i n p u t " ) ; c . v a l ( 1 ) , b . s u b m i t ( ) } ) , b . c h e c k M o v e M e n u S t a t e ( ) } ; r e t u r n   b . t o g g l e W e i g h t I n p u t = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) , d = c . c l o s e s t ( " t r " ) ; a ( ' i n p u t [ n a m e = " w e i g h t _ ' + d . d a t a ( " i t e m i d " ) + ' " ] ' ) . p r o p ( " d i s a b l e d " , ! c . p r o p ( " c h e c k e d " ) ) } , b . t o g g l e A l l S e l e c t I t e m s = f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) ; v a r   d = a ( t h i s ) , e = d . c l o s e s t ( " t r " ) ; a ( " . " + e . d a t a ( " c a t e g o r y " ) + "   . i t e m s e l e c t " ) . p r o p ( " c h e c k e d " , d . d a t a ( " c h e c k e d " ) ) , b . c h e c k M o v e M e n u S t a t e ( ) } , b . g e t M o v e M e n u = f u n c t i o n ( ) { r e t u r n   a ( " # m e n u m o v e a f t e r " ) } , b . c h e c k M o v e M e n u S t a t e = f u n c t i o n ( ) { v a r   c = b . g e t M o v e M e n u ( ) ; i f ( ! c . l e n g t h ) r e t u r n ! 1 ; v a r   d ; r e t u r n   a ( " . i t e m s e l e c t " ) . e a c h ( f u n c t i o n ( ) { r e t u r n   d = a ( t h i s ) . p r o p ( " c h e c k e d " ) , ! d } ) , c . p r o p ( " d i s a b l e d " , ! d ) , d } , { e n h a n c e : b } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t s _ s e c t i o n _ r e q u e s t s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / p u b s u b " , " c o r e / t e m p l a t e s " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ l a z y _ l o a d _ l i s t " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { C O N T A C T _ R E Q U E S T : ' [ d a t a - r e g i o n = " c o n t a c t - r e q u e s t " ] ' } , i = { R E Q U E S T S _ L I S T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t s _ b o d y _ s e c t i o n _ r e q u e s t s _ l i s t " } , j = f u n c t i o n ( a , c ) { v a r   e = c . m a p ( f u n c t i o n ( a ) { r e t u r n { i d : a . i d , p r o f i l e i m a g e u r l : a . p r o f i l e i m a g e u r l , f u l l n a m e : a . f u l l n a m e } } ) ; r e t u r n   d . r e n d e r ( i . R E Q U E S T S _ L I S T , { r e q u e s t s : e } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a . a p p e n d ( b ) , b } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , k = f u n c t i o n ( a , c ) { r e t u r n   e . g e t C o n t a c t R e q u e s t s ( c ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   g . s e t L o a d e d A l l ( a , ! 0 ) , b } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , l = f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( b ) { a . f i n d ( ' [ d a t a - r e q u e s t - i d = " ' + b . u s e r i d + ' " ] ' ) . r e m o v e ( ) ; v a r   c = a . f i n d ( h . C O N T A C T _ R E Q U E S T ) ; c . l e n g t h | | ( g . s h o w E m p t y M e s s a g e ( a ) , g . h i d e C o n t e n t ( a ) ) } } , m = f u n c t i o n ( a ) { c . s u b s c r i b e ( f . C O N T A C T _ R E Q U E S T _ A C C E P T E D , l ( a ) ) , c . s u b s c r i b e ( f . C O N T A C T _ R E Q U E S T _ D E C L I N E D , l ( a ) ) } , n = f u n c t i o n ( a ) { a . a t t r ( " d a t a - c o n t a c t s - i n i t " ) | | ( m ( a ) , a . a t t r ( " d a t a - c o n t a c t s - i n i t " , ! 0 ) ) , g . s h o w ( a , k , j ) } ; r e t u r n { s h o w : n } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a ' ,   [ " j q u e r y " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ p r o f i l e " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ t a b s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ s e a r c h " ] , f u n c t i o n ( a , b , c , d , e , f ) { f u n c t i o n   g ( b , c , d , e ) { t h i s . n o d e = a ( b ) , t h i s . p o l l m i n = c , t h i s . p o l l m a x = d , t h i s . p o l l t i m e o u t = e , t h i s . _ i n i t ( ) } r e t u r n   g . p r o t o t y p e . n o d e = n u l l , g . p r o t o t y p e . p o l l m i n = n u l l , g . p r o t o t y p e . p o l l m a x = n u l l , g . p r o t o t y p e . p o l l t i m e o u t = n u l l , g . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { n e w   b ( t h i s ) , n e w   c ( t h i s ) , n e w   d ( t h i s ) , n e w   e ( t h i s ) , n e w   f ( t h i s ) } , g . p r o t o t y p e . o n D e l e g a t e E v e n t = f u n c t i o n ( a , b , c ) { t h i s . n o d e . o n ( a , b , c ) } , g . p r o t o t y p e . o n C u s t o m E v e n t = f u n c t i o n ( a , b ) { t h i s . n o d e . o n ( a , b ) } , g . p r o t o t y p e . t r i g g e r = f u n c t i o n ( a , b ) { " u n d e f i n e d " = = t y p e o f   b & & ( b = " " ) , t h i s . n o d e . t r i g g e r ( a , b ) } , g . p r o t o t y p e . f i n d = f u n c t i o n ( a ) { r e t u r n   t h i s . n o d e . f i n d ( a ) } , g . p r o t o t y p e . g e t C u r r e n t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . n o d e . d a t a ( " u s e r i d " ) } , g . p r o t o t y p e . s h o w C o n t a c t s F i r s t = f u n c t i o n ( ) { r e t u r n ! ! t h i s . n o d e . d a t a ( " d i s p l a y c o n t a c t s " ) } , g } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { S T A T E _ N O N E : ' [ d a t a - s t a t e = " n o n e " ] ' , S T A T E _ B O T H : ' [ d a t a - s t a t e = " b o t h " ] ' , S T A T E _ L O G G E D _ I N : ' [ d a t a - s t a t e = " l o g g e d i n " ] ' , S T A T E _ L O G G E D _ O F F : ' [ d a t a - s t a t e = " l o g g e d o f f " ] ' } , c = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) } ; r e t u r n   c . p r o t o t y p e . g e t N a m e = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . a t t r ( " d a t a - p r o c e s s o r - n a m e " ) } , c . p r o t o t y p e . i s L o g g e d I n E n a b l e d = f u n c t i o n ( ) { v a r   a = t h i s . r o o t . f i n d ( b . S T A T E _ N O N E ) . f i n d ( " i n p u t " ) ; i f ( a . p r o p ( " c h e c k e d " ) ) r e t u r n ! 1 ; v a r   c = t h i s . r o o t . f i n d ( b . S T A T E _ B O T H ) . f i n d ( " i n p u t " ) , d = t h i s . r o o t . f i n d ( b . S T A T E _ L O G G E D _ I N ) . f i n d ( " i n p u t " ) ; r e t u r n   d . p r o p ( " c h e c k e d " ) | | c . p r o p ( " c h e c k e d " ) } , c . p r o t o t y p e . i s L o g g e d O f f E n a b l e d = f u n c t i o n ( ) { v a r   a = t h i s . r o o t . f i n d ( b . S T A T E _ N O N E ) . f i n d ( " i n p u t " ) ; i f ( a . p r o p ( " c h e c k e d " ) ) r e t u r n ! 1 ; v a r   c = t h i s . r o o t . f i n d ( b . S T A T E _ B O T H ) . f i n d ( " i n p u t " ) , d = t h i s . r o o t . f i n d ( b . S T A T E _ L O G G E D _ O F F ) . f i n d ( " i n p u t " ) ; r e t u r n   d . p r o p ( " c h e c k e d " ) | | c . p r o p ( " c h e c k e d " ) } , c } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ g r o u p _ i n f o ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ l a z y _ l o a d _ l i s t " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = 5 0 , g = { C O N T E N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " g r o u p - i n f o - c o n t e n t - c o n t a i n e r " ] ' , M E M B E R S _ L I S T : ' [ d a t a - r e g i o n = " m e m b e r s - l i s t " ] ' } , h = { C O N T E N T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ g r o u p _ i n f o _ b o d y _ c o n t e n t " , M E M B E R S _ L I S T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ g r o u p _ i n f o _ p a r t i c i p a n t s _ l i s t " } , i = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ C O N T A I N E R ) } , j = f u n c t i o n ( a , b , d ) { v a r   e = b . t o t a l M e m b e r C o u n t > 5 0 ? 5 0 : b . t o t a l M e m b e r C o u n t , f = A r r a y . a p p l y ( n u l l , A r r a y ( e ) ) . m a p ( f u n c t i o n ( ) { r e t u r n ! 0 } ) , g = { n a m e : b . n a m e , s u b n a m e : b . s u b n a m e , i m a g e u r l : b . i m a g e U r l , p l a c e h o l d e r s : f , l o g g e d i n u s e r : { i d : d } } ; r e t u r n   c . r e n d e r ( h . C O N T E N T , g ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   i ( a ) . a p p e n d ( b ) , b } ) } , k = f u n c t i o n ( a , b , c ) { r e t u r n   f u n c t i o n ( f , g ) { r e t u r n   d . g e t C o n v e r s a t i o n M e m b e r s ( a . i d , g , b + 1 , c ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . l e n g t h > b ? a = a . s l i c e ( 0 , - 1 ) : e . s e t L o a d e d A l l ( f , ! 0 ) , c + = b , a . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . i d ! = g } ) } ) } } , l = f u n c t i o n ( a , b ) { r e t u r n   c . r e n d e r ( h . M E M B E R S _ L I S T , { c o n t a c t s : b } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a . a p p e n d ( b ) , b } ) } , m = f u n c t i o n ( b , c , d ) { r e t u r n   b = a ( b ) , i ( b ) . e m p t y ( ) , j ( b , c , d ) . t h e n ( f u n c t i o n ( ) { v a r   a = e . g e t R o o t ( b ) ; e . s h o w ( a , k ( c , f , 0 ) , l ) } ) } , n = f u n c t i o n ( a , c ) { r e t u r n   b . g e t _ s t r i n g ( " m e s s a g e d r a w e r v i e w g r o u p i n f o " , " c o r e _ m e s s a g e " , c . n a m e ) } ; r e t u r n { s h o w : m , d e s c r i p t i o n : n } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ p a t c h e r ' ,   [ " j q u e r y " , " c o r e / u s e r _ d a t e " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ c o n s t a n t s " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( a , c ) { v a r   d = a . r e d u c e ( f u n c t i o n ( a , d ) { v a r   e = b . g e t U s e r M i d n i g h t F o r T i m e s t a m p ( d . t i m e C r e a t e d , c ) ; r e t u r n   a . h a s O w n P r o p e r t y ( e ) ? a [ e ] . p u s h ( d ) : a [ e ] = [ d ] , a } , { } ) ; r e t u r n   O b j e c t . k e y s ( d ) . m a p ( f u n c t i o n ( a ) { r e t u r n { t i m e s t a m p : a , m e s s a g e s : d [ a ] } } ) } , e = f u n c t i o n ( a , b , c ) { b = b . s l i c e ( ) ; v a r   d = [ ] , e = [ ] , f = [ ] ; r e t u r n   a . f o r E a c h ( f u n c t i o n ( a ) { f o r ( v a r   d = ! 1 , g = 0 ; g < b . l e n g t h ; g + + ) { v a r   h = b [ g ] ; i f ( c ( a , h ) ) { d = ! 0 , f . p u s h ( { a : a , b : h } ) ; b r e a k } } d ? b . s p l i c e ( g , 1 ) : e . p u s h ( a ) } ) , d = b , { m i s s i n g F r o m A : d , m i s s i n g F r o m B : e , m a t c h e s : f } } , f = f u n c t i o n ( a , b ) { f o r ( v a r   c = n u l l , d = 0 ; d < a . l e n g t h ; d + + ) { v a r   e = a [ d ] ; i f ( b ( e ) ) r e t u r n   e } r e t u r n   c } , g = f u n c t i o n ( a , b ) { a . s o r t ( ) , b . s o r t ( ) ; v a r   c = a . l e n g t h , d = b . l e n g t h ; r e t u r n   c < 1 & & d < 1 | | c = = d & & a . e v e r y ( f u n c t i o n ( a , c ) { r e t u r n   a = = b [ c ] } ) } , h = f u n c t i o n ( a , b ) { r e t u r n { r e m o v e : b . m i s s i n g F r o m B , a d d : b . m i s s i n g F r o m A . m a p ( f u n c t i o n ( b ) { v a r   c = f ( a , f u n c t i o n ( a ) { r e t u r n   b . t i m e s t a m p < a . t i m e s t a m p } ) ; r e t u r n { b e f o r e : c , v a l u e : b } } ) } } , i = f u n c t i o n ( a ) { v a r   b = [ ] , c = [ ] ; r e t u r n   a . f o r E a c h ( f u n c t i o n ( a ) { v a r   d = a . a , g = a . b , h = e ( d . m e s s a g e s , g . m e s s a g e s , f u n c t i o n ( a , b ) { r e t u r n   a . i d = = b . i d } ) ; b = b . c o n c a t ( h . m i s s i n g F r o m B ) , h . m i s s i n g F r o m A . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = f ( d . m e s s a g e s , f u n c t i o n ( b ) { r e t u r n   a . t i m e C r e a t e d = = b . t i m e C r e a t e d ? a . i d < b . i d : a . t i m e C r e a t e d < b . t i m e C r e a t e d } ) ; c . p u s h ( { b e f o r e : b , v a l u e : a , d a y : d } ) } ) } ) , { a d d : c , r e m o v e : b } } , j = f u n c t i o n ( a , b ) { v a r   c = a . m e s s a g e s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . i d } ) , f = b . m e s s a g e s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . i d } ) ; i f ( g ( c , f ) ) r e t u r n   n u l l ; v a r   j = d ( a . m e s s a g e s , a . m i d n i g h t ) , k = d ( b . m e s s a g e s , b . m i d n i g h t ) , l = e ( j , k , f u n c t i o n ( a , b ) { r e t u r n   a . t i m e s t a m p = = b . t i m e s t a m p } ) ; r e t u r n { d a y s : h ( j , l ) , m e s s a g e s : i ( l . m a t c h e s ) } } , k = f u n c t i o n ( a , b ) { v a r   d = G ( a , b ) , e = x ( a , b ) , f = E ( a ) , g = E ( b ) , h = d & & d . s h o w & & ! d . h a s M e s s a g e s , i = d & & ! d . s h o w , j = ! f & & g ; r e t u r n   j = j | | h | | i , j = j | | n u l l ! = = e , j ? { t y p e : c . C O N V E R S A T I O N _ T Y P E S . P R I V A T E , s h o w C o n t r o l s : ! h & & ! e , c o n t e x t : { i d : b . i d , n a m e : b . n a m e , s u b n a m e : b . s u b n a m e , t o t a l m e m b e r c o u n t : b . t o t a l M e m b e r C o u n t , i m a g e u r l : b . i m a g e U r l , i s f a v o u r i t e : b . i s F a v o u r i t e , s h o w f a v o u r i t e : n u l l ! = = b . i d , u s e r i d : g . i d , s h o w o n l i n e s t a t u s : g . s h o w o n l i n e s t a t u s , i s o n l i n e : g . i s o n l i n e , i s b l o c k e d : g . i s b l o c k e d , i s c o n t a c t : g . i s c o n t a c t } } : n u l l } , l = f u n c t i o n ( a , b ) { v a r   d = a . t o t a l M e m b e r C o u n t , e = b . t o t a l M e m b e r C o u n t ; r e t u r n   d ! = e ? { t y p e : c . C O N V E R S A T I O N _ T Y P E S . P U B L I C , s h o w C o n t r o l s : ! 0 , c o n t e x t : { i d : b . i d , n a m e : b . n a m e , s u b n a m e : b . s u b n a m e , t o t a l m e m b e r c o u n t : b . t o t a l M e m b e r C o u n t , i m a g e u r l : b . i m a g e U r l , i s f a v o u r i t e : b . i s F a v o u r i t e , s h o w f a v o u r i t e : n u l l ! = = b . i d } } : n u l l } , m = f u n c t i o n ( a , b ) { v a r   c = a . m e s s a g e s , d = b . m e s s a g e s ; i f ( d . l e n g t h < 1 ) r e t u r n   n u l l ; i f ( c . l e n g t h < 1 ) r e t u r n   d [ d . l e n g t h - 1 ] . i d ; v a r   e = c [ a . m e s s a g e s . l e n g t h - 1 ] , f = d [ d . l e n g t h - 1 ] , g = c [ 0 ] , h = d [ 0 ] ; r e t u r n   e . i d ! = f . i d ? f . i d : g . i d ! = h . i d ? g . i d : n u l l } , n = f u n c t i o n ( a , b ) { r e t u r n ! ( a . l o a d i n g M e m b e r s | | ! b . l o a d i n g M e m b e r s ) | | ! ( a . l o a d i n g M e m b e r s & & ! b . l o a d i n g M e m b e r s ) & & n u l l } , o = f u n c t i o n ( a , b ) { r e t u r n   a . h a s T r i e d T o L o a d M e s s a g e s = = = b . h a s T r i e d T o L o a d M e s s a g e s ? n u l l : ! ( b . h a s T r i e d T o L o a d M e s s a g e s | | ! b . l o a d i n g M e s s a g e s ) | | ! ( b . h a s T r i e d T o L o a d M e s s a g e s & & ! b . l o a d i n g M e s s a g e s ) & & n u l l } , p = f u n c t i o n ( a , b ) { r e t u r n ! ( a . l o a d i n g M e s s a g e s | | ! b . l o a d i n g M e s s a g e s ) | | ! ( a . l o a d i n g M e s s a g e s & & ! b . l o a d i n g M e s s a g e s ) & & n u l l } , q = f u n c t i o n ( a , b ) { r e t u r n ! ( a . s e n d i n g M e s s a g e | | ! b . s e n d i n g M e s s a g e ) | | ! ( a . s e n d i n g M e s s a g e & & ! b . s e n d i n g M e s s a g e ) & & n u l l } , r = f u n c t i o n ( a , b ) { i f ( b . p e n d i n g B l o c k U s e r I d s . l e n g t h ) { v a r   c = b . p e n d i n g B l o c k U s e r I d s [ 0 ] ; r e t u r n   b . m e m b e r s [ c ] } r e t u r n ! a . p e n d i n g B l o c k U s e r I d s . l e n g t h & & n u l l } , s = f u n c t i o n ( a , b ) { i f ( b . p e n d i n g U n b l o c k U s e r I d s . l e n g t h ) { v a r   c = b . p e n d i n g U n b l o c k U s e r I d s [ 0 ] ; r e t u r n   b . m e m b e r s [ c ] } r e t u r n ! a . p e n d i n g U n b l o c k U s e r I d s . l e n g t h & & n u l l } , t = f u n c t i o n ( a , b ) { i f ( b . p e n d i n g A d d C o n t a c t I d s . l e n g t h ) { v a r   c = b . p e n d i n g A d d C o n t a c t I d s [ 0 ] ; r e t u r n   b . m e m b e r s [ c ] } r e t u r n ! a . p e n d i n g A d d C o n t a c t I d s . l e n g t h & & n u l l } , u = f u n c t i o n ( a , b ) { i f ( b . p e n d i n g R e m o v e C o n t a c t I d s . l e n g t h ) { v a r   c = b . p e n d i n g R e m o v e C o n t a c t I d s [ 0 ] ; r e t u r n   b . m e m b e r s [ c ] } r e t u r n ! a . p e n d i n g R e m o v e C o n t a c t I d s . l e n g t h & & n u l l } , v = f u n c t i o n ( a , b ) { r e t u r n ! ! b . p e n d i n g D e l e t e M e s s a g e I d s . l e n g t h | | ! a . p e n d i n g D e l e t e M e s s a g e I d s . l e n g t h & & n u l l } , w = f u n c t i o n ( a , b ) { r e t u r n ! ( a . p e n d i n g D e l e t e C o n v e r s a t i o n | | ! b . p e n d i n g D e l e t e C o n v e r s a t i o n ) | | ! ( a . p e n d i n g D e l e t e C o n v e r s a t i o n & & ! b . p e n d i n g D e l e t e C o n v e r s a t i o n ) & & n u l l } , x = f u n c t i o n ( a , b ) { v a r   c = a . l o g g e d I n U s e r I d , d = E ( a ) , e = E ( b ) , f = d ? d . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . r e q u e s t e d u s e r i d = = c & & a . u s e r i d = = d . i d } ) : [ ] , g = e ? e . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . r e q u e s t e d u s e r i d = = c & & a . u s e r i d = = e . i d } ) : [ ] , h = f . l e n g t h ? f [ 0 ] : n u l l , i = g . l e n g t h ? g [ 0 ] : n u l l ; r e t u r n ! h & & i ? e : ! ( h & & ! i ) & & n u l l } , y = f u n c t i o n ( a , b ) { v a r   c = E ( a ) , d = E ( b ) ; r e t u r n   c | | d ? ! c & & d ? ! ! d . i s b l o c k e d | | n u l l : ! d & & c ? ! c . i s b l o c k e d & & n u l l : ! ( c . i s b l o c k e d & & ! d . i s b l o c k e d ) & & ( ! ( c . i s b l o c k e d | | ! d . i s b l o c k e d ) | | n u l l ) : n u l l } , z = f u n c t i o n ( a , b ) { v a r   c = a . i s F a v o u r i t e , d = b . i s F a v o u r i t e ; r e t u r n   n u l l = = = a . i d & & n u l l = = = b . i d ? n u l l : n u l l = = = a . i d & & n u l l ! = = b . i d ? " s h o w - a d d " : n u l l ! = = a . i d & & n u l l = = = b . i d ? " h i d e " : c = = d ? n u l l : ! c & & d ? " s h o w - r e m o v e " : c & & ! d ? " s h o w - a d d " : n u l l } , A = f u n c t i o n ( a , b ) { v a r   c = a . l o g g e d I n U s e r I d , d = E ( a ) , e = E ( b ) , f = d ? d . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . u s e r i d = = c & & a . r e q u e s t e d u s e r i d = = d . i d | | a . u s e r i d = = d . i d & & a . r e q u e s t e d u s e r i d = = c } ) : [ ] , g = e ? e . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . u s e r i d = = c & & a . r e q u e s t e d u s e r i d = = e . i d | | a . u s e r i d = = e . i d & & a . r e q u e s t e d u s e r i d = = c } ) : [ ] , h = f . l e n g t h > 0 , i = g . l e n g t h > 0 ; r e t u r n   d | | e ? h & & i ? n u l l : h | | ! i | | e . i s c o n t a c t ? ! d & & e ? e . i s c o n t a c t ? " c o n t a c t " : n u l l : ! e & & d ? d . i s c o n t a c t ? " n o n - c o n t a c t " : n u l l : d . i s c o n t a c t & & ! e . i s c o n t a c t ? i ? " p e n d i n g - c o n t a c t " : " n o n - c o n t a c t " : ! d . i s c o n t a c t & & e . i s c o n t a c t ? " c o n t a c t " : n u l l : " p e n d i n g - c o n t a c t " : n u l l } , B = f u n c t i o n ( a , b ) { r e t u r n ! ( a . l o a d i n g C o n f i r m A c t i o n | | ! b . l o a d i n g C o n f i r m A c t i o n ) | | ! ( a . l o a d i n g C o n f i r m A c t i o n & & ! b . l o a d i n g C o n f i r m A c t i o n ) & & n u l l } , C = f u n c t i o n ( a , b ) { v a r   c = a . s e l e c t e d M e s s a g e I d s . l e n g t h > 0 , d = b . s e l e c t e d M e s s a g e I d s . l e n g t h > 0 , e = a . m e s s a g e s . l e n g t h ! = b . m e s s a g e s . l e n g t h ; r e t u r n ! ( c | | ! d ) | | ! ( c & & ! d ) & & ( ! ( ! c | | ! e ) | | n u l l ) } , D = f u n c t i o n ( a , b ) { v a r   c = a . s e l e c t e d M e s s a g e I d s , d = b . s e l e c t e d M e s s a g e I d s ; i f ( g ( c , d ) ) r e t u r n   n u l l ; v a r   f = e ( c , d , f u n c t i o n ( a , b ) { r e t u r n   a = = b } ) ; r e t u r n { c o u n t : d . l e n g t h , a d d : f . m i s s i n g F r o m A , r e m o v e : f . m i s s i n g F r o m B } } , E = f u n c t i o n ( a ) { r e t u r n   O b j e c t . k e y s ( a . m e m b e r s ) . r e d u c e ( f u n c t i o n ( b , c ) { r e t u r n   c = = a . l o g g e d I n U s e r I d | | b | | ( b = a . m e m b e r s [ c ] ) , b } , n u l l ) } , F = f u n c t i o n ( a , b ) { v a r   c = b . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( b ) { r e t u r n   b . u s e r i d = = a | | b . r e q u e s t e d u s e r i d } ) , d = c . l e n g t h > 0 ; r e t u r n   b . r e q u i r e s c o n t a c t & & ! b . i s c o n t a c t & & ! d } , G = f u n c t i o n ( a , b ) { v a r   c = E ( a ) , d = E ( b ) , e = a . m e s s a g e s . l e n g t h > 0 , f = b . m e s s a g e s . l e n g t h > 0 , g = b . l o g g e d I n U s e r I d , h = c & & F ( g , c ) , i = d & & F ( g , d ) , j = t ( a , b ) , k = j = = = ! 1 ; i f ( ! a . h a s T r i e d T o L o a d M e s s a g e s & & ! b . h a s T r i e d T o L o a d M e s s a g e s ) r e t u r n   n u l l ; i f ( ! c & & ! d ) r e t u r n   n u l l ; i f ( ! c & & i ) r e t u r n { s h o w : ! 0 , h a s M e s s a g e s : f , u s e r : d } ; i f ( k & & i ) r e t u r n { s h o w : ! 0 , h a s M e s s a g e s : f , u s e r : d } ; i f ( a . h a s T r i e d T o L o a d M e s s a g e s & & b . h a s T r i e d T o L o a d M e s s a g e s ) { i f ( ! h & & i ) r e t u r n { s h o w : ! 0 , h a s M e s s a g e s : f , u s e r : d } ; i f ( h & & ! i ) r e t u r n { s h o w : ! 1 , h a s M e s s a g e s : f } } r e t u r n ! a . h a s T r i e d T o L o a d M e s s a g e s & & b . h a s T r i e d T o L o a d M e s s a g e s & & i ? { s h o w : ! 0 , h a s M e s s a g e s : f , u s e r : d } : a . h a s T r i e d T o L o a d M e s s a g e s & & ! b . h a s T r i e d T o L o a d M e s s a g e s & & h ? { s h o w : ! 1 , h a s M e s s a g e s : e } : n u l l } , H = f u n c t i o n ( a , b ) { v a r   c = E ( a ) , d = E ( b ) ; r e t u r n   c | | d ? c & & ! d ? ! c . i s b l o c k e d & & n u l l : ! c & & d ? ! ! d . i s b l o c k e d | | n u l l : ! ( c . i s b l o c k e d | | ! d . i s b l o c k e d ) | | ! ( c . i s b l o c k e d & & ! d . i s b l o c k e d ) & & n u l l : n u l l } , I = f u n c t i o n ( a , b ) { v a r   c = E ( a ) , d = E ( b ) ; r e t u r n   c | | d ? c & & ! d ? ! c . c a n m e s s a g e | | n u l l : ! c & & d ? ! d . c a n m e s s a g e | | n u l l : ! ( ! c . c a n m e s s a g e & & d . c a n m e s s a g e ) & & ( ! ( ! c . c a n m e s s a g e | | d . c a n m e s s a g e ) | | n u l l ) : n u l l } , J = f u n c t i o n ( a , b ) { v a r   c = o ( a , b ) , d = C ( a , b ) , e = G ( a , b ) , f = H ( a , b ) , g = I ( a , b ) , h = n u l l ! = = e ? e . s h o w & & e . h a s M e s s a g e s : n u l l , i = E ( b ) , j = f u n c t i o n ( a , c ) { i f ( a ) r e t u r n   c ; i f ( n u l l ! = = a & & ! a ) { i f ( ! i ) r e t u r n { t y p e : " c o n t e n t " } ; i f ( i . i s b l o c k e d ) r e t u r n { t y p e : " u n b l o c k " } ; i f ( b . m e s s a g e s . l e n g t h & & F ( b . l o g g e d I n U s e r I d , i ) ) r e t u r n { t y p e : " a d d - c o n t a c t " , u s e r : i } ; i f ( ! i . c a n m e s s a g e | | i . r e q u i r e s c o n t a c t & & ! i . i s c o n t a c t ) r e t u r n { t y p e : " u n a b l e - t o - m e s s a g e " } } r e t u r n   n u l l } ; i f ( n u l l = = = c & & n u l l = = = d & & n u l l = = = e & & n u l l = = = f ) r e t u r n   n u l l ; f o r ( v a r   k = [ [ c , { t y p e : " p l a c e h o l d e r " } ] , [ d , { t y p e : " e d i t - m o d e " } ] , [ g , { t y p e : " u n a b l e - t o - m e s s a g e " } ] , [ f , { t y p e : " u n b l o c k " } ] , [ h , { t y p e : " a d d - c o n t a c t " , u s e r : i } ] ] , l = 0 ; l < k . l e n g t h ; l + + ) { v a r   m = k [ l ] [ 0 ] , n = k [ l ] [ 1 ] , p = j ( m , n ) ; i f ( n u l l ! = = p ) r e t u r n   p } r e t u r n { t y p e : " c o n t e n t " } } , K = f u n c t i o n ( a , b ) { v a r   c = o ( a , b ) , d = C ( a , b ) ; r e t u r n   n u l l = = = c & & n u l l = = = d ? n u l l : c ? { t y p e : " p l a c e h o l d e r " } : d ? { t y p e : " e d i t - m o d e " } : { t y p e : " c o n t e n t " } } , L = f u n c t i o n ( a , b ) { v a r   c = a . t y p e , d = b . t y p e , e = a . i d , f = b . i d , g = O b j e c t . k e y s ( a . m e m b e r s ) , h = O b j e c t . k e y s ( b . m e m b e r s ) ; g . s o r t ( ) , h . s o r t ( ) ; v a r   i = g . e v e r y ( f u n c t i o n ( a , b ) { r e t u r n   a = = h [ b ] } ) ; r e t u r n   c ! = d | | ( ! ( ! e | | f ) | | ( ! ( ! e | | ! f | | e = = f ) | | ( ! ( e | | f | | i ) | | n u l l ) ) ) } , M = f u n c t i o n ( a , b ) { v a r   c = b . l o g g e d I n U s e r I d , d = E ( a ) , e = E ( b ) , f = d ? d . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . u s e r i d = = c } ) : [ ] , g = e ? e . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . u s e r i d = = c } ) : [ ] , h = f . l e n g t h > 0 , i = g . l e n g t h > 0 , j = a . m e s s a g e s . l e n g t h > 0 , k = a . m e s s a g e s . l e n g t h > 0 ; r e t u r n   h | | ! i | | e . i s c o n t a c t | | k ? ! ( d & & ! d . i s c o n t a c t & & i & & e . i s c o n t a c t ) & & ( ! ( h & & ! i ) & & ( ! ( ! j & & k ) & & n u l l ) ) : e . f u l l n a m e } , N = f u n c t i o n ( b , d ) { v a r   e = { a l l : { r e s e t : L , c o n v e r s a t i o n : j , s c r o l l T o M e s s a g e : m , l o a d i n g M e m b e r s : n , l o a d i n g F i r s t M e s s a g e s : o , l o a d i n g M e s s a g e s : p , s e n d i n g M e s s a g e : q , c o n f i r m D e l e t e S e l e c t e d M e s s a g e s : v , i n E d i t M o d e : C , s e l e c t e d M e s s a g e s : D , i s F a v o u r i t e : z } } ; e [ c . C O N V E R S A T I O N _ T Y P E S . P R I V A T E ] = { h e a d e r : k , f o o t e r : J , c o n f i r m B l o c k U s e r : r , c o n f i r m U n b l o c k U s e r : s , c o n f i r m A d d C o n t a c t : t , c o n f i r m R e m o v e C o n t a c t : u , c o n f i r m C o n t a c t R e q u e s t : x , c o n f i r m D e l e t e C o n v e r s a t i o n : w , i s B l o c k e d : y , i s C o n t a c t : A , l o a d i n g C o n f i r m A c t i o n : B , r e q u i r e A d d C o n t a c t : G , c o n t a c t R e q u e s t S e n t : M } , e [ c . C O N V E R S A T I O N _ T Y P E S . P U B L I C ] = { h e a d e r : l , f o o t e r : K } ; v a r   f = a . e x t e n d ( { } , e . a l l ) ; r e t u r n   d . t y p e & & d . t y p e   i n   e & & ( f = a . e x t e n d ( f , e [ d . t y p e ] ) ) , O b j e c t . k e y s ( f ) . r e d u c e ( f u n c t i o n ( a , c ) { v a r   e = f [ c ] , g = e ( b , d ) ; r e t u r n   n u l l ! = = g & & ( a [ c ] = g ) , a } , { } ) } ; r e t u r n { b u i l d P a t c h : N } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ c o n s t a n t s ' ,   [ ] , f u n c t i o n ( ) { v a r   a = { A C T I O N _ A C C E P T _ C O N T A C T _ R E Q U E S T : ' [ d a t a - a c t i o n = " a c c e p t - c o n t a c t - r e q u e s t " ] ' , A C T I O N _ C A N C E L _ C O N F I R M : ' [ d a t a - a c t i o n = " c a n c e l - c o n f i r m " ] ' , A C T I O N _ C A N C E L _ E D I T _ M O D E : ' [ d a t a - a c t i o n = " c a n c e l - e d i t - m o d e " ] ' , A C T I O N _ C O N F I R M _ A D D _ C O N T A C T : ' [ d a t a - a c t i o n = " c o n f i r m - a d d - c o n t a c t " ] ' , A C T I O N _ C O N F I R M _ B L O C K : ' [ d a t a - a c t i o n = " c o n f i r m - b l o c k " ] ' , A C T I O N _ C O N F I R M _ D E L E T E _ S E L E C T E D _ M E S S A G E S : ' [ d a t a - a c t i o n = " c o n f i r m - d e l e t e - s e l e c t e d - m e s s a g e s " ] ' , A C T I O N _ C O N F I R M _ D E L E T E _ C O N V E R S A T I O N : ' [ d a t a - a c t i o n = " c o n f i r m - d e l e t e - c o n v e r s a t i o n " ] ' , A C T I O N _ C O N F I R M _ F A V O U R I T E : ' [ d a t a - a c t i o n = " c o n f i r m - f a v o u r i t e " ] ' , A C T I O N _ C O N F I R M _ U N F A V O U R I T E : ' [ d a t a - a c t i o n = " c o n f i r m - u n f a v o u r i t e " ] ' , A C T I O N _ C O N F I R M _ R E M O V E _ C O N T A C T : ' [ d a t a - a c t i o n = " c o n f i r m - r e m o v e - c o n t a c t " ] ' , A C T I O N _ C O N F I R M _ U N B L O C K : ' [ d a t a - a c t i o n = " c o n f i r m - u n b l o c k " ] ' , A C T I O N _ D E C L I N E _ C O N T A C T _ R E Q U E S T : ' [ d a t a - a c t i o n = " d e c l i n e - c o n t a c t - r e q u e s t " ] ' , A C T I O N _ R E Q U E S T _ A D D _ C O N T A C T : ' [ d a t a - a c t i o n = " r e q u e s t - a d d - c o n t a c t " ] ' , A C T I O N _ R E Q U E S T _ B L O C K : ' [ d a t a - a c t i o n = " r e q u e s t - b l o c k " ] ' , A C T I O N _ R E Q U E S T _ D E L E T E _ C O N V E R S A T I O N : ' [ d a t a - a c t i o n = " r e q u e s t - d e l e t e - c o n v e r s a t i o n " ] ' , A C T I O N _ R E Q U E S T _ D E L E T E _ S E L E C T E D _ M E S S A G E S : ' [ d a t a - a c t i o n = " d e l e t e - s e l e c t e d - m e s s a g e s " ] ' , A C T I O N _ R E Q U E S T _ R E M O V E _ C O N T A C T : ' [ d a t a - a c t i o n = " r e q u e s t - r e m o v e - c o n t a c t " ] ' , A C T I O N _ R E Q U E S T _ U N B L O C K : ' [ d a t a - a c t i o n = " r e q u e s t - u n b l o c k " ] ' , A C T I O N _ V I E W _ C O N T A C T : ' [ d a t a - a c t i o n = " v i e w - c o n t a c t " ] ' , A C T I O N _ V I E W _ G R O U P _ I N F O : ' [ d a t a - a c t i o n = " v i e w - g r o u p - i n f o " ] ' , C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' , C O N F I R M _ D I A L O G U E _ B U T T O N _ T E X T : ' [ d a t a - r e g i o n = " d i a l o g u e - b u t t o n - t e x t " ] ' , C O N F I R M _ D I A L O G U E _ C A N C E L _ B U T T O N : ' [ d a t a - a c t i o n = " c a n c e l - c o n f i r m " ] ' , C O N F I R M _ D I A L O G U E _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n f i r m - d i a l o g u e - c o n t a i n e r " ] ' , C O N F I R M _ D I A L O G U E _ H E A D E R : ' [ d a t a - r e g i o n = " d i a l o g u e - h e a d e r " ] ' , C O N F I R M _ D I A L O G U E _ T E X T : ' [ d a t a - r e g i o n = " d i a l o g u e - t e x t " ] ' , C O N T A C T _ R E Q U E S T _ S E N T _ M E S S A G E _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t a c t - r e q u e s t - s e n t - m e s s a g e - c o n t a i n e r " ] ' , C O N T E N T _ P L A C E H O L D E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - p l a c e h o l d e r " ] ' , C O N T E N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - c o n t a i n e r " ] ' , C O N T E N T _ M E S S A G E S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e - c o n t a i n e r " ] ' , C O N T E N T _ M E S S A G E S _ F O O T E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e s - f o o t e r - c o n t a i n e r " ] ' , C O N T E N T _ M E S S A G E S _ F O O T E R _ E D I T _ M O D E _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e s - f o o t e r - e d i t - m o d e - c o n t a i n e r " ] ' , C O N T E N T _ M E S S A G E S _ F O O T E R _ R E Q U I R E _ C O N T A C T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e s - f o o t e r - r e q u i r e - c o n t a c t - c o n t a i n e r " ] ' , C O N T E N T _ M E S S A G E S _ F O O T E R _ R E Q U I R E _ U N B L O C K _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e s - f o o t e r - r e q u i r e - u n b l o c k - c o n t a i n e r " ] ' , C O N T E N T _ M E S S A G E S _ F O O T E R _ U N A B L E _ T O _ M E S S A G E _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e s - f o o t e r - u n a b l e - t o - m e s s a g e " ] ' , D A Y _ M E S S A G E S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " d a y - m e s s a g e s - c o n t a i n e r " ] ' , F A V O U R I T E _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " f a v o u r i t e - i c o n - c o n t a i n e r " ] ' , F O O T E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e s - f o o t e r - c o n t a i n e r " ] ' , H E A D E R : ' [ d a t a - r e g i o n = " h e a d e r - c o n t e n t " ] ' , H E A D E R _ E D I T _ M O D E : ' [ d a t a - r e g i o n = " h e a d e r - e d i t - m o d e " ] ' , H E A D E R _ P L A C E H O L D E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " h e a d e r - p l a c e h o l d e r " ] ' , L O A D I N G _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " l o a d i n g - i c o n - c o n t a i n e r " ] ' , M E S S A G E : ' [ d a t a - r e g i o n = " m e s s a g e " ] ' , M E S S A G E _ N O T _ S E L E C T E D : ' [ d a t a - r e g i o n = " m e s s a g e " ] [ a r i a - c h e c k e d = " f a l s e " ] ' , M E S S A G E _ N O T _ S E L E C T E D _ I C O N : ' [ d a t a - r e g i o n = " n o t - s e l e c t e d - i c o n " ] ' , M E S S A G E _ S E L E C T E D _ I C O N : ' [ d a t a - r e g i o n = " s e l e c t e d - i c o n " ] ' , M E S S A G E S : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e - c o n t a i n e r " ] ' , M E S S A G E S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - m e s s a g e - c o n t a i n e r " ] ' , M E S S A G E S _ S E L E C T E D _ C O U N T : ' [ d a t a - r e g i o n = " m e s s a g e - s e l e c t e d - c o u r t " ] ' , M E S S A G E _ T E X T _ A R E A : ' [ d a t a - r e g i o n = " s e n d - m e s s a g e - t x t " ] ' , M O R E _ M E S S A G E S _ L O A D I N G _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " m o r e - m e s s a g e s - l o a d i n g - i c o n - c o n t a i n e r " ] ' , P L A C E H O L D E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " p l a c e h o l d e r - c o n t a i n e r " ] ' , S E N D _ M E S S A G E _ B U T T O N : ' [ d a t a - a c t i o n = " s e n d - m e s s a g e " ] ' , S E N D _ M E S S A G E _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " s e n d - i c o n - c o n t a i n e r " ] ' , T E X T : ' [ d a t a - r e g i o n = " t e x t " ] ' , T I T L E : ' [ d a t a - r e g i o n = " t i t l e " ] ' } , b = { H E A D E R _ P R I V A T E : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ h e a d e r _ c o n t e n t _ t y p e _ p r i v a t e " , H E A D E R _ P R I V A T E _ N O _ C O N T R O L S : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ h e a d e r _ c o n t e n t _ t y p e _ p r i v a t e _ n o _ c o n t r o l s " , H E A D E R _ P U B L I C : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ h e a d e r _ c o n t e n t _ t y p e _ p u b l i c " , D A Y : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ b o d y _ d a y " , M E S S A G E : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ b o d y _ m e s s a g e " , M E S S A G E S : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ b o d y _ m e s s a g e s " } , c = { P R I V A T E : 1 , P U B L I C : 2 } ; r e t u r n { S E L E C T O R S : a , T E M P L A T E S : b , C O N V E R S A T I O N _ T Y P E S : c , N E W E S T _ M E S S A G E S _ F I R S T : ! 0 , L O A D _ M E S S A G E _ L I M I T : 1 0 0 , I N I T I A L _ N E W _ M E S S A G E _ P O L L _ T I M E O U T : 1 e 3 } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ n o t i f i c a t i o n _ p r e f e r e n c e ' ,   [ " j q u e r y " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r e f e r e n c e " ] , f u n c t i o n ( a , b ) { v a r   c = { P R E F E R E N C E _ K E Y : " [ d a t a - p r e f e r e n c e - k e y ] " } , d = f u n c t i o n ( a , c ) { b . c a l l ( t h i s , a , c ) } ; r e t u r n   d . p r o t o t y p e = O b j e c t . c r e a t e ( b . p r o t o t y p e ) , d . p r o t o t y p e . c o n s t r u c t o r = d , d . p r o t o t y p e . g e t P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . f i n d ( c . P R E F E R E N C E _ K E Y ) . a t t r ( " d a t a - p r e f e r e n c e - k e y " ) } , d } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { V I E W _ C O N T A C T : " v i e w - c o n t a c t " , V I E W _ C O N T A C T S : " v i e w - c o n t a c t s " , V I E W _ C O N V E R S A T I O N : " v i e w - c o n v e r s a t i o n " , V I E W _ G R O U P _ I N F O : " v i e w - g r o u p - i n f o " , V I E W _ O V E R V I E W : " v i e w - o v e r v i e w " , V I E W _ S E A R C H : " v i e w - s e a r c h " , V I E W _ S E T T I N G S : " v i e w - s e t t i n g s " } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ r e n d e r e r ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " c o r e / u s e r _ d a t e " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ c o n s t a n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f . S E L E C T O R S , h = f . T E M P L A T E S , i = f . C O N V E R S A T I O N _ T Y P E S , j = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ M E S S A G E S _ C O N T A I N E R ) } , k = f u n c t i o n ( a ) { j ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , l = f u n c t i o n ( a ) { j ( a ) . a d d C l a s s ( " h i d d e n " ) } , m = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T A C T _ R E Q U E S T _ S E N T _ M E S S A G E _ C O N T A I N E R ) } , n = f u n c t i o n ( a ) { r e t u r n   m ( a ) . a d d C l a s s ( " h i d d e n " ) } , o = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ M E S S A G E S _ F O O T E R _ C O N T A I N E R ) } , p = f u n c t i o n ( a ) { o ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , q = f u n c t i o n ( a ) { o ( a ) . a d d C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ M E S S A G E S _ F O O T E R _ E D I T _ M O D E _ C O N T A I N E R ) } , s = f u n c t i o n ( a ) { r ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , t = f u n c t i o n ( a ) { r ( a ) . a d d C l a s s ( " h i d d e n " ) } , u = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . P L A C E H O L D E R _ C O N T A I N E R ) } , v = f u n c t i o n ( a ) { u ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , w = f u n c t i o n ( a ) { u ( a ) . a d d C l a s s ( " h i d d e n " ) } , x = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ M E S S A G E S _ F O O T E R _ R E Q U I R E _ C O N T A C T _ C O N T A I N E R ) } , y = f u n c t i o n ( a ) { x ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , z = f u n c t i o n ( a ) { x ( a ) . a d d C l a s s ( " h i d d e n " ) } , A = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ M E S S A G E S _ F O O T E R _ R E Q U I R E _ U N B L O C K _ C O N T A I N E R ) } , B = f u n c t i o n ( a ) { A ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , C = f u n c t i o n ( a ) { A ( a ) . a d d C l a s s ( " h i d d e n " ) } , D = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ M E S S A G E S _ F O O T E R _ U N A B L E _ T O _ M E S S A G E _ C O N T A I N E R ) } , E = f u n c t i o n ( a ) { D ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , F = f u n c t i o n ( a ) { D ( a ) . a d d C l a s s ( " h i d d e n " ) } , G = f u n c t i o n ( a ) { N ( a ) , Q ( a ) , T ( a ) } , H = f u n c t i o n ( a ) { q ( a ) , t ( a ) , w ( a ) , z ( a ) , C ( a ) , F ( a ) } , I = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T E N T _ P L A C E H O L D E R _ C O N T A I N E R ) } , J = f u n c t i o n ( a ) { I ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , K = f u n c t i o n ( a ) { I ( a ) . a d d C l a s s ( " h i d d e n " ) } , L = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . H E A D E R ) } , M = f u n c t i o n ( a ) { L ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , N = f u n c t i o n ( a ) { L ( a ) . a d d C l a s s ( " h i d d e n " ) } , O = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . H E A D E R _ E D I T _ M O D E ) } , P = f u n c t i o n ( a ) { O ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , Q = f u n c t i o n ( a ) { O ( a ) . a d d C l a s s ( " h i d d e n " ) } , R = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . H E A D E R _ P L A C E H O L D E R _ C O N T A I N E R ) } , S = f u n c t i o n ( a ) { R ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , T = f u n c t i o n ( a ) { R ( a ) . a d d C l a s s ( " h i d d e n " ) } , U = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . M E S S A G E _ T E X T _ A R E A ) } , V = f u n c t i o n ( a , b ) { v a r   c = j ( a ) ; r e t u r n   c . f i n d ( ' [ d a t a - m e s s a g e - i d = " ' + b + ' " ] ' ) } , W = f u n c t i o n ( a , b ) { v a r   c = j ( a ) ; r e t u r n   c . f i n d ( ' [ d a t a - d a y - i d = " ' + b + ' " ] ' ) } , X = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . M O R E _ M E S S A G E S _ L O A D I N G _ I C O N _ C O N T A I N E R ) } , Y = f u n c t i o n ( a ) { X ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , Z = f u n c t i o n ( a ) { X ( a ) . a d d C l a s s ( " h i d d e n " ) } , $ = f u n c t i o n ( a ) { a . f i n d ( g . S E N D _ M E S S A G E _ B U T T O N ) . p r o p ( " d i s a b l e d " , ! 0 ) , U ( a ) . p r o p ( " d i s a b l e d " , ! 0 ) } , _ = f u n c t i o n ( a ) { a . f i n d ( g . S E N D _ M E S S A G E _ B U T T O N ) . p r o p ( " d i s a b l e d " , ! 1 ) , U ( a ) . p r o p ( " d i s a b l e d " , ! 1 ) } , a a = f u n c t i o n ( a ) { $ ( a ) , a . f i n d ( g . S E N D _ M E S S A G E _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) , a . f i n d ( g . L O A D I N G _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , b a = f u n c t i o n ( a ) { _ ( a ) , a . f i n d ( g . S E N D _ M E S S A G E _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) , a . f i n d ( g . L O A D I N G _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , c a = f u n c t i o n ( a ) { v a r   b = U ( a ) ; b . v a l ( " " ) , b . f o c u s ( ) } , d a = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N F I R M _ D I A L O G U E _ C O N T A I N E R ) } , e a = f u n c t i o n ( a ) { v a r   b = d a ( a ) , c = b . s i b l i n g s ( " : n o t ( . h i d d e n ) " ) ; c . a t t r ( " a r i a - h i d d e n " , ! 0 ) , c . a t t r ( " t a b i n d e x " , - 1 ) , c . a t t r ( " d a t a - c o n f i r m - d i a l o g u e - h i d d e n " , ! 0 ) , b . r e m o v e C l a s s ( " h i d d e n " ) } , f a = f u n c t i o n ( a ) { v a r   b = d a ( a ) , c = b . s i b l i n g s ( ' [ d a t a - c o n f i r m - d i a l o g u e - h i d d e n = " t r u e " ] ' ) ; c . r e m o v e A t t r ( " a r i a - h i d d e n " ) , c . r e m o v e A t t r ( " t a b i n d e x " ) , c . r e m o v e A t t r ( " d a t a - c o n f i r m - d i a l o g u e - h i d d e n " ) , b . a d d C l a s s ( " h i d d e n " ) } , g a = f u n c t i o n ( a , b ) { O ( a ) . f i n d ( g . M E S S A G E S _ S E L E C T E D _ C O U N T ) . t e x t ( b ) } , h a = f u n c t i o n ( a , b ) { r e t u r n   a . m a p ( f u n c t i o n ( a ) { r e t u r n { i d : a . i d , i s r e a d : a . i s R e a d , f r o m l o g g e d i n u s e r : a . f r o m L o g g e d I n U s e r , u s e r f r o m : a . u s e r F r o m , t e x t : a . t e x t , f o r m a t t e d t i m e : b [ a . t i m e C r e a t e d ] } } ) } , i a = f u n c t i o n ( b , c , e , f , g ) { v a r   i = j ( c ) , k = f . m a p ( f u n c t i o n ( a ) { r e t u r n   d . r e n d e r ( h . D A Y , { t i m e s t a m p : a . v a l u e . t i m e s t a m p , m e s s a g e s : h a ( a . v a l u e . m e s s a g e s , g ) } ) } ) ; r e t u r n   a . w h e n . a p p l y ( a , k ) . t h e n ( f u n c t i o n ( ) { f . f o r E a c h ( f u n c t i o n ( b , d ) { k [ d ] . t h e n ( f u n c t i o n ( d ) { i f ( b . b e f o r e ) { v a r   e = W ( c , b . b e f o r e . t i m e s t a m p ) ; r e t u r n   a ( d ) . i n s e r t B e f o r e ( e ) } r e t u r n   i . a p p e n d ( d ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { } ) } ) } ) } , j a = f u n c t i o n ( b , c , e , f , i ) { v a r   j = f . m a p ( f u n c t i o n ( a ) { r e t u r n   a . v a l u e } ) , k = h a ( j , i ) ; r e t u r n   d . r e n d e r ( h . M E S S A G E S , { m e s s a g e s : k } ) . t h e n ( f u n c t i o n ( b ) { v a r   d = a ( b ) ; f . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = d . f i n d ( ' [ d a t a - m e s s a g e - i d = " ' + a . v a l u e . i d + ' " ] ' ) ; i f ( a . b e f o r e ) { v a r   e = V ( c , a . b e f o r e . i d ) ; r e t u r n   b . i n s e r t B e f o r e ( e ) } v a r   f = W ( c , a . d a y . t i m e s t a m p ) , h = f . f i n d ( g . D A Y _ M E S S A G E S _ C O N T A I N E R ) ; r e t u r n   h . a p p e n d ( b ) } ) } ) } , k a = f u n c t i o n ( a , b ) { b . f o r E a c h ( f u n c t i o n ( b ) { W ( a , b . t i m e s t a m p ) . r e m o v e ( ) } ) } , l a = f u n c t i o n ( a , b ) { b . f o r E a c h ( f u n c t i o n ( b ) { V ( a , b . i d ) . r e m o v e ( ) } ) } , m a = f u n c t i o n ( b , d , f , g ) { v a r   h = [ ] , i = g . d a y s . a d d . l e n g t h > 0 , j = g . m e s s a g e s . a d d . l e n g t h > 0 , k = [ ] , l = a . D e f e r r e d ( ) . r e s o l v e ( { } ) . p r o m i s e ( ) ; r e t u r n   i & & ( k = k . c o n c a t ( g . d a y s . a d d . r e d u c e ( f u n c t i o n ( a , b ) { r e t u r n   a . c o n c a t ( b . v a l u e . m e s s a g e s . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t i m e C r e a t e d } ) ) } , [ ] ) ) ) , j & & ( k = k . c o n c a t ( g . m e s s a g e s . a d d . m a p ( f u n c t i o n ( a ) { r e t u r n   a . v a l u e . t i m e C r e a t e d } ) ) ) , k . l e n g t h & & ( l = c . g e t _ s t r i n g ( " s t r f t i m e t i m e 2 4 " , " c o r e _ l a n g c o n f i g " ) . t h e n ( f u n c t i o n ( a ) { v a r   b = k . m a p ( f u n c t i o n ( b ) { r e t u r n { t i m e s t a m p : b , f o r m a t : a } } ) ; r e t u r n   e . g e t ( b ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   k . r e d u c e ( f u n c t i o n ( b , c , d ) { r e t u r n   b [ c ] = a [ d ] , b } , { } ) } ) ) , i & & h . p u s h ( l . t h e n ( f u n c t i o n ( a ) { r e t u r n   i a ( b , d , f , g . d a y s . a d d , a ) } ) ) , j & & h . p u s h ( l . t h e n ( f u n c t i o n ( a ) { r e t u r n   j a ( b , d , f , g . m e s s a g e s . a d d , a ) } ) ) , g . d a y s . r e m o v e . l e n g t h > 0 & & k a ( d , g . d a y s . r e m o v e ) , g . m e s s a g e s . r e m o v e . l e n g t h > 0 & & l a ( d , g . m e s s a g e s . r e m o v e ) , a . w h e n . a p p l y ( a , h ) } , n a = f u n c t i o n ( a , b , c , e ) { v a r   f = L ( a ) , g = h . H E A D E R _ P U B L I C ; r e t u r n   e . t y p e = = i . P R I V A T E & & ( g = e . s h o w C o n t r o l s ? h . H E A D E R _ P R I V A T E : h . H E A D E R _ P R I V A T E _ N O _ C O N T R O L S ) , d . r e n d e r ( g , e . c o n t e x t ) . t h e n ( f u n c t i o n ( a , b ) { d . r e p l a c e N o d e C o n t e n t s ( f , a , b ) } ) } , o a = f u n c t i o n ( a , b , d , e ) { s w i t c h ( H ( d ) , e . t y p e ) { c a s e " p l a c e h o l d e r " : r e t u r n   v ( d ) ; c a s e " a d d - c o n t a c t " : r e t u r n   c . g e t _ s t r i n g s ( [ { k e y : " r e q u i r e c o n t a c t t o m e s s a g e " , c o m p o n e n t : " c o r e _ m e s s a g e " , p a r a m : e . u s e r . f u l l n a m e } , { k e y : " i s n o t i n y o u r c o n t a c t s " , c o m p o n e n t : " c o r e _ m e s s a g e " , p a r a m : e . u s e r . f u l l n a m e } ] ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a [ 1 ] , c = a [ 0 ] , e = x ( d ) ; r e t u r n   e . f i n d ( g . T I T L E ) . t e x t ( b ) , e . f i n d ( g . T E X T ) . t e x t ( c ) , y ( d ) , a } ) ; c a s e " e d i t - m o d e " : r e t u r n   s ( d ) ; c a s e " c o n t e n t " : r e t u r n   p ( d ) ; c a s e " u n b l o c k " : r e t u r n   B ( d ) ; c a s e " u n a b l e - t o - m e s s a g e " : r e t u r n   E ( d ) } r e t u r n ! 0 } , p a = f u n c t i o n ( a , b , c , d ) { v a r   e = j ( b ) , f = V ( b , d ) , g = f . p o s i t i o n ( ) ; i f ( g ) { v a r   h = e . s c r o l l T o p ( ) + g . t o p ; e . s c r o l l T o p ( h ) } } , q a = f u n c t i o n ( a , b , c , d ) { d ? ( N ( a ) , S ( a ) ) : ( M ( a ) , T ( a ) ) } , r a = f u n c t i o n ( a , b , c , d ) { d ? ( l ( b ) , J ( b ) ) : ( k ( b ) , K ( b ) ) } , s a = f u n c t i o n ( a , b , c , d ) { d ? Y ( b ) : Z ( b ) } , t a = f u n c t i o n ( a , b , c , d ) { d ? a a ( c ) : ( b a ( c ) , c a ( c ) ) } , u a = f u n c t i o n ( a , b , c , d , e , f , h , i ) { v a r   j = d a ( b ) , k = d . m a p ( f u n c t i o n ( a ) { r e t u r n   j . f i n d ( a ) } ) , l = j . f i n d ( g . C O N F I R M _ D I A L O G U E _ C A N C E L _ B U T T O N ) , m = j . f i n d ( g . C O N F I R M _ D I A L O G U E _ T E X T ) , n = j . f i n d ( g . C O N F I R M _ D I A L O G U E _ H E A D E R ) ; j . f i n d ( " b u t t o n " ) . a d d C l a s s ( " h i d d e n " ) , h ? l . r e m o v e C l a s s ( " h i d d e n " ) : l . a d d C l a s s ( " h i d d e n " ) , f ? ( n . r e m o v e C l a s s ( " h i d d e n " ) , n . t e x t ( f ) ) : ( n . a d d C l a s s ( " h i d d e n " ) , n . t e x t ( " " ) ) , k . f o r E a c h ( f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " h i d d e n " ) } ) , m . t e x t ( e ) , e a ( c ) , e a ( b ) , i | | e a ( a ) , j . f i n d ( g . C A N _ R E C E I V E _ F O C U S ) . f i l t e r ( " : v i s i b l e " ) . f i r s t ( ) . f o c u s ( ) } , v a = f u n c t i o n ( a , b , c ) { v a r   d = d a ( b ) , e = d . f i n d ( g . C O N F I R M _ D I A L O G U E _ C A N C E L _ B U T T O N ) , f = d . f i n d ( g . C O N F I R M _ D I A L O G U E _ T E X T ) , h = d . f i n d ( g . C O N F I R M _ D I A L O G U E _ H E A D E R ) ; r e t u r n   f a ( b ) , f a ( c ) , f a ( a ) , d . f i n d ( " b u t t o n " ) . a d d C l a s s ( " h i d d e n " ) , e . r e m o v e C l a s s ( " h i d d e n " ) , f . t e x t ( " " ) , h . a d d C l a s s ( " h i d d e n " ) , h . t e x t ( " " ) , a . f i n d ( g . C A N _ R E C E I V E _ F O C U S ) . f i r s t ( ) . f o c u s ( ) , ! 0 } , w a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e ? c . g e t _ s t r i n g ( " b l o c k u s e r c o n f i r m " , " c o r e _ m e s s a g e " , e . f u l l n a m e ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   u a ( a , b , d , [ g . A C T I O N _ C O N F I R M _ B L O C K ] , c , " " , ! 0 , ! 1 ) } ) : v a ( a , b , d ) } , x a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e ? c . g e t _ s t r i n g ( " u n b l o c k u s e r c o n f i r m " , " c o r e _ m e s s a g e " , e . f u l l n a m e ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   u a ( a , b , d , [ g . A C T I O N _ C O N F I R M _ U N B L O C K ] , c , " " , ! 0 , ! 1 ) } ) : v a ( a , b , d ) } , y a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e ? c . g e t _ s t r i n g ( " a d d c o n t a c t c o n f i r m " , " c o r e _ m e s s a g e " , e . f u l l n a m e ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   u a ( a , b , d , [ g . A C T I O N _ C O N F I R M _ A D D _ C O N T A C T ] , c , " " , ! 0 , ! 1 ) } ) : v a ( a , b , d ) } , z a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e ? c . g e t _ s t r i n g ( " r e m o v e c o n t a c t c o n f i r m " , " c o r e _ m e s s a g e " , e . f u l l n a m e ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   u a ( a , b , d , [ g . A C T I O N _ C O N F I R M _ R E M O V E _ C O N T A C T ] , c , " " , ! 0 , ! 1 ) } ) : v a ( a , b , d ) } , A a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e ? c . g e t _ s t r i n g ( " d e l e t e s e l e c t e d m e s s a g e s c o n f i r m " , " c o r e _ m e s s a g e " ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   u a ( a , b , d , [ g . A C T I O N _ C O N F I R M _ D E L E T E _ S E L E C T E D _ M E S S A G E S ] , c , " " , ! 0 , ! 1 ) } ) : v a ( a , b , d ) } , B a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e ? c . g e t _ s t r i n g ( " d e l e t e a l l c o n f i r m " , " c o r e _ m e s s a g e " ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   u a ( a , b , d , [ g . A C T I O N _ C O N F I R M _ D E L E T E _ C O N V E R S A T I O N ] , c , " " , ! 0 , ! 1 ) } ) : v a ( a , b , d ) } , C a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e ? c . g e t _ s t r i n g ( " u s e r w o u l d l i k e t o c o n t a c t y o u " , " c o r e _ m e s s a g e " , e . f u l l n a m e ) . t h e n ( f u n c t i o n ( c ) { v a r   e = [ g . A C T I O N _ A C C E P T _ C O N T A C T _ R E Q U E S T , g . A C T I O N _ D E C L I N E _ C O N T A C T _ R E Q U E S T ] ; r e t u r n   u a ( a , b , d , e , c , " " , ! 1 , ! 0 ) } ) : v a ( a , b , d ) } , D a = f u n c t i o n ( a , b , c , d ) { d ? ( a . f i n d ( g . A C T I O N _ R E Q U E S T _ B L O C K ) . a d d C l a s s ( " h i d d e n " ) , a . f i n d ( g . A C T I O N _ R E Q U E S T _ U N B L O C K ) . r e m o v e C l a s s ( " h i d d e n " ) ) : ( a . f i n d ( g . A C T I O N _ R E Q U E S T _ B L O C K ) . r e m o v e C l a s s ( " h i d d e n " ) , a . f i n d ( g . A C T I O N _ R E Q U E S T _ U N B L O C K ) . a d d C l a s s ( " h i d d e n " ) ) } , E a = f u n c t i o n ( a , b , c , d ) { v a r   e = a . f i n d ( g . F A V O U R I T E _ I C O N _ C O N T A I N E R ) , f = a . f i n d ( g . A C T I O N _ C O N F I R M _ F A V O U R I T E ) , h = a . f i n d ( g . A C T I O N _ C O N F I R M _ U N F A V O U R I T E ) ; s w i t c h ( d ) { c a s e " h i d e " : e . a d d C l a s s ( " h i d d e n " ) , f . a d d C l a s s ( " h i d d e n " ) , h . a d d C l a s s ( " h i d d e n " ) ; b r e a k ; c a s e " s h o w - a d d " : e . a d d C l a s s ( " h i d d e n " ) , f . r e m o v e C l a s s ( " h i d d e n " ) , h . a d d C l a s s ( " h i d d e n " ) ; b r e a k ; c a s e " s h o w - r e m o v e " : e . r e m o v e C l a s s ( " h i d d e n " ) , f . a d d C l a s s ( " h i d d e n " ) , h . r e m o v e C l a s s ( " h i d d e n " ) } } , F a = f u n c t i o n ( a , b , c , d ) { v a r   e = a . f i n d ( g . A C T I O N _ R E Q U E S T _ A D D _ C O N T A C T ) , f = a . f i n d ( g . A C T I O N _ R E Q U E S T _ R E M O V E _ C O N T A C T ) ; s w i t c h ( d ) { c a s e " p e n d i n g - c o n t a c t " : e . a d d C l a s s ( " h i d d e n " ) , f . a d d C l a s s ( " h i d d e n " ) ; b r e a k ; c a s e " c o n t a c t " : e . a d d C l a s s ( " h i d d e n " ) , f . r e m o v e C l a s s ( " h i d d e n " ) ; b r e a k ; c a s e " n o n - c o n t a c t " : e . r e m o v e C l a s s ( " h i d d e n " ) , f . a d d C l a s s ( " h i d d e n " ) } } , G a = f u n c t i o n ( a , b , c , d ) { v a r   e = d a ( b ) , f = e . f i n d ( " b u t t o n " ) , h = e . f i n d ( g . C O N F I R M _ D I A L O G U E _ B U T T O N _ T E X T ) , i = e . f i n d ( g . L O A D I N G _ I C O N _ C O N T A I N E R ) ; d ? ( f . p r o p ( " d i s a b l e d " , ! 0 ) , h . a d d C l a s s ( " h i d d e n " ) , i . r e m o v e C l a s s ( " h i d d e n " ) ) : ( f . p r o p ( " d i s a b l e d " , ! 1 ) , h . r e m o v e C l a s s ( " h i d d e n " ) , i . a d d C l a s s ( " h i d d e n " ) ) } , H a = f u n c t i o n ( a , b , c , d ) { v a r   e = n u l l ; d ? ( e = b . f i n d ( g . M E S S A G E _ N O T _ S E L E C T E D ) , e . f i n d ( g . M E S S A G E _ N O T _ S E L E C T E D _ I C O N ) . r e m o v e C l a s s ( " h i d d e n " ) , N ( a ) , P ( a ) ) : ( e = j ( b ) , e . f i n d ( g . M E S S A G E _ N O T _ S E L E C T E D _ I C O N ) . a d d C l a s s ( " h i d d e n " ) , e . f i n d ( g . M E S S A G E _ S E L E C T E D _ I C O N ) . a d d C l a s s ( " h i d d e n " ) , M ( a ) , Q ( a ) ) } , I a = f u n c t i o n ( a , b , c , d ) { v a r   e = d . c o u n t > 0 ; d . a d d . l e n g t h & & d . a d d . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = V ( b , a ) ; c . f i n d ( g . M E S S A G E _ N O T _ S E L E C T E D _ I C O N ) . a d d C l a s s ( " h i d d e n " ) , c . f i n d ( g . M E S S A G E _ S E L E C T E D _ I C O N ) . r e m o v e C l a s s ( " h i d d e n " ) , c . a t t r ( " a r i a - c h e c k e d " , ! 0 ) } ) , d . r e m o v e . l e n g t h & & d . r e m o v e . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = V ( b , a ) ; e & & c . f i n d ( g . M E S S A G E _ N O T _ S E L E C T E D _ I C O N ) . r e m o v e C l a s s ( " h i d d e n " ) , c . f i n d ( g . M E S S A G E _ S E L E C T E D _ I C O N ) . a d d C l a s s ( " h i d d e n " ) , c . a t t r ( " a r i a - c h e c k e d " , ! 1 ) } ) , g a ( a , d . c o u n t ) } , J a = f u n c t i o n ( a , b , d , e ) { r e t u r n   e . s h o w & & ! e . h a s M e s s a g e s ? c . g e t _ s t r i n g s ( [ { k e y : " r e q u i r e c o n t a c t t o m e s s a g e " , c o m p o n e n t : " c o r e _ m e s s a g e " , p a r a m : e . u s e r . f u l l n a m e } , { k e y : " i s n o t i n y o u r c o n t a c t s " , c o m p o n e n t : " c o r e _ m e s s a g e " , p a r a m : e . u s e r . f u l l n a m e } ] ) . t h e n ( f u n c t i o n ( c ) { v a r   e = c [ 1 ] , f = c [ 0 ] ; r e t u r n   u a ( a , b , d , [ g . A C T I O N _ R E Q U E S T _ A D D _ C O N T A C T ] , f , e , ! 1 , ! 0 ) } ) : v a ( a , b , d ) } , K a = f u n c t i o n ( a , b , d , e ) { v a r   f = m ( b ) ; r e t u r n   e ? c . g e t _ s t r i n g ( " y o u r c o n t a c t r e q u e s t p e n d i n g " , " c o r e _ m e s s a g e " , e ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . f i n d ( g . T E X T ) . t e x t ( a ) , f . r e m o v e C l a s s ( " h i d d e n " ) , a } ) : ( f . a d d C l a s s ( " h i d d e n " ) , ! 0 ) } , L a = f u n c t i o n ( a , b , c ) { r e t u r n   v a ( a , b , c ) , n ( b ) , G ( a ) , S ( a ) , H ( c ) , v ( c ) , ! 0 } , M a = f u n c t i o n ( c , d , e , f ) { v a r   g = [ { r e s e t : L a } , { c o n v e r s a t i o n : m a , h e a d e r : n a , f o o t e r : o a , c o n f i r m B l o c k U s e r : w a , c o n f i r m U n b l o c k U s e r : x a , c o n f i r m A d d C o n t a c t : y a , c o n f i r m R e m o v e C o n t a c t : z a , c o n f i r m D e l e t e S e l e c t e d M e s s a g e s : A a , c o n f i r m D e l e t e C o n v e r s a t i o n : B a , c o n f i r m C o n t a c t R e q u e s t : C a , r e q u i r e A d d C o n t a c t : J a , c o n t a c t R e q u e s t S e n t : K a } , { l o a d i n g M e m b e r s : q a , l o a d i n g F i r s t M e s s a g e s : r a , l o a d i n g M e s s a g e s : s a , s e n d i n g M e s s a g e : t a , i s B l o c k e d : D a , i s C o n t a c t : F a , i s F a v o u r i t e : E a , l o a d i n g C o n f i r m A c t i o n : G a , i n E d i t M o d e : H a } , { s c r o l l T o M e s s a g e : p a , s e l e c t e d M e s s a g e s : I a } ] , h = f u n c t i o n ( a ) { v a r   b = [ ] ; f o r ( v a r   g   i n   f ) i f ( a . h a s O w n P r o p e r t y ( g ) ) { v a r   h = a [ g ] , i = f [ g ] ; b . p u s h ( h ( c , d , e , i ) ) } r e t u r n   b } , i = h ( g [ 0 ] ) ; r e t u r n   i = i . c o n c a t ( h ( g [ 1 ] ) ) , a . w h e n . a p p l y ( a , i ) . t h e n ( f u n c t i o n ( ) { f o r ( v a r   a = 2 ; a < g . l e n g t h ; a + + ) h ( g [ a ] ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } ; r e t u r n { r e n d e r : M a } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ t a b s ' ,   [ " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b ) { f u n c t i o n   c ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   d = { A C T I V E C O N T A C T S T A B : " [ d a t a - r e g i o n = ' c o n t a c t s - a r e a ' ]   [ r o l e = ' t a b ' ] [ a r i a - s e l e c t e d = ' t r u e ' ] " , C O N T A C T S P A N E L S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] " , V I E W C O N T A C T S : " [ d a t a - a c t i o n = ' c o n t a c t s - v i e w ' ] " , V I E W C O N V E R S A T I O N S : " [ d a t a - a c t i o n = ' c o n v e r s a t i o n s - v i e w ' ] " } ; r e t u r n   c . p r o t o t y p e . m e s s a g e A r e a = n u l l , c . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { a . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ a . e v e n t s . a c t i v a t e , a . e v e n t s . u p , a . e v e n t s . d o w n , a . e v e n t s . n e x t , a . e v e n t s . p r e v i o u s , a . e v e n t s . c t r l P a g e U p , a . e v e n t s . c t r l P a g e D o w n ] ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . a c t i v a t e , d . V I E W C O N V E R S A T I O N S , t h i s . _ v i e w C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . a c t i v a t e , d . V I E W C O N T A C T S , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . u p , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . d o w n , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . n e x t , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . p r e v i o u s , d . V I E W C O N V E R S A T I O N S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . u p , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . d o w n , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . n e x t , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . p r e v i o u s , d . V I E W C O N T A C T S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . c t r l P a g e U p , d . C O N T A C T S P A N E L S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( a . e v e n t s . c t r l P a g e D o w n , d . C O N T A C T S P A N E L S , t h i s . _ t o g g l e T a b s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( b . M E S S A G E S E N T , f u n c t i o n ( ) { t h i s . _ s e l e c t T a b ( d . V I E W C O N V E R S A T I O N S , d . V I E W C O N T A C T S ) } . b i n d ( t h i s ) ) } , c . p r o t o t y p e . _ v i e w C o n v e r s a t i o n s = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( b . C O N V E R S A T I O N S S E L E C T E D ) , t h i s . _ s e l e c t T a b ( d . V I E W C O N V E R S A T I O N S , d . V I E W C O N T A C T S ) } , c . p r o t o t y p e . _ v i e w C o n t a c t s = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( b . C O N T A C T S S E L E C T E D ) , t h i s . _ s e l e c t T a b ( d . V I E W C O N T A C T S , d . V I E W C O N V E R S A T I O N S ) } , c . p r o t o t y p e . _ s e l e c t T a b = f u n c t i o n ( a , b ) { b = t h i s . m e s s a g e A r e a . f i n d ( b ) , b . r e m o v e C l a s s ( " s e l e c t e d " ) , b . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) , b . a t t r ( " t a b i n d e x " , " - 1 " ) , a = t h i s . m e s s a g e A r e a . f i n d ( a ) , a . a d d C l a s s ( " s e l e c t e d " ) , a . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , a . a t t r ( " t a b i n d e x " , " 0 " ) } , c . p r o t o t y p e . _ t o g g l e T a b s = f u n c t i o n ( a , b ) { v a r   c = t h i s . m e s s a g e A r e a . f i n d ( d . A C T I V E C O N T A C T S T A B ) ; c . i s ( d . V I E W C O N V E R S A T I O N S ) ? t h i s . _ v i e w C o n t a c t s ( ) : t h i s . _ v i e w C o n v e r s a t i o n s ( ) , t h i s . m e s s a g e A r e a . f i n d ( d . A C T I V E C O N T A C T S T A B ) . f o c u s ( ) , a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , b . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , c } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t s _ s e c t i o n _ c o n t a c t s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / p u b s u b " , " c o r e / t e m p l a t e s " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ l a z y _ l o a d _ l i s t " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = 1 0 0 , i = 0 , j = { B L O C K _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " b l o c k - i c o n - c o n t a i n e r " ] ' , C O N T A C T : ' [ d a t a - r e g i o n = " c o n t a c t " ] ' , C O N T E N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t a c t s - c o n t e n t - c o n t a i n e r " ] ' } , k = { C O N T A C T S _ L I S T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ c o n t a c t s _ l i s t " } , l = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - c o n t a c t - u s e r - i d = " ' + b + ' " ] ' ) } , m = f u n c t i o n ( c , e ) { v a r   f = e . m a p ( f u n c t i o n ( b ) { r e t u r n   a . e x t e n d ( b , { i d : b . u s e r i d } ) } ) ; r e t u r n   d . r e n d e r ( k . C O N T A C T S _ L I S T , { c o n t a c t s : f } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . a p p e n d ( a ) , a } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , n = f u n c t i o n ( a , c ) { r e t u r n   e . g e t C o n t a c t s ( c , h + 1 , i ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   b . l e n g t h > h ? b . p o p ( ) : g . s e t L o a d e d A l l ( a , ! 0 ) , b } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   i + = h , a } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , o = f u n c t i o n ( a , b ) { l ( a , b ) . r e m o v e ( ) } , p = f u n c t i o n ( a , b ) { v a r   c = l ( a , b ) ; c . l e n g t h & & c . f i n d ( j . B L O C K _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , q = f u n c t i o n ( a , b ) { v a r   c = l ( a , b ) ; c . l e n g t h & & c . f i n d ( j . B L O C K _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( a ) { c . s u b s c r i b e ( f . C O N T A C T _ A D D E D , f u n c t i o n ( b ) { v a r   c = g . g e t C o n t e n t C o n t a i n e r ( a ) ; m ( c , [ b ] ) , g . h i d e E m p t y M e s s a g e ( a ) , g . s h o w C o n t e n t ( a ) } ) , c . s u b s c r i b e ( f . C O N T A C T _ R E M O V E D , f u n c t i o n ( b ) { o ( a , b ) ; v a r   c = a . f i n d ( j . C O N T A C T ) ; c . l e n g t h | | ( g . h i d e C o n t e n t ( a ) , g . s h o w E m p t y M e s s a g e ( a ) ) } ) , c . s u b s c r i b e ( f . C O N T A C T _ B L O C K E D , f u n c t i o n ( b ) { p ( a , b ) } ) , c . s u b s c r i b e ( f . C O N T A C T _ U N B L O C K E D , f u n c t i o n ( b ) { q ( a , b ) } ) } , s = f u n c t i o n ( a ) { a . a t t r ( " d a t a - c o n t a c t s - i n i t " ) | | ( r ( a ) , a . a t t r ( " d a t a - c o n t a c t s - i n i t " , ! 0 ) ) , g . s h o w ( a , n , m ) } ; r e t u r n { s h o w : s } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r _ s e t t i n g s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / f r a g m e n t " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { P R O C E S S O R : " [ d a t a - p r o c e s s o r - n a m e ] " , P R E F E R E N C E _ R O W : ' [ d a t a - r e g i o n = " p r e f e r e n c e - r o w " ] ' } , i = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . n a m e = t h i s . r o o t . a t t r ( " d a t a - n a m e " ) , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r - i d " ) , t h i s . c o n t e x t I d = t h i s . r o o t . a t t r ( " d a t a - c o n t e x t - i d " ) } ; r e t u r n   i . p r o t o t y p e . s h o w = f u n c t i o n ( ) { d . l o a d F r a g m e n t ( " m e s s a g e " , " p r o c e s s o r _ s e t t i n g s " , t h i s . c o n t e x t I d , { u s e r i d : t h i s . u s e r I d , t y p e : t h i s . n a m e } ) . d o n e ( f u n c t i o n ( b , c ) { f . g e t _ s t r i n g ( " p r o c e s s o r s e t t i n g s " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( d ) { v a r   f = n e w   g ( d , b , f u n c t i o n ( ) { e . r u n T e m p l a t e J S ( c ) } , f u n c t i o n ( ) { f . c l o s e ( ) } ) ; a ( d o c u m e n t ) . o n ( " m p p : f o r m s u b m i t t e d " , f u n c t i o n ( ) { f . c l o s e ( ) , t h i s . u p d a t e C o n f i g u r e d S t a t u s ( ) } . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . o n ( " m p p : f o r m c a n c e l l e d " , f u n c t i o n ( ) { f . c l o s e ( ) } ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . u p d a t e C o n f i g u r e d S t a t u s = f u n c t i o n ( ) { v a r   d = t h i s . r o o t . c l o s e s t ( h . P R O C E S S O R ) ; i f ( ! d . h a s C l a s s ( " u n c o n f i g u r e d " ) ) r e t u r n ! 1 ; v a r   e = d . a t t r ( " d a t a - p r o c e s s o r - n a m e " ) , f = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e s s a g e _ p r o c e s s o r " , a r g s : { n a m e : e , u s e r i d : t h i s . u s e r I d } } ; r e t u r n   b . c a l l ( [ f ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . d o n e ( f u n c t i o n ( b ) { i f ( b . u s e r c o n f i g u r e d ) { v a r   c = a ( h . P R E F E R E N C E _ R O W + '   [ d a t a - p r o c e s s o r - n a m e = " ' + e + ' " ] ' ) ; d . r e m o v e C l a s s ( " u n c o n f i g u r e d " ) , c . r e m o v e C l a s s ( " d i s a b l e d " ) } } ) } , i } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ p r e f e r e n c e s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e _ m e s s a g e / m e s s a g e _ n o t i f i c a t i o n _ p r e f e r e n c e " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { P R E F E R E N C E : " [ d a t a - s t a t e ] " , P R E F E R E N C E S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " p r e f e r e n c e s - c o n t a i n e r " ] ' , C O N T A C T A B L E _ P R I V A C Y _ C O N T A I N E R : ' [ d a t a - r e g i o n = " p r i v a c y - s e t t i n g - c o n t a i n e r " ] ' } , g = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . u s e r I d = t h i s . r o o t . f i n d ( f . P R E F E R E N C E S _ C O N T A I N E R ) . a t t r ( " d a t a - u s e r - i d " ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   g . p r o t o t y p e . p r e f e r e n c e s D i s a b l e d = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . f i n d ( f . P R E F E R E N C E S _ C O N T A I N E R ) . h a s C l a s s ( " d i s a b l e d " ) } , g . p r o t o t y p e . s a v e C o n t a c t a b l e P r i v a c y S e t t i n g = f u n c t i o n ( ) { v a r   d = t h i s . r o o t . f i n d ( f . C O N T A C T A B L E _ P R I V A C Y _ C O N T A I N E R ) , e = a ( " i n p u t [ t y p e = ' r a d i o ' ] : c h e c k e d " ) . v a l ( ) ; i f ( d . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; d . a d d C l a s s ( " l o a d i n g " ) ; v a r   g = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : { u s e r i d : t h i s . u s e r I d , p r e f e r e n c e s : [ { t y p e : d . a t t r ( " d a t a - p r e f e r e n c e - k e y " ) , v a l u e : e } ] } } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { d . r e m o v e C l a s s ( " l o a d i n g " ) } ) } , g . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { e . d e f i n e ( t h i s . r o o t , [ e . e v e n t s . a c t i v a t e ] ) , t h i s . r o o t . o n ( " c h a n g e " , f u n c t i o n ( b ) { i f ( " m e s s a g e _ b l o c k n o n c o n t a c t s " = = b . t a r g e t . n a m e ) t h i s . s a v e C o n t a c t a b l e P r i v a c y S e t t i n g ( ) ; e l s e   i f ( ! t h i s . p r e f e r e n c e s D i s a b l e d ( ) ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( f . P R E F E R E N C E S _ C O N T A I N E R ) , e = a ( b . t a r g e t ) . c l o s e s t ( f . P R E F E R E N C E ) , g = n e w   d ( c , t h i s . u s e r I d ) ; e . a d d C l a s s ( " l o a d i n g " ) , g . s a v e ( ) . a l w a y s ( f u n c t i o n ( ) { e . r e m o v e C l a s s ( " l o a d i n g " ) } ) } } . b i n d ( t h i s ) ) } , g } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ p r o f i l e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / c o n f i g " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { f u n c t i o n   i ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   j = { P R O F I L E : " [ d a t a - r e g i o n = ' p r o f i l e ' ] " , P R O F I L E A D D C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - a d d - c o n t a c t ' ] " , P R O F I L E B L O C K C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - b l o c k - c o n t a c t ' ] " , P R O F I L E R E M O V E C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - r e m o v e - c o n t a c t ' ] " , P R O F I L E S E N D M E S S A G E : " [ d a t a - a c t i o n = ' p r o f i l e - s e n d - m e s s a g e ' ] " , P R O F I L E U N B L O C K C O N T A C T : " [ d a t a - a c t i o n = ' p r o f i l e - u n b l o c k - c o n t a c t ' ] " , P R O F I L E V I E W : " [ d a t a - a c t i o n = ' p r o f i l e - v i e w ' ] " , S H O W C O N T A C T S : " [ d a t a - a c t i o n = ' s h o w - c o n t a c t s ' ] " , M E S S A G E S A R E A : " [ d a t a - r e g i o n = ' m e s s a g e s - a r e a ' ] " , M E S S A G I N G A R E A : " [ d a t a - r e g i o n = ' m e s s a g i n g - a r e a ' ] " } ; r e t u r n   i . p r o t o t y p e . m e s s a g e A r e a = n u l l , i . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { g . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ g . e v e n t s . a c t i v a t e ] ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( h . C O N T A C T S E L E C T E D , t h i s . _ v i e w P r o f i l e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E V I E W , f u n c t i o n ( a , b ) { t h i s . _ v i e w F u l l P r o f i l e ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E S E N D M E S S A G E , f u n c t i o n ( a , b ) { t h i s . _ s e n d M e s s a g e ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E U N B L O C K C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ u n b l o c k C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E B L O C K C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ b l o c k C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E A D D C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ a d d C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . P R O F I L E R E M O V E C O N T A C T , f u n c t i o n ( a , b ) { t h i s . _ r e m o v e C o n t a c t ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( g . e v e n t s . a c t i v a t e , j . S H O W C O N T A C T S , t h i s . _ h i d e M e s s a g i n g A r e a . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ v i e w P r o f i l e = f u n c t i o n ( a , e ) { c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( j . M E S S A G E S A R E A ) , a , b ) } . b i n d ( t h i s ) ) ; v a r   f = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ g e t _ p r o f i l e " , a r g s : { c u r r e n t u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : e } } ] ) ; r e t u r n   f [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ p r o f i l e " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( j . M E S S A G E S A R E A ) , a , b ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , i . p r o t o t y p e . _ v i e w F u l l P r o f i l e = f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = f . w w w r o o t + " / u s e r / p r o f i l e . p h p ? i d = " + t h i s . _ g e t U s e r I d ( ) } , i . p r o t o t y p e . _ s e n d M e s s a g e = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . S E N D M E S S A G E , t h i s . _ g e t U s e r I d ( ) ) } , i . p r o t o t y p e . _ b l o c k C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ b l o c k _ u s e r " , " u n b l o c k c o n t a c t " , " p r o f i l e - b l o c k - c o n t a c t " , " p r o f i l e - u n b l o c k - c o n t a c t " , " " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T B L O C K E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ u n b l o c k C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ u n b l o c k _ u s e r " , " b l o c k c o n t a c t " , " p r o f i l e - u n b l o c k - c o n t a c t " , " p r o f i l e - b l o c k - c o n t a c t " , " d a n g e r " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T U N B L O C K E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ a d d C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ c r e a t e _ c o n t a c t _ r e q u e s t " , " r e m o v e c o n t a c t " , " p r o f i l e - a d d - c o n t a c t " , " p r o f i l e - r e m o v e - c o n t a c t " , " d a n g e r " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T A D D E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ r e m o v e C o n t a c t = f u n c t i o n ( ) { v a r   a = t h i s . _ p e r f o r m A c t i o n ( " c o r e _ m e s s a g e _ d e l e t e _ c o n t a c t s " , " a d d c o n t a c t " , " p r o f i l e - r e m o v e - c o n t a c t " , " p r o f i l e - a d d - c o n t a c t " , " " ) ; r e t u r n   a . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( h . C O N T A C T R E M O V E D , t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . _ p e r f o r m A c t i o n = f u n c t i o n ( a , c , f , g , h ) { v a r   i = " " ; s w i t c h ( a ) { c a s e " c o r e _ m e s s a g e _ b l o c k _ u s e r " : i = { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , b l o c k e d u s e r i d : t h i s . _ g e t U s e r I d ( ) } ; b r e a k ; c a s e " c o r e _ m e s s a g e _ u n b l o c k _ u s e r " : i = { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , u n b l o c k e d u s e r i d : t h i s . _ g e t U s e r I d ( ) } ; b r e a k ; c a s e " c o r e _ m e s s a g e _ c r e a t e _ c o n t a c t _ r e q u e s t " : i = { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , r e q u e s t e d u s e r i d : t h i s . _ g e t U s e r I d ( ) } ; b r e a k ; d e f a u l t : i = { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , u s e r i d s : [ t h i s . _ g e t U s e r I d ( ) ] } } v a r   j = b . c a l l ( [ { m e t h o d n a m e : a , a r g s : i } ] ) ; r e t u r n   j [ 0 ] . t h e n ( f u n c t i o n ( ) { r e t u r n   e . g e t _ s t r i n g ( c , " m e s s a g e " ) } ) . t h e n ( f u n c t i o n ( a ) { t h i s . _ c h a n g e T e x t ( a , f , g , h ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , i . p r o t o t y p e . _ c h a n g e T e x t = f u n c t i o n ( a , b , c , d ) { v a r   e = t h i s . m e s s a g e A r e a . f i n d ( " [ d a t a - a c t i o n = ' " + b + " ' ] " ) ; e . t e x t ( a ) , e . r e m o v e C l a s s ( ) , d & & e . a d d C l a s s ( d ) , e . a t t r ( " d a t a - a c t i o n " , c ) } , i . p r o t o t y p e . _ g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( j . P R O F I L E ) . d a t a ( " u s e r i d " ) } , i . p r o t o t y p e . _ h i d e M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( j . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " s h o w - m e s s a g e s " ) . a d d C l a s s ( " h i d e - m e s s a g e s " ) } , i } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ p o p o v e r ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p u b s u b " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { C O U N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o u n t - c o n t a i n e r " ] ' } , f = f u n c t i o n ( ) { c . p u b l i s h ( d . T O G G L E _ V I S I B I L I T Y ) } , g = f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( ) { v a r   b = a . f i n d ( e . C O U N T _ C O N T A I N E R ) , c = p a r s e I n t ( b . t e x t ( ) , 1 0 ) ; i s N a N ( c ) ? b . a d d C l a s s ( " h i d d e n " ) : ! c | | c < 2 ? b . a d d C l a s s ( " h i d d e n " ) : ( c - = 1 , b . t e x t ( c ) ) } } , h = f u n c t i o n ( a ) { b . d e f i n e ( a , [ b . e v e n t s . a c t i v a t e ] ) , a . o n ( b . e v e n t s . a c t i v a t e , f u n c t i o n ( a , b ) { f ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , c . s u b s c r i b e ( d . C O N V E R S A T I O N _ R E A D , g ( a ) ) , c . s u b s c r i b e ( d . C O N T A C T _ R E Q U E S T _ A C C E P T E D , g ( a ) ) , c . s u b s c r i b e ( d . C O N T A C T _ R E Q U E S T _ D E C L I N E D , g ( a ) ) } , i = f u n c t i o n ( b ) { b = a ( b ) , h ( b ) } ; r e t u r n { i n i t : i } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ a c t i o n s ' ,   [ " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { t h i s . m e s s a g e A r e a = a } v a r   c = { M E S S A G E S : " [ d a t a - r e g i o n = ' m e s s a g e s ' ] " } ; r e t u r n   b . p r o t o t y p e . m e s s a g e A r e a = n u l l , b . p r o t o t y p e . c h o o s e M e s s a g e s T o D e l e t e = f u n c t i o n ( ) { 0 ! = = t h i s . m e s s a g e A r e a . f i n d ( c . M E S S A G E S ) . l e n g t h & & t h i s . m e s s a g e A r e a . t r i g g e r ( a . C H O O S E M E S S A G E S T O D E L E T E ) } , b } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ s e t t i n g s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / p u b s u b " , " c o r e / t e m p l a t e s " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = { C H E C K B O X : ' i n p u t [ t y p e = " c h e c k b o x " ] ' , S E T T I N G S : ' [ d a t a - r e g i o n = " s e t t i n g s " ] ' , P R I V A C Y _ P R E F E R E N C E : ' [ d a t a - p r e f e r e n c e = " b l o c k n o n c o n t a c t s " ]   i n p u t [ t y p e = " r a d i o " ] ' , N O T I F I C A T I O N S _ P R E F E R E N C E : ' [ d a t a - p r e f e r e n c e = " n o t i f i c a t i o n s " ]   i n p u t [ t y p e = " c h e c k b o x " ] ' , E N T E R _ T O _ S E N D _ P R E F E R E N C E : ' [ d a t a - p r e f e r e n c e = " e n t e r t o s e n d " ]   i n p u t [ t y p e = " c h e c k b o x " ] ' , N O T I F I C A T I O N _ P R E F E R E N C E S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - p r e f e r e n c e - c o n t a i n e r " ] ' , C O N T E N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - c o n t a i n e r " ] ' , P L A C E H O L D E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " p l a c e h o l d e r - c o n t a i n e r " ] ' } , j = { N O T I F I C A T I O N _ P R E F E R E N C E S : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ s e t t i n g s _ b o d y _ c o n t e n t _ n o t i f i c a t i o n _ p r e f e r e n c e s " } , k = " m e s s a g e _ p r o v i d e r _ m o o d l e _ i n s t a n t m e s s a g e " , l = f u n c t i o n ( b , c ) { v a r   d = b . f i n d ( i . P R I V A C Y _ P R E F E R E N C E ) ; d . e a c h ( f u n c t i o n ( b , d ) { d = a ( d ) , d . v a l ( ) = = c ? d . p r o p ( " c h e c k e d " , ! 0 ) : d . p r o p ( " c h e c k e d " , ! 1 ) } ) } , m = f u n c t i o n ( a , b ) { v a r   c = a . f i n d ( i . E N T E R _ T O _ S E N D _ P R E F E R E N C E ) ; b ? c . p r o p ( " c h e c k e d " , ! 0 ) : c . p r o p ( " c h e c k e d " , ! 1 ) } , n = f u n c t i o n ( a , c ) { r e t u r n   f . s a v e P r e f e r e n c e s ( a , c ) . t h e n ( f u n c t i o n ( ) { d . p u b l i s h ( h . P R E F E R E N C E S _ U P D A T E D , c ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , o = f u n c t i o n ( b , c ) { v a r   d = b . f i n d ( i . S E T T I N G S ) ; g . d e f i n e ( d , [ g . e v e n t s . a c t i v a t e ] ) , d . o n ( g . e v e n t s . a c t i v a t e , i . N O T I F I C A T I O N S _ P R E F E R E N C E , f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . N O T I F I C A T I O N _ P R E F E R E N C E S _ C O N T A I N E R ) , e = d . f i n d ( i . C H E C K B O X ) ; i f ( e . l e n g t h ) { v a r   f = e . t o A r r a y ( ) . r e d u c e ( f u n c t i o n ( b , c ) { r e t u r n   c = a ( c ) , c . p r o p ( " c h e c k e d " ) & & b . p u s h ( c . a t t r ( " d a t a - n a m e " ) ) , b } , [ ] ) , g = f . l e n g t h ? f . j o i n ( " , " ) : " n o n e " , h = [ { t y p e : " m e s s a g e _ p r o v i d e r _ m o o d l e _ i n s t a n t m e s s a g e _ l o g g e d o f f " , v a l u e : g } , { t y p e : " m e s s a g e _ p r o v i d e r _ m o o d l e _ i n s t a n t m e s s a g e _ l o g g e d i n " , v a l u e : g } ] ; n ( c , h ) } } ) , d . o n ( " c h a n g e " , i . P R I V A C Y _ P R E F E R E N C E , f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . v a l ( ) , e = [ { t y p e : " m e s s a g e _ b l o c k n o n c o n t a c t s " , v a l u e : d } ] ; n ( c , e ) } ) , d . o n ( g . e v e n t s . a c t i v a t e , i . E N T E R _ T O _ S E N D _ P R E F E R E N C E , f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . p r o p ( " c h e c k e d " ) , e = [ { t y p e : " m e s s a g e _ e n t e r t o s e n d " , v a l u e : d } ] ; n ( c , e ) } ) } , p = f u n c t i o n ( a , c ) { f . g e t U s e r M e s s a g e P r e f e r e n c e s ( c ) . t h e n ( f u n c t i o n ( b ) { l ( a , b . b l o c k n o n c o n t a c t s ) , m ( a , b . e n t e r t o s e n d ) ; v a r   c = [ ] ; b . p r e f e r e n c e s . c o m p o n e n t s . l e n g t h & & b . p r e f e r e n c e s . c o m p o n e n t s . f o r E a c h ( f u n c t i o n ( a ) { i f ( a . n o t i f i c a t i o n s . l e n g t h ) { v a r   b = a . n o t i f i c a t i o n s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . p r e f e r e n c e k e y = = k } ) ; i f ( b . l e n g t h ) { v a r   d = a . n o t i f i c a t i o n s [ 0 ] ; c = d . p r o c e s s o r s . m a p ( f u n c t i o n ( a ) { v a r   b = a . l o g g e d i n . c h e c k e d | | a . l o g g e d o f f . c h e c k e d ; r e t u r n { d i s p l a y n a m e : a . d i s p l a y n a m e , n a m e : a . n a m e , c h e c k e d : b , l o c k e d : a . l o c k e d , l o c k e d m e s s a g e : a . l o c k e d m e s s a g e | | n u l l } } ) } } } ) ; v a r   d = a . f i n d ( i . N O T I F I C A T I O N _ P R E F E R E N C E S _ C O N T A I N E R ) ; r e t u r n ! c . l e n g t h | | ( d . r e m o v e C l a s s ( " h i d d e n " ) , e . r e n d e r ( j . N O T I F I C A T I O N _ P R E F E R E N C E S , { p r o c e s s o r s : c } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . a p p e n d ( a ) , a } ) ) } ) . t h e n ( f u n c t i o n ( ) { a . f i n d ( i . C O N T E N T _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) , a . f i n d ( i . P L A C E H O L D E R _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) , o ( a , c ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , q = f u n c t i o n ( b , c , d ) { r e t u r n   c . a t t r ( " d a t a - i n i t " ) | | ( p ( c , d ) , c . a t t r ( " d a t a - i n i t " , ! 0 ) ) , a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) } , r = f u n c t i o n ( ) { r e t u r n   c . g e t _ s t r i n g ( " m e s s a g e d r a w e r v i e w s e t t i n g s " , " c o r e _ m e s s a g e " ) } ; r e t u r n { s h o w : q , d e s c r i p t i o n : r } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { v a r   d = { C O N T E N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - c o n t a i n e r " ] ' } , e = { C O N T E N T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t _ b o d y _ c o n t e n t " } , f = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( d . C O N T E N T _ C O N T A I N E R ) } , g = f u n c t i o n ( a , b ) { r e t u r n   c . r e n d e r ( e . C O N T E N T , b ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   f ( a ) . a p p e n d ( b ) , b } ) } , h = f u n c t i o n ( b , c ) { r e t u r n   b = a ( b ) , f ( b ) . e m p t y ( ) , g ( b , c ) } , i = f u n c t i o n ( a , c ) { r e t u r n   b . g e t _ s t r i n g ( " m e s s a g e d r a w e r v i e w c o n t a c t " , " c o r e _ m e s s a g e " , c . f u l l n a m e ) } ; r e t u r n { s h o w : h , d e s c r i p t i o n : i } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r e f e r e n c e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { P R O C E S S O R : " [ d a t a - p r o c e s s o r - n a m e ] " , S T A T E _ I N P U T S : " [ d a t a - s t a t e ]   i n p u t " } , f = f u n c t i o n ( b , c ) { t h i s . r o o t = a ( b ) , t h i s . u s e r I d = c } ; r e t u r n   f . p r o t o t y p e . g e t P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . a t t r ( " d a t a - p r e f e r e n c e - k e y " ) } , f . p r o t o t y p e . g e t L o g g e d I n P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . g e t P r e f e r e n c e K e y ( ) + " _ l o g g e d i n " } , f . p r o t o t y p e . g e t L o g g e d O f f P r e f e r e n c e K e y = f u n c t i o n ( ) { r e t u r n   t h i s . g e t P r e f e r e n c e K e y ( ) + " _ l o g g e d o f f " } , f . p r o t o t y p e . g e t P r o c e s s o r s = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . f i n d ( e . P R O C E S S O R ) . m a p ( f u n c t i o n ( b , c ) { r e t u r n   n e w   d ( a ( c ) ) } ) } , f . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . a d d C l a s s ( " l o a d i n g " ) , t h i s . r o o t . f i n d ( e . S T A T E _ I N P U T S ) . p r o p ( " d i s a b l e d " , ! 0 ) } , f . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e C l a s s ( " l o a d i n g " ) , t h i s . r o o t . f i n d ( e . S T A T E _ I N P U T S ) . p r o p ( " d i s a b l e d " , ! 1 ) } , f . p r o t o t y p e . i s L o a d i n g = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " l o a d i n g " ) } , f . p r o t o t y p e . s a v e = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g ( ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   d = " " , e = " " ; t h i s . g e t P r o c e s s o r s ( ) . e a c h ( f u n c t i o n ( a , b ) { b . i s L o g g e d I n E n a b l e d ( ) & & ( " " = = = d ? d = b . g e t N a m e ( ) : d + = " , " + b . g e t N a m e ( ) ) , b . i s L o g g e d O f f E n a b l e d ( ) & & ( " " = = = e ? e = b . g e t N a m e ( ) : e + = " , " + b . g e t N a m e ( ) ) } ) , " " = = = d & & ( d = " n o n e " ) , " " = = = e & & ( e = " n o n e " ) ; v a r   f = { u s e r i d : t h i s . u s e r I d , p r e f e r e n c e s : [ { t y p e : t h i s . g e t L o g g e d I n P r e f e r e n c e K e y ( ) , v a l u e : d } , { t y p e : t h i s . g e t L o g g e d O f f P r e f e r e n c e K e y ( ) , v a l u e : e } ] } , g = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : f } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) } , f } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n ' ,   [ " j q u e r y " , " c o r e / a u t o _ r o w s " , " c o r e / b a c k o f f _ t i m e r " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / n o t i f i c a t i o n " , " c o r e / p u b s u b " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ c o n s t a n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ p a t c h e r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ r e n d e r e r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ s t a t e _ m a n a g e r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m , n , o ) { v a r   p = { } , q = n u l l , r = ! 1 , s = 0 , t = n u l l , u = ! 0 , v = ! 1 , w = n u l l , x = j . N E W E S T _ M E S S A G E S _ F I R S T , y = j . L O A D _ M E S S A G E _ L I M I T , z = j . I N I T I A L _ N E W _ M E S S A G E _ P O L L _ T I M E O U T , A = j . S E L E C T O R S , B = j . C O N V E R S A T I O N _ T Y P E S , C = f u n c t i o n ( ) { i f ( ! q | | q . t y p e ! = B . P R I V A T E ) r e t u r n   n u l l ; v a r   a = q . l o g g e d I n U s e r I d , b = O b j e c t . k e y s ( q . m e m b e r s ) . f i l t e r ( f u n c t i o n ( b ) { r e t u r n   a ! = b } ) ; r e t u r n   b . l e n g t h ? b [ 0 ] : n u l l } , D = f u n c t i o n ( a ) { r e t u r n   O b j e c t . k e y s ( p ) . r e d u c e ( f u n c t i o n ( b , c ) { i f ( ! b ) { v a r   d = p [ c ] . s t a t e ; d . t y p e = = B . P R I V A T E & & a   i n   d . m e m b e r s & & ( b = d . i d ) } r e t u r n   b } , n u l l ) } , E = f u n c t i o n ( a ) { r e t u r n { i d : p a r s e I n t ( a . a t t r ( " d a t a - u s e r - i d " ) , 1 0 ) , f u l l n a m e : n u l l , p r o f i l e i m a g e u r l : n u l l , p r o f i l e i m a g e u r l s m a l l : n u l l , i s o n l i n e : n u l l , s h o w o n l i n e s t a t u s : n u l l , i s b l o c k e d : n u l l , i s c o n t a c t : n u l l , i s d e l e t e d : n u l l , c a n m e s s a g e : n u l l , r e q u i r e s c o n t a c t : n u l l , c o n t a c t r e q u e s t s : [ ] } } , F = f u n c t i o n ( ) { r e t u r n   s } , G = f u n c t i o n ( a ) { s = a , p [ q . i d ] . m e s s a g e s O f f s e t = a } , H = f u n c t i o n ( ) { r e t u r n   r } , I = f u n c t i o n ( a ) { r = a , p [ q . i d ] . l o a d e d A l l M e s s a g e s = a } , J = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( A . M E S S A G E S _ C O N T A I N E R ) } , K = f u n c t i o n ( b ) { r e t u r n { i d : b . i d , n a m e : b . n a m e , s u b n a m e : b . s u b n a m e , i m a g e U r l : b . i m a g e U r l , i s F a v o u r i t e : b . i s F a v o u r i t e , t y p e : b . t y p e , t o t a l M e m b e r C o u n t : b . t o t a l M e m b e r C o u n t , l o g g e d I n U s e r I d : b . l o g g e d I n U s e r I d , m e s s a g e s : b . m e s s a g e s . m a p ( f u n c t i o n ( b ) { r e t u r n   a . e x t e n d ( { } , b ) } ) , m e m b e r s : O b j e c t . k e y s ( b . m e m b e r s ) . r e d u c e ( f u n c t i o n ( c , d ) { r e t u r n   c [ d ] = a . e x t e n d ( { } , b . m e m b e r s [ d ] ) , c [ d ] . c o n t a c t r e q u e s t s = b . m e m b e r s [ d ] . c o n t a c t r e q u e s t s . m a p ( f u n c t i o n ( b ) { r e t u r n   a . e x t e n d ( { } , b ) } ) , c } , { } ) } } , L = f u n c t i o n ( a , b ) { v a r   c = a . i d , d = m . s e t L o a d i n g M e m b e r s ( q , ! 0 ) ; r e t u r n   d = m . s e t L o a d i n g M e s s a g e s ( d , ! 0 ) , w ( d ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . g e t M e m b e r I n f o ( c , [ b ] , ! 0 , ! 0 ) } ) . t h e n ( f u n c t i o n ( a ) { i f ( a . l e n g t h ) r e t u r n   a [ 0 ] ; t h r o w   n e w   E r r o r ( " U n a b l e   t o   l o a d   o t h e r   u s e r   p r o f i l e " ) } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = m . a d d M e m b e r s ( q , [ b , a ] ) ; r e t u r n   c = m . s e t L o a d i n g M e m b e r s ( c , ! 1 ) , c = m . s e t L o a d i n g M e s s a g e s ( c , ! 1 ) , c = m . s e t N a m e ( c , b . f u l l n a m e ) , c = m . s e t T y p e ( c , 1 ) , c = m . s e t I m a g e U r l ( c , b . p r o f i l e i m a g e u r l ) , c = m . s e t T o t a l M e m b e r C o u n t ( c , 2 ) , w ( c ) . t h e n ( f u n c t i o n ( ) { r e t u r n   b } ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g M e m b e r s ( q , ! 1 ) ; w ( b ) , e . e x c e p t i o n ( a ) } ) } , M = f u n c t i o n ( a , b ) { v a r   c = a . m e m b e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . i d ! = b } ) , d = c . l e n g t h ? c [ 0 ] : n u l l , e = a . n a m e , f = a . i m a g e u r l ; a . t y p e = = B . P R I V A T E & & ( e = e | | d ? d . f u l l n a m e : " " , f = f | | d ? d . p r o f i l e i m a g e u r l : " " ) ; v a r   g = m . a d d M e m b e r s ( q , a . m e m b e r s ) ; r e t u r n   g = m . s e t N a m e ( g , e ) , g = m . s e t S u b n a m e ( g , a . s u b n a m e ) , g = m . s e t T y p e ( g , a . t y p e ) , g = m . s e t I m a g e U r l ( g , f ) , g = m . s e t T o t a l M e m b e r C o u n t ( g , a . m e m b e r c o u n t ) , g = m . s e t I s F a v o u r i t e ( g , a . i s f a v o u r i t e ) , g = m . a d d M e s s a g e s ( g , a . m e s s a g e s ) } , N = f u n c t i o n ( a , b , c , d , f ) { v a r   g = b . i d , i = m . s e t L o a d i n g M e m b e r s ( q , ! 0 ) ; r e t u r n   i = m . s e t L o a d i n g M e s s a g e s ( i , ! 0 ) , w ( i ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . g e t C o n v e r s a t i o n ( g , a , ! 0 , ! 0 , 0 , 0 , c + 1 , d , f ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . m e s s a g e s . l e n g t h > c ? a . m e s s a g e s = a . m e s s a g e s . s l i c e ( 1 ) : I ( ! 0 ) , G ( d + c ) , a } ) . t h e n ( f u n c t i o n ( a ) { v a r   c = a . m e m b e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . i d = = b . i d } ) ; c . l e n g t h < 1 & & ( a . m e m b e r s = a . m e m b e r s . c o n c a t ( [ b ] ) ) ; v a r   d = M ( a , b . i d ) ; r e t u r n   d = m . s e t L o a d i n g M e m b e r s ( d , ! 1 ) , d = m . s e t L o a d i n g M e s s a g e s ( d , ! 1 ) , w ( d ) . t h e n ( f u n c t i o n ( ) { r e t u r n   a } ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   R ( a ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g M e m b e r s ( q , ! 1 ) ; b = m . s e t L o a d i n g M e s s a g e s ( b , ! 1 ) , w ( b ) , e . e x c e p t i o n ( a ) } ) } , O = f u n c t i o n ( a , b , c , d ) { v a r   f = a . m e m b e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . i d = = b . i d } ) ; f . l e n g t h < 1 & & ( a . m e m b e r s = a . m e m b e r s . c o n c a t ( [ b ] ) ) ; v a r   g = M ( a , b . i d ) ; g = m . s e t L o a d i n g M e m b e r s ( g , ! 1 ) , g = m . s e t L o a d i n g M e s s a g e s ( g , ! 0 ) ; v a r   h = a . m e s s a g e s . l e n g t h ; r e t u r n   w ( g ) . t h e n ( f u n c t i o n ( ) { i f ( h < c ) r e t u r n   P ( a . i d , c , h , d , [ ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . m e s s a g e s } ) ; v a r   b = m . s e t L o a d i n g M e s s a g e s ( q , ! 1 ) ; r e t u r n   w ( b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   a . m e s s a g e s } ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   G ( a . l e n g t h ) , a } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   R ( a . i d ) } ) [ " c a t c h " ] ( e . e x c e p t i o n ) } , P = f u n c t i o n ( a , b , c , d , e , f ) { r e t u r n   h . g e t M e s s a g e s ( q . l o g g e d I n U s e r I d , a , b ? b + 1 : b , c , d , f ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . m e s s a g e s . l e n g t h & & e . l e n g t h & & ( a . m e s s a g e s = a . m e s s a g e s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   e . i n d e x O f ( p a r s e I n t ( a . i d , 1 0 ) ) < 0 } ) ) , a } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b ? ( a . m e s s a g e s . l e n g t h > b ? a . m e s s a g e s = a . m e s s a g e s . s l i c e ( 0 , - 1 ) : I ( ! 0 ) , a ) : a } ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . m e m b e r s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n ! ( a . i d   i n   q . m e m b e r s ) } ) , c = m . a d d M e m b e r s ( q , b ) ; r e t u r n   c = m . a d d M e s s a g e s ( c , a . m e s s a g e s ) , c = m . s e t L o a d i n g M e s s a g e s ( c , ! 1 ) , w ( c ) . t h e n ( f u n c t i o n ( ) { r e t u r n   a } ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g M e s s a g e s ( q , ! 1 ) ; t h r o w   w ( b ) , a } ) } , Q = f u n c t i o n ( b , c ) { r e t u r n   f u n c t i o n ( ) { v a r   d = q . m e s s a g e s , e = d . l e n g t h ? d [ d . l e n g t h - 1 ] : n u l l ; i f ( e & & ! u & & ! v ) { f o r ( v a r   g = [ ] , h = d . l e n g t h - 1 ; h > = 0 ; h - - ) { v a r   j = d [ h ] ; i f ( j . t i m e C r e a t e d ! = = e . t i m e C r e a t e d ) b r e a k ; g . p u s h ( j . i d ) } r e t u r n   P ( b , 0 , 0 , c , g , e . t i m e C r e a t e d ) . t h e n ( f u n c t i o n ( a ) { i f ( a . m e s s a g e s . l e n g t h ) { t . r e s t a r t ( ) ; v a r   c = K ( q ) ; r e t u r n   f . p u b l i s h ( i . C O N V E R S A T I O N _ N E W _ L A S T _ M E S S A G E , c ) , R ( b ) } r e t u r n   a } ) } r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) } } , R = f u n c t i o n ( a ) { v a r   b = q . l o g g e d I n U s e r I d ; r e t u r n   h . m a r k A l l C o n v e r s a t i o n M e s s a g e s A s R e a d ( b , a ) . t h e n ( f u n c t i o n ( ) { v a r   b = m . m a r k M e s s a g e s A s R e a d ( q , q . m e s s a g e s ) ; r e t u r n   f . p u b l i s h ( i . C O N V E R S A T I O N _ R E A D , a ) , w ( b ) } ) } , S = f u n c t i o n ( a ) { r e t u r n   e a ( a ) . t h e n ( f u n c t i o n ( ) { v a r   b = m . a d d P e n d i n g B l o c k U s e r s B y I d ( q , [ a ] ) ; r e t u r n   w ( b ) } ) } , T = f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . b l o c k U s e r ( q . l o g g e d I n U s e r I d , a ) } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = m . a d d M e m b e r s ( q , [ b ] ) ; r e t u r n   c = m . r e m o v e P e n d i n g B l o c k U s e r s B y I d ( c , [ a ] ) , c = m . s e t L o a d i n g C o n f i r m A c t i o n ( c , ! 1 ) , f . p u b l i s h ( i . C O N T A C T _ B L O C K E D , a ) , w ( c ) } ) } , U = f u n c t i o n ( a ) { r e t u r n   e a ( a ) . t h e n ( f u n c t i o n ( ) { v a r   b = m . a d d P e n d i n g U n b l o c k U s e r s B y I d ( q , [ a ] ) ; r e t u r n   w ( b ) } ) } , V = f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . u n b l o c k U s e r ( q . l o g g e d I n U s e r I d , a ) } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = m . a d d M e m b e r s ( q , [ b ] ) ; r e t u r n   c = m . r e m o v e P e n d i n g U n b l o c k U s e r s B y I d ( c , [ a ] ) , c = m . s e t L o a d i n g C o n f i r m A c t i o n ( c , ! 1 ) , f . p u b l i s h ( i . C O N T A C T _ U N B L O C K E D , a ) , w ( c ) } ) } , W = f u n c t i o n ( a ) { r e t u r n   e a ( a ) . t h e n ( f u n c t i o n ( ) { v a r   b = m . a d d P e n d i n g R e m o v e C o n t a c t s B y I d ( q , [ a ] ) ; r e t u r n   w ( b ) } ) } , X = f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . d e l e t e C o n t a c t s ( q . l o g g e d I n U s e r I d , [ a ] ) } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = m . a d d M e m b e r s ( q , b ) ; r e t u r n   c = m . r e m o v e P e n d i n g R e m o v e C o n t a c t s B y I d ( c , [ a ] ) , c = m . s e t L o a d i n g C o n f i r m A c t i o n ( c , ! 1 ) , f . p u b l i s h ( i . C O N T A C T _ R E M O V E D , a ) , w ( c ) } ) } , Y = f u n c t i o n ( a ) { r e t u r n   e a ( a ) . t h e n ( f u n c t i o n ( ) { v a r   b = m . a d d P e n d i n g A d d C o n t a c t s B y I d ( q , [ a ] ) ; r e t u r n   w ( b ) } ) } , Z = f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . c r e a t e C o n t a c t R e q u e s t ( q . l o g g e d I n U s e r I d , a ) } ) . t h e n ( f u n c t i o n ( a ) { i f ( ! a . r e q u e s t ) t h r o w   n e w   E r r o r ( a . w a r n i n g s [ 0 ] . m e s s a g e ) ; r e t u r n   a . r e q u e s t } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = m . r e m o v e P e n d i n g A d d C o n t a c t s B y I d ( q , [ a ] ) ; r e t u r n   c = m . a d d C o n t a c t R e q u e s t s ( c , [ b ] ) , c = m . s e t L o a d i n g C o n f i r m A c t i o n ( c , ! 1 ) , w ( c ) } ) } , $ = f u n c t i o n ( ) { v a r   a = q . l o g g e d I n U s e r I d , b = q . i d ; r e t u r n   h . s e t F a v o u r i t e C o n v e r s a t i o n s ( a , [ b ] ) . t h e n ( f u n c t i o n ( ) { v a r   a = m . s e t I s F a v o u r i t e ( q , ! 0 ) ; r e t u r n   w ( a ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   f . p u b l i s h ( i . C O N V E R S A T I O N _ S E T _ F A V O U R I T E , K ( q ) ) } ) } , _ = f u n c t i o n ( ) { v a r   a = q . l o g g e d I n U s e r I d , b = q . i d ; r e t u r n   h . u n s e t F a v o u r i t e C o n v e r s a t i o n s ( a , [ b ] ) . t h e n ( f u n c t i o n ( ) { v a r   a = m . s e t I s F a v o u r i t e ( q , ! 1 ) ; r e t u r n   w ( a ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   f . p u b l i s h ( i . C O N V E R S A T I O N _ U N S E T _ F A V O U R I T E , K ( q ) ) } ) } , a a = f u n c t i o n ( a ) { v a r   b = q . s e l e c t e d M e s s a g e I d s ; r e t u r n   e a ( a ) . t h e n ( f u n c t i o n ( ) { v a r   a = m . a d d P e n d i n g D e l e t e M e s s a g e s B y I d ( q , b ) ; r e t u r n   w ( a ) } ) } , b a = f u n c t i o n ( ) { v a r   a = q . p e n d i n g D e l e t e M e s s a g e I d s , b = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . d e l e t e M e s s a g e s ( q . l o g g e d I n U s e r I d , a ) } ) . t h e n ( f u n c t i o n ( ) { v a r   b = m . r e m o v e M e s s a g e s B y I d ( q , a ) ; b = m . r e m o v e P e n d i n g D e l e t e M e s s a g e s B y I d ( b , a ) , b = m . r e m o v e S e l e c t e d M e s s a g e s B y I d ( b , a ) , b = m . s e t L o a d i n g C o n f i r m A c t i o n ( b , ! 1 ) ; v a r   c = q . m e s s a g e s [ q . m e s s a g e s . l e n g t h - 1 ] , d = b . m e s s a g e s . l e n g t h ? b . m e s s a g e s [ b . m e s s a g e s . l e n g t h - 1 ] : n u l l ; i f ( d & & d . i d ! = c . i d ) { v a r   e = K ( b ) ; f . p u b l i s h ( i . C O N V E R S A T I O N _ N E W _ L A S T _ M E S S A G E , e ) } e l s e   b . m e s s a g e s . l e n g t h | | f . p u b l i s h ( i . C O N V E R S A T I O N _ D E L E T E D , b . i d ) ; r e t u r n   w ( b ) } ) } , c a = f u n c t i o n ( a ) { r e t u r n   e a ( a ) . t h e n ( f u n c t i o n ( ) { v a r   a = m . s e t P e n d i n g D e l e t e C o n v e r s a t i o n ( q , ! 0 ) ; r e t u r n   w ( a ) } ) } , d a = f u n c t i o n ( ) { v a r   a = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( a ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . d e l e t e C o n v e r s a t i o n ( q . l o g g e d I n U s e r I d , q . i d ) } ) . t h e n ( f u n c t i o n ( ) { v a r   a = m . r e m o v e M e s s a g e s ( q , q . m e s s a g e s ) ; r e t u r n   a = m . r e m o v e S e l e c t e d M e s s a g e s B y I d ( a , q . s e l e c t e d M e s s a g e I d s ) , a = m . s e t P e n d i n g D e l e t e C o n v e r s a t i o n ( a , ! 1 ) , a = m . s e t L o a d i n g C o n f i r m A c t i o n ( a , ! 1 ) , f . p u b l i s h ( i . C O N V E R S A T I O N _ D E L E T E D , a . i d ) , w ( a ) } ) } , e a = f u n c t i o n ( a ) { v a r   b = q . p e n d i n g D e l e t e M e s s a g e I d s , c = m . r e m o v e P e n d i n g A d d C o n t a c t s B y I d ( q , [ a ] ) ; r e t u r n   c = m . r e m o v e P e n d i n g R e m o v e C o n t a c t s B y I d ( c , [ a ] ) , c = m . r e m o v e P e n d i n g U n b l o c k U s e r s B y I d ( c , [ a ] ) , c = m . r e m o v e P e n d i n g B l o c k U s e r s B y I d ( c , [ a ] ) , c = m . r e m o v e P e n d i n g D e l e t e M e s s a g e s B y I d ( c , b ) , c = m . s e t P e n d i n g D e l e t e C o n v e r s a t i o n ( c , ! 1 ) , w ( c ) } , f a = f u n c t i o n ( a ) { v a r   b = q . l o g g e d I n U s e r I d , c = q . m e m b e r s [ a ] . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . r e q u e s t e d u s e r i d = = b } ) , d = c [ 0 ] , e = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( e ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . a c c e p t C o n t a c t R e q u e s t ( a , b ) } ) . t h e n ( f u n c t i o n ( a ) { v a r   b = m . r e m o v e C o n t a c t R e q u e s t s ( q , [ d ] ) ; r e t u r n   b = m . a d d M e m b e r s ( q , [ a ] ) , b = m . s e t L o a d i n g C o n f i r m A c t i o n ( b , ! 1 ) , w ( b ) } ) . t h e n ( f u n c t i o n ( ) { f . p u b l i s h ( i . C O N T A C T _ A D D E D , q . m e m b e r s [ a ] ) , f . p u b l i s h ( i . C O N T A C T _ R E Q U E S T _ A C C E P T E D , d ) } ) } , g a = f u n c t i o n ( a ) { v a r   b = q . l o g g e d I n U s e r I d , c = q . m e m b e r s [ a ] . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . r e q u e s t e d u s e r i d = = b } ) , d = c [ 0 ] , e = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 0 ) ; r e t u r n   w ( e ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . d e c l i n e C o n t a c t R e q u e s t ( a , b ) } ) . t h e n ( f u n c t i o n ( a ) { v a r   b = m . r e m o v e C o n t a c t R e q u e s t s ( q , [ d ] ) ; r e t u r n   b = m . a d d M e m b e r s ( q , [ a ] ) , b = m . s e t L o a d i n g C o n f i r m A c t i o n ( b , ! 1 ) , w ( b ) } ) . t h e n ( f u n c t i o n ( ) { f . p u b l i s h ( i . C O N T A C T _ R E Q U E S T _ D E C L I N E D , d ) } ) } , h a = f u n c t i o n ( a , b ) { v = ! 0 ; v a r   c = m . s e t S e n d i n g M e s s a g e ( q , ! 0 ) , d = n u l l ; r e t u r n   w ( c ) . t h e n ( f u n c t i o n ( ) { i f ( a | | q . t y p e ! = B . P R I V A T E ) r e t u r n   h . s e n d M e s s a g e T o C o n v e r s a t i o n ( a , b ) ; v a r   c = C ( ) ; r e t u r n   h . s e n d M e s s a g e T o U s e r ( c , b ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d = p a r s e I n t ( a . c o n v e r s a t i o n i d , 1 0 ) , a } ) } ) . t h e n ( f u n c t i o n ( a ) { v a r   b = m . a d d M e s s a g e s ( q , [ a ] ) ; b = m . s e t S e n d i n g M e s s a g e ( b , ! 1 ) ; v a r   c = K ( b ) ; r e t u r n   b . i d | | ( b = m . s e t I d ( b , d ) , c . i d = d , x a ( d ) , f . p u b l i s h ( i . C O N V E R S A T I O N _ C R E A T E D , c ) ) , w ( b ) . t h e n ( f u n c t i o n ( ) { v = ! 1 , f . p u b l i s h ( i . C O N V E R S A T I O N _ N E W _ L A S T _ M E S S A G E , c ) } ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { v = ! 1 ; v a r   b = m . s e t S e n d i n g M e s s a g e ( q , ! 1 ) ; w ( b ) , e . e x c e p t i o n ( a ) } ) } , i a = f u n c t i o n ( a ) { v a r   b = q ; r e t u r n   b = q . s e l e c t e d M e s s a g e I d s . i n d e x O f ( a ) > - 1 ? m . r e m o v e S e l e c t e d M e s s a g e s B y I d ( q , [ a ] ) : m . a d d S e l e c t e d M e s s a g e s B y I d ( q , [ a ] ) , w ( b ) } , j a = f u n c t i o n ( ) { r e t u r n   e a ( C ( ) ) . t h e n ( f u n c t i o n ( ) { v a r   a = m . r e m o v e S e l e c t e d M e s s a g e s B y I d ( q , q . s e l e c t e d M e s s a g e I d s ) ; r e t u r n   w ( a ) } ) } , k a = f u n c t i o n ( a , b , c ) { r e t u r n   f u n c t i o n ( d ) { v a r   e = k . b u i l d P a t c h ( q , d ) ; r e t u r n   l . r e n d e r ( a , b , c , e ) . t h e n ( f u n c t i o n ( ) { q = d , d . i d & & ( p [ d . i d ] = { s t a t e : d , m e s s a g e s O f f s e t : F ( ) , l o a d e d A l l M e s s a g e s : H ( ) } ) } ) } } , l a = f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( b , c ) { q . l o a d i n g C o n f i r m A c t i o n | | a ( C ( ) ) [ " c a t c h " ] ( f u n c t i o n ( a ) { v a r   b = m . s e t L o a d i n g C o n f i r m A c t i o n ( q , ! 1 ) ; w ( b ) , e . e x c e p t i o n ( a ) } ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } } , m a = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) , e = d . c l o s e s t ( A . F O O T E R _ C O N T A I N E R ) , f = e . f i n d ( A . M E S S A G E _ T E X T _ A R E A ) , g = f . v a l ( ) . t r i m ( ) ; " " ! = = g & & h a ( q . i d , g ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } , n a = f u n c t i o n ( b , c ) { v a r   d = w i n d o w . g e t S e l e c t i o n ( ) , f = a ( b . t a r g e t ) ; i f ( " " = = d . t o S t r i n g ( ) & & ! f . i s ( " a " ) ) { v a r   g = f . c l o s e s t ( A . M E S S A G E ) , h = p a r s e I n t ( g . a t t r ( " d a t a - m e s s a g e - i d " ) , 1 0 ) ; i a ( h ) [ " c a t c h " ] ( e . e x c e p t i o n ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } } , o a = f u n c t i o n ( a , b ) { j a ( ) [ " c a t c h " ] ( e . e x c e p t i o n ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } , p a = f u n c t i o n ( a , b ) { v a r   c = C ( ) , d = q . m e m b e r s [ c ] ; n . g o ( o . V I E W _ C O N T A C T , d ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } , q a = f u n c t i o n ( a , b ) { $ ( ) [ " c a t c h " ] ( e . e x c e p t i o n ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } , r a = f u n c t i o n ( a , b ) { _ ( ) [ " c a t c h " ] ( e . e x c e p t i o n ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } , s a = f u n c t i o n ( a , b ) { n . g o ( o . V I E W _ G R O U P _ I N F O , { i d : q . i d , n a m e : q . n a m e , s u b n a m e : q . s u b n a m e , i m a g e U r l : q . i m a g e U r l , t o t a l M e m b e r C o u n t : q . t o t a l M e m b e r C o u n t } , q . l o g g e d I n U s e r I d ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } , t a = [ [ A . A C T I O N _ R E Q U E S T _ B L O C K , l a ( S ) ] , [ A . A C T I O N _ R E Q U E S T _ U N B L O C K , l a ( U ) ] , [ A . A C T I O N _ R E Q U E S T _ A D D _ C O N T A C T , l a ( Y ) ] , [ A . A C T I O N _ R E Q U E S T _ R E M O V E _ C O N T A C T , l a ( W ) ] , [ A . A C T I O N _ R E Q U E S T _ D E L E T E _ C O N V E R S A T I O N , l a ( c a ) ] , [ A . A C T I O N _ C A N C E L _ E D I T _ M O D E , o a ] , [ A . A C T I O N _ V I E W _ C O N T A C T , p a ] , [ A . A C T I O N _ V I E W _ G R O U P _ I N F O , s a ] , [ A . A C T I O N _ C O N F I R M _ F A V O U R I T E , q a ] , [ A . A C T I O N _ C O N F I R M _ U N F A V O U R I T E , r a ] ] , u a = [ [ A . A C T I O N _ C A N C E L _ C O N F I R M , l a ( e a ) ] , [ A . A C T I O N _ C O N F I R M _ B L O C K , l a ( T ) ] , [ A . A C T I O N _ C O N F I R M _ U N B L O C K , l a ( V ) ] , [ A . A C T I O N _ C O N F I R M _ A D D _ C O N T A C T , l a ( Z ) ] , [ A . A C T I O N _ C O N F I R M _ R E M O V E _ C O N T A C T , l a ( X ) ] , [ A . A C T I O N _ C O N F I R M _ D E L E T E _ S E L E C T E D _ M E S S A G E S , l a ( b a ) ] , [ A . A C T I O N _ C O N F I R M _ D E L E T E _ C O N V E R S A T I O N , l a ( d a ) ] , [ A . A C T I O N _ R E Q U E S T _ A D D _ C O N T A C T , l a ( Y ) ] , [ A . A C T I O N _ A C C E P T _ C O N T A C T _ R E Q U E S T , l a ( f a ) ] , [ A . A C T I O N _ D E C L I N E _ C O N T A C T _ R E Q U E S T , l a ( g a ) ] , [ A . M E S S A G E , n a ] ] , v a = [ [ A . S E N D _ M E S S A G E _ B U T T O N , m a ] , [ A . A C T I O N _ R E Q U E S T _ D E L E T E _ S E L E C T E D _ M E S S A G E S , l a ( a a ) ] , [ A . A C T I O N _ R E Q U E S T _ A D D _ C O N T A C T , l a ( Y ) ] , [ A . A C T I O N _ R E Q U E S T _ U N B L O C K , l a ( U ) ] ] , w a = f u n c t i o n ( a , c , g ) { v a r   h = ! 1 , j = J ( c ) ; b . i n i t ( g ) , d . d e f i n e ( a , [ d . e v e n t s . a c t i v a t e ] ) , d . d e f i n e ( c , [ d . e v e n t s . a c t i v a t e ] ) , d . d e f i n e ( g , [ d . e v e n t s . a c t i v a t e , d . e v e n t s . e n t e r ] ) , d . d e f i n e ( j , [ d . e v e n t s . s c r o l l T o p , d . e v e n t s . s c r o l l L o c k ] ) , j . o n ( d . e v e n t s . s c r o l l T o p , f u n c t i o n ( a , b ) { v a r   c = O b j e c t . k e y s ( q . m e m b e r s ) . l e n g t h > 1 ; i f ( ! u & & ! h & & ! H ( ) & & c ) { h = ! 0 ; v a r   d = m . s e t L o a d i n g M e s s a g e s ( q , ! 0 ) ; w ( d ) . t h e n ( f u n c t i o n ( ) { r e t u r n   P ( q . i d , y , F ( ) , x , [ ] ) } ) . t h e n ( f u n c t i o n ( ) { h = ! 1 , G ( F ( ) + y ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { h = ! 1 , e . e x c e p t i o n ( a ) } ) } b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , t a . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = b [ 0 ] , e = b [ 1 ] ; a . o n ( d . e v e n t s . a c t i v a t e , c , e ) } ) , u a . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] , e = a [ 1 ] ; c . o n ( d . e v e n t s . a c t i v a t e , b , e ) } ) , v a . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] , c = a [ 1 ] ; g . o n ( d . e v e n t s . a c t i v a t e , b , c ) } ) , g . o n ( d . e v e n t s . e n t e r , A . M E S S A G E _ T E X T _ A R E A , f u n c t i o n ( a , b ) { v a r   c = g . a t t r ( " d a t a - e n t e r - t o - s e n d " ) ; c & & " f a l s e " ! = c & & " 0 " ! = c & & m a ( a , b ) } ) , f . s u b s c r i b e ( i . R O U T E _ C H A N G E D , f u n c t i o n ( a ) { t & & a . r o u t e ! = o . V I E W _ C O N V E R S A T I O N & & t . s t o p ( ) } ) } , x a = f u n c t i o n ( a ) { t & & t . s t o p ( ) , t = n e w   c ( Q ( a , x ) , f u n c t i o n ( a ) { r e t u r n   a ? 2 * a : z } ) , t . s t a r t ( ) } , y a = f u n c t i o n ( a , b , c ) { v a r   d = c . i d , e = p a r s e I n t ( a . a t t r ( " d a t a - m i d n i g h t " ) , 1 0 ) , f = m . b u i l d I n i t i a l S t a t e ( e , d , b ) ; r e t u r n   q | | ( q = f ) , t & & t . s t o p ( ) , w ( f ) } , z a = f u n c t i o n ( a , b , c ) { r e t u r n   y a ( a , n u l l , b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   h . g e t C o n v e r s a t i o n B e t w e e n U s e r s ( b . i d , c , ! 0 , ! 0 , 0 , 0 , y , 0 , x ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   B a ( a , c , b ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { r e t u r n   L ( b , c ) } ) } ) } , A a = f u n c t i o n ( a , b , c ) { v a r   d = n u l l ; r e t u r n   b   i n   p & & ( d = p [ b ] ) , y a ( a , b , c ) . t h e n ( f u n c t i o n ( ) { i f ( d ) { v a r   a = d . s t a t e ; r e t u r n   a = m . s e t L o a d i n g M e s s a g e s ( a , ! 1 ) , a = m . s e t L o a d i n g M e m b e r s ( a , ! 1 ) , G ( d . m e s s a g e s O f f s e t ) , I ( d . l o a d e d A l l M e s s a g e s ) , w ( a ) } r e t u r n   N ( b , c , y , 0 , x ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   x a ( b ) } ) } , B a = f u n c t i o n ( a , b , c ) { v a r   d = n u l l ; r e t u r n   b . i d   i n   p & & ( d = p [ b . i d ] ) , y a ( a , b . i d , c ) . t h e n ( f u n c t i o n ( ) { i f ( d ) { v a r   a = d . s t a t e ; r e t u r n   a = m . s e t L o a d i n g M e s s a g e s ( a , ! 1 ) , a = m . s e t L o a d i n g M e m b e r s ( a , ! 1 ) , G ( d . m e s s a g e s O f f s e t ) , I ( d . l o a d e d A l l M e s s a g e s ) , w ( a ) } r e t u r n   O ( b , c , y , x ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   x a ( b . i d ) } ) } , C a = f u n c t i o n ( b , c , d , f , g , h ) { v a r   i = n u l l , k = n u l l ; f & & n u l l ! = = f & & " o b j e c t " = = t y p e o f   f ? ( i = f , k = p a r s e I n t ( i . i d , 1 0 ) ) : ( i = n u l l , k = p a r s e I n t ( f , 1 0 ) , k = i s N a N ( k ) ? n u l l : k ) , ! k & & g & & h & & ( k = D ( h ) ) , c . a t t r ( " d a t a - i n i t " ) | | ( w = k a ( b , c , d ) , w a ( b , c , d ) , c . a t t r ( " d a t a - i n i t " , ! 0 ) ) ; v a r   l = ! q | | q . i d ! = k | | h & & h ! = C ( ) ; i f ( l ) { u = ! 0 ; v a r   m = n u l l , n = E ( c ) ; r e t u r n   m = i ? B a ( c , i , n , h ) : k ? A a ( c , k , n , h ) : z a ( c , n , h ) , m . t h e n ( f u n c t i o n ( ) { u = ! 1 , b . f i n d ( j . S E L E C T O R S . C A N _ R E C E I V E _ F O C U S ) . f i r s t ( ) . f o c u s ( ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { u = ! 1 , e . e x c e p t i o n ( a ) } ) } i f ( x a ( k ) , q . t y p e = = B . P R I V A T E & & g ) { v a r   o = C ( ) ; s w i t c h ( g ) { c a s e " b l o c k " : r e t u r n   S ( o ) ; c a s e " u n b l o c k " : r e t u r n   U ( o ) ; c a s e " a d d - c o n t a c t " : r e t u r n   Y ( o ) ; c a s e " r e m o v e - c o n t a c t " : r e t u r n   W ( o ) } } r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) } , D a = f u n c t i o n ( ) { r e t u r n   g . g e t _ s t r i n g ( " m e s s a g e d r a w e r v i e w c o n v e r s a t i o n " , " c o r e _ m e s s a g e " , q . n a m e ) } ; r e t u r n { s h o w : C a , d e s c r i p t i o n : D a } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / p r e f e r e n c e s _ p r o c e s s o r _ f o r m ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r - i d " ) , t h i s . n a m e = t h i s . r o o t . a t t r ( " d a t a - p r o c e s s o r - n a m e " ) , t h i s . r o o t . f i n d ( " f o r m " ) . o n ( " s u b m i t " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , t h i s . s a v e ( ) . d o n e ( f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " m p p : f o r m s u b m i t t e d " ) } ) } . b i n d ( t h i s ) ) ; v a r   c = t h i s . r o o t . f i n d ( " [ d a t a - c a n c e l - b u t t o n ] " ) ; d . d e f i n e ( c , [ d . e v e n t s . a c t i v a t e ] ) , c . o n ( d . e v e n t s . a c t i v a t e , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " m p p : f o r m c a n c e l l e d " ) } ) } ; r e t u r n   e . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . a d d C l a s s ( " l o a d i n g " ) } , e . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e C l a s s ( " l o a d i n g " ) } , e . p r o t o t y p e . i s L o a d i n g = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " l o a d i n g " ) } , e . p r o t o t y p e . s a v e = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g ( ) ) r e t u r n   a . D e f e r r e d ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   d = t h i s . r o o t . f i n d ( " f o r m " ) . s e r i a l i z e A r r a y ( ) , e = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m e s s a g e _ p r o c e s s o r _ c o n f i g _ f o r m " , a r g s : { u s e r i d : t h i s . u s e r I d , n a m e : t h i s . n a m e , f o r m v a l u e s : d } } ; r e t u r n   b . c a l l ( [ e ] ) [ 0 ] . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) } , e } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ o v e r v i e w _ s e c t i o n ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / n o t i f i c a t i o n " , " c o r e / p u b s u b " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " c o r e / u s e r _ d a t e " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ l a z y _ l o a d _ l i s t " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ c o n s t a n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m ) { v a r   n = { T O G G L E : ' [ d a t a - r e g i o n = " t o g g l e " ] ' , C O N V E R S A T I O N : " [ d a t a - c o n v e r s a t i o n - i d ] " , B L O C K E D _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t a c t - i c o n - b l o c k e d " ] ' , L A S T _ M E S S A G E : ' [ d a t a - r e g i o n = " l a s t - m e s s a g e " ] ' , L A S T _ M E S S A G E _ D A T E : ' [ d a t a - r e g i o n = " l a s t - m e s s a g e - d a t e " ] ' , U N R E A D _ C O U N T : ' [ d a t a - r e g i o n = " u n r e a d - c o u n t " ] ' , S E C T I O N _ T O T A L _ C O U N T : ' [ d a t a - r e g i o n = " s e c t i o n - t o t a l - c o u n t " ] ' , S E C T I O N _ T O T A L _ C O U N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " s e c t i o n - t o t a l - c o u n t - c o n t a i n e r " ] ' , S E C T I O N _ U N R E A D _ C O U N T : ' [ d a t a - r e g i o n = " s e c t i o n - u n r e a d - c o u n t " ] ' , P L A C E H O L D E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " p l a c e h o l d e r - c o n t a i n e r " ] ' } , o = { C O N V E R S A T I O N S _ L I S T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ c o n v e r s a t i o n s _ l i s t " , C O N V E R S A T I O N S _ L I S T _ I T E M S _ P L A C E H O L D E R : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ c o n v e r s a t i o n s _ l i s t _ i t e m s _ p l a c e h o l d e r " } , p = 5 0 , q = { } , r = ! 1 , s = ! 1 , t = f u n c t i o n ( a ) { r e t u r n   l . g e t R o o t ( a ) . h a s C l a s s ( " s h o w " ) } , u = f u n c t i o n ( a ) { a . a d d C l a s s ( " e x p a n d e d " ) } , v = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " e x p a n d e d " ) } , w = f u n c t i o n ( a , b ) { v a r   c = a . f i n d ( n . S E C T I O N _ T O T A L _ C O U N T _ C O N T A I N E R ) , d = c . f i n d ( n . S E C T I O N _ T O T A L _ C O U N T ) ; d . t e x t ( b ) , c . r e m o v e C l a s s ( " h i d d e n " ) ; v a r   e = b > 2 0 ? 2 0 : b , g = A r r a y . a p p l y ( n u l l , A r r a y ( e ) ) . m a p ( f u n c t i o n ( ) { r e t u r n ! 0 } ) ; f . r e n d e r ( o . C O N V E R S A T I O N S _ L I S T _ I T E M S _ P L A C E H O L D E R , { p l a c e h o l d e r s : g } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = a . f i n d ( n . P L A C E H O L D E R _ C O N T A I N E R ) ; c . h t m l ( b ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { } ) } , x = f u n c t i o n ( a , b ) { v a r   c = a . f i n d ( n . S E C T I O N _ U N R E A D _ C O U N T ) ; c . t e x t ( b ) , b > 0 & & c . r e m o v e C l a s s ( " h i d d e n " ) } , y = f u n c t i o n ( b , d , e ) { v a r   g = d . m a p ( f u n c t i o n ( b ) { v a r   c = b . m e s s a g e s . l e n g t h ? b . m e s s a g e s [ b . m e s s a g e s . l e n g t h - 1 ] : n u l l , d = { i d : b . i d , i m a g e u r l : b . i m a g e u r l , n a m e : b . n a m e , s u b n a m e : b . s u b n a m e , u n r e a d c o u n t : b . u n r e a d c o u n t , l a s t m e s s a g e d a t e : c ? c . t i m e c r e a t e d : n u l l , s e n t f r o m c u r r e n t u s e r : c ? c . u s e r i d f r o m = = e : n u l l , l a s t m e s s a g e : c ? a ( c . t e x t ) . t e x t ( ) | | c . t e x t : n u l l } ; i f ( b . t y p e = = m . C O N V E R S A T I O N _ T Y P E S . P R I V A T E ) { v a r   f = b . m e m b e r s . r e d u c e ( f u n c t i o n ( a , b ) { r e t u r n   a | | b . i d = = e | | ( a = b ) , a } , n u l l ) ; d . u s e r i d = f . i d , d . s h o w o n l i n e s t a t u s = f . s h o w o n l i n e s t a t u s , d . i s o n l i n e = f . i s o n l i n e , d . i s b l o c k e d = f . i s b l o c k e d } r e t u r n   b . t y p e = = m . C O N V E R S A T I O N _ T Y P E S . P U B L I C & & ( d . l a s t s e n d e r n a m e = b . m e m b e r s . r e d u c e ( f u n c t i o n ( a , b ) { r e t u r n   a | | b . i d ! = c . u s e r i d f r o m | | ( a = b . f u l l n a m e ) , a } , n u l l ) ) , d } ) ; r e t u r n   f . r e n d e r ( o . C O N V E R S A T I O N S _ L I S T , { c o n v e r s a t i o n s : g } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b . a p p e n d ( a ) , a } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } , z = f u n c t i o n ( a , b , d ) { r e t u r n   f u n c t i o n ( e , f ) { r e t u r n   h . g e t C o n v e r s a t i o n s ( f , a , p + 1 , d , b ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . c o n v e r s a t i o n s ; r e t u r n   b . l e n g t h > p ? b = b . s l i c e ( 0 , - 1 ) : l . s e t L o a d e d A l l ( e , ! 0 ) , d + = p , b . f o r E a c h ( f u n c t i o n ( a ) { q [ a . i d ] = a } ) , b } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } } , A = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( n . S E C T I O N _ T O T A L _ C O U N T ) } , B = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( n . S E C T I O N _ U N R E A D _ C O U N T ) } , C = f u n c t i o n ( a ) { i f ( r ) { v a r   b = A ( a ) , c = p a r s e I n t ( b . t e x t ( ) ) ; c + = 1 , b . t e x t ( c ) } } , D = f u n c t i o n ( a ) { i f ( r ) { v a r   b = A ( a ) , c = p a r s e I n t ( b . t e x t ( ) ) ; c - = 1 , b . t e x t ( c ) } } , E = f u n c t i o n ( a ) { i f ( s ) { v a r   b = B ( a ) , c = p a r s e I n t ( b . t e x t ( ) ) ; c - = 1 , b . t e x t ( c ) , c < 1 & & b . a d d C l a s s ( " h i d d e n " ) } } , F = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - c o n v e r s a t i o n - i d = " ' + b + ' " ] ' ) } , G = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - u s e r - i d = " ' + b + ' " ] ' ) } , H = f u n c t i o n ( a ) { a . f i n d ( n . B L O C K E D _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , I = f u n c t i o n ( a ) { a . f i n d ( n . B L O C K E D _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , J = f u n c t i o n ( b , c ) { v a r   d , f = c . m e s s a g e s [ c . m e s s a g e s . l e n g t h - 1 ] , h = " " ; d = f . f r o m L o g g e d I n U s e r ? { k e y : " y o u " , c o m p o n e n t : " c o r e _ m e s s a g e " } : { k e y : " s e n d e r " , c o m p o n e n t : " c o r e _ m e s s a g e " , p a r a m : f . u s e r F r o m . f u l l n a m e } ; v a r   i = [ d , { k e y : " s t r f t i m e t i m e 2 4 " , c o m p o n e n t : " c o r e _ l a n g c o n f i g " } ] ; r e t u r n   e . g e t _ s t r i n g s ( i ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   h = a [ 0 ] , g . g e t ( [ { t i m e s t a m p : f . t i m e C r e a t e d , f o r m a t : a [ 1 ] } ] ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a [ 0 ] } ) . t h e n ( f u n c t i o n ( d ) { b . f i n d ( n . L A S T _ M E S S A G E _ D A T E ) . t e x t ( d ) . r e m o v e C l a s s ( " h i d d e n " ) , f . f r o m L o g g e d I n U s e r | | c . t y p e ! = = m . C O N V E R S A T I O N _ T Y P E S . P R I V A T E | | ( h = " " ) ; v a r   e = h + "   < s p a n   c l a s s = ' t e x t - m u t e d ' > " + a ( f . t e x t ) . t e x t ( ) + " < / s p a n > " ; r e t u r n   b . f i n d ( n . L A S T _ M E S S A G E ) . h t m l ( e ) } ) } , K = f u n c t i o n ( b , d ) { v a r   e = b . f i n d ( n . C O N V E R S A T I O N ) , g = " " ; i f ( ! e . l e n g t h ) { v a r   h = l . g e t R o o t ( b ) ; l . s h o w C o n t e n t ( h ) , l . h i d e E m p t y M e s s a g e ( h ) } v a r   i = d . m e s s a g e s . l e n g t h , j = i ? d . m e s s a g e s [ i - 1 ] : n u l l ; j & & ( g = a ( j . t e x t ) . t e x t ( ) | | j . t e x t ) ; v a r   k = { i d : d . i d , n a m e : d . n a m e , s u b n a m e : d . s u b n a m e , l a s t m e s s a g e d a t e : j ? j . t i m e C r e a t e d : n u l l , s e n t f r o m c u r r e n t u s e r : j ? j . f r o m L o g g e d I n U s e r : n u l l , l a s t m e s s a g e : g , i m a g e u r l : d . i m a g e U r l } ; r e t u r n   q [ d . i d ] = d , f . r e n d e r ( o . C O N V E R S A T I O N S _ L I S T , { c o n v e r s a t i o n s : [ k ] } ) . t h e n ( f u n c t i o n ( a ) { v a r   c = l . g e t C o n t e n t C o n t a i n e r ( b ) ; r e t u r n   c . p r e p e n d ( a ) } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   C ( b ) } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } , L = f u n c t i o n ( a , b ) { b . r e m o v e ( ) , D ( a ) ; v a r   c = a . f i n d ( n . C O N V E R S A T I O N ) ; i f ( ! c . l e n g t h ) { v a r   d = l . g e t R o o t ( a ) ; l . h i d e C o n t e n t ( d ) , l . s h o w E m p t y M e s s a g e ( d ) } } , M = f u n c t i o n ( a , b ) { v a r   c = b . f i n d ( n . U N R E A D _ C O U N T ) ; c . t e x t ( " 0 " ) , c . a d d C l a s s ( " h i d d e n " ) , E ( a ) } , N = f u n c t i o n ( c , e , f , g ) { v a r   h = l . g e t R o o t ( c ) , m = c . f i n d ( n . T O G G L E ) ; c . c s s ( " m i n - h e i g h t " , m . o u t e r H e i g h t ( ) ) , c . o n ( " s h o w . b s . c o l l a p s e " , f u n c t i o n ( ) { u ( c ) , l . s h o w ( h , e , y ) } ) , c . o n ( " h i d d e n . b s . c o l l a p s e " , f u n c t i o n ( ) { v ( c ) } ) , d . s u b s c r i b e ( i . C O N T A C T _ B L O C K E D , f u n c t i o n ( a ) { v a r   b = G ( c , a ) ; b . l e n g t h & & H ( b ) } ) , d . s u b s c r i b e ( i . C O N T A C T _ U N B L O C K E D , f u n c t i o n ( a ) { v a r   b = G ( c , a ) ; b . l e n g t h & & I ( b ) } ) , d . s u b s c r i b e ( i . C O N V E R S A T I O N _ N E W _ L A S T _ M E S S A G E , f u n c t i o n ( a ) { i f ( ! ( f & & a . t y p e ! = f | | g & & ! a . i s F a v o u r i t e | | ! g & & a . i s F a v o u r i t e ) ) { v a r   b = a . i d , d = F ( c , b ) ; d . l e n g t h ? J ( d , a ) : K ( c , a ) } } ) , d . s u b s c r i b e ( i . C O N V E R S A T I O N _ D E L E T E D , f u n c t i o n ( a ) { v a r   b = F ( c , a ) ; b . l e n g t h & & L ( c , b ) } ) , d . s u b s c r i b e ( i . C O N V E R S A T I O N _ R E A D , f u n c t i o n ( a ) { v a r   b = F ( c , a ) ; b . l e n g t h & & M ( c , b ) } ) , d . s u b s c r i b e ( i . C O N V E R S A T I O N _ S E T _ F A V O U R I T E , f u n c t i o n ( a ) { v a r   b = n u l l ; ! g | | f & & f ! = a . t y p e ? f = = a . t y p e & & ( b = F ( c , a . i d ) , b . l e n g t h & & L ( c , b ) ) : ( b = F ( c , a . i d ) , b . l e n g t h | | K ( c , a ) ) } ) , d . s u b s c r i b e ( i . C O N V E R S A T I O N _ U N S E T _ F A V O U R I T E , f u n c t i o n ( a ) { v a r   b = n u l l ; g ? ( b = F ( c , a . i d ) , b . l e n g t h & & L ( c , b ) ) : f = = a . t y p e & & ( b = F ( c , a . i d ) , b . l e n g t h | | K ( c , a ) ) } ) , b . d e f i n e ( c , [ b . e v e n t s . a c t i v a t e ] ) , c . o n ( b . e v e n t s . a c t i v a t e , n . C O N V E R S A T I O N , f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( n . C O N V E R S A T I O N ) , e = d . a t t r ( " d a t a - c o n v e r s a t i o n - i d " ) , f = q [ e ] ; j . g o ( k . V I E W _ C O N V E R S A T I O N , f ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) } , O = f u n c t i o n ( b , c , d , e , f ) { i f ( b = a ( b ) , ! b . a t t r ( " d a t a - i n i t " ) ) { v a r   g = z ( c , d , 0 ) ; i f ( N ( b , g , c , d ) , t ( b ) ) { u ( b ) ; v a r   h = l . g e t R o o t ( b ) ; l . s h o w ( h , g , y ) } e . t h e n ( f u n c t i o n ( a ) { w ( b , a ) , r = ! 0 } ) [ " c a t c h " ] ( f u n c t i o n ( ) { } ) , f . t h e n ( f u n c t i o n ( a ) { x ( b , a ) , s = ! 0 } ) [ " c a t c h " ] ( f u n c t i o n ( ) { } ) , b . a t t r ( " d a t a - i n i t " , ! 0 ) } } ; r e t u r n { s h o w : O , i s V i s i b l e : t } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = { P R I V A T E : 1 , P U B L I C : 2 } , e = f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a . l i m i t & & ( a . l i m i t = 0 ) , " u n d e f i n e d " = = t y p e o f   a . o f f s e t & & ( a . o f f s e t = 0 ) , " u n d e f i n e d " = = t y p e o f   a . t y p e & & ( a . t y p e = n u l l ) , " u n d e f i n e d " = = t y p e o f   a . f a v o u r i t e s o n l y & & ( a . f a v o u r i t e s o n l y = ! 1 ) , a . l i m i t f r o m = a . o f f s e t , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , d e l e t e   a . o f f s e t ; v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ c o n v e r s a t i o n s " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } , f = f u n c t i o n ( a ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ u n r e a d _ c o n v e r s a t i o n s _ c o u n t " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } , g = f u n c t i o n ( a ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ a l l _ m e s s a g e s _ a s _ r e a d " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } , h = f u n c t i o n ( a , c , d ) { v a r   e = { u s e r i d : a } ; " u n d e f i n e d " ! = t y p e o f   c & & ( e . l i m i t n u m = c ) , " u n d e f i n e d " ! = t y p e o f   d & & ( e . l i m i t f r o m = d ) ; v a r   f = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ u s e r _ c o n t a c t s " , a r g s : e } ; r e t u r n   b . c a l l ( [ f ] ) [ 0 ] } , i = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ g e t _ p r o f i l e " , a r g s : { c u r r e n t u s e r i d : a , o t h e r u s e r i d : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , j = f u n c t i o n ( c , d ) { v a r   e = [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ b l o c k _ u s e r " , a r g s : { u s e r i d : c , b l o c k e d u s e r i d : d } } , { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e m b e r _ i n f o " , a r g s : { r e f e r e n c e u s e r i d : c , u s e r i d s : [ d ] , i n c l u d e c o n t a c t r e q u e s t s : ! 0 , i n c l u d e p r i v a c y i n f o : ! 0 } } ] ; r e t u r n   a . w h e n . a p p l y ( n u l l , b . c a l l ( e ) ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   b . l e n g t h ? b [ 0 ] : { } } ) } , k = f u n c t i o n ( c , d ) { v a r   e = [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ u n b l o c k _ u s e r " , a r g s : { u s e r i d : c , u n b l o c k e d u s e r i d : d } } , { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e m b e r _ i n f o " , a r g s : { r e f e r e n c e u s e r i d : c , u s e r i d s : [ d ] , i n c l u d e c o n t a c t r e q u e s t s : ! 0 , i n c l u d e p r i v a c y i n f o : ! 0 } } ] ; r e t u r n   a . w h e n . a p p l y ( n u l l , b . c a l l ( e ) ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   b . l e n g t h ? b [ 0 ] : { } } ) } , l = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ c r e a t e _ c o n t a c t _ r e q u e s t " , a r g s : { u s e r i d : a , r e q u e s t e d u s e r i d : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , m = f u n c t i o n ( c , d ) { v a r   e = [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ c o n t a c t s " , a r g s : { u s e r i d : c , u s e r i d s : d } } , { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e m b e r _ i n f o " , a r g s : { r e f e r e n c e u s e r i d : c , u s e r i d s : d , i n c l u d e c o n t a c t r e q u e s t s : ! 0 , i n c l u d e p r i v a c y i n f o : ! 0 } } ] ; r e t u r n   a . w h e n . a p p l y ( n u l l , b . c a l l ( e ) ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   b } ) } , n = f u n c t i o n ( a , c , d , e , f , g ) { v a r   h = { c u r r e n t u s e r i d : a , c o n v i d : c , n e w e s t : ! ! f } ; " u n d e f i n e d " ! = t y p e o f   d & & ( h . l i m i t n u m = d ) , " u n d e f i n e d " ! = t y p e o f   e & & ( h . l i m i t f r o m = e ) , " u n d e f i n e d " ! = t y p e o f   g & & ( h . t i m e f r o m = g ) ; v a r   i = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n v e r s a t i o n _ m e s s a g e s " , a r g s : h } ; r e t u r n   b . c a l l ( [ i ] ) [ 0 ] } , o = f u n c t i o n ( a , c , d , e ) { v a r   f = { u s e r i d : a , s e a r c h : c } ; " u n d e f i n e d " ! = t y p e o f   d & & ( f . l i m i t n u m = d ) , " u n d e f i n e d " ! = t y p e o f   e & & ( f . l i m i t f r o m = e ) ; v a r   g = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m e s s a g e _ s e a r c h _ u s e r s " , a r g s : f } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] } , p = f u n c t i o n ( a , c , d , e ) { v a r   f = { u s e r i d : a , s e a r c h : c } ; " u n d e f i n e d " ! = t y p e o f   d & & ( f . l i m i t n u m = d ) , " u n d e f i n e d " ! = t y p e o f   e & & ( f . l i m i t f r o m = e ) ; v a r   g = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ s e a r c h _ m e s s a g e s " , a r g s : f } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] } , q = f u n c t i o n ( a , c ) { v a r   d = c . m a p ( f u n c t i o n ( b ) { r e t u r n { t o u s e r i d : a , t e x t : b } } ) , e = { m e t h o d n a m e : " c o r e _ m e s s a g e _ s e n d _ i n s t a n t _ m e s s a g e s " , a r g s : { m e s s a g e s : d } } ; r e t u r n   b . c a l l ( [ e ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { v a r   b = a . r e d u c e ( f u n c t i o n ( a , b ) { r e t u r n   b . e r r o r m e s s a g e & & a . p u s h ( b . e r r o r m e s s a g e ) , a } , [ ] ) ; i f ( b . l e n g t h ) t h r o w   n e w   E r r o r ( b . j o i n ( " \ n " ) ) ; r e t u r n   a } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . m a p ( f u n c t i o n ( a ) { r e t u r n { i d : a . m s g i d , t e x t : a . t e x t , t i m e c r e a t e d : a . t i m e c r e a t e d , u s e r i d f r o m : a . u s e r i d f r o m , c o n v e r s a t i o n i d : a . c o n v e r s a t i o n i d } } ) } ) } , r = f u n c t i o n ( a , b ) { r e t u r n   q ( a , [ b ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a [ 0 ] } ) } , s = f u n c t i o n ( a , c ) { v a r   d = c . m a p ( f u n c t i o n ( a ) { r e t u r n { t e x t : a } } ) , e = { m e t h o d n a m e : " c o r e _ m e s s a g e _ s e n d _ m e s s a g e s _ t o _ c o n v e r s a t i o n " , a r g s : { c o n v e r s a t i o n i d : a , m e s s a g e s : d } } ; r e t u r n   b . c a l l ( [ e ] ) [ 0 ] } , t = f u n c t i o n ( a , b ) { r e t u r n   s ( a , [ b ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a [ 0 ] } ) } , u = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : { u s e r i d : a , p r e f e r e n c e s : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , v = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ u s e r _ g e t _ u s e r _ p r e f e r e n c e s " , a r g s : { u s e r i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , w = f u n c t i o n ( c , d ) { r e t u r n   a . w h e n . a p p l y ( n u l l , b . c a l l ( d . m a p ( f u n c t i o n ( a ) { r e t u r n { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ m e s s a g e " , a r g s : { m e s s a g e i d : a , u s e r i d : c } } } ) ) ) } , x = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ c o n v e r s a t i o n s _ b y _ i d " , a r g s : { u s e r i d : a , c o n v e r s a t i o n i d s : [ c ] } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , y = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n t a c t _ r e q u e s t s " , a r g s : { u s e r i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , z = f u n c t i o n ( c , d ) { v a r   e = [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ c o n f i r m _ c o n t a c t _ r e q u e s t " , a r g s : { u s e r i d : c , r e q u e s t e d u s e r i d : d } } , { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e m b e r _ i n f o " , a r g s : { r e f e r e n c e u s e r i d : d , u s e r i d s : [ c ] , i n c l u d e c o n t a c t r e q u e s t s : ! 0 , i n c l u d e p r i v a c y i n f o : ! 0 } } ] ; r e t u r n   a . w h e n . a p p l y ( n u l l , b . c a l l ( e ) ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   b . l e n g t h ? b [ 0 ] : { } } ) } , A = f u n c t i o n ( c , d ) { v a r   e = [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e c l i n e _ c o n t a c t _ r e q u e s t " , a r g s : { u s e r i d : c , r e q u e s t e d u s e r i d : d } } , { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e m b e r _ i n f o " , a r g s : { r e f e r e n c e u s e r i d : d , u s e r i d s : [ c ] , i n c l u d e c o n t a c t r e q u e s t s : ! 0 , i n c l u d e p r i v a c y i n f o : ! 0 } } ] ; r e t u r n   a . w h e n . a p p l y ( n u l l , b . c a l l ( e ) ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   b . l e n g t h ? b [ 0 ] : { } } ) } , B = f u n c t i o n ( a , c , d , e , f , g , h , i , j ) { v a r   k = { u s e r i d : a , c o n v e r s a t i o n i d : c } ; " u n d e f i n e d " ! = t y p e o f   d & & n u l l ! = = d & & ( k . i n c l u d e c o n t a c t r e q u e s t s = d ) , " u n d e f i n e d " ! = t y p e o f   e & & n u l l ! = = e & & ( k . i n c l u d e p r i v a c y i n f o = e ) , " u n d e f i n e d " ! = t y p e o f   f & & n u l l ! = = f & & ( k . m e m b e r l i m i t = f ) , " u n d e f i n e d " ! = t y p e o f   g & & n u l l ! = = g & & ( k . m e m b e r o f f s e t = g ) , " u n d e f i n e d " ! = t y p e o f   h & & n u l l ! = = h & & ( k . m e s s a g e l i m i t = h ) , " u n d e f i n e d " ! = t y p e o f   i & & n u l l ! = = i & & ( k . m e s s a g e o f f s e t = i ) , " u n d e f i n e d " ! = t y p e o f   j & & n u l l ! = = j & & ( k . n e w e s t m e s s a g e s f i r s t = j ) ; v a r   l = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n v e r s a t i o n " , a r g s : k } ; r e t u r n   b . c a l l ( [ l ] ) [ 0 ] } , C = f u n c t i o n ( a , c , d , e , f , g , h , i , j ) { v a r   k = { u s e r i d : a , o t h e r u s e r i d : c } ; " u n d e f i n e d " ! = t y p e o f   d & & n u l l ! = = d & & ( k . i n c l u d e c o n t a c t r e q u e s t s = d ) , " u n d e f i n e d " ! = t y p e o f   e & & n u l l ! = = e & & ( k . i n c l u d e p r i v a c y i n f o = e ) , " u n d e f i n e d " ! = t y p e o f   f & & n u l l ! = = f & & ( k . m e m b e r l i m i t = f ) , " u n d e f i n e d " ! = t y p e o f   g & & n u l l ! = = g & & ( k . m e m b e r o f f s e t = g ) , " u n d e f i n e d " ! = t y p e o f   h & & n u l l ! = = h & & ( k . m e s s a g e l i m i t = h ) , " u n d e f i n e d " ! = t y p e o f   i & & n u l l ! = = i & & ( k . m e s s a g e o f f s e t = i ) , " u n d e f i n e d " ! = t y p e o f   j & & n u l l ! = = j & & ( k . n e w e s t m e s s a g e s f i r s t = j ) ; v a r   l = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n v e r s a t i o n _ b e t w e e n _ u s e r s " , a r g s : k } ; r e t u r n   b . c a l l ( [ l ] ) [ 0 ] } , D = f u n c t i o n ( a , c , e , f , g ) { v a r   h = { u s e r i d : a , t y p e : c } ; " u n d e f i n e d " ! = t y p e o f   e & & n u l l ! = = e & & ( h . l i m i t n u m = e ) , " u n d e f i n e d " ! = t y p e o f   f & & n u l l ! = = f & & ( h . l i m i t f r o m = f ) , " u n d e f i n e d " ! = t y p e o f   g & & n u l l ! = = g & & ( h . f a v o u r i t e s = g ) ; v a r   i = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n v e r s a t i o n s " , a r g s : h } ; r e t u r n   b . c a l l ( [ i ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . c o n v e r s a t i o n s . l e n g t h & & ( a . c o n v e r s a t i o n s = a . c o n v e r s a t i o n s . m a p ( f u n c t i o n ( a ) { i f ( a . t y p e = = d . P R I V A T E ) { v a r   b = a . m e m b e r s . l e n g t h ? a . m e m b e r s [ 0 ] : n u l l ; b & & ( a . n a m e = a . n a m e ? a . n a m e : b . f u l l n a m e , a . i m a g e u r l = a . i m a g e u r l ? a . i m a g e u r l : b . p r o f i l e i m a g e u r l ) } r e t u r n   a } ) ) , a } ) } , E = f u n c t i o n ( a , c , d , e , f ) { v a r   g = { u s e r i d : c , c o n v e r s a t i o n i d : a } ; " u n d e f i n e d " ! = t y p e o f   d & & n u l l ! = = d & & ( g . l i m i t n u m = d ) , " u n d e f i n e d " ! = t y p e o f   e & & n u l l ! = = e & & ( g . l i m i t f r o m = e ) , " u n d e f i n e d " ! = t y p e o f   f & & n u l l ! = = f & & ( g . i n c l u d e c o n t a c t r e q u e s t s = f ) ; v a r   h = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n v e r s a t i o n _ m e m b e r s " , a r g s : g } ; r e t u r n   b . c a l l ( [ h ] ) [ 0 ] } , F = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ s e t _ f a v o u r i t e _ c o n v e r s a t i o n s " , a r g s : { u s e r i d : a , c o n v e r s a t i o n s : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , G = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ u n s e t _ f a v o u r i t e _ c o n v e r s a t i o n s " , a r g s : { u s e r i d : a , c o n v e r s a t i o n s : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , H = f u n c t i o n ( a , c , d , e ) { v a r   f = { r e f e r e n c e u s e r i d : a , u s e r i d s : c } ; " u n d e f i n e d " ! = t y p e o f   d & & ( f . i n c l u d e c o n t a c t r e q u e s t s = d ) , " u n d e f i n e d " ! = t y p e o f   e & & ( f . i n c l u d e p r i v a c y i n f o = e ) ; v a r   g = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ m e m b e r _ i n f o " , a r g s : f } ; r e t u r n   b . c a l l ( [ g ] ) [ 0 ] } , I = f u n c t i o n ( a , c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ a l l _ c o n v e r s a t i o n _ m e s s a g e s _ a s _ r e a d " , a r g s : { u s e r i d : a , c o n v e r s a t i o n i d : c } } ; r e t u r n   b . c a l l ( [ d ] ) [ 0 ] } , J = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ u s e r _ m e s s a g e _ p r e f e r e n c e s " , a r g s : { u s e r i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , K = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n v e r s a t i o n _ c o u n t s " , a r g s : { u s e r i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , L = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ u n r e a d _ c o n v e r s a t i o n _ c o u n t s " , a r g s : { u s e r i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , M = f u n c t i o n ( c ) { v a r   d = [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ c o n v e r s a t i o n _ c o u n t s " , a r g s : { u s e r i d : c } } , { m e t h o d n a m e : " c o r e _ m e s s a g e _ g e t _ u n r e a d _ c o n v e r s a t i o n _ c o u n t s " , a r g s : { u s e r i d : c } } ] ; r e t u r n   a . w h e n . a p p l y ( n u l l , b . c a l l ( d ) ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n { t o t a l : a , u n r e a d : b } } ) } ; r e t u r n { q u e r y : e , c o u n t U n r e a d C o n v e r s a t i o n s : f , m a r k A l l A s R e a d : g , g e t C o n t a c t s : h , g e t P r o f i l e : i , b l o c k U s e r : j , u n b l o c k U s e r : k , c r e a t e C o n t a c t R e q u e s t : l , d e l e t e C o n t a c t s : m , g e t M e s s a g e s : n , s e a r c h U s e r s : o , s e a r c h M e s s a g e s : p , s e n d M e s s a g e s T o U s e r : q , s e n d M e s s a g e T o U s e r : r , s e n d M e s s a g e s T o C o n v e r s a t i o n : s , s e n d M e s s a g e T o C o n v e r s a t i o n : t , s a v e P r e f e r e n c e s : u , g e t P r e f e r e n c e s : v , d e l e t e M e s s a g e s : w , d e l e t e C o n v e r s a t i o n : x , g e t C o n t a c t R e q u e s t s : y , a c c e p t C o n t a c t R e q u e s t : z , d e c l i n e C o n t a c t R e q u e s t : A , g e t C o n v e r s a t i o n : B , g e t C o n v e r s a t i o n B e t w e e n U s e r s : C , g e t C o n v e r s a t i o n s : D , g e t C o n v e r s a t i o n M e m b e r s : E , s e t F a v o u r i t e C o n v e r s a t i o n s : F , u n s e t F a v o u r i t e C o n v e r s a t i o n s : G , g e t M e m b e r I n f o : H , m a r k A l l C o n v e r s a t i o n M e s s a g e s A s R e a d : I , g e t U s e r M e s s a g e P r e f e r e n c e s : J , g e t T o t a l C o n v e r s a t i o n C o u n t s : K , g e t U n r e a d C o n v e r s a t i o n C o u n t s : L , g e t A l l C o n v e r s a t i o n C o u n t s : M } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ l a z y _ l o a d _ l i s t ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b ) { v a r   c = { R O O T : ' [ d a t a - r e g i o n = " l a z y - l o a d - l i s t " ] ' , L O A D I N G _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " l o a d i n g - i c o n - c o n t a i n e r " ] ' , C O N T E N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t e n t - c o n t a i n e r " ] ' , E M P T Y _ M E S S A G E : ' [ d a t a - r e g i o n = " e m p t y - m e s s a g e - c o n t a i n e r " ] ' , P L A C E H O L D E R : ' [ d a t a - r e g i o n = " p l a c e h o l d e r - c o n t a i n e r " ] ' } , d = f u n c t i o n ( a ) { a . a t t r ( " d a t a - l o a d i n g " , ! 0 ) } , e = f u n c t i o n ( a ) { a . a t t r ( " d a t a - l o a d i n g " , ! 1 ) } , f = f u n c t i o n ( a ) { r e t u r n " t r u e " = = = a . a t t r ( " d a t a - l o a d i n g " ) } , g = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - u s e r - i d " ) } , h = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( c . C O N T E N T _ C O N T A I N E R ) } , i = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( c . R O O T ) } , j = f u n c t i o n ( a ) { a . f i n d ( c . L O A D I N G _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , k = f u n c t i o n ( a ) { a . f i n d ( c . L O A D I N G _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , l = f u n c t i o n ( a ) { a . f i n d ( c . E M P T Y _ M E S S A G E ) . r e m o v e C l a s s ( " h i d d e n " ) } , m = f u n c t i o n ( a ) { a . f i n d ( c . E M P T Y _ M E S S A G E ) . a d d C l a s s ( " h i d d e n " ) } , n = f u n c t i o n ( a ) { a . f i n d ( c . P L A C E H O L D E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , o = f u n c t i o n ( a ) { a . f i n d ( c . P L A C E H O L D E R ) . a d d C l a s s ( " h i d d e n " ) } , p = f u n c t i o n ( a ) { h ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , q = f u n c t i o n ( a ) { h ( a ) . a d d C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( a ) { r e t u r n " t r u e " = = a . a t t r ( " d a t a - l o a d e d - a l l " ) } , s = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - l o a d e d - a l l " , b ) } , t = f u n c t i o n ( a ) { r e t u r n ! r ( a ) & & ! f ( a ) } , u = f u n c t i o n ( a , b , c ) { v a r   f = g ( a ) ; r e t u r n   d ( a ) , b ( a , f ) . t h e n ( f u n c t i o n ( b ) { i f ( b . l e n g t h > 0 ) { v a r   d = h ( a ) ; r e t u r n   c ( d , b , f ) . t h e n ( f u n c t i o n ( ) { r e t u r n   b } ) } r e t u r n   b } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   e ( a ) , a . a t t r ( " d a t a - s e e n " , ! 0 ) , b . l e n g t h | | s ( a , ! 0 ) , b } ) [ " c a t c h " ] ( f u n c t i o n ( ) { e ( a ) , a . a t t r ( " d a t a - s e e n " , ! 0 ) } ) } , v = f u n c t i o n ( a , b , c ) { r e t u r n   h ( a ) . e m p t y ( ) , n ( a ) , q ( a ) , u ( a , b , c ) . t h e n ( f u n c t i o n ( b ) { o ( a ) , b . l e n g t h ? p ( a ) : l ( a ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { o ( a ) , p ( a ) } ) } , w = f u n c t i o n ( a , c , d ) { b . d e f i n e ( a , [ b . e v e n t s . s c r o l l B o t t o m ] ) , a . o n ( b . e v e n t s . s c r o l l B o t t o m , f u n c t i o n ( ) { t ( a ) & & ( j ( a ) , u ( a , c , d ) . t h e n ( f u n c t i o n ( ) { r e t u r n   k ( a ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { r e t u r n   k ( a ) } ) ) } ) } , x = f u n c t i o n ( b , c , d ) { b = a ( b ) , b . a t t r ( " d a t a - i n i t " ) | | ( w ( b , c , d ) , v ( b , c , d ) , b . a t t r ( " d a t a - i n i t " , ! 0 ) ) } ; r e t u r n { s h o w : x , g e t C o n t e n t C o n t a i n e r : h , g e t R o o t : i , s e t L o a d e d A l l : s , s h o w E m p t y M e s s a g e : l , h i d e E m p t y M e s s a g e : m , s h o w C o n t e n t : p , h i d e C o n t e n t : q } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t s ' ,   [ " j q u e r y " , " c o r e / p u b s u b " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t s _ s e c t i o n _ c o n t a c t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t s _ s e c t i o n _ r e q u e s t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { A C T I O N _ S H O W _ C O N T A C T S _ S E C T I O N : ' [ d a t a - a c t i o n = " s h o w - c o n t a c t s - s e c t i o n " ] ' , A C T I O N _ S H O W _ R E Q U E S T S _ S E C T I O N : ' [ d a t a - a c t i o n = " s h o w - r e q u e s t s - s e c t i o n " ] ' , C O N T A C T _ R E Q U E S T _ C O U N T : ' [ d a t a - r e g i o n = " c o n t a c t - r e q u e s t - c o u n t " ] ' , C O N T A C T S _ S E C T I O N _ C O N T A I N E R : ' [ d a t a - s e c t i o n = " c o n t a c t s " ] ' , R E Q U E S T S _ S E C T I O N _ C O N T A I N E R : ' [ d a t a - s e c t i o n = " r e q u e s t s " ] ' } , h = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . C O N T A C T S _ S E C T I O N _ C O N T A I N E R ) } , i = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( g . R E Q U E S T S _ S E C T I O N _ C O N T A I N E R ) } , j = f u n c t i o n ( a ) { r e t u r n   a . h a s C l a s s ( " a c t i v e " ) } , k = f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( ) { v a r   b = a . f i n d ( g . C O N T A C T _ R E Q U E S T _ C O U N T ) , c = p a r s e I n t ( b . t e x t ( ) , 1 0 ) ; c = i s N a N ( c ) ? 0 : c - 1 , c < = 0 ? b . a d d C l a s s ( " h i d d e n " ) : b . t e x t ( c ) } } , l = f u n c t i o n ( a ) { v a r   c = h ( a ) , j = i ( a ) , l = a . f i n d ( g . A C T I O N _ S H O W _ C O N T A C T S _ S E C T I O N ) , m = a . f i n d ( g . A C T I O N _ S H O W _ R E Q U E S T S _ S E C T I O N ) ; l . o n ( " s h o w . b s . t a b " , f u n c t i o n ( ) { e . s h o w ( c ) } ) , m . o n ( " s h o w . b s . t a b " , f u n c t i o n ( ) { f . s h o w ( j ) } ) , b . s u b s c r i b e ( d . C O N T A C T _ R E Q U E S T _ A C C E P T E D , k ( a ) ) , b . s u b s c r i b e ( d . C O N T A C T _ R E Q U E S T _ D E C L I N E D , k ( a ) ) } , m = f u n c t i o n ( b , c ) { c = a ( c ) , c . a t t r ( " d a t a - c o n t a c t s - i n i t " ) | | ( l ( c ) , c . a t t r ( " d a t a - c o n t a c t s - i n i t " , ! 0 ) ) ; v a r   d = h ( c ) , g = i ( c ) ; r e t u r n   j ( d ) ? e . s h o w ( d ) : f . s h o w ( g ) , a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) } , n = f u n c t i o n ( ) { r e t u r n   c . g e t _ s t r i n g ( " m e s s a g e d r a w e r v i e w c o n t a c t s " , " c o r e _ m e s s a g e " ) } ; r e t u r n { s h o w : m , d e s c r i p t i o n : n } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ s e a r c h ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { f u n c t i o n   h ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   i = { C O N T A C T S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n t a c t s ' ] " , C O N T A C T S A R E A : " [ d a t a - r e g i o n = ' c o n t a c t s - a r e a ' ] " , C O N V E R S A T I O N S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n v e r s a t i o n s ' ] " , D E L E T E S E A R C H F I L T E R : " [ d a t a - r e g i o n = ' s e a r c h - f i l t e r - a r e a ' ] " , L O A D I N G I C O N : " . l o a d i n g - i c o n " , S E A R C H B O X : " [ d a t a - r e g i o n = ' s e a r c h - b o x ' ] " , S E A R C H F I L T E R : " [ d a t a - r e g i o n = ' s e a r c h - f i l t e r ' ] " , S E A R C H F I L T E R A R E A : " [ d a t a - r e g i o n = ' s e a r c h - f i l t e r - a r e a ' ] " , S E A R C H R E S U L T S A R E A : " [ d a t a - r e g i o n = ' s e a r c h - r e s u l t s - a r e a ' ] " , S E A R C H T E X T A R E A : " [ d a t a - r e g i o n = ' s e a r c h - t e x t - a r e a ' ] " , S E A R C H U S E R S I N C O U R S E : " [ d a t a - a c t i o n = ' s e a r c h - u s e r s - i n - c o u r s e ' ] " } ; r e t u r n   h . p r o t o t y p e . m e s s a g e A r e a = n u l l , h . p r o t o t y p e . _ s e a r c h A r e a = n u l l , h . p r o t o t y p e . _ c o u r s e i d = n u l l , h . p r o t o t y p e . _ i s L o a d i n g = ! 1 , h . p r o t o t y p e . _ n u m M e s s a g e s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m M e s s a g e s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ n u m U s e r s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m U s e r s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ s e a r c h A r e a s = { M E S S A G E S : " m e s s a g e s " , U S E R S : " u s e r s " , U S E R S I N C O U R S E : " u s e r s i n c o u r s e " } , h . p r o t o t y p e . _ r e q u e s t T i m e o u t = n u l l , h . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A ) . o n ( " i n p u t " , t h i s . _ s e a r c h R e q u e s t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( f . e v e n t s . a c t i v a t e , i . S E A R C H U S E R S I N C O U R S E , f u n c t i o n ( b ) { t h i s . _ s e t F i l t e r ( a ( b . c u r r e n t T a r g e t ) . h t m l ( ) ) , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h f o r u s e r " ) , t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E , t h i s . _ c o u r s e i d = a ( b . c u r r e n t T a r g e t ) . d a t a ( " c o u r s e i d " ) , t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . f o c u s ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( f . e v e n t s . a c t i v a t e , i . D E L E T E S E A R C H F I L T E R , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . U S E R S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h f o r u s e r o r c o u r s e " ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . U S E R S S E A R C H C A N C E L E D ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . f o c u s ( ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N V E R S A T I O N S S E L E C T E D , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . M E S S A G E S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h m e s s a g e s " ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T S S E L E C T E D , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . U S E R S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h f o r u s e r o r c o u r s e " ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S E N T , f u n c t i o n ( ) { t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . _ s e a r c h A r e a = t h i s . _ s e a r c h A r e a s . M E S S A G E S , t h i s . _ s e t P l a c e h o l d e r T e x t ( " s e a r c h m e s s a g e s " ) } . b i n d ( t h i s ) ) , f . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , [ f . e v e n t s . s c r o l l B o t t o m ] ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( f . e v e n t s . s c r o l l B o t t o m , i . S E A R C H R E S U L T S A R E A , f u n c t i o n ( ) { t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . M E S S A G E S ? t h i s . _ s e a r c h M e s s a g e s ( ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E & & t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) } . b i n d ( t h i s ) ) , t h i s . _ s e a r c h A r e a = t h i s . m e s s a g e A r e a . s h o w C o n t a c t s F i r s t ( ) ? t h i s . _ s e a r c h A r e a s . U S E R S : t h i s . _ s e a r c h A r e a s . M E S S A G E S } , h . p r o t o t y p e . _ s e a r c h R e q u e s t = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A + "   i n p u t " ) . v a l ( ) ; r e t u r n   t h i s . _ r e q u e s t T i m e o u t & & c l e a r T i m e o u t ( t h i s . _ r e q u e s t T i m e o u t ) , " " = = = a . t r i m ( ) ? v o i d ( t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . M E S S A G E S ? ( t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . M E S S A G E S E A R C H C A N C E L E D ) ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S ? ( t h i s . _ h i d e S e a r c h R e s u l t s ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . U S E R S S E A R C H C A N C E L E D ) ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E & & ( t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) ) ) : ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) . s h o w ( ) , v o i d ( t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . M E S S A G E S ? t h i s . _ r e q u e s t T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d = 0 , t h i s . _ s e a r c h M e s s a g e s ( ) } . b i n d ( t h i s ) , 3 0 0 ) : t h i s . _ s e a r c h A r e a = = t h i s . _ s e a r c h A r e a s . U S E R S I N C O U R S E ? t h i s . _ r e q u e s t T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ n u m U s e r s D i s p l a y e d = 0 , t h i s . _ s e a r c h U s e r s I n C o u r s e ( ) } . b i n d ( t h i s ) , 3 0 0 ) : t h i s . _ r e q u e s t T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . _ n u m U s e r s D i s p l a y e d = 0 , t h i s . _ s e a r c h U s e r s ( ) } . b i n d ( t h i s ) , 3 0 0 ) ) ) } , h . p r o t o t y p e . _ s e a r c h M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g ) r e t u r n ! 1 ; v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( ) ; t h i s . _ i s L o a d i n g = ! 0 ; v a r   e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ s e a r c h _ m e s s a g e s " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , s e a r c h : a , l i m i t f r o m : t h i s . _ n u m M e s s a g e s D i s p l a y e d , l i m i t n u m : t h i s . _ n u m M e s s a g e s T o R e t r i e v e } } ] ) , f = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , e [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f = a . c o n t a c t s . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e _ s e a r c h _ r e s u l t s " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , f > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d + = f ) : 0 = = t h i s . _ n u m M e s s a g e s D i s p l a y e d & & c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ i s L o a d i n g = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ s e a r c h U s e r s = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( ) , e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ s e a r c h _ u s e r s " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , s e a r c h : a , l i m i t n u m : t h i s . _ n u m U s e r s T o R e t r i e v e } } ] ) ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , e [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . c o n t a c t s . l e n g t h > 0 & & ( a . h a s c o n t a c t s = ! 0 ) , a . c o u r s e s . l e n g t h > 0 & & ( a . h a s c o u r s e s = ! 0 ) , a . n o n c o n t a c t s . l e n g t h > 0 & & ( a . h a s n o n c o n t a c t s = ! 0 ) , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ u s e r _ s e a r c h _ r e s u l t s " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ s e a r c h U s e r s I n C o u r s e = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g ) r e t u r n ! 1 ; v a r   a = t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( ) ; t h i s . _ i s L o a d i n g = ! 0 ; v a r   e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ s e a r c h _ u s e r s _ i n _ c o u r s e " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , c o u r s e i d : t h i s . _ c o u r s e i d , s e a r c h : a , l i m i t f r o m : t h i s . _ n u m U s e r s D i s p l a y e d , l i m i t n u m : t h i s . _ n u m U s e r s T o R e t r i e v e } } ] ) , f = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , e [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f = a . c o n t a c t s . l e n g t h , f > 0 & & ( a . h a s c o n t a c t s = ! 0 ) , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ u s e r _ s e a r c h _ r e s u l t s " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , f > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ n u m U s e r s D i s p l a y e d + = f ) : 0 = = t h i s . _ n u m U s e r s D i s p l a y e d & & c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) , a , b ) , t h i s . _ i s L o a d i n g = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ s e t P l a c e h o l d e r T e x t = f u n c t i o n ( a ) { r e t u r n   e . g e t _ s t r i n g ( a , " m e s s a g e " ) . t h e n ( f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A + "   i n p u t " ) . a t t r ( " p l a c e h o l d e r " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . _ s e t F i l t e r = f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H B O X ) . v a l ( " " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . a d d C l a s s ( " s e a r c h f i l t e r " ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . s h o w ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R ) . h t m l ( a ) , e . g e t _ s t r i n g ( " r e m o v e c o u r s e f i l t e r " , " m e s s a g e " , a ) . t h e n ( f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ c l e a r F i l t e r s = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . r e m o v e C l a s s ( " s e a r c h f i l t e r " ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R ) . e m p t y ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H F I L T E R A R E A ) . r e m o v e A t t r ( " a r i a - l a b e l " ) } , h . p r o t o t y p e . _ c l e a r S e a r c h A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) . e m p t y ( ) } , h . p r o t o t y p e . _ h i d e S e a r c h R e s u l t s = f u n c t i o n ( ) { t h i s . _ c l e a r F i l t e r s ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H T E X T A R E A + "   i n p u t " ) . v a l ( " " ) , t h i s . _ c l e a r S e a r c h A r e a ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E A R C H R E S U L T S A R E A ) . h i d e ( ) } , h } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { C A N C E L D E L E T E M E S S A G E S : " c a n c e l - d e l e t e - m e s s a g e s " , C H O O S E M E S S A G E S T O D E L E T E : " c h o o s e - m e s s a g e s - t o - d e l e t e " , C O N T A C T A D D E D : " c o n t a c t - a d d e d " , C O N T A C T B L O C K E D : " c o n t a c t - b l o c k e d " , C O N T A C T R E M O V E D : " c o n t a c t - r e m o v e d " , C O N T A C T S E L E C T E D : " c o n t a c t - s e l e c t e d " , C O N T A C T S S E L E C T E D : " c o n t a c t s - s e l e c t e d " , C O N T A C T U N B L O C K E D : " c o n t a c t - u n b l o c k e d " , C O N V E R S A T I O N D E L E T E D : " c o n v e r s a t i o n - d e l e t e d " , C O N V E R S A T I O N S E L E C T E D : " c o n v e r s a t i o n - s e l e c t e d " , C O N V E R S A T I O N S S E L E C T E D : " c o n v e r s a t i o n s - s e l e c t e d " , M E S S A G E S D E L E T E D : " m e s s a g e s - d e l e t e d " , M E S S A G E S E A R C H C A N C E L E D : " m e s s a g e - s e a r c h - c a n c e l e d " , M E S S A G E S E N T : " m e s s a g e - s e n t " , S E N D M E S S A G E : " m e s s a g e - s e n d " , U S E R S S E A R C H C A N C E L E D : " u s e r s - s e a r c h - c a n c e l e d " } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p u b s u b " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n t a c t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ g r o u p _ i n f o " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ o v e r v i e w " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ s e a r c h " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ s e t t i n g s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m ) { v a r   n = { V I E W _ C O N T A C T : ' [ d a t a - r e g i o n = " v i e w - c o n t a c t " ] ' , V I E W _ C O N T A C T S : ' [ d a t a - r e g i o n = " v i e w - c o n t a c t s " ] ' , V I E W _ C O N V E R S A T I O N : ' [ d a t a - r e g i o n = " v i e w - c o n v e r s a t i o n " ] ' , V I E W _ G R O U P _ I N F O : ' [ d a t a - r e g i o n = " v i e w - g r o u p - i n f o " ] ' , V I E W _ O V E R V I E W : ' [ d a t a - r e g i o n = " v i e w - o v e r v i e w " ] ' , V I E W _ S E A R C H : ' [ d a t a - r e g i o n = " v i e w - s e a r c h " ] ' , V I E W _ S E T T I N G S : ' [ d a t a - r e g i o n = " v i e w - s e t t i n g s " ] ' , R O U T E S : " [ d a t a - r o u t e ] " , R O U T E S _ B A C K : " [ d a t a - r o u t e - b a c k ] " , H E A D E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " h e a d e r - c o n t a i n e r " ] ' , B O D Y _ C O N T A I N E R : ' [ d a t a - r e g i o n = " b o d y - c o n t a i n e r " ] ' , F O O T E R _ C O N T A I N E R : ' [ d a t a - r e g i o n = " f o o t e r - c o n t a i n e r " ] ' } , o = f u n c t i o n ( a , b ) { v a r   c = a . c h i l d r e n ( ) , d = c . f i l t e r ( n . H E A D E R _ C O N T A I N E R ) . f i n d ( b ) , e = c . f i l t e r ( n . B O D Y _ C O N T A I N E R ) . f i n d ( b ) , f = c . f i l t e r ( n . F O O T E R _ C O N T A I N E R ) . f i n d ( b ) , g = [ d , e , f ] . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . l e n g t h } ) ; r e t u r n   g } , p = [ [ l . V I E W _ C O N T A C T , n . V I E W _ C O N T A C T , d . s h o w , d . d e s c r i p t i o n ] , [ l . V I E W _ C O N T A C T S , n . V I E W _ C O N T A C T S , e . s h o w , e . d e s c r i p t i o n ] , [ l . V I E W _ C O N V E R S A T I O N , n . V I E W _ C O N V E R S A T I O N , f . s h o w , f . d e s c r i p t i o n ] , [ l . V I E W _ G R O U P _ I N F O , n . V I E W _ G R O U P _ I N F O , g . s h o w , g . d e s c r i p t i o n ] , [ l . V I E W _ O V E R V I E W , n . V I E W _ O V E R V I E W , h . s h o w , h . d e s c r i p t i o n ] , [ l . V I E W _ S E A R C H , n . V I E W _ S E A R C H , i . s h o w , i . d e s c r i p t i o n ] , [ l . V I E W _ S E T T I N G S , n . V I E W _ S E T T I N G S , j . s h o w , j . d e s c r i p t i o n ] ] , q = f u n c t i o n ( a ) { p . f o r E a c h ( f u n c t i o n ( b ) { k . a d d ( b [ 0 ] , o ( a , b [ 1 ] ) , b [ 2 ] , b [ 3 ] ) } ) } , r = f u n c t i o n ( a ) { a . a t t r ( " d a t a - s h o w n " ) | | ( k . g o ( l . V I E W _ O V E R V I E W ) , a . a t t r ( " d a t a - s h o w n " , ! 0 ) ) , a . r e m o v e C l a s s ( " h i d d e n " ) , a . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , a . a t t r ( " a r i a - h i d d e n " , ! 1 ) } , s = f u n c t i o n ( a ) { a . a d d C l a s s ( " h i d d e n " ) , a . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) , a . a t t r ( " a r i a - h i d d e n " , ! 0 ) } , t = f u n c t i o n ( a ) { r e t u r n ! a . h a s C l a s s ( " h i d d e n " ) } , u = f u n c t i o n ( d ) { b . d e f i n e ( d , [ b . e v e n t s . a c t i v a t e ] ) ; v a r   e = / ^ d a t a - r o u t e - p a r a m - ? ( \ d * ) $ / ; d . o n ( b . e v e n t s . a c t i v a t e , n . R O U T E S , f u n c t i o n ( b , c ) { f o r ( v a r   d = a ( b . t a r g e t ) . c l o s e s t ( n . R O U T E S ) , f = d . a t t r ( " d a t a - r o u t e " ) , g = [ ] , h = 0 ; h < d [ 0 ] . a t t r i b u t e s . l e n g t h ; h + + ) g . p u s h ( d [ 0 ] . a t t r i b u t e s [ h ] ) ; v a r   i = g . f i l t e r ( f u n c t i o n ( a ) { v a r   b = a . n o d e N a m e , c = e . t e s t ( b ) ; r e t u r n   c } ) ; i . s o r t ( f u n c t i o n ( a , b ) { v a r   c = e . e x e c ( a . n o d e N a m e ) , d = e . e x e c ( b . n o d e N a m e ) , f = c . l e n g t h > 1 ? c [ 1 ] : 0 , g = d . l e n g t h > 1 ? d [ 1 ] : 0 ; r e t u r n   f < g ? - 1 : g < f ? 1 : 0 } ) ; v a r   j = i . m a p ( f u n c t i o n ( a ) { r e t u r n   a . n o d e V a l u e } ) , l = [ f ] . c o n c a t ( j ) ; k . g o . a p p l y ( n u l l , l ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , d . o n ( b . e v e n t s . a c t i v a t e , n . R O U T E S _ B A C K , f u n c t i o n ( a , b ) { k . b a c k ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , c . s u b s c r i b e ( m . S H O W , f u n c t i o n ( ) { r ( d ) } ) , c . s u b s c r i b e ( m . H I D E , f u n c t i o n ( ) { s ( d ) } ) , c . s u b s c r i b e ( m . T O G G L E _ V I S I B I L I T Y , f u n c t i o n ( ) { t ( d ) ? s ( d ) : r ( d ) } ) , c . s u b s c r i b e ( m . S H O W _ C O N V E R S A T I O N , f u n c t i o n ( a ) { r ( d ) , k . g o ( l . V I E W _ C O N V E R S A T I O N , a ) } ) , c . s u b s c r i b e ( m . C R E A T E _ C O N V E R S A T I O N _ W I T H _ U S E R , f u n c t i o n ( a ) { r ( d ) , k . g o ( l . V I E W _ C O N V E R S A T I O N , n u l l , " c r e a t e " , a ) } ) , c . s u b s c r i b e ( m . S H O W _ S E T T I N G S , f u n c t i o n ( ) { r ( d ) , k . g o ( l . V I E W _ S E T T I N G S ) } ) , c . s u b s c r i b e ( m . P R E F E R E N C E S _ U P D A T E D , f u n c t i o n ( a ) { v a r   b = a . f i l t e r ( f u n c t i o n ( a ) { r e t u r n " m e s s a g e _ e n t e r t o s e n d " = = a . t y p e } ) , c = b . l e n g t h ? b [ 0 ] : n u l l ; i f ( c ) { v a r   e = d . f i n d ( n . F O O T E R _ C O N T A I N E R ) . f i n d ( n . V I E W _ C O N V E R S A T I O N ) ; e . a t t r ( " d a t a - e n t e r - t o - s e n d " , c . v a l u e ) } } ) } , v = f u n c t i o n ( b ) { b = a ( b ) , q ( b ) , u ( b ) } ; r e t u r n { i n i t : v } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / t o g g l e _ c o n t a c t _ b u t t o n ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = f u n c t i o n ( a ) { r e t u r n " 1 " = = a . a t t r ( " d a t a - i s - c o n t a c t " ) } , g = f u n c t i o n ( a ) { a . a t t r ( " d a t a - i s - c o n t a c t " , " 1 " ) } , h = f u n c t i o n ( a ) { a . a t t r ( " d a t a - i s - c o n t a c t " , " 0 " ) } , i = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - u s e r i d " ) } , j = f u n c t i o n ( a ) { r e t u r n   a . h a s C l a s s ( " l o a d i n g " ) | | a . a t t r ( " d i s a b l e d " ) } , k = f u n c t i o n ( c , e ) { r e t u r n   j ( c ) ? a . D e f e r r e d ( ) : ( c . a d d C l a s s ( " l o a d i n g " ) , c . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) , b . c a l l ( [ e ] ) [ 0 ] . f a i l ( d . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { c . r e m o v e C l a s s ( " l o a d i n g " ) , c . r e m o v e A t t r ( " d i s a b l e d " ) } ) ) } , l = f u n c t i o n ( a ) { i f ( ! j ( a ) ) { v a r   b = { m e t h o d n a m e : " c o r e _ m e s s a g e _ c r e a t e _ c o n t a c t s " , a r g s : { u s e r i d s : [ i ( a ) ] } } ; k ( a , b ) . d o n e ( f u n c t i o n ( ) { g ( a ) , c . r e n d e r ( " m e s s a g e / r e m o v e _ c o n t a c t _ b u t t o n " , { } ) . d o n e ( f u n c t i o n ( b , d ) { c . r e p l a c e N o d e C o n t e n t s ( a , b , d ) } ) } ) } } , m = f u n c t i o n ( a ) { i f ( ! j ( a ) ) { v a r   b = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ c o n t a c t s " , a r g s : { u s e r i d s : [ i ( a ) ] } } ; k ( a , b ) . d o n e ( f u n c t i o n ( ) { h ( a ) , c . r e n d e r ( " m e s s a g e / a d d _ c o n t a c t _ b u t t o n " , { } ) . d o n e ( f u n c t i o n ( b , d ) { c . r e p l a c e N o d e C o n t e n t s ( a , b , d ) } ) } ) } } , n = f u n c t i o n ( b ) { b = a ( b ) , b . c h i l d r e n ( " . l o a d i n g - i c o n " ) . l e n g t h | | c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( a , c ) { b . a p p e n d ( a , c ) } ) , e . d e f i n e ( b , [ e . e v e n t s . a c t i v a t e ] ) , b . o n ( e . e v e n t s . a c t i v a t e , f u n c t i o n ( a , c ) { f ( b ) ? m ( b ) : l ( b ) , a . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) } ; r e t u r n { e n h a n c e : n } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { f u n c t i o n   h ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   i = { C O N T A C T : " [ d a t a - r e g i o n = ' c o n t a c t ' ] " , C O N T A C T I C O N B L O C K E D : " [ d a t a - r e g i o n = ' c o n t a c t - i c o n - b l o c k e d ' ] " , C O N T A C T S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n t a c t s ' ] " , C O N T A C T S A R E A : " [ d a t a - r e g i o n = ' c o n t a c t s - a r e a ' ] " , C O N V E R S A T I O N S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n v e r s a t i o n s ' ] " , C O U R S E : " [ d a t a - r e g i o n = ' c o u r s e ' ] " , L A S T M E S S A G E T E X T : " [ d a t a - r e g i o n = ' l a s t - m e s s a g e - t e x t ' ] " , L A S T M E S S A G E U S E R : " [ d a t a - r e g i o n = ' l a s t - m e s s a g e - u s e r ' ] " , L O A D I N G I C O N : " . l o a d i n g - i c o n " , M E S S A G E T E X T : " [ d a t a - r e g i o n = ' m e s s a g e - t e x t ' ] " , M E S S A G I N G A R E A : " [ d a t a - r e g i o n = ' m e s s a g i n g - a r e a ' ] " , N O C O N T A C T S : " [ d a t a - r e g i o n = n o - c o n t a c t s ] " , S E A R C H B O X : " [ d a t a - r e g i o n = ' s e a r c h - b o x ' ] " , S E A R C H R E S U L T S A R E A : " [ d a t a - r e g i o n = ' s e a r c h - r e s u l t s - a r e a ' ] " , S E A R C H T E X T A R E A : " [ d a t a - r e g i o n = ' s e a r c h - t e x t - a r e a ' ] " , S E L E C T E D V I E W C O N V E R S A T I O N : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - m s g ' ] . s e l e c t e d " , S E L E C T E D V I E W P R O F I L E : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - p r o f i l e ' ] . s e l e c t e d " , S H O W M E S S A G E S : " [ d a t a - a c t i o n = ' s h o w - m e s s a g e s ' ] " , V I E W C O N V E R S A T I O N : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - m s g ' ] " , V I E W P R O F I L E : " [ d a t a - a c t i o n = ' v i e w - c o n t a c t - p r o f i l e ' ] " } ; r e t u r n   h . p r o t o t y p e . _ i s L o a d i n g C o n v e r s a t i o n s = ! 1 , h . p r o t o t y p e . _ i s L o a d i n g C o n t a c t s = ! 1 , h . p r o t o t y p e . _ n u m C o n t a c t s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m C o n t a c t s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ n u m C o n v e r s a t i o n s D i s p l a y e d = 0 , h . p r o t o t y p e . _ n u m C o n v e r s a t i o n s T o R e t r i e v e = 2 0 , h . p r o t o t y p e . _ m e s s a g e L e n g t h = 6 0 , h . p r o t o t y p e . m e s s a g e A r e a = n u l l , h . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { e . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ e . e v e n t s . a c t i v a t e , e . e v e n t s . d o w n , e . e v e n t s . u p ] ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S E A R C H C A N C E L E D , t h i s . _ v i e w C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . U S E R S S E A R C H C A N C E L E D , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T S S E L E C T E D , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N V E R S A T I O N D E L E T E D , t h i s . _ d e l e t e C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N V E R S A T I O N S S E L E C T E D , t h i s . _ v i e w C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T S S E L E C T E D , t h i s . _ v i e w C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S D E L E T E D , t h i s . _ u p d a t e L a s t M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . M E S S A G E S E N T , t h i s . _ h a n d l e M e s s a g e S e n t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T R E M O V E D , f u n c t i o n ( a , b ) { t h i s . _ r e m o v e C o n t a c t ( i . C O N T A C T S , b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T A D D E D , f u n c t i o n ( a , b ) { t h i s . _ a d d C o n t a c t ( b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T B L O C K E D , f u n c t i o n ( a , b ) { t h i s . _ b l o c k C o n t a c t ( b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C O N T A C T U N B L O C K E D , f u n c t i o n ( a , b ) { t h i s . _ u n b l o c k C o n t a c t ( b ) } . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C H O O S E M E S S A G E S T O D E L E T E , t h i s . _ s t a r t D e l e t i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( g . C A N C E L D E L E T E M E S S A G E S , t h i s . _ s t o p D e l e t i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , i . V I E W C O N V E R S A T I O N , t h i s . _ v i e w C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , i . V I E W P R O F I L E , t h i s . _ v i e w C o n t a c t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , i . S H O W M E S S A G E S , t h i s . _ s h o w M e s s a g i n g A r e a . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , i . C O N T A C T , t h i s . _ s e l e c t P r e v i o u s C o n t a c t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , i . C O N T A C T , t h i s . _ s e l e c t N e x t C o n t a c t . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , i . V I E W C O N V E R S A T I O N , t h i s . _ s e l e c t P r e v i o u s C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , i . V I E W C O N V E R S A T I O N , t h i s . _ s e l e c t N e x t C o n v e r s a t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , i . C O U R S E , t h i s . _ s e l e c t P r e v i o u s C o u r s e . b i n d ( ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , i . C O U R S E , t h i s . _ s e l e c t N e x t C o u r s e . b i n d ( ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " f o c u s " , i . S E A R C H B O X , t h i s . _ s e t S e a r c h i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " b l u r " , i . S E A R C H B O X , t h i s . _ c l e a r S e a r c h i n g . b i n d ( t h i s ) ) , e . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , [ e . e v e n t s . s c r o l l B o t t o m ] ) , e . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , [ e . e v e n t s . s c r o l l B o t t o m ] ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . s c r o l l B o t t o m , i . C O N V E R S A T I O N S , t h i s . _ l o a d C o n v e r s a t i o n s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . s c r o l l B o t t o m , i . C O N T A C T S , t h i s . _ l o a d C o n t a c t s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . s h o w C o n t a c t s F i r s t ( ) | | ( t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d = 2 0 ) } , h . p r o t o t y p e . _ s t a r t D e l e t i n g = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . a d d C l a s s ( " e d i t i n g " ) } , h . p r o t o t y p e . _ s t o p D e l e t i n g = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S A R E A ) . r e m o v e C l a s s ( " e d i t i n g " ) } , h . p r o t o t y p e . _ v i e w C o n v e r s a t i o n s = f u n c t i o n ( ) { 0 = = = t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d & & t h i s . _ l o a d C o n v e r s a t i o n s ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . s h o w ( ) } , h . p r o t o t y p e . _ v i e w C o n t a c t s = f u n c t i o n ( ) { 0 = = = t h i s . _ n u m C o n t a c t s D i s p l a y e d & & t h i s . _ l o a d C o n t a c t s ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . h i d e ( ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . s h o w ( ) } , h . p r o t o t y p e . _ h a n d l e M e s s a g e S e n t = f u n c t i o n ( a , b , c ) { t h i s . _ v i e w C o n v e r s a t i o n s ( ) ; v a r   d = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , b ) ; i f ( 0 = = = d . l e n g t h ) { v a r   e = t h i s . _ g e t U s e r N o d e ( i . C O N T A C T S , b ) ; i f ( 0 = = = e . l e n g t h & & ( e = t h i s . _ g e t U s e r N o d e ( i . S E A R C H R E S U L T S A R E A , b ) ) , 0 = = e . l e n g t h ) r e t u r n ; d = e . c l o n e ( ) , d . a t t r ( " d a t a - a c t i o n " , " v i e w - c o n t a c t - m s g " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S + "   " + i . N O C O N T A C T S ) . r e m o v e ( ) , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d + + } d . p r e p e n d T o ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) . s c r o l l T o p ( 0 ) , t h i s . _ u p d a t e C o n t a c t T e x t ( d , c , ! 0 ) , t h i s . _ s e t S e l e c t e d U s e r ( " [ d a t a - u s e r i d = ' " + b + " ' ] " ) } , h . p r o t o t y p e . _ l o a d C o n v e r s a t i o n s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g C o n v e r s a t i o n s ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g C o n v e r s a t i o n s = ! 0 ; v a r   a = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d ? c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) : c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , t h i s . _ g e t I t e m s ( " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ c o n v e r s a t i o n s " , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d , t h i s . _ n u m C o n v e r s a t i o n s T o R e t r i e v e ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a = b . c o n t a c t s . l e n g t h , b . i s c o n v e r s a t i o n = ! 0 , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s " , b ) } ) . t h e n ( f u n c t i o n ( b , d ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , a > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , b , d ) , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d + = t h i s . _ n u m C o n v e r s a t i o n s T o R e t r i e v e ) : t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d | | c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N V E R S A T I O N S ) , b , d ) , t h i s . _ i s L o a d i n g C o n v e r s a t i o n s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ l o a d C o n t a c t s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g C o n t a c t s ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g C o n t a c t s = ! 0 ; v a r   a = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   t h i s . _ n u m C o n t a c t s D i s p l a y e d ? c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) : c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , t h i s . _ g e t I t e m s ( " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ c o n t a c t s " , t h i s . _ n u m C o n t a c t s D i s p l a y e d , t h i s . _ n u m C o n t a c t s T o R e t r i e v e ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a = b . c o n t a c t s . l e n g t h , b . i s c o n v e r s a t i o n = ! 1 , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ c o n t a c t s " , b ) } ) . t h e n ( f u n c t i o n ( b , d ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S + "   " + i . L O A D I N G I C O N ) . r e m o v e ( ) , a > 0 ? ( c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , b , d ) , t h i s . _ n u m C o n t a c t s D i s p l a y e d + = a ) : t h i s . _ n u m C o n t a c t s D i s p l a y e d | | c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) , b , d ) , t h i s . _ i s L o a d i n g C o n t a c t s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ v i e w C o n v e r s a t i o n = f u n c t i o n ( b ) { t h i s . m e s s a g e A r e a . t r i g g e r ( g . C A N C E L D E L E T E M E S S A G E S ) ; v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " u s e r i d " ) , d = a ( b . c u r r e n t T a r g e t ) . d a t a ( " m e s s a g e i d " ) , e = " [ d a t a - u s e r i d = ' " + c + " ' ] " ; d & & ( e = " [ d a t a - m e s s a g e i d = ' " + d + " ' ] " ) , t h i s . _ s e t S e l e c t e d U s e r ( e ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . C O N V E R S A T I O N S E L E C T E D , c ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E L E C T E D V I E W P R O F I L E ) . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . _ s h o w M e s s a g i n g A r e a ( ) } , h . p r o t o t y p e . _ v i e w C o n t a c t = f u n c t i o n ( b ) { t h i s . m e s s a g e A r e a . t r i g g e r ( g . C A N C E L D E L E T E M E S S A G E S ) ; v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " u s e r i d " ) ; t h i s . _ s e t S e l e c t e d U s e r ( " [ d a t a - u s e r i d = ' " + c + " ' ] " ) , t h i s . m e s s a g e A r e a . t r i g g e r ( g . C O N T A C T S E L E C T E D , c ) , t h i s . m e s s a g e A r e a . f i n d ( i . S E L E C T E D V I E W C O N V E R S A T I O N ) . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . _ s h o w M e s s a g i n g A r e a ( ) } , h . p r o t o t y p e . _ g e t I t e m s = f u n c t i o n ( a , c , d ) { v a r   e = b . c a l l ( [ { m e t h o d n a m e : a , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , l i m i t f r o m : c , l i m i t n u m : d } } ] ) ; r e t u r n   e [ 0 ] } , h . p r o t o t y p e . _ d e l e t e C o n v e r s a t i o n = f u n c t i o n ( a , b ) { t h i s . _ r e m o v e C o n t a c t ( i . C O N V E R S A T I O N S , b ) , t h i s . _ n u m C o n v e r s a t i o n s D i s p l a y e d - - , t h i s . _ h i d e M e s s a g i n g A r e a ( ) , t h i s . _ s t o p D e l e t i n g ( ) } , h . p r o t o t y p e . _ u p d a t e L a s t M e s s a g e = f u n c t i o n ( a , b , c ) { i f ( c ) { v a r   d = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , b ) , e = c . f i n d ( i . M E S S A G E T E X T ) . t e x t ( ) . t r i m ( ) , f = ! 1 ; c . d a t a ( " u s e r i d t o " ) = = b & & ( f = ! 0 ) , t h i s . _ u p d a t e C o n t a c t T e x t ( d , e , f ) } t h i s . _ s t o p D e l e t i n g ( ) } , h . p r o t o t y p e . _ a d d C o n t a c t = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T S ) . e m p t y ( ) , t h i s . _ n u m C o n t a c t s D i s p l a y e d = 0 , t h i s . _ l o a d C o n t a c t s ( ) } , h . p r o t o t y p e . _ r e m o v e C o n t a c t = f u n c t i o n ( a , b ) { t h i s . _ g e t U s e r N o d e ( a , b ) . r e m o v e ( ) , t h i s . _ n u m C o n t a c t s D i s p l a y e d - - } , h . p r o t o t y p e . _ b l o c k C o n t a c t = f u n c t i o n ( a ) { v a r   b = t h i s . _ g e t U s e r N o d e ( i . C O N T A C T S , a ) ; b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . r e m o v e C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . r e m o v e C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . S E A R C H R E S U L T S A R E A , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . r e m o v e C l a s s ( " h i d d e n " ) } , h . p r o t o t y p e . _ u n b l o c k C o n t a c t = f u n c t i o n ( a ) { v a r   b = t h i s . _ g e t U s e r N o d e ( i . C O N T A C T S , a ) ; b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . a d d C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . C O N V E R S A T I O N S , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . a d d C l a s s ( " h i d d e n " ) , b = t h i s . _ g e t U s e r N o d e ( i . S E A R C H R E S U L T S A R E A , a ) , b . f i n d ( i . C O N T A C T I C O N B L O C K E D ) . a d d C l a s s ( " h i d d e n " ) } , h . p r o t o t y p e . _ g e t U s e r N o d e = f u n c t i o n ( a , b ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( a + "   " + i . C O N T A C T + " [ d a t a - u s e r i d = ' " + b + " ' ] " ) } , h . p r o t o t y p e . _ s e t S e l e c t e d U s e r = f u n c t i o n ( a ) { t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T ) . r e m o v e C l a s s ( " s e l e c t e d " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T ) . a t t r ( " a r i a - p r e s s e d " , ! 1 ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T + a ) . a d d C l a s s ( " s e l e c t e d " ) , t h i s . m e s s a g e A r e a . f i n d ( i . C O N T A C T + a ) . a t t r ( " a r i a - p r e s s e d " , ! 0 ) } , h . p r o t o t y p e . _ g e t C o n t a c t T e x t = f u n c t i o n ( a ) { r e t u r n   a . l e n g t h > t h i s . _ m e s s a g e L e n g t h & & ( a = a . s u b s t r ( 0 , t h i s . _ m e s s a g e L e n g t h - 3 ) , a + = " . . . " ) , d o c u m e n t . c r e a t e T e x t N o d e ( a ) } , h . p r o t o t y p e . _ u p d a t e C o n t a c t T e x t = f u n c t i o n ( a , b , c ) { b = t h i s . _ g e t C o n t a c t T e x t ( b ) , c ? f . g e t _ s t r i n g ( " y o u " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( b ) { a . f i n d ( i . L A S T M E S S A G E U S E R ) . e m p t y ( ) . a p p e n d ( b ) } ) . a l w a y s ( f u n c t i o n ( ) { a . f i n d ( i . L A S T M E S S A G E T E X T ) . e m p t y ( ) . a p p e n d ( b ) } ) : ( a . f i n d ( i . L A S T M E S S A G E U S E R ) . e m p t y ( ) , a . f i n d ( i . L A S T M E S S A G E T E X T ) . e m p t y ( ) . a p p e n d ( b ) ) } , h . p r o t o t y p e . _ s e l e c t N e x t C o n t a c t = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O N T A C T ) , e = d . n e x t ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t P r e v i o u s C o n t a c t = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O N T A C T ) , e = d . p r e v ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t N e x t C o u r s e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O U R S E ) ; d . n e x t ( ) . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t P r e v i o u s C o u r s e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . C O U R S E ) ; d . p r e v ( ) . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t N e x t C o n v e r s a t i o n = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . V I E W C O N V E R S A T I O N ) , e = d . n e x t ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e l e c t P r e v i o u s C o n v e r s a t i o n = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( i . V I E W C O N V E R S A T I O N ) , e = d . p r e v ( ) ; e . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , h . p r o t o t y p e . _ s e t S e a r c h i n g = f u n c t i o n ( ) { a ( i . S E A R C H T E X T A R E A ) . a d d C l a s s ( " s e a r c h i n g " ) } , h . p r o t o t y p e . _ c l e a r S e a r c h i n g = f u n c t i o n ( ) { a ( i . S E A R C H T E X T A R E A ) . r e m o v e C l a s s ( " s e a r c h i n g " ) } , h . p r o t o t y p e . _ s h o w M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " h i d e - m e s s a g e s " ) . a d d C l a s s ( " s h o w - m e s s a g e s " ) } , h . p r o t o t y p e . _ h i d e M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( i . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " s h o w - m e s s a g e s " ) . a d d C l a s s ( " h i d e - m e s s a g e s " ) } , h } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ o v e r v i e w ' ,   [ " j q u e r y " , " c o r e / k e y _ c o d e s " , " c o r e / p u b s u b " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ o v e r v i e w _ s e c t i o n " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = { C O N T A C T _ R E Q U E S T _ C O U N T : ' [ d a t a - r e g i o n = " c o n t a c t - r e q u e s t - c o u n t " ] ' , F A V O U R I T E S : ' [ d a t a - r e g i o n = " v i e w - o v e r v i e w - f a v o u r i t e s " ] ' , G R O U P _ M E S S A G E S : ' [ d a t a - r e g i o n = " v i e w - o v e r v i e w - g r o u p - m e s s a g e s " ] ' , M E S S A G E S : ' [ d a t a - r e g i o n = " v i e w - o v e r v i e w - m e s s a g e s " ] ' , S E A R C H _ I N P U T : ' [ d a t a - r e g i o n = " v i e w - o v e r v i e w - s e a r c h - i n p u t " ] ' , S E C T I O N _ T O G G L E _ B U T T O N : " [ d a t a - t o g g l e ] " } , k = { P R I V A T E : 1 , P U B L I C : 2 , F A V O U R I T E : n u l l } , l = n u l l , m = f u n c t i o n ( a ) { r e t u r n   n u l l = = = l & & ( l = i . g e t A l l C o n v e r s a t i o n C o u n t s ( a ) ) , l } , n = f u n c t i o n ( a , b ) { r e t u r n   b = = = k . F A V O U R I T E ? a . f a v o u r i t e s : a . t y p e s [ b ] } , o = f u n c t i o n ( a ) { v a r   b = a . s o m e ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] ; r e t u r n   h . i s V i s i b l e ( b ) } ) ; i f ( ! b ) { a . s o r t ( f u n c t i o n ( a , b ) { v a r   c = a [ 1 ] , d = a [ 2 ] , e = b [ 1 ] , f = b [ 2 ] ; r e t u r n   d > 0 & & 0 = = f ? - 1 : 0 = = d & & f > 0 ? 1 : c > 0 & & 0 = = e ? - 1 : 0 = = c & & e > 0 ? 1 : 0 } ) ; v a r   c = a [ 0 ] [ 0 ] , d = c . f i n d ( j . S E C T I O N _ T O G G L E _ B U T T O N ) ; d . c l i c k ( ) } } , p = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( j . S E A R C H _ I N P U T ) } , q = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - u s e r - i d " ) } , r = f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( ) { v a r   b = a . f i n d ( j . C O N T A C T _ R E Q U E S T _ C O U N T ) , c = p a r s e I n t ( b . t e x t ( ) , 1 0 ) ; c = i s N a N ( c ) ? 0 : c - 1 , c < = 0 ? b . a d d C l a s s ( " h i d d e n " ) : b . t e x t ( c ) } } , s = f u n c t i o n ( a ) { v a r   d = p ( a ) , h = [ b . t a b , b . s h i f t , b . c t r l , b . a l t ] ; d . o n ( " c l i c k " , f u n c t i o n ( ) { e . g o ( f . V I E W _ S E A R C H ) } ) , d . o n ( " k e y d o w n " , f u n c t i o n ( a ) { h . i n d e x O f ( a . k e y C o d e ) < 0 & & " M e t a " ! = a . k e y & & e . g o ( f . V I E W _ S E A R C H ) } ) , c . s u b s c r i b e ( g . C O N T A C T _ R E Q U E S T _ A C C E P T E D , r ( a ) ) , c . s u b s c r i b e ( g . C O N T A C T _ R E Q U E S T _ D E C L I N E D , r ( a ) ) } , t = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - i n i t " ) | | ( s ( a ) , a . a t t r ( " d a t a - i n i t " , ! 0 ) ) , p ( a ) . v a l ( " " ) ; v a r   c = q ( b ) , d = m ( c ) , e = [ [ b . f i n d ( j . F A V O U R I T E S ) , k . F A V O U R I T E , ! 0 ] , [ b . f i n d ( j . G R O U P _ M E S S A G E S ) , k . P U B L I C , ! 1 ] , [ b . f i n d ( j . M E S S A G E S ) , k . P R I V A T E , ! 1 ] ] ; r e t u r n   e . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] , c = a [ 1 ] , e = a [ 2 ] , f = d . t h e n ( f u n c t i o n ( a ) { r e t u r n   n ( a . t o t a l , c ) } ) , g = d . t h e n ( f u n c t i o n ( a ) { r e t u r n   n ( a . u n r e a d , c ) } ) ; h . s h o w ( b , c , e , f , g ) } ) , d . t h e n ( f u n c t i o n ( a ) { v a r   b = e . m a p ( f u n c t i o n ( b ) { v a r   c = b [ 0 ] , d = b [ 1 ] , e = n ( a . t o t a l , d ) , f = n ( a . u n r e a d , d ) ; r e t u r n [ c , e , f ] } ) ; r e t u r n   o ( b ) } ) } , u = f u n c t i o n ( ) { r e t u r n   d . g e t _ s t r i n g ( " m e s s a g e d r a w e r v i e w o v e r v i e w " , " c o r e _ m e s s a g e " ) } ; r e t u r n { s h o w : t , d e s c r i p t i o n : u } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / a u t o _ r o w s " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ a c t i o n s " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ e v e n t s " , " c o r e / b a c k o f f _ t i m e r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l ) { f u n c t i o n   m ( a ) { t h i s . m e s s a g e A r e a = a , t h i s . _ i n i t ( ) } v a r   n = 5 0 0 , o = 5 0 , p = { B L O C K T I M E : " [ d a t a - r e g i o n = ' b l o c k t i m e ' ] " , C A N C E L D E L E T E M E S S A G E S : " [ d a t a - a c t i o n = ' c a n c e l - d e l e t e - m e s s a g e s ' ] " , C O N T A C T : " [ d a t a - r e g i o n = ' c o n t a c t ' ] " , C O N V E R S A T I O N S : " [ d a t a - r e g i o n = ' c o n t a c t s ' ] [ d a t a - r e g i o n - c o n t e n t = ' c o n v e r s a t i o n s ' ] " , D E L E T E A L L M E S S A G E S : " [ d a t a - a c t i o n = ' d e l e t e - a l l - m e s s a g e s ' ] " , D E L E T E M E S S A G E S : " [ d a t a - a c t i o n = ' d e l e t e - m e s s a g e s ' ] " , L O A D I N G I C O N : " . l o a d i n g - i c o n " , M E S S A G E : " [ d a t a - r e g i o n = ' m e s s a g e ' ] " , M E S S A G E R E S P O N S E : " [ d a t a - r e g i o n = ' r e s p o n s e ' ] " , M E S S A G E S : " [ d a t a - r e g i o n = ' m e s s a g e s ' ] " , M E S S A G E S A R E A : " [ d a t a - r e g i o n = ' m e s s a g e s - a r e a ' ] " , M E S S A G I N G A R E A : " [ d a t a - r e g i o n = ' m e s s a g i n g - a r e a ' ] " , S E N D M E S S A G E : " [ d a t a - a c t i o n = ' s e n d - m e s s a g e ' ] " , S E N D M E S S A G E T E X T : " [ d a t a - r e g i o n = ' s e n d - m e s s a g e - t x t ' ] " , S H O W C O N T A C T S : " [ d a t a - a c t i o n = ' s h o w - c o n t a c t s ' ] " , S T A R T D E L E T E M E S S A G E S : " [ d a t a - a c t i o n = ' s t a r t - d e l e t e - m e s s a g e s ' ] " } , q = 1 e 3 ; r e t u r n   m . p r o t o t y p e . _ i s S e n d i n g M e s s a g e = ! 1 , m . p r o t o t y p e . _ i s L o a d i n g M e s s a g e s = ! 1 , m . p r o t o t y p e . _ n u m M e s s a g e s D i s p l a y e d = 0 , m . p r o t o t y p e . _ m e s s a g e Q u e u e = [ ] , m . p r o t o t y p e . _ n u m M e s s a g e s T o R e t r i e v e = 2 0 , m . p r o t o t y p e . _ c o n f i r m a t i o n M o d a l = n u l l , m . p r o t o t y p e . _ l a t e s t M e s s a g e T i m e s t a m p = 0 , m . p r o t o t y p e . _ b a c k o f f T i m e r = n u l l , m . p r o t o t y p e . m e s s a g e A r e a = n u l l , m . p r o t o t y p e . _ i n i t = f u n c t i o n ( ) { e . d e f i n e ( t h i s . m e s s a g e A r e a . n o d e , [ e . e v e n t s . a c t i v a t e , e . e v e n t s . u p , e . e v e n t s . d o w n , e . e v e n t s . e n t e r ] ) , a ( w i n d o w ) . h e i g h t ( ) < = 6 7 0 & & ( n = 4 0 0 ) , f . i n i t ( t h i s . m e s s a g e A r e a . n o d e ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . C O N V E R S A T I O N S E L E C T E D , t h i s . _ v i e w M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . S E N D M E S S A G E , t h i s . _ v i e w M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . C H O O S E M E S S A G E S T O D E L E T E , t h i s . _ c h o o s e M e s s a g e s T o D e l e t e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( k . C A N C E L D E L E T E M E S S A G E S , t h i s . _ h i d e D e l e t e A c t i o n . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . S E N D M E S S A G E , t h i s . _ s e n d M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . S T A R T D E L E T E M E S S A G E S , t h i s . _ s t a r t D e l e t i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . D E L E T E M E S S A G E S , t h i s . _ d e l e t e M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . D E L E T E A L L M E S S A G E S , t h i s . _ d e l e t e A l l M e s s a g e s . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . C A N C E L D E L E T E M E S S A G E S , t h i s . _ t r i g g e r C a n c e l M e s s a g e s T o D e l e t e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . M E S S A G E , t h i s . _ t o g g l e M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . a c t i v a t e , p . S H O W C O N T A C T S , t h i s . _ h i d e M e s s a g i n g A r e a . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . u p , p . M E S S A G E , t h i s . _ s e l e c t P r e v i o u s M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( e . e v e n t s . d o w n , p . M E S S A G E , t h i s . _ s e l e c t N e x t M e s s a g e . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " f o c u s " , p . S E N D M E S S A G E T E X T , t h i s . _ s e t M e s s a g i n g . b i n d ( t h i s ) ) , t h i s . m e s s a g e A r e a . o n D e l e g a t e E v e n t ( " b l u r " , p . S E N D M E S S A G E T E X T , t h i s . _ c l e a r M e s s a g i n g . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . o n ( f . e v e n t s . R O W _ C H A N G E , t h i s . _ a d j u s t M e s s a g e s A r e a H e i g h t . b i n d ( t h i s ) ) ; v a r   b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; b . l e n g t h & & ( t h i s . _ a d d S c r o l l E v e n t L i s t e n e r ( b . f i n d ( p . M E S S A G E ) . l e n g t h ) , t h i s . _ l a t e s t M e s s a g e T i m e s t a m p = b . f i n d ( p . M E S S A G E + " : l a s t " ) . d a t a ( " t i m e c r e a t e d " ) ) , t h i s . _ b a c k o f f T i m e r = n e w   l ( t h i s . _ l o a d N e w M e s s a g e s . b i n d ( t h i s ) , l . g e t I n c r e m e n t a l C a l l b a c k ( t h i s . m e s s a g e A r e a . p o l l m i n * q , q , t h i s . m e s s a g e A r e a . p o l l m a x * q , t h i s . m e s s a g e A r e a . p o l l t i m e o u t * q ) ) , t h i s . _ b a c k o f f T i m e r . s t a r t ( ) } , m . p r o t o t y p e . _ v i e w M e s s a g e s = f u n c t i o n ( e , f ) { t h i s . _ n u m M e s s a g e s D i s p l a y e d = 0 , t h i s . _ b a c k o f f T i m e r . s t o p ( ) , t h i s . _ l a t e s t M e s s a g e T i m e s t a m p = 0 ; v a r   g = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ a l l _ m e s s a g e s _ a s _ r e a d " , a r g s : { u s e r i d t o : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , u s e r i d f r o m : f } } ] ) , h = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) , a , b ) , g [ 0 ] } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { v a r   b = t h i s . m e s s a g e A r e a . f i n d ( p . C O N V E R S A T I O N S + "   " + p . C O N T A C T + " [ d a t a - u s e r i d = ' " + f + " ' ] " ) ; r e t u r n   b . h a s C l a s s ( " u n r e a d " ) & & ( b . r e m o v e C l a s s ( " u n r e a d " ) , a ( d o c u m e n t ) . t r i g g e r ( " m e s s a g e a r e a : c o n v e r s a t i o n s e l e c t e d " , f ) ) , t h i s . _ g e t M e s s a g e s ( f ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   h = a . m e s s a g e s . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s _ a r e a " , a ) } ) . t h e n ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) , a , b ) , t h i s . _ a d d S c r o l l E v e n t L i s t e n e r ( h ) , t h i s . _ b a c k o f f T i m e r . r e s t a r t ( ) , t h i s . m e s s a g e A r e a . f i n d ( p . S E N D M E S S A G E T E X T ) . f o c u s ( ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ l o a d M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g M e s s a g e s ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g M e s s a g e s = ! 0 ; v a r   b = 0 ; r e t u r n   c . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . p r e p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , " < d i v   s t y l e = ' t e x t - a l i g n : c e n t e r ' > " + a + " < / d i v > " , b ) , t h i s . _ g e t M e s s a g e s ( t h i s . _ g e t U s e r I d ( ) ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b = a . m e s s a g e s . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s " , a ) } ) . t h e n ( f u n c t i o n ( d , e ) { i f ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S + "   " + p . L O A D I N G I C O N ) . r e m o v e ( ) , b > 0 ) { v a r   f = a ( " < d i v > " + d + " < / d i v > " ) ; t h i s . _ h a s M a t c h i n g B l o c k T i m e ( t h i s . m e s s a g e A r e a . n o d e , f , ! 0 ) & & t h i s . m e s s a g e A r e a . n o d e . f i n d ( p . B L O C K T I M E + " : f i r s t " ) . r e m o v e ( ) ; v a r   g = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) [ 0 ] . s c r o l l H e i g h t ; c . p r e p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , d , e ) ; v a r   h = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) [ 0 ] . s c r o l l H e i g h t ; t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) . s c r o l l T o p ( h - g ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d + = b } t h i s . _ i s L o a d i n g M e s s a g e s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ l o a d N e w M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . _ i s L o a d i n g M e s s a g e s ) r e t u r n ! 1 ; i f ( ! t h i s . _ g e t U s e r I d ( ) ) r e t u r n ! 1 ; t h i s . _ i s L o a d i n g M e s s a g e s = ! 0 ; v a r   a = ! 1 , b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; i f ( 0 ! = = b . l e n g t h ) { v a r   c = b . s c r o l l T o p ( ) , e = b . i n n e r H e i g h t ( ) , f = b [ 0 ] . s c r o l l H e i g h t ; c + e > = f & & ( a = ! 0 ) } r e t u r n   t h i s . _ g e t M e s s a g e s ( t h i s . _ g e t U s e r I d ( ) , ! 0 ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   t h i s . _ a d d M e s s a g e s T o D o m ( b . m e s s a g e s , a ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . _ i s L o a d i n g M e s s a g e s = ! 1 } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ g e t M e s s a g e s = f u n c t i o n ( a , c ) { v a r   e = { c u r r e n t u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : a , l i m i t f r o m : t h i s . _ n u m M e s s a g e s D i s p l a y e d , l i m i t n u m : t h i s . _ n u m M e s s a g e s T o R e t r i e v e , n e w e s t : ! 0 } ; c & & ( e . t i m e f r o m = t h i s . _ l a t e s t M e s s a g e T i m e s t a m p , e . l i m i t f r o m = 0 , e . l i m i t n u m = 0 ) ; v a r   f = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ m e s s a g e s " , a r g s : e } ] ) ; r e t u r n   f [ 0 ] . t h e n ( f u n c t i o n ( a ) { v a r   b = a . m e s s a g e s ; i f ( b & & b . l e n g t h ) { v a r   c = b [ b . l e n g t h - 1 ] ; c . t i m e c r e a t e d > t h i s . _ l a t e s t M e s s a g e T i m e s t a m p & & ( t h i s . _ l a t e s t M e s s a g e T i m e s t a m p = c . t i m e c r e a t e d + 1 ) } r e t u r n   a } . b i n d ( t h i s ) ) . f a i l ( f u n c t i o n ( a ) { t h i s . _ b a c k o f f T i m e r . s t o p ( ) , d . e x c e p t i o n ( a ) } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . _ s e n d M e s s a g e = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( p . S E N D M E S S A G E T E X T ) , c = a . v a l ( ) . t r i m ( ) ; i f ( " " = = = c ) r e t u r n ! 1 ; i f ( t h i s . _ i s S e n d i n g M e s s a g e ) r e t u r n ! 1 ; t h i s . _ i s S e n d i n g M e s s a g e = ! 0 ; v a r   e = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ s e n d _ i n s t a n t _ m e s s a g e s " , a r g s : { m e s s a g e s : [ { t o u s e r i d : t h i s . _ g e t U s e r I d ( ) , t e x t : c } ] } } ] ) ; r e t u r n   a . p r o p ( " d i s a b l e d " , ! 0 ) , e [ 0 ] . t h e n ( f u n c t i o n ( a ) { i f ( a . l e n g t h < 0 ) t h r o w   n e w   E r r o r ( " I n v a l i d   r e s p o n s e " ) ; i f ( a [ 0 ] . e r r o r m e s s a g e ) t h r o w   n e w   E r r o r ( a [ 0 ] . e r r o r m e s s a g e ) ; r e t u r n   t h i s . m e s s a g e A r e a . t r i g g e r ( k . M E S S A G E S E N T , [ t h i s . _ g e t U s e r I d ( ) , c ] ) , t h i s . _ a d d L a s t M e s s a g e T o D o m ( ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { t h i s . _ i s S e n d i n g M e s s a g e = ! 1 } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { a . p r o p ( " d i s a b l e d " , ! 1 ) , a . f o c u s ( ) } ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ c h o o s e M e s s a g e s T o D e l e t e = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . a d d C l a s s ( " e d i t i n g " ) , t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . a t t r ( " r o l e " , " c h e c k b o x " ) . a t t r ( " a r i a - c h e c k e d " , " f a l s e " ) } , m . p r o t o t y p e . _ d e l e t e M e s s a g e s = f u n c t i o n ( ) { v a r   c = t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , e = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E + " [ a r i a - c h e c k e d = ' t r u e ' ] " ) , f = [ ] , g = [ ] ; e . e a c h ( f u n c t i o n ( b , d ) { v a r   e = a ( d ) , h = e . d a t a ( " m e s s a g e i d " ) , i = e . d a t a ( " m e s s a g e r e a d " ) ? 1 : 0 ; g . p u s h ( e ) , f . p u s h ( { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ m e s s a g e " , a r g s : { m e s s a g e i d : h , u s e r i d : c , r e a d : i } } ) } ) , f . l e n g t h > 0 ? a . w h e n ( b . c a l l ( f ) ) . t h e n ( f u n c t i o n ( ) { v a r   b = n u l l , c = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) , d = c . l a s t ( ) , e = g [ g . l e n g t h - 1 ] ; a . e a c h ( g , f u n c t i o n ( a , b ) { b . r e m o v e ( ) } ) , d . d a t a ( " i d " ) = = = e . d a t a ( " i d " ) & & ( b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . l a s t ( ) ) , a . e a c h ( g , f u n c t i o n ( a , b ) { v a r   c = b . d a t a ( " b l o c k t i m e " ) ; 0 = = = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E + " [ d a t a - b l o c k t i m e = ' " + c + " ' ] " ) . l e n g t h & & t h i s . m e s s a g e A r e a . f i n d ( p . B L O C K T I M E + " [ d a t a - b l o c k t i m e = ' " + c + " ' ] " ) . r e m o v e ( ) } . b i n d ( t h i s ) ) , 0 = = = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . l e n g t h & & t h i s . m e s s a g e A r e a . f i n d ( p . C O N V E R S A T I O N S + "   " + p . C O N T A C T + " [ d a t a - u s e r i d = ' " + t h i s . _ g e t U s e r I d ( ) + " ' ] " ) . r e m o v e ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( k . M E S S A G E S D E L E T E D , [ t h i s . _ g e t U s e r I d ( ) , b ] ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( d . e x c e p t i o n ) : t h i s . m e s s a g e A r e a . t r i g g e r ( k . M E S S A G E S D E L E T E D , t h i s . _ g e t U s e r I d ( ) ) , t h i s . _ h i d e D e l e t e A c t i o n ( ) } , m . p r o t o t y p e . _ a d d S c r o l l E v e n t L i s t e n e r = f u n c t i o n ( a ) { t h i s . _ s c r o l l B o t t o m ( ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d = a , e . d e f i n e ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , [ e . e v e n t s . s c r o l l T o p ] ) , t h i s . m e s s a g e A r e a . o n C u s t o m E v e n t ( e . e v e n t s . s c r o l l T o p , t h i s . _ l o a d M e s s a g e s . b i n d ( t h i s ) ) } , m . p r o t o t y p e . _ d e l e t e A l l M e s s a g e s = f u n c t i o n ( ) { i f ( t h i s . _ c o n f i r m a t i o n M o d a l ) r e t u r n   v o i d   t h i s . _ c o n f i r m a t i o n M o d a l . s h o w ( ) ; v a r   c = j . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " } , { k e y : " d e l e t e a l l c o n f i r m " , c o m p o n e n t : " m e s s a g e " } , { k e y : " d e l e t e " } ] ) , e = h . c r e a t e ( { t y p e : h . t y p e s . S A V E _ C A N C E L } , t h i s . m e s s a g e A r e a . f i n d ( p . D E L E T E A L L M E S S A G E S ) ) ; a . w h e n ( c , e ) . t h e n ( f u n c t i o n ( a , c ) { c . s e t T i t l e ( a [ 0 ] ) , c . s e t B o d y ( a [ 1 ] ) , c . s e t S a v e B u t t o n T e x t ( a [ 2 ] ) , t h i s . _ c o n f i r m a t i o n M o d a l = c , c . g e t R o o t ( ) . o n ( i . s a v e , f u n c t i o n ( ) { v a r   a = t h i s . _ g e t U s e r I d ( ) , c = { m e t h o d n a m e : " c o r e _ m e s s a g e _ d e l e t e _ c o n v e r s a t i o n " , a r g s : { u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : a } } ; b . c a l l ( [ c ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . e m p t y ( ) , t h i s . m e s s a g e A r e a . t r i g g e r ( k . C O N V E R S A T I O N D E L E T E D , a ) , t h i s . _ h i d e D e l e t e A c t i o n ( ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( d . e x c e p t i o n ) } . b i n d ( t h i s ) ) , c . s h o w ( ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ h i d e D e l e t e A c t i o n = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E ) . r e m o v e A t t r ( " r o l e " ) . r e m o v e A t t r ( " a r i a - c h e c k e d " ) , t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . r e m o v e C l a s s ( " e d i t i n g " ) } , m . p r o t o t y p e . _ t r i g g e r C a n c e l M e s s a g e s T o D e l e t e = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . t r i g g e r ( k . C A N C E L D E L E T E M E S S A G E S ) } , m . p r o t o t y p e . _ a d d M e s s a g e s T o D o m = f u n c t i o n ( b , d ) { v a r   e = 0 , f = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; r e t u r n   b = b . f i l t e r ( f u n c t i o n ( a ) { v a r   b = " " + a . i d + a . i s r e a d ; i f ( t h i s . _ m e s s a g e Q u e u e [ b ] ) r e t u r n ! 1 ; v a r   c = f . f i n d ( p . M E S S A G E + ' [ d a t a - i d = " ' + b + ' " ] ' ) ; r e t u r n   c . l e n g t h | | ( t h i s . _ m e s s a g e Q u e u e [ b ] = ! 0 ) , ! c . l e n g t h } . b i n d ( t h i s ) ) , e = b . l e n g t h , c . r e n d e r ( " c o r e _ m e s s a g e / m e s s a g e _ a r e a _ m e s s a g e s " , { m e s s a g e s : b } ) . t h e n ( f u n c t i o n ( b , f ) { i f ( e > 0 ) { v a r   g = a ( " < d i v > " + b + " < / d i v > " ) ; t h i s . _ h a s M a t c h i n g B l o c k T i m e ( t h i s . m e s s a g e A r e a . n o d e , g , ! 1 ) & & g . f i n d ( p . B L O C K T I M E + " : f i r s t " ) . r e m o v e ( ) , c . a p p e n d N o d e C o n t e n t s ( t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , g , f ) , d & & t h i s . _ s c r o l l B o t t o m ( ) , t h i s . _ n u m M e s s a g e s D i s p l a y e d + = e , t h i s . _ b a c k o f f T i m e r . r e s t a r t ( ) } } . b i n d ( t h i s ) ) } , m . p r o t o t y p e . _ a d d L a s t M e s s a g e T o D o m = f u n c t i o n ( ) { v a r   a = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ d a t a _ f o r _ m e s s a g e a r e a _ g e t _ m o s t _ r e c e n t _ m e s s a g e " , a r g s : { c u r r e n t u s e r i d : t h i s . m e s s a g e A r e a . g e t C u r r e n t U s e r I d ( ) , o t h e r u s e r i d : t h i s . _ g e t U s e r I d ( ) } } ] ) ; r e t u r n   a [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . _ a d d M e s s a g e s T o D o m ( [ a ] , ! 0 ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . S E N D M E S S A G E T E X T ) . v a l ( " " ) . t r i g g e r ( " i n p u t " ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , m . p r o t o t y p e . _ g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) . d a t a ( " u s e r i d " ) } , m . p r o t o t y p e . _ s c r o l l B o t t o m = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) ; 0 ! = = a . l e n g t h & & a . s c r o l l T o p ( a [ 0 ] . s c r o l l H e i g h t ) } , m . p r o t o t y p e . _ s e l e c t P r e v i o u s M e s s a g e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E ) ; d o   d = d . p r e v ( ) ; w h i l e ( d . l e n g t h & & ! d . i s ( p . M E S S A G E ) ) ; d . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , m . p r o t o t y p e . _ s e l e c t N e x t M e s s a g e = f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E ) ; d o   d = d . n e x t ( ) ; w h i l e ( d . l e n g t h & & ! d . i s ( p . M E S S A G E ) ) ; d . f o c u s ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) } , m . p r o t o t y p e . _ s e t M e s s a g i n g = f u n c t i o n ( b ) { a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E R E S P O N S E ) . a d d C l a s s ( " m e s s a g i n g " ) } , m . p r o t o t y p e . _ c l e a r M e s s a g i n g = f u n c t i o n ( b ) { a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E R E S P O N S E ) . r e m o v e C l a s s ( " m e s s a g i n g " ) } , m . p r o t o t y p e . _ s t a r t D e l e t i n g = f u n c t i o n ( a ) { v a r   b = n e w   g ( t h i s . m e s s a g e A r e a ) ; b . c h o o s e M e s s a g e s T o D e l e t e ( ) , a . p r e v e n t D e f a u l t ( ) } , m . p r o t o t y p e . _ i s E d i t i n g = f u n c t i o n ( ) { r e t u r n   t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S A R E A ) . h a s C l a s s ( " e d i t i n g " ) } , m . p r o t o t y p e . _ t o g g l e M e s s a g e = f u n c t i o n ( b ) { i f ( t h i s . _ i s E d i t i n g ( ) ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( p . M E S S A G E ) ; " t r u e " = = = c . a t t r ( " a r i a - c h e c k e d " ) ? c . a t t r ( " a r i a - c h e c k e d " , " f a l s e " ) : c . a t t r ( " a r i a - c h e c k e d " , " t r u e " ) } } , m . p r o t o t y p e . _ a d j u s t M e s s a g e s A r e a H e i g h t = f u n c t i o n ( ) { v a r   a = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E S ) , b = t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G E R E S P O N S E ) , c = b . o u t e r H e i g h t ( ) , d = c - o , e = n - d ; a . o u t e r H e i g h t ( e ) } , m . p r o t o t y p e . _ s e n d M e s s a g e H a n d l e r = f u n c t i o n ( a , b ) { b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , t h i s . _ s e n d M e s s a g e ( ) } , m . p r o t o t y p e . _ h i d e M e s s a g i n g A r e a = f u n c t i o n ( ) { t h i s . m e s s a g e A r e a . f i n d ( p . M E S S A G I N G A R E A ) . r e m o v e C l a s s ( " s h o w - m e s s a g e s " ) . a d d C l a s s ( " h i d e - m e s s a g e s " ) } , m . p r o t o t y p e . _ h a s M a t c h i n g B l o c k T i m e = f u n c t i o n ( a , b , c ) { v a r   d , e , f , g ; r e t u r n   c ? ( e = " : f i r s t " , g = " : l a s t " ) : ( e = " : l a s t " , g = " : f i r s t " ) , d = a . f i n d ( p . B L O C K T I M E + e ) , f = b . f i n d ( p . B L O C K T I M E + g ) , ! ( ! d . l e n g t h | | ! f . l e n g t h ) & & d . d a t a ( " b l o c k t i m e " ) = = f . d a t a ( " b l o c k t i m e " ) } , m } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ s e a r c h ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / n o t i f i c a t i o n " , " c o r e / p u b s u b " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " c o r e _ m e s s a g e / m e s s a g e _ r e p o s i t o r y " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = 5 0 , j = 5 0 , k = 3 , l = { B L O C K _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " b l o c k - i c o n - c o n t a i n e r " ] ' , C A N C E L _ S E A R C H _ B U T T O N : ' [ d a t a - a c t i o n = " c a n c e l - s e a r c h " ] ' , C O N T A C T S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o n t a c t s - c o n t a i n e r " ] ' , C O N T A C T S _ L I S T : ' [ d a t a - r e g i o n = " c o n t a c t s - c o n t a i n e r " ]   [ d a t a - r e g i o n = " l i s t " ] ' , E M P T Y _ M E S S A G E _ C O N T A I N E R : ' [ d a t a - r e g i o n = " e m p t y - m e s s a g e - c o n t a i n e r " ] ' , L I S T : ' [ d a t a - r e g i o n = " l i s t " ] ' , L O A D I N G _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " l o a d i n g - i c o n - c o n t a i n e r " ] ' , L O A D I N G _ P L A C E H O L D E R : ' [ d a t a - r e g i o n = " l o a d i n g - p l a c e h o l d e r " ] ' , M E S S A G E S _ L I S T : ' [ d a t a - r e g i o n = " m e s s a g e s - c o n t a i n e r " ]   [ d a t a - r e g i o n = " l i s t " ] ' , M E S S A G E S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " m e s s a g e s - c o n t a i n e r " ] ' , N O N _ C O N T A C T S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " n o n - c o n t a c t s - c o n t a i n e r " ] ' , N O N _ C O N T A C T S _ L I S T : ' [ d a t a - r e g i o n = " n o n - c o n t a c t s - c o n t a i n e r " ]   [ d a t a - r e g i o n = " l i s t " ] ' , S E A R C H _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " s e a r c h - i c o n - c o n t a i n e r " ] ' , S E A R C H _ A C T I O N : ' [ d a t a - a c t i o n = " s e a r c h " ] ' , S E A R C H _ I N P U T : ' [ d a t a - r e g i o n = " s e a r c h - i n p u t " ] ' , S E A R C H _ R E S U L T S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " s e a r c h - r e s u l t s - c o n t a i n e r " ] ' , L O A D _ M O R E _ U S E R S : ' [ d a t a - a c t i o n = " l o a d - m o r e - u s e r s " ] ' , L O A D _ M O R E _ M E S S A G E S : ' [ d a t a - a c t i o n = " l o a d - m o r e - m e s s a g e s " ] ' , B U T T O N _ T E X T : ' [ d a t a - r e g i o n = " b u t t o n - t e x t " ] ' , N O _ R E S U L T S _ C O N T A I N T E R : ' [ d a t a - r e g i o n = " n o - r e s u l t s - c o n t a i n e r " ] ' , A L L _ C O N T A C T S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " a l l - c o n t a c t s - c o n t a i n e r " ] ' } , m = { C O N T A C T S _ L I S T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ c o n t a c t s _ l i s t " , N O N _ C O N T A C T S _ L I S T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ n o n _ c o n t a c t s _ l i s t " , M E S S A G E S _ L I S T : " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ m e s s a g e s _ l i s t " } , n = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - u s e r - i d " ) } , o = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . E M P T Y _ M E S S A G E _ C O N T A I N E R ) } , p = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . L O A D I N G _ I C O N _ C O N T A I N E R ) } , q = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . L O A D I N G _ P L A C E H O L D E R ) } , r = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . S E A R C H _ I C O N _ C O N T A I N E R ) } , s = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . S E A R C H _ I N P U T ) } , t = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . S E A R C H _ R E S U L T S _ C O N T A I N E R ) } , u = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . C O N T A C T S _ C O N T A I N E R ) } , v = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . N O N _ C O N T A C T S _ C O N T A I N E R ) } , w = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( l . M E S S A G E S _ C O N T A I N E R ) } , x = f u n c t i o n ( a ) { o ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , y = f u n c t i o n ( a ) { o ( a ) . a d d C l a s s ( " h i d d e n " ) } , z = f u n c t i o n ( a ) { p ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , A = f u n c t i o n ( a ) { p ( a ) . a d d C l a s s ( " h i d d e n " ) } , B = f u n c t i o n ( a ) { q ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , C = f u n c t i o n ( a ) { q ( a ) . a d d C l a s s ( " h i d d e n " ) } , D = f u n c t i o n ( a ) { r ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , E = f u n c t i o n ( a ) { r ( a ) . a d d C l a s s ( " h i d d e n " ) } , F = f u n c t i o n ( a ) { t ( a ) . r e m o v e C l a s s ( " h i d d e n " ) } , G = f u n c t i o n ( a ) { t ( a ) . a d d C l a s s ( " h i d d e n " ) } , H = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . A L L _ C O N T A C T S _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) , b . f i n d ( l . M E S S A G E S _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) , b . f i n d ( l . N O _ R E S U L T S _ C O N T A I N T E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , I = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . A L L _ C O N T A C T S _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) , b . f i n d ( l . M E S S A G E S _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) , b . f i n d ( l . N O _ R E S U L T S _ C O N T A I N T E R ) . a d d C l a s s ( " h i d d e n " ) } , J = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . A L L _ C O N T A C T S _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , K = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . A L L _ C O N T A C T S _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , L = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . C O N T A C T S _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , M = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . C O N T A C T S _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , N = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . N O N _ C O N T A C T S _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , O = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . N O N _ C O N T A C T S _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , P = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . M E S S A G E S _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , Q = f u n c t i o n ( a ) { v a r   b = t ( a ) ; b . f i n d ( l . M E S S A G E S _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , R = f u n c t i o n ( a ) { s ( a ) . p r o p ( " d i s a b l e d " , ! 0 ) } , S = f u n c t i o n ( a ) { s ( a ) . p r o p ( " d i s a b l e d " , ! 1 ) } , T = f u n c t i o n ( a ) { s ( a ) . v a l ( " " ) } , U = f u n c t i o n ( a ) { a . f i n d ( l . C O N T A C T S _ L I S T ) . e m p t y ( ) , a . f i n d ( l . N O N _ C O N T A C T S _ L I S T ) . e m p t y ( ) , a . f i n d ( l . M E S S A G E S _ L I S T ) . e m p t y ( ) , I ( a ) , J ( a ) , L ( a ) , N ( a ) , P ( a ) , Z ( a ) , b a ( a ) } , V = f u n c t i o n ( a , b ) { E ( a ) , y ( b ) , G ( b ) , z ( a ) , B ( b ) , R ( a ) } , W = f u n c t i o n ( a , b ) { D ( a ) , y ( b ) , F ( b ) , A ( a ) , C ( b ) , S ( a ) } , X = f u n c t i o n ( a ) { v a r   b = a . f i n d ( l . L O A D _ M O R E _ U S E R S ) ; b . p r o p ( " d i s a b l e d " , ! 0 ) , b . f i n d ( l . B U T T O N _ T E X T ) . a d d C l a s s ( " h i d d e n " ) , b . f i n d ( l . L O A D I N G _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , Y = f u n c t i o n ( a ) { v a r   b = a . f i n d ( l . L O A D _ M O R E _ U S E R S ) ; b . p r o p ( " d i s a b l e d " , ! 1 ) , b . f i n d ( l . B U T T O N _ T E X T ) . r e m o v e C l a s s ( " h i d d e n " ) , b . f i n d ( l . L O A D I N G _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , Z = f u n c t i o n ( a ) { a . f i n d ( l . L O A D _ M O R E _ U S E R S ) . r e m o v e C l a s s ( " h i d d e n " ) } , $ = f u n c t i o n ( a ) { a . f i n d ( l . L O A D _ M O R E _ U S E R S ) . a d d C l a s s ( " h i d d e n " ) } , _ = f u n c t i o n ( a ) { v a r   b = a . f i n d ( l . L O A D _ M O R E _ M E S S A G E S ) ; b . p r o p ( " d i s a b l e d " , ! 0 ) , b . f i n d ( l . B U T T O N _ T E X T ) . a d d C l a s s ( " h i d d e n " ) , b . f i n d ( l . L O A D I N G _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , a a = f u n c t i o n ( a ) { v a r   b = a . f i n d ( l . L O A D _ M O R E _ M E S S A G E S ) ; b . p r o p ( " d i s a b l e d " , ! 1 ) , b . f i n d ( l . B U T T O N _ T E X T ) . r e m o v e C l a s s ( " h i d d e n " ) , b . f i n d ( l . L O A D I N G _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , b a = f u n c t i o n ( a ) { a . f i n d ( l . L O A D _ M O R E _ M E S S A G E S ) . r e m o v e C l a s s ( " h i d d e n " ) } , c a = f u n c t i o n ( a ) { a . f i n d ( l . L O A D _ M O R E _ M E S S A G E S ) . a d d C l a s s ( " h i d d e n " ) } , d a = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - c o n t a c t - u s e r - i d = " ' + b + ' " ] ' ) } , e a = f u n c t i o n ( a , b ) { v a r   c = v ( a ) , d = d a ( c , b . u s e r i d ) ; i f ( d . l e n g t h ) { d . r e m o v e ( ) ; v a r   e = u ( a ) ; e . r e m o v e C l a s s ( " h i d d e n " ) , e . f i n d ( l . L I S T ) . a p p e n d ( d ) } c . f i n d ( l . L I S T ) . c h i l d r e n ( ) . l e n g t h | | c . a d d C l a s s ( " h i d d e n " ) } , f a = f u n c t i o n ( a , b ) { v a r   c = u ( a ) , d = d a ( c , b ) ; i f ( d . l e n g t h ) { d . r e m o v e ( ) ; v a r   e = v ( a ) ; e . r e m o v e C l a s s ( " h i d d e n " ) , e . f i n d ( l . L I S T ) . a p p e n d ( d ) } c . f i n d ( l . L I S T ) . c h i l d r e n ( ) . l e n g t h | | c . a d d C l a s s ( " h i d d e n " ) } , g a = f u n c t i o n ( a , b ) { v a r   c = d a ( a , b ) ; c . l e n g t h & & c . f i n d ( l . B L O C K _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , h a = f u n c t i o n ( a , b ) { v a r   c = d a ( a , b ) ; c . l e n g t h & & c . f i n d ( l . B L O C K _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , i a = f u n c t i o n ( a , b ) { v a r   c = u ( a ) , d = c . f i n d ( l . L I S T ) ; r e t u r n   f . r e n d e r ( m . C O N T A C T S _ L I S T , { c o n t a c t s : b } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . a p p e n d ( a ) , a } ) } , j a = f u n c t i o n ( a , b ) { v a r   c = v ( a ) , d = c . f i n d ( l . L I S T ) ; r e t u r n   f . r e n d e r ( m . N O N _ C O N T A C T S _ L I S T , { n o n c o n t a c t s : b } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . a p p e n d ( a ) , a } ) } , k a = f u n c t i o n ( a , b ) { v a r   c = w ( a ) , d = c . f i n d ( l . L I S T ) ; r e t u r n   f . r e n d e r ( m . M E S S A G E S _ L I S T , { m e s s a g e s : b } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . a p p e n d ( a ) , a } ) } , l a = f u n c t i o n ( b , c , d , e , f ) { v a r   h = ! 1 ; r e t u r n   X ( b ) , g . s e a r c h U s e r s ( c , d , e + 1 , f ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . c o n t a c t s , c = a . n o n c o n t a c t s ; r e t u r n   b . l e n g t h < = e & & c . l e n g t h < = e ? ( h = ! 0 , { c o n t a c t s : b , n o n c o n t a c t s : c } ) : { c o n t a c t s : b . s l i c e ( 0 , e ) , n o n c o n t a c t s : c . s l i c e ( 0 , e ) } } ) . t h e n ( f u n c t i o n ( c ) { v a r   d = c . c o n t a c t s . l e n g t h , e = c . n o n c o n t a c t s . l e n g t h ; r e t u r n   a . w h e n ( ! d | | i a ( b , c . c o n t a c t s ) , ! e | | j a ( b , c . n o n c o n t a c t s ) ) . t h e n ( f u n c t i o n ( ) { r e t u r n { c o n t a c t s C o u n t : d , n o n C o n t a c t s C o u n t : e } } ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   Y ( b ) , h & & $ ( b ) , a } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { t h r o w   Y ( b ) , a } ) } , m a = f u n c t i o n ( a , b , c , d , e ) { v a r   f = ! 1 ; r e t u r n   _ ( a ) , g . s e a r c h M e s s a g e s ( b , c , d + 1 , e ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . c o n t a c t s ; r e t u r n   b . l e n g t h < = d ? ( f = ! 0 , b ) : b . s l i c e ( 0 , d ) } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   b . l e n g t h ? k a ( a , b ) . t h e n ( f u n c t i o n ( ) { r e t u r n   b . l e n g t h } ) : b . l e n g t h } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a a ( a ) , f & & c a ( a ) , b } ) [ " c a t c h " ] ( f u n c t i o n ( b ) { t h r o w   a a ( a ) , b } ) } , n a = f u n c t i o n ( b , c , d , e , f , g , h ) { v a r   i = n ( c ) ; r e t u r n   V ( b , c ) , U ( c ) , a . w h e n ( l a ( c , i , d , e , f ) , m a ( c , i , d , g , h ) ) . t h e n ( f u n c t i o n ( a , d ) { v a r   e = a . c o n t a c t s C o u n t , f = a . n o n C o n t a c t s C o u n t ; W ( b , c ) , e | | f | | d ? ( e | | f ? ( e | | M ( c ) , f | | O ( c ) ) : K ( c ) , d | | Q ( c ) ) : H ( c ) } ) } , o a = f u n c t i o n ( a , e ) { v a r   f = n ( e ) , g = s ( a ) , m = " " , o = 0 , p = 0 , q = f u n c t i o n ( b , d ) { m = g . v a l ( ) . t r i m ( ) , " " ! = = m & & ( o = 0 , p = 0 , n a ( a , e , m , k , p , i , o ) . t h e n ( f u n c t i o n ( ) { g . f o c u s ( ) , p + = k , o + = i } ) [ " c a t c h " ] ( c . e x c e p t i o n ) ) , d . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ; b . d e f i n e ( g , [ b . e v e n t s . e n t e r ] ) , b . d e f i n e ( a , [ b . e v e n t s . a c t i v a t e ] ) , b . d e f i n e ( e , [ b . e v e n t s . a c t i v a t e ] ) , g . o n ( b . e v e n t s . e n t e r , q ) , a . o n ( b . e v e n t s . a c t i v a t e , l . S E A R C H _ A C T I O N , q ) , e . o n ( b . e v e n t s . a c t i v a t e , l . L O A D _ M O R E _ M E S S A G E S , f u n c t i o n ( a , b ) { " " ! = = m & & m a ( e , f , m , i , o ) . t h e n ( f u n c t i o n ( ) { o + = i } ) [ " c a t c h " ] ( c . e x c e p t i o n ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , e . o n ( b . e v e n t s . a c t i v a t e , l . L O A D _ M O R E _ U S E R S , f u n c t i o n ( a , b ) { " " ! = = m & & l a ( e , f , m , j , p ) . t h e n ( f u n c t i o n ( ) { p + = j } ) [ " c a t c h " ] ( c . e x c e p t i o n ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , a . o n ( b . e v e n t s . a c t i v a t e , l . C A N C E L _ S E A R C H _ B U T T O N , f u n c t i o n ( ) { T ( a ) , x ( e ) , D ( a ) , G ( e ) , A ( a ) , C ( e ) , p = 0 , o = 0 } ) , d . s u b s c r i b e ( h . C O N T A C T _ A D D E D , f u n c t i o n ( a ) { e a ( e , a ) } ) , d . s u b s c r i b e ( h . C O N T A C T _ R E M O V E D , f u n c t i o n ( a ) { f a ( e , a ) } ) , d . s u b s c r i b e ( h . C O N T A C T _ B L O C K E D , f u n c t i o n ( a ) { g a ( e , a ) } ) , d . s u b s c r i b e ( h . C O N T A C T _ U N B L O C K E D , f u n c t i o n ( a ) { h a ( e , a ) } ) } , p a = f u n c t i o n ( b , c ) { c . a t t r ( " d a t a - i n i t " ) | | ( o a ( b , c ) , c . a t t r ( " d a t a - i n i t " , ! 0 ) ) ; v a r   d = s ( b ) ; r e t u r n   d . f o c u s ( ) , a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) } , q a = f u n c t i o n ( a ) { v a r   b = s ( a ) , c = b . v a l ( ) . t r i m ( ) ; r e t u r n   e . g e t _ s t r i n g ( " m e s s a g e d r a w e r v i e w s e a r c h " , " c o r e _ m e s s a g e " , c ) } ; r e t u r n { s h o w : p a , d e s c r i p t i o n : q a } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { C R E A T E _ C O N V E R S A T I O N _ W I T H _ U S E R : " m e s s a g e - d r a w e r - c r e a t e - c o n v e r s a t i o n - w i t h - u s e r " , C O N T A C T _ B L O C K E D : " m e s s a g e - d r a w e r - c o n t a c t - b l o c k e d " , C O N T A C T _ U N B L O C K E D : " m e s s a g e - d r a w e r - c o n t a c t - u n b l o c k e d " , C O N T A C T _ A D D E D : " m e s s a g e - d r a w e r - c o n t a c t - a d d e d " , C O N T A C T _ R E M O V E D : " m e s s a g e - d r a w e r - c o n t a c t - r e m o v e d " , C O N T A C T _ R E Q U E S T _ A C C E P T E D : " m e s s a g e - d r a w e r - c o n t a c t - r e q u e s t - a c c e p t e d " , C O N T A C T _ R E Q U E S T _ D E C L I N E D : " m e s s a g e - d r a w e r - c o n t a c t - r e q u e s t - d e c l i n e d " , C O N V E R S A T I O N _ C R E A T E D : " m e s s a g e - d r a w e r - c o n v e r s a t i o n - c r e a t e d " , C O N V E R S A T I O N _ N E W _ L A S T _ M E S S A G E : " m e s s a g e - d r a w e r - c o n v e r s a t i o n - n e w - l a s t - m e s s a g e " , C O N V E R S A T I O N _ D E L E T E D : " m e s s a g e - d r a w e r - c o n v e r s a t i o n - d e l e t e d " , C O N V E R S A T I O N _ R E A D : " m e s s a g e - d r a w e r - c o n v e r s a t i o n - r e a d " , C O N V E R S A T I O N _ S E T _ F A V O U R I T E : " m e s s a g e - d r a w e r - c o n v e r s a t i o n - s e t - f a v o u r i t e " , C O N V E R S A T I O N _ U N S E T _ F A V O U R I T E : " m e s s a g e - d r a w e r - c o n v e r s a t i o n - u n s e t - f a v o u r i t e " , P R E F E R E N C E S _ U P D A T E D : " m e s s a g e - d r a w e r - p r e f e r e n c e s - u p d a t e d " , R O U T E _ C H A N G E D : " m e s s a g e - d r a w e r - r o u t e - c h a n g e " , S H O W : " m e s s a g e - d r a w e r - s h o w " , H I D E : " m e s s a g e - d r a w e r - h i d e " , T O G G L E _ V I S I B I L I T Y : " m e s s a g e - d r a w e r - t o g g l e " , S H O W _ C O N V E R S A T I O N : " m e s s a g e - d r a w e r - s h o w - c o n v e r s a t i o n " , S H O W _ S E T T I N G S : " m e s s a g e - d r a w e r - s h o w - s e t t i n g s " } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / p r e f e r e n c e s _ n o t i f i c a t i o n s _ l i s t _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r e f e r e n c e " , " c o r e _ m e s s a g e / n o t i f i c a t i o n _ p r o c e s s o r _ s e t t i n g s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { D I S A B L E _ N O T I F I C A T I O N S : ' [ d a t a - r e g i o n = " d i s a b l e - n o t i f i c a t i o n - c o n t a i n e r " ]   [ d a t a - d i s a b l e - n o t i f i c a t i o n s ] ' , D I S A B L E _ N O T I F I C A T I O N S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " d i s a b l e - n o t i f i c a t i o n - c o n t a i n e r " ] ' , P R E F E R E N C E : " [ d a t a - s t a t e ] " , P R E F E R E N C E _ R O W : ' [ d a t a - r e g i o n = " p r e f e r e n c e - r o w " ] ' , P R E F E R E N C E _ I N P U T : " [ d a t a - s t a t e ]   i n p u t " , P R O C E S S O R _ S E T T I N G : " [ d a t a - p r o c e s s o r - s e t t i n g ] " } , h = f u n c t i o n ( b ) { t h i s . r o o t = a ( b ) , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r - i d " ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   h . p r o t o t y p e . i s D i s a b l e d = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t . h a s C l a s s ( " d i s a b l e d " ) } , h . p r o t o t y p e . s e t D i s a b l e d = f u n c t i o n ( ) { t h i s . r o o t . a d d C l a s s ( " d i s a b l e d " ) , t h i s . r o o t . f i n d ( g . P R E F E R E N C E _ I N P U T ) . p r o p ( " d i s a b l e d " , ! 0 ) } , h . p r o t o t y p e . s e t E n a b l e d = f u n c t i o n ( ) { t h i s . r o o t . r e m o v e C l a s s ( " d i s a b l e d " ) , t h i s . r o o t . f i n d ( g . P R E F E R E N C E _ I N P U T ) . p r o p ( " d i s a b l e d " , ! 1 ) } , h . p r o t o t y p e . t o g g l e D i s a b l e A l l S t a t u s = f u n c t i o n ( ) { v a r   d = a ( g . D I S A B L E _ N O T I F I C A T I O N S ) , e = a ( g . D I S A B L E _ N O T I F I C A T I O N S _ C O N T A I N E R ) , f = d . p r o p ( " c h e c k e d " ) ; i f ( e . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; e . a d d C l a s s ( " l o a d i n g " ) ; v a r   h = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : { u s e r i d : t h i s . u s e r I d , e m a i l s t o p : f ? 1 : 0 } } ; r e t u r n   b . c a l l ( [ h ] ) [ 0 ] . d o n e ( f u n c t i o n ( ) { f ? t h i s . s e t D i s a b l e d ( ) : t h i s . s e t E n a b l e d ( ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { e . r e m o v e C l a s s ( " l o a d i n g " ) } ) . f a i l ( c . e x c e p t i o n ) } , h . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   b = a ( g . D I S A B L E _ N O T I F I C A T I O N S ) ; d . d e f i n e ( t h i s . r o o t , [ d . e v e n t s . a c t i v a t e ] ) , t h i s . r o o t . o n ( " c h a n g e " , f u n c t i o n ( b ) { i f ( ! t h i s . i s D i s a b l e d ( ) ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( g . P R E F E R E N C E ) , d = a ( b . t a r g e t ) . c l o s e s t ( g . P R E F E R E N C E _ R O W ) , f = n e w   e ( d , t h i s . u s e r I d ) ; c . a d d C l a s s ( " l o a d i n g " ) , f . s a v e ( ) . a l w a y s ( f u n c t i o n ( ) { c . r e m o v e C l a s s ( " l o a d i n g " ) } ) } } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( d . e v e n t s . a c t i v a t e , g . P R O C E S S O R _ S E T T I N G , f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( g . P R O C E S S O R _ S E T T I N G ) , e = n e w   f ( d ) ; e . s h o w ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , d . d e f i n e ( b , [ d . e v e n t s . a c t i v a t e ] ) , b . o n ( d . e v e n t s . a c t i v a t e , f u n c t i o n ( ) { t h i s . t o g g l e D i s a b l e A l l S t a t u s ( ) } . b i n d ( t h i s ) ) } , h } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ h e l p e r ' ,   [ " c o r e / p u b s u b " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( c ) { a . p u b l i s h ( b . C R E A T E _ C O N V E R S A T I O N _ W I T H _ U S E R , c ) } , d = f u n c t i o n ( ) { a . p u b l i s h ( b . S H O W ) } , e = f u n c t i o n ( c ) { a . p u b l i s h ( b . S H O W _ C O N V E R S A T I O N , c ) } , f = f u n c t i o n ( ) { a . p u b l i s h ( b . S H O W _ S E T T I N G S ) } ; r e t u r n { c r e a t e C o n v e r s a t i o n W i t h U s e r : c , s h o w : d , s h o w C o n v e r s a t i o n : e , s h o w S e t t i n g s : f } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ r o u t e r ' ,   [ " j q u e r y " , " c o r e / p u b s u b " , " c o r e / s t r " , " c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ e v e n t s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { } , f = [ ] , g = { C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' , R O U T E S _ B A C K : " [ d a t a - r o u t e - b a c k ] " } , h = f u n c t i o n ( a , b , c , d ) { e [ a ] = { e l e m e n t s : b , o n G o : c , g e t D e s c r i p t i o n : d } } , i = f u n c t i o n ( c ) { v a r   f , h = [ ] . s l i c e . c a l l ( a r g u m e n t s , 1 ) , i = a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) ; i f ( O b j e c t . k e y s ( e ) . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = e [ a ] , d = a = = = c ; d & & ( f = b ) , b . e l e m e n t s . f o r E a c h ( f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " p r e v i o u s " ) , d ? ( a . r e m o v e C l a s s ( " h i d d e n " ) , a . a t t r ( " a r i a - h i d d e n " , ! 1 ) ) : ( a . a d d C l a s s ( " h i d d e n " ) , a . a t t r ( " a r i a - h i d d e n " , ! 0 ) ) } ) } ) , f & & f . o n G o ) { i = f . o n G o . a p p l y ( v o i d   0 , f . e l e m e n t s . c o n c a t ( h ) ) ; f o r ( v a r   j = a ( d o c u m e n t . a c t i v e E l e m e n t ) , k = ! 1 , l = 0 ; l < f . e l e m e n t s . l e n g t h ; l + + ) { v a r   m = f . e l e m e n t s [ l ] ; i f ( m . h a s ( j ) . l e n g t h ) { k = ! 0 ; b r e a k } } k | | f . e l e m e n t s [ 0 ] . f i n d ( g . C A N _ R E C E I V E _ F O C U S ) . f i l t e r ( " : v i s i b l e " ) . f i r s t ( ) . f o c u s ( ) } v a r   n = { r o u t e : c , p a r a m s : h , r e n d e r P r o m i s e : i } ; r e t u r n   b . p u b l i s h ( d . R O U T E _ C H A N G E D , n ) , n } , j = f u n c t i o n ( ) { v a r   b = a ( d o c u m e n t . a c t i v e E l e m e n t ) , d = i . a p p l y ( n u l l , a r g u m e n t s ) , h = ! 1 ; f = f . r e d u c e ( f u n c t i o n ( a , b ) { r e t u r n   b . r o u t e = = = d . r o u t e & & ( h = ! 0 ) , h | | a . p u s h ( b ) , a } , [ ] ) ; v a r   j = f . l e n g t h ? f [ f . l e n g t h - 1 ] : n u l l ; i f ( j ) { v a r   k = e [ j . r o u t e ] ; k . e l e m e n t s . f o r E a c h ( f u n c t i o n ( a ) { a . a d d C l a s s ( " p r e v i o u s " ) } ) , j . f o c u s E l e m e n t = b , k . g e t D e s c r i p t i o n & & k . g e t D e s c r i p t i o n . a p p l y ( n u l l , k . e l e m e n t s . c o n c a t ( j . p a r a m s ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . g e t _ s t r i n g ( " b a c k t o " , " c o r e _ m e s s a g e " , a ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . r e n d e r P r o m i s e . t h e n ( f u n c t i o n ( ) { e [ d . r o u t e ] . e l e m e n t s . f o r E a c h ( f u n c t i o n ( b ) { b . f i n d ( g . R O U T E S _ B A C K ) . a t t r ( " a r i a - l a b e l " , a ) } ) } ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { } ) } r e t u r n   f . p u s h ( d ) , d } , k = f u n c t i o n ( ) { i f ( f . l e n g t h ) { f . p o p ( ) ; v a r   a = f . p o p ( ) ; a & & ( j . a p p l y ( v o i d   0 , [ a . r o u t e ] . c o n c a t ( a . p a r a m s ) ) , w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a . f o c u s E l e m e n t . f o c u s ( ) } , 5 0 ) ) } } ; r e t u r n { a d d : h , g o : j , b a c k : k } } ) ; 
 d e f i n e ( ' c o r e _ m e s s a g e / m e s s a g e _ d r a w e r _ v i e w _ c o n v e r s a t i o n _ s t a t e _ m a n a g e r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { v a r   c = a . e x t e n d ( { } , b ) ; r e t u r n   c . m e s s a g e s = b . m e s s a g e s . m a p ( f u n c t i o n ( b ) { r e t u r n   a . e x t e n d ( { } , b ) } ) , c . m e m b e r s = O b j e c t . k e y s ( b . m e m b e r s ) . r e d u c e ( f u n c t i o n ( c , d ) { r e t u r n   c [ d ] = a . e x t e n d ( { } , b . m e m b e r s [ d ] ) , c [ d ] . c o n t a c t r e q u e s t s = b . m e m b e r s [ d ] . c o n t a c t r e q u e s t s . m a p ( f u n c t i o n ( b ) { r e t u r n   a . e x t e n d ( { } , b ) } ) , c } , { } ) , c } , c = f u n c t i o n ( a , b , c ) { r e t u r n   a . m a p ( f u n c t i o n ( a ) { v a r   d = a . u s e r i d f r o m = = b ; r e t u r n { i d : p a r s e I n t ( a . i d , 1 0 ) , i s R e a d : a . i s r e a d , f r o m L o g g e d I n U s e r : d , u s e r F r o m : c [ a . u s e r i d f r o m ] , t e x t : a . t e x t , t i m e C r e a t e d : p a r s e I n t ( a . t i m e c r e a t e d , 1 0 ) } } ) } , d = f u n c t i o n ( a ) { r e t u r n   a . m a p ( f u n c t i o n ( a ) { r e t u r n { i d : a . i d , f u l l n a m e : a . f u l l n a m e , p r o f i l e u r l : a . p r o f i l e u r l , p r o f i l e i m a g e u r l : a . p r o f i l e i m a g e u r l , p r o f i l e i m a g e u r l s m a l l : a . p r o f i l e i m a g e u r l s m a l l , i s o n l i n e : a . i s o n l i n e , s h o w o n l i n e s t a t u s : a . s h o w o n l i n e s t a t u s , i s b l o c k e d : a . i s b l o c k e d , i s c o n t a c t : a . i s c o n t a c t , i s d e l e t e d : a . i s d e l e t e d , c a n m e s s a g e : a . c a n m e s s a g e , r e q u i r e s c o n t a c t : a . r e q u i r e s c o n t a c t , c o n t a c t r e q u e s t s : a . c o n t a c t r e q u e s t s | | [ ] } } ) } , e = f u n c t i o n ( a , b , c ) { r e t u r n { m i d n i g h t : a , l o g g e d I n U s e r I d : b , i d : c , n a m e : n u l l , s u b n a m e : n u l l , t y p e : n u l l , t o t a l M e m b e r C o u n t : n u l l , i m a g e U r l : n u l l , i s F a v o u r i t e : n u l l , m e m b e r s : { } , m e s s a g e s : [ ] , h a s T r i e d T o L o a d M e s s a g e s : ! 1 , l o a d i n g M e s s a g e s : ! 0 , s e n d i n g M e s s a g e : ! 1 , l o a d i n g M e m b e r s : ! 0 , l o a d i n g C o n f i r m A c t i o n : ! 1 , p e n d i n g B l o c k U s e r I d s : [ ] , p e n d i n g U n b l o c k U s e r I d s : [ ] , p e n d i n g R e m o v e C o n t a c t I d s : [ ] , p e n d i n g A d d C o n t a c t I d s : [ ] , p e n d i n g D e l e t e M e s s a g e I d s : [ ] , p e n d i n g D e l e t e C o n v e r s a t i o n : ! 1 , s e l e c t e d M e s s a g e I d s : [ ] } } , f = f u n c t i o n ( a , d ) { v a r   e = b ( a ) , f = c ( d , a . l o g g e d I n U s e r I d , a . m e m b e r s ) , g = a . m e s s a g e s . c o n c a t ( f ) ; r e t u r n   g . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a . t i m e C r e a t e d < b . t i m e C r e a t e d ? - 1 : a . t i m e C r e a t e d > b . t i m e C r e a t e d ? 1 : a . i d < b . i d ? - 1 : a . i d > b . i d ? 1 : 0 } ) , e . m e s s a g e s = g . f i l t e r ( f u n c t i o n ( a , b , c ) { r e t u r n ! b | | a . i d ! = = c [ b - 1 ] . i d } ) , e } , g = f u n c t i o n ( a , c ) { v a r   d = b ( a ) , e = c . m a p ( f u n c t i o n ( a ) { r e t u r n   a . i d } ) ; r e t u r n   d . m e s s a g e s = d . m e s s a g e s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   e . i n d e x O f ( a . i d ) < 0 } ) , d } , h = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . m e s s a g e s = d . m e s s a g e s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   c . i n d e x O f ( a . i d ) < 0 } ) , d } , i = f u n c t i o n ( a , c ) { v a r   e = b ( a ) , f = d ( c ) ; r e t u r n   f . f o r E a c h ( f u n c t i o n ( a ) { e . m e m b e r s [ a . i d ] = a } ) , e } , j = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { d e l e t e   d . m e m b e r s [ a . i d ] } ) , d } , k = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . l o a d i n g M e s s a g e s = c , a . l o a d i n g M e s s a g e s & & ! c & & ( d . h a s T r i e d T o L o a d M e s s a g e s = ! 0 ) , d } , l = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . s e n d i n g M e s s a g e = c , d } , m = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . l o a d i n g M e m b e r s = c , d } , n = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . i d = c , d } , o = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . n a m e = c , d } , p = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . s u b n a m e = c , d } , q = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . t y p e = c , d } , r = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . i s F a v o u r i t e = c , d } , s = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . t o t a l M e m b e r C o u n t = c , d } , t = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . i m a g e U r l = c , d } , u = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . l o a d i n g C o n f i r m A c t i o n = c , d } , v = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . p e n d i n g D e l e t e C o n v e r s a t i o n = c , d } , w = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { d . p e n d i n g B l o c k U s e r I d s . p u s h ( a ) } ) , d } , x = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { d . p e n d i n g R e m o v e C o n t a c t I d s . p u s h ( a ) } ) , d } , y = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { d . p e n d i n g U n b l o c k U s e r I d s . p u s h ( a ) } ) , d } , z = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { d . p e n d i n g A d d C o n t a c t I d s . p u s h ( a ) } ) , d } , A = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { d . p e n d i n g D e l e t e M e s s a g e I d s . p u s h ( a ) } ) , d } , B = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . p e n d i n g B l o c k U s e r I d s = d . p e n d i n g B l o c k U s e r I d s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   c . i n d e x O f ( a ) < 0 } ) , d } , C = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . p e n d i n g R e m o v e C o n t a c t I d s = d . p e n d i n g R e m o v e C o n t a c t I d s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   c . i n d e x O f ( a ) < 0 } ) , d } , D = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . p e n d i n g U n b l o c k U s e r I d s = d . p e n d i n g U n b l o c k U s e r I d s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   c . i n d e x O f ( a ) < 0 } ) , d } , E = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . p e n d i n g A d d C o n t a c t I d s = d . p e n d i n g A d d C o n t a c t I d s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   c . i n d e x O f ( a ) < 0 } ) , d } , F = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . p e n d i n g D e l e t e M e s s a g e I d s = d . p e n d i n g D e l e t e M e s s a g e I d s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   c . i n d e x O f ( a ) < 0 } ) , d } , G = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . s e l e c t e d M e s s a g e I d s = d . s e l e c t e d M e s s a g e I d s . c o n c a t ( c ) , d } , H = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   d . s e l e c t e d M e s s a g e I d s = d . s e l e c t e d M e s s a g e I d s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   c . i n d e x O f ( a ) < 0 } ) , d } , I = f u n c t i o n ( a , c ) { v a r   d = b ( a ) , e = c . m a p ( f u n c t i o n ( a ) { r e t u r n   a . i d } ) ; r e t u r n   d . m e s s a g e s = d . m e s s a g e s . m a p ( f u n c t i o n ( a ) { r e t u r n   e . i n d e x O f ( a . i d ) > = 0 & & ( a . i s R e a d = ! 0 ) , a } ) , d } , J = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a . u s e r i d , c = a . r e q u e s t e d u s e r i d ; d . m e m b e r s [ b ] . c o n t a c t r e q u e s t s . p u s h ( a ) , d . m e m b e r s [ c ] . c o n t a c t r e q u e s t s . p u s h ( a ) } ) , d } , K = f u n c t i o n ( a , c ) { v a r   d = b ( a ) ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a . u s e r i d , c = a . r e q u e s t e d u s e r i d ; d . m e m b e r s [ b ] . c o n t a c t r e q u e s t s = d . m e m b e r s [ b ] . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . u s e r i d ! = b } ) , d . m e m b e r s [ c ] . c o n t a c t r e q u e s t s = d . m e m b e r s [ c ] . c o n t a c t r e q u e s t s . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . r e q u e s t e d u s e r i d ! = c } ) } ) , d } ; r e t u r n { b u i l d I n i t i a l S t a t e : e , a d d M e s s a g e s : f , r e m o v e M e s s a g e s : g , r e m o v e M e s s a g e s B y I d : h , a d d M e m b e r s : i , r e m o v e M e m b e r s : j , s e t L o a d i n g M e s s a g e s : k , s e t S e n d i n g M e s s a g e : l , s e t L o a d i n g M e m b e r s : m , s e t I d : n , s e t N a m e : o , s e t S u b n a m e : p , s e t T y p e : q , s e t I s F a v o u r i t e : r , s e t T o t a l M e m b e r C o u n t : s , s e t I m a g e U r l : t , s e t L o a d i n g C o n f i r m A c t i o n : u , s e t P e n d i n g D e l e t e C o n v e r s a t i o n : v , a d d P e n d i n g B l o c k U s e r s B y I d : w , a d d P e n d i n g R e m o v e C o n t a c t s B y I d : x , a d d P e n d i n g U n b l o c k U s e r s B y I d : y , a d d P e n d i n g A d d C o n t a c t s B y I d : z , a d d P e n d i n g D e l e t e M e s s a g e s B y I d : A , r e m o v e P e n d i n g B l o c k U s e r s B y I d : B , r e m o v e P e n d i n g R e m o v e C o n t a c t s B y I d : C , r e m o v e P e n d i n g U n b l o c k U s e r s B y I d : D , r e m o v e P e n d i n g A d d C o n t a c t s B y I d : E , r e m o v e P e n d i n g D e l e t e M e s s a g e s B y I d : F , a d d S e l e c t e d M e s s a g e s B y I d : G , r e m o v e S e l e c t e d M e s s a g e s B y I d : H , m a r k M e s s a g e s A s R e a d : I , a d d C o n t a c t R e q u e s t s : J , r e m o v e C o n t a c t R e q u e s t s : K } } ) ; 
 d e f i n e ( ' c o r e _ q u e s t i o n / e d i t _ t a g s ' ,   [ " j q u e r y " , " c o r e / f r a g m e n t " , " c o r e / s t r " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e _ q u e s t i o n / r e p o s i t o r y " , " c o r e _ q u e s t i o n / s e l e c t o r s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = f u n c t i o n ( a ) { a . f i n d ( i . a c t i o n s . s a v e ) . p r o p ( " d i s a b l e d " , ! 1 ) } , k = f u n c t i o n ( a ) { a . f i n d ( i . a c t i o n s . s a v e ) . p r o p ( " d i s a b l e d " , ! 0 ) } , l = f u n c t i o n ( a ) { r e t u r n   a . g e t B o d y ( ) . f i n d ( " f o r m " ) . s e r i a l i z e ( ) } , m = f u n c t i o n ( a ) { v a r   b = a . f i n d ( i . c o n t a i n e r s . l o a d i n g I c o n ) ; b . r e m o v e C l a s s ( " h i d d e n " ) } , n = f u n c t i o n ( a ) { v a r   b = a . f i n d ( i . c o n t a i n e r s . l o a d i n g I c o n ) ; b . a d d C l a s s ( " h i d d e n " ) } , o = f u n c t i o n ( a , b ) { a . g e t B o d y ( ) . a t t r ( " d a t a - c o n t e x t i d " , b ) } , p = f u n c t i o n ( a ) { r e t u r n   a . g e t B o d y ( ) . d a t a ( " c o n t e x t i d " ) } , q = f u n c t i o n ( a , b ) { a . g e t B o d y ( ) . a t t r ( " d a t a - q u e s t i o n i d " , b ) } , r = f u n c t i o n ( a ) { r e t u r n   a . g e t B o d y ( ) . d a t a ( " q u e s t i o n i d " ) } , s = f u n c t i o n ( h ) { v a r   l = e . c r e a t e ( { t y p e : e . t y p e s . S A V E _ C A N C E L , l a r g e : ! 1 } , [ h , i . a c t i o n s . e d i t t a g s ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . g e t _ s t r i n g ( " q u e s t i o n t a g s " , " q u e s t i o n " ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a . s e t T i t l e ( b ) , b } ) . f a i l ( f . e x c e p t i o n ) , a . g e t R o o t ( ) . o n ( d . s a v e , f u n c t i o n ( b ) { v a r   c = a . g e t B o d y ( ) . f i n d ( " f o r m " ) ; c . s u b m i t ( ) , b . p r e v e n t D e f a u l t ( ) } ) , a . g e t R o o t ( ) . o n ( " s u b m i t " , " f o r m " , f u n c t i o n ( b ) { t ( a , h ) . t h e n ( f u n c t i o n ( ) { a . h i d e ( ) , l o c a t i o n . r e l o a d ( ) } ) . f a i l ( f . e x c e p t i o n ) , b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) } ) , a } ) ; h . o n ( g . e v e n t s . a c t i v a t e , i . a c t i o n s . e d i t t a g s , f u n c t i o n ( c ) { v a r   d = a ( c . c u r r e n t T a r g e t ) , e = d . d a t a ( " q u e s t i o n i d " ) , g = ! ! d . d a t a ( " c a n t a g " ) , p = d . d a t a ( " c o n t e x t i d " ) ; l . t h e n ( f u n c t i o n ( a ) { k ( h ) , m ( h ) ; v a r   c = { i d : e } , d = b . l o a d F r a g m e n t ( " q u e s t i o n " , " t a g s _ f o r m " , p , c ) ; r e t u r n   a . s e t B o d y ( d ) , d . t h e n ( f u n c t i o n ( ) { j ( h ) } ) . a l w a y s ( f u n c t i o n ( ) { n ( h ) } ) . f a i l ( f . e x c e p t i o n ) , g ? a . g e t R o o t ( ) . f i n d ( i . a c t i o n s . s a v e ) . s h o w ( ) : a . g e t R o o t ( ) . f i n d ( i . a c t i o n s . s a v e ) . h i d e ( ) , q ( a , e ) , o ( a , p ) , a } ) . f a i l ( f . e x c e p t i o n ) , c . p r e v e n t D e f a u l t ( ) } ) } , t = f u n c t i o n ( a , b ) { k ( b ) , m ( b ) ; v a r   c = l ( a ) , d = r ( a ) , e = p ( a ) ; r e t u r n   h . s u b m i t T a g C r e a t e U p d a t e F o r m ( d , e , c ) . a l w a y s ( f u n c t i o n ( ) { n ( b ) , j ( b ) } ) . f a i l ( f . e x c e p t i o n ) } ; r e t u r n { i n i t : f u n c t i o n ( b ) { b = a ( b ) , s ( b ) } } } ) ; 
 d e f i n e ( ' c o r e _ q u e s t i o n / s e l e c t o r s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { a c t i o n s : { s a v e : ' [ d a t a - a c t i o n = " s a v e " ] ' , e d i t t a g s : ' [ d a t a - a c t i o n = " e d i t t a g s " ] ' } , c o n t a i n e r s : { l o a d i n g I c o n : ' [ d a t a - r e g i o n = " o v e r l a y - i c o n - c o n t a i n e r " ] ' } } } ) ; 
 d e f i n e ( ' c o r e _ q u e s t i o n / r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( a , c , d ) { v a r   e = { m e t h o d n a m e : " c o r e _ q u e s t i o n _ s u b m i t _ t a g s _ f o r m " , a r g s : { q u e s t i o n i d : a , c o n t e x t i d : c , f o r m d a t a : d } } ; r e t u r n   b . c a l l ( [ e ] ) [ 0 ] } ; r e t u r n { s u b m i t T a g C r e a t e U p d a t e F o r m : c } } ) ; 
 d e f i n e ( ' c o r e _ s e a r c h / f o r m - s e a r c h - u s e r - s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . _ l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h , i = { q u e r y : e } , j = a ( d ) . a t t r ( " w i t h i n c o u r s e i d " ) ; " u n d e f i n e d " ! = t y p e o f   j & & " " ! = = a ( " # i d _ s e a r c h w i t h i n " ) . v a l ( ) ? i . c o u r s e i d = j : i . c o u r s e i d = 0 , h = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ s e a r c h _ g e t _ r e l e v a n t _ u s e r s " , a r g s : i } ] ) , h [ 0 ] . t h e n ( f u n c t i o n ( b ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( b , f u n c t i o n ( a , b ) { d . p u s h ( c . r e n d e r ( " c o r e _ s e a r c h / f o r m - u s e r - s e l e c t o r - s u g g e s t i o n " , b ) ) } ) , a . w h e n . a p p l y ( a . w h e n , d ) . t h e n ( f u n c t i o n ( ) { v a r   c = a r g u m e n t s , d = 0 ; a . e a c h ( b , f u n c t i o n ( a , b ) { b . _ l a b e l = c [ d + + ] } ) , f ( b ) } ) } ) . f a i l ( g ) } } } ) ; 
 d e f i n e ( ' c o r e _ u s e r / u n i f i e d _ f i l t e r ' ,   [ " j q u e r y " , " c o r e / f o r m - a u t o c o m p l e t e " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { U N I F I E D _ F I L T E R S : " # u n i f i e d - f i l t e r s " } , f = f u n c t i o n ( ) { v a r   f = [ { k e y : " u s e r f i l t e r p l a c e h o l d e r " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o f i l t e r s a p p l i e d " , c o m p o n e n t : " m o o d l e " } ] ; M . u t i l . j s _ p e n d i n g ( " u n i f i e d _ f i l t e r _ d a t a s o u r c e " ) , c . g e t _ s t r i n g s ( f ) . d o n e ( f u n c t i o n ( a ) { v a r   c = a [ 0 ] , f = a [ 1 ] ; b . e n h a n c e ( e . U N I F I E D _ F I L T E R S , ! 0 , " c o r e _ u s e r / u n i f i e d _ f i l t e r _ d a t a s o u r c e " , c , ! 1 , ! 0 , f , ! 0 ) . t h e n ( f u n c t i o n ( ) { M . u t i l . j s _ c o m p l e t e ( " u n i f i e d _ f i l t e r _ d a t a s o u r c e " ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) ; v a r   g = a ( e . U N I F I E D _ F I L T E R S ) . v a l ( ) ; a ( e . U N I F I E D _ F I L T E R S ) . o n ( " c h a n g e " , f u n c t i o n ( ) { v a r   b = a ( t h i s ) . v a l ( ) , c = [ ] , d = [ ] , e = ! 1 ; i f ( a . e a c h ( b , f u n c t i o n ( a , b ) { v a r   f = b . s p l i t ( " : " , 2 ) ; i f ( 2 ! = = f . l e n g t h ) r e t u r n   d . p u s h ( b ) , ! 0 ; v a r   g = f [ 0 ] , h = f [ 1 ] ; r e t u r n " u n d e f i n e d " ! = t y p e o f   c [ g ] & & ( e = ! 0 ) , c [ g ] = h , ! 0 } ) , e ) { v a r   f = [ ] ; f o r ( v a r   h   i n   c ) f . p u s h ( h + " : " + c [ h ] ) ; f = f . c o n c a t ( d ) , a ( t h i s ) . v a l ( f ) } g . j o i n ( " , " ) ! = b . j o i n ( " , " ) & & t h i s . f o r m . s u b m i t ( ) } ) } , g = f u n c t i o n ( ) { r e t u r n   a ( e . U N I F I E D _ F I L T E R S ) . c l o s e s t ( " f o r m " ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { f ( ) } , g e t F o r m : f u n c t i o n ( ) { r e t u r n   g ( ) } } } ) ; 
 d e f i n e ( ' c o r e _ u s e r / u n i f i e d _ f i l t e r _ d a t a s o u r c e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { r e t u r n { l i s t : f u n c t i o n ( b , c ) { v a r   d = [ ] , e = a ( b ) , f = a ( b ) . d a t a ( " o r i g i n a l o p t i o n s j s o n " ) , g = e . v a l ( ) ; a . e a c h ( f , f u n c t i o n ( b , e ) { r e t u r n " " ! = = a . t r i m ( c ) & & e . l a b e l . t o L o c a l e L o w e r C a s e ( ) . i n d e x O f ( c . t o L o c a l e L o w e r C a s e ( ) ) = = = - 1 | | ( a . i n A r r a y ( e . v a l u e , g ) > - 1 | | ( d . p u s h ( e ) , ! 0 ) ) } ) ; v a r   h = n e w   a . D e f e r r e d ; r e t u r n   h . r e s o l v e ( d ) , h . p r o m i s e ( ) } , p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . v a l u e , l a b e l : b . l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( a , b , d ) { t h i s . l i s t ( a , b ) . t h e n ( d ) [ " c a t c h " ] ( c . e x c e p t i o n ) } } } ) ; 
 d e f i n e ( ' c o r e _ u s e r / p a r t i c i p a n t s ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { B U L K A C T I O N S E L E C T : " # f o r m a c t i o n i d " , B U L K U S E R C H E C K B O X E S : " i n p u t . u s e r c h e c k b o x " , B U L K U S E R N O S C H E C K B O X E S : " i n p u t . u s e r c h e c k b o x [ v a l u e = ' 0 ' ] " , B U L K U S E R S E L E C T E D C H E C K B O X E S : " i n p u t . u s e r c h e c k b o x : c h e c k e d " , B U L K A C T I O N F O R M : " # p a r t i c i p a n t s f o r m " , C H E C K A L L B U T T O N : " # c h e c k a l l " , C H E C K A L L N O S B U T T O N : " # c h e c k a l l n o s " , C H E C K A L L O N P A G E B U T T O N : " # c h e c k a l l o n p a g e " , C H E C K N O N E B U T T O N : " # c h e c k n o n e " } , i = f u n c t i o n ( a ) { t h i s . c o u r s e I d = a . c o u r s e i d , t h i s . n o t e S t a t e N a m e s = a . n o t e S t a t e N a m e s , t h i s . s t a t e H e l p I c o n = a . s t a t e H e l p I c o n , t h i s . a t t a c h E v e n t L i s t e n e r s ( ) } ; r e t u r n   i . p r o t o t y p e . m o d a l = n u l l , i . p r o t o t y p e . c o u r s e I d = - 1 , i . p r o t o t y p e . n o t e S t a t e N a m e s = { } , i . p r o t o t y p e . s t a t e H e l p I c o n = " " , i . p r o t o t y p e . a t t a c h E v e n t L i s t e n e r s = f u n c t i o n ( ) { a ( h . B U L K A C T I O N S E L E C T ) . o n ( " c h a n g e " , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) ; i f ( c . i n d e x O f ( " # " ) ! = = - 1 ) { b . p r e v e n t D e f a u l t ( ) ; v a r   d = [ ] ; a ( h . B U L K U S E R S E L E C T E D C H E C K B O X E S ) . e a c h ( f u n c t i o n ( b , c ) { v a r   e = a ( c ) . a t t r ( " n a m e " ) , f = e . r e p l a c e ( " u s e r " , " " ) ; d . p u s h ( f ) } ) , " # m e s s a g e s e l e c t " = = c ? t h i s . s h o w S e n d M e s s a g e ( d ) . f a i l ( f . e x c e p t i o n ) : " # a d d g r o u p n o t e " = = c & & t h i s . s h o w A d d N o t e ( d ) . f a i l ( f . e x c e p t i o n ) , a ( h . B U L K A C T I O N S E L E C T + '   o p t i o n [ v a l u e = " " ] ' ) . p r o p ( " s e l e c t e d " , " s e l e c t e d " ) } e l s e " " ! = = c & & ( a ( h . B U L K U S E R S E L E C T E D C H E C K B O X E S ) . l e n g t h > 0 ? a ( h . B U L K A C T I O N F O R M ) . s u b m i t ( ) : a ( h . B U L K A C T I O N S E L E C T + '   o p t i o n [ v a l u e = " " ] ' ) . p r o p ( " s e l e c t e d " , " s e l e c t e d " ) ) } . b i n d ( t h i s ) ) , a ( h . C H E C K A L L B U T T O N ) . o n ( " c l i c k " , f u n c t i o n ( ) { v a r   b = a ( t h i s ) . d a t a ( " s h o w a l l i n k " ) ; b & & ( w i n d o w . l o c a t i o n = b ) } ) , a ( h . C H E C K A L L N O S B U T T O N ) . o n ( " c l i c k " , f u n c t i o n ( ) { a ( h . B U L K U S E R N O S C H E C K B O X E S ) . p r o p ( " c h e c k e d " , ! 0 ) } ) , a ( h . C H E C K A L L O N P A G E B U T T O N ) . o n ( " c l i c k " , f u n c t i o n ( ) { a ( h . B U L K U S E R C H E C K B O X E S ) . p r o p ( " c h e c k e d " , ! 0 ) } ) , a ( h . C H E C K N O N E B U T T O N ) . o n ( " c l i c k " , f u n c t i o n ( ) { a ( h . B U L K U S E R C H E C K B O X E S ) . p r o p ( " c h e c k e d " , ! 1 ) } ) } , i . p r o t o t y p e . s h o w A d d N o t e = f u n c t i o n ( f ) { i f ( 0 = = f . l e n g t h ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) ; v a r   g = [ ] ; f o r ( v a r   i   i n   t h i s . n o t e S t a t e N a m e s ) s w i t c h ( i ) { c a s e " d r a f t " : g . p u s h ( { v a l u e : " p e r s o n a l " , l a b e l : t h i s . n o t e S t a t e N a m e s [ i ] } ) ; b r e a k ; c a s e " p u b l i c " : g . p u s h ( { v a l u e : " c o u r s e " , l a b e l : t h i s . n o t e S t a t e N a m e s [ i ] , s e l e c t e d : 1 } ) ; b r e a k ; c a s e " s i t e " : g . p u s h ( { v a l u e : i , l a b e l : t h i s . n o t e S t a t e N a m e s [ i ] } ) } v a r   j = { s t a t e N a m e s : g , s t a t e H e l p I c o n : t h i s . s t a t e H e l p I c o n } , k = n u l l ; r e t u r n   k = 1 = = f . l e n g t h ? b . g e t _ s t r i n g ( " a d d b u l k n o t e s i n g l e " , " c o r e _ n o t e s " ) : b . g e t _ s t r i n g ( " a d d b u l k n o t e " , " c o r e _ n o t e s " , f . l e n g t h ) , a . w h e n ( c . c r e a t e ( { t y p e : c . t y p e s . S A V E _ C A N C E L , b o d y : e . r e n d e r ( " c o r e _ u s e r / a d d _ b u l k _ n o t e " , j ) } ) , k ) . t h e n ( f u n c t i o n ( b , c ) { r e t u r n   t h i s . m o d a l = b , t h i s . m o d a l . s e t T i t l e ( c ) , t h i s . m o d a l . s e t S a v e B u t t o n T e x t ( c ) , t h i s . m o d a l . g e t R o o t ( ) . o n ( d . h i d d e n , f u n c t i o n ( ) { v a r   b = a ( " # u s e r - n o t i f i c a t i o n s   [ r o l e = a l e r t ] " ) ; b . l e n g t h ? b . f o c u s ( ) : a ( h . B U L K A C T I O N S E L E C T ) . f o c u s ( ) , t h i s . m o d a l . g e t R o o t ( ) . r e m o v e ( ) } . b i n d ( t h i s ) ) , t h i s . m o d a l . g e t R o o t ( ) . o n ( d . s a v e , t h i s . s u b m i t A d d N o t e . b i n d ( t h i s , f ) ) , t h i s . m o d a l . s h o w ( ) , t h i s . m o d a l } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . s u b m i t A d d N o t e = f u n c t i o n ( a ) { v a r   c = t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m   t e x t a r e a " ) . v a l ( ) , d = t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m   s e l e c t " ) . v a l ( ) , e = [ ] , h = 0 ; f o r ( h = 0 ; h < a . l e n g t h ; h + + ) e . p u s h ( { u s e r i d : a [ h ] , t e x t : c , c o u r s e i d : t h i s . c o u r s e I d , p u b l i s h s t a t e : d } ) ; r e t u r n   g . c a l l ( [ { m e t h o d n a m e : " c o r e _ n o t e s _ c r e a t e _ n o t e s " , a r g s : { n o t e s : e } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   1 = = a . l e n g t h ? b . g e t _ s t r i n g ( " a d d b u l k n o t e d o n e s i n g l e " , " c o r e _ n o t e s " ) : b . g e t _ s t r i n g ( " a d d b u l k n o t e d o n e " , " c o r e _ n o t e s " , a . l e n g t h ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . a d d N o t i f i c a t i o n ( { m e s s a g e : a , t y p e : " s u c c e s s " } ) , ! 0 } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , i . p r o t o t y p e . s h o w S e n d M e s s a g e = f u n c t i o n ( f ) { i f ( 0 = = f . l e n g t h ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) ; v a r   g = n u l l ; r e t u r n   g = 1 = = f . l e n g t h ? b . g e t _ s t r i n g ( " s e n d b u l k m e s s a g e s i n g l e " , " c o r e _ m e s s a g e " ) : b . g e t _ s t r i n g ( " s e n d b u l k m e s s a g e " , " c o r e _ m e s s a g e " , f . l e n g t h ) , a . w h e n ( c . c r e a t e ( { t y p e : c . t y p e s . S A V E _ C A N C E L , b o d y : e . r e n d e r ( " c o r e _ u s e r / s e n d _ b u l k _ m e s s a g e " , { } ) } ) , g ) . t h e n ( f u n c t i o n ( b , c ) { r e t u r n   t h i s . m o d a l = b , t h i s . m o d a l . s e t T i t l e ( c ) , t h i s . m o d a l . s e t S a v e B u t t o n T e x t ( c ) , t h i s . m o d a l . g e t R o o t ( ) . o n ( d . h i d d e n , f u n c t i o n ( ) { a ( h . B U L K A C T I O N S E L E C T ) . f o c u s ( ) , t h i s . m o d a l . g e t R o o t ( ) . r e m o v e ( ) } . b i n d ( t h i s ) ) , t h i s . m o d a l . g e t R o o t ( ) . o n ( d . s a v e , t h i s . s u b m i t S e n d M e s s a g e . b i n d ( t h i s , f ) ) , t h i s . m o d a l . s h o w ( ) , t h i s . m o d a l } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . s u b m i t S e n d M e s s a g e = f u n c t i o n ( a ) { v a r   c = t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m   t e x t a r e a " ) . v a l ( ) , d = [ ] , e = 0 ; f o r ( e = 0 ; e < a . l e n g t h ; e + + ) d . p u s h ( { t o u s e r i d : a [ e ] , t e x t : c } ) ; r e t u r n   g . c a l l ( [ { m e t h o d n a m e : " c o r e _ m e s s a g e _ s e n d _ i n s t a n t _ m e s s a g e s " , a r g s : { m e s s a g e s : d } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   1 = = a . l e n g t h ? b . g e t _ s t r i n g ( " s e n d b u l k m e s s a g e s e n t s i n g l e " , " c o r e _ m e s s a g e " ) : b . g e t _ s t r i n g ( " s e n d b u l k m e s s a g e s e n t " , " c o r e _ m e s s a g e " , a . l e n g t h ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . a d d N o t i f i c a t i o n ( { m e s s a g e : a , t y p e : " s u c c e s s " } ) , ! 0 } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , { i n i t : f u n c t i o n ( a ) { r e t u r n   n e w   i ( a ) } } } ) ; 
 d e f i n e ( ' c o r e _ u s e r / s t a t u s _ f i e l d ' ,   [ " c o r e / t e m p l a t e s " , " j q u e r y " , " c o r e / s t r " , " c o r e / c o n f i g " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / f r a g m e n t " , " c o r e / a j a x " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = { E D I T _ E N R O L M E N T : ' [ d a t a - a c t i o n = " e d i t e n r o l m e n t " ] ' , S H O W _ D E T A I L S : ' [ d a t a - a c t i o n = " s h o w d e t a i l s " ] ' , U N E N R O L : ' [ d a t a - a c t i o n = " u n e n r o l " ] ' } , k = f u n c t i o n ( a ) { t h i s . c o n t e x t i d = a . c o n t e x t i d , t h i s . c o u r s e i d = a . c o u r s e i d , t h i s . b i n d E d i t E n r o l ( ) , t h i s . b i n d U n e n r o l ( ) , t h i s . b i n d S t a t u s D e t a i l s ( ) } ; r e t u r n   k . p r o t o t y p e . c o u r s e i d = 0 , k . p r o t o t y p e . b i n d E d i t E n r o l = f u n c t i o n ( ) { v a r   a = t h i s ; b ( j . E D I T _ E N R O L M E N T ) . c l i c k ( f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) ; v a r   h = b ( t h i s ) , i = h . p a r e n t ( ) , j = i . d a t a ( " f u l l n a m e " ) , k = h . a t t r ( " r e l " ) ; b . w h e n ( c . g e t _ s t r i n g ( " e d i t u s e r e n r o l m e n t " , " e n r o l " , j ) ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . c r e a t e ( { l a r g e : ! 0 , t i t l e : a , t y p e : f . t y p e s . S A V E _ C A N C E L } ) } ) . d o n e ( f u n c t i o n ( b ) { b . g e t R o o t ( ) . o n ( g . s a v e , f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) , a . s u b m i t E d i t F o r m A j a x ( b ) } ) , b . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { b . d e s t r o y ( ) } ) , b . s e t B o d y ( a . g e t B o d y ( k ) ) , b . s h o w ( ) } ) . f a i l ( e . e x c e p t i o n ) } ) } , k . p r o t o t y p e . b i n d U n e n r o l = f u n c t i o n ( ) { v a r   a = t h i s ; b ( j . U N E N R O L ) . c l i c k ( f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) ; v a r   h = b ( t h i s ) , i = h . p a r e n t ( ) , j = [ { k e y : " u n e n r o l " , c o m p o n e n t : " e n r o l " } , { k e y : " u n e n r o l c o n f i r m " , c o m p o n e n t : " e n r o l " , p a r a m : { u s e r : i . d a t a ( " f u l l n a m e " ) , c o u r s e : i . d a t a ( " c o u r s e n a m e " ) , e n r o l i n s t a n c e n a m e : i . d a t a ( " e n r o l i n s t a n c e n a m e " ) } } ] , k = f . c r e a t e ( { t y p e : f . t y p e s . S A V E _ C A N C E L } ) ; b . w h e n ( c . g e t _ s t r i n g s ( j ) , k ) . d o n e ( f u n c t i o n ( c , e ) { v a r   f = c [ 0 ] , i = c [ 1 ] ; e . s e t T i t l e ( f ) , e . s e t B o d y ( i ) , e . s e t S a v e B u t t o n T e x t ( f ) , e . g e t R o o t ( ) . o n ( g . s a v e , f u n c t i o n ( ) { v a r   c = { u e i d : b ( h ) . a t t r ( " r e l " ) } ; d . p r e v e n t D e f a u l t ( ) , a . s u b m i t U n e n r o l F o r m A j a x ( e , c ) } ) , e . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { e . d e s t r o y ( ) } ) , e . s h o w ( ) } ) . f a i l ( e . e x c e p t i o n ) } ) } , k . p r o t o t y p e . b i n d S t a t u s D e t a i l s = f u n c t i o n ( ) { b ( j . S H O W _ D E T A I L S ) . c l i c k ( f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) ; v a r   h = b ( t h i s ) , i = h . p a r e n t ( ) , k = { f u l l n a m e : i . d a t a ( " f u l l n a m e " ) , c o u r s e n a m e : i . d a t a ( " c o u r s e n a m e " ) , e n r o l i n s t a n c e n a m e : i . d a t a ( " e n r o l i n s t a n c e n a m e " ) , s t a t u s : i . d a t a ( " s t a t u s " ) , s t a t u s c l a s s : i . f i n d ( " s p a n " ) . a t t r ( " c l a s s " ) , t i m e s t a r t : i . d a t a ( " t i m e s t a r t " ) , t i m e e n d : i . d a t a ( " t i m e e n d " ) } , l = [ { k e y : " e n r o l d e t a i l s " , c o m p o n e n t : " e n r o l " } ] , m = h . n e x t ( j . E D I T _ E N R O L M E N T ) ; m . l e n g t h & & ( k . e d i t e n r o l l i n k = b ( " < d i v > " ) . a p p e n d ( m . c l o n e ( ) ) . h t m l ( ) ) ; v a r   n = c . g e t _ s t r i n g s ( l ) , o = f . c r e a t e ( { l a r g e : ! 0 , t y p e : f . t y p e s . C A N C E L } ) ; b . w h e n ( n , o ) . d o n e ( f u n c t i o n ( c , d ) { v a r   e = a . r e n d e r ( " c o r e _ u s e r / s t a t u s _ d e t a i l s " , k ) ; d . s e t T i t l e ( c [ 0 ] ) , d . s e t B o d y ( e ) , m . l e n g t h & & d . g e t R o o t ( ) . o n ( " c l i c k " , j . E D I T _ E N R O L M E N T , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , d . h i d e ( ) , b ( m ) . t r i g g e r ( " c l i c k " ) } ) , d . s h o w ( ) , d . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { d . d e s t r o y ( ) } ) } ) . f a i l ( e . e x c e p t i o n ) } ) } , k . p r o t o t y p e . s u b m i t E d i t F o r m A j a x = f u n c t i o n ( a ) { v a r   c = t h i s , d = a . g e t R o o t ( ) . f i n d ( " f o r m " ) , f = b ( d ) . f i n d ( ' [ n a m e = " u e " ] ' ) . v a l ( ) , g = b ( d ) . f i n d ( ' [ n a m e = " s t a t u s " ] ' ) . v a l ( ) , h = { c o u r s e i d : t h i s . c o u r s e i d , u e i d : f , s t a t u s : g } , j = b ( d ) . f i n d ( ' [ n a m e = " t i m e s t a r t [ e n a b l e d ] " ] ' ) ; i f ( j . i s ( " : c h e c k e d " ) ) { v a r   k = b ( d ) . f i n d ( ' [ n a m e = " t i m e s t a r t [ y e a r ] " ] ' ) . v a l ( ) , l = b ( d ) . f i n d ( ' [ n a m e = " t i m e s t a r t [ m o n t h ] " ] ' ) . v a l ( ) - 1 , m = b ( d ) . f i n d ( ' [ n a m e = " t i m e s t a r t [ d a y ] " ] ' ) . v a l ( ) , n = b ( d ) . f i n d ( ' [ n a m e = " t i m e s t a r t [ h o u r ] " ] ' ) . v a l ( ) , o = b ( d ) . f i n d ( ' [ n a m e = " t i m e s t a r t [ m i n u t e ] " ] ' ) . v a l ( ) , p = n e w   D a t e ( k , l , m , n , o ) ; h . t i m e s t a r t = p . g e t T i m e ( ) / 1 e 3 } v a r   q = b ( d ) . f i n d ( ' [ n a m e = " t i m e e n d [ e n a b l e d ] " ] ' ) ; i f ( q . i s ( " : c h e c k e d " ) ) { v a r   r = b ( d ) . f i n d ( ' [ n a m e = " t i m e e n d [ y e a r ] " ] ' ) . v a l ( ) , s = b ( d ) . f i n d ( ' [ n a m e = " t i m e e n d [ m o n t h ] " ] ' ) . v a l ( ) - 1 , t = b ( d ) . f i n d ( ' [ n a m e = " t i m e e n d [ d a y ] " ] ' ) . v a l ( ) , u = b ( d ) . f i n d ( ' [ n a m e = " t i m e e n d [ h o u r ] " ] ' ) . v a l ( ) , v = b ( d ) . f i n d ( ' [ n a m e = " t i m e e n d [ m i n u t e ] " ] ' ) . v a l ( ) , w = n e w   D a t e ( r , s , t , u , v ) ; h . t i m e e n d = w . g e t T i m e ( ) / 1 e 3 } v a r   x = { m e t h o d n a m e : " c o r e _ e n r o l _ e d i t _ u s e r _ e n r o l m e n t " , a r g s : h } ; i . c a l l ( [ x ] ) [ 0 ] . d o n e ( f u n c t i o n ( b ) { i f ( b . r e s u l t ) a . h i d e ( ) , " u n d e f i n e d " ! = t y p e o f   w i n d o w . M . c o r e _ f o r m c h a n g e c h e c k e r & & w i n d o w . M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) , w i n d o w . l o c a t i o n . r e l o a d ( ) ; e l s e { v a r   e = J S O N . s t r i n g i f y ( d . s e r i a l i z e ( ) ) ; a . s e t B o d y ( c . g e t B o d y ( f , e ) ) } } ) . f a i l ( e . e x c e p t i o n ) } , k . p r o t o t y p e . s u b m i t U n e n r o l F o r m A j a x = f u n c t i o n ( a , b ) { v a r   c = { m e t h o d n a m e : " c o r e _ e n r o l _ u n e n r o l _ u s e r _ e n r o l m e n t " , a r g s : b } ; i . c a l l ( [ c ] ) [ 0 ] . d o n e ( f u n c t i o n ( b ) { b . r e s u l t ? ( a . h i d e ( ) , " u n d e f i n e d " ! = t y p e o f   w i n d o w . M . c o r e _ f o r m c h a n g e c h e c k e r & & w i n d o w . M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) , w i n d o w . l o c a t i o n . r e l o a d ( ) ) : e . a l e r t ( b . e r r o r s [ 0 ] . k e y , b . e r r o r s [ 0 ] . m e s s a g e ) } ) . f a i l ( e . e x c e p t i o n ) } , k . p r o t o t y p e . g e t B o d y = f u n c t i o n ( a , b ) { v a r   c = { u e i d : a } ; r e t u r n " u n d e f i n e d " ! = t y p e o f   b & & ( c . f o r m d a t a = b ) , h . l o a d F r a g m e n t ( " e n r o l " , " u s e r _ e n r o l m e n t _ f o r m " , t h i s . c o n t e x t i d , c ) . f a i l ( e . e x c e p t i o n ) } , { i n i t : f u n c t i o n ( a ) { n e w   k ( a ) } } } ) ; 
 d e f i n e ( ' q t y p e _ d d i m a g e o r t e x t / q u e s t i o n ' ,   [ " j q u e r y " , " c o r e / d r a g d r o p " , " c o r e / k e y _ c o d e s " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a , b , c ) { t h i s . c o n t a i n e r I d = a , M . u t i l . j s _ p e n d i n g ( " q t y p e _ d d i m a g e o r t e x t - i n i t - " + t h i s . c o n t a i n e r I d ) , t h i s . p l a c e s = c , t h i s . a l l I m a g e s L o a d e d = ! 1 , t h i s . i m a g e L o a d i n g T i m e o u t I d = n u l l , b & & t h i s . g e t R o o t ( ) . a d d C l a s s ( " q t y p e _ d d i m a g e o r t e x t - r e a d o n l y " ) ; v a r   d = t h i s ; t h i s . g e t N o t Y e t L o a d e d I m a g e s ( ) . o n e ( " l o a d " , f u n c t i o n ( ) { d . w a i t F o r A l l I m a g e s T o B e L o a d e d ( ) } ) , t h i s . w a i t F o r A l l I m a g e s T o B e L o a d e d ( ) } d . p r o t o t y p e . w a i t F o r A l l I m a g e s T o B e L o a d e d = f u n c t i o n ( ) { v a r   a = t h i s ; i f ( ! t h i s . a l l I m a g e s L o a d e d ) { i f ( n u l l ! = = t h i s . i m a g e L o a d i n g T i m e o u t I d & & c l e a r T i m e o u t ( t h i s . i m a g e L o a d i n g T i m e o u t I d ) , t h i s . g e t N o t Y e t L o a d e d I m a g e s ( ) . l e n g t h > 0 ) r e t u r n   v o i d ( t h i s . i m a g e L o a d i n g T i m e o u t I d = s e t T i m e o u t ( f u n c t i o n ( ) { a . w a i t F o r A l l I m a g e s T o B e L o a d e d ( ) } , 1 0 0 ) ) ; t h i s . a l l I m a g e s L o a d e d = ! 0 , a . s e t u p Q u e s t i o n ( ) } } , d . p r o t o t y p e . g e t N o t Y e t L o a d e d I m a g e s = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d d a r e a   i m g " ) . n o t ( f u n c t i o n ( b , c ) { r e t u r n   a . i m a g e I s L o a d e d ( c ) } ) } , d . p r o t o t y p e . i m a g e I s L o a d e d = f u n c t i o n ( a ) { r e t u r n   a . c o m p l e t e & & 0 ! = = a . n a t u r a l H e i g h t } , d . p r o t o t y p e . s e t u p Q u e s t i o n = f u n c t i o n ( ) { t h i s . r e s i z e A l l D r a g s A n d D r o p s ( ) , t h i s . c l o n e D r a g s ( ) , t h i s . p o s i t i o n D r a g s A n d D r o p s ( ) , M . u t i l . j s _ c o m p l e t e ( " q t y p e _ d d i m a g e o r t e x t - i n i t - " + t h i s . c o n t a i n e r I d ) } , d . p r o t o t y p e . r e s i z e A l l D r a g s A n d D r o p s = f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . g e t R o o t ( ) . f i n d ( " . d r a g h o m e s   >   d i v " ) . e a c h ( f u n c t i o n ( c , d ) { b . r e s i z e A l l D r a g s A n d D r o p s I n G r o u p ( b . g e t C l a s s n a m e N u m e r i c S u f f i x ( a ( d ) , " d r a g i t e m g r o u p " ) ) } ) } , d . p r o t o t y p e . r e s i z e A l l D r a g s A n d D r o p s I n G r o u p = f u n c t i o n ( b ) { v a r   c = t h i s . g e t R o o t ( ) , d = c . f i n d ( " . d r a g i t e m g r o u p " + b + "   . d r a g h o m e " ) , e = 0 , f = 0 ; d . e a c h ( f u n c t i o n ( a , b ) { e = M a t h . m a x ( e , M a t h . c e i l ( b . o f f s e t W i d t h ) ) , f = M a t h . m a x ( f , M a t h . c e i l ( b . o f f s e t H e i g h t ) ) } ) , e + = 1 0 , f + = 1 0 , d . e a c h ( f u n c t i o n ( b , c ) { v a r   d = M a t h . r o u n d ( ( e - c . o f f s e t W i d t h ) / 2 ) , g = M a t h . f l o o r ( ( f - c . o f f s e t H e i g h t ) / 2 ) ; a ( c ) . c s s ( { " p a d d i n g - l e f t " : d + " p x " , " p a d d i n g - r i g h t " : e - c . o f f s e t W i d t h - d + " p x " , " p a d d i n g - t o p " : g + " p x " , " p a d d i n g - b o t t o m " : f - c . o f f s e t H e i g h t - g + " p x " } ) } ) ; f o r ( v a r   g   i n   t h i s . p l a c e s ) i f ( t h i s . p l a c e s . h a s O w n P r o p e r t y ( g ) ) { v a r   h = t h i s . p l a c e s [ g ] , i = h . t e x t ; p a r s e I n t ( h . g r o u p ) = = = b & & ( " " = = = i & & ( i = M . u t i l . g e t _ s t r i n g ( " b l a n k " , " q t y p e _ d d i m a g e o r t e x t " ) ) , c . f i n d ( " . d r o p z o n e s " ) . a p p e n d ( ' < d i v   c l a s s = " d r o p z o n e   g r o u p ' + h . g r o u p + "   p l a c e " + g + ' "   t a b i n d e x = " 0 " > < s p a n   c l a s s = " a c c e s s h i d e " > ' + i + " < / s p a n > & n b s p ; < / d i v > " ) , c . f i n d ( " . d r o p z o n e . p l a c e " + g ) . w i d t h ( e - 2 ) . h e i g h t ( f - 2 ) ) } } , d . p r o t o t y p e . c l o n e D r a g s = f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . g e t R o o t ( ) . f i n d ( " . d d a r e a   . d r a g h o m e " ) . e a c h ( f u n c t i o n ( c , d ) { b . c l o n e D r a g s F o r O n e C h o i c e ( a ( d ) ) } ) } , d . p r o t o t y p e . c l o n e D r a g s F o r O n e C h o i c e = f u n c t i o n ( a ) { i f ( a . h a s C l a s s ( " i n f i n i t e " ) ) f o r ( v a r   b = t h i s . n o O f D r o p s I n G r o u p ( t h i s . g e t G r o u p ( a ) ) , c = 0 ; c < b ; c + + ) t h i s . c l o n e D r a g ( a ) ; e l s e   t h i s . c l o n e D r a g ( a ) } , d . p r o t o t y p e . c l o n e D r a g = f u n c t i o n ( a ) { v a r   b = a . c l o n e ( ) ; b . r e m o v e C l a s s ( " d r a g h o m e " ) . a d d C l a s s ( " d r a g   u n p l a c e d   m o o d l e - h a s - z i n d e x " ) . o f f s e t ( a . o f f s e t ( ) ) , t h i s . g e t R o o t ( ) . f i n d ( " . d r a g i t e m s " ) . a p p e n d ( b ) } , d . p r o t o t y p e . p o s i t i o n D r a g s A n d D r o p s = f u n c t i o n ( ) { v a r   b = t h i s , c = t h i s . g e t R o o t ( ) , d = t h i s . b g I m a g e ( ) . o f f s e t ( ) ; c . f i n d ( " . d d a r e a   . d r o p z o n e " ) . e a c h ( f u n c t i o n ( c , e ) { v a r   f = a ( e ) , g = b . p l a c e s [ b . g e t P l a c e ( f ) ] ; f . o f f s e t ( { l e f t : d . l e f t + p a r s e I n t ( g . x y [ 0 ] ) , t o p : d . t o p + p a r s e I n t ( g . x y [ 1 ] ) } ) } ) , c . f i n d ( " . d d a r e a   . d r a g " ) . e a c h ( f u n c t i o n ( c , d ) { v a r   e = a ( d ) , f = b . g e t C l a s s n a m e N u m e r i c S u f f i x ( e , " i n p l a c e " ) ; e . a d d C l a s s ( " u n p l a c e d " ) . r e m o v e C l a s s ( " p l a c e d " ) . o f f s e t ( b . g e t D r a g H o m e ( b . g e t G r o u p ( e ) , b . g e t C h o i c e ( e ) ) . o f f s e t ( ) ) , n u l l ! = = f & & e . r e m o v e C l a s s ( " i n p l a c e " + f ) } ) , c . f i n d ( " i n p u t . p l a c e i n p u t " ) . e a c h ( f u n c t i o n ( d , e ) { v a r   f = a ( e ) , g = f . v a l ( ) ; i f ( " 0 " ! = = g ) { v a r   h = b . g e t P l a c e ( f ) ; b . g e t U n p l a c e d C h o i c e ( b . g e t G r o u p ( f ) , g ) . r e m o v e C l a s s ( " u n p l a c e d " ) . a d d C l a s s ( " p l a c e d   i n p l a c e " + h ) . o f f s e t ( c . f i n d ( " . d r o p z o n e . p l a c e " + h ) . o f f s e t ( ) ) } } ) , t h i s . b g I m a g e ( ) . d a t a ( " p r e v - t o p " , d . t o p ) . d a t a ( " p r e v - l e f t " , d . l e f t ) } , d . p r o t o t y p e . f i x L a y o u t I f B a c k g r o u n d M o v e d = f u n c t i o n ( ) { v a r   a = t h i s . b g I m a g e ( ) , b = a . o f f s e t ( ) , c = a . d a t a ( " p r e v - t o p " ) , d = a . d a t a ( " p r e v - l e f t " ) ; v o i d   0 ! = = d & & v o i d   0 ! = = c & & ( c = = = b . t o p & & d = = = b . l e f t | | t h i s . p o s i t i o n D r a g s A n d D r o p s ( ) ) } , d . p r o t o t y p e . h a n d l e D r a g S t a r t = f u n c t i o n ( c ) { v a r   d = t h i s , e = a ( c . t a r g e t ) . c l o s e s t ( " . d r a g " ) , f = b . p r e p a r e ( c ) ; i f ( f . s t a r t ) { v a r   g = t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( e , " i n p l a c e " ) ; n u l l ! = = g & & ( t h i s . s e t I n p u t V a l u e ( g , 0 ) , e . r e m o v e C l a s s ( " i n p l a c e " + g ) ) , e . a d d C l a s s ( " b e i n g d r a g g e d " ) , b . s t a r t ( c , e , f u n c t i o n ( a , b , c ) { d . d r a g M o v e ( a , b , c ) } , f u n c t i o n ( a , b , c ) { d . d r a g E n d ( a , b , c ) } ) } } , d . p r o t o t y p e . d r a g M o v e = f u n c t i o n ( b , c , d ) { v a r   e = t h i s ; t h i s . g e t R o o t ( ) . f i n d ( " . d r o p z o n e . g r o u p " + t h i s . g e t G r o u p ( d ) ) . e a c h ( f u n c t i o n ( d , f ) { v a r   g = a ( f ) ; e . i s P o i n t I n D r o p ( b , c , g ) ? g . a d d C l a s s ( " v a l i d - d r a g - o v e r - d r o p " ) : g . r e m o v e C l a s s ( " v a l i d - d r a g - o v e r - d r o p " ) } ) } , d . p r o t o t y p e . d r a g E n d = f u n c t i o n ( b , c , d ) { v a r   e = t h i s , f = t h i s . g e t R o o t ( ) , g = ! 1 ; f . f i n d ( " . d r o p z o n e . g r o u p " + t h i s . g e t G r o u p ( d ) ) . e a c h ( f u n c t i o n ( f , h ) { v a r   i = a ( h ) ; r e t u r n ! e . i s P o i n t I n D r o p ( b , c , i ) | | ( i . r e m o v e C l a s s ( " v a l i d - d r a g - o v e r - d r o p " ) , e . s e n d D r a g T o D r o p ( d , i ) , g = ! 0 , ! 1 ) } ) , g | | t h i s . s e n d D r a g H o m e ( d ) } , d . p r o t o t y p e . s e n d D r a g T o D r o p = f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t C u r r e n t D r a g I n P l a c e ( t h i s . g e t P l a c e ( b ) ) ; 0 ! = = c . l e n g t h & & t h i s . s e n d D r a g H o m e ( c ) , 0 = = = a . l e n g t h ? t h i s . s e t I n p u t V a l u e ( t h i s . g e t P l a c e ( b ) , 0 ) : ( t h i s . s e t I n p u t V a l u e ( t h i s . g e t P l a c e ( b ) , t h i s . g e t C h o i c e ( a ) ) , a . r e m o v e C l a s s ( " u n p l a c e d " ) . a d d C l a s s ( " p l a c e d   i n p l a c e " + t h i s . g e t P l a c e ( b ) ) , t h i s . a n i m a t e T o ( a , b ) ) } , d . p r o t o t y p e . s e n d D r a g H o m e = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " p l a c e d " ) . a d d C l a s s ( " u n p l a c e d " ) ; v a r   b = t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " i n p l a c e " ) ; n u l l ! = = b & & a . r e m o v e C l a s s ( " i n p l a c e " + b ) , t h i s . a n i m a t e T o ( a , t h i s . g e t D r a g H o m e ( t h i s . g e t G r o u p ( a ) , t h i s . g e t C h o i c e ( a ) ) ) } , d . p r o t o t y p e . h a n d l e K e y P r e s s = f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( " . d r o p z o n e " ) , e = t h i s . g e t C u r r e n t D r a g I n P l a c e ( t h i s . g e t P l a c e ( d ) ) , f = a ( ) ; s w i t c h ( b . k e y C o d e ) { c a s e   c . s p a c e : c a s e   c . a r r o w R i g h t : c a s e   c . a r r o w D o w n : f = t h i s . g e t N e x t D r a g ( t h i s . g e t G r o u p ( d ) , e ) ; b r e a k ; c a s e   c . a r r o w L e f t : c a s e   c . a r r o w U p : f = t h i s . g e t P r e v i o u s D r a g ( t h i s . g e t G r o u p ( d ) , e ) ; b r e a k ; c a s e   c . e s c a p e : b r e a k ; d e f a u l t : r e t u r n } b . p r e v e n t D e f a u l t ( ) , t h i s . s e n d D r a g T o D r o p ( f , d ) } , d . p r o t o t y p e . g e t N e x t D r a g = f u n c t i o n ( a , b ) { v a r   c , d = t h i s . n o O f C h o i c e s I n G r o u p ( a ) ; c = 0 = = = b . l e n g t h ? 1 : t h i s . g e t C h o i c e ( b ) + 1 ; f o r ( v a r   e = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; 0 = = = e . l e n g t h & & c < d ; ) c + + , e = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; r e t u r n   e } , d . p r o t o t y p e . g e t P r e v i o u s D r a g = f u n c t i o n ( a , b ) { v a r   c ; c = 0 = = = b . l e n g t h ? t h i s . n o O f C h o i c e s I n G r o u p ( a ) : t h i s . g e t C h o i c e ( b ) - 1 ; f o r ( v a r   d = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; 0 = = = d . l e n g t h & & c > 1 ; ) c - - , d = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; r e t u r n   d } , d . p r o t o t y p e . a n i m a t e T o = f u n c t i o n ( a , b ) { v a r   c = a . o f f s e t ( ) , d = b . o f f s e t ( ) ; a . a d d C l a s s ( " b e i n g d r a g g e d " ) , a . a n i m a t e ( { l e f t : p a r s e I n t ( a . c s s ( " l e f t " ) ) + d . l e f t - c . l e f t , t o p : p a r s e I n t ( a . c s s ( " t o p " ) ) + d . t o p - c . t o p } , { d u r a t i o n : " f a s t " , d o n e : f u n c t i o n ( ) { a . r e m o v e C l a s s ( " b e i n g d r a g g e d " ) , a . o f f s e t ( d ) } } ) } , d . p r o t o t y p e . i s P o i n t I n D r o p = f u n c t i o n ( a , b , c ) { v a r   d = c . o f f s e t ( ) ; r e t u r n   a > = d . l e f t & & a < d . l e f t + c . w i d t h ( ) & & b > = d . t o p & & b < d . t o p + c . h e i g h t ( ) } , d . p r o t o t y p e . s e t I n p u t V a l u e = f u n c t i o n ( a , b ) { t h i s . g e t R o o t ( ) . f i n d ( " i n p u t . p l a c e i n p u t . p l a c e " + a ) . v a l ( b ) } , d . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   a ( d o c u m e n t . g e t E l e m e n t B y I d ( t h i s . c o n t a i n e r I d ) ) } , d . p r o t o t y p e . b g I m a g e = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " i m g . d r o p b a c k g r o u n d " ) } , d . p r o t o t y p e . g e t D r a g H o m e = f u n c t i o n ( a , b ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d d a r e a   . d r a g h o m e . g r o u p " + a + " . c h o i c e " + b ) } , d . p r o t o t y p e . g e t U n p l a c e d C h o i c e = f u n c t i o n ( a , b ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d d a r e a   . d r a g . g r o u p " + a + " . c h o i c e " + b + " . u n p l a c e d " ) . s l i c e ( 0 , 1 ) } , d . p r o t o t y p e . g e t C u r r e n t D r a g I n P l a c e = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d d a r e a   . d r a g . i n p l a c e " + a ) } , d . p r o t o t y p e . n o O f D r o p s I n G r o u p = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d r o p z o n e . g r o u p " + a ) . l e n g t h } , d . p r o t o t y p e . n o O f C h o i c e s I n G r o u p = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d r a g i t e m g r o u p " + a + "   . d r a g h o m e " ) . l e n g t h } , d . p r o t o t y p e . g e t C l a s s n a m e N u m e r i c S u f f i x = f u n c t i o n ( a , b ) { v a r   c = a . a t t r ( " c l a s s " ) ; i f ( " " ! = = c ) f o r ( v a r   d = c . s p l i t ( "   " ) , e = 0 ; e < d . l e n g t h ; e + + ) { v a r   f = n e w   R e g E x p ( " ^ " + b + " ( [ 0 - 9 ] ) + $ " ) ; i f ( f . t e s t ( d [ e ] ) ) { v a r   g = n e w   R e g E x p ( " ( [ 0 - 9 ] ) + $ " ) , h = g . e x e c ( d [ e ] ) ; r e t u r n   N u m b e r ( h [ 0 ] ) } } r e t u r n   n u l l } , d . p r o t o t y p e . g e t C h o i c e = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " c h o i c e " ) } , d . p r o t o t y p e . g e t G r o u p = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " g r o u p " ) } , d . p r o t o t y p e . g e t P l a c e = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " p l a c e " ) } ; v a r   e = { e v e n t H a n d l e r s I n i t i a l i s e d : ! 1 , q u e s t i o n s : { } , i n i t : f u n c t i o n ( a , b , c ) { e . q u e s t i o n s [ a ] = n e w   d ( a , b , c ) , e . e v e n t H a n d l e r s I n i t i a l i s e d | | ( e . s e t u p E v e n t H a n d l e r s ( ) , e . e v e n t H a n d l e r s I n i t i a l i s e d = ! 0 ) } , s e t u p E v e n t H a n d l e r s : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " m o u s e d o w n   t o u c h s t a r t " , " . q u e . d d i m a g e o r t e x t : n o t ( . q t y p e _ d d i m a g e o r t e x t - r e a d o n l y )   . d r a g i t e m s   . d r a g " , e . h a n d l e D r a g S t a r t ) . o n ( " k e y d o w n " , " . q u e . d d i m a g e o r t e x t : n o t ( . q t y p e _ d d i m a g e o r t e x t - r e a d o n l y )   . d r o p z o n e s   . d r o p z o n e " , e . h a n d l e K e y P r e s s ) , a ( w i n d o w ) . o n ( " r e s i z e " , e . h a n d l e W i n d o w R e s i z e ) , s e t T i m e o u t ( e . f i x L a y o u t I f T h i n g s M o v e d , 1 0 0 ) } , h a n d l e D r a g S t a r t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = e . g e t Q u e s t i o n F o r E v e n t ( a ) ; b & & b . h a n d l e D r a g S t a r t ( a ) } , h a n d l e K e y P r e s s : f u n c t i o n ( a ) { v a r   b = e . g e t Q u e s t i o n F o r E v e n t ( a ) ; b & & b . h a n d l e K e y P r e s s ( a ) } , h a n d l e W i n d o w R e s i z e : f u n c t i o n ( ) { f o r ( v a r   a   i n   e . q u e s t i o n s ) e . q u e s t i o n s . h a s O w n P r o p e r t y ( a ) & & e . q u e s t i o n s [ a ] . p o s i t i o n D r a g s A n d D r o p s ( ) } , f i x L a y o u t I f T h i n g s M o v e d : f u n c t i o n ( ) { f o r ( v a r   a   i n   e . q u e s t i o n s ) e . q u e s t i o n s . h a s O w n P r o p e r t y ( a ) & & e . q u e s t i o n s [ a ] . f i x L a y o u t I f B a c k g r o u n d M o v e d ( ) ; s e t T i m e o u t ( e . f i x L a y o u t I f T h i n g s M o v e d , 1 0 0 ) } , g e t Q u e s t i o n F o r E v e n t : f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . c l o s e s t ( " . q u e . d d i m a g e o r t e x t " ) . a t t r ( " i d " ) ; r e t u r n   e . q u e s t i o n s [ c ] } } ; r e t u r n { i n i t : e . i n i t } } ) ; 
 d e f i n e ( ' q t y p e _ d d i m a g e o r t e x t / f o r m ' ,   [ " j q u e r y " , " c o r e / d r a g d r o p " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; v a r   c = { m a x B g I m a g e S i z e : n u l l , m a x D r a g I m a g e S i z e : n u l l , f p : n u l l , i n i t : f u n c t i o n ( b , d ) { c . m a x B g I m a g e S i z e = b , c . m a x D r a g I m a g e S i z e = d , c . f p = c . f i l e P i c k e r s ( ) , a ( " # i d _ p r e v i e w a r e a h e a d e r " ) . a p p e n d ( ' < d i v   c l a s s = " d d a r e a " >     < d i v   c l a s s = " d r o p a r e a " >         < i m g   c l a s s = " d r o p b a c k g r o u n d "   / >         < d i v   c l a s s = " d r o p z o n e s " > < / d i v >     < / d i v >     < d i v   c l a s s = " d r a g i t e m s " > < / d i v > < / d i v > ' ) , c . u p d a t e V i s i b i l i t y O f F i l e P i c k e r s ( ) , c . s e t O p t i o n s F o r D r a g I t e m S e l e c t o r s ( ) , c . s e t u p E v e n t H a n d l e r s ( ) , c . w a i t F o r F i l e P i c k e r T o I n i t i a l i s e ( ) } , w a i t F o r F i l e P i c k e r T o I n i t i a l i s e : f u n c t i o n ( ) { r e t u r n   n u l l = = = c . f p . f i l e ( " b g i m a g e " ) . h r e f ? v o i d   s e t T i m e o u t ( c . w a i t F o r F i l e P i c k e r T o I n i t i a l i s e , 1 e 3 ) : ( M . u t i l . j s _ p e n d i n g ( " d r a g D r o p T o I m a g e F o r m " ) , a ( " f o r m . m f o r m " ) . o n ( " c h a n g e " , " . f i l e p i c k e r h i d d e n " , f u n c t i o n ( ) { M . u t i l . j s _ p e n d i n g ( " d r a g D r o p T o I m a g e F o r m " ) , c . l o a d P r e v i e w I m a g e ( ) } ) , v o i d   c . l o a d P r e v i e w I m a g e ( ) ) } , l o a d P r e v i e w I m a g e : f u n c t i o n ( ) { a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) . o n e ( " l o a d " , c . a f t e r P r e v i e w I m a g e L o a d e d ) . a t t r ( " s r c " , c . f p . f i l e ( " b g i m a g e " ) . h r e f ) } , a f t e r P r e v i e w I m a g e L o a d e d : f u n c t i o n ( ) { v a r   b = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) ; c . c o n s t r a i n I m a g e S i z e ( b , c . m a x B g I m a g e S i z e ) , c . c r e a t e D r o p Z o n e s ( ) , M . u t i l . j s _ c o m p l e t e ( " d r a g D r o p T o I m a g e F o r m " ) } , c o n s t r a i n I m a g e S i z e : f u n c t i o n ( a , b ) { v a r   c = M a t h . m a x ( a . w i d t h ( ) / b . w i d t h , a . h e i g h t ( ) / b . h e i g h t ) ; c > 1 & & a . c s s ( " w i d t h " , M a t h . f l o o r ( a . w i d t h ( ) / c ) ) , a . a d d C l a s s ( " c o n s t r a i n e d " ) } , c r e a t e D r o p Z o n e s : f u n c t i o n ( ) { v a r   b = a ( " . d r o p z o n e s " ) ; b . e m p t y ( ) ; v a r   d = c . f p . f i l e ( " b g i m a g e " ) . h r e f ; i f ( n u l l ! = = d ) { f o r ( v a r   e = c . f o r m . g e t F o r m V a l u e ( " n o d r o p z o n e " , [ ] ) , f = 0 ; f < e ; f + + ) { v a r   g = c . f o r m . g e t F o r m V a l u e ( " d r o p s " , [ f , " c h o i c e " ] ) ; i f ( " 0 " ! = = g ) { g - = 1 ; v a r   h = c . f o r m . g e t F o r m V a l u e ( " d r a g s " , [ g , " d r a g g r o u p " ] ) , i = c . f o r m . g e t F o r m V a l u e ( " d r a g l a b e l " , [ g ] ) ; i f ( " i m a g e " = = = c . f o r m . g e t F o r m V a l u e ( " d r a g s " , [ g , " d r a g i t e m t y p e " ] ) ) { v a r   j = c . f p . f i l e ( " d r a g i t e m [ " + g + " ] " ) . h r e f ; i f ( n u l l = = = j ) c o n t i n u e ; b . a p p e n d ( ' < i m g   c l a s s = " d r o p p r e v i e w   g r o u p ' + h + "   d r o p " + f + ' "   s r c = " ' + j + ' "   a l t = " ' + i + ' "   d a t a - d r o p - n o = " ' + f + ' " > ' ) } e l s e " " ! = = i & & b . a p p e n d ( ' < d i v   c l a s s = " d r o p p r e v i e w   g r o u p ' + h + "   d r o p " + f + ' "     d a t a - d r o p - n o = " ' + f + ' " > ' + i + " < / d i v > " ) } } c . w a i t F o r A l l D r o p I m a g e s T o B e L o a d e d ( ) } } , w a i t F o r A l l D r o p I m a g e s T o B e L o a d e d : f u n c t i o n ( ) { v a r   b = a ( " . d r o p z o n e s   i m g " ) . n o t ( f u n c t i o n ( a , b ) { r e t u r n   c . i m a g e I s L o a d e d ( b ) } ) ; r e t u r n   b . l e n g t h > 0 ? v o i d   s e t T i m e o u t ( f u n c t i o n ( ) { c . w a i t F o r A l l D r o p I m a g e s T o B e L o a d e d ( ) } , 1 0 0 ) : v o i d   c . u p d a t e D r o p Z o n e s ( ) } , i m a g e I s L o a d e d : f u n c t i o n ( a ) { r e t u r n   a . c o m p l e t e & & 0 ! = = a . n a t u r a l H e i g h t } , u p d a t e D r o p Z o n e s : f u n c t i o n ( ) { v a r   b = c . f p . f i l e ( " b g i m a g e " ) . h r e f ; i f ( n u l l ! = = b ) { f o r ( v a r   d = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) . o f f s e t ( ) , e = c . f o r m . g e t F o r m V a l u e ( " n o d r o p z o n e " , [ ] ) , f = 0 ; f < e ; f + + ) { v a r   g = a ( " . d r o p z o n e s   . d r o p " + f ) ; i f ( 0 ! = = g . l e n g t h ) { v a r   h = c . f o r m . g e t F o r m V a l u e ( " d r o p s " , [ f , " c h o i c e " ] ) - 1 ; g . o f f s e t ( { l e f t : d . l e f t + p a r s e I n t ( c . f o r m . g e t F o r m V a l u e ( " d r o p s " , [ f , " x l e f t " ] ) ) , t o p : d . t o p + p a r s e I n t ( c . f o r m . g e t F o r m V a l u e ( " d r o p s " , [ f , " y t o p " ] ) ) } ) ; v a r   i = c . f o r m . g e t F o r m V a l u e ( " d r a g l a b e l " , [ h ] ) ; g . i s ( " i m g " ) ? g . a t t r ( " a l t " , i ) : g . h t m l ( i ) } } a ( " . d r o p z o n e s   . d r o p p r e v i e w " ) . c s s ( " p a d d i n g " , " 0 " ) ; f o r ( v a r   j = a ( " s e l e c t . d r a g g r o u p " ) . f i r s t ( ) . f i n d ( " o p t i o n " ) . l e n g t h , k = 1 ; k < = j ; k + + ) c . r e s i z e A l l D r a g s A n d D r o p s I n G r o u p ( k ) } } , r e s i z e A l l D r a g s A n d D r o p s I n G r o u p : f u n c t i o n ( b ) { v a r   c = a ( " . d r o p z o n e s   . d r o p p r e v i e w . g r o u p " + b ) , d = 0 , e = 0 ; c . e a c h ( f u n c t i o n ( a , b ) { d = M a t h . m a x ( d , M a t h . c e i l ( b . o f f s e t W i d t h ) ) , e = M a t h . m a x ( e , M a t h . c e i l ( b . o f f s e t H e i g h t ) ) } ) , d + = 1 0 , e + = 1 0 , c . e a c h ( f u n c t i o n ( b , c ) { v a r   f = M a t h . r o u n d ( ( d - c . o f f s e t W i d t h ) / 2 ) , g = M a t h . f l o o r ( ( e - c . o f f s e t H e i g h t ) / 2 ) ; a ( c ) . c s s ( { " p a d d i n g - l e f t " : f + " p x " , " p a d d i n g - r i g h t " : d - c . o f f s e t W i d t h - f + " p x " , " p a d d i n g - t o p " : g + " p x " , " p a d d i n g - b o t t o m " : e - c . o f f s e t H e i g h t - g + " p x " } ) } ) } , s e t u p E v e n t H a n d l e r s : f u n c t i o n ( ) { a ( " f i e l d s e t # i d _ d r a g g a b l e i t e m h e a d e r " ) . o n ( " c h a n g e   i n p u t " , " i n p u t ,   s e l e c t " , f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( " s e l e c t ,   i n p u t " ) ; d . h a s C l a s s ( " d r a g i t e m t y p e " ) & & c . u p d a t e V i s i b i l i t y O f F i l e P i c k e r s ( ) , c . s e t O p t i o n s F o r D r a g I t e m S e l e c t o r s ( ) , d . i s ( " . d r a g i t e m t y p e ,   . d r a g g r o u p " ) ? c . c r e a t e D r o p Z o n e s ( ) : d . i s ( " . d r a g l a b e l " ) & & c . u p d a t e D r o p Z o n e s ( ) } ) , a ( " f i e l d s e t # i d _ d r o p z o n e h e a d e r " ) . o n ( " c h a n g e   i n p u t " , " i n p u t ,   s e l e c t " , f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( " s e l e c t ,   i n p u t " ) ; d . i s ( " s e l e c t " ) ? c . c r e a t e D r o p Z o n e s ( ) : c . u p d a t e D r o p Z o n e s ( ) } ) , a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r " ) . o n ( " m o u s e d o w n   t o u c h s t a r t " , " . d r o p p r e v i e w " , f u n c t i o n ( a ) { c . d r a g S t a r t ( a ) } ) , a ( w i n d o w ) . o n ( " r e s i z e " , f u n c t i o n ( ) { c . u p d a t e D r o p Z o n e s ( ) } ) } , u p d a t e V i s i b i l i t y O f F i l e P i c k e r s : f u n c t i o n ( ) { f o r ( v a r   b = c . f o r m . g e t F o r m V a l u e ( " n o i t e m s " , [ ] ) , d = 0 ; d < b ; d + + ) { v a r   e = a ( " i n p u t # i d _ d r a g i t e m _ " + d ) . c l o s e s t ( " . f i t e m _ f f i l e p i c k e r " ) ; " i m a g e " = = = c . f o r m . g e t F o r m V a l u e ( " d r a g s " , [ d , " d r a g i t e m t y p e " ] ) ? e . s h o w ( ) : e . h i d e ( ) } } , s e t O p t i o n s F o r D r a g I t e m S e l e c t o r s : f u n c t i o n ( ) { f o r ( v a r   b = { 0 : " " } , d = c . f o r m . g e t F o r m V a l u e ( " n o i t e m s " , [ ] ) , e = c . f o r m . g e t F o r m V a l u e ( " n o d r o p z o n e " , [ ] ) , f = 0 ; f < d ; f + + ) { v a r   g = c . f o r m . g e t F o r m V a l u e ( " d r a g l a b e l " , [ f ] ) , h = c . f p . f i l e ( c . f o r m . t o N a m e W i t h I n d e x ( " d r a g i t e m " , [ f ] ) ) ; " i m a g e " = = = c . f o r m . g e t F o r m V a l u e ( " d r a g s " , [ f , " d r a g i t e m t y p e " ] ) & & n u l l ! = = h . n a m e ? b [ f + 1 ] = f + 1 + " .   " + g + "   ( " + h . n a m e + " ) " : " " ! = = g & & ( b [ f + 1 ] = f + 1 + " .   " + g ) } f o r ( v a r   i = 0 ; i < e ; i + + ) { v a r   j = a ( " # i d _ d r o p s _ " + i + " _ c h o i c e " ) , k = j . v a l ( ) ; j . f i n d ( " o p t i o n " ) . r e m o v e ( ) ; f o r ( v a r   l   i n   b ) i f ( b . h a s O w n P r o p e r t y ( l ) ) { j . a p p e n d ( ' < o p t i o n   v a l u e = " ' + l + ' " > ' + b [ l ] + " < / o p t i o n > " ) ; v a r   m = j . f i n d ( ' o p t i o n [ v a l u e = " ' + l + ' " ] ' ) ; p a r s e I n t ( l ) = = = p a r s e I n t ( k ) ? m . a t t r ( " s e l e c t e d " , ! 0 ) : c . i s I t e m U s e d ( p a r s e I n t ( l ) ) & & m . a t t r ( " d i s a b l e d " , ! 0 ) } } } , i s I t e m U s e d : f u n c t i o n ( b ) { r e t u r n   0 ! = = b & & ( ! c . f o r m . g e t F o r m V a l u e ( " d r a g s " , [ b - 1 , " i n f i n i t e " ] ) & & 0 ! = = a ( " f i e l d s e t # i d _ d r o p z o n e h e a d e r   s e l e c t " ) . f i l t e r ( f u n c t i o n ( c , d ) { r e t u r n   p a r s e I n t ( a ( d ) . v a l ( ) ) = = = b } ) . l e n g t h ) } , d r a g S t a r t : f u n c t i o n ( d ) { v a r   e = a ( d . t a r g e t ) . c l o s e s t ( " . d r o p p r e v i e w " ) , f = b . p r e p a r e ( d ) ; f . s t a r t & & b . s t a r t ( d , e , f u n c t i o n ( a , b , d ) { c . d r a g M o v e ( d ) } , f u n c t i o n ( ) { c . d r a g E n d ( ) } ) } , d r a g M o v e : f u n c t i o n ( b ) { v a r   d = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) , e = d . o f f s e t ( ) , f = b . d a t a ( " d r o p N o " ) , g = b . o f f s e t ( ) , h = M a t h . r o u n d ( g . l e f t - e . l e f t ) , i = M a t h . r o u n d ( g . t o p - e . t o p ) ; h = M a t h . m a x ( 0 , M a t h . m i n ( h , d . w i d t h ( ) - b . w i d t h ( ) - 1 0 ) ) , i = M a t h . m a x ( 0 , M a t h . m i n ( i , d . h e i g h t ( ) - b . h e i g h t ( ) - 1 0 ) ) , c . f o r m . s e t F o r m V a l u e ( " d r o p s " , [ f , " x l e f t " ] , h ) , c . f o r m . s e t F o r m V a l u e ( " d r o p s " , [ f , " y t o p " ] , i ) } , d r a g E n d : f u n c t i o n ( ) { c . u p d a t e D r o p Z o n e s ( ) } , f o r m : { t o N a m e W i t h I n d e x : f u n c t i o n ( a , b ) { f o r ( v a r   c = a , d = 0 ; d < b . l e n g t h ; d + + ) c = c + " [ " + b [ d ] + " ] " ; r e t u r n   c } , g e t E l : f u n c t i o n ( a , b ) { v a r   c = d o c u m e n t . g e t E l e m e n t B y I d ( " m f o r m 1 " ) ; r e t u r n   c . e l e m e n t s [ t h i s . t o N a m e W i t h I n d e x ( a , b ) ] } , g e t F o r m V a l u e : f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t E l ( a , b ) ; r e t u r n   c . t y p e | | ( c = c [ c . l e n g t h - 1 ] ) , " c h e c k b o x " = = = c . t y p e ? c . c h e c k e d : c . v a l u e } , s e t F o r m V a l u e : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . g e t E l ( a , b ) ; " c h e c k b o x " = = = d . t y p e ? d . c h e c k e d = c : d . v a l u e = c } } , f i l e P i c k e r s : f u n c t i o n ( ) { v a r   b , c ; i f ( v o i d   0 = = = b ) { b = { } , c = { } ; v a r   d = a ( " f o r m . m f o r m   i n p u t . f i l e p i c k e r h i d d e n " ) ; d . e a c h ( f u n c t i o n ( a , d ) { b [ d . v a l u e ] = d . n a m e , c [ d . n a m e ] = d . p a r e n t N o d e } ) } r e t u r n { f i l e : f u n c t i o n ( b ) { v a r   d = a ( c [ b ] ) , e = d . f i n d ( " d i v . f i l e p i c k e r - f i l e l i s t   a " ) ; r e t u r n   e . l e n g t h ? { h r e f : e . g e t ( 0 ) . h r e f , n a m e : e . g e t ( 0 ) . i n n e r H T M L } : { h r e f : n u l l , n a m e : n u l l } } , n a m e : f u n c t i o n ( a ) { r e t u r n   b [ a ] } } } } ; r e t u r n { i n i t : c . i n i t } } ) ; 
 d e f i n e ( ' q t y p e _ d d m a r k e r / s h a p e s ' ,   f u n c t i o n ( ) { " u s e   s t r i c t " ; f u n c t i o n   a ( a , b ) { t h i s . x = a , t h i s . y = b } f u n c t i o n   b ( b , c , d ) { t h i s . l a b e l = b , t h i s . c e n t r e = n e w   a ( c | | 0 , d | | 0 ) } f u n c t i o n   c ( a , c , d , e ) { b . c a l l ( t h i s , a , c , d ) , t h i s . r a d i u s = e | | 1 5 } f u n c t i o n   d ( a , c , d , e , f ) { b . c a l l ( t h i s , a , c , d ) , t h i s . w i d t h = e | | 3 0 , t h i s . h e i g h t = f | | 3 0 } f u n c t i o n   e ( c , d ) { b . c a l l ( t h i s , c , 0 , 0 ) , t h i s . p o i n t s = d ? d . s l i c e ( ) : [ n e w   a ( 1 0 , 1 0 ) , n e w   a ( 4 0 , 1 0 ) , n e w   a ( 1 0 , 4 0 ) ] , t h i s . n o r m a l i z e S h a p e ( ) } f u n c t i o n   f ( a ) { b . c a l l ( t h i s , a ) } f u n c t i o n   g ( a , b ) { v a r   c = a . o w n e r D o c u m e n t . c r e a t e E l e m e n t N S ( " h t t p : / / w w w . w 3 . o r g / 2 0 0 0 / s v g " , b ) ; r e t u r n   a . a p p e n d C h i l d ( c ) , c } f u n c t i o n   h ( a , b ) { v a r   c = g ( a , " g " ) ; r e t u r n   g ( c , b ) . s e t A t t r i b u t e ( " c l a s s " , " s h a p e " ) , g ( c , " t e x t " ) . s e t A t t r i b u t e ( " c l a s s " , " s h a p e L a b e l " ) , c } r e t u r n   a . p r o t o t y p e . t o S t r i n g = f u n c t i o n ( ) { r e t u r n   t h i s . x + " , " + t h i s . y } , a . p r o t o t y p e . m o v e = f u n c t i o n ( a , b ) { t h i s . x + = a , t h i s . y + = b } , a . p r o t o t y p e . o f f s e t = f u n c t i o n ( b , c ) { r e t u r n   b   i n s t a n c e o f   a & & ( c = b . y , b = b . x ) , n e w   a ( t h i s . x + b , t h i s . y + c ) } , a . p a r s e = f u n c t i o n ( b ) { v a r   c = b . s p l i t ( " , " ) ; i f ( 2 ! = = c . l e n g t h ) t h r o w   n e w   E r r o r ( b + "   i s   n o t   a   v a l i d   p o i n t " ) ; r e t u r n   n e w   a ( M a t h . r o u n d ( c [ 0 ] ) , M a t h . r o u n d ( c [ 1 ] ) ) } , b . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . g e t C o o r d i n a t e s = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . p a r s e = f u n c t i o n ( a ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . m o v e = f u n c t i o n ( a , b , c , d ) { } , b . p r o t o t y p e . e d i t = f u n c t i o n ( a , b , c , d , e ) { } , b . p r o t o t y p e . n o r m a l i z e S h a p e = f u n c t i o n ( ) { } , b . p r o t o t y p e . m a k e S v g = f u n c t i o n ( a ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . u p d a t e S v g = f u n c t i o n ( a ) { } , b . p r o t o t y p e . m a k e S i m i l a r C i r c l e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . m a k e S i m i l a r R e c t a n g l e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . m a k e S i m i l a r P o l y g o n = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d . " ) } , b . p r o t o t y p e . g e t H a n d l e P o s i t i o n s = f u n c t i o n ( ) { r e t u r n   n u l l } , c . p r o t o t y p e = n e w   b , c . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " c i r c l e " } , c . p r o t o t y p e . g e t C o o r d i n a t e s = f u n c t i o n ( ) { r e t u r n   t h i s . c e n t r e + " ; " + M a t h . a b s ( t h i s . r a d i u s ) } , c . p r o t o t y p e . m a k e S v g = f u n c t i o n ( a ) { v a r   b = h ( a , " c i r c l e " ) ; r e t u r n   t h i s . u p d a t e S v g ( b ) , b } , c . p r o t o t y p e . u p d a t e S v g = f u n c t i o n ( a ) { a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " c x " , t h i s . c e n t r e . x ) , a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " c y " , t h i s . c e n t r e . y ) , a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " r " , M a t h . a b s ( t h i s . r a d i u s ) ) , a . c h i l d N o d e s [ 1 ] . s e t A t t r i b u t e ( " x " , t h i s . c e n t r e . x ) , a . c h i l d N o d e s [ 1 ] . s e t A t t r i b u t e ( " y " , t h i s . c e n t r e . y + 1 5 ) , a . c h i l d N o d e s [ 1 ] . t e x t C o n t e n t = t h i s . l a b e l } , c . p r o t o t y p e . p a r s e = f u n c t i o n ( b ) { i f ( ! b . m a t c h ( / ^ \ d + , \ d + ; \ d + $ / ) ) r e t u r n ! 1 ; v a r   c = b . s p l i t ( " ; " ) ; r e t u r n   t h i s . c e n t r e = a . p a r s e ( c [ 0 ] ) , t h i s . r a d i u s = M a t h . r o u n d ( c [ 1 ] ) , ! 0 } , c . p r o t o t y p e . m o v e = f u n c t i o n ( a , b , c , d ) { t h i s . c e n t r e . m o v e ( a , b ) , t h i s . c e n t r e . x < t h i s . r a d i u s & & ( t h i s . c e n t r e . x = t h i s . r a d i u s ) , t h i s . c e n t r e . x > c - t h i s . r a d i u s & & ( t h i s . c e n t r e . x = c - t h i s . r a d i u s ) , t h i s . c e n t r e . y < t h i s . r a d i u s & & ( t h i s . c e n t r e . y = t h i s . r a d i u s ) , t h i s . c e n t r e . y > d - t h i s . r a d i u s & & ( t h i s . c e n t r e . y = d - t h i s . r a d i u s ) } , c . p r o t o t y p e . e d i t = f u n c t i o n ( a , b , c , d , e ) { t h i s . r a d i u s + = b ; v a r   f = M a t h . m i n ( t h i s . c e n t r e . x , t h i s . c e n t r e . y , d - t h i s . c e n t r e . x , e - t h i s . c e n t r e . y ) ; t h i s . r a d i u s > f & & ( t h i s . r a d i u s = f ) , t h i s . r a d i u s < - f & & ( t h i s . r a d i u s = - f ) } , c . p r o t o t y p e . n o r m a l i z e S h a p e = f u n c t i o n ( ) { t h i s . r a d i u s = M a t h . a b s ( t h i s . r a d i u s ) } , c . p r o t o t y p e . m a k e S i m i l a r R e c t a n g l e = f u n c t i o n ( ) { r e t u r n   n e w   d ( t h i s . l a b e l , t h i s . c e n t r e . x - t h i s . r a d i u s , t h i s . c e n t r e . y - t h i s . r a d i u s , 2 * t h i s . r a d i u s , 2 * t h i s . r a d i u s ) } , c . p r o t o t y p e . m a k e S i m i l a r P o l y g o n = f u n c t i o n ( ) { r e t u r n   n e w   e ( t h i s . l a b e l , [ t h i s . c e n t r e . o f f s e t ( - t h i s . r a d i u s , - t h i s . r a d i u s ) , t h i s . c e n t r e . o f f s e t ( - t h i s . r a d i u s , t h i s . r a d i u s ) , t h i s . c e n t r e . o f f s e t ( t h i s . r a d i u s , t h i s . r a d i u s ) , t h i s . c e n t r e . o f f s e t ( t h i s . r a d i u s , - t h i s . r a d i u s ) ] ) } , c . p r o t o t y p e . g e t H a n d l e P o s i t i o n s = f u n c t i o n ( ) { r e t u r n { m o v e H a n d l e : t h i s . c e n t r e , e d i t H a n d l e s : [ t h i s . c e n t r e . o f f s e t ( t h i s . r a d i u s , 0 ) ] } } , d . p r o t o t y p e = n e w   b , d . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " r e c t a n g l e " } , d . p r o t o t y p e . g e t C o o r d i n a t e s = f u n c t i o n ( ) { r e t u r n   t h i s . c e n t r e + " ; " + t h i s . w i d t h + " , " + t h i s . h e i g h t } , d . p r o t o t y p e . m a k e S v g = f u n c t i o n ( a ) { v a r   b = h ( a , " r e c t " ) ; r e t u r n   t h i s . u p d a t e S v g ( b ) , b } , d . p r o t o t y p e . u p d a t e S v g = f u n c t i o n ( a ) { t h i s . w i d t h > = 0 ? ( a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " x " , t h i s . c e n t r e . x ) , a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " w i d t h " , t h i s . w i d t h ) ) : ( a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " x " , t h i s . c e n t r e . x + t h i s . w i d t h ) , a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " w i d t h " , - t h i s . w i d t h ) ) , t h i s . h e i g h t > = 0 ? ( a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " y " , t h i s . c e n t r e . y ) , a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " h e i g h t " , t h i s . h e i g h t ) ) : ( a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " y " , t h i s . c e n t r e . y + t h i s . h e i g h t ) , a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " h e i g h t " , - t h i s . h e i g h t ) ) , a . c h i l d N o d e s [ 1 ] . s e t A t t r i b u t e ( " x " , t h i s . c e n t r e . x + t h i s . w i d t h / 2 ) , a . c h i l d N o d e s [ 1 ] . s e t A t t r i b u t e ( " y " , t h i s . c e n t r e . y + t h i s . h e i g h t / 2 + 1 5 ) , a . c h i l d N o d e s [ 1 ] . t e x t C o n t e n t = t h i s . l a b e l } , d . p r o t o t y p e . p a r s e = f u n c t i o n ( b ) { i f ( ! b . m a t c h ( / ^ \ d + , \ d + ; \ d + , \ d + $ / ) ) r e t u r n ! 1 ; v a r   c = b . s p l i t ( " ; " ) ; t h i s . c e n t r e = a . p a r s e ( c [ 0 ] ) ; v a r   d = a . p a r s e ( c [ 1 ] ) ; r e t u r n   t h i s . w i d t h = d . x , t h i s . h e i g h t = d . y , ! 0 } , d . p r o t o t y p e . m o v e = f u n c t i o n ( a , b , c , d ) { t h i s . c e n t r e . m o v e ( a , b ) , t h i s . c e n t r e . x < 0 & & ( t h i s . c e n t r e . x = 0 ) , t h i s . c e n t r e . x > c - t h i s . w i d t h & & ( t h i s . c e n t r e . x = c - t h i s . w i d t h ) , t h i s . c e n t r e . y < 0 & & ( t h i s . c e n t r e . y = 0 ) , t h i s . c e n t r e . y > d - t h i s . h e i g h t & & ( t h i s . c e n t r e . y = d - t h i s . h e i g h t ) } , d . p r o t o t y p e . e d i t = f u n c t i o n ( a , b , c , d , e ) { t h i s . w i d t h + = b , t h i s . h e i g h t + = c , t h i s . w i d t h < - t h i s . c e n t r e . x & & ( t h i s . w i d t h = - t h i s . c e n t r e . x ) , t h i s . w i d t h > d - t h i s . c e n t r e . x & & ( t h i s . w i d t h = d - t h i s . c e n t r e . x ) , t h i s . h e i g h t < - t h i s . c e n t r e . y & & ( t h i s . h e i g h t = - t h i s . c e n t r e . y ) , t h i s . h e i g h t > e - t h i s . c e n t r e . y & & ( t h i s . h e i g h t = e - t h i s . c e n t r e . y ) } , d . p r o t o t y p e . n o r m a l i z e S h a p e = f u n c t i o n ( ) { t h i s . w i d t h < 0 & & ( t h i s . c e n t r e . x + = t h i s . w i d t h , t h i s . w i d t h = - t h i s . w i d t h ) , t h i s . h e i g h t < 0 & & ( t h i s . c e n t r e . y + = t h i s . h e i g h t , t h i s . h e i g h t = - t h i s . h e i g h t ) } , d . p r o t o t y p e . m a k e S i m i l a r C i r c l e = f u n c t i o n ( ) { r e t u r n   n e w   c ( t h i s . l a b e l , M a t h . r o u n d ( t h i s . c e n t r e . x + t h i s . w i d t h / 2 ) , M a t h . r o u n d ( t h i s . c e n t r e . y + t h i s . h e i g h t / 2 ) , M a t h . r o u n d ( ( t h i s . w i d t h + t h i s . h e i g h t ) / 4 ) ) } , d . p r o t o t y p e . m a k e S i m i l a r P o l y g o n = f u n c t i o n ( ) { r e t u r n   n e w   e ( t h i s . l a b e l , [ t h i s . c e n t r e , t h i s . c e n t r e . o f f s e t ( 0 , t h i s . h e i g h t ) , t h i s . c e n t r e . o f f s e t ( t h i s . w i d t h , t h i s . h e i g h t ) , t h i s . c e n t r e . o f f s e t ( t h i s . w i d t h , 0 ) ] ) } , d . p r o t o t y p e . g e t H a n d l e P o s i t i o n s = f u n c t i o n ( ) { r e t u r n { m o v e H a n d l e : t h i s . c e n t r e . o f f s e t ( t h i s . w i d t h / 2 , t h i s . h e i g h t / 2 ) , e d i t H a n d l e s : [ t h i s . c e n t r e . o f f s e t ( t h i s . w i d t h , t h i s . h e i g h t ) ] } } , e . p r o t o t y p e = n e w   b , e . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " p o l y g o n " } , e . p r o t o t y p e . g e t C o o r d i n a t e s = f u n c t i o n ( ) { f o r ( v a r   a = " " , b = 0 ; b < t h i s . p o i n t s . l e n g t h ; b + + ) a + = t h i s . c e n t r e . o f f s e t ( t h i s . p o i n t s [ b ] ) + " ; " ; r e t u r n   a . s l i c e ( 0 , a . l e n g t h - 1 ) } , e . p r o t o t y p e . m a k e S v g = f u n c t i o n ( a ) { v a r   b = h ( a , " p o l y g o n " ) ; r e t u r n   t h i s . u p d a t e S v g ( b ) , b } , e . p r o t o t y p e . u p d a t e S v g = f u n c t i o n ( a ) { a . c h i l d N o d e s [ 0 ] . s e t A t t r i b u t e ( " p o i n t s " , t h i s . g e t C o o r d i n a t e s ( ) . r e p l a c e ( / [ , ; ] / g , "   " ) ) , a . c h i l d N o d e s [ 1 ] . s e t A t t r i b u t e ( " x " , t h i s . c e n t r e . x ) , a . c h i l d N o d e s [ 1 ] . s e t A t t r i b u t e ( " y " , t h i s . c e n t r e . y + 1 5 ) , a . c h i l d N o d e s [ 1 ] . t e x t C o n t e n t = t h i s . l a b e l } , e . p r o t o t y p e . p a r s e = f u n c t i o n ( b ) { i f ( ! b . m a t c h ( / ^ \ d + , \ d + ( ? : ; \ d + , \ d + ) * $ / ) ) r e t u r n ! 1 ; f o r ( v a r   c = b . s p l i t ( " ; " ) , d = [ ] , e = 0 ; e < c . l e n g t h ; e + + ) d . p u s h ( a . p a r s e ( c [ e ] ) ) ; r e t u r n   t h i s . p o i n t s = d , t h i s . c e n t r e . x = 0 , t h i s . c e n t r e . y = 0 , t h i s . n o r m a l i z e S h a p e ( ) , ! 0 } , e . p r o t o t y p e . m o v e = f u n c t i o n ( a , b , c , d ) { t h i s . c e n t r e . m o v e ( a , b ) ; f o r ( v a r   e = c , f = 0 , g = d , h = 0 , i = 0 ; i < t h i s . p o i n t s . l e n g t h ; i + + ) e = M a t h . m i n ( e , t h i s . p o i n t s [ i ] . x ) , f = M a t h . m a x ( f , t h i s . p o i n t s [ i ] . x ) , g = M a t h . m i n ( g , t h i s . p o i n t s [ i ] . y ) , h = M a t h . m a x ( h , t h i s . p o i n t s [ i ] . y ) ; t h i s . c e n t r e . x < - e & & ( t h i s . c e n t r e . x = - e ) , t h i s . c e n t r e . x > c - f & & ( t h i s . c e n t r e . x = c - f ) , t h i s . c e n t r e . y < - g & & ( t h i s . c e n t r e . y = - g ) , t h i s . c e n t r e . y > d - h & & ( t h i s . c e n t r e . y = d - h ) } , e . p r o t o t y p e . e d i t = f u n c t i o n ( a , b , c , d , e ) { t h i s . p o i n t s [ a ] . m o v e ( b , c ) , t h i s . p o i n t s [ a ] . x < - t h i s . c e n t r e . x & & ( t h i s . p o i n t s [ a ] . x = - t h i s . c e n t r e . x ) , t h i s . p o i n t s [ a ] . x > d - t h i s . c e n t r e . x & & ( t h i s . p o i n t s [ a ] . x = d - t h i s . c e n t r e . x ) , t h i s . p o i n t s [ a ] . y < - t h i s . c e n t r e . y & & ( t h i s . p o i n t s [ a ] . y = - t h i s . c e n t r e . y ) , t h i s . p o i n t s [ a ] . y > e - t h i s . c e n t r e . y & & ( t h i s . p o i n t s [ a ] . y = e - t h i s . c e n t r e . y ) } , e . p r o t o t y p e . a d d N e w P o i n t A f t e r = f u n c t i o n ( b ) { t h i s . p o i n t s . s p l i c e ( b , 0 , n e w   a ( t h i s . p o i n t s [ b ] . x , t h i s . p o i n t s [ b ] . y ) ) } , e . p r o t o t y p e . n o r m a l i z e S h a p e = f u n c t i o n ( ) { v a r   a , b = 0 , c = 0 ; i f ( 0 ! = = t h i s . p o i n t s . l e n g t h ) { f o r ( a = 0 ; a < t h i s . p o i n t s . l e n g t h ; a + + ) b + = t h i s . p o i n t s [ a ] . x , c + = t h i s . p o i n t s [ a ] . y ; i f ( b = M a t h . r o u n d ( b / t h i s . p o i n t s . l e n g t h ) , c = M a t h . r o u n d ( c / t h i s . p o i n t s . l e n g t h ) , 0 ! = = b | | 0 ! = = c ) { f o r ( a = 0 ; a < t h i s . p o i n t s . l e n g t h ; a + + ) t h i s . p o i n t s [ a ] . m o v e ( - b , - c ) ; t h i s . c e n t r e . m o v e ( b , c ) } } } , e . p r o t o t y p e . m a k e S i m i l a r C i r c l e = f u n c t i o n ( ) { r e t u r n   t h i s . m a k e S i m i l a r R e c t a n g l e ( ) . m a k e S i m i l a r C i r c l e ( ) } , e . p r o t o t y p e . m a k e S i m i l a r R e c t a n g l e = f u n c t i o n ( ) { f o r ( v a r   a , b = 0 , c = 0 , e = 0 , f = 0 , g = 0 ; g < t h i s . p o i n t s . l e n g t h ; g + + ) a = t h i s . p o i n t s [ g ] , b = M a t h . m i n ( b , a . x ) , c = M a t h . m a x ( c , a . x ) , e = M a t h . m i n ( e , a . y ) , f = M a t h . m a x ( f , a . y ) ; r e t u r n   n e w   d ( t h i s . l a b e l , t h i s . c e n t r e . x + b , t h i s . c e n t r e . y + e , M a t h . m a x ( c - b , 1 0 ) , M a t h . m a x ( f - e , 1 0 ) ) } , e . p r o t o t y p e . g e t H a n d l e P o s i t i o n s = f u n c t i o n ( ) { f o r ( v a r   a = [ ] , b = 0 ; b < t h i s . p o i n t s . l e n g t h ; b + + ) a . p u s h ( t h i s . p o i n t s [ b ] . o f f s e t ( t h i s . c e n t r e . x , t h i s . c e n t r e . y ) ) ; r e t u r n { m o v e H a n d l e : t h i s . c e n t r e , e d i t H a n d l e s : a } } , f . p r o t o t y p e = n e w   b , f . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " n u l l " } , f . p r o t o t y p e . g e t C o o r d i n a t e s = f u n c t i o n ( ) { r e t u r n " " } , f . p r o t o t y p e . m a k e S v g = f u n c t i o n ( a ) { r e t u r n   n u l l } , f . p r o t o t y p e . u p d a t e S v g = f u n c t i o n ( a ) { } , f . p r o t o t y p e . p a r s e = f u n c t i o n ( a ) { r e t u r n ! 1 } , f . p r o t o t y p e . m a k e S i m i l a r C i r c l e = f u n c t i o n ( ) { r e t u r n   n e w   c ( t h i s . l a b e l ) } , f . p r o t o t y p e . m a k e S i m i l a r R e c t a n g l e = f u n c t i o n ( ) { r e t u r n   n e w   d ( t h i s . l a b e l ) } , f . p r o t o t y p e . m a k e S i m i l a r P o l y g o n = f u n c t i o n ( ) { r e t u r n   n e w   e ( t h i s . l a b e l ) } , { P o i n t : a , S h a p e : b , C i r c l e : c , R e c t a n g l e : d , P o l y g o n : e , N u l l S h a p e : f , c r e a t e S v g E l e m e n t : g , m a k e : f u n c t i o n ( a , b ) { s w i t c h ( a ) { c a s e " c i r c l e " : r e t u r n   n e w   c ( b ) ; c a s e " r e c t a n g l e " : r e t u r n   n e w   d ( b ) ; c a s e " p o l y g o n " : r e t u r n   n e w   e ( b ) ; d e f a u l t : r e t u r n   n e w   f ( b ) } } , g e t S i m i l a r : f u n c t i o n ( a , b ) { i f ( a = = = b . g e t T y p e ( ) ) r e t u r n   b ; s w i t c h ( a ) { c a s e " c i r c l e " : r e t u r n   b . m a k e S i m i l a r C i r c l e ( ) ; c a s e " r e c t a n g l e " : r e t u r n   b . m a k e S i m i l a r R e c t a n g l e ( ) ; c a s e " p o l y g o n " : r e t u r n   b . m a k e S i m i l a r P o l y g o n ( ) ; d e f a u l t : r e t u r n   n e w   f ( b . l a b e l ) } } } } ) ; 
 d e f i n e ( ' q t y p e _ d d m a r k e r / q u e s t i o n ' ,   [ " j q u e r y " , " c o r e / d r a g d r o p " , " q t y p e _ d d m a r k e r / s h a p e s " , " c o r e / k e y _ c o d e s " ] , f u n c t i o n ( a , b , c , d ) { " u s e   s t r i c t " ; f u n c t i o n   e ( a , b , c , d ) { t h i s . c o n t a i n e r I d = a , t h i s . v i s i b l e D r o p Z o n e s = d , c & & t h i s . g e t R o o t ( ) . a d d C l a s s ( " q t y p e _ d d m a r k e r - r e a d o n l y " ) , t h i s . l o a d I m a g e ( b ) } e . p r o t o t y p e . l o a d I m a g e = f u n c t i o n ( a ) { v a r   b = t h i s ; t h i s . g e t R o o t ( ) . f i n d ( " . d r o p b a c k g r o u n d " ) . o n e ( " l o a d " , f u n c t i o n ( ) { b . v i s i b l e D r o p Z o n e s . l e n g t h > 0 & & b . d r a w D r o p z o n e s ( ) , b . r e p o s i t i o n D r a g s ( ) } ) . a t t r ( " s r c " , a ) . c s s ( { b o r d e r : " 1 p x   s o l i d   # 0 0 0 " , " m a x - w i d t h " : " n o n e " } ) } , e . p r o t o t y p e . d r a w D r o p z o n e s = f u n c t i o n ( ) { v a r   a = t h i s . g e t R o o t ( ) . f i n d ( " i m g . d r o p b a c k g r o u n d " ) ; t h i s . g e t R o o t ( ) . f i n d ( " d i v . d r o p z o n e s " ) . h t m l ( ' < s v g   x m l n s = " h t t p : / / w w w . w 3 . o r g / 2 0 0 0 / s v g "   c l a s s = " d r o p z o n e s "   w i d t h = " ' + a . o u t e r W i d t h ( ) + ' "   h e i g h t = " ' + a . o u t e r H e i g h t ( ) + ' " > < / s v g > ' ) ; v a r   b = t h i s . g e t R o o t ( ) . f i n d ( " s v g . d r o p z o n e s " ) ; b . c s s ( " p o s i t i o n " , " a b s o l u t e " ) ; f o r ( v a r   c = 0 , d = 0 ; d < t h i s . v i s i b l e D r o p Z o n e s . l e n g t h ; d + + ) { v a r   e = " c o l o r " + c ; c = ( c + 1 ) % 8 , t h i s . a d d D r o p z o n e ( b , d , e ) } } , e . p r o t o t y p e . a d d D r o p z o n e = f u n c t i o n ( a , b , d ) { v a r   e , f = t h i s . v i s i b l e D r o p Z o n e s [ b ] , g = c . m a k e ( f . s h a p e , " " ) ; i f ( g . p a r s e ( f . c o o r d s ) ) { i f ( e = t h i s . g e t R o o t ( ) . f i n d ( " d i v . m a r k e r t e x t s   s p a n . m a r k e r t e x t " + b ) , e . l e n g t h ) " " ! = = f . m a r k e r t e x t ? e . h t m l ( f . m a r k e r t e x t ) : e . r e m o v e ( ) ; e l s e   i f ( " " ! = = f . m a r k e r t e x t ) { v a r   h = " m a r k e r t e x t   m a r k e r t e x t " + b ; t h i s . g e t R o o t ( ) . f i n d ( " d i v . m a r k e r t e x t s " ) . a p p e n d ( ' < s p a n   c l a s s = " ' + h + ' " > ' + f . m a r k e r t e x t + " < / s p a n > " ) } v a r   i = g . m a k e S v g ( a [ 0 ] ) ; i . s e t A t t r i b u t e ( " c l a s s " , " d r o p z o n e   " + d ) } } , e . p r o t o t y p e . r e p o s i t i o n D r o p Z o n e s = f u n c t i o n ( ) { v a r   a = t h i s . g e t R o o t ( ) . f i n d ( " s v g . d r o p z o n e s " ) ; i f ( 0 ! = = a . l e n g t h ) { v a r   b = t h i s . c o n v e r t T o W i n d o w X Y ( n e w   c . P o i n t ( ( - 1 ) , 0 ) ) ; a . o f f s e t ( { l e f t : b . x , t o p : b . y } ) ; f o r ( v a r   d = 0 ; d < t h i s . v i s i b l e D r o p Z o n e s . l e n g t h ; d + + ) { v a r   e = t h i s . g e t R o o t ( ) . f i n d ( " d i v . d d a r e a   d i v . m a r k e r t e x t s   s p a n . m a r k e r t e x t " + d ) ; i f ( 0 ! = = e . l e n g t h ) { v a r   f = t h i s . v i s i b l e D r o p Z o n e s [ d ] , g = c . m a k e ( f . s h a p e , " " ) ; i f ( g . p a r s e ( f . c o o r d s ) ) { v a r   h = g . g e t H a n d l e P o s i t i o n s ( ) , i = t h i s . c o n v e r t T o W i n d o w X Y ( h . m o v e H a n d l e . o f f s e t ( - e . o u t e r W i d t h ( ) / 2 , - e . o u t e r H e i g h t ( ) / 2 ) ) ; e . o f f s e t ( { l e f t : i . x - 4 , t o p : i . y } ) } } } } } , e . p r o t o t y p e . r e p o s i t i o n D r a g s = f u n c t i o n ( ) { v a r   b = t h i s . g e t R o o t ( ) , c = t h i s ; b . f i n d ( " d i v . d r a g i t e m s   . d r a g i t e m " ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . a d d C l a s s ( " u n n e e d e d " ) } ) , b . f i n d ( " i n p u t . c h o i c e s " ) . e a c h ( f u n c t i o n ( a , b ) { f o r ( v a r   d = c . g e t C h o i c e N o F r o m E l e m e n t ( b ) , e = c . g e t C o o r d s ( b ) , f = c . d r a g H o m e ( d ) , g = 0 ; g < e . l e n g t h ; g + + ) { v a r   h = c . d r a g I t e m ( d , g ) ; ! h . l e n g t h | | h . h a s C l a s s ( " b e i n g d r a g g e d " ) ? h = c . c l o n e N e w D r a g I t e m ( f , g ) : h . r e m o v e C l a s s ( " u n n e e d e d " ) , h . o f f s e t ( { l e f t : e [ g ] . x , t o p : e [ g ] . y } ) } } ) , b . f i n d ( " d i v . d r a g i t e m s   . d r a g i t e m " ) . e a c h ( f u n c t i o n ( b , c ) { v a r   d = a ( c ) ; d . h a s C l a s s ( " u n n e e d e d " ) & & ! d . h a s C l a s s ( " b e i n g d r a g g e d " ) & & d . r e m o v e ( ) } ) , t h i s . r e p o s i t i o n D r o p Z o n e s ( ) ; v a r   d = t h i s . b g I m a g e ( ) , e = d . o f f s e t ( ) ; d . d a t a ( " p r e v - t o p " , e . t o p ) . d a t a ( " p r e v - l e f t " , e . l e f t ) } , e . p r o t o t y p e . g e t C o o r d s = f u n c t i o n ( b ) { v a r   d = t h i s . g e t R o o t ( ) , e = t h i s . g e t C h o i c e N o F r o m E l e m e n t ( b ) , f = N u m b e r ( t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( b , " n o o f d r a g s " ) ) , g = d . f i n d ( " s p a n . d r a g i t e m . b e i n g d r a g g e d . c h o i c e " + e ) . l e n g t h > 0 , h = [ ] , i = a ( b ) . v a l ( ) ; i f ( " " ! = = i ) f o r ( v a r   j = i . s p l i t ( " ; " ) , k = 0 ; k < j . l e n g t h ; k + + ) h [ k ] = t h i s . c o n v e r t T o W i n d o w X Y ( c . P o i n t . p a r s e ( j [ k ] ) ) ; v a r   l = h . l e n g t h + ( g ? 1 : 0 ) ; r e t u r n ( a ( b ) . h a s C l a s s ( " i n f i n i t e " ) | | l < f ) & & ( h [ h . l e n g t h ] = t h i s . d r a g H o m e X Y ( e ) ) , h } , e . p r o t o t y p e . c o n v e r t T o W i n d o w X Y = f u n c t i o n ( a ) { v a r   b = t h i s . b g I m a g e ( ) ; r e t u r n   a . o f f s e t ( b . o f f s e t ( ) . l e f t + 1 , b . o f f s e t ( ) . t o p + 1 ) } , e . p r o t o t y p e . c o n v e r t T o B g I m g X Y = f u n c t i o n ( a ) { v a r   b = t h i s . b g I m a g e ( ) ; r e t u r n   a . o f f s e t ( - b . o f f s e t ( ) . l e f t - 1 , - b . o f f s e t ( ) . t o p - 1 ) } , e . p r o t o t y p e . c o o r d s I n B g I m g = f u n c t i o n ( a ) { v a r   b = t h i s . b g I m a g e ( ) ; r e t u r n   a . x > 0 & & a . x < = b . w i d t h ( ) & & a . y > 0 & & a . y < = b . h e i g h t ( ) } , e . p r o t o t y p e . d r a g H o m e X Y = f u n c t i o n ( a ) { v a r   b = t h i s . d r a g H o m e ( a ) ; r e t u r n   n e w   c . P o i n t ( b . o f f s e t ( ) . l e f t , b . o f f s e t ( ) . t o p ) } , e . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   a ( d o c u m e n t . g e t E l e m e n t B y I d ( t h i s . c o n t a i n e r I d ) ) } , e . p r o t o t y p e . b g I m a g e = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " i m g . d r o p b a c k g r o u n d " ) } , e . p r o t o t y p e . d r a g H o m e = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " d i v . d r a g i t e m s   s p a n . d r a g h o m e . c h o i c e " + a ) } , e . p r o t o t y p e . d r a g I t e m = f u n c t i o n ( a , b ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " d i v . d r a g i t e m s   s p a n . d r a g i t e m . c h o i c e " + a + " . i t e m " + b ) } , e . p r o t o t y p e . c l o n e N e w D r a g I t e m = f u n c t i o n ( a , b ) { v a r   c = a . c l o n e ( ! 0 ) ; r e t u r n   c . r e m o v e C l a s s ( " d r a g h o m e " ) . a d d C l a s s ( " d r a g i t e m " ) . a d d C l a s s ( " i t e m " + b ) , a . a f t e r ( c ) , c . a t t r ( " t a b I n d e x " , 0 ) , c } , e . p r o t o t y p e . h a n d l e D r a g S t a r t = f u n c t i o n ( c ) { v a r   d = t h i s , e = a ( c . t a r g e t ) . c l o s e s t ( " . d r a g i t e m " ) , f = b . p r e p a r e ( c ) ; f . s t a r t & & ( e . a d d C l a s s ( " b e i n g d r a g g e d " ) , b . s t a r t ( c , e , f u n c t i o n ( ) { } , f u n c t i o n ( a , b , c ) { d . d r a g E n d ( c ) } ) ) } , e . p r o t o t y p e . d r a g E n d = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " b e i n g d r a g g e d " ) ; v a r   b = t h i s . g e t C h o i c e N o F r o m E l e m e n t ( a ) ; t h i s . s a v e C o o r d s F o r C h o i c e ( b , a ) , t h i s . r e p o s i t i o n D r a g s ( ) } , e . p r o t o t y p e . s a v e C o o r d s F o r C h o i c e = f u n c t i o n ( a , b ) { f o r ( v a r   d , e = [ ] , f = t h i s . g e t R o o t ( ) . f i n d ( " s p a n . d r a g i t e m . c h o i c e " + a ) . l e n g t h , g = ! 0 , h = 0 ; h < = f ; h + + ) { v a r   i = t h i s . d r a g I t e m ( a , h ) ; 0 ! = = i . l e n g t h & & ( i . h a s C l a s s ( " b e i n g d r a g g e d " ) | | ( d = t h i s . c o n v e r t T o B g I m g X Y ( n e w   c . P o i n t ( i . o f f s e t ( ) . l e f t , i . o f f s e t ( ) . t o p ) ) , t h i s . c o o r d s I n B g I m g ( d ) & & ( e [ e . l e n g t h ] = d ) ) , b & & 0 ! = = b . l e n g t h & & b [ 0 ] . i n n e r T e x t = = = i [ 0 ] . i n n e r T e x t & & ( g = ! 1 ) ) } g & & ( d = t h i s . c o n v e r t T o B g I m g X Y ( n e w   c . P o i n t ( b . o f f s e t ( ) . l e f t , b . o f f s e t ( ) . t o p ) ) , t h i s . c o o r d s I n B g I m g ( d ) & & ( e [ e . l e n g t h ] = d ) ) , t h i s . g e t R o o t ( ) . f i n d ( " i n p u t . c h o i c e " + a ) . v a l ( e . j o i n ( " ; " ) ) } , e . p r o t o t y p e . h a n d l e K e y P r e s s = f u n c t i o n ( b ) { v a r   e = a ( b . t a r g e t ) . c l o s e s t ( " . d r a g i t e m " ) , f = n e w   c . P o i n t ( e . o f f s e t ( ) . l e f t , e . o f f s e t ( ) . t o p ) , g = t h i s . g e t C h o i c e N o F r o m E l e m e n t ( e ) ; s w i t c h ( b . k e y C o d e ) { c a s e   d . a r r o w L e f t : c a s e   6 5 : f . x - = 1 ; b r e a k ; c a s e   d . a r r o w R i g h t : c a s e   6 8 : f . x + = 1 ; b r e a k ; c a s e   d . a r r o w D o w n : c a s e   8 3 : f . y + = 1 ; b r e a k ; c a s e   d . a r r o w U p : c a s e   8 7 : f . y - = 1 ; b r e a k ; c a s e   d . s p a c e : c a s e   d . e s c a p e : f = n u l l ; b r e a k ; d e f a u l t : r e t u r n } b . p r e v e n t D e f a u l t ( ) , f = n u l l ! = = f ? t h i s . c o n s t r a i n T o B g I m g ( f ) : t h i s . d r a g H o m e X Y ( g ) , e . o f f s e t ( { l e f t : f . x , t o p : f . y } ) , t h i s . s a v e C o o r d s F o r C h o i c e ( g , e ) , t h i s . r e p o s i t i o n D r a g s ( ) } , e . p r o t o t y p e . c o n s t r a i n T o B g I m g = f u n c t i o n ( a ) { v a r   b = t h i s . b g I m a g e ( ) , c = t h i s . c o n v e r t T o B g I m g X Y ( a ) ; r e t u r n   c . x = M a t h . m a x ( 0 , c . x ) , c . y = M a t h . m a x ( 0 , c . y ) , c . x = M a t h . m i n ( b . w i d t h ( ) , c . x ) , c . y = M a t h . m i n ( b . h e i g h t ( ) , c . y ) , t h i s . c o n v e r t T o W i n d o w X Y ( c ) } , e . p r o t o t y p e . g e t C h o i c e N o F r o m E l e m e n t = f u n c t i o n ( a ) { r e t u r n   N u m b e r ( t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " c h o i c e " ) ) } , e . p r o t o t y p e . g e t C l a s s n a m e N u m e r i c S u f f i x = f u n c t i o n ( b , c ) { v a r   d = a ( b ) . a t t r ( " c l a s s " ) ; i f ( v o i d   0 ! = = d & & " " ! = = d ) f o r ( v a r   e = d . s p l i t ( "   " ) , f = 0 ; f < e . l e n g t h ; f + + ) { v a r   g = n e w   R e g E x p ( " ^ " + c + " ( [ 0 - 9 ] ) + $ " ) ; i f ( g . t e s t ( e [ f ] ) ) { v a r   h = n e w   R e g E x p ( " ( [ 0 - 9 ] ) + $ " ) , i = h . e x e c ( e [ f ] ) ; r e t u r n   N u m b e r ( i [ 0 ] ) } } r e t u r n   n u l l } , e . p r o t o t y p e . h a n d l e R e s i z e = f u n c t i o n ( ) { t h i s . r e p o s i t i o n D r a g s ( ) } , e . p r o t o t y p e . f i x L a y o u t I f B a c k g r o u n d M o v e d = f u n c t i o n ( ) { v a r   a = t h i s . b g I m a g e ( ) , b = a . o f f s e t ( ) , c = a . d a t a ( " p r e v - t o p " ) , d = a . d a t a ( " p r e v - l e f t " ) ; v o i d   0 ! = = d & & v o i d   0 ! = = c & & ( c = = = b . t o p & & d = = = b . l e f t | | t h i s . r e p o s i t i o n D r a g s ( ) ) } ; v a r   f = { e v e n t H a n d l e r s I n i t i a l i s e d : ! 1 , q u e s t i o n s : { } , i n i t : f u n c t i o n ( a , b , c , d ) { f . q u e s t i o n s [ a ] = n e w   e ( a , b , c , d ) , f . e v e n t H a n d l e r s I n i t i a l i s e d | | ( f . s e t u p E v e n t H a n d l e r s ( ) , f . e v e n t H a n d l e r s I n i t i a l i s e d = ! 0 ) } , s e t u p E v e n t H a n d l e r s : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " m o u s e d o w n   t o u c h s t a r t " , " . q u e . d d m a r k e r : n o t ( . q t y p e _ d d m a r k e r - r e a d o n l y )   d i v . d r a g i t e m s   . d r a g i t e m " , f . h a n d l e D r a g S t a r t ) . o n ( " k e y d o w n   k e y p r e s s " , " . q u e . d d m a r k e r : n o t ( . q t y p e _ d d m a r k e r - r e a d o n l y )   d i v . d r a g i t e m s   . d r a g i t e m " , f . h a n d l e K e y P r e s s ) , a ( w i n d o w ) . o n ( " r e s i z e " , f . h a n d l e W i n d o w R e s i z e ) , s e t T i m e o u t ( f . f i x L a y o u t I f T h i n g s M o v e d , 1 0 0 ) } , h a n d l e D r a g S t a r t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = f . g e t Q u e s t i o n F o r E v e n t ( a ) ; b & & b . h a n d l e D r a g S t a r t ( a ) } , h a n d l e K e y P r e s s : f u n c t i o n ( a ) { v a r   b = f . g e t Q u e s t i o n F o r E v e n t ( a ) ; b & & b . h a n d l e K e y P r e s s ( a ) } , h a n d l e W i n d o w R e s i z e : f u n c t i o n ( ) { f o r ( v a r   a   i n   f . q u e s t i o n s ) f . q u e s t i o n s . h a s O w n P r o p e r t y ( a ) & & f . q u e s t i o n s [ a ] . h a n d l e R e s i z e ( ) } , f i x L a y o u t I f T h i n g s M o v e d : f u n c t i o n ( ) { f o r ( v a r   a   i n   f . q u e s t i o n s ) f . q u e s t i o n s . h a s O w n P r o p e r t y ( a ) & & f . q u e s t i o n s [ a ] . f i x L a y o u t I f B a c k g r o u n d M o v e d ( ) ; s e t T i m e o u t ( f . f i x L a y o u t I f T h i n g s M o v e d , 1 0 0 ) } , g e t Q u e s t i o n F o r E v e n t : f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . c l o s e s t ( " . q u e . d d m a r k e r " ) . a t t r ( " i d " ) ; r e t u r n   f . q u e s t i o n s [ c ] } } ; r e t u r n { i n i t : f . i n i t } } ) ; 
 d e f i n e ( ' q t y p e _ d d m a r k e r / f o r m ' ,   [ " j q u e r y " , " c o r e / d r a g d r o p " , " q t y p e _ d d m a r k e r / s h a p e s " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { t h i s . d r o p z o n e N o = a , t h i s . s v g E l = n u l l , t h i s . s h a p e = c . m a k e ( t h i s . g e t S h a p e T y p e ( ) , t h i s . g e t L a b e l ( ) ) , t h i s . u p d a t e C o o r d i n a t e s F r o m F o r m ( ) } d . p r o t o t y p e . u p d a t e C o o r d i n a t e s F r o m F o r m = f u n c t i o n ( a ) { v a r   b = t h i s . g e t C o o r d i n a t e s ( ) , c = " p o l y g o n " = = = t h i s . s h a p e . g e t T y p e ( ) & & t h i s . s h a p e . p o i n t s . l e n g t h ; i f ( t h i s . s h a p e . g e t C o o r d i n a t e s ( ) ! = = b & & t h i s . s h a p e . p a r s e ( b ) ) i f ( " p o l y g o n " = = = t h i s . s h a p e . g e t T y p e ( ) & & c ! = = t h i s . s h a p e . p o i n t s . l e n g t h ) { v a r   d = t h i s . i s A c t i v e ( ) ; t h i s . r e m o v e F r o m S v g ( ) , a & & ( t h i s . a d d T o S v g ( a ) , d & & t h i s . s e t A c t i v e ( ) ) } e l s e   t h i s . u p d a t e S v g E l ( ) } , d . p r o t o t y p e . u p d a t e L a b e l = f u n c t i o n ( ) { v a r   a = t h i s . g e t L a b e l ( ) ; t h i s . s h a p e . l a b e l ! = = a & & ( t h i s . s h a p e . l a b e l = a , t h i s . u p d a t e S v g E l ( ) ) } , d . p r o t o t y p e . c h a n g e S h a p e = f u n c t i o n ( a ) { v a r   b = t h i s . g e t S h a p e T y p e ( ) , d = t h i s . i s A c t i v e ( ) ; b ! = = t h i s . s h a p e . g e t T y p e ( ) & & ( t h i s . r e m o v e F r o m S v g ( ) , t h i s . s h a p e = c . g e t S i m i l a r ( b , t h i s . s h a p e ) , a & & ( t h i s . a d d T o S v g ( a ) , d & & t h i s . s e t A c t i v e ( ) ) , t h i s . s e t C o o r d i n a t e s I n F o r m ( ) ) } , d . p r o t o t y p e . a d d T o S v g = f u n c t i o n ( a ) { i f ( n u l l ! = = t h i s . s v g E l ) t h r o w   n e w   E r r o r ( " t h i s . s v g E l   a l r e a d y   s e t " ) ; i f ( t h i s . s v g E l = t h i s . s h a p e . m a k e S v g ( a ) , t h i s . s v g E l ) { t h i s . s v g E l . s e t A t t r i b u t e ( " c l a s s " , " d r o p z o n e " ) , t h i s . s v g E l . s e t A t t r i b u t e ( " d a t a - d r o p z o n e - n o " , t h i s . d r o p z o n e N o ) ; v a r   b = t h i s . s h a p e . g e t H a n d l e P o s i t i o n s ( ) ; i f ( n u l l ! = = b ) { v a r   d = c . c r e a t e S v g E l e m e n t ( t h i s . s v g E l , " c i r c l e " ) ; d . s e t A t t r i b u t e ( " c x " , b . m o v e H a n d l e . x ) , d . s e t A t t r i b u t e ( " c y " , b . m o v e H a n d l e . y ) , d . s e t A t t r i b u t e ( " r " , 7 ) , d . s e t A t t r i b u t e ( " c l a s s " , " h a n d l e   m o v e " ) ; f o r ( v a r   e = 0 ; e < b . e d i t H a n d l e s . l e n g t h ; + + e ) t h i s . m a k e E d i t H a n d l e ( e , b . e d i t H a n d l e s [ e ] ) } } } , d . p r o t o t y p e . m a k e E d i t H a n d l e = f u n c t i o n ( a , b ) { v a r   d = c . c r e a t e S v g E l e m e n t ( t h i s . s v g E l , " r e c t " ) ; d . s e t A t t r i b u t e ( " x " , b . x - 6 ) , d . s e t A t t r i b u t e ( " y " , b . y - 6 ) , d . s e t A t t r i b u t e ( " w i d t h " , 1 1 ) , d . s e t A t t r i b u t e ( " h e i g h t " , 1 1 ) , d . s e t A t t r i b u t e ( " c l a s s " , " h a n d l e   e d i t " ) , d . s e t A t t r i b u t e ( " d a t a - e d i t - h a n d l e - n o " , a ) } , d . p r o t o t y p e . r e m o v e F r o m S v g = f u n c t i o n ( ) { n u l l ! = = t h i s . s v g E l & & ( t h i s . s v g E l . p a r e n t N o d e . r e m o v e C h i l d ( t h i s . s v g E l ) , t h i s . s v g E l = n u l l ) } , d . p r o t o t y p e . u p d a t e S v g E l = f u n c t i o n ( ) { i f ( n u l l ! = = t h i s . s v g E l ) { t h i s . s h a p e . u p d a t e S v g ( t h i s . s v g E l ) ; v a r   a = t h i s . s h a p e . g e t H a n d l e P o s i t i o n s ( ) ; i f ( n u l l ! = = a ) { t h i s . s v g E l . c h i l d N o d e s [ 2 ] . s e t A t t r i b u t e ( " c x " , a . m o v e H a n d l e . x ) , t h i s . s v g E l . c h i l d N o d e s [ 2 ] . s e t A t t r i b u t e ( " c y " , a . m o v e H a n d l e . y ) ; f o r ( v a r   b = 0 ; b < a . e d i t H a n d l e s . l e n g t h ; + + b ) t h i s . s v g E l . c h i l d N o d e s [ 3 + b ] . s e t A t t r i b u t e ( " x " , a . e d i t H a n d l e s [ b ] . x - 6 ) , t h i s . s v g E l . c h i l d N o d e s [ 3 + b ] . s e t A t t r i b u t e ( " y " , a . e d i t H a n d l e s [ b ] . y - 6 ) } } } , d . p r o t o t y p e . i s A c t i v e = f u n c t i o n ( ) { r e t u r n   n u l l ! = = t h i s . s v g E l & & t h i s . s v g E l . g e t A t t r i b u t e ( " c l a s s " ) . m a t c h ( / \ b a c t i v e \ b / ) } , d . p r o t o t y p e . s e t A c t i v e = f u n c t i o n ( ) { v a r   a = t h i s . s v g E l . p a r e n t N o d e ; a . r e m o v e C h i l d ( t h i s . s v g E l ) , a . a p p e n d C h i l d ( t h i s . s v g E l ) , t h i s . s v g E l . s e t A t t r i b u t e ( " c l a s s " , t h i s . s v g E l . g e t A t t r i b u t e ( " c l a s s " ) + "   a c t i v e " ) } , d . p r o t o t y p e . s e t C o o r d i n a t e s I n F o r m = f u n c t i o n ( ) { e . f o r m . s e t F o r m V a l u e ( " d r o p s " , [ t h i s . d r o p z o n e N o , " c o o r d s " ] , t h i s . s h a p e . g e t C o o r d i n a t e s ( ) ) } , d . p r o t o t y p e . g e t C o o r d i n a t e s = f u n c t i o n ( ) { r e t u r n   e . f o r m . g e t F o r m V a l u e ( " d r o p s " , [ t h i s . d r o p z o n e N o , " c o o r d s " ] ) . r e p l a c e ( / \ s * / g , " " ) } , d . p r o t o t y p e . g e t C h o i c e N o = f u n c t i o n ( ) { r e t u r n   e . f o r m . g e t F o r m V a l u e ( " d r o p s " , [ t h i s . d r o p z o n e N o , " c h o i c e " ] ) } , d . p r o t o t y p e . g e t L a b e l = f u n c t i o n ( ) { r e t u r n   e . f o r m . g e t M a r k e r T e x t ( t h i s . g e t C h o i c e N o ( ) ) } , d . p r o t o t y p e . g e t S h a p e T y p e = f u n c t i o n ( ) { r e t u r n   e . f o r m . g e t F o r m V a l u e ( " d r o p s " , [ t h i s . d r o p z o n e N o , " s h a p e " ] ) } , d . p r o t o t y p e . h a n d l e M o v e = f u n c t i o n ( c ) { v a r   d = b . p r e p a r e ( c ) ; i f ( d . s t a r t ) { v a r   e = t h i s , f = d . x , g = d . y , h = t h i s . m a k e D r a g P r o x y ( d . x , d . y ) , i = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) , j = i . w i d t h ( ) , k = i . h e i g h t ( ) ; b . s t a r t ( c , a ( h ) , f u n c t i o n ( a , b ) { e . s h a p e . m o v e ( a - f , b - g , j , k ) , f = a , g = b , e . u p d a t e S v g E l ( ) , e . s e t C o o r d i n a t e s I n F o r m ( ) } , f u n c t i o n ( ) { d o c u m e n t . b o d y . r e m o v e C h i l d ( h ) } ) } } , d . p r o t o t y p e . h a n d l e E d i t = f u n c t i o n ( c , d , e ) { v a r   f = b . p r e p a r e ( c ) ; i f ( f . s t a r t ) { " p o l y g o n " = = = t h i s . s h a p e . g e t T y p e ( ) & & ( c . c t r l K e y | | c . m e t a K e y ) & & ( t h i s . s h a p e . a d d N e w P o i n t A f t e r ( d ) , t h i s . r e m o v e F r o m S v g ( ) , t h i s . a d d T o S v g ( e ) , t h i s . s e t A c t i v e ( ) ) ; v a r   g = t h i s , h = f . x , i = f . y , j = t h i s . m a k e D r a g P r o x y ( f . x , f . y ) , k = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) , l = k . w i d t h ( ) , m = k . h e i g h t ( ) ; b . s t a r t ( c , a ( j ) , f u n c t i o n ( a , b ) { g . s h a p e . e d i t ( d , a - h , b - i , l , m ) , h = a , i = b , g . u p d a t e S v g E l ( ) , g . s e t C o o r d i n a t e s I n F o r m ( ) } , f u n c t i o n ( ) { d o c u m e n t . b o d y . r e m o v e C h i l d ( j ) , g . s h a p e . n o r m a l i z e S h a p e ( ) , g . u p d a t e S v g E l ( ) , g . s e t C o o r d i n a t e s I n F o r m ( ) } ) } } , d . p r o t o t y p e . m a k e D r a g P r o x y = f u n c t i o n ( a , b ) { v a r   c = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; r e t u r n   c . s t y l e . p o s i t i o n = " a b s o l u t e " , c . s t y l e . t o p = b + " p x " , c . s t y l e . l e f t = a + " p x " , c . s t y l e . w i d t h = " 1 p x " , c . s t y l e . h e i g h t = " 1 p x " , d o c u m e n t . b o d y . a p p e n d C h i l d ( c ) , c } ; v a r   e = { m a x S i z e s : n u l l , f p : n u l l , n o D r o p Z o n e s : n u l l , d r o p Z o n e s : [ ] , i n i t : f u n c t i o n ( a ) { e . m a x S i z e s = a , e . f p = e . f i l e P i c k e r s ( ) , e . n o D r o p Z o n e s = e . f o r m . g e t F o r m V a l u e ( " n o d r o p z o n e " , [ ] ) , e . s e t u p P r e v i e w A r e a ( ) , e . s e t O p t i o n s F o r D r a g I t e m S e l e c t o r s ( ) , e . c r e a t e S h a p e s ( ) , e . s e t u p E v e n t H a n d l e r s ( ) , e . w a i t F o r F i l e P i c k e r T o I n i t i a l i s e ( ) } , s e t u p P r e v i e w A r e a : f u n c t i o n ( ) { a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   d i v . f c o n t a i n e r " ) . a p p e n d ( ' < d i v   c l a s s = " d d a r e a   q u e   d d m a r k e r " >       < d i v   i d = " d d m - d r o p a r e a "   c l a s s = " d r o p a r e a " >               < i m g   c l a s s = " d r o p b a c k g r o u n d "   / >               < d i v   i d = " d d m - d r o p z o n e "   c l a s s = " d r o p z o n e s " >               < / d i v >       < / d i v > < / d i v > ' ) } , s e t O p t i o n s F o r D r a g I t e m S e l e c t o r s : f u n c t i o n ( ) { v a r   b , c , d , f = { 0 : " " } , g = e . f o r m . g e t F o r m V a l u e ( " n o i t e m s " , [ ] ) , h = [ ] ; f o r ( c = 1 ; c < = g ; c + + ) d = e . f o r m . g e t M a r k e r T e x t ( c ) , " " ! = = d & & ( f [ c ] = a ( " < d i v / > " ) . t e x t ( d ) . h t m l ( ) ) ; f o r ( c = 0 ; c < e . n o D r o p Z o n e s ; c + + ) b = a ( " # i d _ d r o p s _ " + c + " _ c h o i c e " ) , h [ c ] = N u m b e r ( b . v a l ( ) ) ; f o r ( c = 0 ; c < e . n o D r o p Z o n e s ; c + + ) { b = a ( " # i d _ d r o p s _ " + c + " _ c h o i c e " ) , b . f i n d ( " o p t i o n " ) . r e m o v e ( ) ; f o r ( v a r   i   i n   f ) { i = N u m b e r ( i ) ; v a r   j = ' < o p t i o n   v a l u e = " ' + i + ' " > ' + f [ i ] + " < / o p t i o n > " ; b . a p p e n d ( j ) ; v a r   k = b . f i n d ( ' o p t i o n [ v a l u e = " ' + i + ' " ] ' ) ; i f ( 0 ! = = i ) i f ( i ! = = h [ c ] ) { v a r   l = e . f o r m . g e t F o r m V a l u e ( " d r a g s " , [ i - 1 , " n o o f d r a g s " ] ) ; i f ( 0 ! = = N u m b e r ( l ) ) f o r ( v a r   m   i n   h ) i f ( N u m b e r ( h [ m ] ) = = = i ) { i f ( 1 = = = N u m b e r ( l ) ) { k . a t t r ( " d i s a b l e d " , ! 0 ) ; b r e a k } l - - } } e l s e   k . a t t r ( " s e l e c t e d " , ! 0 ) } e . d r o p Z o n e s . l e n g t h > 0 & & e . d r o p Z o n e s [ c ] . u p d a t e L a b e l ( ) } } , c r e a t e S h a p e s : f u n c t i o n ( ) { f o r ( v a r   a = 0 ; a < e . n o D r o p Z o n e s ; a + + ) e . d r o p Z o n e s [ a ] = n e w   d ( a ) } , s e t u p E v e n t H a n d l e r s : f u n c t i o n ( ) { a ( " f i e l d s e t # i d _ d r a g g a b l e i t e m h e a d e r " ) . o n ( " c h a n g e   i n p u t " , " i n p u t ,   s e l e c t " , f u n c t i o n ( ) { e . s e t O p t i o n s F o r D r a g I t e m S e l e c t o r s ( ) } ) , a ( " f i e l d s e t # i d _ d r o p z o n e h e a d e r " ) . o n ( " c h a n g e   i n p u t " , " i n p u t ,   s e l e c t " , f u n c t i o n ( a ) { v a r   b = a . c u r r e n t T a r g e t . n a m e . m a t c h ( / ^ d r o p s \ [ ( \ d + ) ] \ [ ( [ a - z ] * ) ] $ / ) ; i f ( b ) { v a r   c = b [ 1 ] , d = b [ 2 ] , f = e . d r o p Z o n e s [ c ] ; s w i t c h ( d ) { c a s e " s h a p e " : f . c h a n g e S h a p e ( e . f o r m . g e t S v g ( ) ) ; b r e a k ; c a s e " c o o r d s " : f . u p d a t e C o o r d i n a t e s F r o m F o r m ( e . f o r m . g e t S v g ( ) ) ; b r e a k ; c a s e " c h o i c e " : f . u p d a t e L a b e l ( ) } } } ) ; v a r   b = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r " ) ; b . o n ( " c l i c k " , " g . d r o p z o n e " , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " d r o p z o n e - n o " ) , d = e . d r o p Z o n e s [ c ] . i s A c t i v e ( ) ; a ( e . f o r m . g e t S v g ( ) ) . f i n d ( " . d r o p z o n e . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , d | | e . d r o p Z o n e s [ c ] . s e t A c t i v e ( ) } ) , b . o n ( " m o u s e d o w n   t o u c h s t a r t " , " . d r o p z o n e   . h a n d l e . m o v e " , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . c l o s e s t ( " g " ) . d a t a ( " d r o p z o n e N o " ) ; e . d r o p Z o n e s [ c ] . h a n d l e M o v e ( b ) } ) , b . o n ( " m o u s e d o w n   t o u c h s t a r t " , " . d r o p z o n e   . h a n d l e . e d i t " , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . c l o s e s t ( " g " ) . d a t a ( " d r o p z o n e N o " ) , d = b . c u r r e n t T a r g e t . g e t A t t r i b u t e ( " d a t a - e d i t - h a n d l e - n o " ) ; e . d r o p Z o n e s [ c ] . h a n d l e E d i t ( b , d , e . f o r m . g e t S v g ( ) ) } ) } , w a i t F o r F i l e P i c k e r T o I n i t i a l i s e : f u n c t i o n ( ) { r e t u r n   n u l l = = = e . f p . f i l e ( " b g i m a g e " ) . h r e f ? v o i d   s e t T i m e o u t ( e . w a i t F o r F i l e P i c k e r T o I n i t i a l i s e , 1 e 3 ) : ( a ( " f o r m . m f o r m " ) . o n ( " c h a n g e " , " # i d _ b g i m a g e " , e . l o a d P r e v i e w I m a g e ) , v o i d   e . l o a d P r e v i e w I m a g e ( ) ) } , l o a d P r e v i e w I m a g e : f u n c t i o n ( ) { a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) . o n e ( " l o a d " , e . a f t e r P r e v i e w I m a g e L o a d e d ) . a t t r ( " s r c " , e . f p . f i l e ( " b g i m a g e " ) . h r e f ) } , a f t e r P r e v i e w I m a g e L o a d e d : f u n c t i o n ( ) { v a r   b = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) ; e . c o n s t r a i n I m a g e S i z e ( ) , a ( " # d d m - d r o p z o n e " ) . c s s ( " p o s i t i o n " , " r e l a t i v e " ) . c s s ( " t o p " , ( b . h e i g h t ( ) + 1 ) * - 1 ) , a ( " # d d m - d r o p a r e a " ) . c s s ( " h e i g h t " , b . h e i g h t ( ) + 2 0 ) , e . u p d a t e S v g D i s p l a y ( ) } , c o n s t r a i n I m a g e S i z e : f u n c t i o n ( ) { v a r   b = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) , c = M a t h . m a x ( b . w i d t h ( ) / e . m a x S i z e s . w i d t h , b . h e i g h t ( ) / e . m a x S i z e s . h e i g h t ) ; c > 1 & & b . c s s ( " w i d t h " , M a t h . f l o o r ( b . w i d t h ( ) / c ) ) , b . a d d C l a s s ( " c o n s t r a i n e d " ) } , u p d a t e S v g D i s p l a y : f u n c t i o n ( ) { v a r   b , c = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   . d r o p b a c k g r o u n d " ) ; i f ( e . f o r m . g e t S v g ( ) ) f o r ( b = 0 ; b < e . n o D r o p Z o n e s ; b + + ) e . d r o p Z o n e s [ b ] . u p d a t e S v g E l ( ) ; e l s e   f o r ( a ( " # d d m - d r o p z o n e " ) . h t m l ( ' < s v g   x m l n s = " h t t p : / / w w w . w 3 . o r g / 2 0 0 0 / s v g "   c l a s s = " d r o p z o n e s "   w i d t h = " ' + c . o u t e r W i d t h ( ) + ' "   h e i g h t = " ' + c . o u t e r H e i g h t ( ) + ' " > < / s v g > ' ) , b = 0 ; b < e . n o D r o p Z o n e s ; b + + ) e . d r o p Z o n e s [ b ] . a d d T o S v g ( e . f o r m . g e t S v g ( ) ) } , f o r m : { g e t M a r k e r T e x t : f u n c t i o n ( a ) { i f ( 0 ! = = N u m b e r ( a ) ) { v a r   b = e . f o r m . g e t F o r m V a l u e ( " d r a g s " , [ a - 1 , " l a b e l " ] ) ; r e t u r n   b . r e p l a c e ( n e w   R e g E x p ( " ^ \ \ s * ( . * ) \ \ s * $ " ) , " $ 1 " ) } r e t u r n " " } , g e t S v g : f u n c t i o n ( ) { v a r   b = a ( " f i e l d s e t # i d _ p r e v i e w a r e a h e a d e r   s v g " ) ; r e t u r n   0 = = = b . l e n g t h ? n u l l : b [ 0 ] } , t o N a m e W i t h I n d e x : f u n c t i o n ( a , b ) { f o r ( v a r   c = a , d = 0 ; d < b . l e n g t h ; d + + ) c = c + " [ " + b [ d ] + " ] " ; r e t u r n   c } , g e t E l : f u n c t i o n ( a , b ) { v a r   c = d o c u m e n t . g e t E l e m e n t B y I d ( " m f o r m 1 " ) ; r e t u r n   c . e l e m e n t s [ t h i s . t o N a m e W i t h I n d e x ( a , b ) ] } , g e t F o r m V a l u e : f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t E l ( a , b ) ; r e t u r n " c h e c k b o x " = = = c . t y p e ? c . c h e c k e d : c . v a l u e } , s e t F o r m V a l u e : f u n c t i o n ( a , b , c ) { v a r   d = t h i s . g e t E l ( a , b ) ; " c h e c k b o x " = = = d . t y p e ? d . c h e c k e d = c : d . v a l u e = c } } , f i l e P i c k e r s : f u n c t i o n ( ) { v a r   b , c ; r e t u r n   v o i d   0 = = = b & & ( b = { } , c = { } , a ( " f o r m . m f o r m   i n p u t . f i l e p i c k e r h i d d e n " ) . e a c h ( f u n c t i o n ( a , d ) { b [ d . v a l u e ] = d . n a m e , c [ d . n a m e ] = d . p a r e n t N o d e } ) ) , { f i l e : f u n c t i o n ( b ) { v a r   d = a ( c [ b ] ) . f i n d ( " d i v . f i l e p i c k e r - f i l e l i s t   a " ) ; r e t u r n   d . l e n g t h ? { h r e f : d . g e t ( 0 ) . h r e f , n a m e : d . g e t ( 0 ) . i n n e r H T M L } : { h r e f : n u l l , n a m e : n u l l } } , n a m e : f u n c t i o n ( a ) { r e t u r n   b [ a ] } } } } ; r e t u r n { i n i t : e . i n i t } } ) ; 
 d e f i n e ( ' q t y p e _ d d w t o s / d d w t o s ' ,   [ " j q u e r y " , " c o r e / d r a g d r o p " , " c o r e / k e y _ c o d e s " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a , b ) { t h i s . c o n t a i n e r I d = a , b & & t h i s . g e t R o o t ( ) . a d d C l a s s ( " q t y p e _ d d w t o s - r e a d o n l y " ) , t h i s . r e s i z e A l l D r a g s A n d D r o p s ( ) , t h i s . c l o n e D r a g s ( ) , t h i s . p o s i t i o n D r a g s ( ) } d . p r o t o t y p e . r e s i z e A l l D r a g s A n d D r o p s = f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . g e t R o o t ( ) . f i n d ( " . a n s w e r c o n t a i n e r   >   d i v " ) . e a c h ( f u n c t i o n ( c , d ) { b . r e s i z e A l l D r a g s A n d D r o p s I n G r o u p ( b . g e t C l a s s n a m e N u m e r i c S u f f i x ( a ( d ) , " d r a g g r o u p h o m e s " ) ) } ) } , d . p r o t o t y p e . r e s i z e A l l D r a g s A n d D r o p s I n G r o u p = f u n c t i o n ( a ) { v a r   b = t h i s , c = t h i s . g e t R o o t ( ) . f i n d ( " . d r a g g r o u p h o m e s " + a + "   s p a n . d r a g h o m e " ) , d = 0 , e = 0 ; c . e a c h ( f u n c t i o n ( a , b ) { d = M a t h . m a x ( d , M a t h . c e i l ( b . o f f s e t W i d t h ) ) , e = M a t h . m a x ( e , M a t h . c e i l ( 0 + b . o f f s e t H e i g h t ) ) } ) , d + = 8 , e + = 2 , c . e a c h ( f u n c t i o n ( a , c ) { b . s e t E l e m e n t S i z e ( c , d , e ) } ) , t h i s . g e t R o o t ( ) . f i n d ( " s p a n . d r o p . g r o u p " + a ) . e a c h ( f u n c t i o n ( a , c ) { b . s e t E l e m e n t S i z e ( c , d , e ) } ) } , d . p r o t o t y p e . s e t E l e m e n t S i z e = f u n c t i o n ( b , c , d ) { a ( b ) . w i d t h ( c ) . h e i g h t ( d ) . c s s ( " l i n e H e i g h t " , d + " p x " ) } , d . p r o t o t y p e . c l o n e D r a g s = f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . g e t R o o t ( ) . f i n d ( " s p a n . d r a g h o m e " ) . e a c h ( f u n c t i o n ( c , d ) { b . c l o n e D r a g s F o r O n e C h o i c e ( a ( d ) ) } ) } , d . p r o t o t y p e . c l o n e D r a g s F o r O n e C h o i c e = f u n c t i o n ( a ) { i f ( a . h a s C l a s s ( " i n f i n i t e " ) ) f o r ( v a r   b = t h i s . n o O f D r o p s I n G r o u p ( t h i s . g e t G r o u p ( a ) ) , c = 0 ; c < b ; c + + ) t h i s . c l o n e D r a g ( a ) ; e l s e   t h i s . c l o n e D r a g ( a ) } , d . p r o t o t y p e . c l o n e D r a g = f u n c t i o n ( a ) { v a r   b = a . c l o n e ( ) ; b . r e m o v e C l a s s ( " d r a g h o m e " ) . a d d C l a s s ( " d r a g   u n p l a c e d   m o o d l e - h a s - z i n d e x " ) . o f f s e t ( a . o f f s e t ( ) ) , t h i s . g e t R o o t ( ) . f i n d ( " d i v . d r a g s " ) . a p p e n d ( b ) } , d . p r o t o t y p e . p o s i t i o n D r a g s = f u n c t i o n ( ) { v a r   b = t h i s , c = t h i s . g e t R o o t ( ) ; c . f i n d ( " s p a n . d r a g " ) . e a c h ( f u n c t i o n ( c , d ) { v a r   e = a ( d ) , f = b . g e t C l a s s n a m e N u m e r i c S u f f i x ( e , " i n p l a c e " ) ; e . a d d C l a s s ( " u n p l a c e d " ) . r e m o v e C l a s s ( " p l a c e d " ) . o f f s e t ( b . g e t D r a g H o m e ( b . g e t G r o u p ( e ) , b . g e t C h o i c e ( e ) ) . o f f s e t ( ) ) , n u l l ! = = f & & e . r e m o v e C l a s s ( " i n p l a c e " + f ) } ) , c . f i n d ( " i n p u t . p l a c e i n p u t " ) . e a c h ( f u n c t i o n ( d , e ) { v a r   f = a ( e ) , g = f . v a l ( ) ; i f ( " 0 " ! = = g ) { v a r   h = b . g e t P l a c e ( f ) ; b . g e t U n p l a c e d C h o i c e ( b . g e t G r o u p ( f ) , g ) . r e m o v e C l a s s ( " u n p l a c e d " ) . a d d C l a s s ( " p l a c e d   i n p l a c e " + h ) . o f f s e t ( c . f i n d ( " . d r o p . p l a c e " + h ) . o f f s e t ( ) ) } } ) } , d . p r o t o t y p e . h a n d l e D r a g S t a r t = f u n c t i o n ( c ) { v a r   d = t h i s , e = a ( c . t a r g e t ) . c l o s e s t ( " . d r a g " ) , f = b . p r e p a r e ( c ) ; i f ( f . s t a r t ) { v a r   g = t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( e , " i n p l a c e " ) ; n u l l ! = = g & & ( t h i s . s e t I n p u t V a l u e ( g , 0 ) , e . r e m o v e C l a s s ( " i n p l a c e " + g ) ) , e . a d d C l a s s ( " b e i n g d r a g g e d " ) , b . s t a r t ( c , e , f u n c t i o n ( a , b , c ) { d . d r a g M o v e ( a , b , c ) } , f u n c t i o n ( a , b , c ) { d . d r a g E n d ( a , b , c ) } ) } } , d . p r o t o t y p e . d r a g M o v e = f u n c t i o n ( b , c , d ) { v a r   e = t h i s ; t h i s . g e t R o o t ( ) . f i n d ( " s p a n . d r o p . g r o u p " + t h i s . g e t G r o u p ( d ) ) . e a c h ( f u n c t i o n ( d , f ) { v a r   g = a ( f ) ; e . i s P o i n t I n D r o p ( b , c , g ) ? g . a d d C l a s s ( " v a l i d - d r a g - o v e r - d r o p " ) : g . r e m o v e C l a s s ( " v a l i d - d r a g - o v e r - d r o p " ) } ) } , d . p r o t o t y p e . d r a g E n d = f u n c t i o n ( b , c , d ) { v a r   e = t h i s , f = t h i s . g e t R o o t ( ) , g = ! 1 ; f . f i n d ( " s p a n . d r o p . g r o u p " + t h i s . g e t G r o u p ( d ) ) . e a c h ( f u n c t i o n ( f , h ) { v a r   i = a ( h ) ; r e t u r n ! e . i s P o i n t I n D r o p ( b , c , i ) | | ( i . r e m o v e C l a s s ( " v a l i d - d r a g - o v e r - d r o p " ) , e . s e n d D r a g T o D r o p ( d , i ) , g = ! 0 , ! 1 ) } ) , g | | t h i s . s e n d D r a g H o m e ( d ) } , d . p r o t o t y p e . s e n d D r a g T o D r o p = f u n c t i o n ( a , b ) { v a r   c = t h i s . g e t C u r r e n t D r a g I n P l a c e ( t h i s . g e t P l a c e ( b ) ) ; 0 ! = = c . l e n g t h & & t h i s . s e n d D r a g H o m e ( c ) , 0 = = = a . l e n g t h ? t h i s . s e t I n p u t V a l u e ( t h i s . g e t P l a c e ( b ) , 0 ) : ( t h i s . s e t I n p u t V a l u e ( t h i s . g e t P l a c e ( b ) , t h i s . g e t C h o i c e ( a ) ) , a . r e m o v e C l a s s ( " u n p l a c e d " ) . a d d C l a s s ( " p l a c e d   i n p l a c e " + t h i s . g e t P l a c e ( b ) ) , t h i s . a n i m a t e T o ( a , b ) ) } , d . p r o t o t y p e . s e n d D r a g H o m e = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " p l a c e d " ) . a d d C l a s s ( " u n p l a c e d " ) ; v a r   b = t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " i n p l a c e " ) ; n u l l ! = = b & & a . r e m o v e C l a s s ( " i n p l a c e " + b ) , t h i s . a n i m a t e T o ( a , t h i s . g e t D r a g H o m e ( t h i s . g e t G r o u p ( a ) , t h i s . g e t C h o i c e ( a ) ) ) } , d . p r o t o t y p e . h a n d l e K e y P r e s s = f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( " . d r o p " ) , e = t h i s . g e t C u r r e n t D r a g I n P l a c e ( t h i s . g e t P l a c e ( d ) ) , f = a ( ) ; s w i t c h ( b . k e y C o d e ) { c a s e   c . s p a c e : c a s e   c . a r r o w R i g h t : c a s e   c . a r r o w D o w n : f = t h i s . g e t N e x t D r a g ( t h i s . g e t G r o u p ( d ) , e ) ; b r e a k ; c a s e   c . a r r o w L e f t : c a s e   c . a r r o w U p : f = t h i s . g e t P r e v i o u s D r a g ( t h i s . g e t G r o u p ( d ) , e ) ; b r e a k ; c a s e   c . e s c a p e : b r e a k ; d e f a u l t : r e t u r n } b . p r e v e n t D e f a u l t ( ) , t h i s . s e n d D r a g T o D r o p ( f , d ) } , d . p r o t o t y p e . g e t N e x t D r a g = f u n c t i o n ( a , b ) { v a r   c , d = t h i s . n o O f C h o i c e s I n G r o u p ( a ) ; c = 0 = = = b . l e n g t h ? 1 : t h i s . g e t C h o i c e ( b ) + 1 ; f o r ( v a r   e = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; 0 = = = e . l e n g t h & & c < d ; ) c + + , e = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; r e t u r n   e } , d . p r o t o t y p e . g e t P r e v i o u s D r a g = f u n c t i o n ( a , b ) { v a r   c ; c = 0 = = = b . l e n g t h ? t h i s . n o O f C h o i c e s I n G r o u p ( a ) : t h i s . g e t C h o i c e ( b ) - 1 ; f o r ( v a r   d = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; 0 = = = d . l e n g t h & & c > 1 ; ) c - - , d = t h i s . g e t U n p l a c e d C h o i c e ( a , c ) ; r e t u r n   d } , d . p r o t o t y p e . a n i m a t e T o = f u n c t i o n ( a , b ) { v a r   c = a . o f f s e t ( ) , d = b . o f f s e t ( ) ; a . a d d C l a s s ( " b e i n g d r a g g e d " ) , a . a n i m a t e ( { l e f t : p a r s e I n t ( a . c s s ( " l e f t " ) ) + d . l e f t - c . l e f t , t o p : p a r s e I n t ( a . c s s ( " t o p " ) ) + d . t o p - c . t o p } , { d u r a t i o n : " f a s t " , d o n e : f u n c t i o n ( ) { a . r e m o v e C l a s s ( " b e i n g d r a g g e d " ) , a . o f f s e t ( d ) } } ) } , d . p r o t o t y p e . i s P o i n t I n D r o p = f u n c t i o n ( a , b , c ) { v a r   d = c . o f f s e t ( ) ; r e t u r n   a > = d . l e f t & & a < d . l e f t + c . w i d t h ( ) & & b > = d . t o p & & b < d . t o p + c . h e i g h t ( ) } , d . p r o t o t y p e . s e t I n p u t V a l u e = f u n c t i o n ( a , b ) { t h i s . g e t R o o t ( ) . f i n d ( " i n p u t . p l a c e i n p u t . p l a c e " + a ) . v a l ( b ) } , d . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   a ( d o c u m e n t . g e t E l e m e n t B y I d ( t h i s . c o n t a i n e r I d ) ) } , d . p r o t o t y p e . g e t D r a g H o m e = f u n c t i o n ( a , b ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d r a g h o m e . g r o u p " + a + " . c h o i c e " + b ) } , d . p r o t o t y p e . g e t U n p l a c e d C h o i c e = f u n c t i o n ( a , b ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d r a g . g r o u p " + a + " . c h o i c e " + b + " . u n p l a c e d " ) . s l i c e ( 0 , 1 ) } , d . p r o t o t y p e . g e t C u r r e n t D r a g I n P l a c e = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " s p a n . d r a g . i n p l a c e " + a ) } , d . p r o t o t y p e . n o O f D r o p s I n G r o u p = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d r o p . g r o u p " + a ) . l e n g t h } , d . p r o t o t y p e . n o O f C h o i c e s I n G r o u p = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t R o o t ( ) . f i n d ( " . d r a g h o m e . g r o u p " + a ) . l e n g t h } , d . p r o t o t y p e . g e t C l a s s n a m e N u m e r i c S u f f i x = f u n c t i o n ( a , b ) { v a r   c = a . a t t r ( " c l a s s " ) ; i f ( " " ! = = c ) f o r ( v a r   d = c . s p l i t ( "   " ) , e = 0 ; e < d . l e n g t h ; e + + ) { v a r   f = n e w   R e g E x p ( " ^ " + b + " ( [ 0 - 9 ] ) + $ " ) ; i f ( f . t e s t ( d [ e ] ) ) { v a r   g = n e w   R e g E x p ( " ( [ 0 - 9 ] ) + $ " ) , h = g . e x e c ( d [ e ] ) ; r e t u r n   N u m b e r ( h [ 0 ] ) } } r e t u r n   n u l l } , d . p r o t o t y p e . g e t C h o i c e = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " c h o i c e " ) } , d . p r o t o t y p e . g e t G r o u p = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " g r o u p " ) } , d . p r o t o t y p e . g e t P l a c e = f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C l a s s n a m e N u m e r i c S u f f i x ( a , " p l a c e " ) } ; v a r   e = { e v e n t H a n d l e r s I n i t i a l i s e d : ! 1 , q u e s t i o n s : { } , i n i t : f u n c t i o n ( a , b ) { e . q u e s t i o n s [ a ] = n e w   d ( a , b ) , e . e v e n t H a n d l e r s I n i t i a l i s e d | | ( e . s e t u p E v e n t H a n d l e r s ( ) , e . e v e n t H a n d l e r s I n i t i a l i s e d = ! 0 ) } , s e t u p E v e n t H a n d l e r s : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " m o u s e d o w n   t o u c h s t a r t " , " . q u e . d d w t o s : n o t ( . q t y p e _ d d w t o s - r e a d o n l y )   s p a n . d r a g " , e . h a n d l e D r a g S t a r t ) . o n ( " k e y d o w n " , " . q u e . d d w t o s : n o t ( . q t y p e _ d d w t o s - r e a d o n l y )   s p a n . d r o p " , e . h a n d l e K e y P r e s s ) , a ( w i n d o w ) . o n ( " r e s i z e " , e . h a n d l e W i n d o w R e s i z e ) } , h a n d l e D r a g S t a r t : f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = e . g e t Q u e s t i o n F o r E v e n t ( a ) ; b & & b . h a n d l e D r a g S t a r t ( a ) } , h a n d l e K e y P r e s s : f u n c t i o n ( a ) { v a r   b = e . g e t Q u e s t i o n F o r E v e n t ( a ) ; b & & b . h a n d l e K e y P r e s s ( a ) } , h a n d l e W i n d o w R e s i z e : f u n c t i o n ( ) { f o r ( v a r   a   i n   e . q u e s t i o n s ) e . q u e s t i o n s . h a s O w n P r o p e r t y ( a ) & & e . q u e s t i o n s [ a ] . p o s i t i o n D r a g s ( ) } , g e t Q u e s t i o n F o r E v e n t : f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . c l o s e s t ( " . q u e . d d w t o s " ) . a t t r ( " i d " ) ; r e t u r n   e . q u e s t i o n s [ c ] } } ; r e t u r n { i n i t : e . i n i t } } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / p a r t i c i p a n t _ s e l e c t o r ' ,   [ " c o r e / a j a x " , " j q u e r y " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( a , b ) { r e t u r n   b } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h = b ( d ) . a t t r ( " d a t a - a s s i g n m e n t i d " ) , i = b ( d ) . a t t r ( " d a t a - g r o u p i d " ) , j = b ( ' [ d a t a - r e g i o n = " c o n f i g u r e - f i l t e r s " ]   i n p u t [ t y p e = " c h e c k b o x " ] ' ) , k = [ ] ; j . e a c h ( f u n c t i o n ( a , c ) { k [ b ( c ) . a t t r ( " n a m e " ) ] = b ( c ) . p r o p ( " c h e c k e d " ) } ) , a . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ l i s t _ p a r t i c i p a n t s " , a r g s : { a s s i g n i d : h , g r o u p i d : i , f i l t e r : e , l i m i t : 3 0 , i n c l u d e e n r o l m e n t s : ! 1 } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { v a r   d = [ ] , e = b ( " [ d a t a - s h o w u s e r i d e n t i t y ] " ) . d a t a ( " s h o w u s e r i d e n t i t y " ) . s p l i t ( " , " ) ; r e t u r n   b . e a c h ( a , f u n c t i o n ( a , f ) { v a r   g = f , h = [ ] , i = ! 0 ; k . f i l t e r _ s u b m i t t e d & & ! f . s u b m i t t e d & & ( i = ! 1 ) , k . f i l t e r _ n o t s u b m i t t e d & & f . s u b m i t t e d & & ( i = ! 1 ) , k . f i l t e r _ r e q u i r e g r a d i n g & & ! f . r e q u i r e g r a d i n g & & ( i = ! 1 ) , k . f i l t e r _ g r a n t e d e x t e n s i o n & & ! f . g r a n t e d e x t e n s i o n & & ( i = ! 1 ) , i & & ( b . e a c h ( e , f u n c t i o n ( a , b ) { " u n d e f i n e d " ! = t y p e o f   f [ b ] & & " " ! = = f [ b ] & & ( g . h a s i d e n t i t y = ! 0 , h . p u s h ( f [ b ] ) ) } ) , g . i d e n t i t y = h . j o i n ( " ,   " ) , d . p u s h ( c . r e n d e r ( " m o d _ a s s i g n / l i s t _ p a r t i c i p a n t _ u s e r _ s u m m a r y " , g ) . t h e n ( f u n c t i o n ( a ) { r e t u r n { v a l u e : f . i d , l a b e l : a } } ) ) ) } ) , b . w h e n . a p p l y ( b , d ) } ) . t h e n ( f u n c t i o n ( ) { v a r   a = [ ] ; a r g u m e n t s [ 0 ] & & ( a = A r r a y . p r o t o t y p e . s l i c e . c a l l ( a r g u m e n t s ) ) , f ( a ) } ) [ " c a t c h " ] ( g ) } } } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ f o r m _ c h a n g e _ c h e c k e r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { r e t u r n { s a v e F o r m S t a t e : f u n c t i o n ( b ) { a ( b ) . t r i g g e r ( " s a v e - f o r m - s t a t e " ) ; v a r   c = a ( b ) . s e r i a l i z e ( ) ; a ( b ) . d a t a ( " s a v e d - f o r m - s t a t e " , c ) } , c h e c k F o r m F o r C h a n g e s : f u n c t i o n ( b ) { a ( b ) . t r i g g e r ( " s a v e - f o r m - s t a t e " ) ; v a r   c = a ( b ) . s e r i a l i z e ( ) , d = a ( b ) . d a t a ( " s a v e d - f o r m - s t a t e " ) ; r e t u r n " u n d e f i n e d " ! = t y p e o f   d & & d ! = c } } } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ u s e r _ i n f o ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ r e g i o n = a ( b ) , t h i s . _ u s e r C a c h e = { } , a ( d o c u m e n t ) . o n ( " u s e r - c h a n g e d " , t h i s . _ r e f r e s h U s e r I n f o . b i n d ( t h i s ) ) } ; r e t u r n   e . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , e . p r o t o t y p e . _ u s e r C a c h e = n u l l , e . p r o t o t y p e . _ r e g i o n = n u l l , e . p r o t o t y p e . _ l a s t U s e r I d = 0 , e . p r o t o t y p e . _ g e t A s s i g n m e n t I d = f u n c t i o n ( ) { r e t u r n   t h i s . _ r e g i o n . a t t r ( " d a t a - a s s i g n m e n t i d " ) } , e . p r o t o t y p e . _ r e f r e s h U s e r I n f o = f u n c t i o n ( e , f ) { v a r   g = a . D e f e r r e d ( ) ; t h i s . _ r e g i o n . a t t r ( " d a t a - u s e r i d " , f ) , t h i s . _ l a s t U s e r I d ! = f & & ( t h i s . _ l a s t U s e r I d = f , d . r e n d e r ( " m o d _ a s s i g n / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( e , h ) { i f ( t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , e , h ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) , f < 0 ) r e t u r n   v o i d   d . r e n d e r ( " m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ n o _ u s e r s " , { } ) . d o n e ( f u n c t i o n ( a , b ) { t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , a , b ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) ; i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . _ u s e r C a c h e [ f ] ) g . r e s o l v e ( t h i s . _ u s e r C a c h e [ f ] ) ; e l s e { v a r   i = t h i s . _ g e t A s s i g n m e n t I d ( ) , j = c . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ g e t _ p a r t i c i p a n t " , a r g s : { u s e r i d : f , a s s i g n i d : i , e m b e d u s e r : ! 0 } } ] ) ; j [ 0 ] . d o n e ( f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " i d " ) ? ( t h i s . _ u s e r C a c h e [ f ] = a , g . r e s o l v e ( t h i s . _ u s e r C a c h e [ f ] ) ) : g . r e j e c t ( " N o   u s e r s " ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } g . d o n e ( f u n c t i o n ( c ) { v a r   e = a ( " [ d a t a - s h o w u s e r i d e n t i t y ] " ) . d a t a ( " s h o w u s e r i d e n t i t y " ) . s p l i t ( " , " ) , f = [ ] ; c . c o u r s e i d = a ( ' [ d a t a - r e g i o n = " g r a d i n g - n a v i g a t i o n - p a n e l " ] ' ) . a t t r ( " d a t a - c o u r s e i d " ) , c . u s e r & & ( a . e a c h ( e , f u n c t i o n ( a , b ) { " u n d e f i n e d " ! = t y p e o f   c . u s e r [ b ] & & " " ! = = c . u s e r [ b ] & & ( c . h a s i d e n t i t y = ! 0 , f . p u s h ( c . u s e r [ b ] ) ) } ) , c . i d e n t i t y = f . j o i n ( " ,   " ) , c . u s e r . p r o f i l e i m a g e u r l & & ( c . p r o f i l e i m a g e u r l = c . u s e r . p r o f i l e i m a g e u r l ) ) , d . r e n d e r ( " m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ u s e r _ s u m m a r y " , c ) . d o n e ( f u n c t i o n ( a , b ) { t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , a , b ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( f u n c t i o n ( ) { d . r e n d e r ( " m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n _ n o _ u s e r s " , { } ) . d o n e ( f u n c t i o n ( a , b ) { t h i s . _ r e g i o n . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , a , b ) , t h i s . _ r e g i o n . f a d e I n ( " f a s t " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) ) } , e } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ r e v i e w _ p a n e l ' ,   [ " j q u e r y " , " m o d _ a s s i g n / g r a d i n g _ e v e n t s " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( ) { t h i s . _ r e g i o n = a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l - c o n t e n t " ] ' ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   c . p r o t o t y p e . _ r e g i o n = n u l l , c . p r o t o t y p e . g e t R e v i e w P a n e l = f u n c t i o n ( a ) { v a r   b = t h i s . _ r e g i o n . d a t a ( " p a n e l - o w n e r " ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   b & & t h i s . _ r e g i o n . d a t a ( " r e v i e w - p a n e l - p l u g i n " , a ) , t h i s . _ r e g i o n . d a t a ( " r e v i e w - p a n e l - p l u g i n " ) = = a & & t h i s . _ r e g i o n [ 0 ] } , c . p r o t o t y p e . g e t T o g g l e P a n e l B u t t o n = f u n c t i o n ( ) { r e t u r n   t h i s . g e t P a n e l E l e m e n t ( ) . f i n d ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l - t o g g l e " ] ' ) } , c . p r o t o t y p e . g e t P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) } , c . p r o t o t y p e . g e t P a n e l C o n t e n t E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l - c o n t e n t " ] ' ) } , c . p r o t o t y p e . t o g g l e P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . h a s C l a s s ( " c o l l a p s e d " ) ? a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ R E V I E W _ P A N E L ) : a ( d o c u m e n t ) . t r i g g e r ( b . C O L L A P S E _ R E V I E W _ P A N E L ) } , c . p r o t o t y p e . c o l l a p s e P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . a d d C l a s s ( " c o l l a p s e d " ) . r e m o v e C l a s s ( " g r a d e - p a n e l - c o l l a p s e d " ) , t h i s . g e t P a n e l C o n t e n t E l e m e n t ( ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) } , c . p r o t o t y p e . e x p a n d P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . r e m o v e C l a s s ( " c o l l a p s e d " ) , t h i s . g e t P a n e l C o n t e n t E l e m e n t ( ) . r e m o v e A t t r ( " a r i a - h i d d e n " ) } , c . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   c = t h i s . g e t T o g g l e P a n e l B u t t o n ( ) ; c . c l i c k ( f u n c t i o n ( a ) { t h i s . t o g g l e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , c . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . t o g g l e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) ; v a r   d = a ( d o c u m e n t ) ; d . o n ( b . C O L L A P S E _ R E V I E W _ P A N E L , f u n c t i o n ( ) { t h i s . c o l l a p s e P a n e l ( ) } . b i n d ( t h i s ) ) , d . o n ( b . C O L L A P S E _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) , t h i s . g e t P a n e l E l e m e n t ( ) . a d d C l a s s ( " g r a d e - p a n e l - c o l l a p s e d " ) } . b i n d ( t h i s ) ) , d . o n ( b . E X P A N D _ R E V I E W _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) } . b i n d ( t h i s ) ) , d . o n ( b . E X P A N D _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . r e m o v e C l a s s ( " g r a d e - p a n e l - c o l l a p s e d " ) } . b i n d ( t h i s ) ) } , c } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ p a n e l ' ,   [ " j q u e r y " , " c o r e / y u i " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / f r a g m e n t " , " c o r e / a j a x " , " c o r e / s t r " , " m o d _ a s s i g n / g r a d i n g _ f o r m _ c h a n g e _ c h e c k e r " , " m o d _ a s s i g n / g r a d i n g _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ r e g i o n = a ( b ) , t h i s . _ u s e r C a c h e = [ ] , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   j . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , j . p r o t o t y p e . _ l a s t U s e r I d = 0 , j . p r o t o t y p e . _ l a s t A t t e m p t N u m b e r = - 1 , j . p r o t o t y p e . _ r e g i o n = n u l l , j . p r o t o t y p e . n e x t U s e r I d = n u l l , j . p r o t o t y p e . n e x t U s e r = ! 1 , j . p r o t o t y p e . _ n i c e R e p l a c e N o d e C o n t e n t s = f u n c t i o n ( b , c , e ) { v a r   f = a . D e f e r r e d ( ) ; r e t u r n   b . f a d e O u t ( " f a s t " , f u n c t i o n ( ) { d . r e p l a c e N o d e C o n t e n t s ( b , c , e ) , b . f a d e I n ( " f a s t " , f u n c t i o n ( ) { f . r e s o l v e ( ) } ) } ) , f . p r o m i s e ( ) } , j . p r o t o t y p e . _ s a v e F o r m S t a t e = f u n c t i o n ( ) { " u n d e f i n e d " ! = t y p e o f   w i n d o w . t i n y M C E & & w i n d o w . t i n y M C E . t r i g g e r S a v e ( ) ; v a r   b = a ( ' [ d a t a - r e g i o n = " g r a d i n g - a c t i o n s - f o r m " ]   [ n a m e = " s e n d s t u d e n t n o t i f i c a t i o n s " ] ' ) . p r o p ( " c h e c k e d " ) ; a ( ' . g r a d e f o r m   [ n a m e = " s e n d s t u d e n t n o t i f i c a t i o n s " ] ' ) . v a l ( b ) } , j . p r o t o t y p e . _ s u b m i t F o r m = f u n c t i o n ( b , d , e ) { v a r   g = a ( t h i s . _ r e g i o n . f i n d ( " f o r m . g r a d e f o r m " ) ) ; a ( ' [ d a t a - r e g i o n = " o v e r l a y " ] ' ) . s h o w ( ) , g . t r i g g e r ( " s a v e - f o r m - s t a t e " ) ; v a r   h = g . s e r i a l i z e ( ) , i = t h i s . _ r e g i o n . a t t r ( " d a t a - a s s i g n m e n t i d " ) ; f . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ s u b m i t _ g r a d i n g _ f o r m " , a r g s : { a s s i g n m e n t i d : i , u s e r i d : t h i s . _ l a s t U s e r I d , j s o n f o r m d a t a : J S O N . s t r i n g i f y ( h ) } , d o n e : t h i s . _ h a n d l e F o r m S u b m i s s i o n R e s p o n s e . b i n d ( t h i s , h , d , e ) , f a i l : c . e x c e p t i o n } ] ) } , j . p r o t o t y p e . _ h a n d l e F o r m S u b m i s s i o n R e s p o n s e = f u n c t i o n ( d , e , f , h ) { " u n d e f i n e d " = = t y p e o f   e & & ( e = t h i s . _ l a s t U s e r I d ) , h . l e n g t h ? a ( d o c u m e n t ) . t r i g g e r ( " r e s e t " , [ t h i s . _ l a s t U s e r I d , d ] ) : ( g . g e t _ s t r i n g s ( [ { k e y : " c h a n g e s s a v e d " , c o m p o n e n t : " c o r e " } , { k e y : " g r a d e c h a n g e s s a v e d d e t a i l " , c o m p o n e n t : " m o d _ a s s i g n " } ] ) . d o n e ( f u n c t i o n ( a ) { c . a l e r t ( a [ 0 ] , a [ 1 ] ) } ) . f a i l ( c . e x c e p t i o n ) , b . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) , e = = t h i s . _ l a s t U s e r I d ? a ( d o c u m e n t ) . t r i g g e r ( " r e s e t " , e ) : f ? a ( d o c u m e n t ) . t r i g g e r ( " d o n e - s a v i n g - s h o w - n e x t " , ! 0 ) : a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , e ) ) , a ( ' [ d a t a - r e g i o n = " o v e r l a y " ] ' ) . h i d e ( ) } , j . p r o t o t y p e . _ r e s e t F o r m = f u n c t i o n ( b , c , d ) { v a r   e = a . E v e n t ( " c u s t o m " ) ; " u n d e f i n e d " = = t y p e o f   c & & ( c = t h i s . _ l a s t U s e r I d ) , t h i s . _ l a s t U s e r I d = 0 , t h i s . _ r e f r e s h G r a d i n g P a n e l ( e , c , d ) } , j . p r o t o t y p e . _ c h o o s e A t t e m p t = f u n c t i o n ( b ) { v a r   d = a ( b . t a r g e t ) , e = d . d a t a ( " s u b m i s s i o n s " ) , f = a ( d o c u m e n t . g e t E l e m e n t B y I d ( e ) ) , h = f . c l o n e ( ) , i = h . w r a p ( a ( " < f o r m / > " ) ) . h t m l ( ) ; g . g e t _ s t r i n g s ( [ { k e y : " v i e w a d i f f e r e n t a t t e m p t " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " v i e w " , c o m p o n e n t : " c o r e " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( b ) { c . c o n f i r m ( b [ 0 ] , i , b [ 1 ] , b [ 2 ] , f u n c t i o n ( ) { v a r   b = a ( " i n p u t : r a d i o [ n a m e = ' s e l e c t - a t t e m p t n u m b e r ' ] : c h e c k e d " ) . v a l ( ) ; t h i s . _ r e f r e s h G r a d i n g P a n e l ( n u l l , t h i s . _ l a s t U s e r I d , " " , b ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) } , j . p r o t o t y p e . _ a d d P o p o u t B u t t o n s = f u n c t i o n ( b ) { v a r   e = a ( b ) ; d . r e n d e r ( " m o d _ a s s i g n / p o p o u t _ b u t t o n " , { } ) . d o n e ( f u n c t i o n ( a ) { v a r   b = e . f i n d ( ' [ d a t a - f i e l d t y p e = " f i l e m a n a g e r " ] , [ d a t a - f i e l d t y p e = " e d i t o r " ] , [ d a t a - f i e l d t y p e = " g r a d i n g " ] ' ) . c l o s e s t ( " . f i t e m " ) ; b . a d d C l a s s ( " h a s - p o p o u t " ) . f i n d ( " l a b e l " ) . p a r e n t ( ) . a p p e n d ( a ) , e . o n ( " c l i c k " , ' [ d a t a - r e g i o n = " p o p o u t - b u t t o n " ] ' , t h i s . _ t o g g l e P o p o u t . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) } , j . p r o t o t y p e . _ t o g g l e P o p o u t = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " . f i t e m " ) ; c . h a s C l a s s ( " p o p o u t " ) ? a ( " . p o p o u t " ) . r e m o v e C l a s s ( " p o p o u t " ) : ( a ( " . p o p o u t " ) . r e m o v e C l a s s ( " p o p o u t " ) , c . a d d C l a s s ( " p o p o u t " ) , c . a d d C l a s s ( " m o o d l e - h a s - z i n d e x " ) ) } , j . p r o t o t y p e . _ r e f r e s h G r a d i n g P a n e l = f u n c t i o n ( b , f , g , i ) { v a r   j = t h i s . _ r e g i o n . a t t r ( " d a t a - c o n t e x t i d " ) ; " u n d e f i n e d " = = t y p e o f   g & & ( g = " " ) , " u n d e f i n e d " = = t y p e o f   i & & ( i = - 1 ) , t h i s . _ l a s t U s e r I d = = f & & t h i s . _ l a s t A t t e m p t N u m b e r = = i & & " " = = = g | | ( t h i s . _ l a s t U s e r I d = f , t h i s . _ l a s t A t t e m p t N u m b e r = i , a ( d o c u m e n t ) . t r i g g e r ( " s t a r t - l o a d i n g - u s e r " ) , w i n d o w . M . u t i l . j s _ p e n d i n g ( " m o d - a s s i g n - l o a d i n g - u s e r " ) , d . r e n d e r ( " m o d _ a s s i g n / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( b , d ) { t h i s . _ n i c e R e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , b , d ) . d o n e ( f u n c t i o n ( ) { i f ( f > 0 ) { t h i s . _ r e g i o n . s h o w ( ) ; v a r   b = { u s e r i d : f , a t t e m p t n u m b e r : i , j s o n f o r m d a t a : J S O N . s t r i n g i f y ( g ) } ; e . l o a d F r a g m e n t ( " m o d _ a s s i g n " , " g r a d i n g p a n e l " , j , b ) . d o n e ( f u n c t i o n ( b , d ) { t h i s . _ n i c e R e p l a c e N o d e C o n t e n t s ( t h i s . _ r e g i o n , b , d ) . d o n e ( f u n c t i o n ( ) { h . s a v e F o r m S t a t e ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) , a ( d o c u m e n t ) . o n ( " e d i t o r - c o n t e n t - r e s t o r e d " , f u n c t i o n ( ) { h . s a v e F o r m S t a t e ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) } ) , a ( ' [ d a t a - r e g i o n = " a t t e m p t - c h o o s e r " ] ' ) . o n ( " c l i c k " , t h i s . _ c h o o s e A t t e m p t . b i n d ( t h i s ) ) , t h i s . _ a d d P o p o u t B u t t o n s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) , a ( d o c u m e n t ) . t r i g g e r ( " f i n i s h - l o a d i n g - u s e r " ) , w i n d o w . M . u t i l . j s _ c o m p l e t e ( " m o d - a s s i g n - l o a d i n g - u s e r " ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) , a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) . s h o w ( ) } e l s e   t h i s . _ r e g i o n . h i d e ( ) , a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) . h i d e ( ) , a ( d o c u m e n t ) . t r i g g e r ( " f i n i s h - l o a d i n g - u s e r " ) , w i n d o w . M . u t i l . j s _ c o m p l e t e ( " m o d - a s s i g n - l o a d i n g - u s e r " ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( c . e x c e p t i o n ) ) } , j . p r o t o t y p e . _ g e t N e x t U s e r = f u n c t i o n ( a , b ) { t h i s . n e x t U s e r I d = b . n e x t U s e r I d , t h i s . n e x t U s e r = b . n e x t U s e r } , j . p r o t o t y p e . _ h a n d l e S a v e A n d S h o w N e x t = f u n c t i o n ( ) { t h i s . _ s u b m i t F o r m ( n u l l , t h i s . n e x t U s e r I d , t h i s . n e x t U s e r ) } , j . p r o t o t y p e . g e t P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ] ' ) } , j . p r o t o t y p e . c o l l a p s e P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . a d d C l a s s ( " c o l l a p s e d " ) } , j . p r o t o t y p e . e x p a n d P a n e l = f u n c t i o n ( ) { t h i s . g e t P a n e l E l e m e n t ( ) . r e m o v e C l a s s ( " c o l l a p s e d " ) } , j . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   b = a ( d o c u m e n t ) , c = a ( t h i s . _ r e g i o n ) ; c . o n ( " s u b m i t " , " f o r m " , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) } ) , b . o n ( " n e x t - u s e r " , t h i s . _ g e t N e x t U s e r . b i n d ( t h i s ) ) , b . o n ( " u s e r - c h a n g e d " , t h i s . _ r e f r e s h G r a d i n g P a n e l . b i n d ( t h i s ) ) , b . o n ( " s a v e - c h a n g e s " , t h i s . _ s u b m i t F o r m . b i n d ( t h i s ) ) , b . o n ( " s a v e - a n d - s h o w - n e x t " , t h i s . _ h a n d l e S a v e A n d S h o w N e x t . b i n d ( t h i s ) ) , b . o n ( " r e s e t " , t h i s . _ r e s e t F o r m . b i n d ( t h i s ) ) , b . o n ( " s a v e - f o r m - s t a t e " , t h i s . _ s a v e F o r m S t a t e . b i n d ( t h i s ) ) , b . o n ( i . C O L L A P S E _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . c o l l a p s e P a n e l ( ) } . b i n d ( t h i s ) ) , b . o n ( i . C O L L A P S E _ R E V I E W _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) } . b i n d ( t h i s ) ) , b . o n ( i . E X P A N D _ G R A D E _ P A N E L , f u n c t i o n ( ) { t h i s . e x p a n d P a n e l ( ) } . b i n d ( t h i s ) ) } , j } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ e v e n t s ' ,   f u n c t i o n ( ) { r e t u r n { C O L L A P S E _ R E V I E W _ P A N E L : " g r a d i n g : c o l l a p s e - r e v i e w - p a n e l " , E X P A N D _ R E V I E W _ P A N E L : " g r a d i n g : e x p a n d - r e v i e w - p a n e l " , C O L L A P S E _ G R A D E _ P A N E L : " g r a d i n g : c o l l a p s e - g r a d e - p a n e l " , E X P A N D _ G R A D E _ P A N E L : " g r a d i n g : e x p a n d - g r a d e - p a n e l " } } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ a c t i o n s ' ,   [ " j q u e r y " , " m o d _ a s s i g n / g r a d i n g _ e v e n t s " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( b ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ r e g i o n = a ( b ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   c . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , c . p r o t o t y p e . _ l a s t U s e r I d = 0 , c . p r o t o t y p e . _ r e g i o n = n u l l , c . p r o t o t y p e . _ s h o w A c t i o n s F o r m = f u n c t i o n ( a , b ) { v a r   c = t h i s . _ r e g i o n . f i n d ( " [ d a t a - r e g i o n = g r a d i n g - a c t i o n s - f o r m ] " ) ; b ! = t h i s . _ l a s t U s e r I d & & b > 0 & & ( t h i s . _ l a s t U s e r I d = b ) , b > 0 ? c . r e m o v e C l a s s ( " h i d e " ) : c . a d d C l a s s ( " h i d e " ) } , c . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( b ) } , c . p r o t o t y p e . g e t R e v i e w P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " r e v i e w - p a n e l " ] ' ) } , c . p r o t o t y p e . h a s R e v i e w P a n e l E l e m e n t = f u n c t i o n ( ) { r e t u r n   t h i s . g e t R e v i e w P a n e l E l e m e n t ( ) . l e n g t h > 0 } , c . p r o t o t y p e . g e t C o l l a p s e G r a d e P a n e l B u t t o n = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - a c t i o n s " ]   . c o l l a p s e - g r a d e - p a n e l ' ) } , c . p r o t o t y p e . g e t C o l l a p s e R e v i e w P a n e l B u t t o n = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - a c t i o n s " ]   . c o l l a p s e - r e v i e w - p a n e l ' ) } , c . p r o t o t y p e . g e t E x p a n d A l l P a n e l s B u t t o n = f u n c t i o n ( ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " g r a d e - a c t i o n s " ]   . c o l l a p s e - n o n e ' ) } , c . p r o t o t y p e . r e s e t L a y o u t B u t t o n s = f u n c t i o n ( ) { t h i s . g e t C o l l a p s e G r a d e P a n e l B u t t o n ( ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . g e t C o l l a p s e R e v i e w P a n e l B u t t o n ( ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . g e t E x p a n d A l l P a n e l s B u t t o n ( ) . r e m o v e C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . c o l l a p s e R e v i e w P a n e l = f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( b . C O L L A P S E _ R E V I E W _ P A N E L ) , a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ G R A D E _ P A N E L ) , t h i s . r e s e t L a y o u t B u t t o n s ( ) , t h i s . g e t C o l l a p s e R e v i e w P a n e l B u t t o n ( ) . a d d C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . c o l l a p s e G r a d e P a n e l = f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( b . C O L L A P S E _ G R A D E _ P A N E L ) , a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ R E V I E W _ P A N E L ) , t h i s . r e s e t L a y o u t B u t t o n s ( ) , t h i s . g e t C o l l a p s e G r a d e P a n e l B u t t o n ( ) . a d d C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . e x p a n d A l l P a n e l s = f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ G R A D E _ P A N E L ) , a ( d o c u m e n t ) . t r i g g e r ( b . E X P A N D _ R E V I E W _ P A N E L ) , t h i s . r e s e t L a y o u t B u t t o n s ( ) , t h i s . g e t E x p a n d A l l P a n e l s B u t t o n ( ) . a d d C l a s s ( " a c t i v e " ) } , c . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { i f ( t h i s . h a s R e v i e w P a n e l E l e m e n t ( ) ) { v a r   b = t h i s . g e t C o l l a p s e R e v i e w P a n e l B u t t o n ( ) ; b . c l i c k ( f u n c t i o n ( a ) { t h i s . c o l l a p s e R e v i e w P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , b . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . c o l l a p s e R e v i e w P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) ; v a r   c = t h i s . g e t C o l l a p s e G r a d e P a n e l B u t t o n ( ) ; c . c l i c k ( f u n c t i o n ( a ) { t h i s . c o l l a p s e G r a d e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , c . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . c o l l a p s e G r a d e P a n e l ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) ; v a r   d = t h i s . g e t E x p a n d A l l P a n e l s B u t t o n ( ) ; d . c l i c k ( f u n c t i o n ( a ) { t h i s . e x p a n d A l l P a n e l s ( ) , a . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , d . k e y d o w n ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | 1 3 ! = = a . k e y C o d e & & 3 2 ! = = a . k e y C o d e | | ( t h i s . e x p a n d A l l P a n e l s ( ) , a . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } a ( d o c u m e n t ) . o n ( " u s e r - c h a n g e d " , t h i s . _ s h o w A c t i o n s F o r m . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ n a m e = " s a v e c h a n g e s " ] ' ) . o n ( " c l i c k " , t h i s . _ t r i g g e r . b i n d ( t h i s , " s a v e - c h a n g e s " ) ) , t h i s . _ r e g i o n . f i n d ( ' [ n a m e = " s a v e a n d s h o w n e x t " ] ' ) . o n ( " c l i c k " , t h i s . _ t r i g g e r . b i n d ( t h i s , " s a v e - a n d - s h o w - n e x t " ) ) , t h i s . _ r e g i o n . f i n d ( ' [ n a m e = " r e s e t b u t t o n " ] ' ) . o n ( " c l i c k " , t h i s . _ t r i g g e r . b i n d ( t h i s , " r e s e t " ) ) , t h i s . _ r e g i o n . f i n d ( " f o r m " ) . o n ( " s u b m i t " , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) } ) } , c } ) ; 
 d e f i n e ( ' m o d _ a s s i g n / g r a d i n g _ n a v i g a t i o n ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / f o r m - a u t o c o m p l e t e " , " c o r e / a j a x " , " m o d _ a s s i g n / g r a d i n g _ f o r m _ c h a n g e _ c h e c k e r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( e ) { t h i s . _ r e g i o n S e l e c t o r = e , t h i s . _ r e g i o n = a ( e ) , t h i s . _ f i l t e r s = [ ] , t h i s . _ u s e r s = [ ] , t h i s . _ f i l t e r e d U s e r s = [ ] , t h i s . _ l o a d A l l U s e r s ( ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - a c t i o n = " p r e v i o u s - u s e r " ] ' ) . o n ( " c l i c k " , t h i s . _ h a n d l e P r e v i o u s U s e r . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - a c t i o n = " n e x t - u s e r " ] ' ) . o n ( " c l i c k " , t h i s . _ h a n d l e N e x t U s e r . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - a c t i o n = " c h a n g e - u s e r " ] ' ) . o n ( " c h a n g e " , t h i s . _ h a n d l e C h a n g e U s e r . b i n d ( t h i s ) ) , t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) . o n ( " c l i c k " , t h i s . _ t o g g l e E x p a n d F i l t e r s . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . o n ( " u s e r - c h a n g e d " , t h i s . _ r e f r e s h S e l e c t o r . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . o n ( " d o n e - s a v i n g - s h o w - n e x t " , t h i s . _ h a n d l e N e x t U s e r . b i n d ( t h i s ) ) ; v a r   f = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) , g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f . a t t r ( " a r i a - c o n t r o l s " ) ) ) ; g . o n ( " c h a n g e " , ' [ t y p e = " c h e c k b o x " ] ' , t h i s . _ f i l t e r C h a n g e d . b i n d ( t h i s ) ) ; v a r   h = a ( ' [ d a t a - r e g i o n = " g r a d i n g - n a v i g a t i o n - p a n e l " ] ' ) . d a t a ( " f i r s t - u s e r i d " ) ; h & & t h i s . _ s e l e c t U s e r B y I d ( h ) , c . g e t _ s t r i n g ( " c h a n g e u s e r " , " m o d _ a s s i g n " ) . d o n e ( f u n c t i o n ( a ) { d . e n h a n c e ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " , ! 1 , " m o d _ a s s i g n / p a r t i c i p a n t _ s e l e c t o r " , a ) } ) . f a i l ( b . e x c e p t i o n ) , a ( d o c u m e n t ) . b i n d ( " s t a r t - l o a d i n g - u s e r " , f u n c t i o n ( ) { t h i s . _ i s L o a d i n g = ! 0 } . b i n d ( t h i s ) ) , a ( d o c u m e n t ) . b i n d ( " f i n i s h - l o a d i n g - u s e r " , f u n c t i o n ( ) { t h i s . _ i s L o a d i n g = ! 1 } . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . _ i s L o a d i n g = ! 1 , g . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , g . p r o t o t y p e . _ f i l t e r s = n u l l , g . p r o t o t y p e . _ u s e r s = n u l l , g . p r o t o t y p e . _ r e g i o n = n u l l , g . p r o t o t y p e . _ l o a d A l l U s e r s = f u n c t i o n ( ) { v a r   a = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , c = a . a t t r ( " d a t a - a s s i g n m e n t i d " ) , d = a . a t t r ( " d a t a - g r o u p i d " ) ; e . c a l l ( [ { m e t h o d n a m e : " m o d _ a s s i g n _ l i s t _ p a r t i c i p a n t s " , a r g s : { a s s i g n i d : c , g r o u p i d : d , f i l t e r : " " , o n l y i d s : ! 0 } , d o n e : t h i s . _ u s e r s L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) } , g . p r o t o t y p e . _ u s e r s L o a d e d = f u n c t i o n ( b ) { i f ( t h i s . _ f i l t e r e d U s e r s = t h i s . _ u s e r s = b , t h i s . _ u s e r s . l e n g t h ) { v a r   c = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) , d = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . a t t r ( " a r i a - c o n t r o l s " ) ) ) ; d . f i n d ( ' [ t y p e = " c h e c k b o x " ] ' ) . t r i g g e r ( " c h a n g e " ) } e l s e   t h i s . _ s e l e c t N o U s e r ( ) ; t h i s . _ t r i g g e r N e x t U s e r E v e n t ( ) } , g . p r o t o t y p e . _ c h e c k C l i c k O u t s i d e C o n f i g u r e F i l t e r s = f u n c t i o n ( b ) { v a r   c = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " c o n f i g u r e - f i l t e r s " ] ' ) ; i f ( ! c . i s ( b . t a r g e t ) & & 0 = = = c . h a s ( b . t a r g e t ) . l e n g t h ) { v a r   d = t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) ; c . h i d e ( ) , c . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , d . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , a ( d o c u m e n t ) . u n b i n d ( " c l i c k . m o d _ a s s i g n _ g r a d i n g _ n a v i g a t i o n " ) } } , g . p r o t o t y p e . _ f i l t e r C h a n g e d = f u n c t i o n ( d ) { v a r   e = a ( d . t a r g e t ) . a t t r ( " n a m e " ) , f = e . s p l i t ( " _ " ) . p o p ( ) , g = a ( d . t a r g e t ) . p r o p ( " c h e c k e d " ) ; i f ( g ) t h i s . _ f i l t e r s . i n d e x O f ( f ) = = - 1 & & ( t h i s . _ f i l t e r s [ t h i s . _ f i l t e r s . l e n g t h ] = f ) ; e l s e { v a r   h = t h i s . _ f i l t e r s . i n d e x O f ( f ) ; h ! = - 1 & & t h i s . _ f i l t e r s . s p l i c e ( h , 1 ) } v a r   i = [ ] ; t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " c o n f i g u r e - f i l t e r s " ] ' ) . f i n d ( ' [ t y p e = " c h e c k b o x " ] ' ) . e a c h ( f u n c t i o n ( b , c ) { a ( c ) . p r o p ( " c h e c k e d " ) & & ( i [ i . l e n g t h ] = a ( c ) . c l o s e s t ( " l a b e l " ) . t e x t ( ) ) } ) , i . l e n g t h ? t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ]   s p a n ' ) . t e x t ( i . j o i n ( " ,   " ) ) : c . g e t _ s t r i n g ( " n o f i l t e r s " , " m o d _ a s s i g n " ) . d o n e ( f u n c t i o n ( a ) { t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ]   s p a n ' ) . t e x t ( a ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) ; v a r   j = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , k = j . a t t r ( " d a t a - s e l e c t e d " ) , l = 0 ; t h i s . _ f i l t e r e d U s e r s = [ ] , a . e a c h ( t h i s . _ u s e r s , f u n c t i o n ( b , c ) { v a r   d = ! 0 ; a . e a c h ( t h i s . _ f i l t e r s , f u n c t i o n ( a , b ) { " s u b m i t t e d " = = b ? " 0 " = = c . s u b m i t t e d & & ( d = ! 1 ) : " n o t s u b m i t t e d " = = b ? " 1 " = = c . s u b m i t t e d & & ( d = ! 1 ) : " r e q u i r e g r a d i n g " = = b ? " 0 " = = c . r e q u i r e g r a d i n g & & ( d = ! 1 ) : " g r a n t e d e x t e n s i o n " = = b & & " 0 " = = c . g r a n t e d e x t e n s i o n & & ( d = ! 1 ) } ) , d & & ( t h i s . _ f i l t e r e d U s e r s [ t h i s . _ f i l t e r e d U s e r s . l e n g t h ] = c , k = = c . i d & & ( l = t h i s . _ f i l t e r e d U s e r s . l e n g t h - 1 ) ) } . b i n d ( t h i s ) ) , t h i s . _ f i l t e r e d U s e r s . l e n g t h ? t h i s . _ s e l e c t U s e r B y I d ( t h i s . _ f i l t e r e d U s e r s [ l ] . i d ) : t h i s . _ s e l e c t N o U s e r ( ) , t h i s . _ t r i g g e r N e x t U s e r E v e n t ( ) } , g . p r o t o t y p e . _ s e l e c t N o U s e r = f u n c t i o n ( ) { t h i s . _ i s L o a d i n g | | ( f . c h e c k F o r m F o r C h a n g e s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) ? c . g e t _ s t r i n g s ( [ { k e y : " u n s a v e d c h a n g e s " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " u n s a v e d c h a n g e s q u e s t i o n " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " s a v e a n d c o n t i n u e " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " s a v e - c h a n g e s " , - 1 ) } ) } ) : a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , - 1 ) ) } , g . p r o t o t y p e . _ s e l e c t U s e r B y I d = f u n c t i o n ( d ) { v a r   e = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , g = p a r s e I n t ( d , 1 0 ) ; t h i s . _ i s L o a d i n g | | ( f . c h e c k F o r m F o r C h a n g e s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) ? c . g e t _ s t r i n g s ( [ { k e y : " u n s a v e d c h a n g e s " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " u n s a v e d c h a n g e s q u e s t i o n " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " s a v e a n d c o n t i n u e " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " s a v e - c h a n g e s " , g ) } ) } ) : ( e . a t t r ( " d a t a - s e l e c t e d " , d ) , ! i s N a N ( g ) & & g > 0 & & a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , d ) ) ) } , g . p r o t o t y p e . _ t o g g l e E x p a n d F i l t e r s = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . t a r g e t ) . c l o s e s t ( ' [ d a t a - r e g i o n = " u s e r - f i l t e r s " ] ' ) , d = " t r u e " = = c . a t t r ( " a r i a - e x p a n d e d " ) , e = a ( d o c u m e n t . g e t E l e m e n t B y I d ( c . a t t r ( " a r i a - c o n t r o l s " ) ) ) ; d ? ( e . h i d e ( ) , e . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , c . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , a ( d o c u m e n t ) . u n b i n d ( " c l i c k . m o d _ a s s i g n _ g r a d i n g _ n a v i g a t i o n " ) ) : ( e . c s s ( " d i s p l a y " , " i n l i n e - b l o c k " ) , e . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , c . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , b . s t o p P r o p a g a t i o n ( ) , a ( d o c u m e n t ) . o n ( " c l i c k . m o d _ a s s i g n _ g r a d i n g _ n a v i g a t i o n " , t h i s . _ c h e c k C l i c k O u t s i d e C o n f i g u r e F i l t e r s . b i n d ( t h i s ) ) ) } , g . p r o t o t y p e . _ h a n d l e P r e v i o u s U s e r = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , c = b . a t t r ( " d a t a - s e l e c t e d " ) , d = 0 , e = 0 ; f o r ( d = 0 ; d < t h i s . _ f i l t e r e d U s e r s . l e n g t h ; d + + ) i f ( t h i s . _ f i l t e r e d U s e r s [ d ] . i d = = c ) { e = d ; b r e a k } v a r   f = t h i s . _ f i l t e r e d U s e r s . l e n g t h , g = e - 1 ; g < 0 & & ( g = f - 1 ) , f & & t h i s . _ s e l e c t U s e r B y I d ( t h i s . _ f i l t e r e d U s e r s [ g ] . i d ) } , g . p r o t o t y p e . _ h a n d l e N e x t U s e r = f u n c t i o n ( b , c ) { b . p r e v e n t D e f a u l t ( ) ; v a r   d = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , e = d . a t t r ( " d a t a - s e l e c t e d " ) , f = 0 , g = 0 ; f o r ( f = 0 ; f < t h i s . _ f i l t e r e d U s e r s . l e n g t h ; f + + ) i f ( t h i s . _ f i l t e r e d U s e r s [ f ] . i d = = e ) { g = f ; b r e a k } v a r   h = t h i s . _ f i l t e r e d U s e r s . l e n g t h , i = ( g + 1 ) % h ; i f ( c & & h ) { v a r   j = t h i s . _ f i l t e r e d U s e r s [ i ] . i d , k = p a r s e I n t ( j , 1 0 ) ; d . a t t r ( " d a t a - s e l e c t e d " , j ) , ! i s N a N ( k ) & & k > 0 & & a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , j ) } e l s e   h & & t h i s . _ s e l e c t U s e r B y I d ( t h i s . _ f i l t e r e d U s e r s [ i ] . i d ) } , g . p r o t o t y p e . _ r e f r e s h C o u n t = f u n c t i o n ( ) { v a r   a = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , d = a . a t t r ( " d a t a - s e l e c t e d " ) , e = 0 , f = 0 ; i f ( i s N a N ( d ) | | d < = 0 ) t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - c o u n t " ] ' ) . h i d e ( ) ; e l s e { f o r ( t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - c o u n t " ] ' ) . s h o w ( ) , e = 0 ; e < t h i s . _ f i l t e r e d U s e r s . l e n g t h ; e + + ) i f ( t h i s . _ f i l t e r e d U s e r s [ e ] . i d = = d ) { f = e ; b r e a k } v a r   g = t h i s . _ f i l t e r e d U s e r s . l e n g t h ; g & & ( f + = 1 ) ; v a r   h = { x : f , y : g } ; c . g e t _ s t r i n g ( " x o f y " , " m o d _ a s s i g n " , h ) . d o n e ( f u n c t i o n ( a ) { t h i s . _ r e g i o n . f i n d ( ' [ d a t a - r e g i o n = " u s e r - c o u n t - s u m m a r y " ] ' ) . t e x t ( a ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } } , g . p r o t o t y p e . _ r e f r e s h S e l e c t o r = f u n c t i o n ( a , b ) { v a r   c = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) ; b = p a r s e I n t ( b , 1 0 ) , ! i s N a N ( b ) & & b > 0 & & c . a t t r ( " d a t a - s e l e c t e d " , b ) , t h i s . _ r e f r e s h C o u n t ( ) } , g . p r o t o t y p e . _ t r i g g e r N e x t U s e r E v e n t = f u n c t i o n ( ) { t h i s . _ f i l t e r e d U s e r s . l e n g t h > 1 ? a ( d o c u m e n t ) . t r i g g e r ( " n e x t - u s e r " , { n e x t U s e r I d : n u l l , n e x t U s e r : ! 0 } ) : a ( d o c u m e n t ) . t r i g g e r ( " n e x t - u s e r " , { n e x t U s e r : ! 1 } ) } , g . p r o t o t y p e . _ h a n d l e C h a n g e U s e r = f u n c t i o n ( ) { v a r   d = t h i s . _ r e g i o n . f i n d ( " [ d a t a - a c t i o n = c h a n g e - u s e r ] " ) , e = p a r s e I n t ( d . v a l ( ) , 1 0 ) ; t h i s . _ i s L o a d i n g | | ( f . c h e c k F o r m F o r C h a n g e s ( ' [ d a t a - r e g i o n = " g r a d e - p a n e l " ]   . g r a d e f o r m ' ) ? c . g e t _ s t r i n g s ( [ { k e y : " u n s a v e d c h a n g e s " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " u n s a v e d c h a n g e s q u e s t i o n " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " s a v e a n d c o n t i n u e " , c o m p o n e n t : " m o d _ a s s i g n " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( " s a v e - c h a n g e s " , e ) } ) } ) : ! i s N a N ( e ) & & e > 0 & & ( d . a t t r ( " d a t a - s e l e c t e d " , e ) , a ( d o c u m e n t ) . t r i g g e r ( " u s e r - c h a n g e d " , e ) ) ) } , g } ) ; 
 d e f i n e ( ' m o d _ c h o i c e / s e l e c t _ a l l _ c h o i c e s ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { r e t u r n { i n i t : f u n c t i o n ( ) { a ( " . s e l e c t a l l n o n e   a " ) . o n ( " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( " # a t t e m p t s f o r m " ) . f i n d ( " i n p u t : c h e c k b o x " ) . p r o p ( " c h e c k e d " , a ( t h i s ) . d a t a ( " s e l e c t I n f o " ) ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ c h o i c e g r o u p / c h o i c e g r o u p d a t a d i s p l a y ' ,   [ " j q u e r y " , " c o r e / s t r " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( ) { a ( " . c h o i c e g r o u p - m e m b e r d i s p l a y " ) . c l i c k ( f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) , a ( " . c h o i c e g r o u p s - m e m b e r s n a m e s " ) . t o g g l e C l a s s ( " h i d d e n " ) ; v a r   d = b . g e t _ s t r i n g ( " s h o w g r o u p m e m b e r s " , " m o d _ c h o i c e g r o u p " ) , e = b . g e t _ s t r i n g ( " h i d e g r o u p m e m b e r s " , " m o d _ c h o i c e g r o u p " ) ; a ( " . c h o i c e g r o u p s - m e m b e r s n a m e s " ) . i s ( " : v i s i b l e " ) ? a . w h e n ( e ) . d o n e ( f u n c t i o n ( b ) { a ( " . c h o i c e g r o u p - m e m b e r d i s p l a y " ) . h t m l ( b ) } ) : a . w h e n ( d ) . d o n e ( f u n c t i o n ( b ) { a ( " . c h o i c e g r o u p - m e m b e r d i s p l a y " ) . h t m l ( b ) } ) } ) , a ( " . c h o i c e g r o u p - d e s c r i p t i o n d i s p l a y " ) . c l i c k ( f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) , a ( " . c h o i c e g r o u p s - d e s c r i p t i o n s " ) . t o g g l e C l a s s ( " h i d d e n " ) ; v a r   d = b . g e t _ s t r i n g ( " h i d e d e s c r i p t i o n " , " m o d _ c h o i c e g r o u p " ) , e = b . g e t _ s t r i n g ( " s h o w d e s c r i p t i o n " , " m o d _ c h o i c e g r o u p " ) ; a ( " . c h o i c e g r o u p s - d e s c r i p t i o n s " ) . i s ( " : v i s i b l e " ) ? a . w h e n ( d ) . d o n e ( f u n c t i o n ( b ) { a ( " . c h o i c e g r o u p - d e s c r i p t i o n d i s p l a y " ) . h t m l ( b ) } ) : a . w h e n ( e ) . d o n e ( f u n c t i o n ( b ) { a ( " . c h o i c e g r o u p - d e s c r i p t i o n d i s p l a y " ) . h t m l ( b ) } ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ c h o i c e g r o u p / s e l e c t _ a l l _ c h o i c e s ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { r e t u r n { i n i t : f u n c t i o n ( ) { a ( " . s e l e c t a l l n o n e   a " ) . o n ( " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( " # a t t e m p t s f o r m " ) . f i n d ( " i n p u t : c h e c k b o x " ) . p r o p ( " c h e c k e d " , a ( t h i s ) . d a t a ( " s e l e c t I n f o " ) ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ f e e d b a c k / e d i t ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { d e l e t e I t e m : f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( b . c u r r e n t T a r g e t ) . a t t r ( " h r e f " ) ; c . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m a t i o n " , c o m p o n e n t : " a d m i n " } , { k e y : " c o n f i r m d e l e t e i t e m " , c o m p o n e n t : " m o d _ f e e d b a c k " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . t h e n ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n = e } ) } ) [ " c a t c h " ] ( ) } , s e t u p : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " d e l e t e " ] ' , " c l i c k " , e . d e l e t e I t e m ) } } ; r e t u r n { s e t u p : e . s e t u p } } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ c a r d _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = { D E L E T E _ B U T T O N : " . d e l e t e " , N A M E _ E L E M E N T : " . n a m e " , D E S C R I P T I O N _ E L E M E N T : " . d e s c r i p t i o n " , C A P A B I L I T I E S _ C O N T A I N E R : " . c a p a b i l i t i e s - c o n t a i n e r " , A C T I V A T E _ B U T T O N : " . t o o l - c a r d - f o o t e r   a . a c t i v a t e " } , j = 2 e 3 , k = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . D E L E T E _ B U T T O N ) } , l = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . N A M E _ E L E M E N T ) } , m = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . D E S C R I P T I O N _ E L E M E N T ) } , n = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . A C T I V A T E _ B U T T O N ) } , o = f u n c t i o n ( a ) { r e t u r n ! ! n ( a ) . l e n g t h } , p = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . C A P A B I L I T I E S _ C O N T A I N E R ) } , q = f u n c t i o n ( a ) { r e t u r n ! ! p ( a ) . l e n g t h } , r = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - t y p e - i d " ) } , s = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g   s u c c e s s   f a i l   c a p a b i l i t i e s " ) } , t = f u n c t i o n ( a ) { s ( a ) , a . a d d C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , u = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , v = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   s ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , c . r e s o l v e ( ) } , j ) , c } , w = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   s ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   f a i l " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   f a i l " ) , c . r e s o l v e ( ) } , j ) , c } , x = f u n c t i o n ( b ) { v a r   d = a . D e f e r r e d ( ) , f = r ( b ) ; r e t u r n   t ( b ) , " " = = = f ? a . D e f e r r e d ( ) . r e s o l v e ( ) : ( h . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e _ c o n f i r m a t i o n " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( a ) { c . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { e [ " d e l e t e " ] ( f ) . d o n e ( f u n c t i o n ( ) { u ( b ) , v ( b ) . d o n e ( f u n c t i o n ( ) { b . r e m o v e ( ) } ) . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { d . r e s o l v e ( ) } ) } ) . f a i l ( f u n c t i o n ( a ) { w ( b ) , d . r e j e c t ( a ) } ) } , f u n c t i o n ( ) { u ( b ) , d . r e s o l v e ( ) } ) } ) . f a i l ( f u n c t i o n ( a ) { u ( b ) , c . e x c e p t i o n ( a ) , d . r e j e c t ( a ) } ) , d ) } , y = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - v a l - s n a p s h o t " , b ) } , z = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - v a l - s n a p s h o t " ) } , A = f u n c t i o n ( a ) { v a r   b = m ( a ) ; i f ( ! b . h a s C l a s s ( " l o a d i n g " ) ) { v a r   c = b . t e x t ( ) . t r i m ( ) ; y ( b , c ) } } , B = f u n c t i o n ( b ) { v a r   d = r ( b ) ; i f ( " " = = = d ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   f = m ( b ) ; i f ( f . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   g = f . t e x t ( ) . t r i m ( ) , h = z ( f ) ; i f ( h = = g ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; f . a d d C l a s s ( " l o a d i n g " ) ; v a r   i = e . u p d a t e ( { i d : d , d e s c r i p t i o n : g } ) ; r e t u r n   i . d o n e ( f u n c t i o n ( a ) { f . r e m o v e C l a s s ( " l o a d i n g " ) , f . t e x t ( a . d e s c r i p t i o n ) } ) . f a i l ( c . e x c e p t i o n ) , i . f a i l ( f u n c t i o n ( ) { f . r e m o v e C l a s s ( " l o a d i n g " ) } ) , i } , C = f u n c t i o n ( a ) { v a r   b = l ( a ) ; i f ( ! b . h a s C l a s s ( " l o a d i n g " ) ) { v a r   c = b . t e x t ( ) . t r i m ( ) ; y ( b , c ) } } , D = f u n c t i o n ( b ) { v a r   c = r ( b ) ; i f ( " " = = = c ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   d = l ( b ) ; i f ( d . h a s C l a s s ( " l o a d i n g " ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   f = d . t e x t ( ) . t r i m ( ) , g = z ( d ) ; i f ( g = = f ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; d . a d d C l a s s ( " l o a d i n g " ) ; v a r   h = e . u p d a t e ( { i d : c , n a m e : f } ) ; r e t u r n   h . d o n e ( f u n c t i o n ( a ) { d . r e m o v e C l a s s ( " l o a d i n g " ) , d . t e x t ( a . n a m e ) } ) , h . f a i l ( f u n c t i o n ( ) { d . r e m o v e C l a s s ( " l o a d i n g " ) } ) , h } , E = f u n c t i o n ( b ) { v a r   c = r ( b ) ; i f ( " " = = = c ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t ( b ) ; v a r   f = e . u p d a t e ( { i d : c , s t a t e : e . c o n s t a n t s . s t a t e . c o n f i g u r e d } ) ; r e t u r n   f . t h e n ( f u n c t i o n ( a ) { r e t u r n   u ( b ) , v ( b ) , a } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . r e n d e r ( " m o d _ l t i / t o o l _ c a r d " , a ) } ) . t h e n ( f u n c t i o n ( a ) { v a r   c = a [ 0 ] , e = a [ 1 ] ; d . r e p l a c e N o d e ( b , c , e ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { u ( b ) , w ( b ) } ) , f } , F = f u n c t i o n ( a ) { a . a d d C l a s s ( " a n n o u n c e m e n t   c a p a b i l i t i e s " ) } , G = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   c a p a b i l i t i e s " ) } , H = f u n c t i o n ( a ) { q ( a ) ? F ( a ) : E ( a ) } , I = f u n c t i o n ( a ) { v a r   b = k ( a ) ; b . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , x ( a ) } ) , b . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , b . c l i c k ( ) ) } ) ; v a r   c = m ( a ) ; c . f o c u s ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , A ( a ) } ) , c . b l u r ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , B ( a ) } ) , c . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e = = g . E N T E R & & ( a . p r e v e n t D e f a u l t ( ) , c . b l u r ( ) ) } ) ; v a r   d = l ( a ) ; i f ( d . f o c u s ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , C ( a ) } ) , d . b l u r ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , D ( a ) } ) , d . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e = = g . E N T E R & & ( a . p r e v e n t D e f a u l t ( ) , d . b l u r ( ) ) } ) , o ( a ) ) { v a r   e = n ( a ) ; e . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , H ( a ) } ) , e . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , e . c l i c k ( ) ) } ) } i f ( q ( a ) ) { v a r   h = p ( a ) ; h . o n ( f . C A P A B I L I T I E S _ A G R E E , f u n c t i o n ( ) { E ( a ) } ) , h . o n ( f . C A P A B I L I T I E S _ D E C L I N E , f u n c t i o n ( ) { G ( a ) } ) } } ; r e t u r n { i n i t : f u n c t i o n ( a ) { I ( a ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ p r o x y _ c a r d _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / t o o l _ p r o x y " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = { D E L E T E _ B U T T O N : " . d e l e t e " , C A P A B I L I T I E S _ C O N T A I N E R : " . c a p a b i l i t i e s - c o n t a i n e r " , A C T I V A T E _ B U T T O N : " . t o o l - c a r d - f o o t e r   a . a c t i v a t e " } , j = 2 e 3 , k = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . D E L E T E _ B U T T O N ) } , l = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . A C T I V A T E _ B U T T O N ) } , m = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - p r o x y - i d " ) } , n = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g   s u c c e s s   f a i l   c a p a b i l i t i e s " ) } , o = f u n c t i o n ( a ) { n ( a ) , a . a d d C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , p = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " a n n o u n c e m e n t   l o a d i n g " ) } , q = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   n ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   s u c c e s s " ) , c . r e s o l v e ( ) } , j ) , c } , r = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   n ( b ) , b . a d d C l a s s ( " a n n o u n c e m e n t   f a i l " ) , s e t T i m e o u t ( f u n c t i o n ( ) { b . r e m o v e C l a s s ( " a n n o u n c e m e n t   f a i l " ) , c . r e s o l v e ( ) } , j ) , c } , s = f u n c t i o n ( b ) { v a r   d = a . D e f e r r e d ( ) , f = m ( b ) ; r e t u r n   o ( b ) , " " = = = f ? a . D e f e r r e d ( ) . r e s o l v e ( ) : ( h . g e t _ s t r i n g s ( [ { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e _ c o n f i r m a t i o n " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " d e l e t e " , c o m p o n e n t : " m o d _ l t i " } , { k e y : " c a n c e l " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( a ) { c . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { e [ " d e l e t e " ] ( f ) . d o n e ( f u n c t i o n ( ) { p ( b ) , q ( b ) . d o n e ( f u n c t i o n ( ) { b . r e m o v e ( ) , d . r e s o l v e ( ) } ) . f a i l ( c . e x c e p t i o n ) } ) . f a i l ( f u n c t i o n ( a ) { r ( b ) , d . r e j e c t ( a ) } ) } , f u n c t i o n ( ) { p ( b ) , d . r e s o l v e ( ) } ) } ) . f a i l ( f u n c t i o n ( a ) { p ( b ) , c . e x c e p t i o n ( a ) , d . r e j e c t ( a ) } ) , d ) } , t = f u n c t i o n ( b ) { v a r   c = { p r o x y i d : m ( b ) } ; a ( d o c u m e n t ) . t r i g g e r ( f . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , c ) } , u = f u n c t i o n ( a ) { v a r   b = k ( a ) ; b . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , s ( a ) } ) , b . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , b . c l i c k ( ) ) } ) ; v a r   c = l ( a ) ; c . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , t ( a ) } ) , c . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = g . E N T E R & & a . k e y C o d e ! = g . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , c . c l i c k ( ) ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( a ) { u ( a ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / e x t e r n a l _ r e g i s t r a t i o n _ r e t u r n ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { i n i t : f u n c t i o n ( a , b , c , d ) { w i n d o w . p a r e n t & & w i n d o w . p a r e n t . t r i g g e r E x t e r n a l R e g i s t r a t i o n C o m p l e t e ( { m e s s a g e : a , e r r o r : b , i d : c , s t a t u s : d } ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / e x t e r n a l _ r e g i s t r a t i o n ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / t o o l _ p r o x y " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = { E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - p a g e - c o n t a i n e r " , E X T E R N A L _ R E G I S T R A T I O N _ T E M P L A T E _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - t e m p l a t e - c o n t a i n e r " , E X T E R N A L _ R E G I S T R A T I O N _ C A N C E L _ B U T T O N : " # c a n c e l - e x t e r n a l - r e g i s t r a t i o n " , T O O L _ T Y P E _ C A P A B I L I T I E S _ C O N T A I N E R : " # t o o l - t y p e - c a p a b i l i t i e s - c o n t a i n e r " , T O O L _ T Y P E _ C A P A B I L I T I E S _ T E M P L A T E _ C O N T A I N E R : " # t o o l - t y p e - c a p a b i l i t i e s - t e m p l a t e - c o n t a i n e r " , C A P A B I L I T I E S _ A G R E E _ C O N T A I N E R : " . c a p a b i l i t i e s - c o n t a i n e r " } , k = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ C A N C E L _ B U T T O N ) } , l = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R ) } , m = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ T E M P L A T E _ C O N T A I N E R ) } , n = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ T Y P E _ C A P A B I L I T I E S _ C O N T A I N E R ) } , o = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ T Y P E _ C A P A B I L I T I E S _ T E M P L A T E _ C O N T A I N E R ) } , p = f u n c t i o n ( ) { n ( ) . a d d C l a s s ( " l o a d i n g " ) } , q = f u n c t i o n ( ) { n ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , r = f u n c t i o n ( ) { k ( ) . a d d C l a s s ( " l o a d i n g " ) } , s = f u n c t i o n ( ) { k ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , t = f u n c t i o n ( ) { n ( ) . a d d C l a s s ( " h i d d e n " ) } , u = f u n c t i o n ( ) { n ( ) . r e m o v e C l a s s ( " h i d d e n " ) } , v = f u n c t i o n ( ) { l ( ) . a d d C l a s s ( " h i d d e n " ) } , w = f u n c t i o n ( ) { l ( ) . r e m o v e C l a s s ( " h i d d e n " ) } , x = f u n c t i o n ( a ) { v a r   b = k ( ) ; b . a t t r ( " d a t a - t o o l - p r o x y - i d " , a ) } , y = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . a t t r ( " d a t a - t o o l - p r o x y - i d " ) } , z = f u n c t i o n ( ) { v a r   a = k ( ) ; a . r e m o v e A t t r ( " d a t a - t o o l - p r o x y - i d " ) } , A = f u n c t i o n ( ) { r e t u r n ! ! y ( ) } , B = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . a t t r ( " d a t a - t o o l - p r o x y - n e w " ) & & A ( ) } , C = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . a t t r ( " d a t a - t o o l - p r o x y - n e w " , " n e w " ) } , D = f u n c t i o n ( ) { v a r   a = k ( ) ; r e t u r n   a . r e m o v e A t t r ( " d a t a - t o o l - p r o x y - n e w " ) } , E = f u n c t i o n ( a ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ g e t _ t o o l _ p r o x y _ r e g i s t r a t i o n _ r e q u e s t " , a r g s : { i d : a } } ; r e t u r n   b . c a l l ( [ c ] ) [ 0 ] } , F = f u n c t i o n ( ) { r ( ) ; v a r   b = a . D e f e r r e d ( ) ; i f ( B ( ) ) { v a r   d = y ( ) ; f [ " d e l e t e " ] ( d ) . d o n e ( f u n c t i o n ( ) { b . r e s o l v e ( ) } ) . f a i l ( f u n c t i o n ( a ) { b . r e j e c t ( a ) } ) } e l s e   b . r e s o l v e ( ) ; r e t u r n   b . d o n e ( f u n c t i o n ( ) { L ( ) , s ( ) } ) . f a i l ( f u n c t i o n ( b ) { c . e x c e p t i o n ( b ) , L ( ) , s ( ) , i . g e t _ s t r i n g ( " f a i l e d t o d e l e t e t o o l p r o x y " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { v a r   c = { m e s s a g e : b , e r r o r : ! 0 } ; a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , c ) } ) . f a i l ( c . e x c e p t i o n ) } ) , b } , G = f u n c t i o n ( a ) { v a r   b = d . r e n d e r ( " m o d _ l t i / t o o l _ p r o x y _ r e g i s t r a t i o n _ f o r m " , a ) ; r e t u r n   b . d o n e ( f u n c t i o n ( a , b ) { v a r   c = m ( ) ; c . a p p e n d ( a ) , d . r u n T e m p l a t e J S ( b ) , c . f i n d ( " f o r m " ) . s u b m i t ( ) , w ( ) } ) . f a i l ( c . e x c e p t i o n ) , b } , H = f u n c t i o n ( a ) { r e t u r n   g . u p d a t e ( { i d : a . i d , s t a t e : g . c o n s t a n t s . s t a t e . c o n f i g u r e d } ) } , I = f u n c t i o n ( b ) { v a r   f = a . D e f e r r e d ( ) ; r e t u r n   d . r e n d e r ( " m o d _ l t i / t o o l _ t y p e _ c a p a b i l i t i e s _ a g r e e " , b ) . d o n e ( f u n c t i o n ( a , c ) { v a r   g = o ( ) ; v ( ) , u ( ) , d . r e p l a c e N o d e C o n t e n t s ( g , a , c ) ; v a r   h = g . f i n d ( j . C A P A B I L I T I E S _ A G R E E _ C O N T A I N E R ) ; h . o n ( e . C A P A B I L I T I E S _ A G R E E , f u n c t i o n ( ) { p ( ) , H ( b ) . a l w a y s ( f u n c t i o n ( ) { q ( ) , g . e m p t y ( ) , f . r e s o l v e ( ) } ) } ) , h . o n ( e . C A P A B I L I T I E S _ D E C L I N E , f u n c t i o n ( ) { g . e m p t y ( ) , f . r e s o l v e ( ) } ) } ) . f a i l ( f . r e j e c t ) , f . d o n e ( f u n c t i o n ( ) { t ( ) } ) . f a i l ( c . e x c e p t i o n ) , f } , J = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   b & & " " ! = = b ? f . c r e a t e ( { r e g u r l : b } ) . d o n e ( f u n c t i o n ( a ) { C ( ) , c = K ( a . i d ) } ) . f a i l ( f u n c t i o n ( b ) { F ( ) ; v a r   d = { m e s s a g e : b . m e s s a g e , e r r o r : ! 0 } ; a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , d ) , c . r e j e c t ( b ) } ) : c . r e s o l v e ( ) , c } , K = f u n c t i o n ( b ) { v a r   c = a . D e f e r r e d ( ) ; r e t u r n   x ( b ) , E ( b ) . d o n e ( f u n c t i o n ( a ) { G ( a ) . d o n e ( f u n c t i o n ( ) { c . r e s o l v e ( ) } ) . f a i l ( c . f a i l ) } ) . f a i l ( c . f a i l ) , c } , L = f u n c t i o n ( ) { A ( ) & & z ( ) , D ( ! 1 ) , v ( ) ; v a r   b = m ( ) ; b . e m p t y ( ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ E X T E R N A L _ R E G I S T R A T I O N ) } , M = f u n c t i o n ( ) { a ( d o c u m e n t ) . o n ( e . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , f u n c t i o n ( a , b ) { b & & ( b . u r l & & J ( b . u r l ) , b . p r o x y i d & & K ( b . p r o x y i d ) ) } ) ; v a r   b = k ( ) ; b . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , F ( ) } ) , b . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = h . E N T E R & & a . k e y C o d e ! = h . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , F ( ) ) } ) , w i n d o w . t r i g g e r E x t e r n a l R e g i s t r a t i o n C o m p l e t e = f u n c t i o n ( b ) { v a r   d = a . D e f e r r e d ( ) , f = { m e s s a g e : " " , e r r o r : ! 1 } ; i f ( " s u c c e s s " = = b . s t a t u s ) { i f ( i . g e t _ s t r i n g ( " s u c c e s s f u l l y c r e a t e d t o o l t y p e " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( a ) { f . m e s s a g e = a } ) . f a i l ( c . e x c e p t i o n ) , d . d o n e ( f u n c t i o n ( ) { L ( ) , a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , f ) , a ( d o c u m e n t ) . t r i g g e r ( e . N E W _ T O O L _ T Y P E ) } ) . f a i l ( c . e x c e p t i o n ) , B ( ) ) { v a r   h = y ( ) ; g . g e t F r o m T o o l P r o x y I d ( h ) . d o n e ( f u n c t i o n ( a ) { i f ( a & & a . l e n g t h ) { v a r   b = a [ 0 ] ; b . h a s c a p a b i l i t y g r o u p s ? I ( b ) . a l w a y s ( f u n c t i o n ( ) { d . r e s o l v e ( ) } ) : d . r e s o l v e ( ) } e l s e   d . r e s o l v e ( ) } ) . f a i l ( f u n c t i o n ( ) { d . r e s o l v e ( ) } ) } } e l s e   f . m e s s a g e = b . e r r o r , f . e r r o r = ! 0 , d . d o n e ( f u n c t i o n ( ) { F ( ) . a l w a y s ( f u n c t i o n ( ) { a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , f ) } ) } ) . f a i l ( c . e x c e p t i o n ) , d . r e s o l v e ( ) ; r e t u r n   d } } ; r e t u r n { i n i t : f u n c t i o n ( ) { M ( ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { N E W _ T O O L _ T Y P E : " l t i . t o o l . t y p e . n e w " , S T A R T _ E X T E R N A L _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . e x t e r n a l . s t a r t " , S T O P _ E X T E R N A L _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . e x t e r n a l . s t o p " , S T A R T _ C A R T R I D G E _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . c a r t r i d g e . s t a r t " , S T O P _ C A R T R I D G E _ R E G I S T R A T I O N : " l t i . r e g i s t r a t i o n . c a r t r i d g e . s t o p " , R E G I S T R A T I O N _ F E E D B A C K : " l t i . r e g i s t r a t i o n . f e e d b a c k " , C A P A B I L I T I E S _ A G R E E : " l t i . t o o l . t y p e . c a p a b i l i t i e s . a g r e e " , C A P A B I L I T I E S _ D E C L I N E : " l t i . t o o l . t y p e . c a p a b i l i t i e s . d e c l i n e " } } ) ; 
 d e f i n e ( ' m o d _ l t i / k e y s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { E N T E R : 1 3 , S P A C E : 3 2 } } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ t y p e ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b ) { r e t u r n { q u e r y : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ g e t _ t o o l _ t y p e s " , a r g s : c | | { } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , c r e a t e : f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ c r e a t e _ t o o l _ t y p e " , a r g s : b } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } , u p d a t e : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ u p d a t e _ t o o l _ t y p e " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , " d e l e t e " : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ d e l e t e _ t o o l _ t y p e " , a r g s : { i d : c } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , g e t F r o m T o o l P r o x y I d : f u n c t i o n ( a ) { r e t u r n   t h i s . q u e r y ( { t o o l p r o x y i d : a } ) } , i s C a r t r i d g e : f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ i s _ c a r t r i d g e " , a r g s : { u r l : b } } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } , c o n s t a n t s : { s t a t e : { c o n f i g u r e d : 1 , p e n d i n g : 2 , r e j e c t e d : 3 } } } } ) ; 
 d e f i n e ( ' m o d _ l t i / c a r t r i d g e _ r e g i s t r a t i o n _ f o r m ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { C A R T R I D G E _ U R L : " # c a r t r i d g e - u r l " , C O N S U M E R _ K E Y : " # r e g i s t r a t i o n - k e y " , S H A R E D _ S E C R E T : " # r e g i s t r a t i o n - s e c r e t " , R E G I S T R A T I O N _ F O R M : " # c a r t r i d g e - r e g i s t r a t i o n - f o r m " , R E G I S T R A T I O N _ S U B M I T _ B U T T O N : " # c a r t r i d g e - r e g i s t r a t i o n - s u b m i t " , R E G I S T R A T I O N _ C A N C E L _ B U T T O N : " # c a r t r i d g e - r e g i s t r a t i o n - c a n c e l " } , i = f u n c t i o n ( ) { r e t u r n   a ( h . R E G I S T R A T I O N _ F O R M ) . a t t r ( " d a t a - c a r t r i d g e - u r l " ) } , j = f u n c t i o n ( ) { r e t u r n   a ( h . R E G I S T R A T I O N _ S U B M I T _ B U T T O N ) } , k = f u n c t i o n ( ) { r e t u r n   a ( h . R E G I S T R A T I O N _ C A N C E L _ B U T T O N ) } , l = f u n c t i o n ( ) { r e t u r n   a ( h . C O N S U M E R _ K E Y ) . v a l ( ) } , m = f u n c t i o n ( ) { r e t u r n   a ( h . S H A R E D _ S E C R E T ) . v a l ( ) } , n = f u n c t i o n ( ) { j ( ) . a d d C l a s s ( " l o a d i n g " ) } , o = f u n c t i o n ( ) { j ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , p = f u n c t i o n ( ) { r e t u r n   j ( ) . h a s C l a s s ( " l o a d i n g " ) } , q = f u n c t i o n ( ) { i f ( p ( ) ) r e t u r n ! 1 ; v a r   b = i ( ) ; i f ( " " = = = b ) r e t u r n ! 1 ; n ( ) ; v a r   f = l ( ) , h = m ( ) , j = d . c r e a t e ( { c a r t r i d g e u r l : b , k e y : f , s e c r e t : h } ) ; r e t u r n   j . d o n e ( f u n c t i o n ( ) { g . g e t _ s t r i n g ( " s u c c e s s f u l l y c r e a t e d t o o l t y p e " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( e . N E W _ T O O L _ T Y P E ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N ) , a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , { m e s s a g e : b } ) } ) . f a i l ( c . e x c e p t i o n ) } ) . f a i l ( f u n c t i o n ( ) { g . g e t _ s t r i n g ( " f a i l e d t o c r e a t e t o o l t y p e " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( e . N E W _ T O O L _ T Y P E ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N ) , a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , { m e s s a g e : b , e r r o r : ! 0 } ) } ) . f a i l ( c . e x c e p t i o n ) } ) . a l w a y s ( f u n c t i o n ( ) { o ( ) } ) , j } , r = f u n c t i o n ( ) { v a r   b = a ( h . R E G I S T R A T I O N _ F O R M ) ; b . s u b m i t ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , q ( ) } ) ; v a r   c = k ( ) ; c . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N ) } ) , c . k e y p r e s s ( f u n c t i o n ( a ) { a . m e t a K e y | | a . s h i f t K e y | | a . a l t K e y | | a . c t r l K e y | | a . k e y C o d e ! = f . E N T E R & & a . k e y C o d e ! = f . S P A C E | | ( a . p r e v e n t D e f a u l t ( ) , c . c l i c k ( ) ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { r ( ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ p r o x y ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b ) { r e t u r n { q u e r y : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ g e t _ t o o l _ p r o x i e s " , a r g s : c | | { } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , " d e l e t e " : f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m o d _ l t i _ d e l e t e _ t o o l _ p r o x y " , a r g s : { i d : c } } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , c r e a t e : f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " m o d _ l t i _ c r e a t e _ t o o l _ p r o x y " , a r g s : b } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } } } ) ; 
 d e f i n e ( ' m o d _ l t i / c o n t e n t i t e m ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " m o d _ l t i / f o r m - f i e l d " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h , i , j = { i n i t : f u n c t i o n ( a , e , j ) { i = j ; v a r   k = { u r l : a , p o s t D a t a : e } , l = d . r e n d e r ( " m o d _ l t i / c o n t e n t i t e m " , k ) ; r e t u r n   h ? ( h . s e t B o d y ( l ) , v o i d   h . s h o w ( ) ) : v o i d   c . g e t _ s t r i n g ( " s e l e c t c o n t e n t " , " l t i " ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . c r e a t e ( { t i t l e : a , b o d y : l , l a r g e : ! 0 } ) } ) . t h e n ( f u n c t i o n ( a ) { h = a , a . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { a . s e t B o d y ( " " ) , b . f e t c h N o t i f i c a t i o n s ( ) } ) , a . s h o w ( ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } } , k = [ n e w   e ( " n a m e " , e . T Y P E S . T E X T , ( ! 1 ) , " " ) , n e w   e ( " i n t r o e d i t o r " , e . T Y P E S . E D I T O R , ( ! 1 ) , " " ) , n e w   e ( " t o o l u r l " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " s e c u r e t o o l u r l " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " i n s t r u c t o r c h o i c e a c c e p t g r a d e s " , e . T Y P E S . C H E C K B O X , ( ! 0 ) , ( ! 0 ) ) , n e w   e ( " i n s t r u c t o r c h o i c e s e n d n a m e " , e . T Y P E S . C H E C K B O X , ( ! 0 ) , ( ! 0 ) ) , n e w   e ( " i n s t r u c t o r c h o i c e s e n d e m a i l a d d r " , e . T Y P E S . C H E C K B O X , ( ! 0 ) , ( ! 0 ) ) , n e w   e ( " i n s t r u c t o r c u s t o m p a r a m e t e r s " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " i c o n " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " s e c u r e i c o n " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) , n e w   e ( " l a u n c h c o n t a i n e r " , e . T Y P E S . S E L E C T , ( ! 0 ) , 0 ) , n e w   e ( " g r a d e _ m o d g r a d e _ p o i n t " , e . T Y P E S . T E X T , ( ! 1 ) , " " ) , n e w   e ( " c m i d n u m b e r " , e . T Y P E S . T E X T , ( ! 0 ) , " " ) ] ; r e t u r n   w i n d o w . p r o c e s s C o n t e n t I t e m R e t u r n D a t a = f u n c t i o n ( b ) { h & & h . h i d e ( ) ; v a r   c ; f o r ( c   i n   k ) { v a r   d = k [ c ] , e = n u l l ; " u n d e f i n e d " ! = = a . t y p e ( b [ d . n a m e ] ) & & ( e = b [ d . n a m e ] ) , d . s e t F i e l d V a l u e ( e ) } i & & i ( ) } , j } ) ; 
 d e f i n e ( ' m o d _ l t i / t o o l _ c o n f i g u r e _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " m o d _ l t i / e v e n t s " , " m o d _ l t i / k e y s " , " m o d _ l t i / t o o l _ t y p e " , " m o d _ l t i / t o o l _ p r o x y " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { v a r   j = { E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - c o n t a i n e r " , E X T E R N A L _ R E G I S T R A T I O N _ P A G E _ C O N T A I N E R : " # e x t e r n a l - r e g i s t r a t i o n - p a g e - c o n t a i n e r " , C A R T R I D G E _ R E G I S T R A T I O N _ C O N T A I N E R : " # c a r t r i d g e - r e g i s t r a t i o n - c o n t a i n e r " , C A R T R I D G E _ R E G I S T R A T I O N _ F O R M : " # c a r t r i d g e - r e g i s t r a t i o n - f o r m " , A D D _ T O O L _ F O R M : " # a d d - t o o l - f o r m " , T O O L _ L I S T _ C O N T A I N E R : " # t o o l - l i s t - c o n t a i n e r " , T O O L _ C R E A T E _ B U T T O N : " # t o o l - c r e a t e - b u t t o n " , R E G I S T R A T I O N _ C H O I C E _ C O N T A I N E R : " # r e g i s t r a t i o n - c h o i c e - c o n t a i n e r " , T O O L _ U R L : " # t o o l - u r l " } , k = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ C R E A T E _ B U T T O N ) } , l = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ L I S T _ C O N T A I N E R ) } , m = f u n c t i o n ( ) { r e t u r n   a ( j . E X T E R N A L _ R E G I S T R A T I O N _ C O N T A I N E R ) } , n = f u n c t i o n ( ) { r e t u r n   a ( j . C A R T R I D G E _ R E G I S T R A T I O N _ C O N T A I N E R ) } , o = f u n c t i o n ( ) { r e t u r n   a ( j . R E G I S T R A T I O N _ C H O I C E _ C O N T A I N E R ) } , p = f u n c t i o n ( ) { r e t u r n   a ( j . T O O L _ U R L ) . v a l ( ) } , q = f u n c t i o n ( ) { m ( ) . a d d C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( ) { n ( ) . a d d C l a s s ( " h i d d e n " ) } , s = f u n c t i o n ( ) { o ( ) . a d d C l a s s ( " h i d d e n " ) } , t = f u n c t i o n ( ) { r ( ) , s ( ) , m ( ) . r e m o v e C l a s s ( " h i d d e n " ) , w ( m ( ) ) } , u = f u n c t i o n ( a ) { q ( ) , s ( ) , n ( ) . r e m o v e C l a s s ( " h i d d e n " ) , n ( ) . f i n d ( j . C A R T R I D G E _ R E G I S T R A T I O N _ F O R M ) . a t t r ( " d a t a - c a r t r i d g e - u r l " , a ) , w ( n ( ) ) } , v = f u n c t i o n ( ) { q ( ) , r ( ) , o ( ) . r e m o v e C l a s s ( " h i d d e n " ) , w ( o ( ) ) } , w = f u n c t i o n ( a ) { v a r   b = a . c h i l d r e n ( ) . d e t a c h ( ) ; b . a p p e n d T o ( a ) } , x = f u n c t i o n ( ) { l ( ) . a d d C l a s s ( " h i d d e n " ) } , y = f u n c t i o n ( ) { l ( ) . r e m o v e C l a s s ( " h i d d e n " ) } , z = f u n c t i o n ( a ) { v a r   b = a . e r r o r ? " e r r o r " : " s u c c e s s " ; c . a d d N o t i f i c a t i o n ( { m e s s a g e : a . m e s s a g e , t y p e : b } ) } , A = f u n c t i o n ( a ) { a . a d d C l a s s ( " l o a d i n g " ) } , B = f u n c t i o n ( a ) { a . r e m o v e C l a s s ( " l o a d i n g " ) } , C = f u n c t i o n ( ) { v a r   b = a . D e f e r r e d ( ) , e = l ( ) ; A ( e ) , a . w h e n ( g . q u e r y ( ) , h . q u e r y ( { o r p h a n e d o n l y : ! 0 } ) ) . d o n e ( f u n c t i o n ( a , c ) { d . r e n d e r ( " m o d _ l t i / t o o l _ l i s t " , { t o o l s : a , p r o x i e s : c } ) . d o n e ( f u n c t i o n ( a , c ) { e . e m p t y ( ) , e . a p p e n d ( a ) , d . r u n T e m p l a t e J S ( c ) , b . r e s o l v e ( ) } ) . f a i l ( b . r e j e c t ) } ) . f a i l ( b . r e j e c t ) , b . f a i l ( c . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { B ( e ) } ) } , D = f u n c t i o n ( ) { v a r   b = a . t r i m ( p ( ) ) ; i f ( " " = = = b ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; v a r   d = k ( ) ; A ( d ) ; v a r   f = g . i s C a r t r i d g e ( b ) ; r e t u r n   f . a l w a y s ( f u n c t i o n ( ) { B ( d ) } ) , f . d o n e ( f u n c t i o n ( c ) { c . i s c a r t r i d g e ? ( a ( j . T O O L _ U R L ) . v a l ( " " ) , a ( d o c u m e n t ) . t r i g g e r ( e . S T A R T _ C A R T R I D G E _ R E G I S T R A T I O N , b ) ) : a ( d o c u m e n t ) . t r i g g e r ( e . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , { u r l : b } ) } ) , f . f a i l ( f u n c t i o n ( ) { i . g e t _ s t r i n g ( " e r r o r b a d u r l " , " m o d _ l t i " ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . t r i g g e r ( e . R E G I S T R A T I O N _ F E E D B A C K , { m e s s a g e : b , e r r o r : ! 0 } ) } ) . f a i l ( c . e x c e p t i o n ) } ) , f } , E = f u n c t i o n ( ) { a ( d o c u m e n t ) . o n ( e . N E W _ T O O L _ T Y P E , f u n c t i o n ( ) { C ( ) } ) , a ( d o c u m e n t ) . o n ( e . S T A R T _ E X T E R N A L _ R E G I S T R A T I O N , f u n c t i o n ( ) { t ( ) , a ( j . T O O L _ U R L ) . v a l ( " " ) , x ( ) } ) , a ( d o c u m e n t ) . o n ( e . S T O P _ E X T E R N A L _ R E G I S T R A T I O N , f u n c t i o n ( ) { y ( ) , v ( ) } ) , a ( d o c u m e n t ) . o n ( e . S T A R T _ C A R T R I D G E _ R E G I S T R A T I O N , f u n c t i o n ( a , b ) { u ( b ) } ) , a ( d o c u m e n t ) . o n ( e . S T O P _ C A R T R I D G E _ R E G I S T R A T I O N , f u n c t i o n ( ) { n ( ) . f i n d ( j . C A R T R I D G E _ R E G I S T R A T I O N _ F O R M ) . r e m o v e A t t r ( " d a t a - c a r t r i d g e - u r l " ) , v ( ) } ) , a ( d o c u m e n t ) . o n ( e . R E G I S T R A T I O N _ F E E D B A C K , f u n c t i o n ( a , b ) { z ( b ) } ) ; v a r   b = a ( j . A D D _ T O O L _ F O R M ) ; b . s u b m i t ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , D ( ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { E ( ) , C ( ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / c o n t e n t i t e m _ r e t u r n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { r e t u r n { i n i t : f u n c t i o n ( b ) { a ( w i n d o w ) . r e a d y ( f u n c t i o n ( ) { w i n d o w ! = t o p ? p a r e n t . p r o c e s s C o n t e n t I t e m R e t u r n D a t a ( b ) : w i n d o w . p r o c e s s C o n t e n t I t e m R e t u r n D a t a ( b ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ l t i / f o r m - f i e l d ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( a , b , c , d ) { t h i s . n a m e = a , t h i s . i d = " i d _ " + t h i s . n a m e , t h i s . s e l e c t o r = " # " + t h i s . i d , t h i s . t y p e = b , t h i s . r e s e t I f U n d e f i n e d = c , t h i s . d e f a u l t V a l u e = d } ; r e t u r n   b . T Y P E S = { T E X T : 1 , S E L E C T : 2 , C H E C K B O X : 3 , E D I T O R : 4 } , b . p r o t o t y p e . s e t F i e l d V a l u e = f u n c t i o n ( c ) { i f ( n u l l = = = c ) { i f ( ! t h i s . r e s e t I f U n d e f i n e d ) r e t u r n ; c = t h i s . d e f a u l t V a l u e } s w i t c h ( t h i s . t y p e ) { c a s e   b . T Y P E S . C H E C K B O X : c ? a ( t h i s . s e l e c t o r ) . p r o p ( " c h e c k e d " , ! 0 ) : a ( t h i s . s e l e c t o r ) . p r o p ( " c h e c k e d " , ! 1 ) ; b r e a k ; c a s e   b . T Y P E S . E D I T O R : i f ( " u n d e f i n e d " ! = = a . t y p e ( c . t e x t ) ) { v a r   d = a ( t h i s . s e l e c t o r + " e d i t a b l e " ) ; d . l e n g t h ? d . h t m l ( c . t e x t ) : " u n d e f i n e d " ! = t y p e o f   t i n y M C E & & t i n y M C E . e x e c I n s t a n c e C o m m a n d ( t h i s . i d , " m c e I n s e r t C o n t e n t " , ! 1 , c . t e x t ) , a ( t h i s . s e l e c t o r ) . v a l ( c . t e x t ) } b r e a k ; d e f a u l t : a ( t h i s . s e l e c t o r ) . v a l ( c ) } } , b } ) ; 
 d e f i n e ( ' m o d _ o u b l o g / e x p o r t ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b ; r e t u r n   b = { C S S : { S E L E C T A L L P O S T : ' b u t t o n [ n a m e = " o u b l o g - e x p o r t - s e l e c t - a l l " ] ' , S E L E C T N O N E : ' b u t t o n [ n a m e = " o u b l o g - e x p o r t - s e l e c t - n o n e " ] ' , C H E C K B O X S : ' . o u b l o g - p o s t s - t a b l e   i n p u t [ t y p e = " c h e c k b o x " ] ' , E X P O R T S E L E C T E D : ' b u t t o n [ n a m e = " o u b l o g - e x p o r t - s e l e c t e d " ] ' , E X P O R T T Y P E : " # o u b l o g - e x p o r t - t y p e " } , m c o n f i g : n u l l , c o n t e n t I d s : [ ] , i n i t : f u n c t i o n ( c ) { b . m c o n f i g = c , n u l l ! = = s e s s i o n S t o r a g e . g e t I t e m ( " c o n t e n t I d s " ) & & b . m c o n f i g . n e w s e s s i o n ! = = ! 0 & & ( b . c o n t e n t I d s = J S O N . p a r s e ( s e s s i o n S t o r a g e . g e t I t e m ( " c o n t e n t I d s " ) ) ) , a ( b . C S S . S E L E C T A L L P O S T ) . o n ( " c l i c k " , b . s e l e c t A l l . b i n d ( b ) ) , a ( b . C S S . S E L E C T N O N E ) . o n ( " c l i c k " , b . s e l e c t N o n e . b i n d ( b ) ) , a ( b . C S S . C H E C K B O X S ) . o n ( " c l i c k " , b . s e l e c t P o s t . b i n d ( b ) ) , a ( b . C S S . E X P O R T S E L E C T E D ) . o n ( " c l i c k " , b . e x p o r t S e l e c t e d . b i n d ( b ) ) , b . i n i t S e l e c t e d P o s t ( ) , b . i n i t B u t t o n S t a t e ( ) } , s e l e c t A l l : f u n c t i o n ( ) { a ( b . C S S . C H E C K B O X S ) . p r o p ( " c h e c k e d " , ! 0 ) , a ( b . C S S . S E L E C T A L L P O S T ) . p r o p ( " d i s a b l e d " , ! 0 ) , a ( b . C S S . S E L E C T A L L P O S T ) . b l u r ( ) , a ( b . C S S . S E L E C T N O N E ) . p r o p ( " d i s a b l e d " , ! 1 ) , a ( b . C S S . E X P O R T S E L E C T E D ) . p r o p ( " d i s a b l e d " , ! 1 ) , a ( b . C S S . C H E C K B O X S ) . e a c h ( f u n c t i o n ( ) { a ( t h i s ) . p r o p ( " c h e c k e d " ) & & b . a d d P o s t ( a ( t h i s ) . v a l ( ) ) } ) } , s e l e c t N o n e : f u n c t i o n ( ) { a ( b . C S S . C H E C K B O X S ) . p r o p ( " c h e c k e d " , ! 1 ) , a ( b . C S S . S E L E C T A L L P O S T ) . p r o p ( " d i s a b l e d " , ! 1 ) , a ( b . C S S . S E L E C T N O N E ) . p r o p ( " d i s a b l e d " , ! 0 ) , a ( b . C S S . S E L E C T N O N E ) . b l u r ( ) , a ( b . C S S . E X P O R T S E L E C T E D ) . p r o p ( " d i s a b l e d " , ! 0 ) , a ( b . C S S . C H E C K B O X S ) . e a c h ( f u n c t i o n ( ) { a ( t h i s ) . p r o p ( " c h e c k e d " ) | | b . r e m o v e P o s t ( a ( t h i s ) . v a l ( ) ) } ) } , s e l e c t P o s t : f u n c t i o n ( a ) { 1 = = a . t a r g e t . c h e c k e d ? b . a d d P o s t ( a . t a r g e t . v a l u e ) : b . r e m o v e P o s t ( a . t a r g e t . v a l u e ) , b . i n i t B u t t o n S t a t e ( ) } , i n i t S e l e c t e d P o s t : f u n c t i o n ( ) { a ( b . C S S . C H E C K B O X S ) . e a c h ( f u n c t i o n ( ) { v a r   c = b . c o n t e n t I d s . i n d e x O f ( a ( t h i s ) . v a l ( ) ) ; c ! = = - 1 & & a ( t h i s ) . p r o p ( " c h e c k e d " , ! 0 ) } ) } , e x p o r t S e l e c t e d : f u n c t i o n ( ) { i f ( b . c o n t e n t I d s . l e n g t h > 0 ) { v a r   c = a ( b . C S S . E X P O R T S E L E C T E D ) . d a t a ( " u r l " ) , d = a ( b . C S S . E X P O R T T Y P E ) . v a l ( ) ; c = t h i s . u p d a t e Q u e r y S t r i n g P a r a m e t e r ( c , " i n s t a n c e " , S t r i n g ( d ) ) , c = t h i s . u p d a t e Q u e r y S t r i n g P a r a m e t e r ( c , " c a _ p o s t i d s " , b . c o n t e n t I d s . j o i n ( " | " ) ) , s e s s i o n S t o r a g e . r e m o v e I t e m ( " c o n t e n t I d s " ) , b . c o n t e n t I d s = [ ] , w i n d o w . l o c a t i o n . h r e f = c } } , r e m o v e P o s t : f u n c t i o n ( a ) { v a r   c = b . c o n t e n t I d s . i n d e x O f ( a ) ; c ! = = - 1 & & ( b . c o n t e n t I d s . s p l i c e ( c , 1 ) , s e s s i o n S t o r a g e . s e t I t e m ( " c o n t e n t I d s " , J S O N . s t r i n g i f y ( b . c o n t e n t I d s ) ) ) } , a d d P o s t : f u n c t i o n ( a ) { v a r   c = b . c o n t e n t I d s . i n d e x O f ( a ) ; c = = = - 1 & & ( b . c o n t e n t I d s . p u s h ( a ) , s e s s i o n S t o r a g e . s e t I t e m ( " c o n t e n t I d s " , J S O N . s t r i n g i f y ( b . c o n t e n t I d s ) ) ) } , i n i t B u t t o n S t a t e : f u n c t i o n ( ) { v a r   c = 0 , d = 0 ; a ( b . C S S . C H E C K B O X S ) . e a c h ( f u n c t i o n ( ) { 0 = = a ( t h i s ) . p r o p ( " c h e c k e d " ) & & c + + , d + + } ) , a ( b . C S S . S E L E C T A L L P O S T ) . p r o p ( " d i s a b l e d " , 0 = = c ) , a ( b . C S S . S E L E C T N O N E ) . p r o p ( " d i s a b l e d " , c = = d ) , a ( b . C S S . E X P O R T S E L E C T E D ) . p r o p ( " d i s a b l e d " , 0 = = b . c o n t e n t I d s . l e n g t h ) } , u p d a t e Q u e r y S t r i n g P a r a m e t e r : f u n c t i o n ( a , b , c ) { v a r   d = n e w   R e g E x p ( " ( [ ? & ] ) " + b + " = . * ? ( & | $ ) " , " i " ) , e = a . i n d e x O f ( " ? " ) ! = = - 1 ? " & " : " ? " ; r e t u r n   a . m a t c h ( d ) ? a . r e p l a c e ( d , " $ 1 " + b + " = " + c + " $ 2 " ) : a + e + b + " = " + c } } } ) ; 
 d e f i n e ( ' m o d _ q u i z / a d d _ r a n d o m _ f o r m ' ,   [ " j q u e r y " , " m o d _ q u i z / r a n d o m _ q u e s t i o n _ f o r m _ p r e v i e w " ] , f u n c t i o n ( a , b ) { v a r   c = 2 e 3 , d = { P R E V I E W _ C O N T A I N E R : ' [ d a t a - r e g i o n = " r a n d o m - q u e s t i o n - p r e v i e w - c o n t a i n e r " ] ' , C A T E G O R Y _ F O R M _ E L E M E N T : ' [ n a m e = " c a t e g o r y " ] ' , S U B C A T E G O R Y _ F O R M _ E L E M E N T : ' [ n a m e = " i n c l u d e s u b c a t e g o r i e s " ] ' , T A G _ I D S _ F O R M _ E L E M E N T : ' [ n a m e = " f r o m t a g s [ ] " ] ' } , e = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( d . C A T E G O R Y _ F O R M _ E L E M E N T ) . v a l ( ) } , f = f u n c t i o n ( a ) { v a r   b = e ( a ) , c = b . s p l i t ( " , " ) ; r e t u r n   c [ 0 ] } , g = f u n c t i o n ( a , b ) { v a r   c = e ( a ) ; r e t u r n   b . i n d e x O f ( c ) > - 1 } , h = f u n c t i o n ( a , b ) { r e t u r n ! ! g ( a , b ) | | a . f i n d ( d . S U B C A T E G O R Y _ F O R M _ E L E M E N T ) . i s ( " : c h e c k e d " ) } , i = f u n c t i o n ( a ) { v a r   b = a . f i n d ( d . T A G _ I D S _ F O R M _ E L E M E N T ) . v a l ( ) ; r e t u r n   b . m a p ( f u n c t i o n ( a ) { v a r   b = a . s p l i t ( " , " ) ; r e t u r n   b [ 0 ] } ) } , j = f u n c t i o n ( a , c , e ) { v a r   g = a . f i n d ( d . P R E V I E W _ C O N T A I N E R ) ; b . r e l o a d ( g , f ( a ) , h ( a , e ) , i ( a ) , c ) } , k = f u n c t i o n ( a ) { r e t u r n   a . c l o s e s t ( d . C A T E G O R Y _ F O R M _ E L E M E N T ) . l e n g t h > 0 | | ( a . c l o s e s t ( d . S U B C A T E G O R Y _ F O R M _ E L E M E N T ) . l e n g t h > 0 | | a . c l o s e s t ( d . T A G _ I D S _ F O R M _ E L E M E N T ) . l e n g t h > 0 ) } , l = f u n c t i o n ( d , e , f ) { v a r   g = n u l l ; d . o n ( " c h a n g e " , f u n c t i o n ( h ) { k ( a ( h . t a r g e t ) ) & & ( b . s h o w L o a d i n g I c o n ( d ) , g & & c l e a r T i m e o u t ( g ) , g = s e t T i m e o u t ( f u n c t i o n ( ) { j ( d , e , f ) } , c ) ) } ) } , m = f u n c t i o n ( b , c , d ) { v a r   e = a ( " # " + b ) ; j ( e , c , d ) , l ( e , c , d ) } ; r e t u r n { i n i t : m } } ) ; 
 d e f i n e ( ' m o d _ q u i z / r a n d o m _ q u e s t i o n _ f o r m _ p r e v i e w ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / p a g e d _ c o n t e n t _ f a c t o r y " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = 5 , h = " m o d _ q u i z / r a n d o m _ q u e s t i o n _ f o r m _ p r e v i e w _ q u e s t i o n _ l i s t " , i = { L O A D I N G _ I C O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " o v e r l a y - i c o n - c o n t a i n e r " ] ' , Q U E S T I O N _ C O U N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " q u e s t i o n - c o u n t - c o n t a i n e r " ] ' , Q U E S T I O N _ L I S T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " q u e s t i o n - l i s t - c o n t a i n e r " ] ' } , j = f u n c t i o n ( a ) { a . f i n d ( i . L O A D I N G _ I C O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , k = f u n c t i o n ( a ) { a . f i n d ( i . L O A D I N G _ I C O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , l = f u n c t i o n ( a , b ) { c . g e t _ s t r i n g ( " q u e s t i o n s m a t c h i n g f i l t e r " , " m o d _ q u i z " , b ) . t h e n ( f u n c t i o n ( b ) { a . f i n d ( i . Q U E S T I O N _ C O U N T _ C O N T A I N E R ) . h t m l ( b ) } ) . f a i l ( d . e x c e p t i o n ) } , m = f u n c t i o n ( a , c , d , e , f , g ) { v a r   h = { m e t h o d n a m e : " c o r e _ q u e s t i o n _ g e t _ r a n d o m _ q u e s t i o n _ s u m m a r i e s " , a r g s : { c a t e g o r y i d : a , i n c l u d e s u b c a t e g o r i e s : c , t a g i d s : d , c o n t e x t i d : e , l i m i t : f , o f f s e t : g } } ; r e t u r n   b . c a l l ( [ h ] ) [ 0 ] } , n = f u n c t i o n ( a , b , c , i , j , k ) { r e t u r n   f . c r e a t e F r o m A j a x ( j , g , f u n c t i o n ( f ) { r e t u r n   f . m a p ( f u n c t i o n ( f ) { v a r   g = f . l i m i t , j = f . o f f s e t ; r e t u r n   0 = = j ? e . r e n d e r ( h , { q u e s t i o n s : k } ) : m ( a , b , c , i , g , j ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . q u e s t i o n s ; r e t u r n   e . r e n d e r ( h , { q u e s t i o n s : b } ) } ) . f a i l ( d . e x c e p t i o n ) } ) } ) } , o = f u n c t i o n ( b , c , f , h , o ) { r e t u r n   j ( b ) , m ( c , f , h , o , g , 0 ) . t h e n ( f u n c t i o n ( a ) { v a r   c = a . t o t a l c o u n t ; r e t u r n   l ( b , c ) , a } ) . t h e n ( f u n c t i o n ( b ) { v a r   d = b . t o t a l c o u n t , e = b . q u e s t i o n s ; r e t u r n   e . l e n g t h ? n ( c , f , h , o , d , e ) : a . D e f e r r e d ( ) . r e s o l v e ( " " , " " ) } ) . t h e n ( f u n c t i o n ( a , c ) { v a r   d = b . f i n d ( i . Q U E S T I O N _ L I S T _ C O N T A I N E R ) ; e . r e p l a c e N o d e C o n t e n t s ( d , a , c ) } ) . a l w a y s ( f u n c t i o n ( ) { k ( b ) } ) . f a i l ( d . e x c e p t i o n ) } ; r e t u r n { r e l o a d : o , s h o w L o a d i n g I c o n : j , h i d e L o a d i n g I c o n : k } } ) ; 
 d e f i n e ( ' m o d _ q u i z / a d d _ r a n d o m _ q u e s t i o n ' ,   [ " m o d _ q u i z / a d d _ q u e s t i o n _ m o d a l _ l a u n c h e r " , " m o d _ q u i z / m o d a l _ a d d _ r a n d o m _ q u e s t i o n " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( c , d , e , f ) { a . i n i t ( b . T Y P E , ' . m e n u   [ d a t a - a c t i o n = " a d d a r a n d o m q u e s t i o n " ] ' , c , f u n c t i o n ( a , b ) { b . s e t C a t e g o r y ( d ) , b . s e t R e t u r n U r l ( e ) , b . s e t C M I D ( f ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ q u i z / m o d a l _ q u i z _ q u e s t i o n _ b a n k ' ,   [ " j q u e r y " , " c o r e / y u i " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e / f r a g m e n t " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = ! 1 , i = { A D D _ T O _ Q U I Z _ C O N T A I N E R : " t d . a d d t o q u i z a c t i o n " , A N C H O R : " a [ h r e f ] " , P R E V I E W _ C O N T A I N E R : " t d . p r e v i e w a c t i o n " , S E A R C H _ O P T I O N S : " # a d v a n c e d s e a r c h " , D I S P L A Y _ O P T I O N S : " # d i s p l a y o p t i o n s " } , j = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) , t h i s . c o n t e x t I d = n u l l , t h i s . a d d O n P a g e I d = n u l l } ; r e t u r n   j . T Y P E = " m o d _ q u i z - q u i z - q u e s t i o n - b a n k " , j . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , j . p r o t o t y p e . c o n s t r u c t o r = j , j . p r o t o t y p e . s e t C o n t e x t I d = f u n c t i o n ( a ) { t h i s . c o n t e x t I d = a } , j . p r o t o t y p e . g e t C o n t e x t I d = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e x t I d } , j . p r o t o t y p e . s e t A d d O n P a g e I d = f u n c t i o n ( a ) { t h i s . a d d O n P a g e I d = a } , j . p r o t o t y p e . g e t A d d O n P a g e I d = f u n c t i o n ( ) { r e t u r n   t h i s . a d d O n P a g e I d } , j . p r o t o t y p e . s h o w = f u n c t i o n ( ) { r e t u r n   t h i s . r e l o a d B o d y C o n t e n t ( w i n d o w . l o c a t i o n . s e a r c h ) , d . p r o t o t y p e . s h o w . c a l l ( t h i s ) } , j . p r o t o t y p e . r e l o a d B o d y C o n t e n t = f u n c t i o n ( a ) { v a r   b = g . l o a d F r a g m e n t ( " m o d _ q u i z " , " q u i z _ q u e s t i o n _ b a n k " , t h i s . g e t C o n t e x t I d ( ) , { q u e r y s t r i n g : a } ) . f a i l ( c . e x c e p t i o n ) ; t h i s . s e t B o d y ( b ) } , j . p r o t o t y p e . h a n d l e A d d T o Q u i z E v e n t = f u n c t i o n ( a , b ) { v a r   c = b . a t t r ( " h r e f " ) + " & a d d o n p a g e = " + t h i s . g e t A d d O n P a g e I d ( ) ; b . a t t r ( " h r e f " , c ) } , j . p r o t o t y p e . h a n d l e P r e v i e w C o n t a i n e r E v e n t = f u n c t i o n ( a , b ) { v a r   c = [ " h e i g h t = 6 0 0 " , " w i d t h = 8 0 0 " , " t o p = 0 " , " l e f t = 0 " , " m e n u b a r = 0 " , " l o c a t i o n = 0 " , " s c r o l l b a r s " , " r e s i z a b l e " , " t o o l b a r " , " s t a t u s " , " d i r e c t o r i e s = 0 " , " f u l l s c r e e n = 0 " , " d e p e n d e n t " ] ; w i n d o w . o p e n p o p u p ( a , { u r l : b . a t t r ( " h r e f " ) , n a m e : " q u e s t i o n p r e v i e w " , o p t i o n s : c . j o i n ( " , " ) } ) } , j . p r o t o t y p e . h a n d l e D i s p l a y O p t i o n F o r m E v e n t = f u n c t i o n ( b ) { b . s t o p P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . t a r g e t ) . c l o s e s t ( i . D I S P L A Y _ O P T I O N S ) , d = " ? " + c . s e r i a l i z e ( ) ; t h i s . r e l o a d B o d y C o n t e n t ( d ) } , j . p r o t o t y p e . r e g i s t e r D i s p l a y O p t i o n L i s t e n e r s = f u n c t i o n ( ) { t h i s . g e t M o d a l ( ) . o n ( " c h a n g e " , i . D I S P L A Y _ O P T I O N S , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) ; c . a t t r ( " a r i a - a u t o c o m p l e t e " ) | | t h i s . h a n d l e D i s p l a y O p t i o n F o r m E v e n t ( b ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( " s u b m i t " , i . D I S P L A Y _ O P T I O N S , f u n c t i o n ( a ) { t h i s . h a n d l e D i s p l a y O p t i o n F o r m E v e n t ( a ) } . b i n d ( t h i s ) ) } , j . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . r e g i s t e r D i s p l a y O p t i o n L i s t e n e r s ( ) , t h i s . g e t M o d a l ( ) . o n ( " c l i c k " , i . A N C H O R , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) ; r e t u r n   c . c l o s e s t ( i . A D D _ T O _ Q U I Z _ C O N T A I N E R ) . l e n g t h ? v o i d   t h i s . h a n d l e A d d T o Q u i z E v e n t ( b , c ) : c . c l o s e s t ( i . P R E V I E W _ C O N T A I N E R ) . l e n g t h ? v o i d   t h i s . h a n d l e P r e v i e w C o n t a i n e r E v e n t ( b , c ) : v o i d ( c . c l o s e s t ( i . S E A R C H _ O P T I O N S ) . l e n g t h | | ( b . p r e v e n t D e f a u l t ( ) , t h i s . r e l o a d B o d y C o n t e n t ( c . p r o p ( " s e a r c h " ) ) ) ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . o n ( e . b o d y R e n d e r e d , f u n c t i o n ( ) { b . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) } ) } , h | | ( f . r e g i s t e r ( j . T Y P E , j , " c o r e / m o d a l " ) , h = ! 0 ) , j } ) ; 
 d e f i n e ( ' m o d _ q u i z / a d d _ q u e s t i o n _ m o d a l _ l a u n c h e r ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l _ f a c t o r y " ] , f u n c t i o n ( a , b , c ) { r e t u r n { i n i t : f u n c t i o n ( d , e , f , g ) { v a r   h = a ( " b o d y " ) ; r e t u r n   c . c r e a t e ( { t y p e : d , l a r g e : ! 0 , p r e S h o w C a l l b a c k : f u n c t i o n ( b , c ) { b = a ( b ) , c . s e t C o n t e x t I d ( f ) , c . s e t A d d O n P a g e I d ( b . a t t r ( " d a t a - a d d o n p a g e " ) ) , c . s e t T i t l e ( b . a t t r ( " d a t a - h e a d e r " ) ) , g & & g ( b , c ) } } , [ h , e ] ) . f a i l ( b . e x c e p t i o n ) } } } ) ; 
 d e f i n e ( ' m o d _ q u i z / p r e f l i g h t c h e c k ' ,   [ " j q u e r y " , " c o r e / y u i " ] , f u n c t i o n ( a , b ) { v a r   c = { c o n f i r m D i a l o g u e : n u l l , i n i t : f u n c t i o n ( a , d , e , f ) { v a r   g = a ; b . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n " , f u n c t i o n ( ) { b . o n e ( e ) & & ( c . c o n f i r m D i a l o g u e = n e w   M . c o r e . d i a l o g u e ( { h e a d e r C o n t e n t : d , b o d y C o n t e n t : b . o n e ( e ) , d r a g g a b l e : ! 0 , v i s i b l e : ! 1 , c e n t e r : ! 0 , m o d a l : ! 0 , w i d t h : n u l l , e x t r a C l a s s e s : [ " m o d _ q u i z _ p r e f l i g h t _ p o p u p " ] } ) , b . o n e ( a ) . o n ( " c l i c k " , c . d i s p l a y D i a l o g u e ) , b . o n e ( " # i d _ c a n c e l " ) . o n ( " c l i c k " , c . h i d e D i a l o g u e ) , g = c . c o n f i r m D i a l o g u e . g e t ( " b o u n d i n g B o x " ) . o n e ( ' [ n a m e = " s u b m i t b u t t o n " ] ' ) ) , f & & b . o n e ( g ) . o n ( " c l i c k " , c . l a u n c h Q u i z P o p u p , c , f ) } ) } , d i s p l a y D i a l o g u e : f u n c t i o n ( a ) { a & & a . h a l t ( ) , c . c o n f i r m D i a l o g u e . s h o w ( ) } , h i d e D i a l o g u e : f u n c t i o n ( a ) { a & & a . h a l t ( ) , c . c o n f i r m D i a l o g u e . h i d e ( a ) } , l a u n c h Q u i z P o p u p : f u n c t i o n ( a , c ) { a . h a l t ( ) , b . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , " i o - f o r m " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) ; v a r   d = a . t a r g e t . a n c e s t o r ( " f o r m " ) ; w i n d o w . o p e n p o p u p ( a , { u r l : d . g e t ( " a c t i o n " ) + " ? " + b . I O . s t r i n g i f y ( d ) . r e p l a c e ( / \ b c a n c e l = / , " x = " ) , w i n d o w n a m e : " q u i z p o p u p " , o p t i o n s : c , f u l l s c r e e n : ! 0 } ) } ) } } ; r e t u r n   c } ) ; 
 d e f i n e ( ' m o d _ q u i z / m o d a l _ a d d _ r a n d o m _ q u e s t i o n ' ,   [ " j q u e r y " , " c o r e / y u i " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l " , " c o r e / m o d a l _ e v e n t s " , " c o r e / m o d a l _ r e g i s t r y " , " c o r e / f r a g m e n t " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = ! 1 , j = { E X I S T I N G _ C A T E G O R Y _ C O N T A I N E R : ' [ d a t a - r e g i o n = " e x i s t i n g - c a t e g o r y - c o n t a i n e r " ] ' , E X I S T I N G _ C A T E G O R Y _ F O R M _ E L E M E N T : " # i d _ e x i s t i n g c a t e g o r y h e a d e r " , N E W _ C A T E G O R Y _ C O N T A I N E R : ' [ d a t a - r e g i o n = " n e w - c a t e g o r y - c o n t a i n e r " ] ' , N E W _ C A T E G O R Y _ F O R M _ E L E M E N T : " # i d _ n e w c a t e g o r y h e a d e r " , T A B _ C O N T E N T : ' [ d a t a - r e g i o n = " t a b - c o n t e n t " ] ' , A D D _ O N _ P A G E _ F O R M _ E L E M E N T : ' [ n a m e = " a d d o n p a g e " ] ' , S U B M I T _ B U T T O N _ E L E M E N T : ' i n p u t [ t y p e = " s u b m i t " ] ' , C A N C E L _ B U T T O N _ E L E M E N T : ' i n p u t [ t y p e = " s u b m i t " ] [ n a m e = " c a n c e l " ] ' , F O R M _ H E A D E R : " l e g e n d " , B U T T O N _ C O N T A I N E R : " . f i t e m " } , k = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) , t h i s . c o n t e x t I d = n u l l , t h i s . a d d O n P a g e I d = n u l l , t h i s . c a t e g o r y = n u l l , t h i s . r e t u r n U r l = n u l l , t h i s . c m i d = n u l l , t h i s . l o a d e d F o r m = ! 1 } ; r e t u r n   k . T Y P E = " m o d _ q u i z - q u i z - a d d - r a n d o m - q u e s t i o n " , k . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , k . p r o t o t y p e . c o n s t r u c t o r = k , k . p r o t o t y p e . s e t C o n t e x t I d = f u n c t i o n ( a ) { t h i s . c o n t e x t I d = a } , k . p r o t o t y p e . g e t C o n t e x t I d = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e x t I d } , k . p r o t o t y p e . s e t A d d O n P a g e I d = f u n c t i o n ( a ) { t h i s . a d d O n P a g e I d = a , t h i s . g e t B o d y ( ) . f i n d ( j . A D D _ O N _ P A G E _ F O R M _ E L E M E N T ) . v a l ( a ) } , k . p r o t o t y p e . g e t A d d O n P a g e I d = f u n c t i o n ( ) { r e t u r n   t h i s . a d d O n P a g e I d } , k . p r o t o t y p e . s e t C a t e g o r y = f u n c t i o n ( a ) { t h i s . c a t e g o r y = a } , k . p r o t o t y p e . g e t C a t e g o r y = f u n c t i o n ( ) { r e t u r n   t h i s . c a t e g o r y } , k . p r o t o t y p e . s e t R e t u r n U r l = f u n c t i o n ( a ) { t h i s . r e t u r n U r l = a } , k . p r o t o t y p e . g e t R e t u r n U r l = f u n c t i o n ( ) { r e t u r n   t h i s . r e t u r n U r l } , k . p r o t o t y p e . s e t C M I D = f u n c t i o n ( a ) { t h i s . c m i d = a } , k . p r o t o t y p e . g e t C M I D = f u n c t i o n ( ) { r e t u r n   t h i s . c m i d } , k . p r o t o t y p e . m o v e F o r m E l e m e n t I n t o T a b = f u n c t i o n ( b , c ) { v a r   d = b . f i n d ( j . S U B M I T _ B U T T O N _ E L E M E N T ) , e = a ( ' < d i v   c l a s s = " m o d a l - f o o t e r   m - t - 1 "   d a t a - r e g i o n = " f o o t e r " > < / d i v > ' ) ; b . f i n d ( j . F O R M _ H E A D E R ) . a d d C l a s s ( " h i d d e n " ) , b . w r a p ( c ) , d . c l o s e s t ( j . B U T T O N _ C O N T A I N E R ) . r e m o v e ( ) , d . a p p e n d T o ( e ) , e . a p p e n d T o ( b ) } , k . p r o t o t y p e . m o v e T a b s I n t o T a b C o n t e n t = f u n c t i o n ( a ) { v a r   b = t h i s . g e t B o d y ( ) . f i n d ( j . T A B _ C O N T E N T ) . e m p t y ( ) ; a . f i n d ( ' [ r o l e = " t a b p a n e l " ] ' ) . w r a p A l l ( b ) } , k . p r o t o t y p e . m o v e C a n c e l B u t t o n T o T a b s = f u n c t i o n ( a ) { v a r   b = a . f i n d ( j . C A N C E L _ B U T T O N _ E L E M E N T ) . a d d C l a s s ( " m - l - 1 " ) , c = a . f i n d ( ' [ d a t a - r e g i o n = " f o o t e r " ] ' ) ; b . c l o s e s t ( j . B U T T O N _ C O N T A I N E R ) . r e m o v e ( ) , b . c l o n e ( ) . a p p e n d T o ( c ) } , k . p r o t o t y p e . l o a d F o r m = f u n c t i o n ( ) { r e t u r n   g . l o a d F r a g m e n t ( " m o d _ q u i z " , " a d d _ r a n d o m _ q u e s t i o n _ f o r m " , t h i s . g e t C o n t e x t I d ( ) , { a d d o n p a g e : t h i s . g e t A d d O n P a g e I d ( ) , c a t : t h i s . g e t C a t e g o r y ( ) , r e t u r n u r l : t h i s . g e t R e t u r n U r l ( ) , c m i d : t h i s . g e t C M I D ( ) } ) . t h e n ( f u n c t i o n ( b , c ) { v a r   d = a ( b ) , e = d . f i n d ( j . E X I S T I N G _ C A T E G O R Y _ F O R M _ E L E M E N T ) , f = t h i s . g e t B o d y ( ) . f i n d ( j . E X I S T I N G _ C A T E G O R Y _ C O N T A I N E R ) , g = d . f i n d ( j . N E W _ C A T E G O R Y _ F O R M _ E L E M E N T ) , i = t h i s . g e t B o d y ( ) . f i n d ( j . N E W _ C A T E G O R Y _ C O N T A I N E R ) ; t h i s . m o v e F o r m E l e m e n t I n t o T a b ( e , f ) , t h i s . m o v e F o r m E l e m e n t I n t o T a b ( g , i ) , t h i s . m o v e T a b s I n t o T a b C o n t e n t ( d ) , t h i s . m o v e C a n c e l B u t t o n T o T a b s ( d ) , h . r e p l a c e N o d e ( t h i s . g e t B o d y ( ) . f i n d ( j . T A B _ C O N T E N T ) , d , c ) } . b i n d ( t h i s ) ) . t h e n ( f u n c t i o n ( ) { b . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) } ) . f a i l ( c . e x c e p t i o n ) } , k . p r o t o t y p e . s h o w = f u n c t i o n ( ) { d . p r o t o t y p e . s h o w . c a l l ( t h i s ) , t h i s . l o a d e d F o r m | | ( t h i s . l o a d F o r m ( ) , t h i s . l o a d e d F o r m = ! 0 ) } , i | | ( f . r e g i s t e r ( k . T Y P E , k , " m o d _ q u i z / m o d a l _ a d d _ r a n d o m _ q u e s t i o n " ) , i = ! 0 ) , k } ) ; 
 d e f i n e ( ' m o d _ q u i z / q u i z q u e s t i o n b a n k ' ,   [ " m o d _ q u i z / a d d _ q u e s t i o n _ m o d a l _ l a u n c h e r " , " m o d _ q u i z / m o d a l _ q u i z _ q u e s t i o n _ b a n k " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( c ) { a . i n i t ( b . T Y P E , ' . m e n u   [ d a t a - a c t i o n = " q u e s t i o n b a n k " ] ' , c ) } } } ) ; 
 d e f i n e ( ' m o d _ s u r v e y / v a l i d a t i o n ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { r e t u r n { e n s u r e R a d i o s C h o s e n : f u n c t i o n ( e ) { v a r   f = b . g e t _ s t r i n g s ( [ { k e y : " e r r o r " , c o m p o n e n t : " m o o d l e " } , { k e y : " q u e s t i o n s n o t a n s w e r e d " , c o m p o n e n t : " s u r v e y " } ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . c r e a t e ( { t y p e : c . t y p e s . C A N C E L , t i t l e : a [ 0 ] , b o d y : a [ 1 ] } ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) , g = a ( " # " + e ) ; g . s u b m i t ( f u n c t i o n ( a ) { r e t u r n   0 = = = g . f i n d ( ' i n p u t : r a d i o [ d a t a - s u r v e y - d e f a u l t = " t r u e " ] : c h e c k e d ' ) . l e n g t h | | ( a . p r e v e n t D e f a u l t ( ) , f . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . s h o w ( ) , ! 1 } ) ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ w o r k s h o p / w o r k s h o p v i e w ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( b ) { v a r   c = 0 ; b . h e i g h t ( " a u t o " ) , b . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) . h e i g h t ( ) ; b > c & & ( c = b ) } ) , b . h e i g h t ( c ) } r e t u r n { i n i t : f u n c t i o n ( ) { v a r   c = a ( " . p a t h - m o d - w o r k s h o p   . u s e r p l a n   d t " ) , d = a ( " . p a t h - m o d - w o r k s h o p   . u s e r p l a n   d d " ) ; b ( c ) , b ( d ) , a ( w i n d o w ) . o n ( " r e s i z e " , f u n c t i o n ( ) { b ( c ) , b ( d ) } ) } } } ) ; 
 d e f i n e ( ' m o d _ w o r k s h o p / m o d f o r m ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( a , b ) { a . a v a i l a b l e . p r o p ( " c h e c k e d " ) | | ( a . r e q u i r e d . p r o p ( " d i s a b l e d " , ! 0 ) , a . r e q u i r e d . p r o p ( " c h e c k e d " , ! 1 ) , b . a v a i l a b l e . p r o p ( " c h e c k e d " ) & & ( b . r e q u i r e d . p r o p ( " d i s a b l e d " , ! 0 ) , b . r e q u i r e d . p r o p ( " c h e c k e d " , ! 0 ) , b . r e q u i r e d H i d d e n . v a l ( 1 ) ) ) } f u n c t i o n   c ( a ) { a . r e q u i r e d . p r o p ( " d i s a b l e d " , ! 1 ) , a . r e q u i r e d . p r o p ( " c h e c k e d " , ! 1 ) , a . r e q u i r e d H i d d e n . v a l ( 0 ) } f u n c t i o n   d ( ) { b ( e . f i l e , e . t e x t ) , b ( e . t e x t , e . f i l e ) , e . t e x t . a v a i l a b l e . p r o p ( " c h e c k e d " ) & & e . f i l e . a v a i l a b l e . p r o p ( " c h e c k e d " ) & & ( c ( e . t e x t ) , c ( e . f i l e ) ) } v a r   e = { t e x t : { a v a i l a b l e : n u l l , r e q u i r e d : n u l l , r e q u i r e d H i d d e n : n u l l } , f i l e : { a v a i l a b l e : n u l l , r e q u i r e d : n u l l , r e q u i r e d H i d d e n : n u l l } } ; r e t u r n { i n i t : f u n c t i o n ( ) { e . t e x t . a v a i l a b l e = a ( " # i d _ s u b m i s s i o n t y p e t e x t a v a i l a b l e " ) , e . t e x t . r e q u i r e d = a ( " # i d _ s u b m i s s i o n t y p e t e x t r e q u i r e d " ) , e . t e x t . r e q u i r e d H i d d e n = a ( ' i n p u t [ n a m e = " s u b m i s s i o n t y p e t e x t r e q u i r e d " ] [ t y p e = " h i d d e n " ] ' ) , e . f i l e . a v a i l a b l e = a ( " # i d _ s u b m i s s i o n t y p e f i l e a v a i l a b l e " ) , e . f i l e . r e q u i r e d = a ( " # i d _ s u b m i s s i o n t y p e f i l e r e q u i r e d " ) , e . f i l e . r e q u i r e d H i d d e n = a ( ' i n p u t [ n a m e = " s u b m i s s i o n t y p e f i l e r e q u i r e d " ] [ t y p e = " h i d d e n " ] ' ) , e . t e x t . a v a i l a b l e . o n ( " c h a n g e " , d ) , e . f i l e . a v a i l a b l e . o n ( " c h a n g e " , d ) , d ( ) } } } ) ; 
 d e f i n e ( ' e n r o l _ m a n u a l / f o r m - p o t e n t i a l - u s e r - s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = 1 0 0 ; r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . i s A r r a y ( c ) ? ( a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . _ l a b e l } ) } ) , d ) : c } , t r a n s p o r t : f u n c t i o n ( f , g , h , i ) { v a r   j , k = a ( f ) . a t t r ( " c o u r s e i d " ) , l = a ( f ) . a t t r ( " u s e r f i e l d s " ) . s p l i t ( " , " ) ; " u n d e f i n e d " = = t y p e o f   k & & ( k = " 1 " ) ; v a r   m = a ( f ) . a t t r ( " e n r o l i d " ) ; " u n d e f i n e d " = = t y p e o f   m & & ( m = " " ) , j = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ e n r o l _ g e t _ p o t e n t i a l _ u s e r s " , a r g s : { c o u r s e i d : k , e n r o l i d : m , s e a r c h : g , s e a r c h a n y w h e r e : ! 0 , p a g e : 0 , p e r p a g e : e + 1 } } ] ) , j [ 0 ] . t h e n ( f u n c t i o n ( b ) { v a r   f = [ ] , g = 0 ; r e t u r n   b . l e n g t h < = e ? ( a . e a c h ( b , f u n c t i o n ( b , d ) { v a r   e = d , g = [ ] ; a . e a c h ( l , f u n c t i o n ( a , b ) { " u n d e f i n e d " ! = t y p e o f   d [ b ] & & " " ! = = d [ b ] & & ( e . h a s i d e n t i t y = ! 0 , g . p u s h ( d [ b ] ) ) } ) , e . i d e n t i t y = g . j o i n ( " ,   " ) , f . p u s h ( c . r e n d e r ( " e n r o l _ m a n u a l / f o r m - u s e r - s e l e c t o r - s u g g e s t i o n " , e ) ) } ) , a . w h e n . a p p l y ( a . w h e n , f ) . t h e n ( f u n c t i o n ( ) { v a r   c = a r g u m e n t s ; a . e a c h ( b , f u n c t i o n ( a , b ) { b . _ l a b e l = c [ g ] , g + + } ) , h ( b ) } ) ) : d . g e t _ s t r i n g ( " t o o m a n y u s e r s t o s h o w " , " c o r e " , " > " + e ) . t h e n ( f u n c t i o n ( a ) { h ( a ) } ) } ) . f a i l ( i ) } } } ) ; 
 d e f i n e ( ' e n r o l _ m a n u a l / q u i c k e n r o l m e n t ' ,   [ " c o r e / t e m p l a t e s " , " j q u e r y " , " c o r e / s t r " , " c o r e / c o n f i g " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / f r a g m e n t " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = { C O H O R T S E L E C T : " # i d _ c o h o r t l i s t " , T R I G G E R B U T T O N S : " . e n r o l u s e r s b u t t o n . e n r o l _ m a n u a l _ p l u g i n   [ t y p e = ' s u b m i t ' ] " , U N W A N T E D H I D D E N F I E L D S : " : i n p u t [ v a l u e = ' _ q f _ _ f o r c e _ m u l t i s e l e c t _ s u b m i s s i o n ' ] " } , j = f u n c t i o n ( a ) { t h i s . c o n t e x t i d = a . c o n t e x t i d , t h i s . i n i t M o d a l ( ) } ; r e t u r n   j . p r o t o t y p e . c o u r s e i d = 0 , j . p r o t o t y p e . m o d a l = n u l l , j . p r o t o t y p e . i n i t M o d a l = f u n c t i o n ( ) { v a r   a = b ( i . T R I G G E R B U T T O N S ) ; b . w h e n ( c . g e t _ s t r i n g s ( [ { k e y : " e n r o l u s e r s c o h o r t s " , c o m p o n e n t : " e n r o l _ m a n u a l " } , { k e y : " e n r o l u s e r s " , c o m p o n e n t : " e n r o l _ m a n u a l " } ] ) , f . c r e a t e ( { t y p e : f . t y p e s . S A V E _ C A N C E L , l a r g e : ! 0 } , a ) ) . t h e n ( f u n c t i o n ( a , c ) { t h i s . m o d a l = c , c . s e t T i t l e ( a [ 1 ] ) , c . s e t S a v e B u t t o n T e x t ( a [ 1 ] ) , c . g e t R o o t ( ) . o n ( g . s a v e , t h i s . s u b m i t F o r m . b i n d ( t h i s ) ) , c . g e t R o o t ( ) . o n ( " s u b m i t " , " f o r m " , t h i s . s u b m i t F o r m A j a x . b i n d ( t h i s ) ) , c . g e t R o o t ( ) . o n ( g . h i d d e n , f u n c t i o n ( ) { c . s e t B o d y ( " " ) } ) , c . g e t R o o t ( ) . o n ( g . s h o w n , f u n c t i o n ( ) { v a r   d = t h i s . g e t B o d y ( ) ; d . t h e n ( f u n c t i o n ( d ) { v a r   e = b ( d ) . f i n d ( i . C O H O R T S E L E C T ) . l e n g t h ? 0 : 1 ; c . s e t S a v e B u t t o n T e x t ( a [ e ] ) } ) . f a i l ( e . e x c e p t i o n ) , c . s e t B o d y ( d ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( e . e x c e p t i o n ) } , j . p r o t o t y p e . s u b m i t F o r m = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) . s u b m i t ( ) } , j . p r o t o t y p e . s u b m i t F o r m A j a x = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) , f = c . f i n d ( i . U N W A N T E D H I D D E N F I E L D S ) ; f . e a c h ( f u n c t i o n ( ) { b ( t h i s ) . r e m o v e ( ) } ) ; v a r   g = c . s e r i a l i z e ( ) ; t h i s . m o d a l . h i d e ( ) ; v a r   h = { t y p e : " G E T " , p r o c e s s D a t a : ! 1 , c o n t e n t T y p e : " a p p l i c a t i o n / j s o n " } , j = d . w w w r o o t + " / e n r o l / m a n u a l / a j a x . p h p ? " + g ; b . a j a x ( j , h ) . t h e n ( f u n c t i o n ( a ) { a . e r r o r ? e . a d d N o t i f i c a t i o n ( { m e s s a g e : a . e r r o r , t y p e : " e r r o r " } ) : ( " u n d e f i n e d " ! = t y p e o f   w i n d o w . M . c o r e _ f o r m c h a n g e c h e c k e r & & w i n d o w . M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) , w i n d o w . l o c a t i o n . r e l o a d ( ) ) } ) . f a i l ( e . e x c e p t i o n ) } , j . p r o t o t y p e . g e t B o d y = f u n c t i o n ( ) { r e t u r n   h . l o a d F r a g m e n t ( " e n r o l _ m a n u a l " , " e n r o l _ u s e r s _ f o r m " , t h i s . c o n t e x t i d , { } ) . f a i l ( e . e x c e p t i o n ) } , j . p r o t o t y p e . g e t F o o t e r = f u n c t i o n ( ) { r e t u r n   a . r e n d e r ( " e n r o l _ m a n u a l / e n r o l _ m o d a l _ f o o t e r " , { } ) } , { i n i t : f u n c t i o n ( a ) { n e w   j ( a ) } } } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { s h o w N o t i f i c a t i o n : " n o t i f i c a t i o n - a r e a - e v e n t s : s h o w N o t i f i c a t i o n " , n o t i f i c a t i o n S h o w n : " n o t i f i c a t i o n - a r e a - e v e n t s : n o t i f i c a t i o n S h o w n " } } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t r o l _ a r e a ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { C O N T A I N E R : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - a r e a " ] ' , C O N T E N T : ' [ d a t a - r e g i o n = " c o n t e n t " ] ' , N O T I F I C A T I O N : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - c o n t e n t - i t e m - c o n t a i n e r " ] ' , C A N _ R E C E I V E _ F O C U S : ' i n p u t : n o t ( [ t y p e = " h i d d e n " ] ) ,   a [ h r e f ] ,   b u t t o n ,   t e x t a r e a ,   s e l e c t ,   [ t a b i n d e x ] ' } , h = { N O T I F I C A T I O N : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ c o n t e n t _ i t e m " } , i = f u n c t i o n ( b , c ) { t h i s . r o o t = a ( b ) , t h i s . c o n t a i n e r = t h i s . r o o t . c l o s e s t ( g . C O N T A I N E R ) , t h i s . u s e r I d = c , t h i s . c o n t e n t = t h i s . r o o t . f i n d ( g . C O N T E N T ) , t h i s . o f f s e t = 0 , t h i s . l i m i t = 2 0 , t h i s . i n i t i a l L o a d = ! 1 , t h i s . i s L o a d i n g = ! 1 , t h i s . l o a d e d A l l = ! 1 , t h i s . n o t i f i c a t i o n s = { } , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   i . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , i . p r o t o t y p e . g e t C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t a i n e r } , i . p r o t o t y p e . g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . u s e r I d } , i . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t } , i . p r o t o t y p e . g e t O f f s e t = f u n c t i o n ( ) { r e t u r n   t h i s . o f f s e t } , i . p r o t o t y p e . g e t L i m i t = f u n c t i o n ( ) { r e t u r n   t h i s . l i m i t } , i . p r o t o t y p e . s e t O f f s e t = f u n c t i o n ( a ) { t h i s . o f f s e t = a } , i . p r o t o t y p e . s e t L i m i t = f u n c t i o n ( a ) { t h i s . l i m i t = a } , i . p r o t o t y p e . i n c r e m e n t O f f s e t = f u n c t i o n ( ) { t h i s . o f f s e t + = t h i s . l i m i t } , i . p r o t o t y p e . s t a r t L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 0 , t h i s . g e t R o o t ( ) . a d d C l a s s ( " l o a d i n g " ) } , i . p r o t o t y p e . s t o p L o a d i n g = f u n c t i o n ( ) { t h i s . i s L o a d i n g = ! 1 , t h i s . g e t R o o t ( ) . r e m o v e C l a s s ( " l o a d i n g " ) } , i . p r o t o t y p e . h a s D o n e I n i t i a l L o a d = f u n c t i o n ( ) { r e t u r n   t h i s . i n i t i a l L o a d } , i . p r o t o t y p e . h a s L o a d e d A l l C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . l o a d e d A l l } , i . p r o t o t y p e . s e t L o a d e d A l l C o n t e n t = f u n c t i o n ( a ) { t h i s . l o a d e d A l l = a } , i . p r o t o t y p e . s e t C a c h e N o t i f i c a t i o n = f u n c t i o n ( a ) { t h i s . n o t i f i c a t i o n s [ a . i d ] = a } , i . p r o t o t y p e . g e t C a c h e N o t i f i c a t i o n = f u n c t i o n ( a ) { r e t u r n   t h i s . n o t i f i c a t i o n s [ a ] } , i . p r o t o t y p e . g e t N o t i f i c a t i o n E l e m e n t = f u n c t i o n ( a ) { v a r   b = t h i s . g e t R o o t ( ) . f i n d ( g . N O T I F I C A T I O N + ' [ d a t a - i d = " ' + a + ' " ] ' ) ; r e t u r n   1 = = b . l e n g t h ? b : n u l l } , i . p r o t o t y p e . s c r o l l N o t i f i c a t i o n I n t o V i e w = f u n c t i o n ( a ) { v a r   b = a . p o s i t i o n ( ) , c = t h i s . g e t R o o t ( ) , d = b . t o p - c . s c r o l l T o p ( ) ; i f ( d > c . i n n e r H e i g h t ( ) ) { v a r   e = a . o u t e r H e i g h t ( ) ; e = 4 * e ; v a r   f = b . t o p - e ; c . s c r o l l T o p ( f ) } } , i . p r o t o t y p e . s h o w N o t i f i c a t i o n = f u n c t i o n ( b ) { i f ( " o b j e c t " ! = t y p e o f   b & & ( b = t h i s . g e t N o t i f i c a t i o n E l e m e n t ( b ) ) , b & & b . l e n g t h ) { t h i s . g e t R o o t ( ) . f i n d ( g . N O T I F I C A T I O N ) . r e m o v e C l a s s ( " s e l e c t e d " ) , b . a d d C l a s s ( " s e l e c t e d " ) . f i n d ( g . C A N _ R E C E I V E _ F O C U S ) . f o c u s ( ) ; v a r   c = b . a t t r ( " d a t a - i d " ) , d = t h i s . g e t C a c h e N o t i f i c a t i o n ( c ) ; t h i s . s c r o l l N o t i f i c a t i o n I n t o V i e w ( b ) , t h i s . g e t C o n t a i n e r ( ) . t r i g g e r ( f . s h o w N o t i f i c a t i o n , [ a . e x t e n d ( { } , d ) ] ) } } , i . p r o t o t y p e . m a r k N o t i f i c a t i o n A s R e a d = f u n c t i o n ( a ) { r e t u r n   e . m a r k A s R e a d ( a . a t t r ( " d a t a - i d " ) ) . d o n e ( f u n c t i o n ( ) { a . r e m o v e C l a s s ( " u n r e a d " ) } ) } , i . p r o t o t y p e . r e n d e r N o t i f i c a t i o n s = f u n c t i o n ( c ) { v a r   d = [ ] , e = t h i s . g e t C o n t e n t ( ) ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , c ) { v a r   e = c . c o n t e x t u r l ; d e l e t e   c . c o n t e x t u r l ; v a r   f = b . r e n d e r ( h . N O T I F I C A T I O N , c ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . c o n t e x t u r l = e , t h i s . s e t C a c h e N o t i f i c a t i o n ( c ) , { h t m l : a , j s : b } } . b i n d ( t h i s ) ) ; d . p u s h ( f ) } . b i n d ( t h i s ) ) , a . w h e n . a p p l y ( a , d ) . t h e n ( f u n c t i o n ( ) { a . e a c h ( a r g u m e n t s , f u n c t i o n ( a , c ) { e . a p p e n d ( c . h t m l ) , b . r u n T e m p l a t e J S ( c . j s ) } ) } ) } , i . p r o t o t y p e . l o a d M o r e N o t i f i c a t i o n s = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g | | t h i s . h a s L o a d e d A l l C o n t e n t ( ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   b = { l i m i t : t h i s . g e t L i m i t ( ) , o f f s e t : t h i s . g e t O f f s e t ( ) , u s e r i d t o : t h i s . g e t U s e r I d ( ) } ; t h i s . i n i t i a l L o a d | | ( b . l i m i t = t h i s . g e t O f f s e t ( ) + t h i s . g e t L i m i t ( ) , b . o f f s e t = 0 ) ; v a r   c = e . q u e r y ( b ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . n o t i f i c a t i o n s ; r e t u r n   t h i s . u n r e a d C o u n t = a . u n r e a d c o u n t , t h i s . s e t L o a d e d A l l C o n t e n t ( ! b . l e n g t h | | b . l e n g t h < t h i s . g e t L i m i t ( ) ) , t h i s . i n i t i a l L o a d = ! 0 , ! ! b . l e n g t h & & ( t h i s . i n c r e m e n t O f f s e t ( ) , t h i s . r e n d e r N o t i f i c a t i o n s ( b ) ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) ; r e t u r n   c } , i . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . d e f i n e ( t h i s . g e t R o o t ( ) , [ d . e v e n t s . a c t i v a t e , d . e v e n t s . s c r o l l B o t t o m , d . e v e n t s . s c r o l l L o c k , d . e v e n t s . u p , d . e v e n t s . d o w n ] ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . s c r o l l B o t t o m , f u n c t i o n ( ) { t h i s . l o a d M o r e N o t i f i c a t i o n s ( ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . a c t i v a t e , g . N O T I F I C A T I O N , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( g . N O T I F I C A T I O N ) ; t h i s . s h o w N o t i f i c a t i o n ( c ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . u p , g . N O T I F I C A T I O N , f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( g . N O T I F I C A T I O N ) ; t h i s . s h o w N o t i f i c a t i o n ( d . p r e v ( ) ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . d o w n , g . N O T I F I C A T I O N , f u n c t i o n ( b , c ) { v a r   d = a ( b . t a r g e t ) . c l o s e s t ( g . N O T I F I C A T I O N ) ; t h i s . s h o w N o t i f i c a t i o n ( d . n e x t ( ) ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . g e t C o n t a i n e r ( ) . o n ( f . n o t i f i c a t i o n S h o w n , f u n c t i o n ( a , b ) { i f ( ! b . r e a d ) { v a r   c = t h i s . g e t N o t i f i c a t i o n E l e m e n t ( b . i d ) ; c & & t h i s . m a r k N o t i f i c a t i o n A s R e a d ( c ) ; v a r   d = t h i s . g e t C a c h e N o t i f i c a t i o n ( b . i d ) ; d & & ( d . r e a d = ! 0 ) } } . b i n d ( t h i s ) ) } , i } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { C O N T A I N E R : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - a r e a " ] ' , C O N T E N T : ' [ d a t a - r e g i o n = " c o n t e n t " ] ' , H E A D E R : ' [ d a t a - r e g i o n = " h e a d e r " ] ' , F O O T E R : ' [ d a t a - r e g i o n = " f o o t e r " ] ' , T O G G L E _ M O D E : ' [ d a t a - a c t i o n = " t o g g l e - m o d e " ] ' } , h = { H E A D E R : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a _ h e a d e r " , C O N T E N T : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a _ c o n t e n t " , F O O T E R : " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ c o n t e n t _ a r e a _ f o o t e r " } , i = f u n c t i o n ( b , c ) { t h i s . r o o t = a ( b ) , t h i s . c o n t a i n e r = t h i s . r o o t . c l o s e s t ( g . C O N T A I N E R ) , t h i s . u s e r I d = c , t h i s . h e a d e r = t h i s . r o o t . f i n d ( g . H E A D E R ) , t h i s . c o n t e n t = t h i s . r o o t . f i n d ( g . C O N T E N T ) , t h i s . f o o t e r = t h i s . r o o t . f i n d ( g . F O O T E R ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   i . p r o t o t y p e . g e t R o o t = f u n c t i o n ( ) { r e t u r n   t h i s . r o o t } , i . p r o t o t y p e . g e t C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t a i n e r } , i . p r o t o t y p e . g e t U s e r I d = f u n c t i o n ( ) { r e t u r n   t h i s . u s e r I d } , i . p r o t o t y p e . g e t H e a d e r = f u n c t i o n ( ) { r e t u r n   t h i s . h e a d e r } , i . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t e n t } , i . p r o t o t y p e . g e t F o o t e r = f u n c t i o n ( ) { r e t u r n   t h i s . f o o t e r } , i . p r o t o t y p e . s h o w = f u n c t i o n ( ) { t h i s . g e t C o n t a i n e r ( ) . a d d C l a s s ( " s h o w - c o n t e n t - a r e a " ) } , i . p r o t o t y p e . h i d e = f u n c t i o n ( ) { t h i s . g e t C o n t a i n e r ( ) . r e m o v e C l a s s ( " s h o w - c o n t e n t - a r e a " ) } , i . p r o t o t y p e . s e t H e a d e r H T M L = f u n c t i o n ( a ) { t h i s . g e t H e a d e r ( ) . e m p t y ( ) . h t m l ( a ) } , i . p r o t o t y p e . s e t C o n t e n t H T M L = f u n c t i o n ( a ) { t h i s . g e t C o n t e n t ( ) . e m p t y ( ) . h t m l ( a ) } , i . p r o t o t y p e . s e t F o o t e r H T M L = f u n c t i o n ( a ) { t h i s . g e t F o o t e r ( ) . e m p t y ( ) . h t m l ( a ) } , i . p r o t o t y p e . s h o w N o t i f i c a t i o n = f u n c t i o n ( c ) { v a r   d = b . r e n d e r ( h . H E A D E R , c ) . d o n e ( f u n c t i o n ( a ) { t h i s . s e t H e a d e r H T M L ( a ) } . b i n d ( t h i s ) ) , e = b . r e n d e r ( h . C O N T E N T , c ) . d o n e ( f u n c t i o n ( a ) { t h i s . s e t C o n t e n t H T M L ( a ) } . b i n d ( t h i s ) ) , g = b . r e n d e r ( h . F O O T E R , c ) . d o n e ( f u n c t i o n ( a ) { t h i s . s e t F o o t e r H T M L ( a ) } . b i n d ( t h i s ) ) ; r e t u r n   a . w h e n ( d , e , g ) . d o n e ( f u n c t i o n ( ) { t h i s . s h o w ( ) , t h i s . g e t C o n t a i n e r ( ) . t r i g g e r ( f . n o t i f i c a t i o n S h o w n , [ c ] ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . d e f i n e ( t h i s . g e t R o o t ( ) , [ d . e v e n t s . a c t i v a t e ] ) , t h i s . g e t R o o t ( ) . o n ( d . e v e n t s . a c t i v a t e , g . V I E W _ T O G G L E , f u n c t i o n ( ) { t h i s . h i d e ( ) } . b i n d ( t h i s ) ) , t h i s . g e t C o n t a i n e r ( ) . o n ( f . s h o w N o t i f i c a t i o n , f u n c t i o n ( a , b ) { t h i s . s h o w N o t i f i c a t i o n ( b ) } . b i n d ( t h i s ) ) } , i } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( c ) { " u n d e f i n e d " = = t y p e o f   c . l i m i t & & ( c . l i m i t = 2 0 ) , " u n d e f i n e d " = = t y p e o f   c . o f f s e t & & ( c . o f f s e t = 0 ) ; v a r   d = { m e t h o d n a m e : " m e s s a g e _ p o p u p _ g e t _ p o p u p _ n o t i f i c a t i o n s " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , d = f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " m e s s a g e _ p o p u p _ g e t _ u n r e a d _ p o p u p _ n o t i f i c a t i o n _ c o u n t " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , e = f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ a l l _ n o t i f i c a t i o n s _ a s _ r e a d " , a r g s : c } , e = a . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( b . e x c e p t i o n ) , e } , f = f u n c t i o n ( c , d ) { v a r   e = { n o t i f i c a t i o n i d : c } ; d & & ( e . t i m e r e a d = d ) ; v a r   f = { m e t h o d n a m e : " c o r e _ m e s s a g e _ m a r k _ n o t i f i c a t i o n _ r e a d " , a r g s : e } , g = a . c a l l ( [ f ] ) [ 0 ] ; r e t u r n   g . f a i l ( b . e x c e p t i o n ) , g } ; r e t u r n { q u e r y : c , c o u n t U n r e a d : d , m a r k A l l A s R e a d : e , m a r k A s R e a d : f } } ) ; 
 d e f i n e ( ' m e s s a g e _ p o p u p / n o t i f i c a t i o n _ p o p o v e r _ c o n t r o l l e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / u r l " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / p o p o v e r _ r e g i o n _ c o n t r o l l e r " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ r e p o s i t o r y " , " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ a r e a _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { M A R K _ A L L _ R E A D _ B U T T O N : ' [ d a t a - a c t i o n = " m a r k - a l l - r e a d " ] ' , A L L _ N O T I F I C A T I O N S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " a l l - n o t i f i c a t i o n s " ] ' , N O T I F I C A T I O N : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - c o n t e n t - i t e m - c o n t a i n e r " ] ' , U N R E A D _ N O T I F I C A T I O N : ' [ d a t a - r e g i o n = " n o t i f i c a t i o n - c o n t e n t - i t e m - c o n t a i n e r " ] . u n r e a d ' , N O T I F I C A T I O N _ L I N K : ' [ d a t a - a c t i o n = " c o n t e n t - i t e m - l i n k " ] ' , E M P T Y _ M E S S A G E : ' [ d a t a - r e g i o n = " e m p t y - m e s s a g e " ] ' , C O U N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o u n t - c o n t a i n e r " ] ' } , l = f u n c t i o n ( a ) { h . c a l l ( t h i s , a ) , t h i s . m a r k A l l R e a d B u t t o n = t h i s . r o o t . f i n d ( k . M A R K _ A L L _ R E A D _ B U T T O N ) , t h i s . u n r e a d C o u n t = 0 , t h i s . u s e r I d = t h i s . r o o t . a t t r ( " d a t a - u s e r i d " ) , t h i s . c o n t a i n e r = t h i s . r o o t . f i n d ( k . A L L _ N O T I F I C A T I O N S _ C O N T A I N E R ) , t h i s . l i m i t = 2 0 , t h i s . o f f s e t = 0 , t h i s . l o a d e d A l l = ! 1 , t h i s . i n i t i a l L o a d = ! 1 , t h i s . u n r e a d C o u n t = t h i s . r o o t . f i n d ( k . C O U N T _ C O N T A I N E R ) . h t m l ( ) } ; r e t u r n   l . p r o t o t y p e = O b j e c t . c r e a t e ( h . p r o t o t y p e ) , l . p r o t o t y p e . c o n s t r u c t o r = l , l . p r o t o t y p e . u p d a t e B u t t o n A r i a L a b e l = f u n c t i o n ( ) { t h i s . i s M e n u O p e n ( ) ? d . g e t _ s t r i n g ( " h i d e n o t i f i c a t i o n w i n d o w " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : t h i s . u n r e a d C o u n t ? d . g e t _ s t r i n g ( " s h o w n o t i f i c a t i o n w i n d o w w i t h c o u n t " , " m e s s a g e " , t h i s . u n r e a d C o u n t ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) : d . g e t _ s t r i n g ( " s h o w n o t i f i c a t i o n w i n d o w n o n e w " , " m e s s a g e " ) . d o n e ( f u n c t i o n ( a ) { t h i s . m e n u T o g g l e . a t t r ( " a r i a - l a b e l " , a ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . c o n t a i n e r } , l . p r o t o t y p e . g e t O f f s e t = f u n c t i o n ( ) { r e t u r n   t h i s . o f f s e t } , l . p r o t o t y p e . i n c r e m e n t O f f s e t = f u n c t i o n ( ) { t h i s . o f f s e t + = t h i s . l i m i t } , l . p r o t o t y p e . h a s D o n e I n i t i a l L o a d = f u n c t i o n ( ) { r e t u r n   t h i s . i n i t i a l L o a d } , l . p r o t o t y p e . h a s L o a d e d A l l C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . l o a d e d A l l } , l . p r o t o t y p e . s e t L o a d e d A l l C o n t e n t = f u n c t i o n ( a ) { t h i s . l o a d e d A l l = a } , l . p r o t o t y p e . r e n d e r U n r e a d C o u n t = f u n c t i o n ( ) { v a r   a = t h i s . r o o t . f i n d ( k . C O U N T _ C O N T A I N E R ) ; t h i s . u n r e a d C o u n t ? ( a . t e x t ( t h i s . u n r e a d C o u n t ) , a . r e m o v e C l a s s ( " h i d d e n " ) ) : a . a d d C l a s s ( " h i d d e n " ) } , l . p r o t o t y p e . h i d e U n r e a d C o u n t = f u n c t i o n ( ) { t h i s . r o o t . f i n d ( k . C O U N T _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , l . p r o t o t y p e . g e t N o t i f i c a t i o n E l e m e n t = f u n c t i o n ( a ) { v a r   b = t h i s . r o o t . f i n d ( k . N O T I F I C A T I O N + ' [ d a t a - i d = " ' + a + ' " ] ' ) ; r e t u r n   1 = = b . l e n g t h ? b : n u l l } , l . p r o t o t y p e . r e n d e r N o t i f i c a t i o n s = f u n c t i o n ( b , d ) { v a r   f = [ ] ; r e t u r n   a . e a c h ( b , f u n c t i o n ( a , b ) { v a r   d = t h i s . g e t O f f s e t ( ) - t h i s . l i m i t ; b . v i e w m o r e u r l = e . r e l a t i v e U r l ( " / m e s s a g e / o u t p u t / p o p u p / n o t i f i c a t i o n s . p h p " , { n o t i f i c a t i o n i d : b . i d , o f f s e t : d } ) ; v a r   g = { n o t i f i c a t i o n i d : b . i d } ; b . c o n t e x t u r l & & ( g . r e d i r e c t u r l = e n c o d e U R I C o m p o n e n t ( b . c o n t e x t u r l ) ) , b . c o n t e x t u r l = e . r e l a t i v e U r l ( " m e s s a g e / o u t p u t / p o p u p / m a r k _ n o t i f i c a t i o n _ r e a d . p h p " , g ) ; v a r   h = c . r e n d e r ( " m e s s a g e _ p o p u p / n o t i f i c a t i o n _ c o n t e n t _ i t e m " , b ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n { h t m l : a , j s : b } } ) ; f . p u s h ( h ) } . b i n d ( t h i s ) ) , a . w h e n . a p p l y ( a , f ) . t h e n ( f u n c t i o n ( ) { a . e a c h ( a r g u m e n t s , f u n c t i o n ( a , b ) { d . a p p e n d ( b . h t m l ) , c . r u n T e m p l a t e J S ( b . j s ) } ) } ) } , l . p r o t o t y p e . l o a d M o r e N o t i f i c a t i o n s = f u n c t i o n ( ) { i f ( t h i s . i s L o a d i n g | | t h i s . h a s L o a d e d A l l C o n t e n t ( ) ) r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( ) ; t h i s . s t a r t L o a d i n g ( ) ; v a r   b = { l i m i t : t h i s . l i m i t , o f f s e t : t h i s . g e t O f f s e t ( ) , u s e r i d t o : t h i s . u s e r I d } , c = t h i s . g e t C o n t e n t ( ) ; r e t u r n   i . q u e r y ( b ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a . n o t i f i c a t i o n s ; r e t u r n   t h i s . u n r e a d C o u n t = a . u n r e a d c o u n t , t h i s . s e t L o a d e d A l l C o n t e n t ( ! b . l e n g t h | | b . l e n g t h < t h i s . l i m i t ) , t h i s . i n i t i a l L o a d = ! 0 , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , ! ! b . l e n g t h & & ( t h i s . i n c r e m e n t O f f s e t ( ) , t h i s . r e n d e r N o t i f i c a t i o n s ( b , c ) ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . s t o p L o a d i n g ( ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . m a r k A l l A s R e a d = f u n c t i o n ( ) { r e t u r n   t h i s . m a r k A l l R e a d B u t t o n . a d d C l a s s ( " l o a d i n g " ) , i . m a r k A l l A s R e a d ( { u s e r i d t o : t h i s . u s e r I d } ) . t h e n ( f u n c t i o n ( ) { t h i s . u n r e a d C o u n t = 0 , t h i s . r o o t . f i n d ( k . U N R E A D _ N O T I F I C A T I O N ) . r e m o v e C l a s s ( " u n r e a d " ) } . b i n d ( t h i s ) ) . a l w a y s ( f u n c t i o n ( ) { t h i s . m a r k A l l R e a d B u t t o n . r e m o v e C l a s s ( " l o a d i n g " ) } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { g . d e f i n e ( t h i s . r o o t , [ g . e v e n t s . a c t i v a t e ] ) , t h i s . r o o t . o n ( g . e v e n t s . a c t i v a t e , k . M A R K _ A L L _ R E A D _ B U T T O N , f u n c t i o n ( a , b ) { t h i s . m a r k A l l A s R e a d ( ) , a . s t o p P r o p a g a t i o n ( ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( g . e v e n t s . a c t i v a t e , k . N O T I F I C A T I O N _ L I N K , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( k . N O T I F I C A T I O N ) ; c . h a s C l a s s ( " u n r e a d " ) & & ( t h i s . u n r e a d C o u n t - - , c . r e m o v e C l a s s ( " u n r e a d " ) ) , b . s t o p P r o p a g a t i o n ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . m e n u O p e n e d , f u n c t i o n ( ) { t h i s . h i d e U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) , t h i s . h a s D o n e I n i t i a l L o a d ( ) | | t h i s . l o a d M o r e N o t i f i c a t i o n s ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . m e n u C l o s e d , f u n c t i o n ( ) { t h i s . r e n d e r U n r e a d C o u n t ( ) , t h i s . u p d a t e B u t t o n A r i a L a b e l ( ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . s t a r t L o a d i n g , f u n c t i o n ( ) { t h i s . g e t C o n t e n t ( ) . a t t r ( " a r i a - b u s y " , " t r u e " ) } . b i n d ( t h i s ) ) , t h i s . r o o t . o n ( t h i s . e v e n t s ( ) . s t o p L o a d i n g , f u n c t i o n ( ) { t h i s . g e t C o n t e n t ( ) . a t t r ( " a r i a - b u s y " , " f a l s e " ) } . b i n d ( t h i s ) ) , t h i s . g e t C o n t e n t C o n t a i n e r ( ) . o n ( g . e v e n t s . s c r o l l B o t t o m , f u n c t i o n ( ) { t h i s . i s L o a d i n g | | t h i s . h a s L o a d e d A l l C o n t e n t ( ) | | t h i s . l o a d M o r e N o t i f i c a t i o n s ( ) } . b i n d ( t h i s ) ) , g . d e f i n e ( t h i s . g e t C o n t e n t C o n t a i n e r ( ) , [ g . e v e n t s . s c r o l l L o c k ] ) , a ( d o c u m e n t ) . o n ( j . n o t i f i c a t i o n S h o w n , f u n c t i o n ( a , b ) { i f ( ! b . r e a d ) { v a r   c = t h i s . g e t N o t i f i c a t i o n E l e m e n t ( b . i d ) ; c & & c . r e m o v e C l a s s ( " u n r e a d " ) , t h i s . u n r e a d C o u n t - - , t h i s . r e n d e r U n r e a d C o u n t ( ) } } . b i n d ( t h i s ) ) } , l } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / m a i n ' ,   [ " j q u e r y " , " b l o c k _ m y o v e r v i e w / v i e w " , " b l o c k _ m y o v e r v i e w / v i e w _ n a v " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( d ) { d = a ( d ) , c . i n i t ( d ) , b . i n i t ( d ) } ; r e t u r n { i n i t : d } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / v i e w _ n a v ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " b l o c k _ m y o v e r v i e w / r e p o s i t o r y " , " b l o c k _ m y o v e r v i e w / v i e w " , " b l o c k _ m y o v e r v i e w / s e l e c t o r s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { F I L T E R S : ' [ d a t a - r e g i o n = " f i l t e r " ] ' , F I L T E R _ O P T I O N : " [ d a t a - f i l t e r ] " , D I S P L A Y _ O P T I O N : " [ d a t a - d i s p l a y - o p t i o n ] " } , g = f u n c t i o n ( a , b ) { v a r   d = n u l l ; d = " d i s p l a y " = = a ? " b l o c k _ m y o v e r v i e w _ u s e r _ v i e w _ p r e f e r e n c e " : " s o r t " = = a ? " b l o c k _ m y o v e r v i e w _ u s e r _ s o r t _ p r e f e r e n c e " : " b l o c k _ m y o v e r v i e w _ u s e r _ g r o u p i n g _ p r e f e r e n c e " , c . u p d a t e U s e r P r e f e r e n c e s ( { p r e f e r e n c e s : [ { t y p e : d , v a l u e : b } ] } ) } , h = f u n c t i o n ( c ) { v a r   h = c . f i n d ( f . F I L T E R S ) ; b . d e f i n e ( h , [ b . e v e n t s . a c t i v a t e ] ) , h . o n ( b . e v e n t s . a c t i v a t e , f . F I L T E R _ O P T I O N , f u n c t i o n ( b , f ) { v a r   h = a ( b . t a r g e t ) ; i f ( ! h . h a s C l a s s ( " a c t i v e " ) ) { v a r   i = h . a t t r ( " d a t a - f i l t e r " ) , j = h . a t t r ( " d a t a - p r e f " ) ; c . f i n d ( e . c o u r s e V i e w . r e g i o n ) . a t t r ( " d a t a - " + i , h . a t t r ( " d a t a - v a l u e " ) ) , g ( i , j ) , d . i n i t ( c ) , f . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } } ) , b . d e f i n e ( h , [ b . e v e n t s . a c t i v a t e ] ) , h . o n ( b . e v e n t s . a c t i v a t e , f . D I S P L A Y _ O P T I O N , f u n c t i o n ( b , f ) { v a r   h = a ( b . t a r g e t ) ; i f ( ! h . h a s C l a s s ( " a c t i v e " ) ) { v a r   i = h . a t t r ( " d a t a - d i s p l a y - o p t i o n " ) , j = h . a t t r ( " d a t a - p r e f " ) ; c . f i n d ( e . c o u r s e V i e w . r e g i o n ) . a t t r ( " d a t a - d i s p l a y " , h . a t t r ( " d a t a - v a l u e " ) ) , g ( i , j ) , d . r e s e t ( c ) , f . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } } ) } , i = f u n c t i o n ( b ) { b = a ( b ) , h ( b ) } ; r e t u r n { i n i t : i } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / s e l e c t o r s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { c o u r s e V i e w : { r e g i o n : ' [ d a t a - r e g i o n = " c o u r s e s - v i e w " ] ' , r e g i o n C o n t e n t : ' [ d a t a - r e g i o n = " c o u r s e - v i e w - c o n t e n t " ] ' } } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / v i e w ' ,   [ " j q u e r y " , " b l o c k _ m y o v e r v i e w / r e p o s i t o r y " , " c o r e / p a g e d _ c o n t e n t _ f a c t o r y " , " c o r e / p u b s u b " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e _ c o u r s e / e v e n t s " , " b l o c k _ m y o v e r v i e w / s e l e c t o r s " , " c o r e / p a g e d _ c o n t e n t _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { C O U R S E _ R E G I O N : ' [ d a t a - r e g i o n = " c o u r s e - v i e w - c o n t e n t " ] ' , A C T I O N _ H I D E _ C O U R S E : ' [ d a t a - a c t i o n = " h i d e - c o u r s e " ] ' , A C T I O N _ S H O W _ C O U R S E : ' [ d a t a - a c t i o n = " s h o w - c o u r s e " ] ' , A C T I O N _ A D D _ F A V O U R I T E : ' [ d a t a - a c t i o n = " a d d - f a v o u r i t e " ] ' , A C T I O N _ R E M O V E _ F A V O U R I T E : ' [ d a t a - a c t i o n = " r e m o v e - f a v o u r i t e " ] ' , F A V O U R I T E _ I C O N : ' [ d a t a - r e g i o n = " f a v o u r i t e - i c o n " ] ' , I C O N _ I S _ F A V O U R I T E : ' [ d a t a - r e g i o n = " i s - f a v o u r i t e " ] ' , I C O N _ N O T _ F A V O U R I T E : ' [ d a t a - r e g i o n = " n o t - f a v o u r i t e " ] ' , P A G E D _ C O N T E N T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " p a g e - c o n t a i n e r " ] ' } , l = { C O U R S E S _ C A R D S : " b l o c k _ m y o v e r v i e w / v i e w - c a r d s " , C O U R S E S _ L I S T : " b l o c k _ m y o v e r v i e w / v i e w - l i s t " , C O U R S E S _ S U M M A R Y : " b l o c k _ m y o v e r v i e w / v i e w - s u m m a r y " , N O C O U R S E S : " b l o c k _ m y o v e r v i e w / n o - c o u r s e s " } , m = [ 1 2 , 2 4 , 4 8 ] , n = [ ] , o = 0 , p = 0 , q = 0 , r = n u l l , s = f u n c t i o n ( a ) { v a r   b = a . f i n d ( i . c o u r s e V i e w . r e g i o n ) ; r e t u r n { d i s p l a y : b . a t t r ( " d a t a - d i s p l a y " ) , g r o u p i n g : b . a t t r ( " d a t a - g r o u p i n g " ) , s o r t : b . a t t r ( " d a t a - s o r t " ) } } , t = { i g n o r e C o n t r o l W h i l e L o a d i n g : ! 0 , c o n t r o l P l a c e m e n t B o t t o m : ! 0 , p e r s i s t e n t L i m i t K e y : " b l o c k _ m y o v e r v i e w _ u s e r _ p a g i n g _ p r e f e r e n c e " } , u = f u n c t i o n ( a , c ) { r e t u r n   b . g e t E n r o l l e d C o u r s e s B y T i m e l i n e ( { o f f s e t : o , l i m i t : c , c l a s s i f i c a t i o n : a . g r o u p i n g , s o r t : a . s o r t } ) } , v = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( k . F A V O U R I T E _ I C O N + ' [ d a t a - c o u r s e - i d = " ' + b + ' " ] ' ) } , w = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - r e g i o n = " p a g e d - c o n t e n t - p a g e " ] [ d a t a - p a g e = " ' + b + ' " ] ' ) } , x = f u n c t i o n ( a ) { r e t u r n   a . a t t r ( " d a t a - c o u r s e - i d " ) } , y = f u n c t i o n ( a , b ) { v a r   c = v ( a , b ) , d = c . f i n d ( k . I C O N _ I S _ F A V O U R I T E ) ; d . a d d C l a s s ( " h i d d e n " ) , d . a t t r ( " a r i a - h i d d e n " , ! 0 ) ; v a r   e = c . f i n d ( k . I C O N _ N O T _ F A V O U R I T E ) ; e . r e m o v e C l a s s ( " h i d d e n " ) , e . a t t r ( " a r i a - h i d d e n " , ! 1 ) } , z = f u n c t i o n ( a , b ) { v a r   c = v ( a , b ) , d = c . f i n d ( k . I C O N _ I S _ F A V O U R I T E ) ; d . r e m o v e C l a s s ( " h i d d e n " ) , d . a t t r ( " a r i a - h i d d e n " , ! 1 ) ; v a r   e = c . f i n d ( k . I C O N _ N O T _ F A V O U R I T E ) ; e . a d d C l a s s ( " h i d d e n " ) , e . a t t r ( " a r i a - h i d d e n " , ! 0 ) } , A = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - a c t i o n = " a d d - f a v o u r i t e " ] [ d a t a - c o u r s e - i d = " ' + b + ' " ] ' ) } , B = f u n c t i o n ( a , b ) { r e t u r n   a . f i n d ( ' [ d a t a - a c t i o n = " r e m o v e - f a v o u r i t e " ] [ d a t a - c o u r s e - i d = " ' + b + ' " ] ' ) } , C = f u n c t i o n ( a , b ) { v a r   c = B ( a , b ) , e = A ( a , b ) ; F ( b , ! 0 ) . t h e n ( f u n c t i o n ( g ) { g ? ( d . p u b l i s h ( h . f a v o u r i t e d ) , c . r e m o v e C l a s s ( " h i d d e n " ) , e . a d d C l a s s ( " h i d d e n " ) , z ( a , b ) ) : f . a l e r t ( " S t a r r i n g   c o u r s e   f a i l e d " , " C o u l d   n o t   c h a n g e   f a v o u r i t e   s t a t e " ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , D = f u n c t i o n ( a , b ) { v a r   c = B ( a , b ) , e = A ( a , b ) ; F ( b , ! 1 ) . t h e n ( f u n c t i o n ( g ) { g ? ( d . p u b l i s h ( h . u n f a v o r i t e d ) , c . a d d C l a s s ( " h i d d e n " ) , e . r e m o v e C l a s s ( " h i d d e n " ) , y ( a , b ) ) : f . a l e r t ( " S t a r r i n g   c o u r s e   f a i l e d " , " C o u l d   n o t   c h a n g e   f a v o u r i t e   s t a t e " ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , E = f u n c t i o n ( b , d ) { v a r   e = x ( d ) , h = b . f i n d ( ' [ d a t a - r e g i o n = " p a g i n g - b a r " ] ' ) , i = p a r s e I n t ( h . a t t r ( " d a t a - a c t i v e - p a g e - n u m b e r " ) ) , j = n [ i ] , k = j . c o u r s e s . r e d u c e ( f u n c t i o n ( a , b ) { r e t u r n   e ! = b . i d & & a . p u s h ( b ) , a } , [ ] ) ; i f ( v o i d   0 ! = n [ i + 1 ] ) { v a r   l = n [ i + 1 ] . c o u r s e s . s l i c e ( 0 , 1 ) ; n . f o r E a c h ( f u n c t i o n ( b , c ) { i f ( c > i ) { v a r   d = [ ] ; v o i d   0 ! = n [ c + 1 ] & & ( d = n [ c + 1 ] . c o u r s e s . s l i c e ( 0 , 1 ) ) , n [ c ] . c o u r s e s = a . m e r g e ( n [ c ] . c o u r s e s . s l i c e ( 1 ) , d ) } } ) , k = a . m e r g e ( k , l ) } i f ( p = = i + 1 & & 0 = = n [ i + 1 ] . c o u r s e s . l e n g t h ) { v a r   m = b . f i n d ( ' [ d a t a - r e g i o n = " p a g e d - c o n t e n t - c o n t a i n e r " ] ' ) ; c . r e s e t L a s t P a g e N u m b e r ( a ( m ) . a t t r ( " i d " ) , i ) } n [ i ] . c o u r s e s = k , o - - ; v a r   q = w ( b , i ) ; G ( b , n [ i ] ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   g . r e p l a c e N o d e C o n t e n t s ( q , a , b ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) , n . f o r E a c h ( f u n c t i o n ( a , c ) { i f ( c > i ) { v a r   d = w ( b , c ) ; d . r e m o v e ( ) } } ) } , F = f u n c t i o n ( a , c ) { r e t u r n   b . s e t F a v o u r i t e C o u r s e s ( { c o u r s e s : [ { i d : a , f a v o u r i t e : c } ] } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   0 = = b . w a r n i n g s . l e n g t h & & ( n . f o r E a c h ( f u n c t i o n ( b ) { b . c o u r s e s . f o r E a c h ( f u n c t i o n ( d , e ) { d . i d = = a & & ( b . c o u r s e s [ e ] . i s f a v o u r i t e = c ) } ) } ) , ! 0 ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , G = f u n c t i o n ( a , b ) { v a r   c = s ( a ) , d = " " ; i f ( d = " c a r d s " = = c . d i s p l a y ? l . C O U R S E S _ C A R D S : " l i s t " = = c . d i s p l a y ? l . C O U R S E S _ L I S T : l . C O U R S E S _ S U M M A R Y , b . c o u r s e s . l e n g t h ) r e t u r n   g . r e n d e r ( d , { c o u r s e s : b . c o u r s e s } ) ; v a r   e = a . f i n d ( i . c o u r s e V i e w . r e g i o n ) . a t t r ( " d a t a - n o c o u r s e s i m g " ) ; r e t u r n   g . r e n d e r ( l . N O C O U R S E S , { n o c o u r s e s i m g : e } ) } , H = f u n c t i o n ( a ) { t h i s . f i n d ( i . c o u r s e V i e w . r e g i o n ) . a t t r ( " d a t a - p a g i n g " , a ) } , I = f u n c t i o n ( a , b ) { v a r   c = b + j . S E T _ I T E M S _ P E R _ P A G E _ L I M I T ; d . s u b s c r i b e ( c , H . b i n d ( a ) ) } , J = f u n c t i o n ( b ) { r = " b l o c k _ m y o v e r v i e w _ " + b . a t t r ( " i d " ) + " _ " + M a t h . r a n d o m ( ) ; v a r   d = m , e = p a r s e I n t ( b . f i n d ( i . c o u r s e V i e w . r e g i o n ) . a t t r ( " d a t a - p a g i n g " ) , 1 0 ) ; e & & ( d = m . m a p ( f u n c t i o n ( a ) { v a r   b = ! 1 ; r e t u r n   a = = e & & ( b = ! 0 ) , { v a l u e : a , a c t i v e : b } } ) ) ; v a r   h = s ( b ) , j = a . e x t e n d ( { } , t ) ; j . e v e n t N a m e s p a c e = r ; v a r   k = c . c r e a t e W i t h L i m i t ( d , f u n c t i o n ( c , d ) { v a r   e = [ ] ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( c ) { v a r   g = c . p a g e N u m b e r , i = c . l i m i t ; i f ( q ! = i & & ( n = [ ] , o = 0 , p = 0 ) , p = = g ) r e t u r n   d . a l l I t e m s L o a d e d ( p ) , v o i d   e . p u s h ( G ( b , n [ g ] ) ) ; q = i , v o i d   0 = = n [ g + 1 ] & & v o i d   0 = = n [ g ] & & ( i * = 2 ) ; v a r   j = u ( h , i ) . t h e n ( f u n c t i o n ( e ) { v a r   f = e . c o u r s e s , h = 0 , i = [ ] ; i f ( v o i d   0 ! = n [ g ] ) { i = n [ g ] . c o u r s e s ; v a r   j = i . l e n g t h ; j < c . l i m i t & & ( h = c . l i m i t - j , i = a . m e r g e ( n [ g ] . c o u r s e s , f . s l i c e ( 0 , h ) ) ) } e l s e   h = c . l i m i t , i = f . s l i c e ( 0 , c . l i m i t ) ; n [ g ] = { c o u r s e s : i } ; v a r   k = f . s l i c e ( h , f . l e n g t h ) ; r e t u r n   k . l e n g t h & & ( n [ g + 1 ] = { c o u r s e s : k } ) , n [ g ] . c o u r s e s . l e n g t h < c . l i m i t ? ( p = g , d . a l l I t e m s L o a d e d ( g ) ) : v o i d   0 ! = n [ g + 1 ] & & n [ g + 1 ] . c o u r s e s . l e n g t h < c . l i m i t & & ( p = g + 1 ) , o = e . n e x t o f f s e t , G ( b , n [ g ] ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) ; e . p u s h ( j ) } ) , e } , j ) ; k . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   I ( b , r ) , g . r e p l a c e N o d e C o n t e n t s ( b . f i n d ( i . c o u r s e V i e w . r e g i o n ) , a , c ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , K = f u n c t i o n ( c ) { e . d e f i n e ( c , [ e . e v e n t s . a c t i v a t e ] ) , c . o n ( e . e v e n t s . a c t i v a t e , k . A C T I O N _ A D D _ F A V O U R I T E , f u n c t i o n ( b , d ) { v a r   e = a ( b . t a r g e t ) . c l o s e s t ( k . A C T I O N _ A D D _ F A V O U R I T E ) , f = x ( e ) ; C ( c , f ) , d . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , c . o n ( e . e v e n t s . a c t i v a t e , k . A C T I O N _ R E M O V E _ F A V O U R I T E , f u n c t i o n ( b , d ) { v a r   e = a ( b . t a r g e t ) . c l o s e s t ( k . A C T I O N _ R E M O V E _ F A V O U R I T E ) , f = x ( e ) ; D ( c , f ) , d . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , c . o n ( e . e v e n t s . a c t i v a t e , k . F A V O U R I T E _ I C O N , f u n c t i o n ( a , b ) { b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , c . o n ( e . e v e n t s . a c t i v a t e , k . A C T I O N _ H I D E _ C O U R S E , f u n c t i o n ( d , e ) { v a r   f = a ( d . t a r g e t ) . c l o s e s t ( k . A C T I O N _ H I D E _ C O U R S E ) , g = x ( f ) , h = { p r e f e r e n c e s : [ { t y p e : " b l o c k _ m y o v e r v i e w _ h i d d e n _ c o u r s e _ " + g , v a l u e : ! 0 } ] } ; b . u p d a t e U s e r P r e f e r e n c e s ( h ) , E ( c , f ) , e . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) , c . o n ( e . e v e n t s . a c t i v a t e , k . A C T I O N _ S H O W _ C O U R S E , f u n c t i o n ( d , e ) { v a r   f = a ( d . t a r g e t ) . c l o s e s t ( k . A C T I O N _ S H O W _ C O U R S E ) , g = x ( f ) , h = { p r e f e r e n c e s : [ { t y p e : " b l o c k _ m y o v e r v i e w _ h i d d e n _ c o u r s e _ " + g , v a l u e : n u l l } ] } ; b . u p d a t e U s e r P r e f e r e n c e s ( h ) , E ( c , f ) , e . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } ) } , L = f u n c t i o n ( b ) { b = a ( b ) , n = [ ] , p = 0 , o = 0 , J ( b ) , b . a t t r ( " d a t a - i n i t " ) | | ( K ( b ) , b . a t t r ( " d a t a - i n i t " , ! 0 ) ) } , M = f u n c t i o n ( a ) { n . l e n g t h > 0 ? n . f o r E a c h ( f u n c t i o n ( b , c ) { v a r   d = w ( a , c ) ; G ( a , b ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   g . r e p l a c e N o d e C o n t e n t s ( d , a , b ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } ) : L ( a ) } ; r e t u r n { i n i t : L , r e s e t : M } } ) ; 
 d e f i n e ( ' b l o c k _ m y o v e r v i e w / r e p o s i t o r y ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b ) { v a r   c = f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " c o r e _ c o u r s e _ g e t _ e n r o l l e d _ c o u r s e s _ b y _ t i m e l i n e _ c l a s s i f i c a t i o n " , a r g s : b } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } , d = f u n c t i o n ( b ) { v a r   c = { m e t h o d n a m e : " c o r e _ c o u r s e _ s e t _ f a v o u r i t e _ c o u r s e s " , a r g s : b } , d = a . c a l l ( [ c ] ) [ 0 ] ; r e t u r n   d } , e = f u n c t i o n ( c ) { v a r   d = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : c } ; a . c a l l ( [ d ] ) [ 0 ] . f a i l ( b . e x c e p t i o n ) } ; r e t u r n { g e t E n r o l l e d C o u r s e s B y T i m e l i n e : c , s e t F a v o u r i t e C o u r s e s : d , u p d a t e U s e r P r e f e r e n c e s : e } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / n a v _ l o a d e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / c o n f i g " , " b l o c k _ n a v i g a t i o n / a j a x _ r e s p o n s e _ r e n d e r e r " ] , f u n c t i o n ( a , b , c , d ) { f u n c t i o n   e ( a ) { r e t u r n   a . c l o s e s t ( " [ d a t a - b l o c k ] " ) . a t t r ( " d a t a - i n s t a n c e i d " ) } v a r   f = c . w w w r o o t + " / l i b / a j a x / g e t n a v b r a n c h . p h p " ; r e t u r n { l o a d : f u n c t i o n ( b ) { b = a ( b ) ; v a r   g = a . D e f e r r e d ( ) , h = { e l e m e n t i d : b . a t t r ( " d a t a - n o d e - i d " ) , i d : b . a t t r ( " d a t a - n o d e - k e y " ) , t y p e : b . a t t r ( " d a t a - n o d e - t y p e " ) , s e s s k e y : c . s e s s k e y , i n s t a n c e : e ( b ) } , i = { t y p e : " P O S T " , d a t a T y p e : " j s o n " , d a t a : h } ; r e t u r n   a . a j a x ( f , i ) . d o n e ( f u n c t i o n ( a ) { d . r e n d e r ( b , a ) , g . r e s o l v e ( ) } ) , g } } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / s i t e _ a d m i n _ l o a d e r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / c o n f i g " , " b l o c k _ n a v i g a t i o n / a j a x _ r e s p o n s e _ r e n d e r e r " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = 7 1 , f = c . w w w r o o t + " / l i b / a j a x / g e t s i t e a d m i n b r a n c h . p h p " ; r e t u r n { l o a d : f u n c t i o n ( b ) { b = a ( b ) ; v a r   g = a . D e f e r r e d ( ) , h = { t y p e : e , s e s s k e y : c . s e s s k e y } , i = { t y p e : " P O S T " , d a t a T y p e : " j s o n " , d a t a : h } ; r e t u r n   a . a j a x ( f , i ) . d o n e ( f u n c t i o n ( a ) { d . r e n d e r ( b , a ) , g . r e s o l v e ( ) } ) , g } } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / n a v b l o c k ' ,   [ " j q u e r y " , " c o r e / t r e e " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( a ) { v a r   c = n e w   b ( " . b l o c k _ n a v i g a t i o n   . b l o c k _ t r e e " ) ; c . f i n i s h E x p a n d i n g G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . f i n i s h E x p a n d i n g G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } , c . c o l l a p s e G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . c o l l a p s e G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } } } } ) ; 
 d e f i n e ( ' b l o c k _ n a v i g a t i o n / a j a x _ r e s p o n s e _ r e n d e r e r ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / u r l " ] , f u n c t i o n ( a , b , c , d ) { f u n c t i o n   e ( g , h ) { v a r   i = a ( " < u l > < / u l > " ) ; i . a t t r ( " r o l e " , " g r o u p " ) , i . a t t r ( " a r i a - h i d d e n " , ! 0 ) , a . e a c h ( h , f u n c t i o n ( g , h ) { i f ( " o b j e c t " = = t y p e o f   h ) { v a r   j = a ( " < l i > < / l i > " ) , k = a ( " < p > < / p > " ) , l = h . i d | | h . k e y + " _ t r e e _ i t e m " , m = n u l l , n = ! ( ! h . e x p a n d a b l e & & ! h . h a s c h i l d r e n ) ; k . a d d C l a s s ( " t r e e _ i t e m " ) , k . a t t r ( " i d " , l ) , k . a t t r ( " r o l e " , " t r e e i t e m " ) , k . a t t r ( " t a b i n d e x " , " - 1 " ) , h . r e q u i r e s a j a x l o a d i n g & & ( k . a t t r ( " d a t a - r e q u i r e s - a j a x " , ! 0 ) , k . a t t r ( " d a t a - n o d e - i d " , h . i d ) , k . a t t r ( " d a t a - n o d e - k e y " , h . k e y ) , k . a t t r ( " d a t a - n o d e - t y p e " , h . t y p e ) ) , n & & ( j . a d d C l a s s ( " c o l l a p s e d   c o n t a i n s _ b r a n c h " ) , k . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) , k . a d d C l a s s ( " b r a n c h " ) ) ; v a r   o = n u l l ; i f ( h . l i n k ) { v a r   p = a ( ' < a   t i t l e = " ' + h . t i t l e + ' "   h r e f = " ' + h . l i n k + ' " > < / a > ' ) ; o = p , p . a p p e n d ( ' < s p a n   c l a s s = " i t e m - c o n t e n t - w r a p " > ' + h . n a m e + " < / s p a n > " ) , h . h i d d e n & & p . a d d C l a s s ( " d i m m e d " ) , k . a p p e n d ( p ) } e l s e { v a r   q = a ( " < s p a n > < / s p a n > " ) ; o = q , q . a p p e n d ( ' < s p a n   c l a s s = " i t e m - c o n t e n t - w r a p " > ' + h . n a m e + " < / s p a n > " ) , h . h i d d e n & & q . a d d C l a s s ( " d i m m e d " ) , k . a p p e n d ( q ) } ! h . i c o n | | n & & h . t y p e ! = = f . A C T I V I T Y & & h . t y p e ! = = f . R E S O U R C E | | ( j . a d d C l a s s ( " i t e m _ w i t h _ i c o n " ) , k . a d d C l a s s ( " h a s i c o n " ) , h . t y p e = = = f . A C T I V I T Y | | h . t y p e = = = f . R E S O U R C E ? ( m = a ( " < i m g / > " ) , m . a t t r ( " a l t " , h . i c o n . a l t ) , m . a t t r ( " t i t l e " , h . i c o n . t i t l e ) , m . a t t r ( " s r c " , d . i m a g e U r l ( h . i c o n . p i x , h . i c o n . c o m p o n e n t ) ) , a . e a c h ( h . i c o n . c l a s s e s , f u n c t i o n ( a , b ) { m . a d d C l a s s ( b ) } ) , o . p r e p e n d ( m ) ) : ( " m o o d l e " = = h . i c o n . c o m p o n e n t & & ( h . i c o n . c o m p o n e n t = " c o r e " ) , b . r e n d e r P i x ( h . i c o n . p i x , h . i c o n . c o m p o n e n t , h . i c o n . t i t l e ) . t h e n ( f u n c t i o n ( a ) { o . p r e p e n d ( a ) } ) [ " c a t c h " ] ( c . e x c e p t i o n ) ) ) , j . a p p e n d ( k ) , i . a p p e n d ( j ) , h . c h i l d r e n & & h . c h i l d r e n . l e n g t h ? e ( k , h . c h i l d r e n ) : n & & ! h . r e q u i r e s a j a x l o a d i n g & & ( j . r e m o v e C l a s s ( " c o n t a i n s _ b r a n c h " ) , k . a d d C l a s s ( " e m p t y b r a n c h " ) ) } } ) , g . p a r e n t ( ) . a p p e n d ( i ) ; v a r   j = g . a t t r ( " i d " ) + " _ g r o u p " ; i . a t t r ( " i d " , j ) , g . a t t r ( " a r i a - o w n s " , j ) , g . a t t r ( " r o l e " , " t r e e i t e m " ) } v a r   f = { A C T I V I T Y : 4 0 , R E S O U R C E : 5 0 } ; r e t u r n { r e n d e r : f u n c t i o n ( a , b ) { i f ( b . c h i l d r e n & & b . c h i l d r e n . l e n g t h ) { e ( a , b . c h i l d r e n ) ; v a r   c = a . c h i l d r e n ( " [ r o l e = ' t r e e i t e m ' ] " ) . f i r s t ( ) , d = a . f i n d ( " # " + c . a t t r ( " a r i a - o w n s " ) ) ; c . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , d . a t t r ( " a r i a - h i d d e n " , ! 1 ) } e l s e   a . p a r e n t ( ) . h a s C l a s s ( " c o n t a i n s _ b r a n c h " ) & & ( a . p a r e n t ( ) . r e m o v e C l a s s ( " c o n t a i n s _ b r a n c h " ) , a . a d d C l a s s ( " e m p t y b r a n c h " ) ) } } } ) ; 
 d e f i n e ( ' b l o c k _ o n l i n e _ u s e r s / c h a n g e _ u s e r _ v i s i b i l i t y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { C H A N G E _ V I S I B I L I T Y _ L I N K : " # c h a n g e - u s e r - v i s i b i l i t y " , C H A N G E _ V I S I B I L I T Y _ I C O N : " # c h a n g e - u s e r - v i s i b i l i t y   . i c o n " } , f = f u n c t i o n ( a , c ) { v a r   e = " s h o w " = = a ? 1 : 0 , f = [ { n a m e : " b l o c k _ o n l i n e _ u s e r s _ u s e r v i s i b i l i t y " , v a l u e : e , u s e r i d : c } ] , j = { m e t h o d n a m e : " c o r e _ u s e r _ s e t _ u s e r _ p r e f e r e n c e s " , a r g s : { p r e f e r e n c e s : f } } ; b . c a l l ( [ j ] ) [ 0 ] . t h e n ( f u n c t i o n ( b ) { i f ( b . s a v e d ) { v a r   c = g ( a ) ; h ( c ) , i ( c ) } } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , g = f u n c t i o n ( a ) { r e t u r n " s h o w " = = a ? " h i d e " : " s h o w " } , h = f u n c t i o n ( b ) { k ( b ) . t h e n ( f u n c t i o n ( c ) { a ( e . C H A N G E _ V I S I B I L I T Y _ L I N K ) . a t t r ( { " d a t a - a c t i o n " : b , t i t l e : c } ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , i = f u n c t i o n ( b ) { v a r   c = a ( e . C H A N G E _ V I S I B I L I T Y _ I C O N ) ; k ( b ) . t h e n ( f u n c t i o n ( d ) { a ( c ) . a t t r ( { t i t l e : d , " a r i a - l a b e l " : d } ) , c . i s ( " i m g " ) ? a ( c ) . a t t r ( { s r c : M . u t i l . i m a g e _ u r l ( " t / " + b ) , a l t : d } ) : ( a ( c ) . a d d C l a s s ( j ( b ) ) , a ( c ) . r e m o v e C l a s s ( j ( g ( b ) ) ) ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , j = f u n c t i o n ( a ) { r e t u r n " s h o w " = = a ? " f a - e y e - s l a s h " : " f a - e y e " } , k = f u n c t i o n ( a ) { r e t u r n   c . g e t _ s t r i n g ( " o n l i n e _ s t a t u s : " + a , " b l o c k _ o n l i n e _ u s e r s " ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { a ( e . C H A N G E _ V I S I B I L I T Y _ L I N K ) . o n ( " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . a t t r ( " d a t a - a c t i o n " ) , d = a ( t h i s ) . a t t r ( " d a t a - u s e r i d " ) ; f ( c , d ) } ) } } } ) ; 
 d e f i n e ( ' b l o c k _ r e c e n t l y a c c e s s e d c o u r s e s / m a i n ' ,   [ " j q u e r y " , " c o r e _ c o u r s e / r e p o s i t o r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / p u b s u b " , " c o r e _ c o u r s e / e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { C O U R S E S _ V I E W : ' [ d a t a - r e g i o n = " r e c e n t l y a c c e s s e d c o u r s e s - v i e w " ] ' , C O U R S E S _ V I E W _ C O N T E N T : ' [ d a t a - r e g i o n = " r e c e n t l y a c c e s s e d c o u r s e s - v i e w - c o n t e n t " ] ' } , h = 1 0 , i = f u n c t i o n ( a , c ) { r e t u r n   b . g e t L a s t A c c e s s e d C o u r s e s ( a , c ) } , j = f u n c t i o n ( a , b ) { i f ( b . l e n g t h > 0 ) r e t u r n   c . r e n d e r ( " b l o c k _ r e c e n t l y a c c e s s e d c o u r s e s / v i e w - c a r d s " , { c o u r s e s : b } ) ; v a r   d = a . a t t r ( " d a t a - n o c o u r s e s i m g u r l " ) ; r e t u r n   c . r e n d e r ( " b l o c k _ r e c e n t l y a c c e s s e d c o u r s e s / n o - c o u r s e s " , { n o c o u r s e s i m g u r l : d } ) } , k = f u n c t i o n ( a , b ) { v a r   e = b . f i n d ( g . C O U R S E S _ V I E W ) , f = b . f i n d ( g . C O U R S E S _ V I E W _ C O N T E N T ) , k = i ( a , h ) ; r e t u r n   k . t h e n ( f u n c t i o n ( a ) { v a r   b = j ( e , a ) ; r e t u r n   b . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . r e p l a c e N o d e C o n t e n t s ( f , a , b ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) , k } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , l = f u n c t i o n ( a , b ) { e . s u b s c r i b e ( f . f a v o u r i t e d , f u n c t i o n ( ) { k ( a , b ) } ) , e . s u b s c r i b e ( f . u n f a v o r i t e d , f u n c t i o n ( ) { k ( a , b ) } ) } , m = f u n c t i o n ( b , c ) { c = a ( c ) , l ( b , c ) , k ( b , c ) } ; r e t u r n { i n i t : m } } ) ; 
 d e f i n e ( ' b l o c k _ r e c e n t l y a c c e s s e d i t e m s / m a i n ' ,   [ " j q u e r y " , " b l o c k _ r e c e n t l y a c c e s s e d i t e m s / r e p o s i t o r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = 9 , f = { C A R D D E C K _ C O N T A I N E R : ' [ d a t a - r e g i o n = " r e c e n t l y a c c e s s e d i t e m s - v i e w " ] ' , C A R D D E C K : ' [ d a t a - r e g i o n = " r e c e n t l y a c c e s s e d i t e m s - v i e w - c o n t e n t " ] ' } , g = f u n c t i o n ( a ) { r e t u r n   b . g e t R e c e n t I t e m s ( a ) } , h = f u n c t i o n ( a , b ) { i f ( b . l e n g t h > 0 ) r e t u r n   c . r e n d e r ( " b l o c k _ r e c e n t l y a c c e s s e d i t e m s / v i e w - c a r d s " , { i t e m s : b } ) ; v a r   d = a . a t t r ( " d a t a - n o i t e m s i m g u r l " ) ; r e t u r n   c . r e n d e r ( " b l o c k _ r e c e n t l y a c c e s s e d i t e m s / n o - i t e m s " , { n o i t e m s i m g u r l : d } ) } , i = f u n c t i o n ( b ) { b = a ( b ) ; v a r   i = b . f i n d ( f . C A R D D E C K _ C O N T A I N E R ) , j = b . f i n d ( f . C A R D D E C K ) , k = g ( e ) ; k . t h e n ( f u n c t i o n ( a ) { v a r   b = h ( i , a ) ; r e t u r n   b . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   c . r e p l a c e N o d e C o n t e n t s ( j , a , b ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) , k } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } ; r e t u r n { i n i t : i } } ) ; 
 d e f i n e ( ' b l o c k _ r e c e n t l y a c c e s s e d i t e m s / r e p o s i t o r y ' ,   [ " c o r e / a j a x " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { v a r   c = { } ; " u n d e f i n e d " ! = t y p e o f   b & & ( c . l i m i t = b ) ; v a r   d = { m e t h o d n a m e : " b l o c k _ r e c e n t l y a c c e s s e d i t e m s _ g e t _ r e c e n t _ i t e m s " , a r g s : c } ; r e t u r n   a . c a l l ( [ d ] ) [ 0 ] } ; r e t u r n { g e t R e c e n t I t e m s : b } } ) ; 
 d e f i n e ( ' b l o c k _ s e t t i n g s / s e t t i n g s b l o c k ' ,   [ " j q u e r y " , " c o r e / t r e e " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( a , c ) { v a r   d = n e w   b ( " . b l o c k _ s e t t i n g s   . b l o c k _ t r e e " ) ; i f ( c ) { v a r   e = d . t r e e R o o t . f i n d ( " # " + c ) , f = e . c h i l d r e n ( " a " ) . f i r s t ( ) ; f . r e p l a c e W i t h ( ' < s p a n   t a b i n d e x = " 0 " > ' + f . h t m l ( ) + " < / s p a n > " ) } d . f i n i s h E x p a n d i n g G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . f i n i s h E x p a n d i n g G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } , d . c o l l a p s e G r o u p = f u n c t i o n ( c ) { b . p r o t o t y p e . c o l l a p s e G r o u p . c a l l ( t h i s , c ) , Y . u s e ( " m o o d l e - c o r e - e v e n t " , f u n c t i o n ( ) { Y . G l o b a l . f i r e ( M . c o r e . g l o b a l E v e n t s . B L O C K _ C O N T E N T _ U P D A T E D , { i n s t a n c e i d : a } ) } ) } } } } ) ; 
 d e f i n e ( ' b l o c k _ s t a r r e d c o u r s e s / m a i n ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " b l o c k _ s t a r r e d c o u r s e s / r e p o s i t o r y " , " c o r e / p u b s u b " , " c o r e / t e m p l a t e s " , " c o r e _ c o u r s e / e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { S T A R R E D _ C O U R S E S _ R E G I O N _ V I E W : ' [ d a t a - r e g i o n = " s t a r r e d - c o u r s e s - v i e w " ] ' , S T A R R E D _ C O U R S E S _ R E G I O N : ' [ d a t a - r e g i o n = " s t a r r e d - c o u r s e s - v i e w - c o n t e n t " ] ' } , h = f u n c t i o n ( a , b ) { i f ( b . l e n g t h > 0 ) r e t u r n   e . r e n d e r ( " b l o c k _ s t a r r e d c o u r s e s / v i e w - c a r d s " , { c o u r s e s : b } ) ; v a r   c = a . f i n d ( g . S T A R R E D _ C O U R S E S _ R E G I O N _ V I E W ) . a t t r ( " d a t a - n o c o u r s e s i m g " ) ; r e t u r n   e . r e n d e r ( " b l o c k _ s t a r r e d c o u r s e s / n o - c o u r s e s " , { n o c o u r s e s i m g : c } ) } , i = f u n c t i o n ( a ) { v a r   d = a . f i n d ( g . S T A R R E D _ C O U R S E S _ R E G I O N ) , f = { l i m i t : 0 , o f f s e t : 0 } ; r e t u r n   c . g e t S t a r r e d C o u r s e s ( f ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   h ( a , b ) } ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   e . r e p l a c e N o d e C o n t e n t s ( d , a , b ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , j = f u n c t i o n ( a ) { d . s u b s c r i b e ( f . f a v o u r i t e d , f u n c t i o n ( ) { i ( a ) } ) , d . s u b s c r i b e ( f . u n f a v o r i t e d , f u n c t i o n ( ) { i ( a ) } ) } , k = f u n c t i o n ( b ) { b = a ( b ) , j ( b ) , i ( b ) } ; r e t u r n { i n i t : k } } ) ; 
 d e f i n e ( ' b l o c k _ s t a r r e d c o u r s e s / r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( a ) { v a r   d = { m e t h o d n a m e : " b l o c k _ s t a r r e d c o u r s e s _ g e t _ s t a r r e d _ c o u r s e s " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } ; r e t u r n { g e t S t a r r e d C o u r s e s : d } } ) ; 
 d e f i n e ( ' b l o c k _ t i m e l i n e / m a i n ' ,   [ " j q u e r y " , " b l o c k _ t i m e l i n e / v i e w _ n a v " , " b l o c k _ t i m e l i n e / v i e w " ] , f u n c t i o n ( a , b , c ) { v a r   d = { T I M E L I N E _ V I E W : ' [ d a t a - r e g i o n = " t i m e l i n e - v i e w " ] ' } , e = f u n c t i o n ( e ) { e = a ( e ) ; v a r   f = e . f i n d ( d . T I M E L I N E _ V I E W ) ; b . i n i t ( e , f ) , c . i n i t ( f ) } ; r e t u r n { i n i t : e } } ) ; 
 d e f i n e ( ' b l o c k _ t i m e l i n e / v i e w _ n a v ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " b l o c k _ t i m e l i n e / v i e w " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { T I M E L I N E _ D A Y _ F I L T E R : ' [ d a t a - r e g i o n = " d a y - f i l t e r " ] ' , T I M E L I N E _ D A Y _ F I L T E R _ O P T I O N : " [ d a t a - f r o m ] " , T I M E L I N E _ V I E W _ S E L E C T O R : ' [ d a t a - r e g i o n = " v i e w - s e l e c t o r " ] ' , D A T A _ D A Y S _ O F F S E T : " [ d a t a - d a y s - o f f s e t ] " , D A T A _ D A Y S _ L I M I T : " [ d a t a - d a y s - l i m i t ] " } , g = f u n c t i o n ( a , b ) { v a r   c = { m e t h o d n a m e : " c o r e _ u s e r _ u p d a t e _ u s e r _ p r e f e r e n c e s " , a r g s : { p r e f e r e n c e s : [ { t y p e : a , v a l u e : b } ] } } ; d . c a l l ( [ c ] ) [ 0 ] . f a i l ( e . e x c e p t i o n ) } , h = f u n c t i o n ( d , e ) { v a r   h = d . f i n d ( f . T I M E L I N E _ D A Y _ F I L T E R ) ; b . d e f i n e ( h , [ b . e v e n t s . a c t i v a t e ] ) , h . o n ( b . e v e n t s . a c t i v a t e , f . T I M E L I N E _ D A Y _ F I L T E R _ O P T I O N , f u n c t i o n ( b , h ) { v a r   i = a ( b . c u r r e n t T a r g e t ) . d a t a ( " f i l t e r n a m e " ) , j = " b l o c k _ t i m e l i n e _ u s e r _ f i l t e r _ p r e f e r e n c e " ; g ( j , i ) ; v a r   k = a ( b . t a r g e t ) . c l o s e s t ( f . T I M E L I N E _ D A Y _ F I L T E R _ O P T I O N ) ; i f ( ! k . h a s C l a s s ( " a c t i v e " ) ) { v a r   l = k . a t t r ( " d a t a - f r o m " ) , m = k . a t t r ( " d a t a - t o " ) , n = d . f i n d ( f . D A T A _ D A Y S _ O F F S E T ) ; n . a t t r ( " d a t a - d a y s - o f f s e t " , l ) , v o i d   0 ! = m ? n . a t t r ( " d a t a - d a y s - l i m i t " , m ) : n . r e m o v e A t t r ( " d a t a - d a y s - l i m i t " ) , c . r e s e t ( e ) , h . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } } ) } , i = f u n c t i o n ( d , e ) { v a r   h = d . f i n d ( f . T I M E L I N E _ V I E W _ S E L E C T O R ) ; h . o n ( " s h o w n   s h o w n . b s . t a b " , f u n c t i o n ( ) { c . s h o w n ( e ) } ) , b . d e f i n e ( h , [ b . e v e n t s . a c t i v a t e ] ) , h . o n ( b . e v e n t s . a c t i v a t e , " [ d a t a - t o g g l e = ' t a b ' ] " , f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) . d a t a ( " f i l t e r n a m e " ) , d = " b l o c k _ t i m e l i n e _ u s e r _ s o r t _ p r e f e r e n c e " ; g ( d , c ) } ) } , j = f u n c t i o n ( b , c ) { b = a ( b ) , h ( b , c ) , i ( b , c ) } ; r e t u r n { i n i t : j } } ) ; 
 d e f i n e ( ' b l o c k _ t i m e l i n e / v i e w _ d a t e s ' ,   [ " j q u e r y " , " c o r e / s t r " , " b l o c k _ t i m e l i n e / e v e n t _ l i s t " , " c o r e / p u b s u b " , " c o r e / p a g e d _ c o n t e n t _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { E V E N T _ L I S T _ C O N T A I N E R : ' [ d a t a - r e g i o n = " e v e n t - l i s t - c o n t a i n e r " ] ' } , g = [ 5 , 1 0 , 2 5 ] , h = f u n c t i o n ( a ) { v a r   b = p a r s e I n t ( a . d a t a ( " l i m i t " ) , 1 0 ) , c = ! 1 , d = g . m a p ( f u n c t i o n ( a ) { r e t u r n   b = = a & & ( c = ! 0 ) , { v a l u e : a , a c t i v e : b = = a } } ) ; r e t u r n   c | | ( d [ 0 ] . a c t i v e = ! 0 ) , d } , i = f u n c t i o n ( b , c ) { v a r   f = c + e . S E T _ I T E M S _ P E R _ P A G E _ L I M I T ; d . s u b s c r i b e ( f , f u n c t i o n ( c ) { a ( b ) . d a t a ( " l i m i t " , c ) } ) } , j = f u n c t i o n ( d ) { v a r   e = d . f i n d ( f . E V E N T _ L I S T _ C O N T A I N E R ) , g = a ( e ) . a t t r ( " i d " ) + " u s e r _ b l o c k _ t i m e l i n e " + M a t h . r a n d o m ( ) ; i ( d , g ) ; v a r   j = h ( d ) , k = { p e r s i s t e n t L i m i t K e y : " b l o c k _ t i m e l i n e _ u s e r _ l i m i t _ p r e f e r e n c e " , e v e n t N a m e s p a c e : g } ; b . g e t _ s t r i n g ( " a r i a e v e n t l i s t p a g i n a t i o n n a v d a t e s " , " b l o c k _ t i m e l i n e " ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . i n i t ( e , j , { } , a , k ) , a } ) [ " c a t c h " ] ( f u n c t i o n ( ) { c . i n i t ( e , j , { } , " " , k ) } ) } , k = f u n c t i o n ( b ) { b = a ( b ) , b . h a s C l a s s ( " a c t i v e " ) & & ( j ( b ) , b . d a t a ( " s e e n " , ! 0 ) ) } , l = f u n c t i o n ( a ) { a . r e m o v e A t t r ( " d a t a - s e e n " ) , a . h a s C l a s s ( " a c t i v e " ) & & ( j ( a ) , a . d a t a ( " s e e n " , ! 0 ) ) } , m = f u n c t i o n ( a ) { a . d a t a ( " s e e n " ) | | ( j ( a ) , a . d a t a ( " s e e n " , ! 0 ) ) } ; r e t u r n { i n i t : k , r e s e t : l , s h o w n : m } } ) ; 
 d e f i n e ( ' b l o c k _ t i m e l i n e / v i e w ' ,   [ " j q u e r y " , " b l o c k _ t i m e l i n e / v i e w _ d a t e s " , " b l o c k _ t i m e l i n e / v i e w _ c o u r s e s " ] , f u n c t i o n ( a , b , c ) { v a r   d = { T I M E L I N E _ D A T E S _ V I E W : ' [ d a t a - r e g i o n = " v i e w - d a t e s " ] ' , T I M E L I N E _ C O U R S E S _ V I E W : ' [ d a t a - r e g i o n = " v i e w - c o u r s e s " ] ' } , e = f u n c t i o n ( e ) { e = a ( e ) ; v a r   f = e . f i n d ( d . T I M E L I N E _ D A T E S _ V I E W ) , g = e . f i n d ( d . T I M E L I N E _ C O U R S E S _ V I E W ) ; b . i n i t ( f ) , c . i n i t ( g ) } , f = f u n c t i o n ( a ) { v a r   e = a . f i n d ( d . T I M E L I N E _ D A T E S _ V I E W ) , f = a . f i n d ( d . T I M E L I N E _ C O U R S E S _ V I E W ) ; b . r e s e t ( e ) , c . r e s e t ( f ) } , g = f u n c t i o n ( a ) { v a r   e = a . f i n d ( d . T I M E L I N E _ D A T E S _ V I E W ) , f = a . f i n d ( d . T I M E L I N E _ C O U R S E S _ V I E W ) ; e . h a s C l a s s ( " a c t i v e " ) ? b . s h o w n ( e ) : c . s h o w n ( f ) } ; r e t u r n { i n i t : e , r e s e t : f , s h o w n : g } } ) ; 
 d e f i n e ( ' b l o c k _ t i m e l i n e / v i e w _ c o u r s e s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " b l o c k _ t i m e l i n e / e v e n t _ l i s t " , " c o r e _ c o u r s e / r e p o s i t o r y " , " b l o c k _ t i m e l i n e / c a l e n d a r _ e v e n t s _ r e p o s i t o r y " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i = { M O R E _ C O U R S E S _ B U T T O N : ' [ d a t a - a c t i o n = " m o r e - c o u r s e s " ] ' , M O R E _ C O U R S E S _ B U T T O N _ C O N T A I N E R : ' [ d a t a - r e g i o n = " m o r e - c o u r s e s - b u t t o n - c o n t a i n e r " ] ' , N O _ C O U R S E S _ E M P T Y _ M E S S A G E : ' [ d a t a - r e g i o n = " n o - c o u r s e s - e m p t y - m e s s a g e " ] ' , C O U R S E S _ L I S T : ' [ d a t a - r e g i o n = " c o u r s e s - l i s t " ] ' , C O U R S E _ I T E M S _ L O A D I N G _ P L A C E H O L D E R : ' [ d a t a - r e g i o n = " c o u r s e - i t e m s - l o a d i n g - p l a c e h o l d e r " ] ' , C O U R S E _ E V E N T S _ C O N T A I N E R : ' [ d a t a - r e g i o n = " c o u r s e - e v e n t s - c o n t a i n e r " ] ' , C O U R S E _ N A M E : ' [ d a t a - r e g i o n = " c o u r s e - n a m e " ] ' , L O A D I N G _ I C O N : " . l o a d i n g - i c o n " } , j = { C O U R S E _ I T E M S : " b l o c k _ t i m e l i n e / c o u r s e - i t e m s " , L O A D I N G _ I C O N : " c o r e / l o a d i n g " } , k = " i n p r o g r e s s " , l = " f u l l n a m e   a s c " , m = 5 , n = 2 , o = 8 6 4 0 0 , p = f u n c t i o n ( a ) { a . f i n d ( i . C O U R S E _ I T E M S _ L O A D I N G _ P L A C E H O L D E R ) . a d d C l a s s ( " h i d d e n " ) } , q = f u n c t i o n ( a ) { a . f i n d ( i . M O R E _ C O U R S E S _ B U T T O N _ C O N T A I N E R ) . a d d C l a s s ( " h i d d e n " ) } , r = f u n c t i o n ( a ) { a . f i n d ( i . M O R E _ C O U R S E S _ B U T T O N _ C O N T A I N E R ) . r e m o v e C l a s s ( " h i d d e n " ) } , s = f u n c t i o n ( a ) { v a r   b = a . f i n d ( i . M O R E _ C O U R S E S _ B U T T O N ) ; b . p r o p ( " d i s a b l e d " , ! 0 ) , e . r e n d e r ( j . L O A D I N G _ I C O N , { } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   b . a p p e n d ( a ) , a } ) [ " c a t c h " ] ( f u n c t i o n ( ) { r e t u r n ! 1 } ) } , t = f u n c t i o n ( a ) { v a r   b = a . f i n d ( i . M O R E _ C O U R S E S _ B U T T O N ) ; b . p r o p ( " d i s a b l e d " , ! 1 ) , b . f i n d ( i . L O A D I N G _ I C O N ) . r e m o v e ( ) } , u = f u n c t i o n ( a ) { a . f i n d ( i . N O _ C O U R S E S _ E M P T Y _ M E S S A G E ) . r e m o v e C l a s s ( " h i d d e n " ) } , v = f u n c t i o n ( a , b ) { v a r   c = a . f i n d ( i . C O U R S E S _ L I S T ) ; e . a p p e n d N o d e C o n t e n t s ( c , b , " " ) } , w = f u n c t i o n ( a ) { r e t u r n   a . f i n d ( i . C O U R S E _ E V E N T S _ C O N T A I N E R ) . l e n g t h > 0 } , x = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - o f f s e t " ) , 1 0 ) } , y = f u n c t i o n ( a , b ) { a . a t t r ( " d a t a - o f f s e t " , b ) } , z = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - l i m i t " ) , 1 0 ) } , A = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - d a y s - o f f s e t " ) , 1 0 ) } , B = f u n c t i o n ( a ) { v a r   b = a . a t t r ( " d a t a - d a y s - l i m i t " ) ; r e t u r n   v o i d   0 ! = b ? p a r s e I n t ( b , 1 0 ) : v o i d   0 } , C = f u n c t i o n ( a ) { r e t u r n   p a r s e I n t ( a . a t t r ( " d a t a - m i d n i g h t " ) , 1 0 ) } , D = f u n c t i o n ( a ) { v a r   b = C ( a ) , c = A ( a ) ; r e t u r n   b + c * o } , E = f u n c t i o n ( a ) { v a r   b = C ( a ) , c = B ( a ) ; r e t u r n   v o i d   0 ! = c & & b + c * o } , F = f u n c t i o n ( a , b , c , d ) { v a r   e = { c o u r s e i d s : a , s t a r t t i m e : b , l i m i t : c } ; r e t u r n   d & & ( e . e n d t i m e = d ) , h . q u e r y B y C o u r s e s ( e ) } , G = f u n c t i o n ( a ) { r e t u r n   a . d a t a ( " l a s t - e v e n t - l o a d - t i m e " ) } , H = f u n c t i o n ( a , b ) { a . d a t a ( " l a s t - e v e n t - l o a d - t i m e " , b ) } , I = f u n c t i o n ( a , b ) { r e t u r n   G ( a ) > b } , J = f u n c t i o n ( a , b , c ) { v a r   d = a . m a p ( f u n c t i o n ( a ) { r e t u r n   a . i d } ) ; r e t u r n   F ( d , b , m + 1 , c ) } , K = f u n c t i o n ( a , b , c , d , f , g ) { r e t u r n   e . r e n d e r ( j . C O U R S E _ I T E M S , { c o u r s e s : a , m i d n i g h t : c , h a s d a y s o f f s e t : ! 0 , h a s d a y s l i m i t : v o i d   0 ! = f , d a y s o f f s e t : d , d a y s l i m i t : f , n o d a y s l i m i t : v o i d   0 = = f , u r l s : { n o e v e n t s : g } } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   p ( b ) , a ? v ( b , a ) : w ( b ) | | u ( b ) , a } ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   a . l e n g t h < n ? q ( b ) : r ( b ) , c } ) [ " c a t c h " ] ( f u n c t i o n ( ) { p ( b ) } ) } , L = f u n c t i o n ( c ) { v a r   e = x ( c ) , h = z ( c ) ; r e t u r n   g . g e t E n r o l l e d C o u r s e s B y T i m e l i n e C l a s s i f i c a t i o n ( k , h , e , l ) . t h e n ( f u n c t i o n ( b ) { v a r   e = D a t e . n o w ( ) , g = b . c o u r s e s , h = b . n e x t o f f s e t , i = A ( c ) , j = B ( c ) , k = C ( c ) , l = D ( c ) , n = E ( c ) , o = c . a t t r ( " d a t a - n o - e v e n t s - u r l " ) ; y ( c , h ) ; v a r   p = J ( g , l , n ) , q = K ( g , c , k , i , j , o ) ; r e t u r n   a . w h e n ( p , q ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   I ( c , e ) ? b : ( g . f o r E a c h ( f u n c t i o n ( e ) { v a r   g = e . i d , h = [ ] , i = ' [ d a t a - r e g i o n = " c o u r s e - e v e n t s - c o n t a i n e r " ] [ d a t a - c o u r s e - i d = " ' + g + ' " ] ' , j = c . f i n d ( i ) , k = j . f i n d ( f . r o o t S e l e c t o r ) , l = b . g r o u p e d b y c o u r s e . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . c o u r s e i d = = g } ) ; l . l e n g t h & & ( h = l [ 0 ] . e v e n t s ) ; v a r   n = a . D e f e r r e d ( ) . r e s o l v e ( { e v e n t s : h } ) . p r o m i s e ( ) ; d . g e t _ s t r i n g ( " a r i a e v e n t l i s t p a g i n a t i o n n a v c o u r s e s " , " b l o c k _ t i m e l i n e " , e . f u l l n a m e d i s p l a y ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . i n i t ( k , m , { 1 : n } , a ) , a } ) [ " c a t c h " ] ( f u n c t i o n ( ) { f . i n i t ( k , m , { 1 : n } ) } ) } ) , b ) } ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , M = f u n c t i o n ( c ) { v a r   e = D a t e . n o w ( ) , g = D ( c ) , h = E ( c ) , j = c . f i n d ( i . C O U R S E _ E V E N T S _ C O N T A I N E R ) , k = j . m a p ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . a t t r ( " d a t a - c o u r s e - i d " ) } ) . g e t ( ) ; r e t u r n   H ( c , e ) , F ( k , g , m + 1 , h ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   I ( c , e ) ? b : ( j . e a c h ( f u n c t i o n ( c , e ) { e = a ( e ) ; v a r   g = e . a t t r ( " d a t a - c o u r s e - i d " ) , h = e . f i n d ( i . C O U R S E _ N A M E ) . t e x t ( ) , j = e . f i n d ( f . r o o t S e l e c t o r ) , k = a . D e f e r r e d ( ) , l = [ ] , n = b . g r o u p e d b y c o u r s e . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a . c o u r s e i d = = g } ) ; n . l e n g t h & & ( l = n [ 0 ] . e v e n t s ) , k . r e s o l v e ( { e v e n t s : l } ) , d . g e t _ s t r i n g ( " a r i a e v e n t l i s t p a g i n a t i o n n a v c o u r s e s " , " b l o c k _ t i m e l i n e " , h ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . i n i t ( j , m , { 1 : k . p r o m i s e ( ) } , a ) , a } ) [ " c a t c h " ] ( f u n c t i o n ( ) { f . i n i t ( j , m , { 1 : k . p r o m i s e ( ) } ) } ) } ) , b ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , N = f u n c t i o n ( a ) { c . d e f i n e ( a , [ c . e v e n t s . a c t i v a t e ] ) , a . o n ( c . e v e n t s . a c t i v a t e , i . M O R E _ C O U R S E S _ B U T T O N , f u n c t i o n ( b , c ) { s ( a ) , L ( a ) . t h e n ( f u n c t i o n ( ) { t ( a ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { t ( a ) } ) , c & & ( c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , c . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) ) , b . s t o p P r o p a g a t i o n ( ) } ) } , O = f u n c t i o n ( b ) { b = a ( b ) , H ( b , D a t e . n o w ( ) ) , b . h a s C l a s s ( " a c t i v e " ) & & ( L ( b ) , b . a t t r ( " d a t a - s e e n " , ! 0 ) ) , N ( b ) } , P = f u n c t i o n ( a ) { a . r e m o v e A t t r ( " d a t a - s e e n " ) , a . h a s C l a s s ( " a c t i v e " ) & & Q ( a ) } , Q = f u n c t i o n ( a ) { a . a t t r ( " d a t a - s e e n " ) | | ( w ( a ) ? M ( a ) : L ( a ) , a . a t t r ( " d a t a - s e e n " , ! 0 ) ) } ; r e t u r n { i n i t : O , r e s e t : P , s h o w n : Q } } ) ; 
 d e f i n e ( ' b l o c k _ t i m e l i n e / e v e n t _ l i s t ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / p a g e d _ c o n t e n t _ f a c t o r y " , " c o r e / s t r " , " c o r e / u s e r _ d a t e " , " b l o c k _ t i m e l i n e / c a l e n d a r _ e v e n t s _ r e p o s i t o r y " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = 8 6 4 0 0 , i = { E M P T Y _ M E S S A G E : ' [ d a t a - r e g i o n = " e m p t y - m e s s a g e " ] ' , R O O T : ' [ d a t a - r e g i o n = " e v e n t - l i s t - c o n t a i n e r " ] ' , E V E N T _ L I S T _ C O N T E N T : ' [ d a t a - r e g i o n = " e v e n t - l i s t - c o n t e n t " ] ' , E V E N T _ L I S T _ L O A D I N G _ P L A C E H O L D E R : ' [ d a t a - r e g i o n = " e v e n t - l i s t - l o a d i n g - p l a c e h o l d e r " ] ' } , j = { E V E N T _ L I S T _ C O N T E N T : " b l o c k _ t i m e l i n e / e v e n t - l i s t - c o n t e n t " } , k = { i g n o r e C o n t r o l W h i l e L o a d i n g : ! 0 , c o n t r o l P l a c e m e n t B o t t o m : ! 0 , a r i a L a b e l s : { i t e m s p e r p a g e c o m p o n e n t s : " a r i a e v e n t l i s t p a g e l i m i t ,   b l o c k _ t i m e l i n e " } } , l = f u n c t i o n ( a ) { a . f i n d ( i . E V E N T _ L I S T _ C O N T E N T ) . a d d C l a s s ( " h i d d e n " ) , a . f i n d ( i . E M P T Y _ M E S S A G E ) . r e m o v e C l a s s ( " h i d d e n " ) } , m = f u n c t i o n ( a ) { a . f i n d ( i . E V E N T _ L I S T _ C O N T E N T ) . r e m o v e C l a s s ( " h i d d e n " ) , a . f i n d ( i . E M P T Y _ M E S S A G E ) . a d d C l a s s ( " h i d d e n " ) } , n = f u n c t i o n ( a ) { a . f i n d ( i . E V E N T _ L I S T _ C O N T E N T ) . e m p t y ( ) } , o = f u n c t i o n ( a , b ) { v a r   c = { } , d = { e v e n t s b y d a y : [ ] } ; r e t u r n   a . f o r E a c h ( f u n c t i o n ( a ) { v a r   d = f . g e t U s e r M i d n i g h t F o r T i m e s t a m p ( a . t i m e s o r t , b ) ; c [ d ] ? c [ d ] . p u s h ( a ) : c [ d ] = [ a ] } ) , O b j e c t . k e y s ( c ) . f o r E a c h ( f u n c t i o n ( a ) { v a r   e = c [ a ] ; d . e v e n t s b y d a y . p u s h ( { p a s t : a < b , d a y T i m e s t a m p : a , e v e n t s : e } ) } ) , d } , p = f u n c t i o n ( a , b ) { v a r   d = o ( a , b ) , e = j . E V E N T _ L I S T _ C O N T E N T ; r e t u r n   c . r e n d e r ( e , d ) } , q = f u n c t i o n ( a , b , c , d , e , f ) { v a r   i = a + c * h , j = v o i d   0 ! = d & & a + d * h , k = { s t a r t t i m e : i , l i m i t : b } ; r e t u r n   e & & ( k . a f t e r e v e n t i d = e ) , j & & ( k . e n d t i m e = j ) , f ? ( k . c o u r s e i d = f , g . q u e r y B y C o u r s e ( k ) ) : g . q u e r y B y T i m e ( k ) } , r = f u n c t i o n ( a , b , c , d , e , f , g , h ) { f o r ( v a r   i = a . p a g e N u m b e r , j = a . l i m i t , k = i ; ! d . h a s O w n P r o p e r t y ( k ) ; ) k - - ; v a r   l = d [ k ] , m = n u l l ; r e t u r n   m = e & & e . h a s O w n P r o p e r t y ( i ) ? e [ i ] : q ( c , j + 1 , g , h , l , f ) , m . t h e n ( f u n c t i o n ( a ) { i f ( ! a . e v e n t s . l e n g t h ) r e t u r n   b . a l l I t e m s L o a d e d ( i ) , [ ] ; v a r   c = a . e v e n t s , d = c . l e n g t h < = j ; r e t u r n   d ? b . a l l I t e m s L o a d e d ( i ) : c . p o p ( ) , c } ) } , s = f u n c t i o n ( c , f , g , h , i , j , l , m , n ) { v a r   o = { 1 : 0 } , q = ! 1 , s = a . e x t e n d ( { } , k , n ) ; r e t u r n   e . g e t _ s t r i n g ( " a r i a e v e n t l i s t p a g e l i m i t " , " b l o c k _ t i m e l i n e " , a . i s A r r a y ( c ) ? c [ 0 ] . v a l u e : c ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   s . a r i a L a b e l s . i t e m s p e r p a g e = a , s . a r i a L a b e l s . p a g i n a t i o n n a v = m , a } ) . t h e n ( f u n c t i o n ( ) { r e t u r n   d . c r e a t e W i t h L i m i t ( c , f u n c t i o n ( c , d ) { v a r   e = [ ] ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( a ) { v a r   c = a . p a g e N u m b e r , h = r ( a , d , g , o , f , i , j , l ) . t h e n ( f u n c t i o n ( a ) { i f ( a . l e n g t h ) { q = ! 0 ; v a r   b = a [ a . l e n g t h - 1 ] . i d ; r e t u r n   o [ c + 1 ] = b , p ( a , g ) } r e t u r n   a } ) [ " c a t c h " ] ( b . e x c e p t i o n ) ; e . p u s h ( h ) } ) , a . w h e n . a p p l y ( a , e ) . t h e n ( f u n c t i o n ( ) { h . r e s o l v e ( q ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { h . r e s o l v e ( q ) } ) , e } , s ) } ) } , t = f u n c t i o n ( d , e , f , g , h ) { d = a ( d ) ; v a r   j = a . D e f e r r e d ( ) , k = d . f i n d ( i . E V E N T _ L I S T _ C O N T E N T ) , o = d . f i n d ( i . E V E N T _ L I S T _ L O A D I N G _ P L A C E H O L D E R ) , p = d . a t t r ( " d a t a - c o u r s e - i d " ) , q = p a r s e I n t ( d . a t t r ( " d a t a - d a y s - o f f s e t " ) , 1 0 ) , r = d . a t t r ( " d a t a - d a y s - l i m i t " ) , t = p a r s e I n t ( d . a t t r ( " d a t a - m i d n i g h t " ) , 1 0 ) ; r e t u r n   n ( d ) , m ( d ) , o . r e m o v e C l a s s ( " h i d d e n " ) , v o i d   0 ! = r & & ( r = p a r s e I n t ( r , 1 0 ) ) , s ( e , f , t , j , p , q , r , g , h ) . t h e n ( f u n c t i o n ( b , e ) { r e t u r n   b = a ( b ) , b . a d d C l a s s ( " h i d d e n " ) , c . r e p l a c e N o d e C o n t e n t s ( k , b , e ) , j . t h e n ( f u n c t i o n ( a ) { r e t u r n   b . r e m o v e C l a s s ( " h i d d e n " ) , o . a d d C l a s s ( " h i d d e n " ) , a | | l ( d ) , a } ) [ " c a t c h " ] ( f u n c t i o n ( ) { r e t u r n ! 1 } ) , b } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } ; r e t u r n { i n i t : t , r o o t S e l e c t o r : i . R O O T } } ) ; 
 d e f i n e ( ' b l o c k _ t i m e l i n e / c a l e n d a r _ e v e n t s _ r e p o s i t o r y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = 2 0 , e = f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " l i m i t " ) | | ( a . l i m i t = d ) , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , a . h a s O w n P r o p e r t y ( " s t a r t t i m e " ) & & ( a . t i m e s o r t f r o m = a . s t a r t t i m e , d e l e t e   a . s t a r t t i m e ) , a . h a s O w n P r o p e r t y ( " e n d t i m e " ) & & ( a . t i m e s o r t t o = a . e n d t i m e , d e l e t e   a . e n d t i m e ) ; v a r   e = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ a c t i o n _ e v e n t s _ b y _ c o u r s e " , a r g s : a } , f = b . c a l l ( [ e ] ) [ 0 ] ; r e t u r n   f . f a i l ( c . e x c e p t i o n ) , f } , f = f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " l i m i t " ) | | ( a . l i m i t = 1 0 ) , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , a . h a s O w n P r o p e r t y ( " s t a r t t i m e " ) & & ( a . t i m e s o r t f r o m = a . s t a r t t i m e , d e l e t e   a . s t a r t t i m e ) , a . h a s O w n P r o p e r t y ( " e n d t i m e " ) & & ( a . t i m e s o r t t o = a . e n d t i m e , d e l e t e   a . e n d t i m e ) ; v a r   d = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ a c t i o n _ e v e n t s _ b y _ c o u r s e s " , a r g s : a } , e = b . c a l l ( [ d ] ) [ 0 ] ; r e t u r n   e . f a i l ( c . e x c e p t i o n ) , e } , g = f u n c t i o n ( a ) { a . h a s O w n P r o p e r t y ( " l i m i t " ) | | ( a . l i m i t = d ) , a . l i m i t n u m = a . l i m i t , d e l e t e   a . l i m i t , a . h a s O w n P r o p e r t y ( " s t a r t t i m e " ) & & ( a . t i m e s o r t f r o m = a . s t a r t t i m e , d e l e t e   a . s t a r t t i m e ) , a . h a s O w n P r o p e r t y ( " e n d t i m e " ) & & ( a . t i m e s o r t t o = a . e n d t i m e , d e l e t e   a . e n d t i m e ) , a . l i m i t t o n o n s u s p e n d e d e v e n t s = ! 0 ; v a r   e = { m e t h o d n a m e : " c o r e _ c a l e n d a r _ g e t _ a c t i o n _ e v e n t s _ b y _ t i m e s o r t " , a r g s : a } , f = b . c a l l ( [ e ] ) [ 0 ] ; r e t u r n   f . f a i l ( c . e x c e p t i o n ) , f } ; r e t u r n { q u e r y B y T i m e : g , q u e r y B y C o u r s e : e , q u e r y B y C o u r s e s : f } } ) ; 
 d e f i n e ( ' m e d i a _ v i d e o j s / l o a d e r ' ,   [ " j q u e r y " , " c o r e / e v e n t " ] , f u n c t i o n ( a , b ) { v a r   c , d = f u n c t i o n ( d ) { c = d , e ( n u l l , a ( " b o d y " ) ) , b . g e t L e g a c y E v e n t s ( ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . o n ( b . F I L T E R _ C O N T E N T _ U P D A T E D , e ) } ) } , e = f u n c t i o n ( b , d ) { v a r   e = " . m e d i a p l u g i n _ v i d e o j s " ; d . f i n d ( e ) . a d d B a c k ( e ) . f i n d ( " a u d i o ,   v i d e o " ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) . a t t r ( " i d " ) , d = a ( t h i s ) . d a t a ( " s e t u p - l a z y " ) , e = [ " m e d i a _ v i d e o j s / v i d e o - l a z y " ] ; d . t e c h O r d e r & & d . t e c h O r d e r . i n d e x O f ( " y o u t u b e " ) ! = = - 1 & & e . p u s h ( " m e d i a _ v i d e o j s / Y o u t u b e - l a z y " ) , d . t e c h O r d e r & & d . t e c h O r d e r . i n d e x O f ( " f l a s h " ) ! = = - 1 & & e . p u s h ( " m e d i a _ v i d e o j s / v i d e o j s - f l a s h - l a z y " ) , r e q u i r e ( e , f u n c t i o n ( a ) { c & & ( c ( a ) , c = n u l l ) , a ( b , d ) } ) } ) } ; r e t u r n { s e t U p : d } } ) ; 
 d e f i n e ( ' r e p o r t _ c o m p e t e n c y / u s e r _ c o u r s e _ n a v i g a t i o n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e ) { t h i s . _ b a s e U r l = c , t h i s . _ u s e r I d = d + " " , t h i s . _ c o u r s e I d = e , a ( b ) . o n ( " c h a n g e " , t h i s . _ u s e r C h a n g e d . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ u s e r C h a n g e d = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r = " + c + " & i d = " + t h i s . _ c o u r s e I d ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ u s e r I d = n u l l , b . p r o t o t y p e . _ c o u r s e I d = n u l l , b . p r o t o t y p e . _ b a s e U r l = n u l l , b } ) ; 
 d e f i n e ( ' r e p o r t _ c o m p e t e n c y / g r a d i n g _ p o p u p ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / l o g " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r = c , a ( t h i s . _ r e g i o n S e l e c t o r ) . o n ( " c l i c k " , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r , t h i s . _ h a n d l e C l i c k . b i n d ( t h i s ) ) } ; r e t u r n   h . p r o t o t y p e . _ h a n d l e C l i c k = f u n c t i o n ( c ) { v a r   f = a ( c . t a r g e t ) . c l o s e s t ( t h i s . _ u s e r C o m p e t e n c y S e l e c t o r ) , g = a ( f ) . d a t a ( " c o m p e t e n c y i d " ) , h = a ( f ) . d a t a ( " c o u r s e i d " ) , i = a ( f ) . d a t a ( " u s e r i d " ) ; e . d e b u g ( " C l i c k e d   o n   c e l l :   c o m p e t e n c y I d = " + g + " ,   c o u r s e I d = " + h + " ,   u s e r I d = " + i ) ; v a r   j = d . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " , a r g s : { u s e r i d : i , c o m p e t e n c y i d : g , c o u r s e i d : h } } , { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ v i e w e d _ i n _ c o u r s e " , a r g s : { u s e r i d : i , c o m p e t e n c y i d : g , c o u r s e i d : h } } ] ) ; a . w h e n . a p p l y ( a , j ) . t h e n ( f u n c t i o n ( a ) { t h i s . _ c o n t e x t L o a d e d . b i n d ( t h i s ) ( a ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ c o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   d = t h i s ; a . d i s p l a y u s e r = ! 0 , f . r e n d e r ( " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " , a ) . d o n e ( f u n c t i o n ( a , e ) { c . g e t _ s t r i n g ( " u s e r c o m p e t e n c y s u m m a r y " , " r e p o r t _ c o m p e t e n c y " ) . d o n e ( f u n c t i o n ( b ) { n e w   g ( b , a , f . r u n T e m p l a t e J S . b i n d ( f , e ) , d . _ r e f r e s h . b i n d ( d ) , ( ! 0 ) ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   c = a ( t h i s . _ r e g i o n S e l e c t o r ) , e = c . d a t a ( " c o u r s e i d " ) , f = c . d a t a ( " u s e r i d " ) ; d . c a l l ( [ { m e t h o d n a m e : " r e p o r t _ c o m p e t e n c y _ d a t a _ f o r _ r e p o r t " , a r g s : { c o u r s e i d : e , u s e r i d : f } , d o n e : t h i s . _ p a g e C o n t e x t L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) } , h . p r o t o t y p e . _ p a g e C o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   c = t h i s ; f . r e n d e r ( " r e p o r t _ c o m p e t e n c y / r e p o r t " , a ) . d o n e ( f u n c t i o n ( a , b ) { f . r e p l a c e N o d e ( c . _ r e g i o n S e l e c t o r , a , b ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , h . p r o t o t y p e . _ u s e r C o m p e t e n c y S e l e c t o r = n u l l , h } ) ; 
 d e f i n e ( ' r e p o r t _ c u s t o m s q l / r e p o r t c a t e g o r i e s ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { i n i t : f u n c t i o n ( ) { a ( " b o d y " ) . o n ( " c l i c k " , " . c s q l _ c a t e g o r y   h 2 " , b . e x p a n d C o l l a p s e ) , a ( " . c s q l _ e x p a n d c o l l a p s e a l l " ) . o n ( " c l i c k " , b . e x p a n d C o l l a p s e A l l ) , b . u p d a t e E x p a n d C o l l a p s e A l l ( ) } , e x p a n d C o l l a p s e : f u n c t i o n ( c ) { v a r   d = a ( c . t a r g e t ) . c l o s e s t ( " . c s q l _ c a t e g o r y " ) ; d . l e n g t h & & ( d . h a s C l a s s ( " c s q l _ c a t e g o r y h i d d e n " ) ? d . r e m o v e C l a s s ( " c s q l _ c a t e g o r y h i d d e n " ) . a d d C l a s s ( " c s q l _ c a t e g o r y s h o w n " ) : d . r e m o v e C l a s s ( " c s q l _ c a t e g o r y s h o w n " ) . a d d C l a s s ( " c s q l _ c a t e g o r y h i d d e n " ) , c . p r e v e n t D e f a u l t ( ) , b . u p d a t e E x p a n d C o l l a p s e A l l ( ) ) } , e x p a n d C o l l a p s e A l l : f u n c t i o n ( c ) { 0 = = = a ( " . c s q l _ c a t e g o r y s h o w n " ) . l e n g t h ? ( a ( " . c s q l _ c a t e g o r y " ) . r e m o v e C l a s s ( " c s q l _ c a t e g o r y h i d d e n " ) , a ( " . c s q l _ c a t e g o r y " ) . a d d C l a s s ( " c s q l _ c a t e g o r y s h o w n " ) ) : ( a ( " . c s q l _ c a t e g o r y " ) . r e m o v e C l a s s ( " c s q l _ c a t e g o r y s h o w n " ) , a ( " . c s q l _ c a t e g o r y " ) . a d d C l a s s ( " c s q l _ c a t e g o r y h i d d e n " ) ) , c . p r e v e n t D e f a u l t ( ) , b . u p d a t e E x p a n d C o l l a p s e A l l ( ) } , u p d a t e E x p a n d C o l l a p s e A l l : f u n c t i o n ( ) { v a r   b = a ( " . c s q l _ e x p a n d c o l l a p s e a l l " ) ; 0 = = = a ( " . c s q l _ c a t e g o r y s h o w n " ) . l e n g t h ? b . t e x t ( b . d a t a ( " e x p a n d a l l t e x t " ) ) : b . t e x t ( b . d a t a ( " c o l l a p s e a l l t e x t " ) ) } } ; r e t u r n   b } ) ; 
 d e f i n e ( ' r e p o r t _ i n s i g h t s / a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { r e t u r n { i n i t : f u n c t i o n ( d ) { a ( " a [ d a t a - p r e d i c t i o n - m e t h o d n a m e ] [ d a t a - p r e d i c t i o n - i d = " + d + " ] " ) . o n ( " c l i c k " , f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   f = a ( e . c u r r e n t T a r g e t ) , g = f . a t t r ( " d a t a - p r e d i c t i o n - m e t h o d n a m e " ) , h = f . c l o s e s t ( " t r " ) ; i f ( h . l e n g t h > 0 ) { v a r   i = b . c a l l ( [ { m e t h o d n a m e : g , a r g s : { p r e d i c t i o n i d : d } } ] ) [ 0 ] ; i . d o n e ( f u n c t i o n ( ) { h [ 0 ] . r e m o v e ( ) , a ( " . i n s i g h t s - l i s t   t r " ) . l e n g t h < 2 & & ( d o c u m e n t . r e f e r r e r ? w i n d o w . l o c a t i o n . a s s i g n ( d o c u m e n t . r e f e r r e r ) : w i n d o w . l o c a t i o n . r e l o a d ( ! 0 ) ) } ) . f a i l ( c . e x c e p t i o n ) } } ) } } } ) ; 
 d e f i n e ( ' r e p o r t _ p r o g r e s s / c o m p l e t i o n _ o v e r r i d e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { v a r   i , j , k = f u n c t i o n ( a , b ) { r e t u r n   a > 0 ? " i / c o m p l e t i o n - " + b + " - y - o v e r r i d e " : " i / c o m p l e t i o n - " + b + " - n - o v e r r i d e " } , l = f u n c t i o n ( a ) { h . r e n d e r ( " c o r e / l o a d i n g " , { } ) . t h e n ( f u n c t i o n ( c ) { r e t u r n   j . a p p e n d ( c ) , b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p l e t i o n _ o v e r r i d e _ a c t i v i t y _ c o m p l e t i o n _ s t a t u s " , a r g s : a } ] ) [ 0 ] } ) . t h e n ( f u n c t i o n ( b ) { v a r   d = b . s t a t e > 0 ? 1 : 0 , e = d ? " c o m p l e t i o n - y - o v e r r i d e " : " c o m p l e t i o n - n - o v e r r i d e " ; c . g e t _ s t r i n g ( e , " c o m p l e t i o n " , i ) . t h e n ( f u n c t i o n ( a ) { v a r   b = { s t a t e : a , d a t e : " " , u s e r : j . a t t r ( " d a t a - u s e r f u l l n a m e " ) , a c t i v i t y : j . a t t r ( " d a t a - a c t i v i t y n a m e " ) } ; r e t u r n   c . g e t _ s t r i n g ( " p r o g r e s s - t i t l e " , " c o m p l e t i o n " , b ) } ) . t h e n ( f u n c t i o n ( a ) { v a r   b = j . a t t r ( " d a t a - c o m p l e t i o n t r a c k i n g " ) ; r e t u r n   h . r e n d e r P i x ( k ( d , b ) , " c o r e " , a ) } ) . t h e n ( f u n c t i o n ( b ) { v a r   c = d > 0 ? 0 : 1 ; j . f i n d ( " . l o a d i n g - i c o n " ) . r e m o v e ( ) , j . d a t a ( " c h a n g e c o m p l " , a . u s e r i d + " - " + a . c m i d + " - " + c ) , j . a t t r ( " d a t a - c h a n g e c o m p l " , a . u s e r i d + " - " + a . c m i d + " - " + c ) , j . c h i l d r e n ( " i m g " ) . r e p l a c e W i t h ( b ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , m = f u n c t i o n ( b , g ) { g . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) , g . o r i g i n a l E v e n t . s t o p P r o p a g a t i o n ( ) , b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , j = a ( b . c u r r e n t T a r g e t ) ; v a r   h = j . d a t a ( " c h a n g e c o m p l " ) . s p l i t ( " - " ) , i = { u s e r i d : h [ 0 ] , c m i d : h [ 1 ] , n e w s t a t e : h [ 2 ] } , k = 1 = = i . n e w s t a t e ? " c o m p l e t i o n - y " : " c o m p l e t i o n - n " ; c . g e t _ s t r i n g s ( [ { k e y : k , c o m p o n e n t : " c o m p l e t i o n " } ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " a r e y o u s u r e o v e r r i d e c o m p l e t i o n " , c o m p o n e n t : " c o m p l e t i o n " , p a r a m : a [ 0 ] } ] ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . c r e a t e ( { t y p e : d . t y p e s . C O N F I R M , t i t l e : a [ 0 ] , b o d y : a [ 1 ] } ) } ) . t h e n ( f u n c t i o n ( a ) { a . g e t R o o t ( ) . o n ( e . y e s , f u n c t i o n ( ) { l ( i ) } ) , a . g e t R o o t ( ) . o n ( e . h i d d e n , f u n c t i o n ( ) { j . f o c u s ( ) , a . d e s t r o y ( ) } ) , a . s h o w ( ) } ) [ " c a t c h " ] ( f . e x c e p t i o n ) } , n = f u n c t i o n ( b ) { i = b , a ( " # c o m p l e t i o n - p r o g r e s s   a . c h a n g e c o m p l " ) . e a c h ( f u n c t i o n ( a , b ) { g . d e f i n e ( b , [ g . e v e n t s . a c t i v a t e ] ) } ) , a ( " # c o m p l e t i o n - p r o g r e s s " ) . o n ( g . e v e n t s . a c t i v a t e , " a . c h a n g e c o m p l " , f u n c t i o n ( a , b ) { m ( a , b ) } ) } ; r e t u r n { i n i t : n } } ) ; 
 d e f i n e ( ' g r a d e r e p o r t _ g r a d e d i s t / d e f i n e _ h c _ m i n ' ,   [ " g r a d e r e p o r t _ g r a d e d i s t / c o n f i g " , " h i g h c h a r t s _ m i n " ] , f u n c t i o n ( a , b ) { r e t u r n   b } ) ; 
 d e f i n e ( ' g r a d e r e p o r t _ g r a d e d i s t / d e f i n e _ h c _ s r c ' ,   [ " g r a d e r e p o r t _ g r a d e d i s t / c o n f i g " , " h i g h c h a r t s _ s r c " ] , f u n c t i o n ( a , b ) { r e t u r n   b } ) ; 
 d e f i n e ( ' g r a d e r e p o r t _ g r a d e d i s t / c o n f i g ' ,   [ ] , f u n c t i o n ( ) { w i n d o w . r e q u i r e j s . c o n f i g ( { p a t h s : { h i g h c h a r t s _ s r c : M . c f g . w w w r o o t + " / g r a d e / r e p o r t / g r a d e d i s t / j s / e x p o r t i n g . s r c " , h i g h c h a r t s _ m i n : M . c f g . w w w r o o t + " / g r a d e / r e p o r t / g r a d e d i s t / j s / e x p o r t i n g " } , s h i m : { h i g h c h a r t s _ s r c : { e x p o r t s : " H i g h c h a r t s " } , h i g h c h a r t s _ m i n : { e x p o r t s : " H i g h c h a r t s " } } } ) } ) ; 
 d e f i n e ( ' g r a d e r e p o r t _ g r a d e d i s t / g r a d e d i s t ' ,   [ " j q u e r y " , " c o r e / l o g " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( ) { } ; d . p r o t o t y p e . u p d a t e = f u n c t i o n ( b ) { v a r   c = J S O N . p a r s e ( b . r e s p o n s e T e x t ) ; i f ( 1 = = c . u p d a t e a l l ) { w i n d o w . a b s o l u t = [ ] , w i n d o w . p e r c e n t = [ ] , a . m a p ( c . a c t d i s t , f u n c t i o n ( a ) { w i n d o w . a b s o l u t . p u s h ( a . c o u n t ) , w i n d o w . p e r c e n t . p u s h ( a . p e r c e n t a g e ) } ) ; v a r   d = 1 = = w i n d o w . m o d e ? w i n d o w . p e r c e n t : w i n d o w . a b s o l u t ; w i n d o w . c h a r t . s e r i e s [ 0 ] . s e t D a t a ( d ) , w i n d o w . c h a r t . s e t T i t l e ( { t e x t : c . t i t l e } ) } w i n d o w . a b s o l u t n e w = [ ] , w i n d o w . p e r c e n t n e w = [ ] , a . m a p ( c . n e w d i s t , f u n c t i o n ( a ) { w i n d o w . a b s o l u t n e w . p u s h ( a . c o u n t ) , w i n d o w . p e r c e n t n e w . p u s h ( a . p e r c e n t a g e ) } ) , e . c o v e r a g e ( c ) ; v a r   f = 1 = = w i n d o w . m o d e ? w i n d o w . p e r c e n t n e w : w i n d o w . a b s o l u t n e w ; r e t u r n   w i n d o w . c h a r t . s e r i e s [ 1 ] . s e t D a t a ( f ) , ! 0 } , d . p r o t o t y p e . v a l i d a t e = f u n c t i o n ( ) { v a r   b = ! 1 , d = ! 1 , e = ! 1 , f = ! 1 , g = ! 1 , h = a ( " # b _ d e c i m a l s " ) . f i r s t ( ) , i = a ( " # b _ i n t e r v a l " ) . f i r s t ( ) , j = a ( " # b _ p r e d e c e s s o r " ) . f i r s t ( ) , k = / ^ \ d + ( [ . ] \ d { 1 , 2 } ) ? $ / , l = 1 0 0 . 0 1 ; r e t u r n   a . e a c h ( w i n d o w . b o u n d a r i e s , f u n c t i o n ( a , b ) { v a r   c = b . v a l u e . r e p l a c e ( / , / g , " . " ) ; " " ! = c ? ( k . t e s t ( c ) | | ( d = ! 0 ) , N u m b e r ( c ) > 1 0 0 & & ( e = ! 0 ) , N u m b e r ( c ) > = N u m b e r ( l ) & & ( f = ! 0 ) , l = c ) : g = ! 0 } ) , d ? ( h . l e n g t h | | c . g e t _ s t r i n g ( " d e c i m a l s " , " g r a d e r e p o r t _ g r a d e d i s t " ) . d o n e ( f u n c t i o n ( b ) { a ( " # b o u n d a r y _ e r r o r _ c o n t a i n e r " ) . f i r s t ( ) . a p p e n d ( ' < d i v   c l a s s = " b _ e r r o r "   i d = " b _ d e c i m a l s " > < s p a n > ' + b + " < / s p a n > < / d i v > " ) } ) , b = ! 0 ) : h . l e n g t h & & h . r e m o v e ( ) , e ? ( i . l e n g t h | | c . g e t _ s t r i n g ( " i n t e r v a l " , " g r a d e r e p o r t _ g r a d e d i s t " ) . d o n e ( f u n c t i o n ( b ) { a ( " # b o u n d a r y _ e r r o r _ c o n t a i n e r " ) . f i r s t ( ) . a p p e n d ( ' < d i v   c l a s s = " b _ e r r o r "   i d = " b _ i n t e r v a l " > < s p a n > ' + b + " < / s p a n > < / d i v > " ) } ) , b = ! 0 ) : i . l e n g t h & & i . r e m o v e ( ) , f ? ( j . l e n g t h | | c . g e t _ s t r i n g ( " p r e d e c e s s o r " , " g r a d e r e p o r t _ g r a d e d i s t " ) . d o n e ( f u n c t i o n ( b ) { a ( " # b o u n d a r y _ e r r o r _ c o n t a i n e r " ) . f i r s t ( ) . a p p e n d ( ' < d i v   c l a s s = " b _ e r r o r "   i d = " b _ p r e d e c e s s o r " > < s p a n > ' + b + " < / s p a n > < / d i v > " ) } ) , b = ! 0 ) : j . l e n g t h & & j . r e m o v e ( ) , w i n d o w . s u b m i t . l e n g t h & & w i n d o w . s u b m i t . p r o p ( " d i s a b l e d " , b | | g ) , ! b } , d . p r o t o t y p e . c o v e r a g e = f u n c t i o n ( b ) { v a r   d = ! 1 , e = ! 1 , f = 0 ! = N u m b e r ( b . n e w c o v e r a g e [ 0 ] ) , g = a ( " # b _ c o v e r a g e " ) . f i r s t ( ) ; r e t u r n   a . e a c h ( w i n d o w . b o u n d a r i e s , f u n c t i o n ( a , b ) { " " = = b . v a l u e & & ( e = ! 0 ) } ) , ! e & & f ? ( g . l e n g t h | | c . g e t _ s t r i n g ( " c o v e r a g e " , " g r a d e r e p o r t _ g r a d e d i s t " ) . d o n e ( f u n c t i o n ( c ) { a ( " # b o u n d a r y _ e r r o r _ c o n t a i n e r " ) . f i r s t ( ) . a p p e n d ( ' < d i v   c l a s s = " b _ e r r o r "   i d = " b _ c o v e r a g e " > < s p a n > ' + c + ' < / s p a n > < s p a n   c l a s s = " n e w c o v e r a g e " > ' + b . n e w c o v e r a g e [ 0 ] + " / " + b . n e w c o v e r a g e [ 1 ] + " < / s p a n > < / d i v > " ) } ) , d = ! 0 ) : g . l e n g t h & & g . r e m o v e ( ) , a ( " . a c t c o v e r a g e " ) . h t m l ( b . a c t c o v e r a g e [ 0 ] + " / " + b . a c t c o v e r a g e [ 1 ] + "   ( " + b . a c t c o v e r a g e [ 2 ] + " % ) " ) , a ( " . n e w c o v e r a g e " ) . h t m l ( b . n e w c o v e r a g e [ 0 ] + " / " + b . n e w c o v e r a g e [ 1 ] + "   ( " + b . n e w c o v e r a g e [ 2 ] + " % ) " ) , ! d } , d . p r o t o t y p e . i n i t C h a r t = f u n c t i o n ( a , b , d ) { v a r   e = [ { k e y : " g r a d e l e t t e r " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " a b s o l u t " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " p e r c e n t " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " p r i n t c h a r t " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " d o w n l o a d p n g " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " d o w n l o a d j p e g " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " d o w n l o a d p d f " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " d o w n l o a d s v g " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " d o w n l o a d j p e g " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } , { k e y : " c o n t e x t b u t t o n t i t l e " , c o m p o n e n t : " g r a d e r e p o r t _ g r a d e d i s t " } ] ; c . g e t _ s t r i n g s ( e ) . d o n e ( f u n c t i o n ( c ) { w i n d o w . c h a r t = n e w   d . C h a r t ( { c h a r t : { r e n d e r T o : " c h a r t _ c o n t a i n e r " , t y p e : " c o l u m n " } , t i t l e : { t e x t : a . t i t l e } , x A x i s : { t i t l e : { t e x t : c [ 0 ] } , c a t e g o r i e s : b } , y A x i s : { t i t l e : { t e x t : c [ 1 ] } } , l e g e n d : { e n a b l e d : ! 1 } , t o o l t i p : { e n a b l e d : ! 1 } , l a n g : { p r i n t C h a r t : c [ 3 ] , d o w n l o a d P N G : c [ 4 ] , d o w n l o a d J P E G : c [ 5 ] , d o w n l o a d P D F : c [ 6 ] , d o w n l o a d S V G : c [ 7 ] , c o n t e x t B u t t o n T i t l e : c [ 8 ] } , s e r i e s : [ { d a t a : w i n d o w . a b s o l u t , c o l o r : " # 9 9 0 0 0 0 " , d a t a L a b e l s : { e n a b l e d : ! 0 , c o l o r : " # 0 0 0 0 0 0 " , s t y l e : { f o n t W e i g h t : " n o r m a l " } } } , { d a t a : w i n d o w . a b s o l u t n e w , c o l o r : " # 3 3 c c 3 3 " , d a t a L a b e l s : { e n a b l e d : ! 0 , c o l o r : " # 0 0 0 0 0 0 " , s t y l e : { f o n t W e i g h t : " n o r m a l " } } } ] } ) } ) } ; v a r   e = n e w   d ; r e t u r n   e . i n i t i a l i z e r = f u n c t i o n ( d ) { b . i n f o ( " I n i t i a l i z e   s e t t i n g s   J S " , " g r a d e d i s t " ) ; v a r   f = d . d a t a ; w i n d o w . m o d e = 0 ; v a r   g = [ ] ; w i n d o w . a b s o l u t = [ ] , w i n d o w . p e r c e n t = [ ] , w i n d o w . a b s o l u t n e w = [ ] , w i n d o w . p e r c e n t n e w = [ ] ; v a r   h = " # i d _ s u b m i t b u t t o n " ; i f ( w i n d o w . s u b m i t = a ( h ) , w i n d o w . s u b m i t . l e n g t h & & w i n d o w . s u b m i t . p r o p ( " d i s a b l e d " , ! 0 ) , a . m a p ( f . a c t d i s t , f u n c t i o n ( a , b ) { g . p u s h ( b ) , w i n d o w . a b s o l u t . p u s h ( a . c o u n t ) , w i n d o w . p e r c e n t . p u s h ( a . p e r c e n t a g e ) } ) , a . m a p ( f . n e w d i s t , f u n c t i o n ( a ) { w i n d o w . a b s o l u t n e w . p u s h ( a . c o u n t ) , w i n d o w . p e r c e n t n e w . p u s h ( a . p e r c e n t a g e ) } ) , w i n d o w . c h a r t = [ ] , f . h i g h c h a r t s _ s r c ) r e q u i r e ( [ " g r a d e r e p o r t _ g r a d e d i s t / d e f i n e _ h c _ s r c " ] , f u n c t i o n ( a ) { e . i n i t C h a r t ( f , g , a ) } ) ; e l s e   i f ( f . h i g h c h a r t s _ m i n ) r e q u i r e ( [ " g r a d e r e p o r t _ g r a d e d i s t / d e f i n e _ h c _ m i n " ] , f u n c t i o n ( a ) { e . i n i t C h a r t ( f , g , a ) } ) ; e l s e { v a r   i = " # c h a r t _ c o n t a i n e r " ; c . g e t _ s t r i n g ( " h i g h c h a r t s m i s s i n g " , " g r a d e r e p o r t _ g r a d e d i s t " ) . d o n e ( f u n c t i o n ( b ) { a ( i ) . f i r s t ( ) . h t m l ( " < b r > < p > < i > < s t r o n g > [   ! ! !   " + b + "   ! ! !   ] < / s t r o n g > < / i > < / p > < b r > " ) } ) } v a r   j = M . c f g . w w w r o o t + " / g r a d e / r e p o r t / g r a d e d i s t / a j a x _ h a n d l e r . p h p ? i d = " + f . c o u r s e i d , k = { m e t h o d : " P O S T " , h e a d e r s : { " C o n t e n t - T y p e " : " a p p l i c a t i o n / x - w w w - f o r m - u r l e n c o d e d ;   c h a r s e t = U T F - 8 " } , c o m p l e t e : f u n c t i o n ( a ) { e . u p d a t e ( a ) } , u r l : j } , l = " # i d _ g r a d e i t e m " , m = a ( l ) . f i r s t ( ) ; m . c h a n g e ( e , f u n c t i o n ( ) { v a r   b = a ( " . a l e r t - s u c c e s s " ) ; b & & b . r e m o v e ( ) , k . d a t a = a ( " # l e t t e r f o r m " ) . s e r i a l i z e ( ) + " & u p d a t e a l l = 1 " , a . a j a x ( k ) } ) ; v a r   n = " # i d _ c o u r s e g r o u p " , o = a ( n ) . f i r s t ( ) ; o & & o . c h a n g e ( e , f u n c t i o n ( ) { v a r   b = a ( " . a l e r t - s u c c e s s " ) ; b & & b . r e m o v e ( ) , a ( " # i d _ c o u r s e g r o u p i n g " ) . f i r s t ( ) . p r o p ( " v a l u e " , " 0 " ) , k . d a t a = a ( " # l e t t e r f o r m " ) . s e r i a l i z e ( ) + " & u p d a t e a l l = 1 " , a . a j a x ( k ) } ) ; v a r   p = " # i d _ c o u r s e g r o u p i n g " , q = a ( p ) . f i r s t ( ) ; q & & q . c h a n g e ( e , f u n c t i o n ( ) { v a r   b = a ( " . a l e r t - s u c c e s s " ) ; b & & b . r e m o v e ( ) , a ( " # i d _ c o u r s e g r o u p " ) . f i r s t ( ) . p r o p ( " v a l u e " , " 0 " ) , k . d a t a = a ( " # l e t t e r f o r m " ) . s e r i a l i z e ( ) + " & u p d a t e a l l = 1 " , a . a j a x ( k ) } ) , w i n d o w . b o u n d a r i e s = a ( " . g r a d e b o u n d a r i e s _ n e w   i n p u t [ t y p e = t e x t ] ,   # f g r o u p _ i d _ g r p _ g r a d e b o u n d a r i e s _ n e w   i n p u t [ t y p e = t e x t ] " ) , w i n d o w . b o u n d a r i e s . c h a n g e ( e , f u n c t i o n ( ) { v a r   b = a ( " # p a g e - g r a d e - r e p o r t - g r a d e d i s t - i n d e x   . n o t i f y p r o b l e m ,   # p a g e - g r a d e - r e p o r t - g r a d e d i s t - i n d e x   . n o t i f y s u c c e s s " ) ; b & & b . r e m o v e ( ) ; v a r   c = a ( " . a l e r t - s u c c e s s " ) ; c & & c . r e m o v e ( ) , e . v a l i d a t e ( ) & & ( k . d a t a = a ( " # l e t t e r f o r m " ) . s e r i a l i z e ( ) + " & u p d a t e a l l = 1 " , a . a j a x ( k ) ) } ) ; v a r   r = a ( ' i n p u t [ n a m e ^ = " g r p _ d e s c r i p t i o n " ] ' ) ; r . c h a n g e ( e , f u n c t i o n ( ) { w i n d o w . m o d e = t h i s . v a l u e ; v a r   a , b , d , e ; 1 = = w i n d o w . m o d e ? ( a = w i n d o w . p e r c e n t , b = w i n d o w . p e r c e n t n e w , d = " p e r c e n t " , e = 1 0 0 ) : ( a = w i n d o w . a b s o l u t , b = w i n d o w . a b s o l u t n e w , d = " a b s o l u t " , e = n u l l ) , c . g e t _ s t r i n g ( d , " g r a d e r e p o r t _ g r a d e d i s t " ) . d o n e ( f u n c t i o n ( c ) { w i n d o w . c h a r t . y A x i s [ 0 ] . a x i s T i t l e . a t t r ( { t e x t : c } ) , w i n d o w . c h a r t . y A x i s [ 0 ] . s e t E x t r e m e s ( 0 , e ) , w i n d o w . c h a r t . s e r i e s [ 0 ] . s e t D a t a ( a ) , w i n d o w . c h a r t . s e r i e s [ 1 ] . s e t D a t a ( b ) } ) } ) ; v a r   s = a ( " # i d _ g r p _ c o l u m n s _ a c t u a l c o l u m n s ,   # i d _ g r p _ c o l u m n s _ n e w c o l u m n s " ) ; s . c l i c k ( e , f u n c t i o n ( ) { v a r   a = " i d _ g r p _ c o l u m n s _ a c t u a l c o l u m n s " = = = t h i s . i d ? 0 : 1 ; t h i s . c h e c k e d ? w i n d o w . c h a r t . s e r i e s [ a ] . s h o w ( ) : w i n d o w . c h a r t . s e r i e s [ a ] . h i d e ( ) } ) , e . v a l i d a t e ( ) } , e } ) ; 
 d e f i n e ( ' g r a d i n g f o r m _ g u i d e / c o m m e n t _ c h o o s e r ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / y u i " ] , f u n c t i o n ( a , b , c ) { r e t u r n { i n i t i a l i s e : f u n c t i o n ( d , e , f , g ) { f u n c t i o n   h ( b , c ) { v a r   e = " < l a b e l > " + M . u t i l . g e t _ s t r i n g ( " i n s e r t c o m m e n t " , " g r a d i n g f o r m _ g u i d e " ) + " < / l a b e l > " , g = " c o m m e n t - c h o o s e r - " + d + " - c a n c e l " , h = ' < b u t t o n   i d = " ' + g + ' " > ' + M . u t i l . g e t _ s t r i n g ( " c a n c e l " , " m o o d l e " ) + " < / b u t t o n > " , i = n e w   M . c o r e . d i a l o g u e ( { m o d a l : ! 0 , h e a d e r C o n t e n t : e , b o d y C o n t e n t : b , f o o t e r C o n t e n t : h , f o c u s A f t e r H i d e : " # " + f , i d : " c o m m e n t s - c h o o s e r - d i a l o g - " + d } ) ; a ( " # " + g ) . c l i c k ( f u n c t i o n ( ) { i . h i d e ( ) } ) , a . e a c h ( c , f u n c t i o n ( b , c ) { v a r   e = " # c o m m e n t - o p t i o n - " + d + " - " + c . i d ; a ( e ) . c l i c k ( f u n c t i o n ( ) { v a r   b = a ( " # " + f ) , d = b . v a l ( ) ; " " ! = = a . t r i m ( d ) & & ( d + = " \ n " ) , d + = c . d e s c r i p t i o n , b . v a l ( d ) , i . h i d e ( ) } ) , a ( d o c u m e n t ) . o f f ( " k e y p r e s s " , e ) . o n ( " k e y p r e s s " , e , f u n c t i o n ( ) { v a r   b = e v e n t . w h i c h | | e v e n t . k e y C o d e ; 1 3 ! = b & & 3 2 ! = b | | a ( e ) . c l i c k ( ) } ) } ) , i . a f t e r ( " v i s i b l e C h a n g e " , f u n c t i o n ( a ) { a . p r e v V a l & & ! a . n e w V a l & & t h i s . d e s t r o y ( ) } , i ) , i . s h o w ( ) } f u n c t i o n   i ( ) { v a r   a = { c r i t e r i o n I d : d , c o m m e n t s : g } ; b . r e n d e r ( " g r a d i n g f o r m _ g u i d e / c o m m e n t _ c h o o s e r " , a ) . d o n e ( f u n c t i o n ( a ) { h ( a , g ) } ) . f a i l ( c . e x c e p t i o n ) } a ( " # " + e ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , i ( ) } ) } } } ) ; 
 d e f i n e ( ' t o o l _ a n a l y t i c s / m o d e l ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / l o g " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { c l e a r : { t i t l e : { k e y : " c l e a r p r e d i c t i o n s " , c o m p o n e n t : " t o o l _ a n a l y t i c s " } , b o d y : { k e y : " c l e a r m o d e l p r e d i c t i o n s " , c o m p o n e n t : " t o o l _ a n a l y t i c s " } } } , h = f u n c t i o n ( b ) { r e t u r n   a ( b . c l o s e s t ( " t r " ) [ 0 ] ) . f i n d ( " s p a n . t a r g e t - n a m e " ) . t e x t ( ) } ; r e t u r n { c o n f i r m A c t i o n : f u n c t i o n ( i , j ) { a ( ' [ d a t a - a c t i o n - i d = " ' + i + ' " ] ' ) . o n ( " c l i c k " , f u n c t i o n ( i ) { i . p r e v e n t D e f a u l t ( ) ; v a r   k = a ( i . c u r r e n t T a r g e t ) ; i f ( " u n d e f i n e d " = = t y p e o f   g [ j ] ) r e t u r n   v o i d   c . e r r o r ( ' A c t i o n   " ' + j + ' "   i s   n o t   a l l o w e d . ' ) ; v a r   l = [ g [ j ] . t i t l e , g [ j ] . b o d y ] ; l [ 1 ] . p a r a m = h ( k ) ; v a r   m = b . g e t _ s t r i n g s ( l ) , n = e . c r e a t e ( { t y p e : e . t y p e s . S A V E _ C A N C E L } ) ; a . w h e n ( m , n ) . t h e n ( f u n c t i o n ( a , b ) { r e t u r n   b . s e t T i t l e ( a [ 0 ] ) , b . s e t B o d y ( a [ 1 ] ) , b . s e t S a v e B u t t o n T e x t ( a [ 0 ] ) , b . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = k . a t t r ( " h r e f " ) } ) , b . s h o w ( ) , b } ) . f a i l ( d . e x c e p t i o n ) } ) } } } ) ; 
 d e f i n e ( ' t o o l _ a n a l y t i c s / l o g _ i n f o ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { r e t u r n { l o a d I n f o : f u n c t i o n ( e , f ) { v a r   g = a ( ' [ d a t a - m o d e l - l o g - i d = " ' + e + ' " ] ' ) ; b . g e t _ s t r i n g ( " l o g i n f o " , " t o o l _ a n a l y t i c s " ) . t h e n ( f u n c t i o n ( b ) { v a r   d = a ( " < u l > " ) ; r e t u r n   f . f o r E a c h ( f u n c t i o n ( a ) { d . a p p e n d ( " < l i > " + a + " < / l i > " ) } ) , d . a p p e n d ( " < / u l > " ) , c . c r e a t e ( { t i t l e : b , b o d y : d . h t m l ( ) , l a r g e : ! 0 } , g ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / e v e n t s ' ,   [ ] , f u n c t i o n ( ) { r e t u r n { a p p r o v e : " t o o l _ d a t a p r i v a c y - d a t a _ r e q u e s t : a p p r o v e " , b u l k A p p r o v e : " t o o l _ d a t a p r i v a c y - d a t a _ r e q u e s t : b u l k _ a p p r o v e " , d e n y : " t o o l _ d a t a p r i v a c y - d a t a _ r e q u e s t : d e n y " , b u l k D e n y : " t o o l _ d a t a p r i v a c y - d a t a _ r e q u e s t : b u l k _ d e n y " , c o m p l e t e : " t o o l _ d a t a p r i v a c y - d a t a _ r e q u e s t : c o m p l e t e " } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / a d d _ p u r p o s e ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / f r a g m e n t " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { P U R P O S E _ L I N K : ' [ d a t a - a d d - e l e m e n t = " p u r p o s e " ] ' } , i = f u n c t i o n ( a ) { t h i s . c o n t e x t I d = a ; v a r   c = [ { k e y : " a d d p u r p o s e " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " s a v e " , c o m p o n e n t : " a d m i n " } ] ; t h i s . s t r i n g s = b . g e t _ s t r i n g s ( c ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   i . p r o t o t y p e . c o n t e x t I d = 0 , i . p r o t o t y p e . s t r i n g s = 0 , i . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   b = a ( h . P U R P O S E _ L I N K ) ; b . o n ( " c l i c k " , f u n c t i o n ( ) { r e t u r n   t h i s . s t r i n g s . t h e n ( f u n c t i o n ( a ) { e . c r e a t e ( { t y p e : e . t y p e s . S A V E _ C A N C E L , t i t l e : a [ 0 ] , b o d y : " " } , b ) . d o n e ( f u n c t i o n ( b ) { t h i s . s e t u p F o r m M o d a l ( b , a [ 1 ] ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . g e t B o d y = f u n c t i o n ( a ) { v a r   b = n u l l ; r e t u r n " u n d e f i n e d " ! = t y p e o f   a & & ( b = { j s o n f o r m d a t a : J S O N . s t r i n g i f y ( a ) } ) , g . l o a d F r a g m e n t ( " t o o l _ d a t a p r i v a c y " , " a d d p u r p o s e _ f o r m " , t h i s . c o n t e x t I d , b ) } , i . p r o t o t y p e . s e t u p F o r m M o d a l = f u n c t i o n ( a , b ) { a . s e t L a r g e ( ) , a . s e t S a v e B u t t o n T e x t ( b ) , a . g e t R o o t ( ) . o n ( f . h i d d e n , t h i s . d e s t r o y . b i n d ( t h i s ) ) , a . s e t B o d y ( t h i s . g e t B o d y ( ) ) , a . g e t R o o t ( ) . o n ( f . s a v e , t h i s . s u b m i t F o r m . b i n d ( t h i s ) ) , a . g e t R o o t ( ) . o n ( " s u b m i t " , " f o r m " , t h i s . s u b m i t F o r m A j a x . b i n d ( t h i s ) ) , t h i s . m o d a l = a , a . s h o w ( ) } , i . p r o t o t y p e . s u b m i t F o r m = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) . s u b m i t ( ) } , i . p r o t o t y p e . s u b m i t F o r m A j a x = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) . s e r i a l i z e ( ) ; c . c a l l ( [ { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ c r e a t e _ p u r p o s e _ f o r m " , a r g s : { j s o n f o r m d a t a : J S O N . s t r i n g i f y ( b ) } , d o n e : f u n c t i o n ( a ) { a . v a l i d a t i o n e r r o r s ? t h i s . m o d a l . s e t B o d y ( t h i s . g e t B o d y ( b ) ) : t h i s . c l o s e ( ) } . b i n d ( t h i s ) , f a i l : d . e x c e p t i o n } ] ) } , i . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . d e s t r o y ( ) , d o c u m e n t . l o c a t i o n . r e l o a d ( ) } , i . p r o t o t y p e . d e s t r o y = f u n c t i o n ( ) { Y . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) , t h i s . m o d a l . d e s t r o y ( ) } , i . p r o t o t y p e . r e m o v e L i s t e n e r s = f u n c t i o n ( ) { a ( h . P U R P O S E _ L I N K ) . o f f ( " c l i c k " ) } , { g e t I n s t a n c e : f u n c t i o n ( a ) { r e t u r n   n e w   i ( a ) } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / m y r e q u e s t a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { f u n c t i o n   h ( a ) { v a r   e = { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ c o n t a c t _ d p o " , a r g s : { m e s s a g e : a } } , f = " s u c c e s s " ; b . c a l l ( [ e ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . r e s u l t ? d . g e t _ s t r i n g ( " r e q u e s t s u b m i t t e d " , " t o o l _ d a t a p r i v a c y " ) : ( f = " e r r o r " , a . w a r n i n g s . j o i n ( " < b r > " ) ) } ) . d o n e ( f u n c t i o n ( a ) { c . a d d N o t i f i c a t i o n ( { m e s s a g e : a , t y p e : f } ) } ) . f a i l ( c . e x c e p t i o n ) } v a r   i = { C A N C E L _ R E Q U E S T : ' [ d a t a - a c t i o n = " c a n c e l " ] ' , C O N T A C T _ D P O : ' [ d a t a - a c t i o n = " c o n t a c t d p o " ] ' } , j = f u n c t i o n ( ) { t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   j . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { a ( i . C A N C E L _ R E Q U E S T ) . c l i c k ( f u n c t i o n ( g ) { g . p r e v e n t D e f a u l t ( ) ; v a r   h = a ( t h i s ) . d a t a ( " r e q u e s t i d " ) , i = [ { k e y : " c a n c e l r e q u e s t " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " c a n c e l r e q u e s t c o n f i r m a t i o n " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] ; d . g e t _ s t r i n g s ( i ) . t h e n ( f u n c t i o n ( a ) { v a r   d = a [ 0 ] , g = a [ 1 ] ; r e t u r n   e . c r e a t e ( { t i t l e : d , b o d y : g , t y p e : e . t y p e s . S A V E _ C A N C E L } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . s e t S a v e B u t t o n T e x t ( d ) , a . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { v a r   a = { r e q u e s t i d : h } , d = { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ c a n c e l _ d a t a _ r e q u e s t " , a r g s : a } ; b . c a l l ( [ d ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { a . r e s u l t ? w i n d o w . l o c a t i o n . r e l o a d ( ) : c . a d d N o t i f i c a t i o n ( { m e s s a g e : a . w a r n i n g s [ 0 ] . m e s s a g e , t y p e : " e r r o r " } ) } ) . f a i l ( c . e x c e p t i o n ) } ) , a . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { a . d e s t r o y ( ) } ) , a } ) } ) . d o n e ( f u n c t i o n ( a ) { a . s h o w ( ) } ) . f a i l ( c . e x c e p t i o n ) } ) , a ( i . C O N T A C T _ D P O ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   i = a ( t h i s ) . d a t a ( " r e p l y t o e m a i l " ) , j = [ { k e y : " c o n t a c t d a t a p r o t e c t i o n o f f i c e r " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " s e n d " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] , k = " " ; d . g e t _ s t r i n g s ( j ) . t h e n ( f u n c t i o n ( a ) { v a r   b = a [ 0 ] ; k = a [ 1 ] ; v a r   c = { r e p l y t o e m a i l : i } ; r e t u r n   e . c r e a t e ( { t i t l e : b , b o d y : g . r e n d e r ( " t o o l _ d a t a p r i v a c y / c o n t a c t _ d p o " , c ) , t y p e : e . t y p e s . S A V E _ C A N C E L , l a r g e : ! 0 } ) } ) . d o n e ( f u n c t i o n ( b ) { b . s e t S a v e B u t t o n T e x t ( k ) , b . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( b ) { v a r   c = a ( " # m e s s a g e " ) . v a l ( ) . t r i m ( ) ; 0 = = = c . l e n g t h ? ( b . p r e v e n t D e f a u l t ( ) , a ( ' [ d a t a - r e g i o n = " m e s s a g e i n p u t " ] ' ) . a d d C l a s s ( " h a s - d a n g e r   n o t i f y p r o b l e m " ) , a ( " # i d _ e r r o r _ m e s s a g e " ) . r e m o v e A t t r ( " h i d d e n " ) ) : h ( c ) } ) , b . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { b . d e s t r o y ( ) } ) , b . s h o w ( ) } ) . f a i l ( c . e x c e p t i o n ) } ) } , { i n i t : f u n c t i o n ( ) { r e t u r n   n e w   j } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / p u r p o s e s a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { D E L E T E : ' [ d a t a - a c t i o n = " d e l e t e p u r p o s e " ] ' } , h = f u n c t i o n ( ) { t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { a ( g . D E L E T E ) . c l i c k ( f u n c t i o n ( g ) { g . p r e v e n t D e f a u l t ( ) ; v a r   h = a ( t h i s ) . d a t a ( " i d " ) , i = a ( t h i s ) . d a t a ( " n a m e " ) , j = [ { k e y : " d e l e t e p u r p o s e " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " d e l e t e p u r p o s e t e x t " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " , p a r a m : i } , { k e y : " d e l e t e " } ] ; d . g e t _ s t r i n g s ( j ) . t h e n ( f u n c t i o n ( d ) { v a r   g = d [ 0 ] , i = d [ 1 ] , j = d [ 2 ] ; r e t u r n   e . c r e a t e ( { t i t l e : g , b o d y : i , t y p e : e . t y p e s . S A V E _ C A N C E L } ) . t h e n ( f u n c t i o n ( d ) { r e t u r n   d . s e t S a v e B u t t o n T e x t ( j ) , d . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { v a r   d = { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ d e l e t e _ p u r p o s e " , a r g s : { i d : h } } ; b . c a l l ( [ d ] ) [ 0 ] . d o n e ( f u n c t i o n ( b ) { b . r e s u l t ? a ( ' t r [ d a t a - p u r p o s e i d = " ' + h + ' " ] ' ) . r e m o v e ( ) : c . a d d N o t i f i c a t i o n ( { m e s s a g e : b . w a r n i n g s [ 0 ] . m e s s a g e , t y p e : " e r r o r " } ) } ) . f a i l ( c . e x c e p t i o n ) } ) , d . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { d . d e s t r o y ( ) } ) , d } ) } ) . d o n e ( f u n c t i o n ( a ) { a . s h o w ( ) } ) . f a i l ( c . e x c e p t i o n ) } ) } , { i n i t : f u n c t i o n ( ) { r e t u r n   n e w   h } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / f o r m - u s e r - s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . _ l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h ; h = b . c a l l ( [ { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ u s e r s " , a r g s : { q u e r y : e } } ] ) , h [ 0 ] . t h e n ( f u n c t i o n ( b ) { v a r   d = [ ] , e = 0 ; r e t u r n   a . e a c h ( b , f u n c t i o n ( a , b ) { d . p u s h ( c . r e n d e r ( " t o o l _ d a t a p r i v a c y / f o r m - u s e r - s e l e c t o r - s u g g e s t i o n " , b ) ) } ) , a . w h e n . a p p l y ( a . w h e n , d ) . t h e n ( f u n c t i o n ( ) { v a r   c = a r g u m e n t s ; a . e a c h ( b , f u n c t i o n ( a , b ) { b . _ l a b e l = c [ e ] , e + + } ) , f ( b ) } ) } ) . f a i l ( g ) } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / d e f a u l t s a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { f u n c t i o n   h ( b , d , h , j , k , l , m , n ) { n u l l ! = = h & & l . f o r E a c h ( f u n c t i o n ( a ) { a . i d = = = h & & ( a . s e l e c t e d = ! 0 ) } ) , n u l l ! = = j & & m . f o r E a c h ( f u n c t i o n ( a ) { a . i d = = = j & & ( a . s e l e c t e d = ! 0 ) } ) ; v a r   o = { c o n t e x t l e v e l : d , c a t e g o r y o p t i o n s : l , p u r p o s e o p t i o n s : m } ; n u l l ! = = n & & n . l e n g t h & & ( n u l l = = = k ? o . n e w a c t i v i t y d e f a u l t s = ! 0 : n . f o r E a c h ( f u n c t i o n ( a ) { k = = = a . n a m e & & ( a . s e l e c t e d = ! 0 ) } ) , o . m o d e m o d u l e = ! 0 , o . a c t i v i t y o p t i o n s = n ) , e . c r e a t e ( { t i t l e : b , b o d y : g . r e n d e r ( " t o o l _ d a t a p r i v a c y / c a t e g o r y _ p u r p o s e _ f o r m " , o ) , t y p e : e . t y p e s . S A V E _ C A N C E L , l a r g e : ! 0 } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   b . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { v a r   b = a ( " # a c t i v i t y " ) , c = " u n d e f i n e d " ! = t y p e o f   b ? b . v a l ( ) : n u l l , d = a ( " # o v e r r i d e " ) , e = " u n d e f i n e d " ! = t y p e o f   d & & d . i s ( " : c h e c k e d " ) ; i ( a ( " # c o n t e x t l e v e l " ) . v a l ( ) , a ( " # c a t e g o r y " ) . v a l ( ) , a ( " # p u r p o s e " ) . v a l ( ) , c , e ) } ) , b . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { b . d e s t r o y ( ) } ) , b . s h o w ( ) , b } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } f u n c t i o n   i ( a , c , d , e , f ) { v a r   g = { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ s e t _ c o n t e x t _ d e f a u l t s " , a r g s : { c o n t e x t l e v e l : a , c a t e g o r y : c , p u r p o s e : d , o v e r r i d e : f , a c t i v i t y : e } } ; b . c a l l ( [ g ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { a . r e s u l t & & w i n d o w . l o c a t i o n . r e l o a d ( ) } ) } v a r   j = { E D I T _ L E V E L _ D E F A U L T S : ' [ d a t a - a c t i o n = " e d i t - l e v e l - d e f a u l t s " ] ' , N E W _ A C T I V I T Y _ D E F A U L T S : ' [ d a t a - a c t i o n = " n e w - a c t i v i t y - d e f a u l t s " ] ' , E D I T _ A C T I V I T Y _ D E F A U L T S : ' [ d a t a - a c t i o n = " e d i t - a c t i v i t y - d e f a u l t s " ] ' , D E L E T E _ A C T I V I T Y _ D E F A U L T S : ' [ d a t a - a c t i o n = " d e l e t e - a c t i v i t y - d e f a u l t s " ] ' } , k = - 1 , l = f u n c t i o n ( ) { t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   l . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { a ( j . E D I T _ L E V E L _ D E F A U L T S ) . c l i c k ( f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   f = a ( t h i s ) , g = f . d a t a ( " c o n t e x t l e v e l " ) , i = f . d a t a ( " c a t e g o r y " ) , j = f . d a t a ( " p u r p o s e " ) , k = [ { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ c a t e g o r y _ o p t i o n s " , a r g s : { } } , { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ p u r p o s e _ o p t i o n s " , a r g s : { } } ] , l = b . c a l l ( k ) , m = d . g e t _ s t r i n g ( " e d i t d e f a u l t s " , " t o o l _ d a t a p r i v a c y " , a ( " # d e f a u l t s - h e a d e r " ) . t e x t ( ) ) ; a . w h e n ( l [ 0 ] , l [ 1 ] , m ) . t h e n ( f u n c t i o n ( a , b , c ) { v a r   d = a . o p t i o n s , e = b . o p t i o n s ; r e t u r n   h ( c , g , i , j , n u l l , d , e , n u l l ) , ! 0 } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } ) , a ( j . N E W _ A C T I V I T Y _ D E F A U L T S ) . c l i c k ( f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   f = a ( t h i s ) , g = f . d a t a ( " c o n t e x t l e v e l " ) , i = [ { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ c a t e g o r y _ o p t i o n s " , a r g s : { } } , { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ p u r p o s e _ o p t i o n s " , a r g s : { } } , { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ a c t i v i t y _ o p t i o n s " , a r g s : { n o d e f a u l t s : ! 0 } } ] , j = b . c a l l ( i ) , k = d . g e t _ s t r i n g ( " a d d n e w d e f a u l t s " , " t o o l _ d a t a p r i v a c y " ) ; a . w h e n ( j [ 0 ] , j [ 1 ] , j [ 2 ] , k ) . t h e n ( f u n c t i o n ( a , b , c , d ) { v a r   e = a . o p t i o n s , f = b . o p t i o n s , i = c . o p t i o n s ; r e t u r n   h ( d , g , n u l l , n u l l , n u l l , e , f , i ) , ! 0 } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } ) , a ( j . E D I T _ A C T I V I T Y _ D E F A U L T S ) . c l i c k ( f u n c t i o n ( e ) { e . p r e v e n t D e f a u l t ( ) ; v a r   f = a ( t h i s ) , g = f . d a t a ( " c o n t e x t l e v e l " ) , i = f . d a t a ( " c a t e g o r y " ) , j = f . d a t a ( " p u r p o s e " ) , k = f . d a t a ( " a c t i v i t y n a m e " ) , l = [ { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ c a t e g o r y _ o p t i o n s " , a r g s : { } } , { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ p u r p o s e _ o p t i o n s " , a r g s : { } } , { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ a c t i v i t y _ o p t i o n s " , a r g s : { } } ] , m = b . c a l l ( l ) , n = d . g e t _ s t r i n g ( " e d i t m o d u l e d e f a u l t s " , " t o o l _ d a t a p r i v a c y " ) ; a . w h e n ( m [ 0 ] , m [ 1 ] , m [ 2 ] , n ) . t h e n ( f u n c t i o n ( a , b , c , d ) { v a r   e = a . o p t i o n s , f = b . o p t i o n s , l = c . o p t i o n s ; r e t u r n   h ( d , g , i , j , k , e , f , l ) , ! 0 } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } ) , a ( j . D E L E T E _ A C T I V I T Y _ D E F A U L T S ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   h = a ( t h i s ) , j = h . d a t a ( " c o n t e x t l e v e l " ) , l = h . d a t a ( " a c t i v i t y n a m e " ) , m = h . d a t a ( " a c t i v i t y d i s p l a y n a m e " ) , n = k , o = k ; e . c r e a t e ( { t i t l e : d . g e t _ s t r i n g ( " d e l e t e d e f a u l t s " , " t o o l _ d a t a p r i v a c y " , m ) , b o d y : g . r e n d e r ( " t o o l _ d a t a p r i v a c y / d e l e t e _ a c t i v i t y _ d e f a u l t s " , { a c t i v i t y n a m e : m } ) , t y p e : e . t y p e s . S A V E _ C A N C E L , l a r g e : ! 0 } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . s e t S a v e B u t t o n T e x t ( d . g e t _ s t r i n g ( " d e l e t e " ) ) , a . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { i ( j , n , o , l , ! 1 ) } ) , a . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { a . d e s t r o y ( ) } ) , a . s h o w ( ) , ! 0 } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } ) } , { i n i t : f u n c t i o n ( ) { r e t u r n   n e w   l } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / c a t e g o r i e s a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { D E L E T E : ' [ d a t a - a c t i o n = " d e l e t e c a t e g o r y " ] ' } , h = f u n c t i o n ( ) { t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { a ( g . D E L E T E ) . c l i c k ( f u n c t i o n ( g ) { g . p r e v e n t D e f a u l t ( ) ; v a r   h = a ( t h i s ) . d a t a ( " i d " ) , i = a ( t h i s ) . d a t a ( " n a m e " ) , j = [ { k e y : " d e l e t e c a t e g o r y " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " d e l e t e c a t e g o r y t e x t " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " , p a r a m : i } , { k e y : " d e l e t e " } ] ; d . g e t _ s t r i n g s ( j ) . t h e n ( f u n c t i o n ( d ) { v a r   g = d [ 0 ] , i = d [ 1 ] , j = d [ 2 ] ; r e t u r n   e . c r e a t e ( { t i t l e : g , b o d y : i , t y p e : e . t y p e s . S A V E _ C A N C E L } ) . t h e n ( f u n c t i o n ( d ) { r e t u r n   d . s e t S a v e B u t t o n T e x t ( j ) , d . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { v a r   d = { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ d e l e t e _ c a t e g o r y " , a r g s : { i d : h } } ; b . c a l l ( [ d ] ) [ 0 ] . d o n e ( f u n c t i o n ( b ) { b . r e s u l t ? a ( ' t r [ d a t a - c a t e g o r y i d = " ' + h + ' " ] ' ) . r e m o v e ( ) : c . a d d N o t i f i c a t i o n ( { m e s s a g e : b . w a r n i n g s [ 0 ] . m e s s a g e , t y p e : " e r r o r " } ) } ) . f a i l ( c . e x c e p t i o n ) } ) , d . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { d . d e s t r o y ( ) } ) , d } ) } ) . d o n e ( f u n c t i o n ( a ) { a . s h o w ( ) } ) . f a i l ( c . e x c e p t i o n ) } ) } , { i n i t : f u n c t i o n ( ) { r e t u r n   n e w   h } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / e x p a n d _ c o n t r a c t ' ,   [ " j q u e r y " , " c o r e / u r l " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c ) { v a r   d = a ( ' < i m g   a l t = " "   s r c = " ' + b . i m a g e U r l ( " t / e x p a n d e d " ) + ' " / > ' ) , e = a ( ' < i m g   a l t = " "   s r c = " ' + b . i m a g e U r l ( " t / c o l l a p s e d " ) + ' " / > ' ) ; r e t u r n { e x p a n d C o l l a p s e : f u n c t i o n ( a , b ) { a . h a s C l a s s ( " h i d e " ) ? ( a . r e m o v e C l a s s ( " h i d e " ) , a . a d d C l a s s ( " v i s i b l e " ) , a . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , b . f i n d ( " : h e a d e r   i . f a " ) . r e m o v e C l a s s ( " f a - p l u s - s q u a r e " ) , b . f i n d ( " : h e a d e r   i . f a " ) . a d d C l a s s ( " f a - m i n u s - s q u a r e " ) , b . f i n d ( " : h e a d e r   i m g . i c o n " ) . a t t r ( " s r c " , d . a t t r ( " s r c " ) ) ) : ( a . r e m o v e C l a s s ( " v i s i b l e " ) , a . a d d C l a s s ( " h i d e " ) , a . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) , b . f i n d ( " : h e a d e r   i . f a " ) . r e m o v e C l a s s ( " f a - m i n u s - s q u a r e " ) , b . f i n d ( " : h e a d e r   i . f a " ) . a d d C l a s s ( " f a - p l u s - s q u a r e " ) , b . f i n d ( " : h e a d e r   i m g . i c o n " ) . a t t r ( " s r c " , e . a t t r ( " s r c " ) ) ) } , e x p a n d C o l l a p s e A l l : f u n c t i o n ( b ) { v a r   f = " v i s i b l e " = = b ? " h i d e " : " v i s i b l e " , g = " v i s i b l e " = = b , h = " v i s i b l e " = = b ? " f a - p l u s - s q u a r e " : " f a - m i n u s - s q u a r e " , i = " v i s i b l e " = = b ? " f a - m i n u s - s q u a r e " : " f a - p l u s - s q u a r e " , j = " v i s i b l e " = = b ? d . a t t r ( " s r c " ) : e . a t t r ( " s r c " ) ; a ( " . " + f ) . e a c h ( f u n c t i o n ( ) { a ( t h i s ) . r e m o v e C l a s s ( f ) , a ( t h i s ) . a d d C l a s s ( b ) , a ( t h i s ) . a t t r ( " a r i a - e x p a n d e d " , g ) } ) , a ( " . t o o l _ d a t a p r i v a c y - e x p a n d - a l l " ) . d a t a ( " v i s i b i l i t y S t a t e " , f ) , c . g e t _ s t r i n g ( f , " t o o l _ d a t a p r i v a c y " ) . t h e n ( f u n c t i o n ( b ) { a ( " . t o o l _ d a t a p r i v a c y - e x p a n d - a l l " ) . h t m l ( b ) } ) [ " c a t c h " ] ( N o t i f i c a t i o n . e x c e p t i o n ) , a ( " : h e a d e r   i . f a " ) . e a c h ( f u n c t i o n ( ) { a ( t h i s ) . r e m o v e C l a s s ( h ) , a ( t h i s ) . a d d C l a s s ( i ) } ) , a ( " : h e a d e r   i m g . i c o n " ) . e a c h ( f u n c t i o n ( ) { a ( t h i s ) . a t t r ( " s r c " , j ) } ) } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / r e q u e s t _ f i l t e r ' ,   [ " j q u e r y " , " c o r e / f o r m - a u t o c o m p l e t e " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { R E Q U E S T _ F I L T E R S : " # r e q u e s t - f i l t e r s " } , f = f u n c t i o n ( ) { v a r   f = [ { k e y : " f i l t e r " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o f i l t e r s a p p l i e d " , c o m p o n e n t : " m o o d l e " } ] ; c . g e t _ s t r i n g s ( f ) . t h e n ( f u n c t i o n ( a ) { v a r   c = a [ 0 ] , d = a [ 1 ] ; r e t u r n   b . e n h a n c e ( e . R E Q U E S T _ F I L T E R S , ! 1 , " " , c , ! 1 , ! 0 , d , ! 0 ) } ) . f a i l ( d . e x c e p t i o n ) ; v a r   g = a ( e . R E Q U E S T _ F I L T E R S ) . v a l ( ) ; a ( e . R E Q U E S T _ F I L T E R S ) . o n ( " c h a n g e " , f u n c t i o n ( ) { v a r   b = a ( t h i s ) . v a l ( ) ; g . j o i n ( " , " ) ! = = b . j o i n ( " , " ) & & ( 0 = = = b . l e n g t h & & a ( " # f i l t e r s - c l e a r e d " ) . v a l ( 1 ) , a ( t h i s . f o r m ) . s u b m i t ( ) ) } ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { f ( ) } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / d a t a _ d e l e t i o n ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { f u n c t i o n   g ( a ) { v a r   g = [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c o n f i r m c o n t e x t d e l e t i o n " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] , h = " t o o l _ d a t a p r i v a c y _ c o n f i r m _ c o n t e x t s _ f o r _ d e l e t i o n " , i = " " ; d . g e t _ s t r i n g s ( g ) . t h e n ( f u n c t i o n ( a ) { i = a [ 0 ] ; v a r   b = a [ 1 ] ; r e t u r n   e . c r e a t e ( { t i t l e : i , b o d y : b , t y p e : e . t y p e s . S A V E _ C A N C E L } ) } ) . t h e n ( f u n c t i o n ( d ) { r e t u r n   d . s e t S a v e B u t t o n T e x t ( i ) , d . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { v a r   d = { i d s : a } , e = { m e t h o d n a m e : h , a r g s : d } ; b . c a l l ( [ e ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { a . r e s u l t ? w i n d o w . l o c a t i o n . r e l o a d ( ) : c . a d d N o t i f i c a t i o n ( { m e s s a g e : a . w a r n i n g s [ 0 ] . m e s s a g e , t y p e : " e r r o r " } ) } ) . f a i l ( c . e x c e p t i o n ) } ) , d . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { d . d e s t r o y ( ) } ) , d } ) . d o n e ( f u n c t i o n ( a ) { a . s h o w ( ) } ) . f a i l ( c . e x c e p t i o n ) } v a r   h = { M A R K _ F O R _ D E L E T I O N : ' [ d a t a - a c t i o n = " m a r k f o r d e l e t i o n " ] ' , S E L E C T _ A L L : ' [ d a t a - a c t i o n = " s e l e c t a l l " ] ' } , i = { S E L E C T C O N T E X T : " . s e l e c t c o n t e x t " } , j = f u n c t i o n ( ) { t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   j . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { a ( h . M A R K _ F O R _ D E L E T I O N ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = [ ] ; a ( i . S E L E C T C O N T E X T ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; b . i s ( " : c h e c k e d " ) & & c . p u s h ( b . v a l ( ) ) } ) , g ( c ) } ) , a ( h . S E L E C T _ A L L ) . c h a n g e ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) ; c . i s ( " : c h e c k e d " ) ? a ( i . S E L E C T C O N T E X T ) . a t t r ( " c h e c k e d " , " c h e c k e d " ) : a ( i . S E L E C T C O N T E X T ) . r e m o v e A t t r ( " c h e c k e d " ) } ) } , j } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / r e q u e s t a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / t e m p l a t e s " , " t o o l _ d a t a p r i v a c y / d a t a _ r e q u e s t _ m o d a l " , " t o o l _ d a t a p r i v a c y / e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i ) { f u n c t i o n   j ( a ) { r e t u r n { w s f u n c t i o n : " t o o l _ d a t a p r i v a c y _ a p p r o v e _ d a t a _ r e q u e s t " , w s p a r a m s : { r e q u e s t i d : a } } } f u n c t i o n   k ( a ) { r e t u r n { w s f u n c t i o n : " t o o l _ d a t a p r i v a c y _ b u l k _ a p p r o v e _ d a t a _ r e q u e s t s " , w s p a r a m s : { r e q u e s t i d s : a } } } f u n c t i o n   l ( a ) { r e t u r n { w s f u n c t i o n : " t o o l _ d a t a p r i v a c y _ d e n y _ d a t a _ r e q u e s t " , w s p a r a m s : { r e q u e s t i d : a } } } f u n c t i o n   m ( a ) { r e t u r n { w s f u n c t i o n : " t o o l _ d a t a p r i v a c y _ b u l k _ d e n y _ d a t a _ r e q u e s t s " , w s p a r a m s : { r e q u e s t i d s : a } } } f u n c t i o n   n ( a ) { r e t u r n { w s f u n c t i o n : " t o o l _ d a t a p r i v a c y _ m a r k _ c o m p l e t e " , w s p a r a m s : { r e q u e s t i d : a } } } f u n c t i o n   o ( a , b ) { v a r   g = [ ] ; s w i t c h ( a ) { c a s e   i . a p p r o v e : g = [ { k e y : " a p p r o v e r e q u e s t " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " c o n f i r m a p p r o v a l " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] ; b r e a k ; c a s e   i . b u l k A p p r o v e : g = [ { k e y : " b u l k a p p r o v e r e q u e s t s " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " c o n f i r m b u l k a p p r o v a l " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] ; b r e a k ; c a s e   i . d e n y : g = [ { k e y : " d e n y r e q u e s t " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " c o n f i r m d e n i a l " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] ; b r e a k ; c a s e   i . b u l k D e n y : g = [ { k e y : " b u l k d e n y r e q u e s t s " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " c o n f i r m b u l k d e n i a l " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] ; b r e a k ; c a s e   i . c o m p l e t e : g = [ { k e y : " m a r k c o m p l e t e " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " c o n f i r m c o m p l e t i o n " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] } v a r   h = " " ; d . g e t _ s t r i n g s ( g ) . t h e n ( f u n c t i o n ( a ) { h = a [ 0 ] ; v a r   b = a [ 1 ] ; r e t u r n   e . c r e a t e ( { t i t l e : h , b o d y : b , t y p e : e . t y p e s . S A V E _ C A N C E L } ) } ) . t h e n ( f u n c t i o n ( a ) { a . s e t S a v e B u t t o n T e x t ( h ) , a . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { p ( b . w s f u n c t i o n , b . w s p a r a m s ) } ) , a . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { a . d e s t r o y ( ) } ) , a . s h o w ( ) } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } f u n c t i o n   p ( a , d ) { v a r   e = { m e t h o d n a m e : a , a r g s : d } ; b . c a l l ( [ e ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { a . r e s u l t ? w i n d o w . l o c a t i o n . r e l o a d ( ) : c . a d d N o t i f i c a t i o n ( { m e s s a g e : a . w a r n i n g s [ 0 ] . m e s s a g e , t y p e : " e r r o r " } ) } ) . f a i l ( c . e x c e p t i o n ) } v a r   q = { A P P R O V E _ R E Q U E S T : ' [ d a t a - a c t i o n = " a p p r o v e " ] ' , D E N Y _ R E Q U E S T : ' [ d a t a - a c t i o n = " d e n y " ] ' , V I E W _ R E Q U E S T : ' [ d a t a - a c t i o n = " v i e w " ] ' , M A R K _ C O M P L E T E : ' [ d a t a - a c t i o n = " c o m p l e t e " ] ' , C H A N G E _ B U L K _ A C T I O N : ' [ i d = " b u l k - a c t i o n " ] ' , C O N F I R M _ B U L K _ A C T I O N : ' [ i d = " c o n f i r m - b u l k - a c t i o n " ] ' , S E L E C T _ A L L : ' [ d a t a - a c t i o n = " s e l e c t a l l " ] ' } , r = { A P P R O V E : 1 , D E N Y : 2 } , s = { S E L E C T _ R E Q U E S T : " . s e l e c t r e q u e s t s " } , t = f u n c t i o n ( ) { t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   t . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { a ( q . V I E W _ R E Q U E S T ) . c l i c k ( f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) ; v a r   k = a ( t h i s ) . d a t a ( " r e q u e s t i d " ) , m = { r e q u e s t i d : k } , n = { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ g e t _ d a t a _ r e q u e s t " , a r g s : m } , q = b . c a l l ( [ n ] ) ; a . w h e n ( q [ 0 ] ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . r e s u l t ? a . r e s u l t : ( c . a d d N o t i f i c a t i o n ( { m e s s a g e : a . w a r n i n g s [ 0 ] . m e s s a g e , t y p e : " e r r o r " } ) , ! 1 ) } ) . t h e n ( f u n c t i o n ( a ) { v a r   b = g . r e n d e r ( " t o o l _ d a t a p r i v a c y / r e q u e s t _ d e t a i l s " , a ) , c = { a p p r o v e d e n y : a . a p p r o v e d e n y , c a n m a r k c o m p l e t e : a . c a n m a r k c o m p l e t e } ; r e t u r n   e . c r e a t e ( { t i t l e : a . t y p e n a m e , b o d y : b , t y p e : h . T Y P E , l a r g e : ! 0 , t e m p l a t e C o n t e x t : c } ) } ) . t h e n ( f u n c t i o n ( a ) { a . g e t R o o t ( ) . o n ( i . a p p r o v e , f u n c t i o n ( ) { o ( i . a p p r o v e , j ( k ) ) } ) , a . g e t R o o t ( ) . o n ( i . d e n y , f u n c t i o n ( ) { o ( i . d e n y , l ( k ) ) } ) , a . g e t R o o t ( ) . o n ( i . c o m p l e t e , f u n c t i o n ( ) { v a r   a = { r e q u e s t i d : k } ; p ( " t o o l _ d a t a p r i v a c y _ m a r k _ c o m p l e t e " , a ) } ) , a . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { a . d e s t r o y ( ) } ) , a . s h o w ( ) } ) [ " c a t c h " ] ( c . e x c e p t i o n ) } ) , a ( q . A P P R O V E _ R E Q U E S T ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . d a t a ( " r e q u e s t i d " ) ; o ( i . a p p r o v e , j ( c ) ) } ) , a ( q . D E N Y _ R E Q U E S T ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . d a t a ( " r e q u e s t i d " ) ; o ( i . d e n y , l ( c ) ) } ) , a ( q . M A R K _ C O M P L E T E ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . d a t a ( " r e q u e s t i d " ) ; o ( i . c o m p l e t e , n ( c ) ) } ) , a ( q . C O N F I R M _ B U L K _ A C T I O N ) . c l i c k ( f u n c t i o n ( ) { v a r   b = [ ] , e = " " , f = { } , g = [ { k e y : " s e l e c t b u l k a c t i o n " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " s e l e c t d a t a r e q u e s t s " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " o k " } ] , h = p a r s e I n t ( a ( " # b u l k - a c t i o n " ) . v a l ( ) ) ; i f ( h ! = r . A P P R O V E & & h ! = r . D E N Y ) r e t u r n   v o i d   d . g e t _ s t r i n g s ( g ) . d o n e ( f u n c t i o n ( a ) { c . a l e r t ( " " , a [ 0 ] , a [ 2 ] ) } ) . f a i l ( c . e x c e p t i o n ) ; i f ( a ( " . s e l e c t r e q u e s t s : c h e c k e d " ) . e a c h ( f u n c t i o n ( ) { b . p u s h ( a ( t h i s ) . v a l ( ) ) } ) , b . l e n g t h < 1 ) r e t u r n   v o i d   d . g e t _ s t r i n g s ( g ) . d o n e ( f u n c t i o n ( a ) { c . a l e r t ( " " , a [ 1 ] , a [ 2 ] ) } ) . f a i l ( c . e x c e p t i o n ) ; s w i t c h ( h ) { c a s e   r . A P P R O V E : e = i . b u l k A p p r o v e , f = k ( b ) ; b r e a k ; c a s e   r . D E N Y : e = i . b u l k D e n y , f = m ( b ) } o ( e , f ) } ) , a ( q . S E L E C T _ A L L ) . c h a n g e ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) . i s ( " : c h e c k e d " ) ; a ( s . S E L E C T _ R E Q U E S T ) . p r o p ( " c h e c k e d " , c ) } ) } , t } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / a d d _ c a t e g o r y ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / f r a g m e n t " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { C A T E G O R Y _ L I N K : ' [ d a t a - a d d - e l e m e n t = " c a t e g o r y " ] ' } , i = f u n c t i o n ( a ) { t h i s . c o n t e x t I d = a ; v a r   c = [ { k e y : " a d d c a t e g o r y " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " s a v e " , c o m p o n e n t : " a d m i n " } ] ; t h i s . s t r i n g s = b . g e t _ s t r i n g s ( c ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } ; r e t u r n   i . p r o t o t y p e . c o n t e x t I d = 0 , i . p r o t o t y p e . s t r i n g s = 0 , i . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   b = a ( h . C A T E G O R Y _ L I N K ) ; b . o n ( " c l i c k " , f u n c t i o n ( ) { r e t u r n   t h i s . s t r i n g s . t h e n ( f u n c t i o n ( a ) { e . c r e a t e ( { t y p e : e . t y p e s . S A V E _ C A N C E L , t i t l e : a [ 0 ] , b o d y : " " } , b ) . d o n e ( f u n c t i o n ( b ) { t h i s . s e t u p F o r m M o d a l ( b , a [ 1 ] ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . g e t B o d y = f u n c t i o n ( a ) { v a r   b = n u l l ; r e t u r n " u n d e f i n e d " ! = t y p e o f   a & & ( b = { j s o n f o r m d a t a : J S O N . s t r i n g i f y ( a ) } ) , g . l o a d F r a g m e n t ( " t o o l _ d a t a p r i v a c y " , " a d d c a t e g o r y _ f o r m " , t h i s . c o n t e x t I d , b ) } , i . p r o t o t y p e . s e t u p F o r m M o d a l = f u n c t i o n ( a , b ) { a . s e t L a r g e ( ) , a . s e t S a v e B u t t o n T e x t ( b ) , a . g e t R o o t ( ) . o n ( f . h i d d e n , t h i s . d e s t r o y . b i n d ( t h i s ) ) , a . s e t B o d y ( t h i s . g e t B o d y ( ) ) , a . g e t R o o t ( ) . o n ( f . s a v e , t h i s . s u b m i t F o r m . b i n d ( t h i s ) ) , a . g e t R o o t ( ) . o n ( " s u b m i t " , " f o r m " , t h i s . s u b m i t F o r m A j a x . b i n d ( t h i s ) ) , t h i s . m o d a l = a , a . s h o w ( ) } , i . p r o t o t y p e . s u b m i t F o r m = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) . s u b m i t ( ) } , i . p r o t o t y p e . s u b m i t F o r m A j a x = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) . s e r i a l i z e ( ) ; c . c a l l ( [ { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ c r e a t e _ c a t e g o r y _ f o r m " , a r g s : { j s o n f o r m d a t a : J S O N . s t r i n g i f y ( b ) } , d o n e : f u n c t i o n ( a ) { a . v a l i d a t i o n e r r o r s ? t h i s . m o d a l . s e t B o d y ( t h i s . g e t B o d y ( b ) ) : t h i s . c l o s e ( ) } . b i n d ( t h i s ) , f a i l : d . e x c e p t i o n } ] ) } , i . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . d e s t r o y ( ) , d o c u m e n t . l o c a t i o n . r e l o a d ( ) } , i . p r o t o t y p e . d e s t r o y = f u n c t i o n ( ) { Y . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) , t h i s . m o d a l . d e s t r o y ( ) } , i . p r o t o t y p e . r e m o v e L i s t e n e r s = f u n c t i o n ( ) { a ( h . C A T E G O R Y _ L I N K ) . o f f ( " c l i c k " ) } , { g e t I n s t a n c e : f u n c t i o n ( a ) { r e t u r n   n e w   i ( a ) } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / e f f e c t i v e _ r e t e n t i o n _ p e r i o d ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = { P U R P O S E _ S E L E C T : " # i d _ p u r p o s e i d " , R E T E N T I O N _ F I E L D _ B O O S T : " # i d _ e r r o r _ r e t e n t i o n _ c u r r e n t " , R E T E N T I O N _ F I E L D _ C L E A N : " # f i t e m _ i d _ r e t e n t i o n _ c u r r e n t   [ d a t a - f i e l d t y p e = s t a t i c ] " } , c = f u n c t i o n ( a ) { t h i s . p u r p o s e R e t e n t i o n P e r i o d s = a , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) } , d = f u n c t i o n ( ) { a ( b . P U R P O S E _ S E L E C T ) . o f f ( " c h a n g e " ) } ; r e t u r n   c . p r o t o t y p e . p u r p o s e R e t e n t i o n P e r i o d s = [ ] , c . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { a ( b . P U R P O S E _ S E L E C T ) . o n ( " c h a n g e " , f u n c t i o n ( c ) { v a r   d = a ( c . c u r r e n t T a r g e t ) . v a l ( ) , e = t h i s . p u r p o s e R e t e n t i o n P e r i o d s [ d ] , f = a ( b . R E T E N T I O N _ F I E L D _ C L E A N ) ; i f ( f . l e n g t h > 0 ) f . t e x t ( e ) ; e l s e { v a r   g = a ( b . R E T E N T I O N _ F I E L D _ B O O S T ) , h = g . s i b l i n g s ( ) ; h . l e n g t h > 0 & & h . t e x t ( e ) } } . b i n d ( t h i s ) ) } , { i n i t : f u n c t i o n ( a ) { r e t u r n   d ( ) , n e w   c ( a ) } } } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / d a t a _ r e q u e s t _ m o d a l ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / m o d a l " , " c o r e / m o d a l _ r e g i s t r y " , " t o o l _ d a t a p r i v a c y / e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = ! 1 , h = { A P P R O V E _ B U T T O N : ' [ d a t a - a c t i o n = " a p p r o v e " ] ' , D E N Y _ B U T T O N : ' [ d a t a - a c t i o n = " d e n y " ] ' , C O M P L E T E _ B U T T O N : ' [ d a t a - a c t i o n = " c o m p l e t e " ] ' } , i = f u n c t i o n ( a ) { d . c a l l ( t h i s , a ) } ; r e t u r n   i . T Y P E = " t o o l _ d a t a p r i v a c y - d a t a _ r e q u e s t " , i . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , i . p r o t o t y p e . c o n s t r u c t o r = i , i . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { d . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s . c a l l ( t h i s ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , h . A P P R O V E _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( f . a p p r o v e ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , h . D E N Y _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( f . d e n y ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) , t h i s . g e t M o d a l ( ) . o n ( c . e v e n t s . a c t i v a t e , h . C O M P L E T E _ B U T T O N , f u n c t i o n ( b , c ) { v a r   d = a . E v e n t ( f . c o m p l e t e ) ; t h i s . g e t R o o t ( ) . t r i g g e r ( d , t h i s ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . h i d e ( ) , c . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) ) } . b i n d ( t h i s ) ) } , g | | ( e . r e g i s t e r ( i . T Y P E , i , " t o o l _ d a t a p r i v a c y / d a t a _ r e q u e s t _ m o d a l " ) , g = ! 0 ) , i } ) ; 
 d e f i n e ( ' t o o l _ d a t a p r i v a c y / d a t a _ r e g i s t r y ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / f r a g m e n t " , " t o o l _ d a t a p r i v a c y / a d d _ p u r p o s e " , " t o o l _ d a t a p r i v a c y / a d d _ c a t e g o r y " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j ) { v a r   k = { T R E E _ N O D E S : " [ d a t a - c o n t e x t - t r e e - n o d e = 1 ] " , F O R M _ C O N T A I N E R : " # c o n t e x t - f o r m - c o n t a i n e r " } , l = f u n c t i o n ( a , b , c ) { t h i s . s y s t e m C o n t e x t I d = a , t h i s . c u r r e n t C o n t e x t L e v e l = b , t h i s . c u r r e n t C o n t e x t I d = c , t h i s . i n i t ( ) } ; r e t u r n   l . p r o t o t y p e . s y s t e m C o n t e x t I d = 0 , l . p r o t o t y p e . c u r r e n t C o n t e x t L e v e l = 0 , l . p r o t o t y p e . c u r r e n t C o n t e x t I d = 0 , l . p r o t o t y p e . a d d p u r p o s e = n u l l , l . p r o t o t y p e . a d d c a t e g o r y = n u l l , l . p r o t o t y p e . i n i t = f u n c t i o n ( ) { t h i s . a d d p u r p o s e = i . g e t I n s t a n c e ( t h i s . s y s t e m C o n t e x t I d ) , t h i s . a d d c a t e g o r y = j . g e t I n s t a n c e ( t h i s . s y s t e m C o n t e x t I d ) ; v a r   a = [ { k e y : " c h a n g e s s a v e d " , c o m p o n e n t : " m o o d l e " } , { k e y : " c o n t e x t p u r p o s e c a t e g o r y s a v e d " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " n o b l o c k s t o l o a d " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " n o a c t i v i t i e s t o l o a d " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } , { k e y : " n o c o u r s e s t o l o a d " , c o m p o n e n t : " t o o l _ d a t a p r i v a c y " } ] ; t h i s . s t r i n g s = b . g e t _ s t r i n g s ( a ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) , t h i s . c u r r e n t C o n t e x t I d ? t h i s . l o a d F o r m ( " c o n t e x t _ f o r m " , [ t h i s . c u r r e n t C o n t e x t I d ] , t h i s . s u b m i t C o n t e x t F o r m A j a x . b i n d ( t h i s ) ) : t h i s . l o a d F o r m ( " c o n t e x t l e v e l _ f o r m " , [ t h i s . c u r r e n t C o n t e x t L e v e l ] , t h i s . s u b m i t C o n t e x t L e v e l F o r m A j a x . b i n d ( t h i s ) ) } , l . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { a ( k . T R E E _ N O D E S ) . o n ( " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . c u r r e n t T a r g e t ) ; a ( k . T R E E _ N O D E S ) . r e m o v e C l a s s ( " a c t i v e " ) , c . a d d C l a s s ( " a c t i v e " ) ; v a r   d = c . d a t a ( " c o n t e x t l e v e l " ) , e = c . d a t a ( " c o n t e x t i d " ) ; i f ( d ) w i n d o w . h i s t o r y . p u s h S t a t e ( { } , n u l l , " ? c o n t e x t l e v e l = " + d ) , t h i s . a d d p u r p o s e . r e m o v e L i s t e n e r s ( ) , t h i s . a d d c a t e g o r y . r e m o v e L i s t e n e r s ( ) , t h i s . c u r r e n t C o n t e x t L e v e l = d , t h i s . l o a d F o r m ( " c o n t e x t l e v e l _ f o r m " , [ t h i s . c u r r e n t C o n t e x t L e v e l ] , t h i s . s u b m i t C o n t e x t L e v e l F o r m A j a x . b i n d ( t h i s ) ) ; e l s e   i f ( e ) w i n d o w . h i s t o r y . p u s h S t a t e ( { } , n u l l , " ? c o n t e x t i d = " + e ) , t h i s . a d d p u r p o s e . r e m o v e L i s t e n e r s ( ) , t h i s . a d d c a t e g o r y . r e m o v e L i s t e n e r s ( ) , t h i s . c u r r e n t C o n t e x t I d = e , t h i s . l o a d F o r m ( " c o n t e x t _ f o r m " , [ t h i s . c u r r e n t C o n t e x t I d ] , t h i s . s u b m i t C o n t e x t F o r m A j a x . b i n d ( t h i s ) ) ; e l s e { v a r   f = c . d a t a ( " e x p a n d c o n t e x t i d " ) , g = c . d a t a ( " e x p a n d e l e m e n t " ) , h = c . d a t a ( " e x p a n d e d " ) ; g & & ( h ? t h i s . c o l l a p s e ( c ) : ! c . d a t a ( " l o a d e d " ) & & f & & g ? ( c . f i n d ( " >   i " ) . r e m o v e C l a s s ( " f a - p l u s " ) , c . f i n d ( " >   i " ) . a d d C l a s s ( " f a - c i r c l e - o - n o t c h   f a - s p i n " ) , t h i s . l o a d E x t r a ( c , f , g ) ) : t h i s . e x p a n d ( c ) ) } } . b i n d ( t h i s ) ) } , l . p r o t o t y p e . r e m o v e L i s t e n e r s = f u n c t i o n ( ) { a ( k . T R E E _ N O D E S ) . o f f ( " c l i c k " ) } , l . p r o t o t y p e . l o a d F o r m = f u n c t i o n ( b , c , f ) { t h i s . c l e a r F o r m ( ) ; v a r   g = h . l o a d F r a g m e n t ( " t o o l _ d a t a p r i v a c y " , b , t h i s . s y s t e m C o n t e x t I d , c ) ; g . d o n e ( f u n c t i o n ( b , c ) { a ( k . F O R M _ C O N T A I N E R ) . h t m l ( b ) , e . r u n T e m p l a t e J S ( c ) , t h i s . a d d p u r p o s e . r e g i s t e r E v e n t L i s t e n e r s ( ) , t h i s . a d d c a t e g o r y . r e g i s t e r E v e n t L i s t e n e r s ( ) , a ( k . F O R M _ C O N T A I N E R ) . o n ( " s u b m i t " , " f o r m " , f ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } , l . p r o t o t y p e . c l e a r F o r m = f u n c t i o n ( ) { Y . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) , a ( k . F O R M _ C O N T A I N E R ) . o f f ( " s u b m i t " , " f o r m " ) } , l . p r o t o t y p e . s u b m i t F o r m = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( k . F O R M _ C O N T A I N E R ) . f i n d ( " f o r m " ) . s u b m i t ( ) } , l . p r o t o t y p e . s u b m i t C o n t e x t L e v e l F o r m A j a x = f u n c t i o n ( a ) { t h i s . s u b m i t F o r m A j a x ( a , " t o o l _ d a t a p r i v a c y _ s e t _ c o n t e x t l e v e l _ f o r m " ) } , l . p r o t o t y p e . s u b m i t C o n t e x t F o r m A j a x = f u n c t i o n ( a ) { t h i s . s u b m i t F o r m A j a x ( a , " t o o l _ d a t a p r i v a c y _ s e t _ c o n t e x t _ f o r m " ) } , l . p r o t o t y p e . s u b m i t F o r m A j a x = f u n c t i o n ( b , e ) { b . p r e v e n t D e f a u l t ( ) ; v a r   f = a ( k . F O R M _ C O N T A I N E R ) . f i n d ( " f o r m " ) . s e r i a l i z e ( ) ; r e t u r n   t h i s . s t r i n g s . t h e n ( f u n c t i o n ( a ) { c . c a l l ( [ { m e t h o d n a m e : e , a r g s : { j s o n f o r m d a t a : J S O N . s t r i n g i f y ( f ) } , d o n e : f u n c t i o n ( ) { d . a l e r t ( a [ 0 ] , a [ 1 ] ) } , f a i l : d . e x c e p t i o n } ] ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , l . p r o t o t y p e . l o a d E x t r a = f u n c t i o n ( a , b , f ) { c . c a l l ( [ { m e t h o d n a m e : " t o o l _ d a t a p r i v a c y _ t r e e _ e x t r a _ b r a n c h e s " , a r g s : { c o n t e x t i d : b , e l e m e n t : f } , d o n e : f u n c t i o n ( b ) { r e t u r n   0 = = b . b r a n c h e s . l e n g t h ? v o i d   t h i s . n o E l e m e n t s ( a , f ) : v o i d   e . r e n d e r ( " t o o l _ d a t a p r i v a c y / c o n t e x t _ t r e e _ b r a n c h e s " , b ) . t h e n ( f u n c t i o n ( b ) { a . a f t e r ( b ) , t h i s . r e m o v e L i s t e n e r s ( ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) , t h i s . e x p a n d ( a ) , a . d a t a ( " l o a d e d " , 1 ) } . b i n d ( t h i s ) ) . f a i l ( d . e x c e p t i o n ) } . b i n d ( t h i s ) , f a i l : d . e x c e p t i o n } ] ) } , l . p r o t o t y p e . n o E l e m e n t s = f u n c t i o n ( a , b ) { a . d a t a ( " e x p a n d c o n t e x t i d " , " " ) , a . d a t a ( " e x p a n d e l e m e n t " , " " ) , t h i s . s t r i n g s . t h e n ( f u n c t i o n ( c ) { v a r   d = 2 ; " m o d u l e " = = b ? d = 3 : " c o u r s e " = = b & & ( d = 4 ) , a . t e x t ( c [ d ] ) } ) . f a i l ( d . e x c e p t i o n ) } , l . p r o t o t y p e . c o l l a p s e = f u n c t i o n ( a ) { a . d a t a ( " e x p a n d e d " , 0 ) , a . s i b l i n g s ( " n a v " ) . a d d C l a s s ( " h i d d e n " ) , a . f i n d ( " >   i " ) . r e m o v e C l a s s ( " f a - m i n u s " ) , a . f i n d ( " >   i " ) . a d d C l a s s ( " f a - p l u s " ) } , l . p r o t o t y p e . e x p a n d = f u n c t i o n ( a ) { a . d a t a ( " e x p a n d e d " , 1 ) , a . s i b l i n g s ( " n a v " ) . r e m o v e C l a s s ( " h i d d e n " ) , a . f i n d ( " >   i " ) . r e m o v e C l a s s ( " f a - p l u s " ) , a . f i n d ( " >   i " ) . r e m o v e C l a s s ( " f a - c i r c l e - o - n o t c h   f a - s p i n " ) , a . f i n d ( " >   i " ) . a d d C l a s s ( " f a - m i n u s " ) } , { i n i t : f u n c t i o n ( a , b , c ) { r e t u r n   n e w   l ( a , b , c ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ p l a n _ n a v i g a t i o n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e , f ) { t h i s . _ b a s e U r l = c , t h i s . _ u s e r I d = d + " " , t h i s . _ c o m p e t e n c y I d = e + " " , t h i s . _ p l a n I d = f , t h i s . _ i g n o r e F i r s t C o m p e t e n c y = ! 0 , a ( b ) . o n ( " c h a n g e " , t h i s . _ c o m p e t e n c y C h a n g e d . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ c o m p e t e n c y C h a n g e d = f u n c t i o n ( b ) { i f ( t h i s . _ i g n o r e F i r s t C o m p e t e n c y ) r e t u r n   v o i d ( t h i s . _ i g n o r e F i r s t C o m p e t e n c y = ! 1 ) ; v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r i d = " + t h i s . _ u s e r I d + " & p l a n i d = " + t h i s . _ p l a n I d + " & c o m p e t e n c y i d = " + c ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , b . p r o t o t y p e . _ u s e r I d = n u l l , b . p r o t o t y p e . _ p l a n I d = n u l l , b . p r o t o t y p e . _ b a s e U r l = n u l l , b . p r o t o t y p e . _ i g n o r e F i r s t C o m p e t e n c y = n u l l , b } ) ; 
 d e f i n e ( ' t o o l _ l p / t r e e ' ,   [ " j q u e r y " , " c o r e / u r l " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c ) { v a r   d = a ( ' < i m g   a l t = " "   s r c = " ' + b . i m a g e U r l ( " t / e x p a n d e d " ) + ' " / > ' ) , e = a ( ' < i m g   a l t = " "   s r c = " ' + b . i m a g e U r l ( " t / c o l l a p s e d " ) + ' " / > ' ) , f = f u n c t i o n ( b , c ) { t h i s . t r e e R o o t = a ( b ) , t h i s . m u l t i S e l e c t = " u n d e f i n e d " = = t y p e o f   c | | c = = = ! 0 , t h i s . i t e m s = t h i s . t r e e R o o t . f i n d ( " l i " ) , t h i s . e x p a n d A l l = t h i s . i t e m s . l e n g t h < 2 0 , t h i s . p a r e n t s = t h i s . t r e e R o o t . f i n d ( " l i : h a s ( u l ) " ) , c & & t h i s . t r e e R o o t . a t t r ( " a r i a - m u l t i s e l e c t a b l e " , " t r u e " ) , t h i s . i t e m s . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) , t h i s . v i s i b l e I t e m s = n u l l , t h i s . a c t i v e I t e m = n u l l , t h i s . l a s t A c t i v e I t e m = n u l l , t h i s . k e y s = { t a b : 9 , e n t e r : 1 3 , s p a c e : 3 2 , p a g e u p : 3 3 , p a g e d o w n : 3 4 , e n d : 3 5 , h o m e : 3 6 , l e f t : 3 7 , u p : 3 8 , r i g h t : 3 9 , d o w n : 4 0 , e i g h t : 5 6 , a s t e r i s k : 1 0 6 } , t h i s . i n i t ( ) , t h i s . b i n d E v e n t H a n d l e r s ( ) } ; r e t u r n   f . p r o t o t y p e . i n i t = f u n c t i o n ( ) { t h i s . p a r e n t s . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , t h i s . p a r e n t s . p r e p e n d ( d . c l o n e ( ) ) , t h i s . i t e m s . a t t r ( " r o l e " , " t r e e - i t e m " ) , t h i s . i t e m s . a t t r ( " t a b i n d e x " , " - 1 " ) , t h i s . p a r e n t s . a t t r ( " r o l e " , " g r o u p " ) , t h i s . t r e e R o o t . a t t r ( " r o l e " , " t r e e " ) , t h i s . v i s i b l e I t e m s = t h i s . t r e e R o o t . f i n d ( " l i " ) ; v a r   b = t h i s ; t h i s . e x p a n d A l l | | ( t h i s . p a r e n t s . e a c h ( f u n c t i o n ( ) { b . c o l l a p s e G r o u p ( a ( t h i s ) ) } ) , t h i s . e x p a n d G r o u p ( t h i s . p a r e n t s . f i r s t ( ) ) ) } , f . p r o t o t y p e . e x p a n d G r o u p = f u n c t i o n ( a ) { v a r   b = a . c h i l d r e n ( " u l " ) ; b . s h o w ( ) . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , a . c h i l d r e n ( " i m g " ) . a t t r ( " s r c " , d . a t t r ( " s r c " ) ) , t h i s . v i s i b l e I t e m s = t h i s . t r e e R o o t . f i n d ( " l i : v i s i b l e " ) } , f . p r o t o t y p e . c o l l a p s e G r o u p = f u n c t i o n ( a ) { v a r   b = a . c h i l d r e n ( " u l " ) ; b . h i d e ( ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , a . c h i l d r e n ( " i m g " ) . a t t r ( " s r c " , e . a t t r ( " s r c " ) ) , t h i s . v i s i b l e I t e m s = t h i s . t r e e R o o t . f i n d ( " l i : v i s i b l e " ) } , f . p r o t o t y p e . t o g g l e G r o u p = f u n c t i o n ( a ) { " t r u e " = = a . a t t r ( " a r i a - e x p a n d e d " ) ? t h i s . c o l l a p s e G r o u p ( a ) : t h i s . e x p a n d G r o u p ( a ) } , f . p r o t o t y p e . t r i g g e r C h a n g e = f u n c t i o n ( ) { v a r   a = t h i s . i t e m s . f i l t e r ( " [ a r i a - s e l e c t e d = t r u e ] " ) ; t h i s . m u l t i S e l e c t | | ( a = a . f i r s t ( ) ) , t h i s . t r e e R o o t . t r i g g e r ( " s e l e c t i o n c h a n g e d " , { s e l e c t e d : a } ) } , f . p r o t o t y p e . m u l t i S e l e c t I t e m = f u n c t i o n ( b ) { i f ( t h i s . m u l t i S e l e c t ) { i f ( n u l l ! = = t h i s . l a s t A c t i v e I t e m ) { f o r ( v a r   c = t h i s . v i s i b l e I t e m s . i n d e x ( t h i s . l a s t A c t i v e I t e m ) , d = t h i s . v i s i b l e I t e m s . i n d e x ( t h i s . a c t i v e I t e m ) , e = n u l l ; c < d ; ) e = a ( t h i s . v i s i b l e I t e m s . g e t ( c ) ) , e . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , c + + ; f o r ( ; c > d ; ) e = a ( t h i s . v i s i b l e I t e m s . g e t ( c ) ) , e . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , c - - } } e l s e   t h i s . i t e m s . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) ; b . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , t h i s . t r i g g e r C h a n g e ( ) } , f . p r o t o t y p e . s e l e c t I t e m = f u n c t i o n ( a ) { f o r ( v a r   b = a . p a r e n t ( ) ; " t r e e " ! = b . a t t r ( " r o l e " ) ; ) b = b . p a r e n t ( ) , " f a l s e " = = b . a t t r ( " a r i a - e x p a n d e d " ) & & t h i s . e x p a n d G r o u p ( b ) , b = b . p a r e n t ( ) ; t h i s . i t e m s . a t t r ( " a r i a - s e l e c t e d " , " f a l s e " ) , a . a t t r ( " a r i a - s e l e c t e d " , " t r u e " ) , t h i s . t r i g g e r C h a n g e ( ) } , f . p r o t o t y p e . t o g g l e I t e m = f u n c t i o n ( a ) { i f ( ! t h i s . m u l t i S e l e c t ) r e t u r n   v o i d   t h i s . s e l e c t I t e m ( a ) ; v a r   b = a . a t t r ( " a r i a - s e l e c t e d " ) ; b = " t r u e " = = = b ? " f a l s e " : " t r u e " , a . a t t r ( " a r i a - s e l e c t e d " , b ) , t h i s . t r i g g e r C h a n g e ( ) } , f . p r o t o t y p e . u p d a t e F o c u s = f u n c t i o n ( a ) { t h i s . l a s t A c t i v e I t e m = t h i s . a c t i v e I t e m , t h i s . a c t i v e I t e m = a ; f o r ( v a r   b = a . p a r e n t ( ) ; " t r e e " ! = b . a t t r ( " r o l e " ) ; ) b = b . p a r e n t ( ) , " f a l s e " = = b . a t t r ( " a r i a - e x p a n d e d " ) & & t h i s . e x p a n d G r o u p ( b ) , b = b . p a r e n t ( ) ; t h i s . i t e m s . a t t r ( " t a b i n d e x " , " - 1 " ) , a . a t t r ( " t a b i n d e x " , 0 ) } , f . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( b , c ) { v a r   d = t h i s . v i s i b l e I t e m s . i n d e x ( b ) , e = n u l l , f = c . s h i f t K e y | | c . c t r l K e y | | c . m e t a K e y | | c . a l t K e y , g = t h i s ; s w i t c h ( c . k e y C o d e ) { c a s e   t h i s . k e y s . h o m e : r e t u r n   e = t h i s . p a r e n t s . f i r s t ( ) , e . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( e ) : f | | t h i s . s e l e c t I t e m ( e ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n d : r e t u r n   e = t h i s . v i s i b l e I t e m s . l a s t ( ) , e . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( e ) : f | | t h i s . s e l e c t I t e m ( e ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n t e r : c a s e   t h i s . k e y s . s p a c e : r e t u r n   c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( b ) : c . m e t a K e y | | c . c t r l K e y ? t h i s . t o g g l e I t e m ( b ) : t h i s . s e l e c t I t e m ( b ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . l e f t : i f ( b . h a s ( " u l " ) & & " t r u e " = = b . a t t r ( " a r i a - e x p a n d e d " ) ) t h i s . c o l l a p s e G r o u p ( b ) ; e l s e { v a r   h = b . p a r e n t ( ) , i = h . p a r e n t ( ) ; i . i s ( " l i " ) & & ( i . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( i ) : f | | t h i s . s e l e c t I t e m ( i ) ) } r e t u r n   c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . r i g h t : r e t u r n   b . h a s ( " u l " ) & & " f a l s e " = = b . a t t r ( " a r i a - e x p a n d e d " ) ? t h i s . e x p a n d G r o u p ( b ) : ( e = b . c h i l d r e n ( " u l " ) . c h i l d r e n ( " l i " ) . f i r s t ( ) , e . l e n g t h > 0 & & ( e . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( e ) : f | | t h i s . s e l e c t I t e m ( e ) ) ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . u p : i f ( d > 0 ) { v a r   j = t h i s . v i s i b l e I t e m s . e q ( d - 1 ) ; j . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( j ) : f | | t h i s . s e l e c t I t e m ( j ) } r e t u r n   c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . d o w n : i f ( d < t h i s . v i s i b l e I t e m s . l e n g t h - 1 ) { v a r   k = t h i s . v i s i b l e I t e m s . e q ( d + 1 ) ; k . f o c u s ( ) , c . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( k ) : f | | t h i s . s e l e c t I t e m ( k ) } r e t u r n   c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . a s t e r i s k : r e t u r n   t h i s . p a r e n t s . e a c h ( f u n c t i o n ( ) { g . e x p a n d G r o u p ( a ( t h i s ) ) } ) , c . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e i g h t : r e t u r n   c . s h i f t K e y & & ( t h i s . p a r e n t s . e a c h ( f u n c t i o n ( ) { g . e x p a n d G r o u p ( a ( t h i s ) ) } ) , c . s t o p P r o p a g a t i o n ( ) ) , ! 1 } r e t u r n ! 0 } , f . p r o t o t y p e . h a n d l e K e y P r e s s = f u n c t i o n ( a , b ) { i f ( b . a l t K e y | | b . c t r l K e y | | b . s h i f t K e y | | b . m e t a K e y ) r e t u r n ! 0 ; s w i t c h ( b . k e y C o d e ) { c a s e   t h i s . k e y s . t a b : r e t u r n ! 0 ; c a s e   t h i s . k e y s . e n t e r : c a s e   t h i s . k e y s . h o m e : c a s e   t h i s . k e y s . e n d : c a s e   t h i s . k e y s . l e f t : c a s e   t h i s . k e y s . r i g h t : c a s e   t h i s . k e y s . u p : c a s e   t h i s . k e y s . d o w n : r e t u r n   b . s t o p P r o p a g a t i o n ( ) , ! 1 ; d e f a u l t : v a r   c = S t r i n g . f r o m C h a r C o d e ( b . w h i c h ) , d = ! 1 , e = t h i s . v i s i b l e I t e m s . i n d e x ( a ) , f = t h i s . v i s i b l e I t e m s . l e n g t h , g = e + 1 ; f o r ( g = = f & & ( g = 0 ) ; g ! = e ; ) { v a r   h = t h i s . v i s i b l e I t e m s . e q ( g ) , i = h . t e x t ( ) . c h a r A t ( 0 ) ; i f ( h . h a s ( " u l " ) & & ( i = h . f i n d ( " s p a n " ) . t e x t ( ) . c h a r A t ( 0 ) ) , i . t o L o w e r C a s e ( ) = = c ) { d = ! 0 ; b r e a k } g + = 1 , g = = f & & ( g = 0 ) } r e t u r n   d = = = ! 0 & & t h i s . u p d a t e F o c u s ( t h i s . v i s i b l e I t e m s . e q ( g ) ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } r e t u r n ! 0 } , f . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { " s e l e c t i o n c h a n g e d " ! = = a ? c . w a r n i n g ( ' I n v a l i d   c u s t o m   e v e n t   n a m e   f o r   t r e e .   O n l y   " s e l e c t i o n c h a n g e d "   i s   s u p p o r t e d . ' ) : t h i s . t r e e R o o t . o n ( a , b ) } , f . p r o t o t y p e . h a n d l e D b l C l i c k = f u n c t i o n ( a , b ) { r e t u r n ! ! ( b . a l t K e y | | b . c t r l K e y | | b . s h i f t K e y | | b . m e t a K e y ) | | ( t h i s . u p d a t e F o c u s ( a ) , t h i s . t o g g l e G r o u p ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ) } , f . p r o t o t y p e . h a n d l e E x p a n d C o l l a p s e C l i c k = f u n c t i o n ( a , b ) { r e t u r n   t h i s . t o g g l e G r o u p ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } , f . p r o t o t y p e . h a n d l e C l i c k = f u n c t i o n ( a , b ) { r e t u r n   b . s h i f t K e y ? t h i s . m u l t i S e l e c t I t e m ( a ) : b . m e t a K e y | | b . c t r l K e y ? t h i s . t o g g l e I t e m ( a ) : t h i s . s e l e c t I t e m ( a ) , t h i s . u p d a t e F o c u s ( a ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } , f . p r o t o t y p e . h a n d l e B l u r = f u n c t i o n ( ) { r e t u r n ! 0 } , f . p r o t o t y p e . h a n d l e F o c u s = f u n c t i o n ( a ) { r e t u r n   t h i s . u p d a t e F o c u s ( a ) , ! 0 } , f . p r o t o t y p e . b i n d E v e n t H a n d l e r s = f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . p a r e n t s . d b l c l i c k ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e D b l C l i c k ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . c l i c k ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e C l i c k ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . c h i l d r e n ( " i m g " ) . c l i c k ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e E x p a n d C o l l a p s e C l i c k ( a ( t h i s ) . p a r e n t ( ) , c ) } ) , t h i s . i t e m s . k e y d o w n ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e K e y D o w n ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . k e y p r e s s ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e K e y P r e s s ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . f o c u s ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e F o c u s ( a ( t h i s ) , c ) } ) , t h i s . i t e m s . b l u r ( f u n c t i o n ( c ) { r e t u r n   b . h a n d l e B l u r ( a ( t h i s ) , c ) } ) } , f } ) ; 
 d e f i n e ( ' t o o l _ l p / p a r e n t c o m p e t e n c y _ f o r m ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " t o o l _ l p / c o m p e t e n c y p i c k e r " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( a , b , c , d , e ) { t h i s . b u t t o n S e l e c t o r = a , t h i s . i n p u t H i d d e n S e l e c t o r = b , t h i s . s t a t i c E l e m e n t S e l e c t o r = c , t h i s . f r a m e w o r k I d = d , t h i s . p a g e C o n t e x t I d = e , t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   g . p r o t o t y p e . b u t t o n S e l e c t o r = n u l l , g . p r o t o t y p e . i n p u t H i d d e n S e l e c t o r = n u l l , g . p r o t o t y p e . s t a t i c E l e m e n t S e l e c t o r = n u l l , g . p r o t o t y p e . f r a m e w o r k I d = n u l l , g . p r o t o t y p e . p a g e C o n t e x t I d = n u l l , g . p r o t o t y p e . s e t P a r e n t = f u n c t i o n ( d ) { v a r   e = t h i s ; 0 ! = = d . c o m p e t e n c y I d ? b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y " , a r g s : { i d : d . c o m p e t e n c y I d } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( b ) { a ( e . s t a t i c E l e m e n t S e l e c t o r ) . h t m l ( b . s h o r t n a m e ) , a ( e . i n p u t H i d d e n S e l e c t o r ) . v a l ( b . i d ) } ) . f a i l ( f . e x c e p t i o n ) : c . g e t _ s t r i n g ( " c o m p e t e n c y f r a m e w o r k r o o t " , " t o o l _ l p " ) . t h e n ( f u n c t i o n ( b ) { a ( e . s t a t i c E l e m e n t S e l e c t o r ) . h t m l ( b ) , a ( e . i n p u t H i d d e n S e l e c t o r ) . v a l ( d . c o m p e t e n c y I d ) } ) . f a i l ( f . e x c e p t i o n ) } , g . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   b = t h i s ; a ( b . b u t t o n S e l e c t o r ) . o n ( " c l i c k " , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   c = n e w   d ( b . p a g e C o n t e x t I d , b . f r a m e w o r k I d , " s e l f " , ( ! 1 ) ) ; c . _ r e n d e r = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { v a r   b = { c o m p e t e n c i e s : a . _ c o m p e t e n c i e s , f r a m e w o r k : a . _ g e t F r a m e w o r k ( a . _ f r a m e w o r k I d ) , f r a m e w o r k s : a . _ f r a m e w o r k s , s e a r c h : a . _ s e a r c h T e x t , s i n g l e F r a m e w o r k : a . _ s i n g l e F r a m e w o r k } ; r e t u r n   e . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ p i c k e r _ c o m p e t e n c y f o r m " , b ) } ) } , c . o n ( " s a v e " , f u n c t i o n ( a , c ) { b . s e t P a r e n t ( c ) } ) , c . d i s p l a y ( ) } ) } , { i n i t : f u n c t i o n ( a , b , c , d , e ) { n e w   g ( a , b , c , d , e ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y p i c k e r _ u s e r _ p l a n s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / t r e e " , " t o o l _ l p / c o m p e t e n c y p i c k e r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a , b , c ) { g . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ 1 , ! 1 , " s e l f " , c ] ) , t h i s . _ u s e r I d = a , t h i s . _ p l a n s = [ ] , b & & ( t h i s . _ p l a n I d = b , t h i s . _ s i n g l e P l a n = ! 0 ) } ; r e t u r n   h . p r o t o t y p e = O b j e c t . c r e a t e ( g . p r o t o t y p e ) , h . p r o t o t y p e . _ p l a n s = n u l l , h . p r o t o t y p e . _ p l a n I d = n u l l , h . p r o t o t y p e . _ s i n g l e P l a n = ! 1 , h . p r o t o t y p e . _ u s e r I d = n u l l , h . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   c = t h i s ; g . p r o t o t y p e . _ a f t e r R e n d e r . a p p l y ( c , a r g u m e n t s ) , c . _ s i n g l e P l a n | | c . _ f i n d ( ' [ d a t a - a c t i o n = " c h o o s e p l a n " ] ' ) . c h a n g e ( f u n c t i o n ( d ) { c . _ p l a n I d = a ( d . t a r g e t ) . v a l ( ) , c . _ l o a d C o m p e t e n c i e s ( ) . t h e n ( c . _ r e f r e s h . b i n d ( c ) ) [ " c a t c h " ] ( b . e x c e p t i o n ) } ) } , h . p r o t o t y p e . _ f e t c h C o m p e t e n c i e s = f u n c t i o n ( a , d ) { v a r   e = t h i s ; r e t u r n   c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ p l a n _ c o m p e t e n c i e s " , a r g s : { i d : a } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { v a r   b , c , f = [ ] ; f o r ( b = 0 ; b < a . l e n g t h ; b + + ) c = a [ b ] . c o m p e t e n c y , c . s h o r t n a m e . t o L o w e r C a s e ( ) . i n d e x O f ( d . t o L o w e r C a s e ( ) ) < 0 | | ( c . c h i l d r e n = [ ] , c . h a s c h i l d r e n = 0 , f . p u s h ( c ) ) ; e . _ c o m p e t e n c i e s = f } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ g e t P l a n = f u n c t i o n ( b ) { v a r   c ; r e t u r n   a . e a c h ( t h i s . _ p l a n s , f u n c t i o n ( a , d ) { i f ( d . i d = = b ) r e t u r n   v o i d ( c = d ) } ) , c } , h . p r o t o t y p e . _ l o a d C o m p e t e n c i e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ f e t c h C o m p e t e n c i e s ( t h i s . _ p l a n I d , t h i s . _ s e a r c h T e x t ) } , h . p r o t o t y p e . _ l o a d P l a n s = f u n c t i o n ( ) { v a r   d , e = t h i s ; r e t u r n   e . _ p l a n s . l e n g t h > 0 ? a . w h e n ( ) : ( d = e . _ s i n g l e P l a n ? c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : t h i s . _ p l a n I d } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n [ a ] } ) : c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ u s e r _ p l a n s " , a r g s : { u s e r i d : e . _ u s e r I d } } ] ) [ 0 ] , d . d o n e ( f u n c t i o n ( a ) { e . _ p l a n s = a } ) . f a i l ( b . e x c e p t i o n ) ) } , h . p r o t o t y p e . _ p r e R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ l o a d P l a n s ( ) . t h e n ( f u n c t i o n ( ) { r e t u r n ! b . _ p l a n I d & & b . _ p l a n s . l e n g t h > 0 & & ( b . _ p l a n I d = b . _ p l a n s [ 0 ] . i d ) , b . _ p l a n I d ? b . _ l o a d C o m p e t e n c i e s ( ) : ( b . _ p l a n s = [ ] , a . w h e n ( ) ) } ) } , h . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { b . _ s i n g l e P l a n | | a . e a c h ( b . _ p l a n s , f u n c t i o n ( a , c ) { c . i d = = b . _ p l a n I d ? c . s e l e c t e d = ! 0 : c . s e l e c t e d = ! 1 } ) ; v a r   c = { c o m p e t e n c i e s : b . _ c o m p e t e n c i e s , p l a n : b . _ g e t P l a n ( b . _ p l a n I d ) , p l a n s : b . _ p l a n s , s e a r c h : b . _ s e a r c h T e x t , s i n g l e P l a n : b . _ s i n g l e P l a n } ; r e t u r n   d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ p i c k e r _ u s e r _ p l a n s " , c ) } ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y p i c k e r ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " c o r e / s t r " , " t o o l _ l p / t r e e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c , d , e ) { v a r   f = t h i s ; f . _ e v e n t N o d e = a ( " < d i v > < / d i v > " ) , f . _ f r a m e w o r k s = [ ] , f . _ r e s e t ( ) , f . _ p a g e C o n t e x t I d = b , f . _ p a g e C o n t e x t I n c l u d e s = d | | " c h i l d r e n " , f . _ m u l t i S e l e c t = " u n d e f i n e d " = = t y p e o f   e | | e = = = ! 0 , c & & ( f . _ f r a m e w o r k I d = c , f . _ s i n g l e F r a m e w o r k = ! 0 ) } ; r e t u r n   h . p r o t o t y p e . _ c o m p e t e n c i e s = n u l l , h . p r o t o t y p e . _ d i s a l l o w e d C o m p e t e n c y I D s = n u l l , h . p r o t o t y p e . _ e v e n t N o d e = n u l l , h . p r o t o t y p e . _ f r a m e w o r k s = n u l l , h . p r o t o t y p e . _ f r a m e w o r k I d = n u l l , h . p r o t o t y p e . _ p a g e C o n t e x t I d = n u l l , h . p r o t o t y p e . _ p a g e C o n t e x t I n c l u d e s = n u l l , h . p r o t o t y p e . _ p o p u p = n u l l , h . p r o t o t y p e . _ s e a r c h T e x t = " " , h . p r o t o t y p e . _ s e l e c t e d C o m p e t e n c i e s = n u l l , h . p r o t o t y p e . _ s i n g l e F r a m e w o r k = ! 1 , h . p r o t o t y p e . _ m u l t i S e l e c t = ! 0 , h . p r o t o t y p e . _ o n l y V i s i b l e = ! 0 , h . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   c = t h i s , d = n e w   g ( c . _ f i n d ( " [ d a t a - e n h a n c e = l i n k t r e e ] " ) , c . _ m u l t i S e l e c t ) ; c . _ f i n d ( " [ d a t a - e n h a n c e = l i n k t r e e ] " ) . s h o w ( ) , d . o n ( " s e l e c t i o n c h a n g e d " , f u n c t i o n ( b , d ) { v a r   e = d . s e l e c t e d ; b . p r e v e n t D e f a u l t ( ) ; v a r   f = [ ] ; a . e a c h ( e , f u n c t i o n ( b , d ) { v a r   e = a ( d ) . d a t a ( " i d " ) , g = ! 0 ; " u n d e f i n e d " = = t y p e o f   e ? g = ! 1 : a . e a c h ( c . _ d i s a l l o w e d C o m p e t e n c y I D s , f u n c t i o n ( a , b ) { b = = e & & ( g = ! 1 ) } ) , g & & f . p u s h ( e ) } ) , c . _ s e l e c t e d C o m p e t e n c i e s = f , c . _ s e l e c t e d C o m p e t e n c i e s . l e n g t h ? c . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . r e m o v e A t t r ( " d i s a b l e d " ) : c . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) } ) , c . _ s i n g l e F r a m e w o r k | | c . _ f i n d ( ' [ d a t a - a c t i o n = " c h o o s e f r a m e w o r k " ] ' ) . c h a n g e ( f u n c t i o n ( d ) { c . _ f r a m e w o r k I d = a ( d . t a r g e t ) . v a l ( ) , c . _ l o a d C o m p e t e n c i e s ( ) . t h e n ( c . _ r e f r e s h . b i n d ( c ) ) [ " c a t c h " ] ( b . e x c e p t i o n ) } ) , c . _ f i n d ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   b u t t o n ' ) . c l i c k ( f u n c t i o n ( b ) { r e t u r n   b . p r e v e n t D e f a u l t ( ) , a ( b . t a r g e t ) . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) , c . _ s e a r c h T e x t = c . _ f i n d ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) | | " " , c . _ r e f r e s h ( ) . a l w a y s ( f u n c t i o n ( ) { a ( b . t a r g e t ) . r e m o v e A t t r ( " d i s a b l e d " ) } ) } ) , c . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " c a n c e l " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , c . c l o s e ( ) } ) , c . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , c . _ s e l e c t e d C o m p e t e n c i e s . l e n g t h & & ( c . _ m u l t i S e l e c t ? c . _ t r i g g e r ( " s a v e " , { c o m p e t e n c y I d s : c . _ s e l e c t e d C o m p e t e n c i e s } ) : c . _ t r i g g e r ( " s a v e " , { c o m p e t e n c y I d : c . _ s e l e c t e d C o m p e t e n c i e s [ 0 ] } ) , c . c l o s e ( ) ) } ) ; v a r   e = c . _ s e l e c t e d C o m p e t e n c i e s . s l i c e ( 0 ) ; a . e a c h ( e , f u n c t i o n ( a , b ) { v a r   e = c . _ f i n d ( " [ d a t a - i d = " + b + " ] " ) ; e . l e n g t h & & ( d . t o g g l e I t e m ( e ) , d . u p d a t e F o c u s ( e ) ) } ) } , h . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { v a r   a = t h i s ; a . _ p o p u p . c l o s e ( ) , a . _ r e s e t ( ) } , h . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { v a r   c = t h i s ; r e t u r n   a . w h e n ( f . g e t _ s t r i n g ( " c o m p e t e n c y p i c k e r " , " t o o l _ l p " ) , c . _ r e n d e r ( ) ) . t h e n ( f u n c t i o n ( a , b ) { c . _ p o p u p = n e w   e ( a , b [ 0 ] , c . _ a f t e r R e n d e r . b i n d ( c ) ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ f e t c h C o m p e t e n c i e s = f u n c t i o n ( a , d ) { v a r   e = t h i s ; r e t u r n   c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e a r c h _ c o m p e t e n c i e s " , a r g s : { s e a r c h t e x t : d , c o m p e t e n c y f r a m e w o r k i d : a } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( a ) { f u n c t i o n   b ( a , c ) { f o r ( v a r   d = 0 ; d < c . l e n g t h ; d + + ) c [ d ] . p a r e n t i d = = a . i d & & ( a . h a s c h i l d r e n = ! 0 , c [ d ] . c h i l d r e n = [ ] , c [ d ] . h a s c h i l d r e n = ! 1 , a . c h i l d r e n [ a . c h i l d r e n . l e n g t h ] = c [ d ] , b ( c [ d ] , c ) ) } v a r   c , d , f = [ ] ; f o r ( c = 0 ; c < a . l e n g t h ; c + + ) d = a [ c ] , " 0 " = = d . p a r e n t i d & & ( d . c h i l d r e n = [ ] , d . h a s c h i l d r e n = 0 , f [ f . l e n g t h ] = d , b ( d , a ) ) ; e . _ c o m p e t e n c i e s = f } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , h . p r o t o t y p e . _ g e t F r a m e w o r k = f u n c t i o n ( b ) { v a r   c ; r e t u r n   a . e a c h ( t h i s . _ f r a m e w o r k s , f u n c t i o n ( a , d ) { i f ( d . i d = = b ) r e t u r n   v o i d ( c = d ) } ) , c } , h . p r o t o t y p e . _ l o a d C o m p e t e n c i e s = f u n c t i o n ( ) { r e t u r n   t h i s . _ f e t c h C o m p e t e n c i e s ( t h i s . _ f r a m e w o r k I d , t h i s . _ s e a r c h T e x t ) } , h . p r o t o t y p e . _ l o a d F r a m e w o r k s = f u n c t i o n ( ) { v a r   d , e = t h i s ; r e t u r n   e . _ f r a m e w o r k s . l e n g t h > 0 ? a . w h e n ( ) : ( d = e . _ s i n g l e F r a m e w o r k ? c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : t h i s . _ f r a m e w o r k I d } } ] ) [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n [ a ] } ) : c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ c o m p e t e n c y _ f r a m e w o r k s " , a r g s : { s o r t : " s h o r t n a m e " , c o n t e x t : { c o n t e x t i d : e . _ p a g e C o n t e x t I d } , i n c l u d e s : e . _ p a g e C o n t e x t I n c l u d e s , o n l y v i s i b l e : e . _ o n l y V i s i b l e } } ] ) [ 0 ] , d . d o n e ( f u n c t i o n ( a ) { e . _ f r a m e w o r k s = a } ) . f a i l ( b . e x c e p t i o n ) ) } , h . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , h . p r o t o t y p e . _ p r e R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ l o a d F r a m e w o r k s ( ) . t h e n ( f u n c t i o n ( ) { r e t u r n ! b . _ f r a m e w o r k I d & & b . _ f r a m e w o r k s . l e n g t h > 0 & & ( b . _ f r a m e w o r k I d = b . _ f r a m e w o r k s [ 0 ] . i d ) , b . _ f r a m e w o r k I d ? b . _ l o a d C o m p e t e n c i e s ( ) : ( b . _ f r a m e w o r k s = [ ] , a . w h e n ( ) ) } ) } , h . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { a . _ f i n d ( ' [ d a t a - r e g i o n = " c o m p e t e n c y l i n k t r e e " ] ' ) . r e p l a c e W i t h ( b ) , a . _ a f t e r R e n d e r ( ) } ) } , h . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; r e t u r n   b . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { b . _ s i n g l e F r a m e w o r k | | a . e a c h ( b . _ f r a m e w o r k s , f u n c t i o n ( a , c ) { c . i d = = b . _ f r a m e w o r k I d ? c . s e l e c t e d = ! 0 : c . s e l e c t e d = ! 1 } ) ; v a r   c = { c o m p e t e n c i e s : b . _ c o m p e t e n c i e s , f r a m e w o r k : b . _ g e t F r a m e w o r k ( b . _ f r a m e w o r k I d ) , f r a m e w o r k s : b . _ f r a m e w o r k s , s e a r c h : b . _ s e a r c h T e x t , s i n g l e F r a m e w o r k : b . _ s i n g l e F r a m e w o r k } ; r e t u r n   d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ p i c k e r " , c ) } ) } , h . p r o t o t y p e . _ r e s e t = f u n c t i o n ( ) { t h i s . _ c o m p e t e n c i e s = [ ] , t h i s . _ d i s a l l o w e d C o m p e t e n c y I D s = [ ] , t h i s . _ p o p u p = n u l l , t h i s . _ s e a r c h T e x t = " " , t h i s . _ s e l e c t e d C o m p e t e n c i e s = [ ] } , h . p r o t o t y p e . s e t D i s a l l o w e d C o m p e t e n c y I D s = f u n c t i o n ( a ) { t h i s . _ d i s a l l o w e d C o m p e t e n c y I D s = a } , h . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / c o u r s e _ c o m p e t e n c y _ s e t t i n g s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " t o o l _ l p / d i a l o g u e " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b ) { a ( b ) . o n ( " c l i c k " , t h i s . c o n f i g u r e S e t t i n g s . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . _ d i a l o g u e = n u l l , g . p r o t o t y p e . c o n f i g u r e S e t t i n g s = f u n c t i o n ( e ) { v a r   g = a ( e . t a r g e t ) . c l o s e s t ( " a " ) . d a t a ( " c o u r s e i d " ) , h = a ( e . t a r g e t ) . c l o s e s t ( " a " ) . d a t a ( " p u s h r a t i n g s t o u s e r p l a n s " ) , i = { c o u r s e i d : g , s e t t i n g s : { p u s h r a t i n g s t o u s e r p l a n s : h } } ; e . p r e v e n t D e f a u l t ( ) , f . r e n d e r ( " t o o l _ l p / c o u r s e _ c o m p e t e n c y _ s e t t i n g s " , i ) . d o n e ( f u n c t i o n ( a ) { d . g e t _ s t r i n g ( " c o n f i g u r e c o u r s e c o m p e t e n c y s e t t i n g s " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { t h i s . _ d i a l o g u e = n e w   c ( b , a , t h i s . a d d L i s t e n e r s . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . a d d L i s t e n e r s = f u n c t i o n ( ) { v a r   a = t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) ; a . o n ( " c l i c k " , t h i s . s a v e S e t t i n g s . b i n d ( t h i s ) ) ; v a r   b = t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " c a n c e l " ] ' ) ; b . o n ( " c l i c k " , t h i s . c a n c e l C h a n g e s . b i n d ( t h i s ) ) } , g . p r o t o t y p e . c a n c e l C h a n g e s = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . _ d i a l o g u e . c l o s e ( ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " c o u r s e c o m p e t e n c y s e t t i n g s " ] ' ) . f i n d ( b ) } , g . p r o t o t y p e . s a v e S e t t i n g s = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d ( ' i n p u t [ n a m e = " p u s h r a t i n g s t o u s e r p l a n s " ] : c h e c k e d ' ) . v a l ( ) , d = t h i s . _ f i n d ( ' i n p u t [ n a m e = " c o u r s e i d " ] ' ) . v a l ( ) , f = { p u s h r a t i n g s t o u s e r p l a n s : c } ; e . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u p d a t e _ c o u r s e _ c o m p e t e n c y _ s e t t i n g s " , a r g s : { c o u r s e i d : d , s e t t i n g s : f } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( ) { t h i s . r e f r e s h C o u r s e C o m p e t e n c i e s P a g e ( ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . r e f r e s h C o u r s e C o m p e t e n c i e s P a g e = f u n c t i o n ( ) { v a r   c = t h i s . _ f i n d ( ' i n p u t [ n a m e = " c o u r s e i d " ] ' ) . v a l ( ) ; e . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : c } } ] ) [ 0 ] . d o n e ( f u n c t i o n ( c ) { f . r e n d e r ( " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , c ) . d o n e ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " c o u r s e c o m p e t e n c i e s p a g e " ] ' ) . r e p l a c e W i t h ( b ) , f . r u n T e m p l a t e J S ( c ) , t h i s . _ d i a l o g u e . c l o s e ( ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / d r a g d r o p - r e o r d e r ' ,   [ " c o r e / s t r " , " c o r e / y u i " ] , f u n c t i o n ( a , b ) { v a r   c = n u l l , d = f u n c t i o n ( a ) { v a r   b = a . d r a g . g e t ( " n o d e " ) , c = a . d r o p . g e t ( " n o d e " ) ; t h i s . c a l l b a c k ( b . g e t D O M N o d e ( ) , c . g e t D O M N o d e ( ) ) } ; r e t u r n { d r a g d r o p : f u n c t i o n ( e , f , g , h , i , j , k , l ) { a . g e t _ s t r i n g s ( [ { k e y : " e m p t y d r a g d r o p r e g i o n " , c o m p o n e n t : " m o o d l e " } , { k e y : " m o v e c o n t e n t " , c o m p o n e n t : " m o o d l e " } , { k e y : " t o c o n t e n t " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( ) { b . u s e ( " m o o d l e - t o o l _ l p - d r a g d r o p - r e o r d e r " , f u n c t i o n ( ) { v a r   a = { c a l l b a c k : l } ; c & & c . d e s t r o y ( ) , c = M . t o o l _ l p . d r a g d r o p _ r e o r d e r ( { g r o u p : e , d r a g H a n d l e T e x t : f , s a m e N o d e T e x t : g , p a r e n t N o d e T e x t : h , s a m e N o d e C l a s s : i , p a r e n t N o d e C l a s s : j , d r a g H a n d l e I n s e r t C l a s s : k , c a l l b a c k : b . b i n d ( d , a ) } ) } ) } ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / d i a l o g u e ' ,   [ " c o r e / y u i " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e , f ) { t h i s . y u i D i a l o g u e = n u l l ; v a r   g = t h i s ; " u n d e f i n e d " = = t y p e o f   f & & ( f = ! 1 ) , a . u s e ( " m o o d l e - c o r e - n o t i f i c a t i o n " , " t i m e r s " , f u n c t i o n ( ) { v a r   h = " 4 8 0 p x " ; f & & ( h = " 8 0 0 p x " ) , g . y u i D i a l o g u e = n e w   M . c o r e . d i a l o g u e ( { h e a d e r C o n t e n t : b , b o d y C o n t e n t : c , d r a g g a b l e : ! 0 , v i s i b l e : ! 1 , c e n t e r : ! 0 , m o d a l : ! 0 , w i d t h : h } ) , g . y u i D i a l o g u e . a f t e r ( " v i s i b l e C h a n g e " , f u n c t i o n ( b ) { b . n e w V a l ? " u n d e f i n e d " ! = t y p e o f   d & & a . s o o n ( f u n c t i o n ( ) { d ( g ) , g . y u i D i a l o g u e . c e n t e r D i a l o g u e ( ) } ) : " u n d e f i n e d " ! = t y p e o f   e & & a . s o o n ( f u n c t i o n ( ) { e ( g ) } ) } ) , g . y u i D i a l o g u e . s h o w ( ) } ) } ; r e t u r n   b . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . y u i D i a l o g u e . h i d e ( ) , t h i s . y u i D i a l o g u e . d e s t r o y ( ) } , b . p r o t o t y p e . g e t C o n t e n t = f u n c t i o n ( ) { r e t u r n   t h i s . y u i D i a l o g u e . b o d y N o d e . g e t D O M N o d e ( ) } , b } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ r u l e _ p o i n t s ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / t e m p l a t e s " , " t o o l _ l p / c o m p e t e n c y _ r u l e " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( ) { d . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   e . p r o t o t y p e = O b j e c t . c r e a t e ( d . p r o t o t y p e ) , e . p r o t o t y p e . _ c o n t a i n e r = n u l l , e . p r o t o t y p e . _ t e m p l a t e L o a d e d = ! 1 , e . p r o t o t y p e . g e t C o n f i g = f u n c t i o n ( ) { r e t u r n   J S O N . s t r i n g i f y ( { b a s e : { p o i n t s : t h i s . _ g e t R e q u i r e d P o i n t s ( ) } , c o m p e t e n c i e s : t h i s . _ g e t C o m p e t e n c i e s C o n f i g ( ) } ) } , e . p r o t o t y p e . _ g e t C o m p e t e n c i e s C o n f i g = f u n c t i o n ( ) { v a r   b = [ ] ; r e t u r n   t h i s . _ c o n t a i n e r . f i n d ( " [ d a t a - c o m p e t e n c y ] " ) . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " c o m p e t e n c y " ) , e = p a r s e I n t ( c . f i n d ( ' [ n a m e = " p o i n t s " ] ' ) . v a l ( ) , 1 0 ) , f = c . f i n d ( ' [ n a m e = " r e q u i r e d " ] ' ) . p r o p ( " c h e c k e d " ) ; b . p u s h ( { i d : d , p o i n t s : e , r e q u i r e d : f ? 1 : 0 } ) } ) , b } , e . p r o t o t y p e . _ g e t R e q u i r e d P o i n t s = f u n c t i o n ( ) { r e t u r n   p a r s e I n t ( t h i s . _ c o n t a i n e r . f i n d ( ' [ n a m e = " r e q u i r e d p o i n t s " ] ' ) . v a l ( ) | | 1 , 1 0 ) } , e . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " c o r e _ c o m p e t e n c y \ \ c o m p e t e n c y _ r u l e _ p o i n t s " } , e . p r o t o t y p e . i n j e c t T e m p l a t e = f u n c t i o n ( b ) { v a r   d , e = t h i s , f = t h i s . _ t r e e . g e t C h i l d r e n ( t h i s . _ c o m p e t e n c y . i d ) , g = { b a s e : { p o i n t s : 2 } , c o m p e t e n c i e s : [ ] } ; i f ( t h i s . _ t e m p l a t e L o a d e d = ! 1 , e . _ c o m p e t e n c y . r u l e t y p e = = e . g e t T y p e ( ) ) t r y { g = J S O N . p a r s e ( e . _ c o m p e t e n c y . r u l e c o n f i g ) } c a t c h ( h ) { } r e t u r n   d = { r e q u i r e d p o i n t s : g & & g . b a s e ? g . b a s e . p o i n t s : 2 , c o m p e t e n c y : e . _ c o m p e t e n c y , c h i l d r e n : [ ] } , a . e a c h ( f , f u n c t i o n ( b , c ) { v a r   e = { i d : c . i d , s h o r t n a m e : c . s h o r t n a m e , r e q u i r e d : ! 1 , p o i n t s : 0 } ; g & & a . e a c h ( g . c o m p e t e n c i e s , f u n c t i o n ( a , b ) { b . i d = = e . i d & & ( e . r e q u i r e d = ! ! b . r e q u i r e d , e . p o i n t s = b . p o i n t s ) } ) , d . c h i l d r e n . p u s h ( e ) } ) , c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ r u l e _ p o i n t s " , d ) . t h e n ( f u n c t i o n ( a ) { e . _ c o n t a i n e r = b , b . h t m l ( a ) , b . f i n d ( " i n p u t " ) . c h a n g e ( f u n c t i o n ( ) { e . _ t r i g g e r C h a n g e ( ) } ) , e . _ t e m p l a t e L o a d e d = ! 0 , e . _ t r i g g e r C h a n g e ( ) } ) } , e . p r o t o t y p e . i s V a l i d = f u n c t i o n ( ) { i f ( ! t h i s . _ t e m p l a t e L o a d e d ) r e t u r n ! 1 ; v a r   b = t h i s . _ g e t R e q u i r e d P o i n t s ( ) , c = 0 , d = ! 0 ; r e t u r n   a . e a c h ( t h i s . _ g e t C o m p e t e n c i e s C o n f i g ( ) , f u n c t i o n ( a , b ) { b . p o i n t s < 0 & & ( d = ! 1 ) , c + = b . p o i n t s } ) , d = d & & c > = b } , e } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ e v i d e n c e _ a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / c o m p e t e n c y p i c k e r _ u s e r _ p l a n s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a ) { i f ( t h i s . _ t y p e = a , " e v i d e n c e " = = = a ) t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - p a g e " ] ' , t h i s . _ e v i d e n c e N o d e = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - p a g e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / u s e r _ e v i d e n c e _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ u s e r _ e v i d e n c e _ p a g e " ; e l s e { i f ( " l i s t " ! = = a ) t h r o w   n e w   T y p e E r r o r ( " U n e x p e c t e d   t y p e . " ) ; t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - l i s t " ] ' , t h i s . _ e v i d e n c e N o d e = ' [ d a t a - r e g i o n = " u s e r - e v i d e n c e - n o d e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / u s e r _ e v i d e n c e _ l i s t _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ u s e r _ e v i d e n c e _ l i s t _ p a g e " } } ; r e t u r n   h . p r o t o t y p e . _ c o n t e x t M e t h o d = n u l l , h . p r o t o t y p e . _ e v i d e n c e N o d e = n u l l , h . p r o t o t y p e . _ r e g i o n = n u l l , h . p r o t o t y p e . _ t e m p l a t e = n u l l , h . p r o t o t y p e . _ t y p e = n u l l , h . p r o t o t y p e . _ g e t C o n t e x t A r g s = f u n c t i o n ( a ) { v a r   b = t h i s , c = { } ; r e t u r n " e v i d e n c e " = = = b . _ t y p e ? c = { i d : a . i d } : " l i s t " = = = b . _ t y p e & & ( c = { u s e r i d : a . u s e r i d } ) , c } , h . p r o t o t y p e . _ r e n d e r V i e w = f u n c t i o n ( c ) { v a r   d = t h i s ; r e t u r n   b . r e n d e r ( d . _ t e m p l a t e , c ) . t h e n ( f u n c t i o n ( c , e ) { b . r e p l a c e N o d e ( a ( d . _ r e g i o n ) , c , e ) } ) } , h . p r o t o t y p e . _ c a l l A n d R e f r e s h = f u n c t i o n ( b , e ) { v a r   f = t h i s ; r e t u r n   b . p u s h ( { m e t h o d n a m e : f . _ c o n t e x t M e t h o d , a r g s : f . _ g e t C o n t e x t A r g s ( e ) } ) , a . w h e n . a p p l y ( a . w h e n , c . c a l l ( b ) ) . t h e n ( f u n c t i o n ( ) { r e t u r n   f . _ r e n d e r V i e w ( a r g u m e n t s [ a r g u m e n t s . l e n g t h - 1 ] ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o D e l e t e = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ u s e r _ e v i d e n c e " , a r g s : { i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . d e l e t e E v i d e n c e = f u n c t i o n ( a ) { v a r   b , f = t h i s ; b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ u s e r _ e v i d e n c e " , a r g s : { i d : a . i d } } ] ) , b [ 0 ] . d o n e ( f u n c t i o n ( b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e u s e r e v i d e n c e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( b ) { d . c o n f i r m ( b [ 0 ] , b [ 1 ] , b [ 2 ] , b [ 3 ] , f u n c t i o n ( ) { f . _ d o D e l e t e ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d e l e t e E v i d e n c e H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . t a r g e t ) ) ; t h i s . d e l e t e E v i d e n c e ( c ) } , h . p r o t o t y p e . _ d o C r e a t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( b , c ) { v a r   d = t h i s , e = [ ] ; a . e a c h ( c , f u n c t i o n ( a , c ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c r e a t e _ u s e r _ e v i d e n c e _ c o m p e t e n c y " , a r g s : { u s e r e v i d e n c e i d : b . i d , c o m p e t e n c y i d : c } } ) } ) , d . _ c a l l A n d R e f r e s h ( e , b ) } , h . p r o t o t y p e . c r e a t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( a ) { v a r   b = t h i s , c = n e w   g ( a . u s e r i d ) ; c . o n ( " s a v e " , f u n c t i o n ( c , d ) { v a r   e = d . c o m p e t e n c y I d s ; b . _ d o C r e a t e U s e r E v i d e n c e C o m p e t e n c y ( a , e , d . r e q u e s t R e v i e w ) } ) , c . d i s p l a y ( ) } , h . p r o t o t y p e . _ c r e a t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . t a r g e t ) ) ; t h i s . c r e a t e U s e r E v i d e n c e C o m p e t e n c y ( c ) } , h . p r o t o t y p e . _ d o D e l e t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( a , b ) { v a r   c = t h i s , d = [ ] ; d . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ u s e r _ e v i d e n c e _ c o m p e t e n c y " , a r g s : { u s e r e v i d e n c e i d : a . i d , c o m p e t e n c y i d : b } } ) , c . _ c a l l A n d R e f r e s h ( d , a ) } , h . p r o t o t y p e . d e l e t e U s e r E v i d e n c e C o m p e t e n c y = f u n c t i o n ( a , b ) { t h i s . _ d o D e l e t e U s e r E v i d e n c e C o m p e t e n c y ( a , b ) } , h . p r o t o t y p e . _ d e l e t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r = f u n c t i o n ( b ) { v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . c u r r e n t T a r g e t ) ) , d = a ( b . c u r r e n t T a r g e t ) . d a t a ( " i d " ) ; b . p r e v e n t D e f a u l t ( ) , t h i s . d e l e t e U s e r E v i d e n c e C o m p e t e n c y ( c , d ) } , h . p r o t o t y p e . _ d o R e v i e w U s e r E v i d e n c e C o m p e t e n c i e s = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e q u e s t _ r e v i e w _ o f _ u s e r _ e v i d e n c e _ l i n k e d _ c o m p e t e n c i e s " , a r g s : { i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s = f u n c t i o n ( a ) { v a r   b , f = t h i s ; b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ u s e r _ e v i d e n c e " , a r g s : { i d : a . i d } } ] ) , b [ 0 ] . d o n e ( f u n c t i o n ( b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " s e n d a l l c o m p e t e n c i e s t o r e v i e w " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . n a m e } , { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( b ) { d . c o n f i r m ( b [ 0 ] , b [ 1 ] , b [ 2 ] , b [ 3 ] , f u n c t i o n ( ) { f . _ d o R e v i e w U s e r E v i d e n c e C o m p e t e n c i e s ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d E v i d e n c e D a t a ( a ( b . t a r g e t ) ) ; t h i s . r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s ( c ) } , h . p r o t o t y p e . _ f i n d E v i d e n c e D a t a = f u n c t i o n ( b ) { v a r   c , d = b . p a r e n t s U n t i l ( a ( t h i s . _ r e g i o n ) . p a r e n t ( ) , t h i s . _ e v i d e n c e N o d e ) ; i f ( 1 ! = d . l e n g t h ) t h r o w   n e w   E r r o r ( " T h e   e v i d e n c e   n o d e   w a s   n o t   l o c a t e d . " ) ; i f ( c = d . d a t a ( ) , " u n d e f i n e d " = = t y p e o f   c | | " u n d e f i n e d " = = t y p e o f   c . i d ) t h r o w   n e w   E r r o r ( " E v i d e n c e   d a t a   c o u l d   n o t   b e   f o u n d . " ) ; r e t u r n   c } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { v a r   b = t h i s ; f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " u s e r - e v i d e n c e - d e l e t e " ] ' : b . _ d e l e t e E v i d e n c e H a n d l e r . b i n d ( b ) , ' [ d a t a - a c t i o n = " l i n k - c o m p e t e n c y " ] ' : b . _ c r e a t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r . b i n d ( b ) , ' [ d a t a - a c t i o n = " s e n d - c o m p e t e n c i e s - r e v i e w " ] ' : b . _ r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s H a n d l e r . b i n d ( b ) } ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   b = a ( t h i s . _ r e g i o n ) , c = t h i s ; b . f i n d ( ' [ d a t a - a c t i o n = " u s e r - e v i d e n c e - d e l e t e " ] ' ) . c l i c k ( c . _ d e l e t e E v i d e n c e H a n d l e r . b i n d ( c ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " l i n k - c o m p e t e n c y " ] ' ) . c l i c k ( c . _ c r e a t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r . b i n d ( c ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " d e l e t e - c o m p e t e n c y - l i n k " ] ' ) . c l i c k ( c . _ d e l e t e U s e r E v i d e n c e C o m p e t e n c y H a n d l e r . b i n d ( c ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " s e n d - c o m p e t e n c i e s - r e v i e w " ] ' ) . c l i c k ( c . _ r e v i e w U s e r E v i d e n c e C o m p e t e n c i e s H a n d l e r . b i n d ( c ) ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y d i a l o g u e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g , h = f u n c t i o n ( ) { } ; r e t u r n   h . p r o t o t y p e . t r i g g e r C o m p e t e n c y V i e w e d E v e n t = f u n c t i o n ( a ) { c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c o m p e t e n c y _ v i e w e d " , a r g s : { i d : a } } ] ) } , h . p r o t o t y p e . s h o w D i a l o g u e = f u n c t i o n ( a , c ) { v a r   e = t h i s . g e t C o m p e t e n c y D a t a P r o m i s e ( a , c ) , g = t h i s ; e . d o n e ( f u n c t i o n ( c ) { d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ s u m m a r y " , c ) . d o n e ( f u n c t i o n ( b ) { g . t r i g g e r C o m p e t e n c y V i e w e d E v e n t ( a ) , n e w   f ( c . c o m p e t e n c y . s h o r t n a m e , b ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . s h o w D i a l o g u e F r o m D a t a = f u n c t i o n ( a ) { v a r   c = t h i s ; d . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ s u m m a r y " , a ) . d o n e ( f u n c t i o n ( b ) { c . t r i g g e r C o m p e t e n c y V i e w e d E v e n t ( a . i d ) , n e w   f ( a . s h o r t n a m e , b , c . e n h a n c e D i a l o g u e ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . c l i c k E v e n t H a n d l e r = f u n c t i o n ( b ) { v a r   c = b . d a t a . c o m p d i a l o g u e , d = a ( b . c u r r e n t T a r g e t ) , e = d . d a t a ( " i d " ) , f = ! d . d a t a ( " e x c l u d e r e l a t e d " ) , g = d . d a t a ( " i n c l u d e c o u r s e s " ) ; c . s h o w D i a l o g u e ( e , { i n c l u d e r e l a t e d : f , i n c l u d e c o u r s e s : g } ) , b . p r e v e n t D e f a u l t ( ) } , h . p r o t o t y p e . g e t C o m p e t e n c y D a t a P r o m i s e = f u n c t i o n ( a , d ) { v a r   e = c . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c y _ s u m m a r y " , a r g s : { c o m p e t e n c y i d : a , i n c l u d e r e l a t e d : d . i n c l u d e r e l a t e d | | ! 1 , i n c l u d e c o u r s e s : d . i n c l u d e c o u r s e s | | ! 1 } } ] ) ; r e t u r n   e [ 0 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   a } ) . f a i l ( b . e x c e p t i o n ) } , { i n i t : f u n c t i o n ( ) { " u n d e f i n e d " = = t y p e o f   g & & ( g = n e w   h , a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " c o m p e t e n c y - d i a l o g u e " ] ' , " c l i c k " , { c o m p d i a l o g u e : g } , g . c l i c k E v e n t H a n d l e r . b i n d ( g ) ) ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ o u t c o m e s ' ,   [ " j q u e r y " , " c o r e / s t r " ] , f u n c t i o n ( a , b ) { v a r   c = 0 , d = 1 , e = 2 , f = 3 ; r e t u r n { N O N E : c , E V I D E N C E : d , C O M P L E T E : e , R E C O M M E N D : f , g e t A l l : f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   b . g e t _ s t r i n g s ( [ { k e y : " c o m p e t e n c y o u t c o m e _ n o n e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o m p e t e n c y o u t c o m e _ e v i d e n c e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o m p e t e n c y o u t c o m e _ r e c o m m e n d " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o m p e t e n c y o u t c o m e _ c o m p l e t e " , c o m p o n e n t : " t o o l _ l p " } ] ) . t h e n ( f u n c t i o n ( b ) { v a r   c = { } ; r e t u r n   c [ a . N O N E ] = { c o d e : a . N O N E , n a m e : b [ 0 ] } , c [ a . E V I D E N C E ] = { c o d e : a . E V I D E N C E , n a m e : b [ 1 ] } , c [ a . R E C O M M E N D ] = { c o d e : a . R E C O M M E N D , n a m e : b [ 2 ] } , c [ a . C O M P L E T E ] = { c o d e : a . C O M P L E T E , n a m e : b [ 3 ] } , c } ) } , g e t S t r i n g : f u n c t i o n ( b ) { v a r   c = t h i s , d = c . g e t A l l ( ) ; r e t u r n   d . t h e n ( f u n c t i o n ( c ) { r e t u r n " u n d e f i n e d " = = t y p e o f   c [ b ] ? a . D e f e r r e d ( ) . r e j e c t ( ) . p r o m i s e ( ) : c [ b ] . n a m e } ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / s c a l e v a l u e s ' ,   [ " j q u e r y " , " c o r e / a j a x " ] , f u n c t i o n ( a , b ) { v a r   c = [ ] ; r e t u r n { g e t _ v a l u e s : f u n c t i o n ( d ) { v a r   e = a . D e f e r r e d ( ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   c [ d ] ? b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ g e t _ s c a l e _ v a l u e s " , a r g s : { s c a l e i d : d } , d o n e : f u n c t i o n ( a ) { c [ d ] = a , e . r e s o l v e ( a ) } , f a i l : e . r e j e c t } ] ) : e . r e s o l v e ( c [ d ] ) , e . p r o m i s e ( ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y t r e e ' ,   [ " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " t o o l _ l p / t r e e " , " t o o l _ l p / c o m p e t e n c y _ o u t c o m e s " , " j q u e r y " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = { } , h = 0 , i = " " , j = " " , k = " " , l = ! 1 , m = f u n c t i o n ( a , b ) { v a r   c = 0 , d = ! 1 ; f o r ( a . h a s c h i l d r e n = ! 1 , a . c h i l d r e n = [ ] , c = 0 ; c < b . l e n g t h ; c + + ) d = b [ c ] , d . p a r e n t i d = = a . i d & & ( a . h a s c h i l d r e n = ! 0 , a . c h i l d r e n . p u s h ( d ) , m ( d , b ) ) } , n = f u n c t i o n ( b ) { v a r   e = f . D e f e r r e d ( ) ; r e t u r n   c . r e n d e r ( " t o o l _ l p / l o a d i n g " , { } ) . d o n e ( f u n c t i o n ( n , o ) { c . r e p l a c e N o d e C o n t e n t s ( f ( j ) , n , o ) ; v a r   p = a . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e a r c h _ c o m p e t e n c i e s " , a r g s : { s e a r c h t e x t : b , c o m p e t e n c y f r a m e w o r k i d : h } } ] ) ; p [ 0 ] . d o n e ( f u n c t i o n ( a ) { g = { } ; v a r   b = 0 ; f o r ( b = 0 ; b < a . l e n g t h ; b + + ) g [ a [ b ] . i d ] = a [ b ] ; v a r   h = [ ] , n = ! 1 ; f o r ( b = 0 ; b < a . l e n g t h ; b + + ) n = a [ b ] , 0 = = = p a r s e I n t ( n . p a r e n t i d , 1 0 ) & & ( h . p u s h ( n ) , m ( n , a ) ) ; v a r   o = { s h o r t n a m e : i , c a n m a n a g e : l , c o m p e t e n c i e s : h } ; c . r e n d e r ( " t o o l _ l p / c o m p e t e n c i e s _ t r e e _ r o o t " , o ) . d o n e ( f u n c t i o n ( a , b ) { c . r e p l a c e N o d e C o n t e n t s ( f ( j ) , f ( a ) . h t m l ( ) , b ) ; v a r   h = n e w   d ( j , ( ! 1 ) ) ; i f ( k ) { v a r   i = f ( j ) . f i n d ( " [ d a t a - i d = " + k + " ] " ) ; i . l e n g t h & & ( h . s e l e c t I t e m ( i ) , h . u p d a t e F o c u s ( i ) ) } e . r e s o l v e ( g ) } ) . f a i l ( e . r e j e c t ) } ) . f a i l ( e . r e j e c t ) } ) , e . p r o m i s e ( ) } , o = f u n c t i o n ( a , b ) { v a r   c = b . s e l e c t e d ; k = c . a t t r ( " d a t a - i d " ) } ; r e t u r n { i n i t : f u n c t i o n ( a , c , d , e , f ) { h = a , i = c , l = f , j = e , n ( d ) . f a i l ( b . e x c e p t i o n ) , t h i s . o n ( " s e l e c t i o n c h a n g e d " , o ) } , o n : f u n c t i o n ( a , b ) { f ( j ) . o n ( a , b ) } , g e t C h i l d r e n : f u n c t i o n ( a ) { v a r   b = [ ] ; r e t u r n   f . e a c h ( g , f u n c t i o n ( c , d ) { d . p a r e n t i d = = a & & b . p u s h ( d ) } ) , b } , g e t C o m p e t e n c y F r a m e w o r k I d : f u n c t i o n ( ) { r e t u r n   h } , g e t C o m p e t e n c y : f u n c t i o n ( a ) { r e t u r n   g [ a ] } , g e t C o m p e t e n c y L e v e l : f u n c t i o n ( a ) { v a r   b = t h i s . g e t C o m p e t e n c y ( a ) , c = b . p a t h . r e p l a c e ( / ^ \ / | \ / $ / g , " " ) . s p l i t ( " / " ) . l e n g t h ; r e t u r n   c } , h a s C h i l d r e n : f u n c t i o n ( a ) { r e t u r n   t h i s . g e t C h i l d r e n ( a ) . l e n g t h > 0 } , h a s R u l e : f u n c t i o n ( a ) { v a r   b = t h i s . g e t C o m p e t e n c y ( a ) ; r e t u r n ! ! b & & ( b . r u l e o u t c o m e ! = e . O U T C O M E _ N O N E & & b . r u l e t y p e ) } , r e l o a d C o m p e t e n c i e s : f u n c t i o n ( ) { r e t u r n   n ( " " ) . f a i l ( b . e x c e p t i o n ) } , l i s t C o m p e t e n c i e s : f u n c t i o n ( ) { r e t u r n   g } } } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ c o u r s e _ n a v i g a t i o n ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b , c , d , e , f , g ) { t h i s . _ b a s e U r l = d , t h i s . _ u s e r I d = e + " " , t h i s . _ c o m p e t e n c y I d = f + " " , t h i s . _ c o u r s e I d = g , a ( b ) . o n ( " c h a n g e " , t h i s . _ u s e r C h a n g e d . b i n d ( t h i s ) ) , a ( c ) . o n ( " c h a n g e " , t h i s . _ c o m p e t e n c y C h a n g e d . b i n d ( t h i s ) ) } ; r e t u r n   b . p r o t o t y p e . _ u s e r C h a n g e d = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r i d = " + c + " & c o u r s e i d = " + t h i s . _ c o u r s e I d + " & c o m p e t e n c y i d = " + t h i s . _ c o m p e t e n c y I d ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ c o m p e t e n c y C h a n g e d = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . v a l ( ) , d = " ? u s e r i d = " + t h i s . _ u s e r I d + " & c o u r s e i d = " + t h i s . _ c o u r s e I d + " & c o m p e t e n c y i d = " + c ; d o c u m e n t . l o c a t i o n = t h i s . _ b a s e U r l + d } , b . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , b . p r o t o t y p e . _ u s e r I d = n u l l , b . p r o t o t y p e . _ c o u r s e I d = n u l l , b . p r o t o t y p e . _ b a s e U r l = n u l l , b . p r o t o t y p e . _ i g n o r e F i r s t C o m p e t e n c y = n u l l , b } ) ; 
 d e f i n e ( ' t o o l _ l p / f r a m e w o r k s _ d a t a s o u r c e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { r e t u r n { l i s t : f u n c t i o n ( c , d ) { v a r   e = { c o n t e x t : { c o n t e x t i d : c } } ; r e t u r n   a . e x t e n d ( e , " u n d e f i n e d " = = t y p e o f   d ? { } : d ) , b . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ l i s t _ c o m p e t e n c y _ f r a m e w o r k s " , a r g s : e } ] ) [ 0 ] } , p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . s h o r t n a m e + "   " + b . i d n u m b e r } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( b , d , e ) { v a r   f = a ( b ) , g = f . d a t a ( " c o n t e x t i d " ) , h = f . d a t a ( " o n l y v i s i b l e " ) ; i f ( ! g ) t h r o w   n e w   E r r o r ( " T h e   a t t r i b u t e   d a t a - c o n t e x t i d   i s   r e q u i r e d   o n   " + b ) ; t h i s . l i s t ( g , { q u e r y : d , o n l y v i s i b l e : h } ) . t h e n ( e ) [ " c a t c h " ] ( c . e x c e p t i o n ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / g r a d e _ d i a l o g u e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / e v e n t _ b a s e " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( a ) { e . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) , t h i s . _ r a t i n g O p t i o n s = a } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( e . p r o t o t y p e ) , g . p r o t o t y p e . _ p o p u p = n u l l , g . p r o t o t y p e . _ r a t i n g O p t i o n s = n u l l , g . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " r a t e " ] ' ) , c = t h i s . _ f i n d ( ' [ n a m e = " r a t i n g " ] ' ) , d = t h i s . _ f i n d ( ' [ n a m e = " c o m m e n t " ] ' ) ; t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " c a n c e l " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . _ t r i g g e r ( " c a n c e l l e d " ) , t h i s . c l o s e ( ) } . b i n d ( t h i s ) ) , c . c h a n g e ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) ; c . v a l ( ) ? b . p r o p ( " d i s a b l e d " , ! 1 ) : b . p r o p ( " d i s a b l e d " , ! 0 ) } ) . c h a n g e ( ) , b . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = c . v a l ( ) ; b & & ( t h i s . _ t r i g g e r ( " r a t e d " , { r a t i n g : b , n o t e : d . v a l ( ) } ) , t h i s . c l o s e ( ) ) } . b i n d ( t h i s ) ) } , g . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . _ p o p u p . c l o s e ( ) , t h i s . _ p o p u p = n u l l } , g . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { r e t u r n   t h i s . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   f . g e t _ s t r i n g ( " r a t e " , " t o o l _ l p " ) . t h e n ( f u n c t i o n ( b ) { t h i s . _ p o p u p = n e w   d ( b , a , t h i s . _ a f t e r R e n d e r . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , g . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   a = { c a n g r a d e : t h i s . _ c a n G r a d e , r a t i n g s : t h i s . _ r a t i n g O p t i o n s } ; r e t u r n   c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ g r a d e r " , a ) } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / f o r m - u s e r - s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . _ l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h , i = a ( d ) . d a t a ( " c a p a b i l i t y " ) ; " u n d e f i n e d " = = t y p e o f   i & & ( i = " " ) , h = b . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ s e a r c h _ u s e r s " , a r g s : { q u e r y : e , c a p a b i l i t y : i } } ] ) , h [ 0 ] . t h e n ( f u n c t i o n ( b ) { v a r   d = [ ] , e = 0 ; r e t u r n   a . e a c h ( b . u s e r s , f u n c t i o n ( b , e ) { v a r   f = e , g = [ ] ; a . e a c h ( [ " i d n u m b e r " , " e m a i l " , " p h o n e 1 " , " p h o n e 2 " , " d e p a r t m e n t " , " i n s t i t u t i o n " ] , f u n c t i o n ( a , b ) { " u n d e f i n e d " ! = t y p e o f   e [ b ] & & " " ! = = e [ b ] & & ( f . h a s i d e n t i t y = ! 0 , g . p u s h ( e [ b ] ) ) } ) , f . i d e n t i t y = g . j o i n ( " ,   " ) , d . p u s h ( c . r e n d e r ( " t o o l _ l p / f o r m - u s e r - s e l e c t o r - s u g g e s t i o n " , f ) ) } ) , a . w h e n . a p p l y ( a . w h e n , d ) . t h e n ( f u n c t i o n ( ) { v a r   c = a r g u m e n t s ; a . e a c h ( b . u s e r s , f u n c t i o n ( a , b ) { b . _ l a b e l = c [ e ] , e + + } ) , f ( b . u s e r s ) } ) } ) [ " c a t c h " ] ( g ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ p l a n _ p o p u p ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b , c , d ) { t h i s . _ r e g i o n S e l e c t o r = b , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r = c , t h i s . _ p l a n I d = d , a ( t h i s . _ r e g i o n S e l e c t o r ) . o n ( " c l i c k " , t h i s . _ u s e r C o m p e t e n c y S e l e c t o r , t h i s . _ h a n d l e C l i c k . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . _ h a n d l e C l i c k = f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( c . t a r g e t ) . c l o s e s t ( " t r " ) , f = a ( e ) . d a t a ( " c o m p e t e n c y i d " ) , g = a ( e ) . d a t a ( " u s e r i d " ) , h = t h i s . _ p l a n I d , i = d . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " , a r g s : { c o m p e t e n c y i d : f , p l a n i d : h } , d o n e : t h i s . _ c o n t e x t L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) ; i [ 0 ] . t h e n ( f u n c t i o n ( a ) { v a r   b = " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ v i e w e d _ i n _ p l a n " ; r e t u r n   a . p l a n . i s c o m p l e t e d & & ( b = " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ p l a n _ v i e w e d " ) , d . c a l l ( [ { m e t h o d n a m e : b , a r g s : { c o m p e t e n c y i d : f , u s e r i d : g , p l a n i d : h } } ] ) [ 0 ] } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ c o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   d = t h i s ; e . r e n d e r ( " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " , a ) . d o n e ( f u n c t i o n ( a , g ) { c . g e t _ s t r i n g ( " u s e r c o m p e t e n c y s u m m a r y " , " r e p o r t _ c o m p e t e n c y " ) . d o n e ( f u n c t i o n ( b ) { n e w   f ( b , a , e . r u n T e m p l a t e J S . b i n d ( e , g ) , d . _ r e f r e s h . b i n d ( d ) , ( ! 0 ) ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   a = t h i s . _ p l a n I d ; d . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " , a r g s : { p l a n i d : a } , d o n e : t h i s . _ p a g e C o n t e x t L o a d e d . b i n d ( t h i s ) , f a i l : b . e x c e p t i o n } ] ) } , g . p r o t o t y p e . _ p a g e C o n t e x t L o a d e d = f u n c t i o n ( a ) { v a r   c = t h i s ; e . r e n d e r ( " t o o l _ l p / p l a n _ p a g e " , a ) . d o n e ( f u n c t i o n ( a , b ) { e . r e p l a c e N o d e ( c . _ r e g i o n S e l e c t o r , a , b ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ r e g i o n S e l e c t o r = n u l l , g . p r o t o t y p e . _ u s e r C o m p e t e n c y S e l e c t o r = n u l l , g . p r o t o t y p e . _ p l a n I d = n u l l , g } ) ; 
 d e f i n e ( ' t o o l _ l p / a c t i o n s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / e v e n t _ b a s e " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( a , b , c , d , e ) { v a r   g = t h i s ; f . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) , g . _ t i t l e = a , g . _ m e s s a g e = b , g . _ a c t i o n s = c , g . _ c o n f i r m = d , g . _ c a n c e l = e , g . _ s e l e c t e d V a l u e = n u l l , g . _ r e s e t ( ) } ; r e t u r n   g . p r o t o t y p e = O b j e c t . c r e a t e ( f . p r o t o t y p e ) , g . p r o t o t y p e . _ s e l e c t e d V a l u e = n u l l , g . p r o t o t y p e . _ p o p u p = n u l l , g . p r o t o t y p e . _ t i t l e = n u l l , g . p r o t o t y p e . _ m e s s a g e = n u l l , g . p r o t o t y p e . _ a c t i o n s = n u l l , g . p r o t o t y p e . _ c o n f i r m = n u l l , g . p r o t o t y p e . _ c a n c e l = n u l l , g . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   b = t h i s ; b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c o n f i r m " ] ' ) . a t t r ( " d i s a b l e d " , " d i s a b l e d " ) , b . _ f i n d ( ' [ d a t a - r e g i o n = " a c t i o n - s e l e c t o r - r a d i o - b u t t o n s " ] ' ) . c h a n g e ( f u n c t i o n ( ) { b . _ s e l e c t e d V a l u e = a ( " i n p u t [ t y p e = ' r a d i o ' ] : c h e c k e d " ) . v a l ( ) , b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c o n f i r m " ] ' ) . r e m o v e A t t r ( " d i s a b l e d " ) , b . _ r e f r e s h . b i n d ( b ) } ) , b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c a n c e l " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , b . c l o s e ( ) } ) , b . _ f i n d ( ' [ d a t a - a c t i o n = " a c t i o n - s e l e c t o r - c o n f i r m " ] ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , b . _ s e l e c t e d V a l u e . l e n g t h & & ( b . _ t r i g g e r ( " s a v e " , { a c t i o n : b . _ s e l e c t e d V a l u e } ) , b . c l o s e ( ) ) } ) } , g . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { v a r   a = t h i s ; a . _ p o p u p . c l o s e ( ) , a . _ r e s e t ( ) } , g . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { a . _ p o p u p = n e w   e ( a . _ t i t l e , b , a . _ a f t e r R e n d e r . b i n d ( a ) ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , g . p r o t o t y p e . _ r e f r e s h = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   a . _ r e n d e r ( ) . t h e n ( f u n c t i o n ( b ) { a . _ f i n d ( ' [ d a t a - r e g i o n = " a c t i o n - s e l e c t o r " ] ' ) . r e p l a c e W i t h ( b ) , a . _ a f t e r R e n d e r ( ) } ) } , g . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   a = t h i s , b = [ ] ; f o r ( v a r   c   i n   a . _ a c t i o n s ) b . p u s h ( a . _ a c t i o n s [ c ] ) ; v a r   e = { m e s s a g e : a . _ m e s s a g e , c h o i c e s : b , c o n f i r m : a . _ c o n f i r m , c a n c e l : a . _ c a n c e l } ; r e t u r n   d . r e n d e r ( " t o o l _ l p / a c t i o n _ s e l e c t o r " , e ) } , g . p r o t o t y p e . _ r e s e t = f u n c t i o n ( ) { t h i s . _ p o p u p = n u l l , t h i s . _ s e l e c t e d V a l u e = " " } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ i n f o ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = f u n c t i o n ( a , b , c , d , e , f ) { t h i s . _ r o o t E l e m e n t = a , t h i s . _ c o m p e t e n c y I d = b , t h i s . _ u s e r I d = c , t h i s . _ p l a n I d = d , t h i s . _ c o u r s e I d = e , t h i s . _ v a l i d = ! 0 , t h i s . _ d i s p l a y u s e r = " u n d e f i n e d " ! = t y p e o f   f & & f , t h i s . _ p l a n I d ? ( t h i s . _ m e t h o d N a m e = " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " , t h i s . _ a r g s = { c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , p l a n i d : t h i s . _ p l a n I d } , t h i s . _ t e m p l a t e N a m e = " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ p l a n " ) : t h i s . _ c o u r s e I d ? ( t h i s . _ m e t h o d N a m e = " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " , t h i s . _ a r g s = { u s e r i d : t h i s . _ u s e r I d , c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , c o u r s e i d : t h i s . _ c o u r s e I d } , t h i s . _ t e m p l a t e N a m e = " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y _ i n _ c o u r s e " ) : ( t h i s . _ m e t h o d N a m e = " t o o l _ l p _ d a t a _ f o r _ u s e r _ c o m p e t e n c y _ s u m m a r y " , t h i s . _ a r g s = { u s e r i d : t h i s . _ u s e r I d , c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d } , t h i s . _ t e m p l a t e N a m e = " t o o l _ l p / u s e r _ c o m p e t e n c y _ s u m m a r y " ) } ; r e t u r n   e . p r o t o t y p e . r e l o a d = f u n c t i o n ( ) { v a r   a = t h i s , e = [ ] ; t h i s . _ v a l i d & & ( e = c . c a l l ( [ { m e t h o d n a m e : t h i s . _ m e t h o d N a m e , a r g s : t h i s . _ a r g s } ] ) , e [ 0 ] . d o n e ( f u n c t i o n ( c ) { a . _ d i s p l a y u s e r & & ( c . d i s p l a y u s e r = ! 0 ) , d . r e n d e r ( a . _ t e m p l a t e N a m e , c ) . d o n e ( f u n c t i o n ( b , c ) { d . r e p l a c e N o d e ( a . _ r o o t E l e m e n t , b , c ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) ) } , e . p r o t o t y p e . _ r o o t E l e m e n t = n u l l , e . p r o t o t y p e . _ c o u r s e I d = n u l l , e . p r o t o t y p e . _ v a l i d = n u l l , e . p r o t o t y p e . _ p l a n I d = n u l l , e . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , e . p r o t o t y p e . _ u s e r I d = n u l l , e . p r o t o t y p e . _ m e t h o d N a m e = n u l l , e . p r o t o t y p e . _ a r g s = n u l l , e . p r o t o t y p e . _ t e m p l a t e N a m e = n u l l , e . p r o t o t y p e . _ d i s p l a y u s e r = ! 1 , e } ) ; 
 d e f i n e ( ' t o o l _ l p / s c a l e c o n f i g ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / s c a l e v a l u e s " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b , c , d ) { t h i s . s e l e c t S e l e c t o r = b , t h i s . i n p u t S e l e c t o r = c , t h i s . t r i g g e r S e l e c t o r = d , t h i s . o r i g i n a l s c a l e i d = a ( b ) . v a l ( ) , a ( b ) . o n ( " c h a n g e " , t h i s . s c a l e C h a n g e H a n d l e r . b i n d ( t h i s ) ) . c h a n g e ( ) , a ( d ) . c l i c k ( t h i s . s h o w C o n f i g . b i n d ( t h i s ) ) } ; r e t u r n   g . p r o t o t y p e . s e l e c t S e l e c t o r = n u l l , g . p r o t o t y p e . i n p u t S e l e c t o r = n u l l , g . p r o t o t y p e . t r i g g e r S e l e c t o r = n u l l , g . p r o t o t y p e . s c a l e v a l u e s = n u l l , g . p r o t o t y p e . o r i g i n a l s c a l e i d = 0 , g . p r o t o t y p e . s c a l e i d = 0 , g . p r o t o t y p e . p o p u p = n u l l , g . p r o t o t y p e . s h o w C o n f i g = f u n c t i o n ( ) { v a r   d = t h i s ; i f ( t h i s . s c a l e i d = a ( t h i s . s e l e c t S e l e c t o r ) . v a l ( ) , ! ( t h i s . s c a l e i d < = 0 ) ) { v a r   f = a ( t h i s . s e l e c t S e l e c t o r ) . f i n d ( " o p t i o n : s e l e c t e d " ) . t e x t ( ) ; t h i s . g e t S c a l e V a l u e s ( t h i s . s c a l e i d ) . d o n e ( f u n c t i o n ( ) { v a r   a = { s c a l e n a m e : f , s c a l e s : d . s c a l e v a l u e s } ; c . r e n d e r ( " t o o l _ l p / s c a l e _ c o n f i g u r a t i o n _ p a g e " , a ) . d o n e ( f u n c t i o n ( a ) { n e w   e ( f , a , d . i n i t S c a l e C o n f i g . b i n d ( d ) ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } } , g . p r o t o t y p e . r e t r i e v e O r i g i n a l S c a l e C o n f i g = f u n c t i o n ( ) { v a r   b = a ( t h i s . i n p u t S e l e c t o r ) . v a l ( ) ; i f ( " " ! = = b ) { v a r   c = a . p a r s e J S O N ( b ) , d = c . s h i f t ( ) ; i f ( d . s c a l e i d = = = t h i s . o r i g i n a l s c a l e i d ) r e t u r n   c } r e t u r n " " } , g . p r o t o t y p e . i n i t S c a l e C o n f i g = f u n c t i o n ( b ) { t h i s . p o p u p = b ; v a r   c = a ( b . g e t C o n t e n t ( ) ) ; i f ( t h i s . o r i g i n a l s c a l e i d = = = t h i s . s c a l e i d ) { v a r   d = t h i s . r e t r i e v e O r i g i n a l S c a l e C o n f i g ( ) ; " " ! = = d & & d . f o r E a c h ( f u n c t i o n ( a ) { 1 = = = a . s c a l e d e f a u l t & & c . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ d e f a u l t _ ' + a . i d + ' " ] ' ) . a t t r ( " c h e c k e d " , ! 0 ) , 1 = = = a . p r o f i c i e n t & & c . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ p r o f i c i e n t _ ' + a . i d + ' " ] ' ) . a t t r ( " c h e c k e d " , ! 0 ) } ) } c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " c l o s e " ] ' , f u n c t i o n ( ) { t h i s . s e t S c a l e C o n f i g ( ) , b . c l o s e ( ) } . b i n d ( t h i s ) ) , c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " c a n c e l " ] ' , f u n c t i o n ( ) { b . c l o s e ( ) } ) } , g . p r o t o t y p e . s e t S c a l e C o n f i g = f u n c t i o n ( ) { v a r   b = a ( t h i s . p o p u p . g e t C o n t e n t ( ) ) , c = [ { s c a l e i d : t h i s . s c a l e i d } ] ; t h i s . s c a l e v a l u e s . f o r E a c h ( f u n c t i o n ( a ) { v a r   d = 0 , e = 0 ; b . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ d e f a u l t _ ' + a . i d + ' " ] ' ) . i s ( " : c h e c k e d " ) & & ( d = 1 ) , b . f i n d ( ' [ d a t a - f i e l d = " t o o l _ l p _ s c a l e _ p r o f i c i e n t _ ' + a . i d + ' " ] ' ) . i s ( " : c h e c k e d " ) & & ( e = 1 ) , ( d | | e ) & & c . p u s h ( { i d : a . i d , s c a l e d e f a u l t : d , p r o f i c i e n t : e } ) } ) ; v a r   d = J S O N . s t r i n g i f y ( c ) ; a ( t h i s . i n p u t S e l e c t o r ) . v a l ( d ) , t h i s . o r i g i n a l s c a l e i d = t h i s . s c a l e i d } , g . p r o t o t y p e . g e t S c a l e V a l u e s = f u n c t i o n ( a ) { r e t u r n   f . g e t _ v a l u e s ( a ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   t h i s . s c a l e v a l u e s = a , a } . b i n d ( t h i s ) ) } , g . p r o t o t y p e . s c a l e C h a n g e H a n d l e r = f u n c t i o n ( b ) { a ( b . t a r g e t ) . v a l ( ) < = 0 ? a ( t h i s . t r i g g e r S e l e c t o r ) . p r o p ( " d i s a b l e d " , ! 0 ) : a ( t h i s . t r i g g e r S e l e c t o r ) . p r o p ( " d i s a b l e d " , ! 1 ) } , { i n i t : f u n c t i o n ( a , b , c ) { r e t u r n   n e w   g ( a , b , c ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / p l a n a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / d i a l o g u e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a ) { i f ( t h i s . _ t y p e = a , " p l a n " = = = a ) t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " p l a n - p a g e " ] ' , t h i s . _ p l a n N o d e = ' [ d a t a - r e g i o n = " p l a n - p a g e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / p l a n _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " ; e l s e { i f ( " p l a n s " ! = = a ) t h r o w   n e w   T y p e E r r o r ( " U n e x p e c t e d   t y p e . " ) ; t h i s . _ r e g i o n = ' [ d a t a - r e g i o n = " p l a n s " ] ' , t h i s . _ p l a n N o d e = ' [ d a t a - r e g i o n = " p l a n - n o d e " ] ' , t h i s . _ t e m p l a t e = " t o o l _ l p / p l a n s _ p a g e " , t h i s . _ c o n t e x t M e t h o d = " t o o l _ l p _ d a t a _ f o r _ p l a n s _ p a g e " } } ; r e t u r n   h . p r o t o t y p e . _ c o n t e x t M e t h o d = n u l l , h . p r o t o t y p e . _ p l a n N o d e = n u l l , h . p r o t o t y p e . _ r e g i o n = n u l l , h . p r o t o t y p e . _ t e m p l a t e = n u l l , h . p r o t o t y p e . _ t y p e = n u l l , h . p r o t o t y p e . _ g e t C o n t e x t A r g s = f u n c t i o n ( a ) { v a r   b = t h i s , c = { } ; r e t u r n " p l a n " = = = b . _ t y p e ? c = { p l a n i d : a . i d } : " p l a n s " = = = b . _ t y p e & & ( c = { u s e r i d : a . u s e r i d } ) , c } , h . p r o t o t y p e . r e f r e s h = f u n c t i o n ( b ) { v a r   c = t h i s . _ f i n d P l a n D a t a ( a ( b ) ) ; t h i s . _ c a l l A n d R e f r e s h ( [ ] , c ) } , h . p r o t o t y p e . _ r e n d e r V i e w = f u n c t i o n ( c ) { v a r   d = t h i s ; r e t u r n   b . r e n d e r ( d . _ t e m p l a t e , c ) . t h e n ( f u n c t i o n ( c , e ) { a ( d . _ r e g i o n ) . r e p l a c e W i t h ( c ) , b . r u n T e m p l a t e J S ( e ) } ) } , h . p r o t o t y p e . _ c a l l A n d R e f r e s h = f u n c t i o n ( b , e ) { v a r   f = " t o o l _ l p / p l a n a c t i o n s : _ c a l l A n d R e f r e s h - " + M a t h . f l o o r ( M a t h . r a n d o m ( ) * M a t h . f l o o r ( 1 e 3 ) ) ; M . u t i l . j s _ p e n d i n g ( f ) ; v a r   g = t h i s ; r e t u r n   b . p u s h ( { m e t h o d n a m e : g . _ c o n t e x t M e t h o d , a r g s : g . _ g e t C o n t e x t A r g s ( e ) } ) , a . w h e n . a p p l y ( a , c . c a l l ( b ) ) . t h e n ( f u n c t i o n ( ) { r e t u r n   g . _ r e n d e r V i e w ( a r g u m e n t s [ a r g u m e n t s . l e n g t h - 1 ] ) } ) . f a i l ( d . e x c e p t i o n ) . a l w a y s ( f u n c t i o n ( ) { r e t u r n   M . u t i l . j s _ c o m p l e t e ( f ) } ) } , h . p r o t o t y p e . _ d o D e l e t e = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ p l a n " , a r g s : { i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . d e l e t e P l a n = f u n c t i o n ( a ) { v a r   b , f = t h i s ; b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) , b [ 0 ] . d o n e ( f u n c t i o n ( b ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e p l a n " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( b ) { d . c o n f i r m ( b [ 0 ] , b [ 1 ] , b [ 2 ] , b [ 3 ] , f u n c t i o n ( ) { f . _ d o D e l e t e ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o R e o p e n P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o p e n _ p l a n " , a r g s : { p l a n i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . r e o p e n P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , f = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) ; f [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " r e o p e n p l a n c o n f i r m " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . n a m e } , { k e y : " r e o p e n p l a n " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { b . _ d o R e o p e n P l a n ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o C o m p l e t e P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c o m p l e t e _ p l a n " , a r g s : { p l a n i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . c o m p l e t e P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , f = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) ; f [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c o m p l e t e p l a n c o n f i r m " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . n a m e } , { k e y : " c o m p l e t e p l a n " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { b . _ d o C o m p l e t e P l a n ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o U n l i n k P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , c = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u n l i n k _ p l a n _ f r o m _ t e m p l a t e " , a r g s : { p l a n i d : a . i d } } ] ; b . _ c a l l A n d R e f r e s h ( c , a ) } , h . p r o t o t y p e . u n l i n k P l a n = f u n c t i o n ( a ) { v a r   b = t h i s , f = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ p l a n " , a r g s : { i d : a . i d } } ] ) ; f [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " u n l i n k p l a n t e m p l a t e c o n f i r m " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . n a m e } , { k e y : " u n l i n k p l a n t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { d . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { b . _ d o U n l i n k P l a n ( a ) } ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ d o R e q u e s t R e v i e w = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ r e q u e s t _ r e v i e w " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . r e q u e s t R e v i e w = f u n c t i o n ( a ) { t h i s . _ d o R e q u e s t R e v i e w ( a ) } , h . p r o t o t y p e . _ d o C a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ c a n c e l _ r e v i e w _ r e q u e s t " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . c a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { t h i s . _ d o C a n c e l R e v i e w R e q u e s t ( a ) } , h . p r o t o t y p e . _ d o S t a r t R e v i e w = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ s t a r t _ r e v i e w " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . s t a r t R e v i e w = f u n c t i o n ( a ) { t h i s . _ d o S t a r t R e v i e w ( a ) } , h . p r o t o t y p e . _ d o S t o p R e v i e w = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ p l a n _ s t o p _ r e v i e w " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . s t o p R e v i e w = f u n c t i o n ( a ) { t h i s . _ d o S t o p R e v i e w ( a ) } , h . p r o t o t y p e . _ d o A p p r o v e = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a p p r o v e _ p l a n " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . a p p r o v e = f u n c t i o n ( a ) { t h i s . _ d o A p p r o v e ( a ) } , h . p r o t o t y p e . _ d o U n a p p r o v e = f u n c t i o n ( a ) { v a r   b = [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u n a p p r o v e _ p l a n " , a r g s : { i d : a . i d } } ] ; t h i s . _ c a l l A n d R e f r e s h ( b , a ) } , h . p r o t o t y p e . u n a p p r o v e = f u n c t i o n ( a ) { t h i s . _ d o U n a p p r o v e ( a ) } , h . p r o t o t y p e . _ s h o w L i n k e d C o u r s e s H a n d l e r = f u n c t i o n ( f ) { f . p r e v e n t D e f a u l t ( ) ; v a r   h = a ( f . t a r g e t ) . d a t a ( " i d " ) , i = c . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ l i s t _ c o u r s e s _ u s i n g _ c o m p e t e n c y " , a r g s : { i d : h } } ] ) ; i [ 0 ] . d o n e ( f u n c t i o n ( a ) { v a r   c = { c o u r s e s : a } ; b . r e n d e r ( " t o o l _ l p / l i n k e d _ c o u r s e s _ s u m m a r y " , c ) . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g ( " l i n k e d c o u r s e s " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { n e w   g ( b , a ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , h . p r o t o t y p e . _ e v e n t H a n d l e r = f u n c t i o n ( b , c ) { c . p r e v e n t D e f a u l t ( ) ; v a r   d = t h i s . _ f i n d P l a n D a t a ( a ( c . t a r g e t ) ) ; t h i s [ b ] ( d ) } , h . p r o t o t y p e . _ f i n d P l a n D a t a = f u n c t i o n ( b ) { v a r   c , d = b . p a r e n t s U n t i l ( a ( t h i s . _ r e g i o n ) . p a r e n t ( ) , t h i s . _ p l a n N o d e ) ; i f ( 1 ! = d . l e n g t h ) t h r o w   n e w   E r r o r ( " T h e   p l a n   n o d e   w a s   n o t   l o c a t e d . " ) ; i f ( c = d . d a t a ( ) , " u n d e f i n e d " = = t y p e o f   c | | " u n d e f i n e d " = = t y p e o f   c . i d ) t h r o w   n e w   E r r o r ( " P l a n   d a t a   c o u l d   n o t   b e   f o u n d . " ) ; r e t u r n   c } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " p l a n - d e l e t e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " d e l e t e P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - c o m p l e t e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c o m p l e t e P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - r e o p e n " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e o p e n P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - u n l i n k " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n l i n k P l a n " ) , ' [ d a t a - a c t i o n = " p l a n - r e q u e s t - r e v i e w " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e q u e s t R e v i e w " ) , ' [ d a t a - a c t i o n = " p l a n - c a n c e l - r e v i e w - r e q u e s t " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c a n c e l R e v i e w R e q u e s t " ) , ' [ d a t a - a c t i o n = " p l a n - s t a r t - r e v i e w " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t a r t R e v i e w " ) , ' [ d a t a - a c t i o n = " p l a n - s t o p - r e v i e w " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t o p R e v i e w " ) , ' [ d a t a - a c t i o n = " p l a n - a p p r o v e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " a p p r o v e " ) , ' [ d a t a - a c t i o n = " p l a n - u n a p p r o v e " ] ' : t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n a p p r o v e " ) } ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   b = a ( t h i s . _ r e g i o n ) ; b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - d e l e t e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " d e l e t e P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - c o m p l e t e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c o m p l e t e P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - r e o p e n " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e o p e n P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - u n l i n k " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n l i n k P l a n " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - r e q u e s t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " r e q u e s t R e v i e w " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - c a n c e l - r e v i e w - r e q u e s t " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " c a n c e l R e v i e w R e q u e s t " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - s t a r t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t a r t R e v i e w " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - s t o p - r e v i e w " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " s t o p R e v i e w " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - a p p r o v e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " a p p r o v e " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " p l a n - u n a p p r o v e " ] ' ) . c l i c k ( t h i s . _ e v e n t H a n d l e r . b i n d ( t h i s , " u n a p p r o v e " ) ) , b . f i n d ( ' [ d a t a - a c t i o n = " f i n d - c o u r s e s - l i n k " ] ' ) . c l i c k ( t h i s . _ s h o w L i n k e d C o u r s e s H a n d l e r . b i n d ( t h i s ) ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / t e m p l a t e a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / a c t i o n s e l e c t o r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = 0 , h = 0 , i = ! 0 , j = f u n c t i o n ( c , d ) { a ( ' [ d a t a - r e g i o n = " m a n a g e t e m p l a t e s " ] ' ) . r e p l a c e W i t h ( c ) , b . r u n T e m p l a t e J S ( d ) } , k = f u n c t i o n ( a ) { b . r e n d e r ( " t o o l _ l p / m a n a g e _ t e m p l a t e s _ p a g e " , a ) . d o n e ( j ) . f a i l ( d . e x c e p t i o n ) } , l = f u n c t i o n ( ) { v a r   a = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ t e m p l a t e " , a r g s : { i d : h , d e l e t e p l a n s : i } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : g } } } ] ) ; a [ 1 ] . d o n e ( k ) . f a i l ( d . e x c e p t i o n ) } , m = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , h = a ( t h i s ) . a t t r ( " d a t a - t e m p l a t e i d " ) ; v a r   e = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d u p l i c a t e _ t e m p l a t e " , a r g s : { i d : h } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : g } } } ] ) ; e [ 1 ] . d o n e ( k ) . f a i l ( d . e x c e p t i o n ) } , n = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   g = a ( t h i s ) . a t t r ( " d a t a - t e m p l a t e i d " ) ; h = g , i = ! 0 ; v a r   j = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ t e m p l a t e " , a r g s : { i d : h } } , { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ t e m p l a t e _ h a s _ r e l a t e d _ d a t a " , a r g s : { i d : h } } ] ) ; j [ 0 ] . d o n e ( f u n c t i o n ( a ) { j [ 1 ] . d o n e ( f u n c t i o n ( b ) { b ? e . g e t _ s t r i n g s ( [ { k e y : " d e l e t e t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " d e l e t e t e m p l a t e w i t h p l a n s " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " d e l e t e p l a n s " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " u n l i n k p l a n s t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { v a r   b = [ { t e x t : a [ 2 ] , v a l u e : " d e l e t e " } , { t e x t : a [ 3 ] , v a l u e : " u n l i n k " } ] , c = n e w   f ( a [ 0 ] , a [ 1 ] , b , a [ 4 ] , a [ 5 ] ) ; c . d i s p l a y ( ) , c . o n ( " s a v e " , f u n c t i o n ( a , b ) { " d e l e t e " ! = b . a c t i o n & & ( i = ! 1 ) , l ( ) } ) } ) . f a i l ( d . e x c e p t i o n ) : e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e t e m p l a t e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , l ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ; r e t u r n { d e l e t e H a n d l e r : n , d u p l i c a t e H a n d l e r : m , i n i t : f u n c t i o n ( a ) { g = a } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y r u l e c o n f i g ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / c o m p e t e n c y _ o u t c o m e s " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b , c ) { t h i s . _ e v e n t N o d e = a ( " < d i v > < / d i v > " ) , t h i s . _ t r e e = b , t h i s . _ r u l e s M o d u l e s = c , t h i s . _ s e t U p ( ) } ; r e t u r n   g . p r o t o t y p e . _ c o m p e t e n c y = n u l l , g . p r o t o t y p e . _ e v e n t N o d e = n u l l , g . p r o t o t y p e . _ o u t c o m e s O p t i o n = n u l l , g . p r o t o t y p e . _ p o p u p = n u l l , g . p r o t o t y p e . _ r e a d y = n u l l , g . p r o t o t y p e . _ r u l e s = n u l l , g . p r o t o t y p e . _ r u l e s M o d u l e s = n u l l , g . p r o t o t y p e . _ t r e e = n u l l , g . p r o t o t y p e . _ a f t e r C h a n g e = f u n c t i o n ( ) { t h i s . _ i s V a l i d ( ) ? t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) . p r o p ( " d i s a b l e d " , ! 1 ) : t h i s . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) . p r o p ( " d i s a b l e d " , ! 0 ) } , g . p r o t o t y p e . _ a f t e r R u l e C o n f i g C h a n g e = f u n c t i o n ( a , b ) { b = = t h i s . _ g e t R u l e ( ) & & t h i s . _ a f t e r C h a n g e ( ) } , g . p r o t o t y p e . _ a f t e r R e n d e r = f u n c t i o n ( ) { v a r   a = t h i s ; a . _ f i n d ( ' [ n a m e = " o u t c o m e " ] ' ) . o n ( " c h a n g e " , f u n c t i o n ( ) { a . _ s w i t c h e d O u t c o m e ( ) } ) . t r i g g e r ( " c h a n g e " ) , a . _ f i n d ( ' [ n a m e = " r u l e " ] ' ) . o n ( " c h a n g e " , f u n c t i o n ( ) { a . _ s w i t c h e d R u l e ( ) } ) . t r i g g e r ( " c h a n g e " ) , a . _ f i n d ( ' [ d a t a - a c t i o n = " s a v e " ] ' ) . o n ( " c l i c k " , f u n c t i o n ( ) { a . _ t r i g g e r ( " s a v e " , a . _ g e t C o n f i g ( ) ) , a . c l o s e ( ) } ) , a . _ f i n d ( ' [ d a t a - a c t i o n = " c a n c e l " ] ' ) . o n ( " c l i c k " , f u n c t i o n ( ) { a . c l o s e ( ) } ) } , g . p r o t o t y p e . c a n B e C o n f i g u r e d = f u n c t i o n ( ) { v a r   b = ! 1 ; r e t u r n   a . e a c h ( t h i s . _ r u l e s , f u n c t i o n ( a , c ) { i f ( c . c a n C o n f i g ( ) ) r e t u r n   v o i d ( b = ! 0 ) } ) , b } , g . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . _ p o p u p . c l o s e ( ) , t h i s . _ p o p u p = n u l l } , g . p r o t o t y p e . d i s p l a y = f u n c t i o n ( ) { v a r   c = t h i s ; r e t u r n ! ! c . _ c o m p e t e n c y & & a . w h e n ( f . g e t _ s t r i n g ( " c o m p e t e n c y r u l e " , " t o o l _ l p " ) , c . _ r e n d e r ( ) ) . t h e n ( f u n c t i o n ( a , b ) { c . _ p o p u p = n e w   d ( a , b [ 0 ] , c . _ a f t e r R e n d e r . b i n d ( c ) ) } ) . f a i l ( b . e x c e p t i o n ) } , g . p r o t o t y p e . _ f i n d = f u n c t i o n ( b ) { r e t u r n   a ( t h i s . _ p o p u p . g e t C o n t e n t ( ) ) . f i n d ( b ) } , g . p r o t o t y p e . _ g e t A p p l i c a b l e O u t c o m e s O p t i o n s = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] ; r e t u r n   a . e a c h ( b . _ o u t c o m e s O p t i o n , f u n c t i o n ( a , d ) { c . p u s h ( { c o d e : d . c o d e , n a m e : d . n a m e , s e l e c t e d : d . c o d e = = b . _ c o m p e t e n c y . r u l e o u t c o m e } ) } ) , c } , g . p r o t o t y p e . _ g e t A p p l i c a b l e R u l e s O p t i o n s = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] ; r e t u r n   a . e a c h ( b . _ r u l e s , f u n c t i o n ( a , d ) { d . c a n C o n f i g ( ) & & c . p u s h ( { n a m e : b . _ g e t R u l e N a m e ( d . g e t T y p e ( ) ) , t y p e : d . g e t T y p e ( ) , s e l e c t e d : d . g e t T y p e ( ) = = b . _ c o m p e t e n c y . r u l e t y p e } ) } ) , c } , g . p r o t o t y p e . _ g e t C o n f i g = f u n c t i o n ( ) { v a r   a = t h i s . _ g e t R u l e ( ) ; r e t u r n { r u l e t y p e : a ? a . g e t T y p e ( ) : n u l l , r u l e c o n f i g : a ? a . g e t C o n f i g ( ) : n u l l , r u l e o u t c o m e : t h i s . _ g e t O u t c o m e ( ) } } , g . p r o t o t y p e . _ g e t O u t c o m e = f u n c t i o n ( ) { r e t u r n   t h i s . _ f i n d ( ' [ n a m e = " o u t c o m e " ] ' ) . v a l ( ) } , g . p r o t o t y p e . _ g e t R u l e = f u n c t i o n ( ) { v a r   b , c = t h i s . _ f i n d ( ' [ n a m e = " r u l e " ] ' ) . v a l ( ) ; r e t u r n   a . e a c h ( t h i s . _ r u l e s , f u n c t i o n ( a , d ) { i f ( d . g e t T y p e ( ) = = c ) r e t u r n   v o i d ( b = d ) } ) , b } , g . p r o t o t y p e . _ g e t R u l e N a m e = f u n c t i o n ( b ) { v a r   c , d = t h i s ; r e t u r n   a . e a c h ( d . _ r u l e s M o d u l e s , f u n c t i o n ( a , d ) { i f ( d . t y p e = = b ) r e t u r n   v o i d ( c = d . n a m e ) } ) , c } , g . p r o t o t y p e . _ i n i t O u t c o m e s = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   e . g e t A l l ( ) . t h e n ( f u n c t i o n ( b ) { a . _ o u t c o m e s O p t i o n = b } ) } , g . p r o t o t y p e . _ i n i t R u l e s = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] ; r e t u r n   a . e a c h ( b . _ r u l e s , f u n c t i o n ( d , e ) { v a r   f = e . i n i t ( ) . t h e n ( f u n c t i o n ( ) { e . s e t T a r g e t C o m p e t e n c y ( b . _ c o m p e t e n c y ) , e . o n ( " c h a n g e " , b . _ a f t e r R u l e C o n f i g C h a n g e . b i n d ( b ) ) } , f u n c t i o n ( ) { r e t u r n   b . _ r u l e s . s p l i c e ( d , 1 ) , a . w h e n ( ) } ) ; c . p u s h ( f ) } ) , a . w h e n . a p p l y ( a . w h e n , c ) } , g . p r o t o t y p e . _ i s V a l i d = f u n c t i o n ( ) { v a r   a = t h i s . _ g e t O u t c o m e ( ) , b = t h i s . _ g e t R u l e ( ) ; r e t u r n   a = = e . N O N E | | ! ! b & & b . i s V a l i d ( ) } , g . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , g . p r o t o t y p e . _ p r e R e n d e r = f u n c t i o n ( ) { r e t u r n   t h i s . r e a d y ( ) } , g . p r o t o t y p e . r e a d y = f u n c t i o n ( ) { r e t u r n   t h i s . _ r e a d y . p r o m i s e ( ) } , g . p r o t o t y p e . _ r e n d e r = f u n c t i o n ( ) { v a r   a = t h i s ; r e t u r n   t h i s . _ p r e R e n d e r ( ) . t h e n ( f u n c t i o n ( ) { v a r   b ; a . c a n B e C o n f i g u r e d ( ) ? ( b = { } , b . o u t c o m e s = a . _ g e t A p p l i c a b l e O u t c o m e s O p t i o n s ( ) , b . r u l e s = a . _ g e t A p p l i c a b l e R u l e s O p t i o n s ( ) ) : b = ! 1 ; v a r   d = { c o m p e t e n c y s h o r t n a m e : a . _ c o m p e t e n c y . s h o r t n a m e , c o n f i g : b } ; r e t u r n   c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ r u l e _ c o n f i g " , d ) } ) } , g . p r o t o t y p e . s e t T a r g e t C o m p e t e n c y I d = f u n c t i o n ( b ) { v a r   c = t h i s ; c . _ c o m p e t e n c y = c . _ t r e e . g e t C o m p e t e n c y ( b ) , a . e a c h ( c . _ r u l e s , f u n c t i o n ( a , b ) { b . s e t T a r g e t C o m p e t e n c y ( c . _ c o m p e t e n c y ) } ) } , g . p r o t o t y p e . _ s e t U p = f u n c t i o n ( ) { v a r   b = t h i s , c = [ ] , d = [ ] ; b . _ r e a d y = a . D e f e r r e d ( ) , b . _ r u l e s = [ ] , a . e a c h ( b . _ r u l e s M o d u l e s , f u n c t i o n ( a , b ) { d . p u s h ( b . a m d ) } ) , r e q u i r e ( d , f u n c t i o n ( ) { a . e a c h ( a r g u m e n t s , f u n c t i o n ( a , c ) { v a r   d = n e w   c ( b . _ t r e e ) ; b . _ r u l e s . p u s h ( d ) } ) , c . p u s h ( b . _ i n i t R u l e s ( ) ) , c . p u s h ( b . _ i n i t O u t c o m e s ( ) ) , a . w h e n . a p p l y ( a . w h e n , c ) . a l w a y s ( f u n c t i o n ( ) { b . _ r e a d y . r e s o l v e ( ) } ) } ) } , g . p r o t o t y p e . _ s w i t c h e d O u t c o m e = f u n c t i o n ( ) { v a r   a = t h i s , b = a . _ g e t O u t c o m e ( ) ; r e t u r n   b = = e . N O N E ? ( a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - t y p e " ] ' ) . h i d e ( ) . f i n d ( ' [ n a m e = " r u l e " ] ' ) . v a l ( - 1 ) , a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - c o n f i g " ] ' ) . e m p t y ( ) . h i d e ( ) , v o i d   a . _ a f t e r C h a n g e ( ) ) : ( a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - t y p e " ] ' ) . s h o w ( ) , a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - c o n f i g " ] ' ) . s h o w ( ) , v o i d   a . _ a f t e r C h a n g e ( ) ) } , g . p r o t o t y p e . _ s w i t c h e d R u l e = f u n c t i o n ( ) { v a r   a = t h i s , b = a . _ f i n d ( ' [ d a t a - r e g i o n = " r u l e - c o n f i g " ] ' ) , c = a . _ g e t R u l e ( ) ; r e t u r n   c ? v o i d   c . i n j e c t T e m p l a t e ( b ) . t h e n ( f u n c t i o n ( ) { b . s h o w ( ) } ) . a l w a y s ( f u n c t i o n ( ) { a . _ a f t e r C h a n g e ( ) } ) [ " c a t c h " ] ( f u n c t i o n ( ) { b . e m p t y ( ) . h i d e ( ) } ) : ( b . e m p t y ( ) . h i d e ( ) , v o i d   a . _ a f t e r C h a n g e ( ) ) } , g . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , g } ) ; 
 d e f i n e ( ' t o o l _ l p / u s e r _ c o m p e t e n c y _ w o r k f l o w ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / e v e n t _ b a s e " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( ) { g . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) } ; r e t u r n   h . p r o t o t y p e = O b j e c t . c r e a t e ( g . p r o t o t y p e ) , h . p r o t o t y p e . _ n o d e S e l e c t o r = ' [ d a t a - n o d e = " u s e r - c o m p e t e n c y " ] ' , h . p r o t o t y p e . _ c a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ c a n c e l _ r e v i e w _ r e q u e s t " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - r e q u e s t - c a n c e l l e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . c a n c e l R e v i e w R e q u e s t = f u n c t i o n ( a ) { t h i s . _ c a n c e l R e v i e w R e q u e s t ( a ) } , h . p r o t o t y p e . _ c a n c e l R e v i e w R e q u e s t H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . c a n c e l R e v i e w R e q u e s t ( c ) } , h . p r o t o t y p e . _ r e q u e s t R e v i e w = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ r e q u e s t _ r e v i e w " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - r e q u e s t e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . r e q u e s t R e v i e w = f u n c t i o n ( a ) { t h i s . _ r e q u e s t R e v i e w ( a ) } , h . p r o t o t y p e . _ r e q u e s t R e v i e w H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . r e q u e s t R e v i e w ( c ) } , h . p r o t o t y p e . _ s t a r t R e v i e w = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ s t a r t _ r e v i e w " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - s t a r t e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . s t a r t R e v i e w = f u n c t i o n ( a ) { t h i s . _ s t a r t R e v i e w ( a ) } , h . p r o t o t y p e . _ s t a r t R e v i e w H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . s t a r t R e v i e w ( c ) } , h . p r o t o t y p e . _ s t o p R e v i e w = f u n c t i o n ( a ) { v a r   b = { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u s e r _ c o m p e t e n c y _ s t o p _ r e v i e w " , a r g s : { u s e r i d : a . u s e r i d , c o m p e t e n c y i d : a . c o m p e t e n c y i d } } ; c . c a l l ( [ b ] ) [ 0 ] . t h e n ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " r e v i e w - s t o p p e d " , a ) , t h i s . _ t r i g g e r ( " s t a t u s - c h a n g e d " , a ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " e r r o r - o c c u r e d " , a ) } . b i n d ( t h i s ) ) } , h . p r o t o t y p e . s t o p R e v i e w = f u n c t i o n ( a ) { t h i s . _ s t o p R e v i e w ( a ) } , h . p r o t o t y p e . _ s t o p R e v i e w H a n d l e r = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = t h i s . _ f i n d U s e r C o m p e t e n c y D a t a ( a ( b . t a r g e t ) ) ; t h i s . s t o p R e v i e w ( c ) } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " r e q u e s t - r e v i e w " ] ' : t h i s . _ r e q u e s t R e v i e w H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " c a n c e l - r e v i e w - r e q u e s t " ] ' : t h i s . _ c a n c e l R e v i e w R e q u e s t H a n d l e r . b i n d ( t h i s ) } ) } , h . p r o t o t y p e . _ f i n d U s e r C o m p e t e n c y D a t a = f u n c t i o n ( a ) { v a r   b , c = a . p a r e n t s ( t h i s . _ n o d e S e l e c t o r ) ; i f ( 1 ! = c . l e n g t h ) t h r o w   n e w   E r r o r ( " T h e   e v i d e n c e   n o d e   w a s   n o t   l o c a t e d . " ) ; i f ( b = c . d a t a ( ) , " u n d e f i n e d " = = t y p e o f   b | | " u n d e f i n e d " = = t y p e o f   b . u s e r i d | | " u n d e f i n e d " = = t y p e o f   b . c o m p e t e n c y i d ) t h r o w   n e w   E r r o r ( " U s e r   c o m p e t e n c y   d a t a   c o u l d   n o t   b e   f o u n d . " ) ; r e t u r n   b } , h . p r o t o t y p e . e n h a n c e M e n u b a r = f u n c t i o n ( a ) { f . e n h a n c e ( a , { ' [ d a t a - a c t i o n = " r e q u e s t - r e v i e w " ] ' : t h i s . _ r e q u e s t R e v i e w H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " c a n c e l - r e v i e w - r e q u e s t " ] ' : t h i s . _ c a n c e l R e v i e w R e q u e s t H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " s t a r t - r e v i e w " ] ' : t h i s . _ s t a r t R e v i e w H a n d l e r . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " s t o p - r e v i e w " ] ' : t h i s . _ s t o p R e v i e w H a n d l e r . b i n d ( t h i s ) } ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( b ) { v a r   c = a ( b ) ; c . f i n d ( ' [ d a t a - a c t i o n = " r e q u e s t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ r e q u e s t R e v i e w H a n d l e r . b i n d ( t h i s ) ) , c . f i n d ( ' [ d a t a - a c t i o n = " c a n c e l - r e v i e w - r e q u e s t " ] ' ) . c l i c k ( t h i s . _ c a n c e l R e v i e w R e q u e s t H a n d l e r . b i n d ( t h i s ) ) , c . f i n d ( ' [ d a t a - a c t i o n = " s t a r t - r e v i e w " ] ' ) . c l i c k ( t h i s . _ s t a r t R e v i e w H a n d l e r . b i n d ( t h i s ) ) , c . f i n d ( ' [ d a t a - a c t i o n = " s t o p - r e v i e w " ] ' ) . c l i c k ( t h i s . _ s t o p R e v i e w H a n d l e r . b i n d ( t h i s ) ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / m e n u b a r ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = ! 1 , c = ! 1 , d = f u n c t i o n ( ) { a ( " . t o o l - l p - m e n u   . t o o l - l p - s u b - m e n u " ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , c = ! 1 } , e = f u n c t i o n ( a , b ) { t h i s . m e n u R o o t = a , t h i s . h a n d l e r s = b , t h i s . r o o t M e n u s = t h i s . m e n u R o o t . c h i l d r e n ( " l i " ) , t h i s . s u b M e n u s = t h i s . r o o t M e n u s . c h i l d r e n ( " u l " ) , t h i s . s u b M e n u I t e m s = t h i s . s u b M e n u s . c h i l d r e n ( " l i " ) , t h i s . a l l I t e m s = t h i s . r o o t M e n u s . a d d ( t h i s . s u b M e n u I t e m s ) , t h i s . a c t i v e I t e m = n u l l , t h i s . i s C h i l d O p e n = ! 1 , t h i s . k e y s = { t a b : 9 , e n t e r : 1 3 , e s c : 2 7 , s p a c e : 3 2 , l e f t : 3 7 , u p : 3 8 , r i g h t : 3 9 , d o w n : 4 0 } , t h i s . a d d A r i a A t t r i b u t e s ( ) , t h i s . a d d E v e n t L i s t e n e r s ( ) } ; r e t u r n   e . p r o t o t y p e . o p e n S u b M e n u = f u n c t i o n ( a ) { t h i s . s e t O p e n D i r e c t i o n ( ) , d ( ) , a . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , c = ! 0 } , e . p r o t o t y p e . a d d E v e n t L i s t e n e r s = f u n c t i o n ( ) { v a r   e = t h i s ; b = = = ! 1 & & ( a ( d o c u m e n t ) . c l i c k ( f u n c t i o n ( ) { c & & d ( ) } ) , b = ! 0 ) , t h i s . s u b M e n u I t e m s . m o u s e e n t e r ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . a d d C l a s s ( " m e n u - h o v e r " ) , ! 0 } ) , t h i s . s u b M e n u I t e m s . m o u s e o u t ( f u n c t i o n ( ) { r e t u r n   a ( t h i s ) . r e m o v e C l a s s ( " m e n u - h o v e r " ) , ! 0 } ) , t h i s . a l l I t e m s . c l i c k ( f u n c t i o n ( b ) { r e t u r n   e . h a n d l e C l i c k ( a ( t h i s ) , b ) } ) , t h i s . a l l I t e m s . k e y d o w n ( f u n c t i o n ( b ) { r e t u r n   e . h a n d l e K e y D o w n ( a ( t h i s ) , b ) } ) , t h i s . a l l I t e m s . f o c u s ( f u n c t i o n ( ) { r e t u r n   e . h a n d l e F o c u s ( a ( t h i s ) ) } ) , t h i s . a l l I t e m s . b l u r ( f u n c t i o n ( ) { r e t u r n   e . h a n d l e B l u r ( a ( t h i s ) ) } ) } , e . p r o t o t y p e . h a n d l e C l i c k = f u n c t i o n ( b , c ) { c . s t o p P r o p a g a t i o n ( ) ; v a r   d = b . p a r e n t ( ) ; i f ( d . i s ( " . t o o l - l p - m e n u " ) ) " t r u e " = = b . c h i l d r e n ( " u l " ) . f i r s t ( ) . a t t r ( " a r i a - h i d d e n " ) ? t h i s . o p e n S u b M e n u ( b . c h i l d r e n ( " u l " ) . f i r s t ( ) ) : b . c h i l d r e n ( " u l " ) . f i r s t ( ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ; e l s e { t h i s . a l l I t e m s . r e m o v e C l a s s ( " m e n u - h o v e r   m e n u - f o c u s " ) , t h i s . a c t i v e I t e m = n u l l , t h i s . m e n u R o o t . f i n d ( " u l " ) . n o t ( " . r o o t - l e v e l " ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ; v a r   e = b . f i n d ( " a " ) . f i r s t ( ) , f = n e w   a . E v e n t ( " c l i c k " ) ; f . t a r g e t = e ; v a r   g = ! 1 ; t h i s . h a n d l e r s & & a . e a c h ( t h i s . h a n d l e r s , f u n c t i o n ( c , d ) { i f ( ! g & & b . f i n d ( c ) . l e n g t h > 0 ) { v a r   h = a . p r o x y ( d , e ) ; g = h ( f ) = = = ! 1 | | f . i s D e f a u l t P r e v e n t e d ( ) } } ) , g | | " # " = = = e . a t t r ( " h r e f " ) | | ( w i n d o w . l o c a t i o n . h r e f = e . a t t r ( " h r e f " ) ) } r e t u r n ! 1 } , e . p r o t o t y p e . h a n d l e F o c u s = f u n c t i o n ( a ) { i f ( n u l l = = = t h i s . a c t i v e I t e m ) t h i s . a c t i v e I t e m = a ; e l s e   i f ( a [ 0 ] ! = t h i s . a c t i v e I t e m [ 0 ] ) r e t u r n ! 0 ; v a r   b = t h i s . a c t i v e I t e m . p a r e n t s U n t i l ( " u l . t o o l - l p - m e n u " ) . f i l t e r ( " l i " ) ; i f ( t h i s . a l l I t e m s . r e m o v e C l a s s ( " m e n u - f o c u s " ) , t h i s . a c t i v e I t e m . a d d C l a s s ( " m e n u - f o c u s " ) , b . a d d C l a s s ( " m e n u - f o c u s " ) , t h i s . i s C h i l d O p e n = = = ! 0 ) { v a r   c = a . p a r e n t ( ) ; c . i s ( " . t o o l - l p - m e n u " ) & & " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) & & t h i s . o p e n S u b M e n u ( a . c h i l d r e n ( " u l " ) . f i r s t ( ) ) } r e t u r n ! 0 } , e . p r o t o t y p e . h a n d l e B l u r = f u n c t i o n ( a ) { r e t u r n   a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , ! 0 } , e . p r o t o t y p e . s e t O p e n D i r e c t i o n = f u n c t i o n ( ) { v a r   b = t h i s . m e n u R o o t . o f f s e t ( ) , c = a ( d o c u m e n t . b o d y ) . h a s C l a s s ( " d i r - r t l " ) , d = ! 0 , e = t h i s . r o o t M e n u s . o u t e r H e i g h t ( ) , f = t h i s . r o o t M e n u s . o u t e r W i d t h ( ) , g = t h i s . r o o t M e n u s . f i n d ( " u l . t o o l - l p - s u b - m e n u " ) ; g . c s s ( " m a r g i n - r i g h t " , " " ) , g . c s s ( " m a r g i n - l e f t " , " " ) , g . c s s ( " m a r g i n - t o p " , " " ) , g . a t t r ( " a r i a - h i d d e n " , ! 1 ) ; v a r   h = g . o u t e r W i d t h ( ) , i = g . o u t e r H e i g h t ( ) , j = n u l l , k = n u l l , l = n u l l , m = b . t o p - a ( w i n d o w ) . s c r o l l T o p ( ) ; m + i > a ( w i n d o w ) . h e i g h t ( ) & & ( j = i + e , g . c s s ( " m a r g i n - t o p " , " - " + j + " p x " ) ) , c ? b . l e f t - h < 0 & & ( k = h - f , g . c s s ( " m a r g i n - r i g h t " , " - " + k + " p x " ) ) : b . l e f t + h > a ( w i n d o w ) . w i d t h ( ) & & ( l = h - f , g . c s s ( " m a r g i n - l e f t " , " - " + l + " p x " ) ) , d ? t h i s . m e n u R o o t . a d d C l a s s ( " t o o l - l p - m e n u - o p e n - l e f t " ) : t h i s . m e n u R o o t . r e m o v e C l a s s ( " t o o l - l p - m e n u - o p e n - l e f t " ) } , e . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( a , b ) { i f ( b . a l t K e y | | b . c t r l K e y ) r e t u r n ! 0 ; s w i t c h ( b . k e y C o d e ) { c a s e   t h i s . k e y s . t a b : t h i s . m e n u R o o t . f i n d ( " u l " ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . a l l I t e m s . r e m o v e C l a s s ( " m e n u - f o c u s " ) , t h i s . a c t i v e I t e m = n u l l , t h i s . i s C h i l d O p e n = ! 1 ; b r e a k ; c a s e   t h i s . k e y s . e s c : v a r   c = a . p a r e n t ( ) ; r e t u r n   c . i s ( " . t o o l - l p - m e n u " ) ? a . c h i l d r e n ( " u l " ) . f i r s t ( ) . a t t r ( " a r i a - h i d d e n " , " t r u e " ) : ( t h i s . a c t i v e I t e m = c . p a r e n t ( ) , t h i s . i s C h i l d O p e n = ! 1 , t h i s . a c t i v e I t e m . f o c u s ( ) , c . a t t r ( " a r i a - h i d d e n " , " t r u e " ) ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . e n t e r : c a s e   t h i s . k e y s . s p a c e : r e t u r n   t h i s . h a n d l e C l i c k ( a , b ) ; c a s e   t h i s . k e y s . l e f t : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e T o P r e v i o u s ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . r i g h t : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e T o N e x t ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . u p : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e U p ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 ; c a s e   t h i s . k e y s . d o w n : r e t u r n   t h i s . a c t i v e I t e m = t h i s . m o v e D o w n ( a ) , t h i s . a c t i v e I t e m . f o c u s ( ) , b . s t o p P r o p a g a t i o n ( ) , ! 1 } r e t u r n ! 0 } , e . p r o t o t y p e . m o v e T o N e x t = f u n c t i o n ( a ) { v a r   b = a . p a r e n t ( ) , c = b . c h i l d r e n ( " l i " ) , d = c . l e n g t h , e = c . i n d e x ( a ) , f = n u l l , g = n u l l ; i f ( b . i s ( " . t o o l - l p - m e n u " ) ) f = e < d - 1 ? a . n e x t ( ) : c . f i r s t ( ) , " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) & & ( g = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , " f a l s e " = = g . a t t r ( " a r i a - h i d d e n " ) & & ( g . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . i s C h i l d O p e n = ! 0 ) ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = = f . a t t r ( " a r i a - h a s p o p u p " ) & & t h i s . i s C h i l d O p e n = = = ! 0 & & ( g = f . c h i l d r e n ( " u l " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( g ) ) ; e l s e   i f ( " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) ) g = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , f = g . c h i l d r e n ( " l i " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( g ) ; e l s e { v a r   h = n u l l , i = n u l l ; h = a . p a r e n t s U n t i l ( " u l . t o o l - l p - m e n u " ) . f i l t e r ( " u l " ) . n o t ( " . t o o l - l p - m e n u " ) , h . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , h . f i n d ( " l i " ) . r e m o v e C l a s s ( " m e n u - f o c u s " ) , h . l a s t ( ) . p a r e n t ( ) . r e m o v e C l a s s ( " m e n u - f o c u s " ) , i = h . l a s t ( ) . p a r e n t ( ) , e = t h i s . r o o t M e n u s . i n d e x ( i ) , f = e < t h i s . r o o t M e n u s . l e n g t h - 1 ? i . n e x t ( ) : t h i s . r o o t M e n u s . f i r s t ( ) , f . a d d C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = f . a t t r ( " a r i a - h a s p o p u p " ) & & ( g = f . c h i l d r e n ( " u l " ) . f i r s t ( ) , f = g . c h i l d r e n ( " l i " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( g ) , t h i s . i s C h i l d O p e n = ! 0 ) } r e t u r n   f } , e . p r o t o t y p e . m o v e T o P r e v i o u s = f u n c t i o n ( a ) { v a r   b = a . p a r e n t ( ) , c = b . c h i l d r e n ( " l i " ) , d = c . i n d e x ( a ) , e = n u l l , f = n u l l ; i f ( b . i s ( " . t o o l - l p - m e n u " ) ) e = d > 0 ? a . p r e v ( ) : c . l a s t ( ) , " t r u e " = = a . a t t r ( " a r i a - h a s p o p u p " ) & & ( f = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , " f a l s e " = = f . a t t r ( " a r i a - h i d d e n " ) & & ( f . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . i s C h i l d O p e n = ! 0 ) ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = = e . a t t r ( " a r i a - h a s p o p u p " ) & & t h i s . i s C h i l d O p e n = = = ! 0 & & ( f = e . c h i l d r e n ( " u l " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( f ) ) ; e l s e { v a r   g = b . p a r e n t ( ) , h = g . p a r e n t ( ) ; h . i s ( " . t o o l - l p - m e n u " ) ? ( b . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , g . r e m o v e C l a s s ( " m e n u - f o c u s " ) , d = t h i s . r o o t M e n u s . i n d e x ( g ) , e = d > 0 ? g . p r e v ( ) : t h i s . r o o t M e n u s . l a s t ( ) , e . a d d C l a s s ( " m e n u - f o c u s " ) , " t r u e " = = e . a t t r ( " a r i a - h a s p o p u p " ) & & ( f = e . c h i l d r e n ( " u l " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( f ) , t h i s . i s C h i l d O p e n = ! 0 , e = f . c h i l d r e n ( " l i " ) . f i r s t ( ) ) ) : ( e = b . p a r e n t ( ) , b . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) ) } r e t u r n   e } , e . p r o t o t y p e . m o v e D o w n = f u n c t i o n ( a , b ) { v a r   c = a . p a r e n t ( ) , d = c . c h i l d r e n ( " l i " ) . n o t ( " . s e p a r a t o r " ) , e = d . l e n g t h , f = d . i n d e x ( a ) , g = n u l l , h = n u l l ; i f ( c . i s ( " . t o o l - l p - m e n u " ) ) r e t u r n " t r u e " ! = a . a t t r ( " a r i a - h a s p o p u p " ) ? a : ( h = a . c h i l d r e n ( " u l " ) . f i r s t ( ) , g = h . c h i l d r e n ( " l i " ) . f i r s t ( ) , t h i s . o p e n S u b M e n u ( h ) , g ) ; i f ( b ) { v a r   i = ! 1 , j = f + 1 ; f o r ( j = = e & & ( j = 0 ) ; j ! = f ; ) { v a r   k = d . e q ( j ) . h t m l ( ) . c h a r A t ( 0 ) ; i f ( k . t o L o w e r C a s e ( ) = = b ) { i = ! 0 ; b r e a k } j + = 1 , j = = e & & ( j = 0 ) } r e t u r n   i = = = ! 0 ? ( g = d . e q ( j ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , g ) : a } r e t u r n   g = f < e - 1 ? d . e q ( f + 1 ) : d . f i r s t ( ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , g } , e . p r o t o t y p e . m o v e U p = f u n c t i o n ( a ) { v a r   b = a . p a r e n t ( ) , c = b . c h i l d r e n ( " l i " ) . n o t ( " . s e p a r a t o r " ) , d = c . i n d e x ( a ) , e = n u l l ; r e t u r n   b . i s ( " . t o o l - l p - m e n u " ) ? a : ( e = d > 0 ? c . e q ( d - 1 ) : c . l a s t ( ) , a . r e m o v e C l a s s ( " m e n u - f o c u s " ) , e ) } , e . p r o t o t y p e . a d d A r i a A t t r i b u t e s = f u n c t i o n ( ) { t h i s . m e n u R o o t . a t t r ( " r o l e " , " m e n u b a r " ) , t h i s . r o o t M e n u s . a t t r ( " r o l e " , " m e n u i t e m " ) , t h i s . r o o t M e n u s . a t t r ( " t a b i n d e x " , " 0 " ) , t h i s . r o o t M e n u s . a t t r ( " a r i a - h a s p o p u p " , " t r u e " ) , t h i s . s u b M e n u s . a t t r ( " r o l e " , " m e n u " ) , t h i s . s u b M e n u s . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , t h i s . s u b M e n u I t e m s . a t t r ( " r o l e " , " m e n u i t e m " ) , t h i s . s u b M e n u I t e m s . a t t r ( " t a b i n d e x " , " - 1 " ) , t h i s . m e n u R o o t . a d d C l a s s ( " t o o l - l p - m e n u " ) , t h i s . a l l I t e m s . a d d C l a s s ( " t o o l - l p - m e n u - i t e m " ) , t h i s . r o o t M e n u s . a d d C l a s s ( " t o o l - l p - r o o t - m e n u " ) , t h i s . s u b M e n u s . a d d C l a s s ( " t o o l - l p - s u b - m e n u " ) , t h i s . s u b M e n u I t e m s . a d d C l a s s ( " d r o p d o w n - i t e m " ) } , { e n h a n c e : f u n c t i o n ( b , c ) { a ( b ) . e a c h ( f u n c t i o n ( b , d ) { v a r   f = a ( d ) ; f . d a t a ( " m e n u b a r E n h a n c e d " ) ! = = ! 0 & & ( n e w   e ( f , c ) , f . d a t a ( " m e n u b a r E n h a n c e d " , ! 0 ) ) } ) } , c l o s e A l l : d } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y a c t i o n s ' ,   [ " j q u e r y " , " c o r e / u r l " , " c o r e / t e m p l a t e s " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " , " c o r e / a j a x " , " t o o l _ l p / d r a g d r o p - r e o r d e r " , " t o o l _ l p / t r e e " , " t o o l _ l p / d i a l o g u e " , " t o o l _ l p / m e n u b a r " , " t o o l _ l p / c o m p e t e n c y p i c k e r " , " t o o l _ l p / c o m p e t e n c y _ o u t c o m e s " , " t o o l _ l p / c o m p e t e n c y r u l e c o n f i g " ] , f u n c t i o n ( a , b , c , d , e , f , g , h , i , j , k , l , m ) { v a r   n , o , p , q , r , s , t = n u l l , u = n u l l , v = n u l l , w = n u l l , x = f u n c t i o n ( ) { v a r   c = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , f = { c o m p e t e n c y f r a m e w o r k i d : t . g e t C o m p e t e n c y F r a m e w o r k I d ( ) , p a g e c o n t e x t i d : n } ; n u l l ! = = c & & ( f . p a r e n t i d = c . i d ) ; v a r   g = f u n c t i o n ( ) { v a r   c = a . p a r a m ( f ) ; w i n d o w . l o c a t i o n = b . r e l a t i v e U r l ( " / a d m i n / t o o l / l p / e d i t c o m p e t e n c y . p h p ? " + c ) } ; n u l l ! = = c & & t . h a s R u l e ( c . i d ) ? e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " a d d i n g c o m p e t e n c y w i l l r e s e t p a r e n t r u l e " , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . s h o r t n a m e } , { k e y : " y e s " , c o m p o n e n t : " c o r e " } , { k e y : " n o " , c o m p o n e n t : " c o r e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , g ) } ) . f a i l ( d . e x c e p t i o n ) : g ( ) } , y = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ] ' ) . d a t a ( " f r a m e w o r k i d " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e t _ p a r e n t _ c o m p e t e n c y " , a r g s : { c o m p e t e n c y i d : u , p a r e n t i d : v } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , z = f u n c t i o n ( ) { i f ( v = " u n d e f i n e d " = = t y p e o f   v ? 0 : v , v ! = u ) { v a r   a = t . g e t C o m p e t e n c y ( v ) | | { } , b = t . g e t C o m p e t e n c y ( u ) | | { } , c = " m o v e c o m p e t e n c y w i l l r e s e t r u l e s " , f = ! 1 ; b . p a r e n t i d ! = v & & ( a . p a t h & & a . p a t h . i n d e x O f ( " / " + b . i d + " / " ) > = 0 & & ( c = " m o v e c o m p e t e n c y t o c h i l d o f s e l f w i l l r e s e t r u l e s " , f = f | | t . h a s R u l e ( b . i d ) ) , f = f | | t . h a s R u l e ( a . i d ) | | t . h a s R u l e ( b . p a r e n t i d ) , f ? e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : c , c o m p o n e n t : " t o o l _ l p " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , y ) } ) . f a i l ( d . e x c e p t i o n ) : y ( ) ) } } , A = f u n c t i o n ( b ) { v a r   c = a ( b . g e t C o n t e n t ( ) ) , d = c . f i n d ( " [ d a t a - e n h a n c e = m o v e t r e e ] " ) , e = n e w   h ( d , ( ! 1 ) ) ; e . o n ( " s e l e c t i o n c h a n g e d " , f u n c t i o n ( b , c ) { v a r   d = c . s e l e c t e d ; v = a ( d ) . d a t a ( " i d " ) } ) , d . s h o w ( ) , c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " m o v e " ] ' , f u n c t i o n ( ) { b . c l o s e ( ) , z ( ) } ) , c . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " c a n c e l " ] ' , f u n c t i o n ( ) { b . c l o s e ( ) } ) } , B = f u n c t i o n ( a , b ) { v a r   c ; f o r ( c = 0 ; c < b . l e n g t h ; c + + ) b [ c ] . p a r e n t i d = = a . i d & & ( a . h a s c h i l d r e n = ! 0 , b [ c ] . c h i l d r e n = [ ] , b [ c ] . h a s c h i l d r e n = ! 1 , a . c h i l d r e n [ a . c h i l d r e n . l e n g t h ] = b [ c ] , B ( b [ c ] , b ) ) } , C = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   g = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) ; u = g . i d ; v a r   h = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e a r c h _ c o m p e t e n c i e s " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : g . c o m p e t e n c y f r a m e w o r k i d , s e a r c h t e x t : " " } } , { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g . c o m p e t e n c y f r a m e w o r k i d } } ] ) ; a . w h e n . a p p l y ( n u l l , h ) . d o n e ( f u n c t i o n ( a , b ) { v a r   f , h = [ ] ; f o r ( f = 0 ; f < a . l e n g t h ; f + + ) { v a r   j = a [ f ] ; " 0 " = = j . p a r e n t i d & & ( j . c h i l d r e n = [ ] , j . h a s c h i l d r e n = 0 , h [ h . l e n g t h ] = j , B ( j , a ) ) } e . g e t _ s t r i n g s ( [ { k e y : " m o v e c o m p e t e n c y " , c o m p o n e n t : " t o o l _ l p " , p a r a m : g . s h o r t n a m e } , { k e y : " m o v e " , c o m p o n e n t : " t o o l _ l p " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { v a r   e = { f r a m e w o r k : b , c o m p e t e n c i e s : h } ; c . r e n d e r ( " t o o l _ l p / c o m p e t e n c i e s _ m o v e _ t r e e " , e ) . d o n e ( f u n c t i o n ( b ) { n e w   i ( a [ 0 ] , b , A ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , D = f u n c t i o n ( ) { v a r   c = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , d = { c o m p e t e n c y f r a m e w o r k i d : t . g e t C o m p e t e n c y F r a m e w o r k I d ( ) , i d : c . i d , p a r e n t i d : c . p a r e n t i d , p a g e c o n t e x t i d : n } , e = a . p a r a m ( d ) ; w i n d o w . l o c a t i o n = b . r e l a t i v e U r l ( " / a d m i n / t o o l / l p / e d i t c o m p e t e n c y . p h p ? " + e ) } , E = f u n c t i o n ( b ) { c . r e n d e r ( " t o o l _ l p / m a n a g e _ c o m p e t e n c i e s _ p a g e " , b ) . d o n e ( f u n c t i o n ( b , d ) { a ( ' [ d a t a - r e g i o n = " m a n a g e c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , c . r u n T e m p l a t e J S ( d ) } ) . f a i l ( d . e x c e p t i o n ) } , F = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ] ' ) . d a t a ( " f r a m e w o r k i d " ) , e = f . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : c , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; e [ 0 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , G = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ m o v e _ u p _ c o m p e t e n c y " , a r g s : { i d : b . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b . c o m p e t e n c y f r a m e w o r k i d , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , H = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ m o v e _ d o w n _ c o m p e t e n c y " , a r g s : { i d : b . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b . c o m p e t e n c y f r a m e w o r k i d , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , I = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , g = f . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ l i s t _ c o u r s e s _ u s i n g _ c o m p e t e n c y " , a r g s : { i d : b . i d } } ] ) ; g [ 0 ] . d o n e ( f u n c t i o n ( a ) { v a r   b = { c o u r s e s : a } ; c . r e n d e r ( " t o o l _ l p / l i n k e d _ c o u r s e s _ s u m m a r y " , b ) . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g ( " l i n k e d c o u r s e s " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { n e w   i ( b , a , A ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , J = f u n c t i o n ( ) { q = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , o | | ( o = n e w   k ( n , q . c o m p e t e n c y f r a m e w o r k i d ) , o . o n ( " s a v e " , f u n c t i o n ( b , e ) { v a r   g = e . c o m p e t e n c y I d s , h = [ ] ; a . e a c h ( g , f u n c t i o n ( a , b ) { h . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ r e l a t e d _ c o m p e t e n c y " , a r g s : { c o m p e t e n c y i d : b , r e l a t e d c o m p e t e n c y i d : q . i d } } ) } ) , h . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ r e l a t e d _ c o m p e t e n c i e s _ s e c t i o n " , a r g s : { c o m p e t e n c y i d : q . i d } } ) ; v a r   i = f . c a l l ( h ) ; i [ h . l e n g t h - 1 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . r e n d e r ( " t o o l _ l p / r e l a t e d _ c o m p e t e n c i e s " , a ) } ) . t h e n ( f u n c t i o n ( b , d ) { a ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , c . r u n T e m p l a t e J S ( d ) , U ( ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } ) ) , o . s e t D i s a l l o w e d C o m p e t e n c y I D s ( [ q . i d ] ) , o . d i s p l a y ( ) } , K = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , q = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , p . s e t T a r g e t C o m p e t e n c y I d ( q . i d ) , p . d i s p l a y ( ) } , L = f u n c t i o n ( a , b ) { v a r   c = { i d : q . i d , s h o r t n a m e : q . s h o r t n a m e , i d n u m b e r : q . i d n u m b e r , d e s c r i p t i o n : q . d e s c r i p t i o n , d e s c r i p t i o n f o r m a t : q . d e s c r i p t i o n f o r m a t , r u l e t y p e : b . r u l e t y p e , r u l e o u t c o m e : b . r u l e o u t c o m e , r u l e c o n f i g : b . r u l e c o n f i g } , e = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ u p d a t e _ c o m p e t e n c y " , a r g s : { c o m p e t e n c y : c } } ] ) ; e [ 0 ] . t h e n ( f u n c t i o n ( a ) { a & & ( q . r u l e t y p e = b . r u l e t y p e , q . r u l e o u t c o m e = b . r u l e o u t c o m e , q . r u l e c o n f i g = b . r u l e c o n f i g , X ( q ) ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , M = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ c o m p e t e n c y " , a r g s : { i d : b . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c i e s _ m a n a g e _ p a g e " , a r g s : { c o m p e t e n c y f r a m e w o r k i d : b . c o m p e t e n c y f r a m e w o r k i d , s e a r c h : a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ]   i n p u t ' ) . v a l ( ) } } ] ) ; c [ 0 ] . d o n e ( f u n c t i o n ( a ) { a = = = ! 1 & & e . g e t _ s t r i n g s ( [ { k e y : " c o m p e t e n c y c a n n o t b e d e l e t e d " , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . s h o r t n a m e } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . a l e r t ( n u l l , a [ 0 ] ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) , c [ 1 ] . d o n e ( E ) . f a i l ( d . e x c e p t i o n ) } , N = f u n c t i o n ( ) { v a r   b = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , c = " d e l e t e c o m p e t e n c y " ; t . h a s R u l e ( b . p a r e n t i d ) & & ( c = " d e l e t e c o m p e t e n c y p a r e n t h a s r u l e " ) , e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : c , c o m p o n e n t : " t o o l _ l p " , p a r a m : b . s h o r t n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , M ) } ) . f a i l ( d . e x c e p t i o n ) } , O = f u n c t i o n ( b ) { b . o r i g i n a l E v e n t . d a t a T r a n s f e r . s e t D a t a ( " t e x t " , a ( b . t a r g e t ) . p a r e n t ( ) . d a t a ( " i d " ) ) } , P = f u n c t i o n ( a ) { a . o r i g i n a l E v e n t . d a t a T r a n s f e r . d r o p E f f e c t = " m o v e " , a . p r e v e n t D e f a u l t ( ) } , Q = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( t h i s ) . a d d C l a s s ( " c u r r e n t d r a g t a r g e t " ) } , R = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( t h i s ) . r e m o v e C l a s s ( " c u r r e n t d r a g t a r g e t " ) } , S = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , u = b . o r i g i n a l E v e n t . d a t a T r a n s f e r . g e t D a t a ( " t e x t " ) , v = a ( b . t a r g e t ) . p a r e n t ( ) . d a t a ( " i d " ) , a ( t h i s ) . r e m o v e C l a s s ( " c u r r e n t d r a g t a r g e t " ) , z ( ) } , T = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   e = t h i s . i d . s u b s t r ( 1 1 ) , g = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " ) , h = f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ r e l a t e d _ c o m p e t e n c y " , a r g s : { r e l a t e d c o m p e t e n c y i d : e , c o m p e t e n c y i d : g . i d } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ r e l a t e d _ c o m p e t e n c i e s _ s e c t i o n " , a r g s : { c o m p e t e n c y i d : g . i d } } ] ) ; h [ 1 ] . d o n e ( f u n c t i o n ( b ) { c . r e n d e r ( " t o o l _ l p / r e l a t e d _ c o m p e t e n c i e s " , b ) . d o n e ( f u n c t i o n ( b ) { a ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , U ( ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } , U = f u n c t i o n ( ) { a ( ' [ d a t a - a c t i o n = " d e l e t e r e l a t i o n " ] ' ) . o n ( " c l i c k " , T ) } , V = f u n c t i o n ( a ) { a . i d ! = = w & & ( w = a . i d , f . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ c o m p e t e n c y _ v i e w e d " , a r g s : { i d : a . i d } } ] ) ) } , W = f u n c t i o n ( a ) { v a r   b = r [ a ] ; r e t u r n   b | | ( b = " c o m p e t e n c y " ) , b } , X = f u n c t i o n ( b ) { v a r   e = a . D e f e r r e d ( ) . r e s o l v e ( ) . p r o m i s e ( ) , g = { } ; g . c o m p e t e n c y = b , g . s h o w d e l e t e r e l a t e d a c t i o n = ! 0 , g . s h o w r e l a t e d c o m p e t e n c i e s = ! 0 , g . s h o w r u l e = ! 1 , b . r u l e o u t c o m e ! = l . N O N E & & ( e = l . g e t S t r i n g ( b . r u l e o u t c o m e ) . t h e n ( f u n c t i o n ( c ) { v a r   d ; r e t u r n   a . e a c h ( s , f u n c t i o n ( a , c ) { c . t y p e = = b . r u l e t y p e & & ( d = c . n a m e ) } ) , [ c , d ] } ) ) , e . t h e n ( f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   a & & ( g . s h o w r u l e = ! 0 , g . r u l e = { o u t c o m e : a [ 0 ] , t y p e : a [ 1 ] } ) , g } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . r e n d e r ( " t o o l _ l p / c o m p e t e n c y _ s u m m a r y " , a ) } ) . t h e n ( f u n c t i o n ( b ) { r e t u r n   a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y i n f o " ] ' ) . h t m l ( b ) , a ( ' [ d a t a - a c t i o n = " d e l e t e r e l a t i o n " ] ' ) . o n ( " c l i c k " , T ) , c . r e n d e r ( " t o o l _ l p / l o a d i n g " , { } ) } ) . t h e n ( f u n c t i o n ( a , d ) { r e t u r n   c . r e p l a c e N o d e C o n t e n t s ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' , a , d ) , f . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ r e l a t e d _ c o m p e t e n c i e s _ s e c t i o n " , a r g s : { c o m p e t e n c y i d : b . i d } } ] ) [ 0 ] } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   c . r e n d e r ( " t o o l _ l p / r e l a t e d _ c o m p e t e n c i e s " , a ) } ) . t h e n ( f u n c t i o n ( b , d ) { a ( ' [ d a t a - r e g i o n = " r e l a t e d c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( b ) , c . r u n T e m p l a t e J S ( d ) , U ( ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) } , Y = f u n c t i o n ( a ) { r e t u r n   e . g e t _ s t r i n g ( " t a x o n o m y _ a d d _ " + W ( a ) , " t o o l _ l p " ) } , Z = f u n c t i o n ( a ) { r e t u r n   e . g e t _ s t r i n g ( " t a x o n o m y _ s e l e c t e d _ " + W ( a ) , " t o o l _ l p " ) } , $ = f u n c t i o n ( b , c ) { v a r   e = c . s e l e c t e d , f = a ( e ) . d a t a ( " i d " ) , g = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ]   [ d a t a - a c t i o n = " a d d " ] ' ) , h = a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s m e n u " ] ' ) , i = a ( ' [ d a t a - r e g i o n = " s e l e c t e d - c o m p e t e n c y " ] ' ) , k = 0 , l = 1 ; i f ( j . c l o s e A l l ( ) , " u n d e f i n e d " = = t y p e o f   f ) a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y i n f o " ] ' ) . h t m l ( e . c l o n e ( ) . c h i l d r e n ( ) . r e m o v e ( ) . e n d ( ) . t e x t ( ) ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " , n u l l ) , h . h i d e ( ) ; e l s e { v a r   m = t . g e t C o m p e t e n c y ( f ) ; k = t . g e t C o m p e t e n c y L e v e l ( f ) , l = k + 1 , h . s h o w ( ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ] ' ) . d a t a ( " c o m p e t e n c y " , m ) , X ( m ) , V ( m ) } r e t u r n   Z ( k ) . t h e n ( f u n c t i o n ( a ) { i . t e x t ( a ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) , Y ( l ) . t h e n ( f u n c t i o n ( a ) { g . s h o w ( ) . f i n d ( ' [ d a t a - r e g i o n = " t e r m " ] ' ) . t e x t ( a ) } ) [ " c a t c h " ] ( d . e x c e p t i o n ) , b . p r e v e n t D e f a u l t ( ) , ! 1 } , _ = f u n c t i o n ( a ) { v a r   b = a . s p l i t ( " , " ) ; r e t u r n   b . u n s h i f t ( " " ) , d e l e t e   b [ 0 ] , b } ; r e t u r n { i n i t : f u n c t i o n ( b , c , d , e ) { t = b , n = c , r = _ ( d ) , s = e , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . o n ( " c l i c k " , x ) , j . e n h a n c e ( " . c o m p e t e n c y a c t i o n s m e n u " , { ' [ d a t a - a c t i o n = " e d i t " ] ' : D , ' [ d a t a - a c t i o n = " d e l e t e " ] ' : N , ' [ d a t a - a c t i o n = " m o v e " ] ' : C , ' [ d a t a - a c t i o n = " m o v e u p " ] ' : G , ' [ d a t a - a c t i o n = " m o v e d o w n " ] ' : H , ' [ d a t a - a c t i o n = " l i n k e d c o u r s e s " ] ' : I , ' [ d a t a - a c t i o n = " r e l a t e d c o m p e t e n c i e s " ] ' : J . b i n d ( t h i s ) , ' [ d a t a - a c t i o n = " c o m p e t e n c y r u l e s " ] ' : K . b i n d ( t h i s ) } ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s m e n u " ] ' ) . h i d e ( ) , a ( ' [ d a t a - r e g i o n = " c o m p e t e n c y a c t i o n s " ]   [ d a t a - a c t i o n = " a d d " ] ' ) . h i d e ( ) , a ( ' [ d a t a - r e g i o n = " f i l t e r c o m p e t e n c i e s " ] ' ) . o n ( " s u b m i t " , F ) ; v a r   f = a ( ' [ d a t a - r e g i o n = " m a n a g e c o m p e t e n c i e s " ]   [ d a t a - e n h a n c e = " t r e e " ] ' ) ; f . o n ( " d r a g s t a r t " , " l i > s p a n " , O ) . o n ( " d r a g o v e r " , " l i > s p a n " , P ) . o n ( " d r a g e n t e r " , " l i > s p a n " , Q ) . o n ( " d r a g l e a v e " , " l i > s p a n " , R ) . o n ( " d r o p " , " l i > s p a n " , S ) , b . o n ( " s e l e c t i o n c h a n g e d " , $ ) , p = n e w   m ( t , s ) , p . o n ( " s a v e " , L . b i n d ( t h i s ) ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / f o r m - c o h o r t - s e l e c t o r ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " ] , f u n c t i o n ( a , b , c ) { r e t u r n { p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . i d , l a b e l : b . _ l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( d , e , f , g ) { v a r   h , i = p a r s e I n t ( a ( d ) . d a t a ( " c o n t e x t i d " ) , 1 0 ) , j = a ( d ) . d a t a ( " i n c l u d e s " ) ; h = b . c a l l ( [ { m e t h o d n a m e : " t o o l _ l p _ s e a r c h _ c o h o r t s " , a r g s : { q u e r y : e , c o n t e x t : { c o n t e x t i d : i } , i n c l u d e s : j } } ] ) , h [ 0 ] . t h e n ( f u n c t i o n ( b ) { v a r   d = [ ] , e = 0 ; r e t u r n   a . e a c h ( b . c o h o r t s , f u n c t i o n ( a , b ) { d . p u s h ( c . r e n d e r ( " t o o l _ l p / f o r m - c o h o r t - s e l e c t o r - s u g g e s t i o n " , b ) ) } ) , a . w h e n . a p p l y ( a . w h e n , d ) . t h e n ( f u n c t i o n ( ) { v a r   c = a r g u m e n t s ; a . e a c h ( b . c o h o r t s , f u n c t i o n ( a , b ) { b . _ l a b e l = c [ e ] , e + + } ) , f ( b . c o h o r t s ) } ) } ) [ " c a t c h " ] ( g ) } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ r u l e _ a l l ' ,   [ " j q u e r y " , " c o r e / s t r " , " t o o l _ l p / c o m p e t e n c y _ r u l e " ] , f u n c t i o n ( a , b , c ) { v a r   d = f u n c t i o n ( ) { c . a p p l y ( t h i s , a r g u m e n t s ) } ; r e t u r n   d . p r o t o t y p e = O b j e c t . c r e a t e ( c . p r o t o t y p e ) , d . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { r e t u r n " c o r e _ c o m p e t e n c y \ \ c o m p e t e n c y _ r u l e _ a l l " } , d . p r o t o t y p e . i s V a l i d = f u n c t i o n ( ) { r e t u r n ! 0 } , d } ) ; 
 d e f i n e ( ' t o o l _ l p / f r a m e w o r k a c t i o n s ' ,   [ " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = 0 , g = 0 , h = f u n c t i o n ( c , d ) { a ( ' [ d a t a - r e g i o n = " m a n a g e c o m p e t e n c i e s " ] ' ) . r e p l a c e W i t h ( c ) , b . r u n T e m p l a t e J S ( d ) } , i = f u n c t i o n ( a ) { b . r e n d e r ( " t o o l _ l p / m a n a g e _ c o m p e t e n c y _ f r a m e w o r k s _ p a g e " , a ) . d o n e ( h ) . f a i l ( d . e x c e p t i o n ) } , j = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , g = a ( t h i s ) . a t t r ( " d a t a - f r a m e w o r k i d " ) ; v a r   e = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d u p l i c a t e _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c y _ f r a m e w o r k s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : f } } } ] ) ; e [ 1 ] . d o n e ( i ) . f a i l ( d . e x c e p t i o n ) } , k = f u n c t i o n ( ) { v a r   a = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o m p e t e n c y _ f r a m e w o r k s _ m a n a g e _ p a g e " , a r g s : { p a g e c o n t e x t : { c o n t e x t i d : f } } } ] ) ; a [ 0 ] . d o n e ( f u n c t i o n ( a ) { i f ( a = = = ! 1 ) { v a r   b = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } ] ) ; b [ 0 ] . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g s ( [ { k e y : " f r a m e w o r k c a n n o t b e d e l e t e d " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . a l e r t ( n u l l , a [ 0 ] ) } ) . f a i l ( d . e x c e p t i o n ) } ) } } ) . f a i l ( d . e x c e p t i o n ) , a [ 1 ] . d o n e ( i ) . f a i l ( d . e x c e p t i o n ) } , l = f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   f = a ( t h i s ) . a t t r ( " d a t a - f r a m e w o r k i d " ) ; g = f ; v a r   h = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y _ f r a m e w o r k " , a r g s : { i d : g } } ] ) ; h [ 0 ] . d o n e ( f u n c t i o n ( a ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e c o m p e t e n c y f r a m e w o r k " , c o m p o n e n t : " t o o l _ l p " , p a r a m : a . s h o r t n a m e } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , k ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) } ; r e t u r n { d e l e t e H a n d l e r : l , d u p l i c a t e H a n d l e r : j , i n i t : f u n c t i o n ( a ) { f = a } } } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c i e s ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " t o o l _ l p / c o m p e t e n c y p i c k e r " , " t o o l _ l p / d r a g d r o p - r e o r d e r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c , d ) { t h i s . i t e m i d = b , t h i s . i t e m t y p e = c , t h i s . p a g e C o n t e x t I d = d , t h i s . p i c k e r I n s t a n c e = n u l l , a ( ' [ d a t a - r e g i o n = " a c t i o n s " ]   b u t t o n ' ) . p r o p ( " d i s a b l e d " , ! 1 ) , t h i s . r e g i s t e r E v e n t s ( ) , t h i s . r e g i s t e r D r a g D r o p ( ) } ; r e t u r n   h . p r o t o t y p e . r e g i s t e r D r a g D r o p = f u n c t i o n ( ) { v a r   a = t h i s ; e . g e t _ s t r i n g ( " m o v e c o m p e t e n c y " , " t o o l _ l p " ) . d o n e ( f u n c t i o n ( b ) { g . d r a g d r o p ( " m o v e c o m p e t e n c y " , b , { i d e n t i f i e r : " m o v e c o m p e t e n c y " , c o m p o n e n t : " t o o l _ l p " } , { i d e n t i f i e r : " m o v e c o m p e t e n c y a f t e r " , c o m p o n e n t : " t o o l _ l p " } , " d r a g - s a m e n o d e " , " d r a g - p a r e n t n o d e " , " d r a g - h a n d l e c o n t a i n e r " , f u n c t i o n ( b , c ) { a . h a n d l e D r o p ( b , c ) } ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . h a n d l e D r o p = f u n c t i o n ( d , e ) { v a r   f = a ( d ) . d a t a ( " i d " ) , g = a ( e ) . d a t a ( " i d " ) , h = t h i s , i = [ ] ; i f ( " c o u r s e " = = h . i t e m t y p e ) i = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o r d e r _ c o u r s e _ c o m p e t e n c y " , a r g s : { c o u r s e i d : h . i t e m i d , c o m p e t e n c y i d f r o m : f , c o m p e t e n c y i d t o : g } } ] ) ; e l s e   i f ( " t e m p l a t e " = = h . i t e m t y p e ) i = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o r d e r _ t e m p l a t e _ c o m p e t e n c y " , a r g s : { t e m p l a t e i d : h . i t e m i d , c o m p e t e n c y i d f r o m : f , c o m p e t e n c y i d t o : g } } ] ) ; e l s e { i f ( " p l a n " ! = h . i t e m t y p e ) r e t u r n ; i = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e o r d e r _ p l a n _ c o m p e t e n c y " , a r g s : { p l a n i d : h . i t e m i d , c o m p e t e n c y i d f r o m : f , c o m p e t e n c y i d t o : g } } ] ) } i [ 0 ] . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . p i c k C o m p e t e n c y = f u n c t i o n ( ) { v a r   e , g , h , i , j = t h i s ; j . p i c k e r I n s t a n c e | | ( " t e m p l a t e " ! = = j . i t e m t y p e & & " c o u r s e " ! = = j . i t e m t y p e | | ( i = " p a r e n t s " ) , j . p i c k e r I n s t a n c e = n e w   f ( j . p a g e C o n t e x t I d , ( ! 1 ) , i ) , j . p i c k e r I n s t a n c e . o n ( " s a v e " , f u n c t i o n ( f , i ) { v a r   k = i . c o m p e t e n c y I d s ; " c o u r s e " = = = j . i t e m t y p e ? ( e = [ ] , a . e a c h ( k , f u n c t i o n ( a , b ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ c o m p e t e n c y _ t o _ c o u r s e " , a r g s : { c o u r s e i d : j . i t e m i d , c o m p e t e n c y i d : b } } ) } ) , e . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : j . i t e m i d } } ) , g = " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , h = " c o u r s e c o m p e t e n c i e s p a g e " ) : " t e m p l a t e " = = = j . i t e m t y p e ? ( e = [ ] , a . e a c h ( k , f u n c t i o n ( a , b ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ c o m p e t e n c y _ t o _ t e m p l a t e " , a r g s : { t e m p l a t e i d : j . i t e m i d , c o m p e t e n c y i d : b } } ) } ) , e . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , a r g s : { t e m p l a t e i d : j . i t e m i d , p a g e c o n t e x t : { c o n t e x t i d : j . p a g e C o n t e x t I d } } } ) , g = " t o o l _ l p / t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , h = " t e m p l a t e c o m p e t e n c i e s p a g e " ) : " p l a n " = = = j . i t e m t y p e & & ( e = [ ] , a . e a c h ( k , f u n c t i o n ( a , b ) { e . p u s h ( { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ a d d _ c o m p e t e n c y _ t o _ p l a n " , a r g s : { p l a n i d : j . i t e m i d , c o m p e t e n c y i d : b } } ) } ) , e . p u s h ( { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " , a r g s : { p l a n i d : j . i t e m i d } } ) , g = " t o o l _ l p / p l a n _ p a g e " , h = " p l a n - p a g e " ) , c . c a l l ( e ) [ e . l e n g t h - 1 ] . t h e n ( f u n c t i o n ( a ) { r e t u r n   d . r e n d e r ( g , a ) } ) . t h e n ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " ' + h + ' " ] ' ) . r e p l a c e W i t h ( b ) , d . r u n T e m p l a t e J S ( c ) } ) [ " c a t c h " ] ( b . e x c e p t i o n ) } ) ) , j . p i c k e r I n s t a n c e . d i s p l a y ( ) } , h . p r o t o t y p e . d o D e l e t e = f u n c t i o n ( e ) { v a r   f = t h i s , g = [ ] , h = " " , i = " " ; " c o u r s e " = = f . i t e m t y p e ? ( g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ c o m p e t e n c y _ f r o m _ c o u r s e " , a r g s : { c o u r s e i d : f . i t e m i d , c o m p e t e n c y i d : e } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : f . i t e m i d } } ] ) , h = " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , i = " c o u r s e c o m p e t e n c i e s p a g e " ) : " t e m p l a t e " = = f . i t e m t y p e ? ( g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ c o m p e t e n c y _ f r o m _ t e m p l a t e " , a r g s : { t e m p l a t e i d : f . i t e m i d , c o m p e t e n c y i d : e } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , a r g s : { t e m p l a t e i d : f . i t e m i d , p a g e c o n t e x t : { c o n t e x t i d : f . p a g e C o n t e x t I d } } } ] ) , h = " t o o l _ l p / t e m p l a t e _ c o m p e t e n c i e s _ p a g e " , i = " t e m p l a t e c o m p e t e n c i e s p a g e " ) : " p l a n " = = f . i t e m t y p e & & ( g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e m o v e _ c o m p e t e n c y _ f r o m _ p l a n " , a r g s : { p l a n i d : f . i t e m i d , c o m p e t e n c y i d : e } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ p l a n _ p a g e " , a r g s : { p l a n i d : f . i t e m i d } } ] ) , h = " t o o l _ l p / p l a n _ p a g e " , i = " p l a n - p a g e " ) , g [ 1 ] . d o n e ( f u n c t i o n ( c ) { d . r e n d e r ( h , c ) . d o n e ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " ' + i + ' " ] ' ) . r e p l a c e W i t h ( b ) , d . r u n T e m p l a t e J S ( c ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . d e l e t e H a n d l e r = f u n c t i o n ( a ) { v a r   d , f = t h i s , g = [ ] ; i f ( " c o u r s e " = = f . i t e m t y p e ) d = " u n l i n k c o m p e t e n c y c o u r s e " ; e l s e   i f ( " t e m p l a t e " = = f . i t e m t y p e ) d = " u n l i n k c o m p e t e n c y t e m p l a t e " ; e l s e { i f ( " p l a n " ! = f . i t e m t y p e ) r e t u r n ; d = " u n l i n k c o m p e t e n c y p l a n " } g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ r e a d _ c o m p e t e n c y " , a r g s : { i d : a } } ] ) , g [ 0 ] . d o n e ( f u n c t i o n ( c ) { e . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : d , c o m p o n e n t : " t o o l _ l p " , p a r a m : c . s h o r t n a m e } , { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( c ) { b . c o n f i r m ( c [ 0 ] , c [ 1 ] , c [ 2 ] , c [ 3 ] , f u n c t i o n ( ) { f . d o D e l e t e ( a ) } ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { v a r   e = t h i s ; " c o u r s e " = = e . i t e m t y p e & & a ( ' [ d a t a - r e g i o n = " c o u r s e c o m p e t e n c i e s p a g e " ] ' ) . o n ( " c h a n g e " , ' s e l e c t [ d a t a - f i e l d = " r u l e o u t c o m e " ] ' , f u n c t i o n ( f ) { v a r   g = [ ] , h = " t o o l _ l p / c o u r s e _ c o m p e t e n c i e s _ p a g e " , i = " c o u r s e c o m p e t e n c i e s p a g e " , j = a ( f . t a r g e t ) . d a t a ( " i d " ) , k = a ( f . t a r g e t ) . v a l ( ) ; g = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ s e t _ c o u r s e _ c o m p e t e n c y _ r u l e o u t c o m e " , a r g s : { c o u r s e c o m p e t e n c y i d : j , r u l e o u t c o m e : k } } , { m e t h o d n a m e : " t o o l _ l p _ d a t a _ f o r _ c o u r s e _ c o m p e t e n c i e s _ p a g e " , a r g s : { c o u r s e i d : e . i t e m i d } } ] ) , g [ 1 ] . d o n e ( f u n c t i o n ( c ) { d . r e n d e r ( h , c ) . d o n e ( f u n c t i o n ( b , c ) { a ( ' [ d a t a - r e g i o n = " ' + i + ' " ] ' ) . r e p l a c e W i t h ( b ) , d . r u n T e m p l a t e J S ( c ) } ) . f a i l ( b . e x c e p t i o n ) } ) . f a i l ( b . e x c e p t i o n ) } ) , a ( ' [ d a t a - r e g i o n = " a c t i o n s " ]   b u t t o n ' ) . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , e . p i c k C o m p e t e n c y ( ) } ) , a ( ' [ d a t a - a c t i o n = " d e l e t e - c o m p e t e n c y - l i n k " ] ' ) . c l i c k ( f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " [ d a t a - i d ] " ) . d a t a ( " i d " ) ; e . d e l e t e H a n d l e r ( c ) } ) } , h } ) ; 
 d e f i n e ( ' t o o l _ l p / e v e n t _ b a s e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( ) { t h i s . _ e v e n t N o d e = a ( " < d i v > < / d i v > " ) } ; r e t u r n   b . p r o t o t y p e . _ e v e n t N o d e = n u l l , b . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , b . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , b } ) ; 
 d e f i n e ( ' t o o l _ l p / g r a d e _ u s e r _ c o m p e t e n c y _ i n l i n e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / l o g " , " t o o l _ l p / g r a d e _ d i a l o g u e " , " t o o l _ l p / e v e n t _ b a s e " , " t o o l _ l p / s c a l e v a l u e s " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( b , c , d , e , g , h , i ) { f . p r o t o t y p e . c o n s t r u c t o r . a p p l y ( t h i s , [ ] ) ; v a r   j = a ( b ) ; i f ( ! j . l e n g t h ) t h r o w   n e w   E r r o r ( " C o u l d   n o t   f i n d   t h e   t r i g g e r " ) ; t h i s . _ s c a l e I d = c , t h i s . _ c o m p e t e n c y I d = d , t h i s . _ u s e r I d = e , t h i s . _ p l a n I d = g , t h i s . _ c o u r s e I d = h , t h i s . _ c h o o s e S t r = i , t h i s . _ s e t U p ( ) , j . c l i c k ( f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . _ d i a l o g u e . d i s p l a y ( ) } . b i n d ( t h i s ) ) , t h i s . _ p l a n I d ? ( t h i s . _ m e t h o d N a m e = " c o r e _ c o m p e t e n c y _ g r a d e _ c o m p e t e n c y _ i n _ p l a n " , t h i s . _ a r g s = { c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , p l a n i d : t h i s . _ p l a n I d } ) : t h i s . _ c o u r s e I d ? ( t h i s . _ m e t h o d N a m e = " c o r e _ c o m p e t e n c y _ g r a d e _ c o m p e t e n c y _ i n _ c o u r s e " , t h i s . _ a r g s = { c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d , c o u r s e i d : t h i s . _ c o u r s e I d , u s e r i d : t h i s . _ u s e r I d } ) : ( t h i s . _ m e t h o d N a m e = " c o r e _ c o m p e t e n c y _ g r a d e _ c o m p e t e n c y " , t h i s . _ a r g s = { u s e r i d : t h i s . _ u s e r I d , c o m p e t e n c y i d : t h i s . _ c o m p e t e n c y I d } ) } ; r e t u r n   h . p r o t o t y p e = O b j e c t . c r e a t e ( f . p r o t o t y p e ) , h . p r o t o t y p e . _ s e t U p = f u n c t i o n ( ) { v a r   a = [ ] , d = t h i s , f = g . g e t _ v a l u e s ( d . _ s c a l e I d ) ; f . d o n e ( f u n c t i o n ( f ) { a . p u s h ( { v a l u e : " " , n a m e : d . _ c h o o s e S t r } ) ; f o r ( v a r   g = 0 ; g < f . l e n g t h ; g + + ) { v a r   h = f [ g ] ; a . p u s h ( { v a l u e : h . i d , n a m e : h . n a m e } ) } d . _ d i a l o g u e = n e w   e ( a ) , d . _ d i a l o g u e . o n ( " r a t e d " , f u n c t i o n ( a , e ) { v a r   f = d . _ a r g s ; f . g r a d e = e . r a t i n g , f . n o t e = e . n o t e , c . c a l l ( [ { m e t h o d n a m e : d . _ m e t h o d N a m e , a r g s : f , d o n e : f u n c t i o n ( a ) { d . _ t r i g g e r ( " c o m p e t e n c y u p d a t e d " , { a r g s : f , e v i d e n c e : a } ) } , f a i l : b . e x c e p t i o n } ] ) } ) } ) . f a i l ( b . e x c e p t i o n ) } , h . p r o t o t y p e . _ s c a l e I d = n u l l , h . p r o t o t y p e . _ c o m p e t e n c y I d = n u l l , h . p r o t o t y p e . _ u s e r I d = n u l l , h . p r o t o t y p e . _ p l a n I d = n u l l , h . p r o t o t y p e . _ c o u r s e I d = n u l l , h . p r o t o t y p e . _ c h o o s e S t r = n u l l , h . p r o t o t y p e . _ d i a l o g u e = n u l l , h } ) ; 
 d e f i n e ( ' t o o l _ l p / c o m p e t e n c y _ r u l e ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { v a r   b = f u n c t i o n ( b ) { t h i s . _ e v e n t N o d e = a ( " < d i v > " ) , t h i s . _ r e a d y = a . D e f e r r e d ( ) , t h i s . _ t r e e = b } ; r e t u r n   b . p r o t o t y p e . _ c o m p e t e n c y = n u l l , b . p r o t o t y p e . _ e v e n t N o d e = n u l l , b . p r o t o t y p e . _ r e a d y = n u l l , b . p r o t o t y p e . _ t r e e = n u l l , b . p r o t o t y p e . c a n C o n f i g = f u n c t i o n ( ) { r e t u r n   t h i s . _ t r e e . h a s C h i l d r e n ( t h i s . _ c o m p e t e n c y . i d ) } , b . p r o t o t y p e . g e t C o n f i g = f u n c t i o n ( ) { r e t u r n   n u l l } , b . p r o t o t y p e . g e t T y p e = f u n c t i o n ( ) { t h r o w   n e w   E r r o r ( " N o t   i m p l e m e n t e d " ) } , b . p r o t o t y p e . i n i t = f u n c t i o n ( ) { r e t u r n   t h i s . _ l o a d ( ) } , b . p r o t o t y p e . i n j e c t T e m p l a t e = f u n c t i o n ( ) { r e t u r n   a . D e f e r r e d ( ) . r e j e c t ( ) . p r o m i s e ( ) } , b . p r o t o t y p e . i s V a l i d = f u n c t i o n ( ) { r e t u r n ! 1 } , b . p r o t o t y p e . _ l o a d = f u n c t i o n ( ) { r e t u r n   a . w h e n ( ) } , b . p r o t o t y p e . o n = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . o n ( a , b ) } , b . p r o t o t y p e . s e t T a r g e t C o m p e t e n c y = f u n c t i o n ( a ) { t h i s . _ c o m p e t e n c y = a } , b . p r o t o t y p e . _ t r i g g e r = f u n c t i o n ( a , b ) { t h i s . _ e v e n t N o d e . t r i g g e r ( a , [ b ] ) } , b . p r o t o t y p e . _ t r i g g e r C h a n g e = f u n c t i o n ( ) { t h i s . _ t r i g g e r ( " c h a n g e " , t h i s ) } , b } ) ; 
 d e f i n e ( ' t o o l _ l p / e v i d e n c e _ d e l e t e ' ,   [ " j q u e r y " , " c o r e / n o t i f i c a t i o n " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { } , g = f u n c t i o n ( g , h ) { " u n d e f i n e d " = = t y p e o f   f [ g ] & & ( f [ g ] = a ( " b o d y " ) . d e l e g a t e ( g , " c l i c k " , f u n c t i o n ( f ) { v a r   g = a ( f . c u r r e n t T a r g e t ) . p a r e n t s ( h ) ; i f ( ! g . l e n g t h | | g . l e n g t h > 1 ) r e t u r n   v o i d   e . e r r o r ( " N o n e   o r   t o o   m a n y   e v i d e n c e   c o n t a i n e r   w e r e   f o u n d . " ) ; v a r   i = g . d a t a ( " i d " ) ; r e t u r n   i ? ( f . p r e v e n t D e f a u l t ( ) , f . s t o p P r o p a g a t i o n ( ) , v o i d   d . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m " , c o m p o n e n t : " m o o d l e " } , { k e y : " a r e y o u s u r e " , c o m p o n e n t : " m o o d l e " } , { k e y : " d e l e t e " , c o m p o n e n t : " m o o d l e " } , { k e y : " c a n c e l " , c o m p o n e n t : " m o o d l e " } ] ) . d o n e ( f u n c t i o n ( a ) { b . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { v a r   a = c . c a l l ( [ { m e t h o d n a m e : " c o r e _ c o m p e t e n c y _ d e l e t e _ e v i d e n c e " , a r g s : { i d : i } } ] ) ; a [ 0 ] . t h e n ( f u n c t i o n ( ) { g . r e m o v e ( ) } ) . f a i l ( b . e x c e p t i o n ) } ) } ) . f a i l ( b . e x c e p t i o n ) ) : v o i d   e . e r r o r ( " E v i d e n c e   I D   w a s   n o t   f o u n d . " ) } ) ) } ; r e t u r n { r e g i s t e r : g } } ) ; 
 d e f i n e ( ' t o o l _ p o l i c y / j q u e r y - e u - c o o k i e - l a w - p o p u p ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { w i n d o w . c o n s o l e | | ( w i n d o w . c o n s o l e = { } ) , w i n d o w . c o n s o l e . l o g | | ( w i n d o w . c o n s o l e . l o g = f u n c t i o n ( ) { } ) , a . f n . e u C o o k i e L a w P o p u p = f u n c t i o n ( ) { v a r   b = t h i s ; b . p a r a m s = { c o o k i e P o l i c y U r l : " h t t p : / / w w w . w i m a g g u c . c o m / ? c o o k i e - p o l i c y " , p o p u p P o s i t i o n : " t o p " , c o l o r S t y l e : " d e f a u l t " , c o m p a c t S t y l e : ! 1 , p o p u p T i t l e : " T h i s   w e b s i t e   i s   u s i n g   c o o k i e s " , p o p u p T e x t : " W e   u s e   c o o k i e s   t o   e n s u r e   t h a t   w e   g i v e   y o u   t h e   b e s t   e x p e r i e n c e   o n   o u r   w e b s i t e .   I f   y o u   c o n t i n u e   w i t h o u t   c h a n g i n g   y o u r   s e t t i n g s ,   w e ' l l   a s s u m e   t h a t   y o u   a r e   h a p p y   t o   r e c e i v e   a l l   c o o k i e s   o n   t h i s   w e b s i t e . " , b u t t o n C o n t i n u e T i t l e : " C o n t i n u e " , b u t t o n L e a r n m o r e T i t l e : " L e a r n & n b s p ; m o r e " , b u t t o n L e a r n m o r e O p e n I n N e w W i n d o w : ! 0 , a g r e e m e n t E x p i r e s I n D a y s : 3 0 , a u t o A c c e p t C o o k i e P o l i c y : ! 1 , h t m l M a r k u p : n u l l } , b . v a r s = { I N I T I A L I S E D : ! 1 , H T M L _ M A R K U P : n u l l , C O O K I E _ N A M E : " E U _ C O O K I E _ L A W _ C O N S E N T " } ; v a r   c = f u n c t i o n ( c , d , e ) { i f ( c ) { v a r   f = a ( c ) . a t t r ( " c l a s s " ) ? a ( c ) . a t t r ( " c l a s s " ) : " " ; f . i n d e x O f ( " e u p o p u p - t o p " ) > - 1 ? b . p a r a m s . p o p u p P o s i t i o n = " t o p " : f . i n d e x O f ( " e u p o p u p - f i x e d t o p " ) > - 1 ? b . p a r a m s . p o p u p P o s i t i o n = " f i x e d t o p " : f . i n d e x O f ( " e u p o p u p - b o t t o m r i g h t " ) > - 1 ? b . p a r a m s . p o p u p P o s i t i o n = " b o t t o m r i g h t " : f . i n d e x O f ( " e u p o p u p - b o t t o m l e f t " ) > - 1 ? b . p a r a m s . p o p u p P o s i t i o n = " b o t t o m l e f t " : f . i n d e x O f ( " e u p o p u p - b o t t o m " ) > - 1 ? b . p a r a m s . p o p u p P o s i t i o n = " b o t t o m " : f . i n d e x O f ( " e u p o p u p - b l o c k " ) > - 1 & & ( b . p a r a m s . p o p u p P o s i t i o n = " b l o c k " ) , f . i n d e x O f ( " e u p o p u p - c o l o r - d e f a u l t " ) > - 1 ? b . p a r a m s . c o l o r S t y l e = " d e f a u l t " : f . i n d e x O f ( " e u p o p u p - c o l o r - i n v e r s e " ) > - 1 & & ( b . p a r a m s . c o l o r S t y l e = " i n v e r s e " ) , f . i n d e x O f ( " e u p o p u p - s t y l e - c o m p a c t " ) > - 1 & & ( b . p a r a m s . c o m p a c t S t y l e = ! 0 ) } d & & ( b . p a r a m s . h t m l M a r k u p = d ) , e & & ( " u n d e f i n e d " ! = t y p e o f   e . c o o k i e P o l i c y U r l & & ( b . p a r a m s . c o o k i e P o l i c y U r l = e . c o o k i e P o l i c y U r l ) , " u n d e f i n e d " ! = t y p e o f   e . p o p u p P o s i t i o n & & ( b . p a r a m s . p o p u p P o s i t i o n = e . p o p u p P o s i t i o n ) , " u n d e f i n e d " ! = t y p e o f   e . c o l o r S t y l e & & ( b . p a r a m s . c o l o r S t y l e = e . c o l o r S t y l e ) , " u n d e f i n e d " ! = t y p e o f   e . p o p u p T i t l e & & ( b . p a r a m s . p o p u p T i t l e = e . p o p u p T i t l e ) , " u n d e f i n e d " ! = t y p e o f   e . p o p u p T e x t & & ( b . p a r a m s . p o p u p T e x t = e . p o p u p T e x t ) , " u n d e f i n e d " ! = t y p e o f   e . b u t t o n C o n t i n u e T i t l e & & ( b . p a r a m s . b u t t o n C o n t i n u e T i t l e = e . b u t t o n C o n t i n u e T i t l e ) , " u n d e f i n e d " ! = t y p e o f   e . b u t t o n L e a r n m o r e T i t l e & & ( b . p a r a m s . b u t t o n L e a r n m o r e T i t l e = e . b u t t o n L e a r n m o r e T i t l e ) , " u n d e f i n e d " ! = t y p e o f   e . b u t t o n L e a r n m o r e O p e n I n N e w W i n d o w & & ( b . p a r a m s . b u t t o n L e a r n m o r e O p e n I n N e w W i n d o w = e . b u t t o n L e a r n m o r e O p e n I n N e w W i n d o w ) , " u n d e f i n e d " ! = t y p e o f   e . a g r e e m e n t E x p i r e s I n D a y s & & ( b . p a r a m s . a g r e e m e n t E x p i r e s I n D a y s = e . a g r e e m e n t E x p i r e s I n D a y s ) , " u n d e f i n e d " ! = t y p e o f   e . a u t o A c c e p t C o o k i e P o l i c y & & ( b . p a r a m s . a u t o A c c e p t C o o k i e P o l i c y = e . a u t o A c c e p t C o o k i e P o l i c y ) , " u n d e f i n e d " ! = t y p e o f   e . h t m l M a r k u p & & ( b . p a r a m s . h t m l M a r k u p = e . h t m l M a r k u p ) ) } , d = f u n c t i o n ( ) { i f ( b . p a r a m s . h t m l M a r k u p ) r e t u r n   b . p a r a m s . h t m l M a r k u p ; v a r   a = ' < d i v   c l a s s = " e u p o p u p - c o n t a i n e r   e u p o p u p - c o n t a i n e r - ' + b . p a r a m s . p o p u p P o s i t i o n + ( b . p a r a m s . c o m p a c t S t y l e ? "   e u p o p u p - s t y l e - c o m p a c t " : " " ) + "   e u p o p u p - c o l o r - " + b . p a r a m s . c o l o r S t y l e + ' " > < d i v   c l a s s = " e u p o p u p - h e a d " > ' + b . p a r a m s . p o p u p T i t l e + ' < / d i v > < d i v   c l a s s = " e u p o p u p - b o d y " > ' + b . p a r a m s . p o p u p T e x t + ' < / d i v > < d i v   c l a s s = " e u p o p u p - b u t t o n s " > < a   h r e f = " # "   c l a s s = " e u p o p u p - b u t t o n   e u p o p u p - b u t t o n _ 1 " > ' + b . p a r a m s . b u t t o n C o n t i n u e T i t l e + ' < / a > < a   h r e f = " ' + b . p a r a m s . c o o k i e P o l i c y U r l + ' " ' + ( b . p a r a m s . b u t t o n L e a r n m o r e O p e n I n N e w W i n d o w ? "   t a r g e t = _ b l a n k   " : " " ) + '   c l a s s = " e u p o p u p - b u t t o n   e u p o p u p - b u t t o n _ 2 " > ' + b . p a r a m s . b u t t o n L e a r n m o r e T i t l e + ' < / a > < d i v   c l a s s = " c l e a r f i x " > < / d i v > < / d i v > < a   h r e f = " # "   c l a s s = " e u p o p u p - c l o s e b u t t o n " > x < / a > < / d i v > ' ; r e t u r n   a } , e = f u n c t i o n ( c ) { v a r   d = n e w   D a t e , e = 2 4 * b . p a r a m s . a g r e e m e n t E x p i r e s I n D a y s * 6 0 * 6 0 * 1 e 3 ; d . s e t T i m e ( d . g e t T i m e ( ) + e ) ; v a r   f = " e x p i r e s = " + d . t o G M T S t r i n g ( ) ; d o c u m e n t . c o o k i e = b . v a r s . C O O K I E _ N A M E + " = " + c + " ;   " + f + " ; p a t h = / " , a ( d o c u m e n t ) . t r i g g e r ( " u s e r _ c o o k i e _ c o n s e n t _ c h a n g e d " , { c o n s e n t : c } ) } , f = f u n c t i o n ( ) { f o r ( v a r   a = ! 1 , c = d o c u m e n t . c o o k i e . s p l i t ( " ; " ) , d = 0 ; d < c . l e n g t h ; d + + ) { v a r   e = c [ d ] . t r i m ( ) ; 0 = = e . i n d e x O f ( b . v a r s . C O O K I E _ N A M E ) & & ( a = e . s u b s t r i n g ( b . v a r s . C O O K I E _ N A M E . l e n g t h + 1 , e . l e n g t h ) ) } r e t u r n   a } , g = f u n c t i o n ( ) { a ( " . e u p o p u p - c o n t a i n e r " ) . a n i m a t e ( { o p a c i t y : 0 , h e i g h t : 0 } , 2 0 0 , f u n c t i o n ( ) { a ( " . e u p o p u p - c o n t a i n e r " ) . h i d e ( 0 ) } ) } , h = { i n i t : f u n c t i o n ( h ) { c ( a ( " . e u p o p u p " ) . f i r s t ( ) , a ( " . e u p o p u p - m a r k u p " ) . h t m l ( ) , h ) , f ( ) | | b . v a r s . I N I T I A L I S E D | | ( b . v a r s . I N I T I A L I S E D = ! 0 , b . v a r s . H T M L _ M A R K U P = d ( ) , a ( " . e u p o p u p - b l o c k " ) . l e n g t h > 0 ? a ( " . e u p o p u p - b l o c k " ) . a p p e n d ( b . v a r s . H T M L _ M A R K U P ) : a ( " B O D Y " ) . a p p e n d ( b . v a r s . H T M L _ M A R K U P ) , a ( " . e u p o p u p - b u t t o n _ 1 " ) . c l i c k ( f u n c t i o n ( ) { r e t u r n   e ( ! 0 ) , g ( ) , ! 1 } ) , a ( " . e u p o p u p - c l o s e b u t t o n " ) . c l i c k ( f u n c t i o n ( ) { r e t u r n   e ( ! 0 ) , g ( ) , ! 1 } ) , a ( " . e u p o p u p - c o n t a i n e r " ) . s h o w ( ) , b . p a r a m s . a u t o A c c e p t C o o k i e P o l i c y & & e ( ! 0 ) ) } } ; r e t u r n   h } } ) ; 
 d e f i n e ( ' t o o l _ p o l i c y / a c c e p t a n c e s _ f i l t e r ' ,   [ " j q u e r y " , " c o r e / f o r m - a u t o c o m p l e t e " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { U N I F I E D _ F I L T E R S : " # u n i f i e d - f i l t e r s " } , f = f u n c t i o n ( ) { v a r   f = [ { k e y : " f i l t e r p l a c e h o l d e r " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " n o f i l t e r s a p p l i e d " , c o m p o n e n t : " t o o l _ p o l i c y " } ] ; M . u t i l . j s _ p e n d i n g ( " a c c e p t a n c e s _ f i l t e r _ d a t a s o u r c e " ) , c . g e t _ s t r i n g s ( f ) . d o n e ( f u n c t i o n ( a ) { v a r   c = a [ 0 ] , f = a [ 1 ] ; b . e n h a n c e ( e . U N I F I E D _ F I L T E R S , ! 0 , " t o o l _ p o l i c y / a c c e p t a n c e s _ f i l t e r _ d a t a s o u r c e " , c , ! 1 , ! 0 , f , ! 0 ) . t h e n ( f u n c t i o n ( ) { M . u t i l . j s _ c o m p l e t e ( " a c c e p t a n c e s _ f i l t e r _ d a t a s o u r c e " ) } ) . f a i l ( d . e x c e p t i o n ) } ) . f a i l ( d . e x c e p t i o n ) ; v a r   g = a ( e . U N I F I E D _ F I L T E R S ) . v a l ( ) ; a ( e . U N I F I E D _ F I L T E R S ) . o n ( " c h a n g e " , f u n c t i o n ( ) { v a r   b = a ( t h i s ) . v a l ( ) , c = [ ] , d = [ ] , e = ! 1 ; i f ( a . e a c h ( b , f u n c t i o n ( a , b ) { v a r   f = b . s p l i t ( " : " , 2 ) ; i f ( 2 ! = = f . l e n g t h ) r e t u r n   d . p u s h ( b ) , ! 0 ; v a r   g = f [ 0 ] , h = f [ 1 ] ; r e t u r n " u n d e f i n e d " ! = t y p e o f   c [ g ] & & ( e = ! 0 ) , c [ g ] = h , ! 0 } ) , e ) { v a r   f = [ ] ; f o r ( v a r   h   i n   c ) f . p u s h ( h + " : " + c [ h ] ) ; f = f . c o n c a t ( d ) , a ( t h i s ) . v a l ( f ) } g . j o i n ( " , " ) ! = b . j o i n ( " , " ) & & t h i s . f o r m . s u b m i t ( ) } ) } , g = f u n c t i o n ( ) { r e t u r n   a ( e . U N I F I E D _ F I L T E R S ) . c l o s e s t ( " f o r m " ) } ; r e t u r n { i n i t : f u n c t i o n ( ) { f ( ) } , g e t F o r m : f u n c t i o n ( ) { r e t u r n   g ( ) } } } ) ; 
 d e f i n e ( ' t o o l _ p o l i c y / a c c e p t a n c e s _ f i l t e r _ d a t a s o u r c e ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { r e t u r n { l i s t : f u n c t i o n ( b , c ) { v a r   d = [ ] , e = a ( b ) , f = a ( b ) . d a t a ( " o r i g i n a l o p t i o n s j s o n " ) , g = e . v a l ( ) ; a . e a c h ( f , f u n c t i o n ( b , e ) { r e t u r n " " ! = = a . t r i m ( c ) & & e . l a b e l . t o L o c a l e L o w e r C a s e ( ) . i n d e x O f ( c . t o L o c a l e L o w e r C a s e ( ) ) = = = - 1 | | ( a . i n A r r a y ( e . v a l u e , g ) > - 1 | | ( d . p u s h ( e ) , ! 0 ) ) } ) ; v a r   h = n e w   a . D e f e r r e d ; r e t u r n   h . r e s o l v e ( d ) , h . p r o m i s e ( ) } , p r o c e s s R e s u l t s : f u n c t i o n ( b , c ) { v a r   d = [ ] ; r e t u r n   a . e a c h ( c , f u n c t i o n ( a , b ) { d . p u s h ( { v a l u e : b . v a l u e , l a b e l : b . l a b e l } ) } ) , d } , t r a n s p o r t : f u n c t i o n ( a , b , d ) { t h i s . l i s t ( a , b ) . t h e n ( d ) [ " c a t c h " ] ( c . e x c e p t i o n ) } } } ) ; 
 d e f i n e ( ' t o o l _ p o l i c y / m a n a g e d o c s a c t i o n s ' ,   [ " j q u e r y " , " c o r e / l o g " , " c o r e / c o n f i g " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e , f ) { " u s e   s t r i c t " ; f u n c t i o n   g ( a ) { t h i s . b a s e = a , t h i s . i n i t E v e n t s ( ) } v a r   h = { L I N K S : " [ d a t a - a c t i o n ] " , M A K E _ C U R R E N T : ' [ d a t a - a c t i o n = " m a k e c u r r e n t " ] ' , I N A C T I V A T E : ' [ d a t a - a c t i o n = " i n a c t i v a t e " ] ' , D E L E T E : ' [ d a t a - a c t i o n = " d e l e t e " ] ' } ; r e t u r n   g . p r o t o t y p e . i n i t E v e n t s = f u n c t i o n ( ) { v a r   g = t h i s ; g . b a s e . o n ( " c l i c k " , h . L I N K S , f u n c t i o n ( g ) { g . s t o p P r o p a g a t i o n ( ) ; v a r   i , j , k = a ( g . c u r r e n t T a r g e t ) ; i f ( k . i s ( h . M A K E _ C U R R E N T ) ) i = d . g e t _ s t r i n g s ( [ { k e y : " a c t i v a t i n g " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " a c t i v a t e c o n f i r m " , c o m p o n e n t : " t o o l _ p o l i c y " , p a r a m : { n a m e : k . c l o s e s t ( " [ d a t a - p o l i c y - n a m e ] " ) . a t t r ( " d a t a - p o l i c y - n a m e " ) , r e v i s i o n : k . c l o s e s t ( " [ d a t a - p o l i c y - r e v i s i o n ] " ) . a t t r ( " d a t a - p o l i c y - r e v i s i o n " ) } } , { k e y : " a c t i v a t e c o n f i r m y e s " , c o m p o n e n t : " t o o l _ p o l i c y " } ] ) ; e l s e   i f ( k . i s ( h . I N A C T I V A T E ) ) i = d . g e t _ s t r i n g s ( [ { k e y : " i n a c t i v a t i n g " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " i n a c t i v a t i n g c o n f i r m " , c o m p o n e n t : " t o o l _ p o l i c y " , p a r a m : { n a m e : k . c l o s e s t ( " [ d a t a - p o l i c y - n a m e ] " ) . a t t r ( " d a t a - p o l i c y - n a m e " ) , r e v i s i o n : k . c l o s e s t ( " [ d a t a - p o l i c y - r e v i s i o n ] " ) . a t t r ( " d a t a - p o l i c y - r e v i s i o n " ) } } , { k e y : " i n a c t i v a t i n g c o n f i r m y e s " , c o m p o n e n t : " t o o l _ p o l i c y " } ] ) ; e l s e { i f ( ! k . i s ( h . D E L E T E ) ) r e t u r n   v o i d   b . e r r o r ( " u n k n o w n   a c t i o n   t y p e   d e t e c t e d " , " t o o l _ p o l i c y / m a n a g e d o c s a c t i o n s " ) ; i = d . g e t _ s t r i n g s ( [ { k e y : " d e l e t i n g " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " d e l e t e c o n f i r m " , c o m p o n e n t : " t o o l _ p o l i c y " , p a r a m : { n a m e : k . c l o s e s t ( " [ d a t a - p o l i c y - n a m e ] " ) . a t t r ( " d a t a - p o l i c y - n a m e " ) , r e v i s i o n : k . c l o s e s t ( " [ d a t a - p o l i c y - r e v i s i o n ] " ) . a t t r ( " d a t a - p o l i c y - r e v i s i o n " ) } } , { k e y : " d e l e t e " , c o m p o n e n t : " c o r e " } ] ) } g . p r e v e n t D e f a u l t ( ) , i . t h e n ( f u n c t i o n ( a ) { r e t u r n   j = a , e . c r e a t e ( { t i t l e : j [ 0 ] , b o d y : j [ 1 ] , t y p e : e . t y p e s . S A V E _ C A N C E L } ) } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . s e t S a v e B u t t o n T e x t ( j [ 2 ] ) , a . g e t R o o t ( ) . o n ( f . s a v e , f u n c t i o n ( ) { w i n d o w . l o c a t i o n . h r e f = k . a t t r ( " h r e f " ) + " & s e s s k e y = " + c . s e s s k e y + " & c o n f i r m = 1 " } ) , a . g e t R o o t ( ) . o n ( f . h i d d e n , f u n c t i o n ( ) { a . d e s t r o y ( ) } ) , a . s h o w ( ) , ! 0 } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { r e t u r n   b . e r r o r ( a ) , ! 1 } ) } ) } , { i n i t : f u n c t i o n ( b ) { v a r   c = a ( d o c u m e n t . g e t E l e m e n t B y I d ( b ) ) ; i f ( c . l e n g t h ) r e t u r n   n e w   g ( c ) ; t h r o w   n e w   E r r o r ( " m a n a g e d o c s a c t i o n s :   I n v a l i d   b a s e   e l e m e n t   i d e n t i f i e r " ) } } } ) ; 
 d e f i n e ( ' t o o l _ p o l i c y / p o l i c y a c t i o n s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " ] , f u n c t i o n ( a , b , c , d , e ) { v a r   f = { V I E W _ P O L I C Y : ' [ d a t a - a c t i o n = " v i e w " ] ' } , g = f u n c t i o n ( ) { t h i s . r e g i s t e r E v e n t s ( ) } ; r e t u r n   g . p r o t o t y p e . r e g i s t e r E v e n t s = f u n c t i o n ( ) { a ( f . V I E W _ P O L I C Y ) . c l i c k ( f u n c t i o n ( f ) { f . p r e v e n t D e f a u l t ( ) ; v a r   g = a ( t h i s ) . d a t a ( " v e r s i o n i d " ) , h = a ( t h i s ) . d a t a ( " b e h a l f i d " ) , i = { v e r s i o n i d : g , b e h a l f i d : h } , j = { m e t h o d n a m e : " t o o l _ p o l i c y _ g e t _ p o l i c y _ v e r s i o n " , a r g s : i } , k = a . D e f e r r e d ( ) , l = a . D e f e r r e d ( ) , m = d . c r e a t e ( { t i t l e : k , b o d y : l , l a r g e : ! 0 } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . g e t R o o t ( ) . o n ( e . h i d d e n , f u n c t i o n ( ) { a . d e s t r o y ( ) } ) , a } ) . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . s h o w ( ) , a } ) [ " c a t c h " ] ( c . e x c e p t i o n ) , n = b . c a l l ( [ j ] ) ; a . w h e n ( n [ 0 ] ) . t h e n ( f u n c t i o n ( a ) { i f ( a . r e s u l t . p o l i c y ) r e t u r n   k . r e s o l v e ( a . r e s u l t . p o l i c y . n a m e ) , l . r e s o l v e ( a . r e s u l t . p o l i c y . c o n t e n t ) , a ; t h r o w   n e w   E r r o r ( a . w a r n i n g s [ 0 ] . m e s s a g e ) } ) [ " c a t c h " ] ( f u n c t i o n ( a ) { r e t u r n   m . t h e n ( f u n c t i o n ( a ) { r e t u r n   a . h i d e ( ) , a . d e s t r o y ( ) , a } ) [ " c a t c h " ] ( c . e x c e p t i o n ) , c . a d d N o t i f i c a t i o n ( { m e s s a g e : a , t y p e : " e r r o r " } ) } ) } ) } , { i n i t : f u n c t i o n ( ) { r e t u r n   n e w   g } } } ) ; 
 d e f i n e ( ' t o o l _ p o l i c y / a c c e p t m o d a l ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / m o d a l _ f a c t o r y " , " c o r e / m o d a l _ e v e n t s " , " c o r e / n o t i f i c a t i o n " , " c o r e / f r a g m e n t " , " c o r e / a j a x " , " c o r e / y u i " ] , f u n c t i o n ( a , b , c , d , e , f , g , h ) { " u s e   s t r i c t " ; v a r   i = f u n c t i o n ( a ) { t h i s . c o n t e x t i d = a , t h i s . i n i t ( ) } ; r e t u r n   i . p r o t o t y p e . m o d a l = n u l l , i . p r o t o t y p e . c o n t e x t i d = - 1 , i . p r o t o t y p e . c u r r e n t T r i g g e r = n u l l , i . p r o t o t y p e . t r i g g e r s = { S I N G L E : " a [ d a t a - a c t i o n = a c c e p t m o d a l ] " , B U L K : " i n p u t [ d a t a - a c t i o n = a c c e p t m o d a l ] " } , i . p r o t o t y p e . i n i t = f u n c t i o n ( ) { a ( t h i s . t r i g g e r s . S I N G L E ) . o n ( " c l i c k " , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , t h i s . c u r r e n t T r i g g e r = a ( b . c u r r e n t T a r g e t ) ; v a r   c = a ( b . c u r r e n t T a r g e t ) . a t t r ( " h r e f " ) , d = c . s l i c e ( c . i n d e x O f ( " ? " ) + 1 ) ; t h i s . s h o w F o r m M o d a l ( d ) } . b i n d ( t h i s ) ) , a ( t h i s . t r i g g e r s . B U L K ) . o n ( " c l i c k " , f u n c t i o n ( c ) { c . p r e v e n t D e f a u l t ( ) , t h i s . c u r r e n t T r i g g e r = a ( c . c u r r e n t T a r g e t ) ; v a r   d = a ( c . c u r r e n t T a r g e t ) . c l o s e s t ( " f o r m " ) ; i f ( d . f i n d ( ' i n p u t [ t y p e = c h e c k b o x ] [ n a m e = " u s e r i d s [ ] " ] : c h e c k e d ' ) . l e n g t h ) { v a r   f = d . s e r i a l i z e ( ) ; t h i s . s h o w F o r m M o d a l ( f ) } e l s e   b . g e t _ s t r i n g s ( [ { k e y : " n o t i c e " } , { k e y : " s e l e c t u s e r s f o r c o n s e n t " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " o k " } ] ) . t h e n ( f u n c t i o n ( a ) { e . a l e r t ( a [ 0 ] , a [ 1 ] , a [ 2 ] ) } ) . f a i l ( e . e x c e p t i o n ) } . b i n d ( t h i s ) ) } , i . p r o t o t y p e . s h o w F o r m M o d a l = f u n c t i o n ( a ) { f o r ( v a r   d , f = a . s p l i t ( " & " ) , g = 0 ; g < f . l e n g t h ; g + + ) { v a r   h = f [ g ] . s p l i t ( " = " ) ; " a c t i o n " = = h [ 0 ] & & ( d = h [ 1 ] ) } b . g e t _ s t r i n g s ( [ { k e y : " s t a t u s f o r m t i t l e a c c e p t " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " i a g r e e t o t h e p o l i c y " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " s t a t u s f o r m t i t l e r e v o k e " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " i r e v o k e t h e p o l i c y " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " s t a t u s f o r m t i t l e d e c l i n e " , c o m p o n e n t : " t o o l _ p o l i c y " } , { k e y : " d e c l i n e t h e p o l i c y " , c o m p o n e n t : " t o o l _ p o l i c y " } ] ) . t h e n ( f u n c t i o n ( b ) { v a r   e , f ; r e t u r n " a c c e p t " = = d ? ( e = b [ 0 ] , f = b [ 1 ] ) : " r e v o k e " = = d ? ( e = b [ 2 ] , f = b [ 3 ] ) : " d e c l i n e " = = d & & ( e = b [ 4 ] , f = b [ 5 ] ) , c . c r e a t e ( { t y p e : c . t y p e s . S A V E _ C A N C E L , t i t l e : e , b o d y : " " } ) . d o n e ( f u n c t i o n ( b ) { t h i s . m o d a l = b , t h i s . s e t u p F o r m M o d a l ( a , f ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) [ " c a t c h " ] ( e . e x c e p t i o n ) } , i . p r o t o t y p e . s e t u p F o r m M o d a l = f u n c t i o n ( a , b ) { v a r   c = t h i s . m o d a l ; c . s e t L a r g e ( ) , c . s e t S a v e B u t t o n T e x t ( b ) , c . g e t R o o t ( ) . o n ( d . h i d d e n , t h i s . d e s t r o y . b i n d ( t h i s ) ) , c . s e t B o d y ( t h i s . g e t B o d y ( a ) ) , c . g e t R o o t ( ) . o n ( d . s a v e , t h i s . s u b m i t F o r m . b i n d ( t h i s ) ) , c . g e t R o o t ( ) . o n ( " s u b m i t " , " f o r m " , t h i s . s u b m i t F o r m A j a x . b i n d ( t h i s ) ) , c . s h o w ( ) } , i . p r o t o t y p e . g e t B o d y = f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a & & ( a = { } ) ; v a r   b = { j s o n f o r m d a t a : J S O N . s t r i n g i f y ( a ) } ; r e t u r n   f . l o a d F r a g m e n t ( " t o o l _ p o l i c y " , " a c c e p t _ o n _ b e h a l f " , t h i s . c o n t e x t i d , b ) } , i . p r o t o t y p e . s u b m i t F o r m A j a x = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) ; v a r   b = t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) . s e r i a l i z e ( ) , c = g . c a l l ( [ { m e t h o d n a m e : " t o o l _ p o l i c y _ s u b m i t _ a c c e p t _ o n _ b e h a l f " , a r g s : { j s o n f o r m d a t a : J S O N . s t r i n g i f y ( b ) } } ] ) ; c [ 0 ] . d o n e ( f u n c t i o n ( a ) { a . v a l i d a t i o n e r r o r s ? t h i s . m o d a l . s e t B o d y ( t h i s . g e t B o d y ( b ) ) : t h i s . c l o s e ( ) } . b i n d ( t h i s ) ) . f a i l ( e . e x c e p t i o n ) } , i . p r o t o t y p e . s u b m i t F o r m = f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , t h i s . m o d a l . g e t R o o t ( ) . f i n d ( " f o r m " ) . s u b m i t ( ) } , i . p r o t o t y p e . c l o s e = f u n c t i o n ( ) { t h i s . d e s t r o y ( ) , d o c u m e n t . l o c a t i o n . r e l o a d ( ) } , i . p r o t o t y p e . d e s t r o y = f u n c t i o n ( ) { h . u s e ( " m o o d l e - c o r e - f o r m c h a n g e c h e c k e r " , f u n c t i o n ( ) { M . c o r e _ f o r m c h a n g e c h e c k e r . r e s e t _ f o r m _ d i r t y _ s t a t e ( ) } ) , t h i s . m o d a l . d e s t r o y ( ) , t h i s . c u r r e n t T r i g g e r . f o c u s ( ) } , { g e t I n s t a n c e : f u n c t i o n ( a ) { r e t u r n   n e w   i ( a ) } } } ) ; 
 d e f i n e ( ' t o o l _ t e m p l a t e l i b r a r y / d i s p l a y ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / l o g " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / c o n f i g " , " c o r e / s t r " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = f u n c t i o n ( a , b ) { i f ( ! a ) r e t u r n ! 1 ; v a r   c = " @ t e m p l a t e   " + b , d = 0 , e = [ ] ; i f ( e = a . m a t c h ( / { { ! ( [ \ s \ S ] * ? ) } } / g ) , n u l l ! = = e ) f o r ( d = 0 ; d < e . l e n g t h ; d + + ) { v a r   f = e [ d ] , g = f . i n d e x O f ( c ) ; i f ( g ! = = - 1 ) { v a r   h = g + c . l e n g t h + 1 ; r e t u r n   f = f . s u b s t r ( h , f . l e n g t h - 2 - h ) } } r e t u r n ! 1 } , i = f u n c t i o n ( b , f , i ) { g . g e t _ s t r i n g ( " t e m p l a t e s e l e c t e d " , " t o o l _ t e m p l a t e l i b r a r y " , b ) . d o n e ( f u n c t i o n ( b ) { a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e h e a d e r " ] ' ) . t e x t ( b ) } ) . f a i l ( d . e x c e p t i o n ) ; v a r   j = h ( f , b ) ; j = = = ! 1 & & ( j = h ( i , b ) ) , j & & ( f = j ) , a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e s o u r c e " ] ' ) . t e x t ( f ) ; v a r   k = f . m a t c h ( / E x a m p l e   c o n t e x t   \ ( j s o n \ ) : ( [ \ s \ S ] * ) / ) , l = ! 1 ; i f ( k ) { v a r   m = k [ 1 ] . t r i m ( ) ; t r y { l = a . p a r s e J S O N ( m ) } c a t c h ( n ) { c . d e b u g ( " C o u l d   n o t   p a r s e   j s o n   e x a m p l e   c o n t e x t   f o r   t e m p l a t e . " ) , c . d e b u g ( n ) } } l ? e . r e n d e r ( b , l ) . d o n e ( f u n c t i o n ( b , c ) { e . r e p l a c e N o d e C o n t e n t s ( a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e e x a m p l e " ] ' ) , b , c ) } ) . f a i l ( d . e x c e p t i o n ) : g . g e t _ s t r i n g ( " t e m p l a t e h a s n o e x a m p l e " , " t o o l _ t e m p l a t e l i b r a r y " ) . d o n e ( f u n c t i o n ( b ) { a ( ' [ d a t a - r e g i o n = " d i s p l a y t e m p l a t e e x a m p l e " ] ' ) . t e x t ( b ) } ) . f a i l ( d . e x c e p t i o n ) } , j = f u n c t i o n ( c ) { v a r   e = c . s p l i t ( " / " ) , g = e . s h i f t ( ) , h = e . s h i f t ( ) , j = b . c a l l ( [ { m e t h o d n a m e : " c o r e _ o u t p u t _ l o a d _ t e m p l a t e " , a r g s : { c o m p o n e n t : g , t e m p l a t e : h , t h e m e n a m e : f . t h e m e , i n c l u d e c o m m e n t s : ! 0 } } , { m e t h o d n a m e : " t o o l _ t e m p l a t e l i b r a r y _ l o a d _ c a n o n i c a l _ t e m p l a t e " , a r g s : { c o m p o n e n t : g , t e m p l a t e : h } } ] , ! 0 , ! 1 ) ; a . w h e n . a p p l y ( a , j ) . d o n e ( f u n c t i o n ( a , b ) { i ( c , a , b ) } ) . f a i l ( d . e x c e p t i o n ) } ; r e t u r n   a ( ' [ d a t a - r e g i o n = " l i s t - t e m p l a t e s " ] ' ) . o n ( " c l i c k " , " [ d a t a - t e m p l a t e n a m e ] " , f u n c t i o n ( b ) { v a r   c = a ( t h i s ) . d a t a ( " t e m p l a t e n a m e " ) ; b . p r e v e n t D e f a u l t ( ) , j ( c ) } ) , { } } ) ; 
 d e f i n e ( ' t o o l _ t e m p l a t e l i b r a r y / s e a r c h ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / l o g " , " c o r e / n o t i f i c a t i o n " , " c o r e / t e m p l a t e s " , " c o r e / c o n f i g " ] , f u n c t i o n ( a , b , c , d , e , f ) { v a r   g = f u n c t i o n ( b ) { e . r e n d e r ( " t o o l _ t e m p l a t e l i b r a r y / s e a r c h _ r e s u l t s " , { t e m p l a t e s : b } ) . d o n e ( f u n c t i o n ( b , c ) { e . r e p l a c e N o d e ( a ( ' [ d a t a - r e g i o n = " s e a r c h r e s u l t s " ] ' ) , b , c ) } ) . f a i l ( d . e x c e p t i o n ) } , h = f u n c t i o n ( c ) { v a r   e = a ( ' [ d a t a - f i e l d = " c o m p o n e n t " ] ' ) . v a l ( ) , f = a ( ' [ d a t a - f i e l d = " s e a r c h " ] ' ) . v a l ( ) ; d o c u m e n t . l o c a t i o n . h a s h = f , b . c a l l ( [ { m e t h o d n a m e : " t o o l _ t e m p l a t e l i b r a r y _ l i s t _ t e m p l a t e s " , a r g s : { c o m p o n e n t : e , s e a r c h : f , t h e m e n a m e : c } , d o n e : g , f a i l : d . e x c e p t i o n } ] , ! 0 , ! 1 ) } , i = n u l l , j = f u n c t i o n ( a , b ) { n u l l ! = = i & & w i n d o w . c l e a r T i m e o u t ( i ) , i = w i n d o w . s e t T i m e o u t ( f u n c t i o n ( ) { a ( ) , i = n u l l } , b ) } , k = f u n c t i o n ( ) { j ( h . b i n d ( t h i s , f . t h e m e ) , 4 0 0 ) } ; r e t u r n   a ( ' [ d a t a - r e g i o n = " l i s t - t e m p l a t e s " ] ' ) . o n ( " c h a n g e " , ' [ d a t a - f i e l d = " c o m p o n e n t " ] ' , k ) , a ( ' [ d a t a - r e g i o n = " l i s t - t e m p l a t e s " ] ' ) . o n ( " i n p u t " , ' [ d a t a - f i e l d = " s e a r c h " ] ' , k ) , a ( ' [ d a t a - f i e l d = " s e a r c h " ] ' ) . v a l ( d o c u m e n t . l o c a t i o n . h a s h . r e p l a c e ( " # " , " " ) ) , h ( f . t h e m e ) , { } } ) ; 
 d e f i n e ( ' t o o l _ u s e r t o u r s / u s e r t o u r s ' ,   [ " c o r e / a j a x " , " t o o l _ u s e r t o u r s / t o u r " , " j q u e r y " , " c o r e / t e m p l a t e s " , " c o r e / s t r " , " c o r e / l o g " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d , e , f , g ) { v a r   h = { t o u r I d : n u l l , c u r r e n t T o u r : n u l l , c o n t e x t : n u l l , i n i t : f u n c t i o n ( a , b , d ) { h . t o u r I d = a , h . c o n t e x t = d , " u n d e f i n e d " = = t y p e o f   b & & ( b = ! 0 ) , b & & h . f e t c h T o u r ( a ) , h . a d d R e s e t L i n k ( ) , c ( " b o d y " ) . o n ( " c l i c k " , ' [ d a t a - a c t i o n = " t o o l _ u s e r t o u r s / r e s e t p a g e t o u r " ] ' , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , h . r e s e t T o u r S t a t e ( h . t o u r I d ) } ) } , f e t c h T o u r : f u n c t i o n ( b ) { M . u t i l . j s _ p e n d i n g ( " a d m i n _ u s e r t o u r _ f e t c h T o u r " + b ) , c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ f e t c h _ a n d _ s t a r t _ t o u r " , a r g s : { t o u r i d : b , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f } } ] ) [ 0 ] , d . r e n d e r ( " t o o l _ u s e r t o u r s / t o u r s t e p " , { } ) ) . t h e n ( f u n c t i o n ( a , c ) { r e t u r n   h . s t a r t B o o t s t r a p T o u r ( b , c [ 0 ] , a . t o u r c o n f i g ) } ) . a l w a y s ( f u n c t i o n ( ) { M . u t i l . j s _ c o m p l e t e ( " a d m i n _ u s e r t o u r _ f e t c h T o u r " + b ) } ) . f a i l ( g . e x c e p t i o n ) } , a d d R e s e t L i n k : f u n c t i o n ( ) { v a r   a ; M . u t i l . j s _ p e n d i n g ( " a d m i n _ u s e r t o u r _ a d d R e s e t L i n k " ) , a = c ( c ( " . t o o l _ u s e r t o u r s - r e s e t t o u r c o n t a i n e r " ) . l e n g t h ? " . t o o l _ u s e r t o u r s - r e s e t t o u r c o n t a i n e r " : c ( " . l o g i n i n f o " ) . l e n g t h ? " . l o g i n i n f o " : c ( " f o o t e r " ) . l e n g t h ? " f o o t e r " : " b o d y " ) , d . r e n d e r ( " t o o l _ u s e r t o u r s / r e s e t t o u r " , { } ) . t h e n ( f u n c t i o n ( b , c ) { d . a p p e n d N o d e C o n t e n t s ( a , b , c ) } ) . a l w a y s ( f u n c t i o n ( ) { M . u t i l . j s _ c o m p l e t e ( " a d m i n _ u s e r t o u r _ a d d R e s e t L i n k " ) } ) . f a i l ( ) } , s t a r t B o o t s t r a p T o u r : f u n c t i o n ( a , c , d ) { r e t u r n   h . c u r r e n t T o u r & & ( d . o n E n d = n u l l , h . c u r r e n t T o u r . e n d T o u r ( ) , d e l e t e   h . c u r r e n t T o u r ) , d . e v e n t H a n d l e r s = { a f t e r E n d : [ h . m a r k T o u r C o m p l e t e ] , a f t e r R e n d e r : [ h . m a r k S t e p S h o w n ] } , d . t o u r N a m e = d . n a m e , d e l e t e   d . n a m e , d . t e m p l a t e = c , d . s t e p s = d . s t e p s . m a p ( f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   a . e l e m e n t & & ( a . t a r g e t = a . e l e m e n t , d e l e t e   a . e l e m e n t ) , " u n d e f i n e d " ! = t y p e o f   a . r e f l e x & & ( a . m o v e O n C l i c k = ! ! a . r e f l e x , d e l e t e   a . r e f l e x ) , " u n d e f i n e d " ! = t y p e o f   a . c o n t e n t & & ( a . b o d y = a . c o n t e n t , d e l e t e   a . c o n t e n t ) , a } ) , h . c u r r e n t T o u r = n e w   b ( d ) , h . c u r r e n t T o u r . s t a r t T o u r ( ) } , m a r k S t e p S h o w n : f u n c t i o n ( ) { v a r   b = t h i s . g e t S t e p C o n f i g ( t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ s t e p _ s h o w n " , a r g s : { t o u r i d : h . t o u r I d , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f , s t e p i d : b . s t e p i d , s t e p i n d e x : t h i s . g e t C u r r e n t S t e p N u m b e r ( ) } } ] ) [ 0 ] ) . f a i l ( f . e r r o r ) } , m a r k T o u r C o m p l e t e : f u n c t i o n ( ) { v a r   b = t h i s . g e t S t e p C o n f i g ( t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ c o m p l e t e _ t o u r " , a r g s : { t o u r i d : h . t o u r I d , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f , s t e p i d : b . s t e p i d , s t e p i n d e x : t h i s . g e t C u r r e n t S t e p N u m b e r ( ) } } ] ) [ 0 ] ) . f a i l ( f . e r r o r ) } , r e s e t T o u r S t a t e : f u n c t i o n ( b ) { c . w h e n ( a . c a l l ( [ { m e t h o d n a m e : " t o o l _ u s e r t o u r s _ r e s e t _ t o u r " , a r g s : { t o u r i d : b , c o n t e x t : h . c o n t e x t , p a g e u r l : w i n d o w . l o c a t i o n . h r e f } } ] ) [ 0 ] ) . t h e n ( f u n c t i o n ( a ) { a . s t a r t T o u r & & h . f e t c h T o u r ( a . s t a r t T o u r ) } ) . f a i l ( g . e x c e p t i o n ) } } ; r e t u r n { i n i t : h . i n i t , r e s e t T o u r S t a t e : h . r e s e t T o u r S t a t e } } ) ; 
 d e f i n e ( ' t o o l _ u s e r t o u r s / m a n a g e t o u r s ' ,   [ " j q u e r y " , " c o r e / a j a x " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { v a r   e = { r e m o v e T o u r : f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( b . c u r r e n t T a r g e t ) . a t t r ( " h r e f " ) ; c . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m t o u r r e m o v a l t i t l e " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " c o n f i r m t o u r r e m o v a l q u e s t i o n " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . t h e n ( f u n c t i o n ( a ) { d . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n = e } ) } ) [ " c a t c h " ] ( ) } , s e t u p : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " d e l e t e " ] ' , " c l i c k " , e . r e m o v e T o u r ) } } ; r e t u r n { s e t u p : e . s e t u p } } ) ; 
 d e f i n e ( ' t o o l _ u s e r t o u r s / m a n a g e s t e p s ' ,   [ " j q u e r y " , " c o r e / s t r " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c ) { v a r   d = { r e m o v e S t e p : f u n c t i o n ( d ) { d . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( d . c u r r e n t T a r g e t ) . a t t r ( " h r e f " ) ; b . g e t _ s t r i n g s ( [ { k e y : " c o n f i r m s t e p r e m o v a l t i t l e " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " c o n f i r m s t e p r e m o v a l q u e s t i o n " , c o m p o n e n t : " t o o l _ u s e r t o u r s " } , { k e y : " y e s " , c o m p o n e n t : " m o o d l e " } , { k e y : " n o " , c o m p o n e n t : " m o o d l e " } ] ) . t h e n ( f u n c t i o n ( a ) { c . c o n f i r m ( a [ 0 ] , a [ 1 ] , a [ 2 ] , a [ 3 ] , f u n c t i o n ( ) { w i n d o w . l o c a t i o n = e } ) } ) [ " c a t c h " ] ( ) } , s e t u p : f u n c t i o n ( ) { a ( " b o d y " ) . d e l e g a t e ( ' [ d a t a - a c t i o n = " d e l e t e " ] ' , " c l i c k " , d . r e m o v e S t e p ) } } ; r e t u r n { s e t u p : d . s e t u p } } ) ; 
 ! f u n c t i o n ( a , b ) { " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' t o o l _ u s e r t o u r s / t o u r ' ,   [ " j q u e r y " , " c o r e / p o p p e r " ] , f u n c t i o n ( c , d ) { r e t u r n   a . T o u r = b ( c , d ) } ) : " o b j e c t " = = t y p e o f   m o d u l e & & m o d u l e . e x p o r t s ? m o d u l e . e x p o r t s = b ( r e q u i r e ( " j q u e r y " ) , r e q u i r e ( " p o p p e r . j s " ) ) : a . T o u r = b ( a . $ , a . P o p p e r ) } ( t h i s , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { t h i s . i n i t ( a ) } v a r   d = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ; r e t u r n   c . p r o t o t y p e . t o u r N a m e , c . p r o t o t y p e . s t o r a g e K e y , c . p r o t o t y p e . s t o r a g e , c . p r o t o t y p e . o r i g i n a l C o n f i g u r a t i o n , c . p r o t o t y p e . l i s t e n e r s , c . p r o t o t y p e . e v e n t H a n d l e r s , c . p r o t o t y p e . s t e p s , c . p r o t o t y p e . c u r r e n t S t e p N o d e , c . p r o t o t y p e . c u r r e n t S t e p N u m b e r , c . p r o t o t y p e . c u r r e n t S t e p P o p p e r , c . p r o t o t y p e . c u r r e n t S t e p C o n f i g , c . p r o t o t y p e . t e m p l a t e C o n t e n t , c . p r o t o t y p e . i n i t = f u n c t i o n ( a ) { t h i s . e v e n t H a n d l e r s = { } , t h i s . r e s e t ( ) , t h i s . o r i g i n a l C o n f i g u r a t i o n = a | | { } , t h i s . c o n f i g u r e . a p p l y ( t h i s , a r g u m e n t s ) ; t r y { t h i s . s t o r a g e = w i n d o w . s e s s i o n S t o r a g e , t h i s . s t o r a g e K e y = " t o u r s t a t e _ " + t h i s . t o u r N a m e } c a t c h ( b ) { t h i s . s t o r a g e = ! 1 , t h i s . s t o r a g e K e y = " " } r e t u r n   t h i s } , c . p r o t o t y p e . r e s e t = f u n c t i o n ( ) { r e t u r n   t h i s . h i d e ( ) , t h i s . e v e n t H a n d l e r s = [ ] , t h i s . r e s e t S t e p L i s t e n e r s ( ) , t h i s . o r i g i n a l C o n f i g u r a t i o n = { } , t h i s . s t e p s = [ ] , t h i s . c u r r e n t S t e p N u m b e r = 0 , t h i s } , c . p r o t o t y p e . c o n f i g u r e = f u n c t i o n ( a ) { v a r   b = t h i s ; r e t u r n " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   a ? " u n d e f i n e d " : d ( a ) ) & & ( " u n d e f i n e d " ! = t y p e o f   a . t o u r N a m e & & ( t h i s . t o u r N a m e = a . t o u r N a m e ) , a . e v e n t H a n d l e r s & & ! f u n c t i o n ( ) { v a r   c = v o i d   0 ; f o r ( c   i n   a . e v e n t H a n d l e r s ) a . e v e n t H a n d l e r s [ c ] . f o r E a c h ( f u n c t i o n ( a ) { t h i s . a d d E v e n t H a n d l e r ( c , a ) } , b ) } ( ) , t h i s . r e s e t S t e p D e f a u l t s ( ! 0 ) , " o b j e c t " = = = d ( a . s t e p s ) & & ( t h i s . s t e p s = a . s t e p s ) , " u n d e f i n e d " ! = t y p e o f   a . t e m p l a t e & & ( t h i s . t e m p l a t e C o n t e n t = a . t e m p l a t e ) ) , t h i s . c h e c k M i n i m u m R e q u i r e m e n t s ( ) , t h i s } , c . p r o t o t y p e . c h e c k M i n i m u m R e q u i r e m e n t s = f u n c t i o n ( ) { i f ( ! t h i s . t o u r N a m e ) t h r o w   n e w   E r r o r ( " T o u r   N a m e   r e q u i r e d " ) ; i f ( ! t h i s . s t e p s | | ! t h i s . s t e p s . l e n g t h ) t h r o w   n e w   E r r o r ( " S t e p s   m u s t   b e   s p e c i f i e d " ) } , c . p r o t o t y p e . r e s e t S t e p D e f a u l t s = f u n c t i o n ( a ) { r e t u r n " u n d e f i n e d " = = t y p e o f   a & & ( a = ! 0 ) , t h i s . s t e p D e f a u l t s = { } , a & & " u n d e f i n e d " ! = t y p e o f   t h i s . o r i g i n a l C o n f i g u r a t i o n . s t e p D e f a u l t s ? t h i s . s e t S t e p D e f a u l t s ( t h i s . o r i g i n a l C o n f i g u r a t i o n . s t e p D e f a u l t s ) : t h i s . s e t S t e p D e f a u l t s ( { } ) , t h i s } , c . p r o t o t y p e . s e t S t e p D e f a u l t s = f u n c t i o n ( b ) { r e t u r n   t h i s . s t e p D e f a u l t s | | ( t h i s . s t e p D e f a u l t s = { } ) , a . e x t e n d ( t h i s . s t e p D e f a u l t s , { e l e m e n t : " " , p l a c e m e n t : " t o p " , d e l a y : 0 , m o v e O n C l i c k : ! 1 , m o v e A f t e r T i m e : 0 , o r p h a n : ! 1 , d i r e c t i o n : 1 } , b ) , t h i s } , c . p r o t o t y p e . g e t C u r r e n t S t e p N u m b e r = f u n c t i o n ( ) { r e t u r n   p a r s e I n t ( t h i s . c u r r e n t S t e p N u m b e r , 1 0 ) } , c . p r o t o t y p e . s e t C u r r e n t S t e p N u m b e r = f u n c t i o n ( a ) { i f ( t h i s . c u r r e n t S t e p N u m b e r = a , t h i s . s t o r a g e ) t r y { t h i s . s t o r a g e . s e t I t e m ( t h i s . s t o r a g e K e y , a ) } c a t c h ( b ) { b . c o d e = = = D O M E x c e p t i o n . Q U O T A _ E X C E E D E D _ E R R & & t h i s . s t o r a g e . r e m o v e I t e m ( t h i s . s t o r a g e K e y ) } } , c . p r o t o t y p e . g e t N e x t S t e p N u m b e r = f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a & & ( a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; f o r ( v a r   b = a + 1 ; b < = t h i s . s t e p s . l e n g t h ; ) { i f ( t h i s . i s S t e p P o t e n t i a l l y V i s i b l e ( t h i s . g e t S t e p C o n f i g ( b ) ) ) r e t u r n   b ; b + + } r e t u r n   n u l l } , c . p r o t o t y p e . g e t P r e v i o u s S t e p N u m b e r = f u n c t i o n ( a ) { " u n d e f i n e d " = = t y p e o f   a & & ( a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) ; f o r ( v a r   b = a - 1 ; b > = 0 ; ) { i f ( t h i s . i s S t e p P o t e n t i a l l y V i s i b l e ( t h i s . g e t S t e p C o n f i g ( b ) ) ) r e t u r n   b ; b - - } r e t u r n   n u l l } , c . p r o t o t y p e . i s L a s t S t e p = f u n c t i o n ( a ) { v a r   b = t h i s . g e t N e x t S t e p N u m b e r ( a ) ; r e t u r n   n u l l = = = b } , c . p r o t o t y p e . i s F i r s t S t e p = f u n c t i o n ( a ) { v a r   b = t h i s . g e t P r e v i o u s S t e p N u m b e r ( a ) ; r e t u r n   n u l l = = = b } , c . p r o t o t y p e . i s S t e p P o t e n t i a l l y V i s i b l e = f u n c t i o n ( a ) { r e t u r n ! ! a & & ( ! ! t h i s . i s S t e p A c t u a l l y V i s i b l e ( a ) | | ( ! ( " u n d e f i n e d " = = t y p e o f   a . o r p h a n | | ! a . o r p h a n ) | | ! ( " u n d e f i n e d " = = t y p e o f   a . d e l a y | | ! a . d e l a y ) ) ) } , c . p r o t o t y p e . i s S t e p A c t u a l l y V i s i b l e = f u n c t i o n ( a ) { i f ( ! a ) r e t u r n ! 1 ; v a r   b = t h i s . g e t S t e p T a r g e t ( a ) ; r e t u r n ! ! ( b & & b . l e n g t h & & b . i s ( " : v i s i b l e " ) ) & & ! ! b . l e n g t h } , c . p r o t o t y p e . n e x t = f u n c t i o n ( ) { r e t u r n   t h i s . g o t o S t e p ( t h i s . g e t N e x t S t e p N u m b e r ( ) ) } , c . p r o t o t y p e . p r e v i o u s = f u n c t i o n ( ) { r e t u r n   t h i s . g o t o S t e p ( t h i s . g e t P r e v i o u s S t e p N u m b e r ( ) , - 1 ) } , c . p r o t o t y p e . g o t o S t e p = f u n c t i o n ( a , b ) { i f ( a < 0 ) r e t u r n   t h i s . e n d T o u r ( ) ; v a r   c = t h i s . g e t S t e p C o n f i g ( a ) ; r e t u r n   n u l l = = = c ? t h i s . e n d T o u r ( ) : t h i s . _ g o t o S t e p ( c , b ) } , c . p r o t o t y p e . _ g o t o S t e p = f u n c t i o n ( a , b ) { i f ( ! a ) r e t u r n   t h i s . e n d T o u r ( ) ; i f ( " u n d e f i n e d " ! = t y p e o f   a . d e l a y & & a . d e l a y & & ! a . d e l a y e d ) r e t u r n   a . d e l a y e d = ! 0 , w i n d o w . s e t T i m e o u t ( t h i s . _ g o t o S t e p . b i n d ( t h i s ) , a . d e l a y , a , b ) , t h i s ; i f ( ! a . o r p h a n & & ! t h i s . i s S t e p A c t u a l l y V i s i b l e ( a ) ) { v a r   c = b = = - 1 ? " g e t P r e v i o u s S t e p N u m b e r " : " g e t N e x t S t e p N u m b e r " ; r e t u r n   t h i s . g o t o S t e p ( t h i s [ c ] ( a . s t e p N u m b e r ) , b ) } r e t u r n   t h i s . h i d e ( ) , t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e R e n d e r " , a ) , t h i s . r e n d e r S t e p ( a ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r R e n d e r " , a ) , t h i s } , c . p r o t o t y p e . g e t S t e p C o n f i g = f u n c t i o n ( b ) { i f ( n u l l = = = b | | b < 0 | | b > = t h i s . s t e p s . l e n g t h ) r e t u r n   n u l l ; v a r   c = t h i s . n o r m a l i z e S t e p C o n f i g ( t h i s . s t e p s [ b ] ) ; r e t u r n   c = a . e x t e n d ( c , { s t e p N u m b e r : b } ) } , c . p r o t o t y p e . n o r m a l i z e S t e p C o n f i g = f u n c t i o n ( b ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   b . r e f l e x & & " u n d e f i n e d " = = t y p e o f   b . m o v e A f t e r C l i c k & & ( b . m o v e A f t e r C l i c k = b . r e f l e x ) , " u n d e f i n e d " ! = t y p e o f   b . e l e m e n t & & " u n d e f i n e d " = = t y p e o f   b . t a r g e t & & ( b . t a r g e t = b . e l e m e n t ) , " u n d e f i n e d " ! = t y p e o f   b . c o n t e n t & & " u n d e f i n e d " = = t y p e o f   b . b o d y & & ( b . b o d y = b . c o n t e n t ) , b = a . e x t e n d ( { } , t h i s . s t e p D e f a u l t s , b ) , b = a . e x t e n d ( { } , { a t t a c h T o : b . t a r g e t , a t t a c h P o i n t : " a f t e r " } , b ) , b . a t t a c h T o & & ( b . a t t a c h T o = a ( b . a t t a c h T o ) . f i r s t ( ) ) , b } , c . p r o t o t y p e . g e t S t e p T a r g e t = f u n c t i o n ( b ) { r e t u r n   b . t a r g e t ? a ( b . t a r g e t ) : n u l l } , c . p r o t o t y p e . f i r e E v e n t H a n d l e r s = f u n c t i o n ( a , b ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . e v e n t H a n d l e r s [ a ] ? t h i s : ( t h i s . e v e n t H a n d l e r s [ a ] . f o r E a c h ( f u n c t i o n ( a ) { a . c a l l ( t h i s , b ) } , t h i s ) , t h i s ) } , c . p r o t o t y p e . a d d E v e n t H a n d l e r = f u n c t i o n ( a , b ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . e v e n t H a n d l e r s [ a ] & & ( t h i s . e v e n t H a n d l e r s [ a ] = [ ] ) , t h i s . e v e n t H a n d l e r s [ a ] . p u s h ( b ) , t h i s } , c . p r o t o t y p e . p r o c e s s S t e p L i s t e n e r s = f u n c t i o n ( b ) { i f ( t h i s . l i s t e n e r s . p u s h ( { n o d e : t h i s . c u r r e n t S t e p N o d e , a r g s : [ " c l i c k " , ' [ d a t a - r o l e = " n e x t " ] ' , a . p r o x y ( t h i s . n e x t , t h i s ) ] } , { n o d e : t h i s . c u r r e n t S t e p N o d e , a r g s : [ " c l i c k " , ' [ d a t a - r o l e = " p r e v i o u s " ] ' , a . p r o x y ( t h i s . p r e v i o u s , t h i s ) ] } , { n o d e : t h i s . c u r r e n t S t e p N o d e , a r g s : [ " c l i c k " , ' [ d a t a - r o l e = " e n d " ] ' , a . p r o x y ( t h i s . e n d T o u r , t h i s ) ] } , { n o d e : a ( ' [ d a t a - f l e x i t o u r = " b a c k d r o p " ] ' ) , a r g s : [ " c l i c k " , a . p r o x y ( t h i s . h i d e , t h i s ) ] } , { n o d e : a ( " b o d y " ) , a r g s : [ " k e y d o w n " , a . p r o x y ( t h i s . h a n d l e K e y D o w n , t h i s ) ] } ) , b . m o v e O n C l i c k ) { v a r   c = t h i s . g e t S t e p T a r g e t ( b ) ; t h i s . l i s t e n e r s . p u s h ( { n o d e : c , a r g s : [ " c l i c k " , a . p r o x y ( f u n c t i o n ( b ) { 0 = = = a ( b . t a r g e t ) . p a r e n t s ( ' [ d a t a - f l e x i t o u r = " c o n t a i n e r " ] ' ) . l e n g t h & & w i n d o w . s e t T i m e o u t ( a . p r o x y ( t h i s . n e x t , t h i s ) , 5 0 0 ) } , t h i s ) ] } ) } r e t u r n   t h i s . l i s t e n e r s . f o r E a c h ( f u n c t i o n ( a ) { a . n o d e . o n . a p p l y ( a . n o d e , a . a r g s ) } ) , t h i s } , c . p r o t o t y p e . r e s e t S t e p L i s t e n e r s = f u n c t i o n ( ) { r e t u r n   t h i s . l i s t e n e r s & & t h i s . l i s t e n e r s . f o r E a c h ( f u n c t i o n ( a ) { a . n o d e . o f f . a p p l y ( a . n o d e , a . a r g s ) } ) , t h i s . l i s t e n e r s = [ ] , t h i s } , c . p r o t o t y p e . r e n d e r S t e p = f u n c t i o n ( b ) { t h i s . c u r r e n t S t e p C o n f i g = b , t h i s . s e t C u r r e n t S t e p N u m b e r ( b . s t e p N u m b e r ) ; v a r   c = a ( t h i s . g e t T e m p l a t e C o n t e n t ( ) ) ; r e t u r n   c . f i n d ( ' [ d a t a - p l a c e h o l d e r = " t i t l e " ] ' ) . h t m l ( b . t i t l e ) , c . f i n d ( ' [ d a t a - p l a c e h o l d e r = " b o d y " ] ' ) . h t m l ( b . b o d y ) , t h i s . i s F i r s t S t e p ( b . s t e p N u m b e r ) ? c . f i n d ( ' [ d a t a - r o l e = " p r e v i o u s " ] ' ) . p r o p ( " d i s a b l e d " , ! 0 ) : c . f i n d ( ' [ d a t a - r o l e = " p r e v i o u s " ] ' ) . p r o p ( " d i s a b l e d " , ! 1 ) , t h i s . i s L a s t S t e p ( b . s t e p N u m b e r ) ? c . f i n d ( ' [ d a t a - r o l e = " n e x t " ] ' ) . p r o p ( " d i s a b l e d " , ! 0 ) : c . f i n d ( ' [ d a t a - r o l e = " n e x t " ] ' ) . p r o p ( " d i s a b l e d " , ! 1 ) , c . f i n d ( ' [ d a t a - r o l e = " p r e v i o u s " ] ' ) . a t t r ( " r o l e " , " b u t t o n " ) , c . f i n d ( ' [ d a t a - r o l e = " n e x t " ] ' ) . a t t r ( " r o l e " , " b u t t o n " ) , c . f i n d ( ' [ d a t a - r o l e = " e n d " ] ' ) . a t t r ( " r o l e " , " b u t t o n " ) , b . t e m p l a t e = c , t h i s . a d d S t e p T o P a g e ( b ) , t h i s . p r o c e s s S t e p L i s t e n e r s ( b ) , t h i s } , c . p r o t o t y p e . g e t T e m p l a t e C o n t e n t = f u n c t i o n ( ) { r e t u r n   a ( t h i s . t e m p l a t e C o n t e n t ) . c l o n e ( ) } , c . p r o t o t y p e . a d d S t e p T o P a g e = f u n c t i o n ( c ) { v a r   d = ( c . t e m p l a t e , a ( ' < s p a n   d a t a - f l e x i t o u r = " c o n t a i n e r " > < / s p a n > ' ) . h t m l ( c . t e m p l a t e ) . h i d e ( ) ) , e = a ( " b o d y ,   h t m l " ) . s t o p ( ! 0 , ! 0 ) ; i f ( t h i s . i s S t e p A c t u a l l y V i s i b l e ( c ) ) { v a r   f = t h i s . g e t S t e p T a r g e t ( c ) ; f . d a t a ( " f l e x i t o u r " , " t a r g e t " ) ; v a r   g = t h i s . c a l c u l a t e Z I n d e x ( f ) ; g & & ( c . z I n d e x = g + 1 ) , c . z I n d e x & & d . c s s ( " z I n d e x " , c . z I n d e x + 1 ) , t h i s . p o s i t i o n B a c k d r o p ( c ) , a ( d o c u m e n t . b o d y ) . a p p e n d ( d ) , t h i s . c u r r e n t S t e p N o d e = d , t h i s . c u r r e n t S t e p N o d e . c s s ( { t o p : 0 , l e f t : 0 } ) , e . a n i m a t e ( { s c r o l l T o p : t h i s . c a l c u l a t e S c r o l l T o p ( c ) } ) . p r o m i s e ( ) . t h e n ( f u n c t i o n ( ) { t h i s . p o s i t i o n S t e p ( c ) , t h i s . r e v e a l S t e p ( c ) } . b i n d ( t h i s ) ) } e l s e   c . o r p h a n & & ( c . i s O r p h a n = ! 0 , c . a t t a c h T o = a ( " b o d y " ) . f i r s t ( ) , c . a t t a c h P o i n t = " a p p e n d " , t h i s . p o s i t i o n B a c k d r o p ( c ) , d . a d d C l a s s ( " o r p h a n " ) , a ( d o c u m e n t . b o d y ) . a p p e n d ( d ) , t h i s . c u r r e n t S t e p N o d e = d , t h i s . c u r r e n t S t e p N o d e . o f f s e t ( t h i s . c a l c u l a t e S t e p P o s i t i o n I n P a g e ( ) ) , t h i s . c u r r e n t S t e p N o d e . c s s ( " p o s i t i o n " , " f i x e d " ) , t h i s . c u r r e n t S t e p P o p p e r = n e w   b ( a ( " b o d y " ) , t h i s . c u r r e n t S t e p N o d e [ 0 ] , { r e m o v e O n D e s t r o y : ! 0 , p l a c e m e n t : c . p l a c e m e n t + " - s t a r t " , a r r o w E l e m e n t : ' [ d a t a - r o l e = " a r r o w " ] ' , m o d i f i e r s : { h i d e : { e n a b l e d : ! 1 } , a p p l y S t y l e : { o n L o a d : n u l l , e n a b l e d : ! 1 } } } ) , t h i s . r e v e a l S t e p ( c ) ) ; r e t u r n   t h i s } , c . p r o t o t y p e . r e v e a l S t e p = f u n c t i o n ( b ) { r e t u r n   t h i s . c u r r e n t S t e p N o d e . f a d e I n ( " " , a . p r o x y ( f u n c t i o n ( ) { t h i s . a n n o u n c e S t e p ( b ) , t h i s . c u r r e n t S t e p N o d e . f o c u s ( ) , w i n d o w . s e t T i m e o u t ( a . p r o x y ( f u n c t i o n ( ) { t h i s . c u r r e n t S t e p N o d e & & t h i s . c u r r e n t S t e p N o d e . f o c u s ( ) } , t h i s ) , 1 0 0 ) } , t h i s ) ) , t h i s } , c . p r o t o t y p e . a n n o u n c e S t e p = f u n c t i o n ( a ) { v a r   b = " t o u r - s t e p - " + t h i s . t o u r N a m e + " - " + a . s t e p N u m b e r ; t h i s . c u r r e n t S t e p N o d e . a t t r ( " i d " , b ) ; v a r   c = t h i s . c u r r e n t S t e p N o d e . f i n d ( ' [ d a t a - p l a c e h o l d e r = " b o d y " ] ' ) . f i r s t ( ) ; c . a t t r ( " i d " , b + " - b o d y " ) , c . a t t r ( " r o l e " , " d o c u m e n t " ) ; v a r   d = t h i s . c u r r e n t S t e p N o d e . f i n d ( ' [ d a t a - p l a c e h o l d e r = " t i t l e " ] ' ) . f i r s t ( ) ; d . a t t r ( " i d " , b + " - t i t l e " ) , d . a t t r ( " a r i a - l a b e l l e d b y " , b + " - b o d y " ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " r o l e " , " d i a l o g " ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " t a b i n d e x " , 0 ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " a r i a - l a b e l l e d b y " , b + " - t i t l e " ) , t h i s . c u r r e n t S t e p N o d e . a t t r ( " a r i a - d e s c r i b e d b y " , b + " - b o d y " ) ; v a r   e = t h i s . g e t S t e p T a r g e t ( a ) ; r e t u r n   e & & ( e . a t t r ( " t a b i n d e x " ) | | e . a t t r ( " t a b i n d e x " , 0 ) , e . d a t a ( " o r i g i n a l - d e s c r i b e d b y " , e . a t t r ( " a r i a - d e s c r i b e d b y " ) ) . a t t r ( " a r i a - d e s c r i b e d b y " , b + " - b o d y " ) ) , t h i s . a c c e s s i b i l i t y S h o w ( a ) , t h i s } , c . p r o t o t y p e . h a n d l e K e y D o w n = f u n c t i o n ( b ) { v a r   c = " a [ h r e f ] ,   l i n k [ h r e f ] ,   [ d r a g g a b l e = t r u e ] ,   [ c o n t e n t e d i t a b l e = t r u e ] ,   : i n p u t : e n a b l e d ,   [ t a b i n d e x ] ,   b u t t o n : e n a b l e d " ; s w i t c h ( b . k e y C o d e ) { c a s e   2 7 : t h i s . e n d T o u r ( ) ; b r e a k ; c a s e   9 : ( f u n c t i o n ( ) { i f ( t h i s . c u r r e n t S t e p C o n f i g . h a s B a c k d r o p ) { v a r   d = a ( d o c u m e n t . a c t i v e E l e m e n t ) , e = t h i s . g e t S t e p T a r g e t ( t h i s . c u r r e n t S t e p C o n f i g ) , f = a ( c ) , g = a ( ' s p a n [ d a t a - f l e x i t o u r = " c o n t a i n e r " ] ' ) , h = v o i d   0 ; e & & ( f = f . f i l t e r ( f u n c t i o n ( a , b ) { r e t u r n   n u l l ! = e & & ( e . h a s ( b ) . l e n g t h | | g . h a s ( b ) . l e n g t h | | e . i s ( b ) | | g . i s ( b ) ) } ) ) , f . e a c h ( f u n c t i o n ( a , b ) { i f ( d . i s ( b ) ) r e t u r n   h = a , ! 1 } ) ; v a r   i = v o i d   0 , j = v o i d   0 , k = v o i d   0 ; i f ( v o i d   0 ! = h ) { v a r   l = 1 ; b . s h i f t K e y & & ( l = - 1 ) , i = h ; d o   i + = l , j = a ( f [ i ] ) ; w h i l e ( j . l e n g t h & & j . i s ( " : d i s a b l e d " ) | | j . i s ( " : h i d d e n " ) ) ; j . l e n g t h ? ( k = j . c l o s e s t ( e ) . l e n g t h , k = k | | j . c l o s e s t ( t h i s . c u r r e n t S t e p N o d e ) . l e n g t h ) : k = ! 1 } k ? j . f o c u s ( ) : b . s h i f t K e y ? t h i s . c u r r e n t S t e p N o d e . f i n d ( c ) . l a s t ( ) . f o c u s ( ) : t h i s . c u r r e n t S t e p C o n f i g . i s O r p h a n ? t h i s . c u r r e n t S t e p N o d e . f o c u s ( ) : e . f o c u s ( ) , b . p r e v e n t D e f a u l t ( ) } } ) . c a l l ( t h i s ) } } , c . p r o t o t y p e . s t a r t T o u r = f u n c t i o n ( a ) { i f ( t h i s . s t o r a g e & & " u n d e f i n e d " = = t y p e o f   a ) { v a r   b = t h i s . s t o r a g e . g e t I t e m ( t h i s . s t o r a g e K e y ) ; i f ( b ) { v a r   c = p a r s e I n t ( b , 1 0 ) ; c < = t h i s . s t e p s . l e n g t h & & ( a = c ) } } r e t u r n " u n d e f i n e d " = = t y p e o f   a & & ( a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ) , t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e S t a r t " , a ) , t h i s . g o t o S t e p ( a ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r S t a r t " , a ) , t h i s } , c . p r o t o t y p e . r e s t a r t T o u r = f u n c t i o n ( ) { r e t u r n   t h i s . s t a r t T o u r ( 0 ) } , c . p r o t o t y p e . e n d T o u r = f u n c t i o n ( ) { i f ( t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e E n d " ) , t h i s . c u r r e n t S t e p C o n f i g ) { v a r   a = t h i s . g e t S t e p T a r g e t ( t h i s . c u r r e n t S t e p C o n f i g ) ; a & & ( a . a t t r ( " t a b i n d e x " ) | | a . a t t r ( " t a b i n d e x " , " - 1 " ) , a . f o c u s ( ) ) } r e t u r n   t h i s . h i d e ( ! 0 ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r E n d " ) , t h i s } , c . p r o t o t y p e . h i d e = f u n c t i o n ( b ) { i f ( t h i s . f i r e E v e n t H a n d l e r s ( " b e f o r e H i d e " ) , t h i s . c u r r e n t S t e p N o d e & & t h i s . c u r r e n t S t e p N o d e . l e n g t h & & ( t h i s . c u r r e n t S t e p N o d e . h i d e ( ) , t h i s . c u r r e n t S t e p P o p p e r & & t h i s . c u r r e n t S t e p P o p p e r . d e s t r o y ( ) ) , t h i s . c u r r e n t S t e p C o n f i g ) { v a r   c = t h i s . g e t S t e p T a r g e t ( t h i s . c u r r e n t S t e p C o n f i g ) ; c & & ( c . d a t a ( " o r i g i n a l - l a b e l l e d b y " ) & & c . a t t r ( " a r i a - l a b e l l e d b y " , c . d a t a ( " o r i g i n a l - l a b e l l e d b y " ) ) , c . d a t a ( " o r i g i n a l - d e s c r i b e d b y " ) & & c . a t t r ( " a r i a - d e s c r i b e d b y " , c . d a t a ( " o r i g i n a l - d e s c r i b e d b y " ) ) , c . d a t a ( " o r i g i n a l - t a b i n d e x " ) & & c . a t t r ( " t a b i n d e x " , c . d a t a ( " t a b i n d e x " ) ) ) , t h i s . c u r r e n t S t e p C o n f i g = n u l l } v a r   d = 0 ; i f ( b & & ( d = 4 0 0 ) , a ( ' [ d a t a - f l e x i t o u r = " s t e p - b a c k g r o u n d " ] ' ) . r e m o v e ( ) , a ( ' [ d a t a - f l e x i t o u r = " s t e p - b a c k d r o p " ] ' ) . r e m o v e A t t r ( " d a t a - f l e x i t o u r " ) , a ( ' [ d a t a - f l e x i t o u r = " b a c k d r o p " ] ' ) . f a d e O u t ( d , f u n c t i o n ( ) { a ( t h i s ) . r e m o v e ( ) } ) , t h i s . c u r r e n t S t e p N o d e & & t h i s . c u r r e n t S t e p N o d e . l e n g t h ) { v a r   e = t h i s . c u r r e n t S t e p N o d e . a t t r ( " i d " ) ; i f ( e ) { v a r   f = ' [ a r i a - d e s c r i b e d b y = " ' + e + ' - b o d y " ] ' ; a ( f ) . r e m o v e A t t r ( " t a b i n d e x " ) , a ( f ) . r e m o v e A t t r ( " a r i a - d e s c r i b e d b y " ) } } r e t u r n   t h i s . r e s e t S t e p L i s t e n e r s ( ) , t h i s . a c c e s s i b i l i t y H i d e ( ) , t h i s . f i r e E v e n t H a n d l e r s ( " a f t e r H i d e " ) , t h i s . c u r r e n t S t e p N o d e = n u l l , t h i s . c u r r e n t S t e p P o p p e r = n u l l , t h i s } , c . p r o t o t y p e . s h o w = f u n c t i o n ( ) { v a r   a = t h i s . g e t C u r r e n t S t e p N u m b e r ( ) ; r e t u r n   t h i s . g o t o S t e p ( a ) } , c . p r o t o t y p e . g e t S t e p C o n t a i n e r = f u n c t i o n ( ) { r e t u r n   a ( t h i s . c u r r e n t S t e p N o d e ) } , c . p r o t o t y p e . c a l c u l a t e S c r o l l T o p = f u n c t i o n ( b ) { v a r   c = a ( w i n d o w ) . s c r o l l T o p ( ) , d = a ( w i n d o w ) . h e i g h t ( ) , e = t h i s . g e t S t e p T a r g e t ( b ) ; r e t u r n   c = " t o p " = = = b . p l a c e m e n t ? e . o f f s e t ( ) . t o p - d / 2 : " b o t t o m " = = = b . p l a c e m e n t ? e . o f f s e t ( ) . t o p + e . h e i g h t ( ) - d / 2 : e . h e i g h t ( ) < = . 8 * d ? e . o f f s e t ( ) . t o p - ( d - e . h e i g h t ( ) ) / 2 : e . o f f s e t ( ) . t o p - . 2 * d , c = M a t h . m a x ( 0 , c ) , c = M a t h . m i n ( a ( d o c u m e n t ) . h e i g h t ( ) - d , c ) , M a t h . c e i l ( c ) } , c . p r o t o t y p e . c a l c u l a t e S t e p P o s i t i o n I n P a g e = f u n c t i o n ( ) { v a r   b = a ( w i n d o w ) . h e i g h t ( ) , c = t h i s . c u r r e n t S t e p N o d e . h e i g h t ( ) , d = a ( w i n d o w ) . w i d t h ( ) , e = t h i s . c u r r e n t S t e p N o d e . w i d t h ( ) ; r e t u r n { t o p : M a t h . c e i l ( ( b - c ) / 2 ) , l e f t : M a t h . c e i l ( ( d - e ) / 2 ) } } , c . p r o t o t y p e . p o s i t i o n S t e p = f u n c t i o n ( c ) { v a r   d = t h i s . c u r r e n t S t e p N o d e ; i f ( ! d | | ! d . l e n g t h ) r e t u r n   t h i s ; v a r   e = v o i d   0 ; s w i t c h ( c . p l a c e m e n t ) { c a s e " l e f t " : e = [ " l e f t " , " r i g h t " , " t o p " , " b o t t o m " ] ; b r e a k ; c a s e " r i g h t " : e = [ " r i g h t " , " l e f t " , " t o p " , " b o t t o m " ] ; b r e a k ; c a s e " t o p " : e = [ " t o p " , " b o t t o m " , " r i g h t " , " l e f t " ] ; b r e a k ; c a s e " b o t t o m " : e = [ " b o t t o m " , " t o p " , " r i g h t " , " l e f t " ] ; b r e a k ; d e f a u l t : e = " f l i p " } v a r   f = t h i s . g e t S t e p T a r g e t ( c ) , g = { p l a c e m e n t : c . p l a c e m e n t + " - s t a r t " , r e m o v e O n D e s t r o y : ! 0 , m o d i f i e r s : { f l i p : { b e h a v i o u r : e } , a r r o w : { e l e m e n t : ' [ d a t a - r o l e = " a r r o w " ] ' } } , o n C r e a t e : f u n c t i o n ( a ) { h ( a ) } , o n U p d a t e : f u n c t i o n ( a ) { h ( a ) } } , h = f u n c t i o n ( b ) { v a r   c = b . p l a c e m e n t . s p l i t ( " - " ) [ 0 ] , d = [ " l e f t " , " r i g h t " ] . i n d e x O f ( c ) ! = = - 1 , e = b . i n s t a n c e . p o p p e r . q u e r y S e l e c t o r ( ' [ d a t a - r o l e = " a r r o w " ] ' ) , f = a ( b . i n s t a n c e . p o p p e r . q u e r y S e l e c t o r ( ' [ d a t a - r o l e = " f l e x i t o u r - s t e p " ] ' ) ) ; i f ( d ) { v a r   g = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( e ) . h e i g h t ) , h = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( e ) . t o p ) , i = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( b . i n s t a n c e . p o p p e r ) . h e i g h t ) , j = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( b . i n s t a n c e . p o p p e r ) . t o p ) , k = p a r s e F l o a t ( f . c s s ( " b o r d e r T o p W i d t h " ) ) , l = 2 * p a r s e F l o a t ( f . c s s ( " b o r d e r T o p L e f t R a d i u s " ) ) , m = h + g / 2 , n = i + j - k - l , o = j + k + l ; i f ( m > = n | | m < = o ) { v a r   p = 0 ; p = m > i / 2 ? n - g : o + g , a ( e ) . c s s ( " t o p " , p ) } } e l s e { v a r   q = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( e ) . w i d t h ) , r = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( e ) . l e f t ) , s = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( b . i n s t a n c e . p o p p e r ) . w i d t h ) , t = p a r s e F l o a t ( w i n d o w . g e t C o m p u t e d S t y l e ( b . i n s t a n c e . p o p p e r ) . l e f t ) , u = p a r s e F l o a t ( f . c s s ( " b o r d e r T o p W i d t h " ) ) , v = 2 * p a r s e F l o a t ( f . c s s ( " b o r d e r T o p L e f t R a d i u s " ) ) , w = r + q / 2 , x = s + t - u - v , y = t + u + v ; i f ( w > = x | | w < = y ) { v a r   z = 0 ; z = w > s / 2 ? x - q : y + q , a ( e ) . c s s ( " l e f t " , z ) } } } , i = a ( ' [ d a t a - f l e x i t o u r = " s t e p - b a c k g r o u n d " ] ' ) ; r e t u r n   i . l e n g t h & & ( f = i ) , t h i s . c u r r e n t S t e p P o p p e r = n e w   b ( f , d [ 0 ] , g ) , t h i s } , c . p r o t o t y p e . p o s i t i o n B a c k d r o p = f u n c t i o n ( b ) { i f ( b . b a c k d r o p ) { t h i s . c u r r e n t S t e p C o n f i g . h a s B a c k d r o p = ! 0 ; v a r   c = a ( ' < d i v   d a t a - f l e x i t o u r = " b a c k d r o p " > < / d i v > ' ) ; i f ( b . z I n d e x ? " a p p e n d " = = = b . a t t a c h P o i n t ? b . a t t a c h T o . a p p e n d ( c ) : c . i n s e r t A f t e r ( b . a t t a c h T o ) : a ( " b o d y " ) . a p p e n d ( c ) , t h i s . i s S t e p A c t u a l l y V i s i b l e ( b ) ) { v a r   d = a ( ' < d i v   d a t a - f l e x i t o u r = " s t e p - b a c k g r o u n d " > < / d i v > ' ) , e = t h i s . g e t S t e p T a r g e t ( b ) , f = 1 0 , g = e ; f & & ( g = a ( " b o d y " ) ) , d . c s s ( { w i d t h : e . o u t e r W i d t h ( ) + f + f , h e i g h t : e . o u t e r H e i g h t ( ) + f + f , l e f t : e . o f f s e t ( ) . l e f t - f , t o p : e . o f f s e t ( ) . t o p - f , b a c k g r o u n d C o l o r : t h i s . c a l c u l a t e I n h e r i t t e d B a c k g r o u n d C o l o r ( g ) } ) , e . o f f s e t ( ) . l e f t < f & & d . c s s ( { w i d t h : e . o u t e r W i d t h ( ) + e . o f f s e t ( ) . l e f t + f , l e f t : e . o f f s e t ( ) . l e f t } ) , e . o f f s e t ( ) . t o p < f & & d . c s s ( { h e i g h t : e . o u t e r H e i g h t ( ) + e . o f f s e t ( ) . t o p + f , t o p : e . o f f s e t ( ) . t o p } ) ; v a r   h = e . c s s ( " b o r d e r R a d i u s " ) ; h & & h ! = = a ( " b o d y " ) . c s s ( " b o r d e r R a d i u s " ) & & d . c s s ( " b o r d e r R a d i u s " , h ) ; v a r   i = t h i s . c a l c u l a t e P o s i t i o n ( e ) ; " f i x e d " = = = i ? d . c s s ( " t o p " , 0 ) : " a b s o l u t e " = = = i & & d . c s s ( " p o s i t i o n " , " f i x e d " ) ; v a r   j = d . c l o n e ( ) ; j . c s s ( { b a c k g r o u n d C o l o r : c . c s s ( " b a c k g r o u n d C o l o r " ) , o p a c i t y : c . c s s ( " o p a c i t y " ) } ) , j . a t t r ( " d a t a - f l e x i t o u r " , " s t e p - b a c k g r o u n d - f a d e r " ) , b . z I n d e x ? " a p p e n d " = = = b . a t t a c h P o i n t ? b . a t t a c h T o . a p p e n d ( d ) : ( j . i n s e r t A f t e r ( b . a t t a c h T o ) , d . i n s e r t A f t e r ( b . a t t a c h T o ) ) : ( a ( " b o d y " ) . a p p e n d ( j ) , a ( " b o d y " ) . a p p e n d ( d ) ) , e . a t t r ( " d a t a - f l e x i t o u r " , " s t e p - b a c k d r o p " ) , b . z I n d e x & & ( c . c s s ( " z I n d e x " , b . z I n d e x ) , d . c s s ( " z I n d e x " , b . z I n d e x + 1 ) , e . c s s ( " z I n d e x " , b . z I n d e x + 2 ) ) , j . f a d e O u t ( " 2 0 0 0 " , f u n c t i o n ( ) { a ( t h i s ) . r e m o v e ( ) } ) } } r e t u r n   t h i s } , c . p r o t o t y p e . c a l c u l a t e Z I n d e x = f u n c t i o n ( b ) { f o r ( b = a ( b ) ; b . l e n g t h & & b [ 0 ] ! = = d o c u m e n t ; ) { v a r   c = b . c s s ( " p o s i t i o n " ) ; i f ( " a b s o l u t e " = = = c | | " r e l a t i v e " = = = c | | " f i x e d " = = = c ) { v a r   d = p a r s e I n t ( b . c s s ( " z I n d e x " ) , 1 0 ) ; i f ( ! i s N a N ( d ) & & 0 ! = = d ) r e t u r n   d } b = b . p a r e n t ( ) } r e t u r n   0 } , c . p r o t o t y p e . c a l c u l a t e I n h e r i t t e d B a c k g r o u n d C o l o r = f u n c t i o n ( b ) { v a r   c = a ( " < d i v > " ) . h i d e ( ) ; a ( " b o d y " ) . a p p e n d ( c ) ; v a r   d = c . c s s ( " b a c k g r o u n d C o l o r " ) ; f o r ( c . r e m o v e ( ) , b = a ( b ) ; b . l e n g t h & & b [ 0 ] ! = = d o c u m e n t ; ) { v a r   e = b . c s s ( " b a c k g r o u n d C o l o r " ) ; i f ( e ! = = d ) r e t u r n   e ; b = b . p a r e n t ( ) } r e t u r n   n u l l } , c . p r o t o t y p e . c a l c u l a t e P o s i t i o n = f u n c t i o n ( b ) { f o r ( b = a ( b ) ; b . l e n g t h & & b [ 0 ] ! = = d o c u m e n t ; ) { v a r   c = b . c s s ( " p o s i t i o n " ) ; i f ( " s t a t i c " ! = = c ) r e t u r n   c ; b = b . p a r e n t ( ) } r e t u r n   n u l l } , c . p r o t o t y p e . a c c e s s i b i l i t y S h o w = f u n c t i o n ( ) { v a r   b = " d a t a - h a s - h i d d e n " , c = " a r i a - h i d d e n " , d = f u n c t i o n ( a ) { v a r   d = a . d a t a ( " f l e x i t o u r " ) ; i f ( d ) s w i t c h ( d ) { c a s e " c o n t a i n e r " : c a s e " t a r g e t " : r e t u r n } v a r   e = a . a t t r ( c ) ; e | | ( a . a t t r ( b , ! 0 ) , a . a t t r ( c , ! 0 ) ) } ; t h i s . c u r r e n t S t e p N o d e . s i b l i n g s ( ) . e a c h ( f u n c t i o n ( b , c ) { d ( a ( c ) ) } ) , t h i s . c u r r e n t S t e p N o d e . p a r e n t s U n t i l ( " b o d y " ) . s i b l i n g s ( ) . e a c h ( f u n c t i o n ( b , c ) { d ( a ( c ) ) } ) } , c . p r o t o t y p e . a c c e s s i b i l i t y H i d e = f u n c t i o n ( ) { v a r   b = " d a t a - h a s - h i d d e n " , c = " a r i a - h i d d e n " , d = f u n c t i o n ( a ) { v a r   d = a . a t t r ( b ) ; " u n d e f i n e d " ! = t y p e o f   d & & ( a . r e m o v e A t t r ( b ) , a . r e m o v e A t t r ( c ) ) } ; a ( " [ " + b + " ] " ) . e a c h ( f u n c t i o n ( b , c ) { d ( a ( c ) ) } ) } , " o b j e c t " = = = ( " u n d e f i n e d " = = t y p e o f   e x p o r t s ? " u n d e f i n e d " : d ( e x p o r t s ) ) & & ( m o d u l e . e x p o r t s = c ) , c } ) ; 
 d e f i n e ( ' t o o l _ x m l d b / m o v e ' ,   [ " j q u e r y " , " c o r e / s o r t a b l e _ l i s t " , " c o r e / a j a x " , " c o r e / n o t i f i c a t i o n " ] , f u n c t i o n ( a , b , c , d ) { r e t u r n { i n i t : f u n c t i o n ( e , f ) { v a r   g = n e w   b ( " # " + e + "   t b o d y " ) ; g . g e t E l e m e n t N a m e = f u n c t i o n ( b ) { r e t u r n   a . D e f e r r e d ( ) . r e s o l v e ( b . a t t r ( " d a t a - n a m e " ) ) } ; v a r   h ; a ( " # " + e + "   t b o d y   t r " ) . o n ( b . E V E N T S . D R A G S T A R T , f u n c t i o n ( b , c ) { h = c . s o u r c e L i s t . c h i l d r e n ( ) . i n d e x ( c . e l e m e n t ) , s e t T i m e o u t ( f u n c t i o n ( ) { a ( " . s o r t a b l e - l i s t - i s - d r a g g e d " ) . w i d t h ( c . e l e m e n t . w i d t h ( ) ) } , 5 0 1 ) } ) . o n ( b . E V E N T S . D R O P , f u n c t i o n ( a , b ) { v a r   e = b . t a r g e t L i s t . c h i l d r e n ( ) . i n d e x ( b . e l e m e n t ) , g = b . e l e m e n t . f i n d ( " [ d a t a - a c t i o n = " + f + " ] " ) ; i f ( b . p o s i t i o n C h a n g e d & & g . l e n g t h ) { v a r   i = { m e t h o d n a m e : " t o o l _ x m l d b _ i n v o k e _ m o v e _ a c t i o n " , a r g s : { a c t i o n : f , d i r : g . a t t r ( " d a t a - d i r " ) , t a b l e : g . a t t r ( " d a t a - t a b l e " ) , f i e l d : g . a t t r ( " d a t a - f i e l d " ) , k e y : g . a t t r ( " d a t a - k e y " ) , i n d e x : g . a t t r ( " d a t a - i n d e x " ) , p o s i t i o n : e - h } } ; c . c a l l ( [ i ] ) [ 0 ] . f a i l ( d . e x c e p t i o n ) } } ) } } } ) ; 
 d e f i n e ( ' t h e m e _ a d a p t a b l e / s a v e b u t t o n ' ,   [ " j q u e r y " , " t h e m e _ b o o t s t r a p b a s e / b o o t s t r a p " , " c o r e / l o g " ] , f u n c t i o n ( n , e , i ) { " u s e   s t r i c t " ; r e t u r n   i . d e b u g ( " A d a p t a b l e   s a v e b u t t o n . j s   f u n c t i o n   c a l l e d " ) , { i n i t : f u n c t i o n ( ) { n ( d o c u m e n t ) . r e a d y ( f u n c t i o n ( n ) { n ( " # s a v e d i s c a r d s e c t i o n " ) . h i d e ( ) , n ( " # a d m i n s e t t i n g s   : i n p u t " ) . o n ( " c h a n g e   i n p u t " , f u n c t i o n ( ) { n ( " # s a v e d i s c a r d s e c t i o n " ) . f a d e I n ( " s l o w " ) } ) , n ( " # a d m i n s u b m i t b u t t o n " ) . c l i c k ( f u n c t i o n ( ) { n ( " # a d m i n s e t t i n g s " ) . s u b m i t ( ) } ) , n ( " # a d m i n r e s e t b u t t o n " ) . c l i c k ( f u n c t i o n ( ) { 1 = = c o n f i r m ( " T h i s   r e s e t s   a n y   c h a n g e s   m a d e   s i n c e   l o a d i n g   t h i s   p a g e .   A r e   y o u   s u r e ? " ) & & ( n ( " # a d m i n s e t t i n g s " ) [ 0 ] . r e s e t ( ) , n ( " # s a v e d i s c a r d s e c t i o n " ) . h i d e ( ) ) } ) , n ( " . c o l o u r d i a l o g u e " ) . c l i c k ( f u n c t i o n ( ) { n ( " # s a v e d i s c a r d s e c t i o n " ) . f a d e I n ( " s l o w " ) } ) } ) } } } ) ; 
 d e f i n e ( ' t h e m e _ a d a p t a b l e / b s o p t i o n s ' ,   [ " j q u e r y " , " t h e m e _ b o o t s t r a p b a s e / b o o t s t r a p " , " c o r e / l o g " ] , f u n c t i o n ( n , o , t ) { " u s e   s t r i c t " ; r e t u r n   t . d e b u g ( " A d a p t a b l e   B o o t s t r a p   A M D   o p t   i n   f u n c t i o n s " ) , { i n i t : f u n c t i o n ( o ) { i f ( n ( d o c u m e n t ) . r e a d y ( f u n c t i o n ( n ) { o & & n ( " # n a v w r a p " ) . l e n g t h > 0 & & n ( " # n a v w r a p " ) . a f f i x ( { o f f s e t : { t o p : n ( " # n a v w r a p " ) . o f f s e t ( ) . t o p } } ) , n ( " # o p e n o v e r l a y m e n u " ) . c l i c k ( f u n c t i o n ( ) { n ( " # c o n d i t i o n a l m e n u " ) . t o g g l e C l a s s ( " o p e n " ) } ) , n ( " # o v e r l a y m e n u c l o s e " ) . c l i c k ( f u n c t i o n ( ) { n ( " # c o n d i t i o n a l m e n u " ) . t o g g l e C l a s s ( " o p e n " ) } ) } ) , o ) { v a r   t = f u n c t i o n ( ) { s c r o l l B y ( 0 , - 5 0 ) } ; l o c a t i o n . h a s h & & t ( ) , w i n d o w . a d d E v e n t L i s t e n e r ( " h a s h c h a n g e " , t ) } } } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / d r o p d o w n ' ,   [ " e x p o r t s " , " j q u e r y " , " c o r e / p o p p e r " , " . / u t i l " ] , f u n c t i o n ( a , b , c , d ) { " u s e   s t r i c t " ; f u n c t i o n   e ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   f ( a ) { r e t u r n ( f = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ) ( a ) } f u n c t i o n   g ( ) { r e t u r n   g = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , g . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   h ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   i ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   j ( a , b , c ) { r e t u r n   b & & i ( a . p r o t o t y p e , b ) , c & & i ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   k = e ( b ) , l = e ( c ) , m = e ( d ) , n = f u n c t i o n ( a ) { v a r   b = " d r o p d o w n " , c = " 4 . 0 . 0 " , d = " b s . d r o p d o w n " , e = " . " . c o n c a t ( d ) , i = " . d a t a - a p i " , k = a . f n [ b ] , n = 2 7 , o = 3 2 , p = 9 , q = 3 8 , r = 4 0 , s = 3 , t = n e w   R e g E x p ( " " . c o n c a t ( q , " | " ) . c o n c a t ( r , " | " ) . c o n c a t ( n ) ) , u = { H I D E : " h i d e " . c o n c a t ( e ) , H I D D E N : " h i d d e n " . c o n c a t ( e ) , S H O W : " s h o w " . c o n c a t ( e ) , S H O W N : " s h o w n " . c o n c a t ( e ) , C L I C K : " c l i c k " . c o n c a t ( e ) , C L I C K _ D A T A _ A P I : " c l i c k " . c o n c a t ( e ) . c o n c a t ( i ) , K E Y D O W N _ D A T A _ A P I : " k e y d o w n " . c o n c a t ( e ) . c o n c a t ( i ) , K E Y U P _ D A T A _ A P I : " k e y u p " . c o n c a t ( e ) . c o n c a t ( i ) } , v = { D I S A B L E D : " d i s a b l e d " , S H O W : " s h o w " , D R O P U P : " d r o p u p " , D R O P R I G H T : " d r o p r i g h t " , D R O P L E F T : " d r o p l e f t " , M E N U R I G H T : " d r o p d o w n - m e n u - r i g h t " , M E N U L E F T : " d r o p d o w n - m e n u - l e f t " , P O S I T I O N _ S T A T I C : " p o s i t i o n - s t a t i c " } , w = { D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " d r o p d o w n " ] ' , F O R M _ C H I L D : " . d r o p d o w n   f o r m " , M E N U : " . d r o p d o w n - m e n u " , N A V B A R _ N A V : " . n a v b a r - n a v " , V I S I B L E _ I T E M S : " . d r o p d o w n - m e n u   . d r o p d o w n - i t e m : n o t ( . d i s a b l e d ) " } , x = { T O P : " t o p - s t a r t " , T O P E N D : " t o p - e n d " , B O T T O M : " b o t t o m - s t a r t " , B O T T O M E N D : " b o t t o m - e n d " , R I G H T : " r i g h t - s t a r t " , R I G H T E N D : " r i g h t - e n d " , L E F T : " l e f t - s t a r t " , L E F T E N D : " l e f t - e n d " } , y = { o f f s e t : 0 , f l i p : ! 1 , b o u n d a r y : " s c r o l l P a r e n t " } , z = { o f f s e t : " ( n u m b e r | s t r i n g | f u n c t i o n ) " , f l i p : " b o o l e a n " , b o u n d a r y : " ( s t r i n g | e l e m e n t ) " } , A = f u n c t i o n ( ) { f u n c t i o n   i ( a , b ) { h ( t h i s , i ) , t h i s . _ e l e m e n t = a , t h i s . _ p o p p e r = n u l l , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( b ) , t h i s . _ m e n u = t h i s . _ g e t M e n u E l e m e n t ( ) , t h i s . _ i n N a v b a r = t h i s . _ d e t e c t N a v b a r ( ) , t h i s . _ a d d E v e n t L i s t e n e r s ( ) } r e t u r n   j ( i , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( ) { i f ( ! t h i s . _ e l e m e n t . d i s a b l e d & & ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( v . D I S A B L E D ) ) { v a r   b = i . _ g e t P a r e n t F r o m E l e m e n t ( t h i s . _ e l e m e n t ) , c = a ( t h i s . _ m e n u ) . h a s C l a s s ( v . S H O W ) ; i f ( i . _ c l e a r M e n u s ( ) , ! c ) { v a r   d = { r e l a t e d T a r g e t : t h i s . _ e l e m e n t } , e = a . E v e n t ( u . S H O W , d ) ; i f ( a ( b ) . t r i g g e r ( e ) , ! e . i s D e f a u l t P r e v e n t e d ( ) ) { i f ( ! t h i s . _ i n N a v b a r ) { i f ( " u n d e f i n e d " = = t y p e o f   l [ " d e f a u l t " ] ) t h r o w   n e w   T y p e E r r o r ( " B o o t s t r a p   d r o p d o w n   r e q u i r e   P o p p e r . j s   ( h t t p s : / / p o p p e r . j s . o r g ) " ) ; v a r   f = t h i s . _ e l e m e n t ; a ( b ) . h a s C l a s s ( v . D R O P U P ) & & ( a ( t h i s . _ m e n u ) . h a s C l a s s ( v . M E N U L E F T ) | | a ( t h i s . _ m e n u ) . h a s C l a s s ( v . M E N U R I G H T ) ) & & ( f = b ) , " s c r o l l P a r e n t " ! = = t h i s . _ c o n f i g . b o u n d a r y & & a ( b ) . a d d C l a s s ( v . P O S I T I O N _ S T A T I C ) , t h i s . _ p o p p e r = n e w   l [ " d e f a u l t " ] ( f , t h i s . _ m e n u , t h i s . _ g e t P o p p e r C o n f i g ( ) ) } " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & 0 = = = a ( b ) . c l o s e s t ( w . N A V B A R _ N A V ) . l e n g t h & & a ( " b o d y " ) . c h i l d r e n ( ) . o n ( " m o u s e o v e r " , n u l l , a . n o o p ) , t h i s . _ e l e m e n t . f o c u s ( ) , t h i s . _ e l e m e n t . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , ! 0 ) , a ( t h i s . _ m e n u ) . t o g g l e C l a s s ( v . S H O W ) , a ( b ) . t o g g l e C l a s s ( v . S H O W ) . t r i g g e r ( a . E v e n t ( u . S H O W N , d ) ) } } } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , d ) , a ( t h i s . _ e l e m e n t ) . o f f ( e ) , t h i s . _ e l e m e n t = n u l l , t h i s . _ m e n u = n u l l , n u l l ! = = t h i s . _ p o p p e r & & ( t h i s . _ p o p p e r . d e s t r o y ( ) , t h i s . _ p o p p e r = n u l l ) } } , { k e y : " u p d a t e " , v a l u e : f u n c t i o n ( ) { t h i s . _ i n N a v b a r = t h i s . _ d e t e c t N a v b a r ( ) , n u l l ! = = t h i s . _ p o p p e r & & t h i s . _ p o p p e r . s c h e d u l e U p d a t e ( ) } } , { k e y : " _ a d d E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; a ( t h i s . _ e l e m e n t ) . o n ( u . C L I C K , f u n c t i o n ( a ) { a . p r e v e n t D e f a u l t ( ) , a . s t o p P r o p a g a t i o n ( ) , b . t o g g l e ( ) } ) } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { r e t u r n   c = g ( { } , t h i s . c o n s t r u c t o r . D e f a u l t , a ( t h i s . _ e l e m e n t ) . d a t a ( ) , c ) , m [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , t h i s . c o n s t r u c t o r . D e f a u l t T y p e ) , c } } , { k e y : " _ g e t M e n u E l e m e n t " , v a l u e : f u n c t i o n ( ) { i f ( ! t h i s . _ m e n u ) { v a r   b = i . _ g e t P a r e n t F r o m E l e m e n t ( t h i s . _ e l e m e n t ) ; t h i s . _ m e n u = a ( b ) . f i n d ( w . M E N U ) [ 0 ] } r e t u r n   t h i s . _ m e n u } } , { k e y : " _ g e t P l a c e m e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . _ e l e m e n t ) . p a r e n t ( ) , c = x . B O T T O M ; r e t u r n   b . h a s C l a s s ( v . D R O P U P ) ? ( c = x . T O P , a ( t h i s . _ m e n u ) . h a s C l a s s ( v . M E N U R I G H T ) & & ( c = x . T O P E N D ) ) : b . h a s C l a s s ( v . D R O P R I G H T ) ? c = x . R I G H T : b . h a s C l a s s ( v . D R O P L E F T ) ? c = x . L E F T : a ( t h i s . _ m e n u ) . h a s C l a s s ( v . M E N U R I G H T ) & & ( c = x . B O T T O M E N D ) , c } } , { k e y : " _ d e t e c t N a v b a r " , v a l u e : f u n c t i o n ( ) { r e t u r n   a ( t h i s . _ e l e m e n t ) . c l o s e s t ( " . n a v b a r " ) . l e n g t h > 0 } } , { k e y : " _ g e t P o p p e r C o n f i g " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = { } ; " f u n c t i o n " = = t y p e o f   t h i s . _ c o n f i g . o f f s e t ? b . f n = f u n c t i o n ( b ) { r e t u r n   b . o f f s e t s = g ( { } , b . o f f s e t s , a . _ c o n f i g . o f f s e t ( b . o f f s e t s ) | | { } ) , b } : b . o f f s e t = t h i s . _ c o n f i g . o f f s e t ; v a r   c = { p l a c e m e n t : t h i s . _ g e t P l a c e m e n t ( ) , m o d i f i e r s : { o f f s e t : b , f l i p : { e n a b l e d : t h i s . _ c o n f i g . f l i p } , p r e v e n t O v e r f l o w : { b o u n d a r i e s E l e m e n t : t h i s . _ c o n f i g . b o u n d a r y } } } ; r e t u r n   c } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( d ) , e = " o b j e c t " = = = f ( b ) ? b : n u l l ; i f ( c | | ( c = n e w   i ( t h i s , e ) , a ( t h i s ) . d a t a ( d , c ) ) , " s t r i n g " = = t y p e o f   b ) { i f ( " u n d e f i n e d " = = t y p e o f   c [ b ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( b , ' " ' ) ) ; c [ b ] ( ) } } ) } } , { k e y : " _ c l e a r M e n u s " , v a l u e : f u n c t i o n ( b ) { i f ( ! b | | b . w h i c h ! = = s & & ( " k e y u p " ! = = b . t y p e | | b . w h i c h = = = p ) ) f o r ( v a r   c = a . m a k e A r r a y ( a ( w . D A T A _ T O G G L E ) ) , e = 0 ; e < c . l e n g t h ; e + + ) { v a r   f = i . _ g e t P a r e n t F r o m E l e m e n t ( c [ e ] ) , g = a ( c [ e ] ) . d a t a ( d ) , h = { r e l a t e d T a r g e t : c [ e ] } ; i f ( g ) { v a r   j = g . _ m e n u ; i f ( a ( f ) . h a s C l a s s ( v . S H O W ) & & ! ( b & & ( " c l i c k " = = = b . t y p e & & / i n p u t | t e x t a r e a / i . t e s t ( b . t a r g e t . t a g N a m e ) | | " k e y u p " = = = b . t y p e & & b . w h i c h = = = p ) & & a . c o n t a i n s ( f , b . t a r g e t ) ) ) { v a r   k = a . E v e n t ( u . H I D E , h ) ; a ( f ) . t r i g g e r ( k ) , k . i s D e f a u l t P r e v e n t e d ( ) | | ( " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & a ( " b o d y " ) . c h i l d r e n ( ) . o f f ( " m o u s e o v e r " , n u l l , a . n o o p ) , c [ e ] . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , " f a l s e " ) , a ( j ) . r e m o v e C l a s s ( v . S H O W ) , a ( f ) . r e m o v e C l a s s ( v . S H O W ) . t r i g g e r ( a . E v e n t ( u . H I D D E N , h ) ) ) } } } } } , { k e y : " _ g e t P a r e n t F r o m E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c , d = m [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) ; r e t u r n   d & & ( c = a ( d ) [ 0 ] ) , c | | b . p a r e n t N o d e } } , { k e y : " _ d a t a A p i K e y d o w n H a n d l e r " , v a l u e : f u n c t i o n ( b ) { i f ( ( / i n p u t | t e x t a r e a / i . t e s t ( b . t a r g e t . t a g N a m e ) ? ! ( b . w h i c h = = = o | | b . w h i c h ! = = n & & ( b . w h i c h ! = = r & & b . w h i c h ! = = q | | a ( b . t a r g e t ) . c l o s e s t ( w . M E N U ) . l e n g t h ) ) : t . t e s t ( b . w h i c h ) ) & & ( b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , ! t h i s . d i s a b l e d & & ! a ( t h i s ) . h a s C l a s s ( v . D I S A B L E D ) ) ) { v a r   c = i . _ g e t P a r e n t F r o m E l e m e n t ( t h i s ) , d = a ( c ) . h a s C l a s s ( v . S H O W ) ; i f ( ! d & & ( b . w h i c h ! = = n | | b . w h i c h ! = = o ) | | d & & ( b . w h i c h = = = n | | b . w h i c h = = = o ) ) { i f ( b . w h i c h = = = n ) { v a r   e = a ( c ) . f i n d ( w . D A T A _ T O G G L E ) [ 0 ] ; a ( e ) . t r i g g e r ( " f o c u s " ) } r e t u r n   v o i d   a ( t h i s ) . t r i g g e r ( " c l i c k " ) } v a r   f = a ( c ) . f i n d ( w . V I S I B L E _ I T E M S ) . g e t ( ) ; i f ( 0 ! = = f . l e n g t h ) { v a r   g = f . i n d e x O f ( b . t a r g e t ) ; b . w h i c h = = = q & & g > 0 & & g - - , b . w h i c h = = = r & & g < f . l e n g t h - 1 & & g + + , g < 0 & & ( g = 0 ) , f [ g ] . f o c u s ( ) } } } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   y } } , { k e y : " D e f a u l t T y p e " , g e t : f u n c t i o n ( ) { r e t u r n   z } } ] ) , i } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( u . K E Y D O W N _ D A T A _ A P I , w . D A T A _ T O G G L E , A . _ d a t a A p i K e y d o w n H a n d l e r ) . o n ( u . K E Y D O W N _ D A T A _ A P I , w . M E N U , A . _ d a t a A p i K e y d o w n H a n d l e r ) . o n ( " " . c o n c a t ( u . C L I C K _ D A T A _ A P I , "   " ) . c o n c a t ( u . K E Y U P _ D A T A _ A P I ) , A . _ c l e a r M e n u s ) . o n ( u . C L I C K _ D A T A _ A P I , w . D A T A _ T O G G L E , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , A . _ j Q u e r y I n t e r f a c e . c a l l ( a ( t h i s ) , " t o g g l e " ) } ) . o n ( u . C L I C K _ D A T A _ A P I , w . F O R M _ C H I L D , f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } ) , a . f n [ b ] = A . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = A , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = k , A . _ j Q u e r y I n t e r f a c e } , A } ( k [ " d e f a u l t " ] , l [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = n } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / a l e r t ' ,   [ " e x p o r t s " , " j q u e r y " , " . / u t i l " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   f ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   g ( a , b , c ) { r e t u r n   b & & f ( a . p r o t o t y p e , b ) , c & & f ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   h = d ( b ) , i = d ( c ) , j = f u n c t i o n ( a ) { v a r   b = " a l e r t " , c = " 4 . 0 . 0 " , d = " b s . a l e r t " , f = " . " . c o n c a t ( d ) , h = " . d a t a - a p i " , j = a . f n [ b ] , k = 1 5 0 , l = { D I S M I S S : ' [ d a t a - d i s m i s s = " a l e r t " ] ' } , m = { C L O S E : " c l o s e " . c o n c a t ( f ) , C L O S E D : " c l o s e d " . c o n c a t ( f ) , C L I C K _ D A T A _ A P I : " c l i c k " . c o n c a t ( f ) . c o n c a t ( h ) } , n = { A L E R T : " a l e r t " , F A D E : " f a d e " , S H O W : " s h o w " } , o = f u n c t i o n ( ) { f u n c t i o n   b ( a ) { e ( t h i s , b ) , t h i s . _ e l e m e n t = a } r e t u r n   g ( b , [ { k e y : " c l o s e " , v a l u e : f u n c t i o n ( a ) { a = a | | t h i s . _ e l e m e n t ; v a r   b = t h i s . _ g e t R o o t E l e m e n t ( a ) , c = t h i s . _ t r i g g e r C l o s e E v e n t ( b ) ; c . i s D e f a u l t P r e v e n t e d ( ) | | t h i s . _ r e m o v e E l e m e n t ( b ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , d ) , t h i s . _ e l e m e n t = n u l l } } , { k e y : " _ g e t R o o t E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = i [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) , d = ! 1 ; r e t u r n   c & & ( d = a ( c ) [ 0 ] ) , d | | ( d = a ( b ) . c l o s e s t ( " . " . c o n c a t ( n . A L E R T ) ) [ 0 ] ) , d } } , { k e y : " _ t r i g g e r C l o s e E v e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = a . E v e n t ( m . C L O S E ) ; r e t u r n   a ( b ) . t r i g g e r ( c ) , c } } , { k e y : " _ r e m o v e E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s ; r e t u r n   a ( b ) . r e m o v e C l a s s ( n . S H O W ) , i [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( b ) . h a s C l a s s ( n . F A D E ) ? v o i d   a ( b ) . o n e ( i [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , f u n c t i o n ( a ) { r e t u r n   c . _ d e s t r o y E l e m e n t ( b , a ) } ) . e m u l a t e T r a n s i t i o n E n d ( k ) : v o i d   t h i s . _ d e s t r o y E l e m e n t ( b ) } } , { k e y : " _ d e s t r o y E l e m e n t " , v a l u e : f u n c t i o n ( b ) { a ( b ) . d e t a c h ( ) . t r i g g e r ( m . C L O S E D ) . r e m o v e ( ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   e = a ( t h i s ) , f = e . d a t a ( d ) ; f | | ( f = n e w   b ( t h i s ) , e . d a t a ( d , f ) ) , " c l o s e " = = = c & & f [ c ] ( t h i s ) } ) } } , { k e y : " _ h a n d l e D i s m i s s " , v a l u e : f u n c t i o n ( a ) { r e t u r n   f u n c t i o n ( b ) { b & & b . p r e v e n t D e f a u l t ( ) , a . c l o s e ( t h i s ) } } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } ] ) , b } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( m . C L I C K _ D A T A _ A P I , l . D I S M I S S , o . _ h a n d l e D i s m i s s ( n e w   o ) ) , a . f n [ b ] = o . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = o , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = j , o . _ j Q u e r y I n t e r f a c e } , o } ( h [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = j } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / a r i a ' ,   [ " j q u e r y " , " c o r e / p e n d i n g " ] , f u n c t i o n ( a , b ) { r e t u r n { i n i t : f u n c t i o n ( ) { v a r   c = ! 1 , d = f u n c t i o n ( ) { c = ! 0 } , e = f u n c t i o n ( ) { v a r   a = c ; r e t u r n   c = ! 1 , a } ; a ( ' [ d a t a - t o g g l e = " d r o p d o w n " ] ' ) . k e y d o w n ( f u n c t i o n ( b ) { v a r   c , e = b . w h i c h | | b . k e y C o d e ; 3 8 = = e & & d ( ) , 2 7 = = e & & ( c = a ( b . t a r g e t ) . a t t r ( " a r i a - e x p a n d e d " ) , b . p r e v e n t D e f a u l t ( ) , " f a l s e " = = c & & a ( b . t a r g e t ) . c l i c k ( ) ) , 3 2 ! = e & & 1 3 ! = e | | ( b . p r e v e n t D e f a u l t ( ) , a ( b . t a r g e t ) . c l i c k ( ) ) } ) ; v a r   f = f u n c t i o n ( c ) { v a r   d = f u n c t i o n ( b ) { a ( t h i s ) . f o c u s ( ) , b . r e s o l v e ( ) } . b i n d ( c ) ; s e t T i m e o u t ( d , 5 0 , n e w   b ( " c o r e / a r i a : d e l a y e d - f o c u s " ) ) } ; a ( " . d r o p d o w n " ) . o n ( " s h o w n . b s . d r o p d o w n " , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . f i n d ( ' [ r o l e = " m e n u " ] ' ) , d = ! 1 , g = ! 1 ; c & & ( d = a ( c ) . f i n d ( ' [ r o l e = " m e n u i t e m " ] ' ) ) , d & & d . l e n g t h > 0 & & ( g = e ( ) ? d [ d . l e n g t h - 1 ] : d [ 0 ] ) , g & & f ( g ) } ) , a ( ' . d r o p d o w n   [ r o l e = " m e n u " ]   [ r o l e = " m e n u i t e m " ] ' ) . k e y p r e s s ( f u n c t i o n ( b ) { v a r   c , d , e = S t r i n g . f r o m C h a r C o d e ( b . w h i c h | | b . k e y C o d e ) , g = a ( b . t a r g e t ) . c l o s e s t ( ' [ r o l e = " m e n u " ] ' ) , h = 0 , i = ! 1 ; i f ( g & & ( i = a ( g ) . f i n d ( ' [ r o l e = " m e n u i t e m " ] ' ) ) ) f o r ( e = e . t o L o w e r C a s e ( ) , h = 0 ; h < i . l e n g t h ; h + + ) i f ( c = a ( i [ h ] ) , d = c . t e x t ( ) . t r i m ( ) . t o L o w e r C a s e ( ) , 0 = = d . i n d e x O f ( e ) ) { f ( c ) ; b r e a k } } ) , a ( ' . d r o p d o w n   [ r o l e = " m e n u " ]   [ r o l e = " m e n u i t e m " ] ' ) . k e y d o w n ( f u n c t i o n ( b ) { v a r   c = b . w h i c h | | b . k e y C o d e , d = ! 1 , e = a ( b . t a r g e t ) . c l o s e s t ( ' [ r o l e = " m e n u " ] ' ) , g = 0 , h = ! 1 ; i f ( e & & ( h = a ( e ) . f i n d ( ' [ r o l e = " m e n u i t e m " ] ' ) ) ) { i f ( 4 0 = = c ) { f o r ( g = 0 ; g < h . l e n g t h - 1 ; g + + ) i f ( h [ g ] = = b . t a r g e t ) { d = h [ g + 1 ] ; b r e a k } d | | ( d = h [ 0 ] ) } e l s e   i f ( 3 8 = = c ) { f o r ( g = 1 ; g < h . l e n g t h ; g + + ) i f ( h [ g ] = = b . t a r g e t ) { d = h [ g - 1 ] ; b r e a k } d | | ( d = h [ h . l e n g t h - 1 ] ) } e l s e   3 6 = = c ? d = h [ 0 ] : 3 5 = = c & & ( d = h [ h . l e n g t h - 1 ] ) ; d & & ( b . p r e v e n t D e f a u l t ( ) , f ( d ) ) } } ) , a ( " . d r o p d o w n " ) . o n ( " h i d d e n . b s . d r o p d o w n " , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . f i n d ( ' [ d a t a - t o g g l e = " d r o p d o w n " ] ' ) ; c & & f ( c ) } ) , a ( f u n c t i o n ( ) { w i n d o w . s e t T i m e o u t ( f u n c t i o n ( b ) { v a r   c = a ( ' [ r o l e = " a l e r t " ] [ d a t a - a r i a - a u t o f o c u s = " t r u e " ] ' ) ; c . l e n g t h > 0 & & ( a ( c [ 0 ] ) . a t t r ( " t a b i n d e x " , " 0 " ) , a ( c [ 0 ] ) . f o c u s ( ) ) , b . r e s o l v e ( ) } , 3 0 0 , n e w   b ( " c o r e / a r i a : d e l a y e d - f o c u s " ) ) } ) } } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / d r a w e r ' ,   [ " j q u e r y " , " c o r e / c u s t o m _ i n t e r a c t i o n _ e v e n t s " , " c o r e / l o g " ] , f u n c t i o n ( a , b , c ) { v a r   d = { T O G G L E _ R E G I O N : ' [ d a t a - r e g i o n = " d r a w e r - t o g g l e " ] ' , T O G G L E _ A C T I O N : ' [ d a t a - a c t i o n = " t o g g l e - d r a w e r " ] ' , T O G G L E _ T A R G E T : " a r i a - c o n t r o l s " , T O G G L E _ S I D E : " l e f t " , B O D Y : " b o d y " , S E C T I O N : ' . l i s t - g r o u p - i t e m [ h r e f * = " # s e c t i o n - " ] ' } , e = a ( d o c u m e n t ) . w i d t h ( ) < 7 6 8 , f = f u n c t i o n ( ) { a ( d . T O G G L E _ R E G I O N ) . l e n g t h | | c . d e b u g ( " P a g e   i s   m i s s i n g   a   d r a w e r   r e g i o n " ) , a ( d . T O G G L E _ A C T I O N ) . l e n g t h | | c . d e b u g ( " P a g e   i s   m i s s i n g   a   d r a w e r   t o g g l e   l i n k " ) , a ( d . T O G G L E _ R E G I O N ) . e a c h ( f u n c t i o n ( b , c ) { v a r   f = a ( c ) . f i n d ( d . T O G G L E _ A C T I O N ) , g = f . a t t r ( " a r i a - c o n t r o l s " ) , h = a ( d o c u m e n t . g e t E l e m e n t B y I d ( g ) ) , i = " f a l s e " = = f . a t t r ( " a r i a - e x p a n d e d " ) , j = f . a t t r ( " d a t a - s i d e " ) , k = a ( d . B O D Y ) , l = f . a t t r ( " d a t a - p r e f e r e n c e " ) ; e & & M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( l , " f a l s e " ) , h . o n ( " m o u s e w h e e l   D O M M o u s e S c r o l l " , t h i s . p r e v e n t P a g e S c r o l l ) , i ? f . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) : ( k . a d d C l a s s ( " d r a w e r - o p e n - " + j ) , f . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) ) } . b i n d ( t h i s ) ) , t h i s . r e g i s t e r E v e n t L i s t e n e r s ( ) , e & & t h i s . c l o s e A l l ( ) } ; r e t u r n   f . p r o t o t y p e . c l o s e A l l = f u n c t i o n ( ) { a ( d . T O G G L E _ R E G I O N ) . e a c h ( f u n c t i o n ( b , c ) { v a r   f = a ( c ) . f i n d ( d . T O G G L E _ A C T I O N ) , g = f . a t t r ( " d a t a - s i d e " ) , h = a ( d . B O D Y ) , i = f . a t t r ( " a r i a - c o n t r o l s " ) , j = a ( d o c u m e n t . g e t E l e m e n t B y I d ( i ) ) , k = f . a t t r ( " d a t a - p r e f e r e n c e " ) ; f . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , h . r e m o v e C l a s s ( " d r a w e r - o p e n - " + g ) , j . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , j . a d d C l a s s ( " c l o s e d " ) , e | | M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( k , " f a l s e " ) } ) } , f . p r o t o t y p e . t o g g l e D r a w e r = f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( " [ d a t a - a c t i o n = t o g g l e - d r a w e r ] " ) , f = c . a t t r ( " a r i a - c o n t r o l s " ) , g = a ( d o c u m e n t . g e t E l e m e n t B y I d ( f ) ) , h = a ( d . B O D Y ) , i = c . a t t r ( " d a t a - s i d e " ) , j = c . a t t r ( " d a t a - p r e f e r e n c e " ) ; e & & M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( j , " f a l s e " ) , h . a d d C l a s s ( " d r a w e r - e a s e " ) ; v a r   k = " t r u e " = = c . a t t r ( " a r i a - e x p a n d e d " ) ; k ? ( h . r e m o v e C l a s s ( " d r a w e r - o p e n - " + i ) , c . a t t r ( " a r i a - e x p a n d e d " , " f a l s e " ) , g . a t t r ( " a r i a - h i d d e n " , " t r u e " ) , g . a d d C l a s s ( " c l o s e d " ) , e | | M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( j , " f a l s e " ) ) : ( c . a t t r ( " a r i a - e x p a n d e d " , " t r u e " ) , g . a t t r ( " a r i a - h i d d e n " , " f a l s e " ) , g . f o c u s ( ) , h . a d d C l a s s ( " d r a w e r - o p e n - " + i ) , g . r e m o v e C l a s s ( " c l o s e d " ) , e | | M . u t i l . s e t _ u s e r _ p r e f e r e n c e ( j , " t r u e " ) ) } , f . p r o t o t y p e . p r e v e n t P a g e S c r o l l = f u n c t i o n ( b ) { v a r   c = b . w h e e l D e l t a | | b . o r i g i n a l E v e n t & & b . o r i g i n a l E v e n t . w h e e l D e l t a | | - b . o r i g i n a l E v e n t . d e t a i l , d = t h i s . s c r o l l T o p + a ( t h i s ) . o u t e r H e i g h t ( ) - t h i s . s c r o l l H e i g h t > = 0 , e = t h i s . s c r o l l T o p < = 0 ; ( c < 0 & & d | | c > 0 & & e ) & & b . p r e v e n t D e f a u l t ( ) } , f . p r o t o t y p e . r e g i s t e r E v e n t L i s t e n e r s = f u n c t i o n ( ) { a ( d . T O G G L E _ A C T I O N ) . e a c h ( f u n c t i o n ( c , d ) { b . d e f i n e ( a ( d ) , [ b . e v e n t s . a c t i v a t e ] ) , a ( d ) . o n ( b . e v e n t s . a c t i v a t e , f u n c t i o n ( a , b ) { t h i s . t o g g l e D r a w e r ( b . o r i g i n a l E v e n t ) , b . o r i g i n a l E v e n t . p r e v e n t D e f a u l t ( ) } . b i n d ( t h i s ) ) } . b i n d ( t h i s ) ) , a ( d . S E C T I O N ) . c l i c k ( f u n c t i o n ( ) { e & & t h i s . c l o s e A l l ( ) } . b i n d ( t h i s ) ) } , { i n i t : f u n c t i o n ( ) { r e t u r n   n e w   f } } } ) ; 
 ! f u n c t i o n ( a , b ) { " f u n c t i o n " = = t y p e o f   d e f i n e & & d e f i n e . a m d ? d e f i n e ( ' t h e m e _ b o o s t / t e t h e r ' ,   b ) : " o b j e c t " = = t y p e o f   e x p o r t s ? m o d u l e . e x p o r t s = b ( r e q u i r e , e x p o r t s , m o d u l e ) : a . T e t h e r = b ( ) } ( t h i s , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   e ( a ) { v a r   b = a . g e t B o u n d i n g C l i e n t R e c t ( ) , c = { } ; f o r ( v a r   d   i n   b ) c [ d ] = b [ d ] ; i f ( a . o w n e r D o c u m e n t ! = = d o c u m e n t ) { v a r   f = a . o w n e r D o c u m e n t . d e f a u l t V i e w . f r a m e E l e m e n t ; i f ( f ) { v a r   g = e ( f ) ; c . t o p + = g . t o p , c . b o t t o m + = g . t o p , c . l e f t + = g . l e f t , c . r i g h t + = g . l e f t } } r e t u r n   c } f u n c t i o n   f ( a ) { v a r   b = g e t C o m p u t e d S t y l e ( a ) | | { } , c = b . p o s i t i o n , d = [ ] ; i f ( " f i x e d " = = = c ) r e t u r n [ a ] ; f o r ( v a r   e = a ; ( e = e . p a r e n t N o d e ) & & e & & 1 = = = e . n o d e T y p e ; ) { v a r   f = v o i d   0 ; t r y { f = g e t C o m p u t e d S t y l e ( e ) } c a t c h ( g ) { } i f ( " u n d e f i n e d " = = t y p e o f   f | | n u l l = = = f ) r e t u r n   d . p u s h ( e ) , d ; v a r   h = f , i = h . o v e r f l o w , j = h . o v e r f l o w X , k = h . o v e r f l o w Y ; / ( a u t o | s c r o l l ) / . t e s t ( i + k + j ) & & ( " a b s o l u t e " ! = = c | | [ " r e l a t i v e " , " a b s o l u t e " , " f i x e d " ] . i n d e x O f ( f . p o s i t i o n ) > = 0 ) & & d . p u s h ( e ) } r e t u r n   d . p u s h ( a . o w n e r D o c u m e n t . b o d y ) , a . o w n e r D o c u m e n t ! = = d o c u m e n t & & d . p u s h ( a . o w n e r D o c u m e n t . d e f a u l t V i e w ) , d } f u n c t i o n   g ( ) { z & & d o c u m e n t . b o d y . r e m o v e C h i l d ( z ) , z = n u l l } f u n c t i o n   h ( a ) { v a r   b = v o i d   0 ; a = = = d o c u m e n t ? ( b = d o c u m e n t , a = d o c u m e n t . d o c u m e n t E l e m e n t ) : b = a . o w n e r D o c u m e n t ; v a r   c = b . d o c u m e n t E l e m e n t , d = e ( a ) , f = C ( ) ; r e t u r n   d . t o p - = f . t o p , d . l e f t - = f . l e f t , " u n d e f i n e d " = = t y p e o f   d . w i d t h & & ( d . w i d t h = d o c u m e n t . b o d y . s c r o l l W i d t h - d . l e f t - d . r i g h t ) , " u n d e f i n e d " = = t y p e o f   d . h e i g h t & & ( d . h e i g h t = d o c u m e n t . b o d y . s c r o l l H e i g h t - d . t o p - d . b o t t o m ) , d . t o p = d . t o p - c . c l i e n t T o p , d . l e f t = d . l e f t - c . c l i e n t L e f t , d . r i g h t = b . b o d y . c l i e n t W i d t h - d . w i d t h - d . l e f t , d . b o t t o m = b . b o d y . c l i e n t H e i g h t - d . h e i g h t - d . t o p , d } f u n c t i o n   i ( a ) { r e t u r n   a . o f f s e t P a r e n t | | d o c u m e n t . d o c u m e n t E l e m e n t } f u n c t i o n   j ( ) { v a r   a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; a . s t y l e . w i d t h = " 1 0 0 % " , a . s t y l e . h e i g h t = " 2 0 0 p x " ; v a r   b = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; k ( b . s t y l e , { p o s i t i o n : " a b s o l u t e " , t o p : 0 , l e f t : 0 , p o i n t e r E v e n t s : " n o n e " , v i s i b i l i t y : " h i d d e n " , w i d t h : " 2 0 0 p x " , h e i g h t : " 1 5 0 p x " , o v e r f l o w : " h i d d e n " } ) , b . a p p e n d C h i l d ( a ) , d o c u m e n t . b o d y . a p p e n d C h i l d ( b ) ; v a r   c = a . o f f s e t W i d t h ; b . s t y l e . o v e r f l o w = " s c r o l l " ; v a r   d = a . o f f s e t W i d t h ; c = = = d & & ( d = b . c l i e n t W i d t h ) , d o c u m e n t . b o d y . r e m o v e C h i l d ( b ) ; v a r   e = c - d ; r e t u r n { w i d t h : e , h e i g h t : e } } f u n c t i o n   k ( ) { v a r   a = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] ? { } : a r g u m e n t s [ 0 ] , b = [ ] ; r e t u r n   A r r a y . p r o t o t y p e . p u s h . a p p l y ( b , a r g u m e n t s ) , b . s l i c e ( 1 ) . f o r E a c h ( f u n c t i o n ( b ) { i f ( b ) f o r ( v a r   c   i n   b ) ( { } ) . h a s O w n P r o p e r t y . c a l l ( b , c ) & & ( a [ c ] = b [ c ] ) } ) , a } f u n c t i o n   l ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   a . c l a s s L i s t ) b . s p l i t ( "   " ) . f o r E a c h ( f u n c t i o n ( b ) { b . t r i m ( ) & & a . c l a s s L i s t . r e m o v e ( b ) } ) ; e l s e { v a r   c = n e w   R e g E x p ( " ( ^ |   ) " + b . s p l i t ( "   " ) . j o i n ( " | " ) + " (   | $ ) " , " g i " ) , d = o ( a ) . r e p l a c e ( c , "   " ) ; p ( a , d ) } } f u n c t i o n   m ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   a . c l a s s L i s t ) b . s p l i t ( "   " ) . f o r E a c h ( f u n c t i o n ( b ) { b . t r i m ( ) & & a . c l a s s L i s t . a d d ( b ) } ) ; e l s e { l ( a , b ) ; v a r   c = o ( a ) + ( "   " + b ) ; p ( a , c ) } } f u n c t i o n   n ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   a . c l a s s L i s t ) r e t u r n   a . c l a s s L i s t . c o n t a i n s ( b ) ; v a r   c = o ( a ) ; r e t u r n   n e w   R e g E x p ( " ( ^ |   ) " + b + " (   | $ ) " , " g i " ) . t e s t ( c ) } f u n c t i o n   o ( a ) { r e t u r n   a . c l a s s N a m e   i n s t a n c e o f   a . o w n e r D o c u m e n t . d e f a u l t V i e w . S V G A n i m a t e d S t r i n g ? a . c l a s s N a m e . b a s e V a l : a . c l a s s N a m e } f u n c t i o n   p ( a , b ) { a . s e t A t t r i b u t e ( " c l a s s " , b ) } f u n c t i o n   q ( a , b , c ) { c . f o r E a c h ( f u n c t i o n ( c ) { b . i n d e x O f ( c ) = = = - 1 & & n ( a , c ) & & l ( a , c ) } ) , b . f o r E a c h ( f u n c t i o n ( b ) { n ( a , b ) | | m ( a , b ) } ) } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   r ( a , b ) { i f ( " f u n c t i o n " ! = t y p e o f   b & & n u l l ! = = b ) t h r o w   n e w   T y p e E r r o r ( " S u p e r   e x p r e s s i o n   m u s t   e i t h e r   b e   n u l l   o r   a   f u n c t i o n ,   n o t   " + t y p e o f   b ) ; a . p r o t o t y p e = O b j e c t . c r e a t e ( b & & b . p r o t o t y p e , { c o n s t r u c t o r : { v a l u e : a , e n u m e r a b l e : ! 1 , w r i t a b l e : ! 0 , c o n f i g u r a b l e : ! 0 } } ) , b & & ( O b j e c t . s e t P r o t o t y p e O f ? O b j e c t . s e t P r o t o t y p e O f ( a , b ) : a . _ _ p r o t o _ _ = b ) } f u n c t i o n   s ( a , b ) { v a r   c = a r g u m e n t s . l e n g t h < = 2 | | v o i d   0 = = = a r g u m e n t s [ 2 ] ? 1 : a r g u m e n t s [ 2 ] ; r e t u r n   a + c > = b & & b > = a - c } f u n c t i o n   t ( ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   p e r f o r m a n c e & & " u n d e f i n e d " ! = t y p e o f   p e r f o r m a n c e . n o w ? p e r f o r m a n c e . n o w ( ) : + n e w   D a t e } f u n c t i o n   u ( ) { f o r ( v a r   a = { t o p : 0 , l e f t : 0 } , b = a r g u m e n t s . l e n g t h , c = A r r a y ( b ) , d = 0 ; d < b ; d + + ) c [ d ] = a r g u m e n t s [ d ] ; r e t u r n   c . f o r E a c h ( f u n c t i o n ( b ) { v a r   c = b . t o p , d = b . l e f t ; " s t r i n g " = = t y p e o f   c & & ( c = p a r s e F l o a t ( c , 1 0 ) ) , " s t r i n g " = = t y p e o f   d & & ( d = p a r s e F l o a t ( d , 1 0 ) ) , a . t o p + = c , a . l e f t + = d } ) , a } f u n c t i o n   v ( a , b ) { r e t u r n " s t r i n g " = = t y p e o f   a . l e f t & & a . l e f t . i n d e x O f ( " % " ) ! = = - 1 & & ( a . l e f t = p a r s e F l o a t ( a . l e f t , 1 0 ) / 1 0 0 * b . w i d t h ) , " s t r i n g " = = t y p e o f   a . t o p & & a . t o p . i n d e x O f ( " % " ) ! = = - 1 & & ( a . t o p = p a r s e F l o a t ( a . t o p , 1 0 ) / 1 0 0 * b . h e i g h t ) , a } f u n c t i o n   w ( a , b ) { r e t u r n " s c r o l l P a r e n t " = = = b ? b = a . s c r o l l P a r e n t s [ 0 ] : " w i n d o w " = = = b & & ( b = [ p a g e X O f f s e t , p a g e Y O f f s e t , i n n e r W i d t h + p a g e X O f f s e t , i n n e r H e i g h t + p a g e Y O f f s e t ] ) , b = = = d o c u m e n t & & ( b = b . d o c u m e n t E l e m e n t ) , " u n d e f i n e d " ! = t y p e o f   b . n o d e T y p e & & ! f u n c t i o n ( ) { v a r   a = b , c = h ( b ) , d = c , e = g e t C o m p u t e d S t y l e ( b ) ; i f ( b = [ d . l e f t , d . t o p , c . w i d t h + d . l e f t , c . h e i g h t + d . t o p ] , a . o w n e r D o c u m e n t ! = = d o c u m e n t ) { v a r   f = a . o w n e r D o c u m e n t . d e f a u l t V i e w ; b [ 0 ] + = f . p a g e X O f f s e t , b [ 1 ] + = f . p a g e Y O f f s e t , b [ 2 ] + = f . p a g e X O f f s e t , b [ 3 ] + = f . p a g e Y O f f s e t } W . f o r E a c h ( f u n c t i o n ( a , c ) { a = a [ 0 ] . t o U p p e r C a s e ( ) + a . s u b s t r ( 1 ) , " T o p " = = = a | | " L e f t " = = = a ? b [ c ] + = p a r s e F l o a t ( e [ " b o r d e r " + a + " W i d t h " ] ) : b [ c ] - = p a r s e F l o a t ( e [ " b o r d e r " + a + " W i d t h " ] ) } ) } ( ) , b } v a r   x = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , y = v o i d   0 ; " u n d e f i n e d " = = t y p e o f   y & & ( y = { m o d u l e s : [ ] } ) ; v a r   z = n u l l , A = f u n c t i o n ( ) { v a r   a = 0 ; r e t u r n   f u n c t i o n ( ) { r e t u r n + + a } } ( ) , B = { } , C = f u n c t i o n ( ) { v a r   a = z ; a | | ( a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) , a . s e t A t t r i b u t e ( " d a t a - t e t h e r - i d " , A ( ) ) , k ( a . s t y l e , { t o p : 0 , l e f t : 0 , p o s i t i o n : " a b s o l u t e " } ) , d o c u m e n t . b o d y . a p p e n d C h i l d ( a ) , z = a ) ; v a r   b = a . g e t A t t r i b u t e ( " d a t a - t e t h e r - i d " ) ; r e t u r n " u n d e f i n e d " = = t y p e o f   B [ b ] & & ( B [ b ] = e ( a ) , E ( f u n c t i o n ( ) { d e l e t e   B [ b ] } ) ) , B [ b ] } , D = [ ] , E = f u n c t i o n ( a ) { D . p u s h ( a ) } , F = f u n c t i o n ( ) { f o r ( v a r   a = v o i d   0 ; a = D . p o p ( ) ; ) a ( ) } , G = f u n c t i o n ( ) { f u n c t i o n   a ( ) { d ( t h i s , a ) } r e t u r n   x ( a , [ { k e y : " o n " , v a l u e : f u n c t i o n ( a , b , c ) { v a r   d = ! ( a r g u m e n t s . l e n g t h < = 3 | | v o i d   0 = = = a r g u m e n t s [ 3 ] ) & & a r g u m e n t s [ 3 ] ; " u n d e f i n e d " = = t y p e o f   t h i s . b i n d i n g s & & ( t h i s . b i n d i n g s = { } ) , " u n d e f i n e d " = = t y p e o f   t h i s . b i n d i n g s [ a ] & & ( t h i s . b i n d i n g s [ a ] = [ ] ) , t h i s . b i n d i n g s [ a ] . p u s h ( { h a n d l e r : b , c t x : c , o n c e : d } ) } } , { k e y : " o n c e " , v a l u e : f u n c t i o n ( a , b , c ) { t h i s . o n ( a , b , c , ! 0 ) } } , { k e y : " o f f " , v a l u e : f u n c t i o n ( a , b ) { i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . b i n d i n g s & & " u n d e f i n e d " ! = t y p e o f   t h i s . b i n d i n g s [ a ] ) i f ( " u n d e f i n e d " = = t y p e o f   b ) d e l e t e   t h i s . b i n d i n g s [ a ] ; e l s e   f o r ( v a r   c = 0 ; c < t h i s . b i n d i n g s [ a ] . l e n g t h ; ) t h i s . b i n d i n g s [ a ] [ c ] . h a n d l e r = = = b ? t h i s . b i n d i n g s [ a ] . s p l i c e ( c , 1 ) : + + c } } , { k e y : " t r i g g e r " , v a l u e : f u n c t i o n ( a ) { i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . b i n d i n g s & & t h i s . b i n d i n g s [ a ] ) { f o r ( v a r   b = 0 , c = a r g u m e n t s . l e n g t h , d = A r r a y ( c > 1 ? c - 1 : 0 ) , e = 1 ; e < c ; e + + ) d [ e - 1 ] = a r g u m e n t s [ e ] ; f o r ( ; b < t h i s . b i n d i n g s [ a ] . l e n g t h ; ) { v a r   f = t h i s . b i n d i n g s [ a ] [ b ] , g = f . h a n d l e r , h = f . c t x , i = f . o n c e , j = h ; " u n d e f i n e d " = = t y p e o f   j & & ( j = t h i s ) , g . a p p l y ( j , d ) , i ? t h i s . b i n d i n g s [ a ] . s p l i c e ( b , 1 ) : + + b } } } } ] ) , a } ( ) ; y . U t i l s = { g e t A c t u a l B o u n d i n g C l i e n t R e c t : e , g e t S c r o l l P a r e n t s : f , g e t B o u n d s : h , g e t O f f s e t P a r e n t : i , e x t e n d : k , a d d C l a s s : m , r e m o v e C l a s s : l , h a s C l a s s : n , u p d a t e C l a s s e s : q , d e f e r : E , f l u s h : F , u n i q u e I d : A , E v e n t e d : G , g e t S c r o l l B a r S i z e : j , r e m o v e U t i l E l e m e n t s : g } ; v a r   H = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { v a r   c = [ ] , d = ! 0 , e = ! 1 , f = v o i d   0 ; t r y { f o r ( v a r   g , h = a [ S y m b o l . i t e r a t o r ] ( ) ; ! ( d = ( g = h . n e x t ( ) ) . d o n e ) & & ( c . p u s h ( g . v a l u e ) , ! b | | c . l e n g t h ! = = b ) ; d = ! 0 ) ; } c a t c h ( i ) { e = ! 0 , f = i } f i n a l l y { t r y { ! d & & h [ " r e t u r n " ] & & h [ " r e t u r n " ] ( ) } f i n a l l y { i f ( e ) t h r o w   f } } r e t u r n   c } r e t u r n   f u n c t i o n ( b , c ) { i f ( A r r a y . i s A r r a y ( b ) ) r e t u r n   b ; i f ( S y m b o l . i t e r a t o r   i n   O b j e c t ( b ) ) r e t u r n   a ( b , c ) ; t h r o w   n e w   T y p e E r r o r ( " I n v a l i d   a t t e m p t   t o   d e s t r u c t u r e   n o n - i t e r a b l e   i n s t a n c e " ) } } ( ) , x = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } r e t u r n   f u n c t i o n ( b , c , d ) { r e t u r n   c & & a ( b . p r o t o t y p e , c ) , d & & a ( b , d ) , b } } ( ) , I = f u n c t i o n ( a , b , c ) { f o r ( v a r   d = ! 0 ; d ; ) { v a r   e = a , f = b , g = c ; d = ! 1 , n u l l = = = e & & ( e = F u n c t i o n . p r o t o t y p e ) ; v a r   h = O b j e c t . g e t O w n P r o p e r t y D e s c r i p t o r ( e , f ) ; i f ( v o i d   0 ! = = h ) { i f ( " v a l u e " i n   h ) r e t u r n   h . v a l u e ; v a r   i = h . g e t ; i f ( v o i d   0 = = = i ) r e t u r n ; r e t u r n   i . c a l l ( g ) } v a r   j = O b j e c t . g e t P r o t o t y p e O f ( e ) ; i f ( n u l l = = = j ) r e t u r n ; a = j , b = f , c = g , d = ! 0 , h = j = v o i d   0 } } ; i f ( " u n d e f i n e d " = = t y p e o f   y ) t h r o w   n e w   E r r o r ( " Y o u   m u s t   i n c l u d e   t h e   u t i l s . j s   f i l e   b e f o r e   t e t h e r . j s " ) ; v a r   J = y . U t i l s , f = J . g e t S c r o l l P a r e n t s , h = J . g e t B o u n d s , i = J . g e t O f f s e t P a r e n t , k = J . e x t e n d , m = J . a d d C l a s s , l = J . r e m o v e C l a s s , q = J . u p d a t e C l a s s e s , E = J . d e f e r , F = J . f l u s h , j = J . g e t S c r o l l B a r S i z e , g = J . r e m o v e U t i l E l e m e n t s , K = f u n c t i o n ( ) { i f ( " u n d e f i n e d " = = t y p e o f   d o c u m e n t ) r e t u r n " " ; f o r ( v a r   a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) , b = [ " t r a n s f o r m " , " W e b k i t T r a n s f o r m " , " O T r a n s f o r m " , " M o z T r a n s f o r m " , " m s T r a n s f o r m " ] , c = 0 ; c < b . l e n g t h ; + + c ) { v a r   d = b [ c ] ; i f ( v o i d   0 ! = = a . s t y l e [ d ] ) r e t u r n   d } } ( ) , L = [ ] , M = f u n c t i o n ( ) { L . f o r E a c h ( f u n c t i o n ( a ) { a . p o s i t i o n ( ! 1 ) } ) , F ( ) } ; ! f u n c t i o n ( ) { v a r   a = n u l l , b = n u l l , c = n u l l , d = f u n c t i o n   e ( ) { r e t u r n " u n d e f i n e d " ! = t y p e o f   b & & b > 1 6 ? ( b = M a t h . m i n ( b - 1 6 , 2 5 0 ) , v o i d ( c = s e t T i m e o u t ( e , 2 5 0 ) ) ) : v o i d ( " u n d e f i n e d " ! = t y p e o f   a & & t ( ) - a < 1 0 | | ( n u l l ! = c & & ( c l e a r T i m e o u t ( c ) , c = n u l l ) , a = t ( ) , M ( ) , b = t ( ) - a ) ) } ; " u n d e f i n e d " ! = t y p e o f   w i n d o w & & " u n d e f i n e d " ! = t y p e o f   w i n d o w . a d d E v e n t L i s t e n e r & & [ " r e s i z e " , " s c r o l l " , " t o u c h m o v e " ] . f o r E a c h ( f u n c t i o n ( a ) { w i n d o w . a d d E v e n t L i s t e n e r ( a , d ) } ) } ( ) ; v a r   N = { c e n t e r : " c e n t e r " , l e f t : " r i g h t " , r i g h t : " l e f t " } , O = { m i d d l e : " m i d d l e " , t o p : " b o t t o m " , b o t t o m : " t o p " } , P = { t o p : 0 , l e f t : 0 , m i d d l e : " 5 0 % " , c e n t e r : " 5 0 % " , b o t t o m : " 1 0 0 % " , r i g h t : " 1 0 0 % " } , Q = f u n c t i o n ( a , b ) { v a r   c = a . l e f t , d = a . t o p ; r e t u r n " a u t o " = = = c & & ( c = N [ b . l e f t ] ) , " a u t o " = = = d & & ( d = O [ b . t o p ] ) , { l e f t : c , t o p : d } } , R = f u n c t i o n ( a ) { v a r   b = a . l e f t , c = a . t o p ; r e t u r n " u n d e f i n e d " ! = t y p e o f   P [ a . l e f t ] & & ( b = P [ a . l e f t ] ) , " u n d e f i n e d " ! = t y p e o f   P [ a . t o p ] & & ( c = P [ a . t o p ] ) , { l e f t : b , t o p : c } } , S = f u n c t i o n ( a ) { v a r   b = a . s p l i t ( "   " ) , c = H ( b , 2 ) , d = c [ 0 ] , e = c [ 1 ] ; r e t u r n { t o p : d , l e f t : e } } , T = S , U = f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { v a r   c = t h i s ; d ( t h i s , b ) , I ( O b j e c t . g e t P r o t o t y p e O f ( b . p r o t o t y p e ) , " c o n s t r u c t o r " , t h i s ) . c a l l ( t h i s ) , t h i s . p o s i t i o n = t h i s . p o s i t i o n . b i n d ( t h i s ) , L . p u s h ( t h i s ) , t h i s . h i s t o r y = [ ] , t h i s . s e t O p t i o n s ( a , ! 1 ) , y . m o d u l e s . f o r E a c h ( f u n c t i o n ( a ) { " u n d e f i n e d " ! = t y p e o f   a . i n i t i a l i z e & & a . i n i t i a l i z e . c a l l ( c ) } ) , t h i s . p o s i t i o n ( ) } r e t u r n   r ( b , a ) , x ( b , [ { k e y : " g e t C l a s s " , v a l u e : f u n c t i o n ( ) { v a r   a = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] ? " " : a r g u m e n t s [ 0 ] , b = t h i s . o p t i o n s . c l a s s e s ; r e t u r n " u n d e f i n e d " ! = t y p e o f   b & & b [ a ] ? t h i s . o p t i o n s . c l a s s e s [ a ] : t h i s . o p t i o n s . c l a s s P r e f i x ? t h i s . o p t i o n s . c l a s s P r e f i x + " - " + a : a } } , { k e y : " s e t O p t i o n s " , v a l u e : f u n c t i o n ( a ) { v a r   b = t h i s , c = a r g u m e n t s . l e n g t h < = 1 | | v o i d   0 = = = a r g u m e n t s [ 1 ] | | a r g u m e n t s [ 1 ] , d = { o f f s e t : " 0   0 " , t a r g e t O f f s e t : " 0   0 " , t a r g e t A t t a c h m e n t : " a u t o   a u t o " , c l a s s P r e f i x : " t e t h e r " } ; t h i s . o p t i o n s = k ( d , a ) ; v a r   e = t h i s . o p t i o n s , g = e . e l e m e n t , h = e . t a r g e t , i = e . t a r g e t M o d i f i e r ; i f ( t h i s . e l e m e n t = g , t h i s . t a r g e t = h , t h i s . t a r g e t M o d i f i e r = i , " v i e w p o r t " = = = t h i s . t a r g e t ? ( t h i s . t a r g e t = d o c u m e n t . b o d y , t h i s . t a r g e t M o d i f i e r = " v i s i b l e " ) : " s c r o l l - h a n d l e " = = = t h i s . t a r g e t & & ( t h i s . t a r g e t = d o c u m e n t . b o d y , t h i s . t a r g e t M o d i f i e r = " s c r o l l - h a n d l e " ) , [ " e l e m e n t " , " t a r g e t " ] . f o r E a c h ( f u n c t i o n ( a ) { i f ( " u n d e f i n e d " = = t y p e o f   b [ a ] ) t h r o w   n e w   E r r o r ( " T e t h e r   E r r o r :   B o t h   e l e m e n t   a n d   t a r g e t   m u s t   b e   d e f i n e d " ) ; " u n d e f i n e d " ! = t y p e o f   b [ a ] . j q u e r y ? b [ a ] = b [ a ] [ 0 ] : " s t r i n g " = = t y p e o f   b [ a ] & & ( b [ a ] = d o c u m e n t . q u e r y S e l e c t o r ( b [ a ] ) ) } ) , m ( t h i s . e l e m e n t , t h i s . g e t C l a s s ( " e l e m e n t " ) ) , t h i s . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & m ( t h i s . t a r g e t , t h i s . g e t C l a s s ( " t a r g e t " ) ) , ! t h i s . o p t i o n s . a t t a c h m e n t ) t h r o w   n e w   E r r o r ( " T e t h e r   E r r o r :   Y o u   m u s t   p r o v i d e   a n   a t t a c h m e n t " ) ; t h i s . t a r g e t A t t a c h m e n t = T ( t h i s . o p t i o n s . t a r g e t A t t a c h m e n t ) , t h i s . a t t a c h m e n t = T ( t h i s . o p t i o n s . a t t a c h m e n t ) , t h i s . o f f s e t = S ( t h i s . o p t i o n s . o f f s e t ) , t h i s . t a r g e t O f f s e t = S ( t h i s . o p t i o n s . t a r g e t O f f s e t ) , " u n d e f i n e d " ! = t y p e o f   t h i s . s c r o l l P a r e n t s & & t h i s . d i s a b l e ( ) , " s c r o l l - h a n d l e " = = = t h i s . t a r g e t M o d i f i e r ? t h i s . s c r o l l P a r e n t s = [ t h i s . t a r g e t ] : t h i s . s c r o l l P a r e n t s = f ( t h i s . t a r g e t ) , t h i s . o p t i o n s . e n a b l e d ! = = ! 1 & & t h i s . e n a b l e ( c ) } } , { k e y : " g e t T a r g e t B o u n d s " , v a l u e : f u n c t i o n ( ) { i f ( " u n d e f i n e d " = = t y p e o f   t h i s . t a r g e t M o d i f i e r ) r e t u r n   h ( t h i s . t a r g e t ) ; i f ( " v i s i b l e " = = = t h i s . t a r g e t M o d i f i e r ) { i f ( t h i s . t a r g e t = = = d o c u m e n t . b o d y ) r e t u r n { t o p : p a g e Y O f f s e t , l e f t : p a g e X O f f s e t , h e i g h t : i n n e r H e i g h t , w i d t h : i n n e r W i d t h } ; v a r   a = h ( t h i s . t a r g e t ) , b = { h e i g h t : a . h e i g h t , w i d t h : a . w i d t h , t o p : a . t o p , l e f t : a . l e f t } ; r e t u r n   b . h e i g h t = M a t h . m i n ( b . h e i g h t , a . h e i g h t - ( p a g e Y O f f s e t - a . t o p ) ) , b . h e i g h t = M a t h . m i n ( b . h e i g h t , a . h e i g h t - ( a . t o p + a . h e i g h t - ( p a g e Y O f f s e t + i n n e r H e i g h t ) ) ) , b . h e i g h t = M a t h . m i n ( i n n e r H e i g h t , b . h e i g h t ) , b . h e i g h t - = 2 , b . w i d t h = M a t h . m i n ( b . w i d t h , a . w i d t h - ( p a g e X O f f s e t - a . l e f t ) ) , b . w i d t h = M a t h . m i n ( b . w i d t h , a . w i d t h - ( a . l e f t + a . w i d t h - ( p a g e X O f f s e t + i n n e r W i d t h ) ) ) , b . w i d t h = M a t h . m i n ( i n n e r W i d t h , b . w i d t h ) , b . w i d t h - = 2 , b . t o p < p a g e Y O f f s e t & & ( b . t o p = p a g e Y O f f s e t ) , b . l e f t < p a g e X O f f s e t & & ( b . l e f t = p a g e X O f f s e t ) , b } i f ( " s c r o l l - h a n d l e " = = = t h i s . t a r g e t M o d i f i e r ) { v a r   a = v o i d   0 , c = t h i s . t a r g e t ; c = = = d o c u m e n t . b o d y ? ( c = d o c u m e n t . d o c u m e n t E l e m e n t , a = { l e f t : p a g e X O f f s e t , t o p : p a g e Y O f f s e t , h e i g h t : i n n e r H e i g h t , w i d t h : i n n e r W i d t h } ) : a = h ( c ) ; v a r   d = g e t C o m p u t e d S t y l e ( c ) , e = c . s c r o l l W i d t h > c . c l i e n t W i d t h | | [ d . o v e r f l o w , d . o v e r f l o w X ] . i n d e x O f ( " s c r o l l " ) > = 0 | | t h i s . t a r g e t ! = = d o c u m e n t . b o d y , f = 0 ; e & & ( f = 1 5 ) ; v a r   g = a . h e i g h t - p a r s e F l o a t ( d . b o r d e r T o p W i d t h ) - p a r s e F l o a t ( d . b o r d e r B o t t o m W i d t h ) - f , b = { w i d t h : 1 5 , h e i g h t : . 9 7 5 * g * ( g / c . s c r o l l H e i g h t ) , l e f t : a . l e f t + a . w i d t h - p a r s e F l o a t ( d . b o r d e r L e f t W i d t h ) - 1 5 } , i = 0 ; g < 4 0 8 & & t h i s . t a r g e t = = = d o c u m e n t . b o d y & & ( i = - 1 1 e - 5 * M a t h . p o w ( g , 2 ) - . 0 0 7 2 7 * g + 2 2 . 5 8 ) , t h i s . t a r g e t ! = = d o c u m e n t . b o d y & & ( b . h e i g h t = M a t h . m a x ( b . h e i g h t , 2 4 ) ) ; v a r   j = t h i s . t a r g e t . s c r o l l T o p / ( c . s c r o l l H e i g h t - g ) ; r e t u r n   b . t o p = j * ( g - b . h e i g h t - i ) + a . t o p + p a r s e F l o a t ( d . b o r d e r T o p W i d t h ) , t h i s . t a r g e t = = = d o c u m e n t . b o d y & & ( b . h e i g h t = M a t h . m a x ( b . h e i g h t , 2 4 ) ) , b } } } , { k e y : " c l e a r C a c h e " , v a l u e : f u n c t i o n ( ) { t h i s . _ c a c h e = { } } } , { k e y : " c a c h e " , v a l u e : f u n c t i o n ( a , b ) { r e t u r n " u n d e f i n e d " = = t y p e o f   t h i s . _ c a c h e & & ( t h i s . _ c a c h e = { } ) , " u n d e f i n e d " = = t y p e o f   t h i s . _ c a c h e [ a ] & & ( t h i s . _ c a c h e [ a ] = b . c a l l ( t h i s ) ) , t h i s . _ c a c h e [ a ] } } , { k e y : " e n a b l e " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] | | a r g u m e n t s [ 0 ] ; t h i s . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & m ( t h i s . t a r g e t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , m ( t h i s . e l e m e n t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , t h i s . e n a b l e d = ! 0 , t h i s . s c r o l l P a r e n t s . f o r E a c h ( f u n c t i o n ( b ) { b ! = = a . t a r g e t . o w n e r D o c u m e n t & & b . a d d E v e n t L i s t e n e r ( " s c r o l l " , a . p o s i t i o n ) } ) , b & & t h i s . p o s i t i o n ( ) } } , { k e y : " d i s a b l e " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s ; l ( t h i s . t a r g e t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , l ( t h i s . e l e m e n t , t h i s . g e t C l a s s ( " e n a b l e d " ) ) , t h i s . e n a b l e d = ! 1 , " u n d e f i n e d " ! = t y p e o f   t h i s . s c r o l l P a r e n t s & & t h i s . s c r o l l P a r e n t s . f o r E a c h ( f u n c t i o n ( b ) { b . r e m o v e E v e n t L i s t e n e r ( " s c r o l l " , a . p o s i t i o n ) } ) } } , { k e y : " d e s t r o y " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . d i s a b l e ( ) , L . f o r E a c h ( f u n c t i o n ( b , c ) { b = = = a & & L . s p l i c e ( c , 1 ) } ) , 0 = = = L . l e n g t h & & g ( ) } } , { k e y : " u p d a t e A t t a c h C l a s s e s " , v a l u e : f u n c t i o n ( a , b ) { v a r   c = t h i s ; a = a | | t h i s . a t t a c h m e n t , b = b | | t h i s . t a r g e t A t t a c h m e n t ; v a r   d = [ " l e f t " , " t o p " , " b o t t o m " , " r i g h t " , " m i d d l e " , " c e n t e r " ] ; " u n d e f i n e d " ! = t y p e o f   t h i s . _ a d d A t t a c h C l a s s e s & & t h i s . _ a d d A t t a c h C l a s s e s . l e n g t h & & t h i s . _ a d d A t t a c h C l a s s e s . s p l i c e ( 0 , t h i s . _ a d d A t t a c h C l a s s e s . l e n g t h ) , " u n d e f i n e d " = = t y p e o f   t h i s . _ a d d A t t a c h C l a s s e s & & ( t h i s . _ a d d A t t a c h C l a s s e s = [ ] ) ; v a r   e = t h i s . _ a d d A t t a c h C l a s s e s ; a . t o p & & e . p u s h ( t h i s . g e t C l a s s ( " e l e m e n t - a t t a c h e d " ) + " - " + a . t o p ) , a . l e f t & & e . p u s h ( t h i s . g e t C l a s s ( " e l e m e n t - a t t a c h e d " ) + " - " + a . l e f t ) , b . t o p & & e . p u s h ( t h i s . g e t C l a s s ( " t a r g e t - a t t a c h e d " ) + " - " + b . t o p ) , b . l e f t & & e . p u s h ( t h i s . g e t C l a s s ( " t a r g e t - a t t a c h e d " ) + " - " + b . l e f t ) ; v a r   f = [ ] ; d . f o r E a c h ( f u n c t i o n ( a ) { f . p u s h ( c . g e t C l a s s ( " e l e m e n t - a t t a c h e d " ) + " - " + a ) , f . p u s h ( c . g e t C l a s s ( " t a r g e t - a t t a c h e d " ) + " - " + a ) } ) , E ( f u n c t i o n ( ) { " u n d e f i n e d " ! = t y p e o f   c . _ a d d A t t a c h C l a s s e s & & ( q ( c . e l e m e n t , c . _ a d d A t t a c h C l a s s e s , f ) , c . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & q ( c . t a r g e t , c . _ a d d A t t a c h C l a s s e s , f ) , d e l e t e   c . _ a d d A t t a c h C l a s s e s ) } ) } } , { k e y : " p o s i t i o n " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s , b = a r g u m e n t s . l e n g t h < = 0 | | v o i d   0 = = = a r g u m e n t s [ 0 ] | | a r g u m e n t s [ 0 ] ; i f ( t h i s . e n a b l e d ) { t h i s . c l e a r C a c h e ( ) ; v a r   c = Q ( t h i s . t a r g e t A t t a c h m e n t , t h i s . a t t a c h m e n t ) ; t h i s . u p d a t e A t t a c h C l a s s e s ( t h i s . a t t a c h m e n t , c ) ; v a r   d = t h i s . c a c h e ( " e l e m e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( a . e l e m e n t ) } ) , e = d . w i d t h , f = d . h e i g h t ; i f ( 0 = = = e & & 0 = = = f & & " u n d e f i n e d " ! = t y p e o f   t h i s . l a s t S i z e ) { v a r   g = t h i s . l a s t S i z e ; e = g . w i d t h , f = g . h e i g h t } e l s e   t h i s . l a s t S i z e = { w i d t h : e , h e i g h t : f } ; v a r   k = t h i s . c a c h e ( " t a r g e t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   a . g e t T a r g e t B o u n d s ( ) } ) , l = k , m = v ( R ( t h i s . a t t a c h m e n t ) , { w i d t h : e , h e i g h t : f } ) , n = v ( R ( c ) , l ) , o = v ( t h i s . o f f s e t , { w i d t h : e , h e i g h t : f } ) , p = v ( t h i s . t a r g e t O f f s e t , l ) ; m = u ( m , o ) , n = u ( n , p ) ; f o r ( v a r   q = k . l e f t + n . l e f t - m . l e f t , r = k . t o p + n . t o p - m . t o p , s = 0 ; s < y . m o d u l e s . l e n g t h ; + + s ) { v a r   t = y . m o d u l e s [ s ] , w = t . p o s i t i o n . c a l l ( t h i s , { l e f t : q , t o p : r , t a r g e t A t t a c h m e n t : c , t a r g e t P o s : k , e l e m e n t P o s : d , o f f s e t : m , t a r g e t O f f s e t : n , m a n u a l O f f s e t : o , m a n u a l T a r g e t O f f s e t : p , s c r o l l b a r S i z e : B , a t t a c h m e n t : t h i s . a t t a c h m e n t } ) ; i f ( w = = = ! 1 ) r e t u r n ! 1 ; " u n d e f i n e d " ! = t y p e o f   w & & " o b j e c t " = = t y p e o f   w & & ( r = w . t o p , q = w . l e f t ) } v a r   x = { p a g e : { t o p : r , l e f t : q } , v i e w p o r t : { t o p : r - p a g e Y O f f s e t , b o t t o m : p a g e Y O f f s e t - r - f + i n n e r H e i g h t , l e f t : q - p a g e X O f f s e t , r i g h t : p a g e X O f f s e t - q - e + i n n e r W i d t h } } , z = t h i s . t a r g e t . o w n e r D o c u m e n t , A = z . d e f a u l t V i e w , B = v o i d   0 ; r e t u r n   z . b o d y . s c r o l l W i d t h > A . i n n e r W i d t h & & ( B = t h i s . c a c h e ( " s c r o l l b a r - s i z e " , j ) , x . v i e w p o r t . b o t t o m - = B . h e i g h t ) , z . b o d y . s c r o l l H e i g h t > A . i n n e r H e i g h t & & ( B = t h i s . c a c h e ( " s c r o l l b a r - s i z e " , j ) , x . v i e w p o r t . r i g h t - = B . w i d t h ) , [ " " , " s t a t i c " ] . i n d e x O f ( z . b o d y . s t y l e . p o s i t i o n ) ! = = - 1 & & [ " " , " s t a t i c " ] . i n d e x O f ( z . b o d y . p a r e n t E l e m e n t . s t y l e . p o s i t i o n ) ! = = - 1 | | ( x . p a g e . b o t t o m = z . b o d y . s c r o l l H e i g h t - r - f , x . p a g e . r i g h t = z . b o d y . s c r o l l W i d t h - q - e ) , " u n d e f i n e d " ! = t y p e o f   t h i s . o p t i o n s . o p t i m i z a t i o n s & & t h i s . o p t i o n s . o p t i m i z a t i o n s . m o v e E l e m e n t ! = = ! 1 & & " u n d e f i n e d " = = t y p e o f   t h i s . t a r g e t M o d i f i e r & & ! f u n c t i o n ( ) { v a r   b = a . c a c h e ( " t a r g e t - o f f s e t p a r e n t " , f u n c t i o n ( ) { r e t u r n   i ( a . t a r g e t ) } ) , c = a . c a c h e ( " t a r g e t - o f f s e t p a r e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( b ) } ) , d = g e t C o m p u t e d S t y l e ( b ) , e = c , f = { } ; i f ( [ " T o p " , " L e f t " , " B o t t o m " , " R i g h t " ] . f o r E a c h ( f u n c t i o n ( a ) { f [ a . t o L o w e r C a s e ( ) ] = p a r s e F l o a t ( d [ " b o r d e r " + a + " W i d t h " ] ) } ) , c . r i g h t = z . b o d y . s c r o l l W i d t h - c . l e f t - e . w i d t h + f . r i g h t , c . b o t t o m = z . b o d y . s c r o l l H e i g h t - c . t o p - e . h e i g h t + f . b o t t o m , x . p a g e . t o p > = c . t o p + f . t o p & & x . p a g e . b o t t o m > = c . b o t t o m & & x . p a g e . l e f t > = c . l e f t + f . l e f t & & x . p a g e . r i g h t > = c . r i g h t ) { v a r   g = b . s c r o l l T o p , j = b . s c r o l l L e f t ; x . o f f s e t = { t o p : x . p a g e . t o p - c . t o p + g - f . t o p , l e f t : x . p a g e . l e f t - c . l e f t + j - f . l e f t } } } ( ) , t h i s . m o v e ( x ) , t h i s . h i s t o r y . u n s h i f t ( x ) , t h i s . h i s t o r y . l e n g t h > 3 & & t h i s . h i s t o r y . p o p ( ) , b & & F ( ) , ! 0 } } } , { k e y : " m o v e " , v a l u e : f u n c t i o n ( a ) { v a r   b = t h i s ; i f ( " u n d e f i n e d " ! = t y p e o f   t h i s . e l e m e n t . p a r e n t N o d e ) { v a r   c = { } ; f o r ( v a r   d   i n   a ) { c [ d ] = { } ; f o r ( v a r   e   i n   a [ d ] ) { f o r ( v a r   f = ! 1 , g = 0 ; g < t h i s . h i s t o r y . l e n g t h ; + + g ) { v a r   h = t h i s . h i s t o r y [ g ] ; i f ( " u n d e f i n e d " ! = t y p e o f   h [ d ] & & ! s ( h [ d ] [ e ] , a [ d ] [ e ] ) ) { f = ! 0 ; b r e a k } } f | | ( c [ d ] [ e ] = ! 0 ) } } v a r   j = { t o p : " " , l e f t : " " , r i g h t : " " , b o t t o m : " " } , l = f u n c t i o n ( a , c ) { v a r   d = " u n d e f i n e d " ! = t y p e o f   b . o p t i o n s . o p t i m i z a t i o n s , e = d ? b . o p t i o n s . o p t i m i z a t i o n s . g p u : n u l l ; i f ( e ! = = ! 1 ) { v a r   f = v o i d   0 , g = v o i d   0 ; a . t o p ? ( j . t o p = 0 , f = c . t o p ) : ( j . b o t t o m = 0 , f = - c . b o t t o m ) , a . l e f t ? ( j . l e f t = 0 , g = c . l e f t ) : ( j . r i g h t = 0 , g = - c . r i g h t ) , j [ K ] = " t r a n s l a t e X ( " + M a t h . r o u n d ( g ) + " p x )   t r a n s l a t e Y ( " + M a t h . r o u n d ( f ) + " p x ) " , " m s T r a n s f o r m " ! = = K & & ( j [ K ] + = "   t r a n s l a t e Z ( 0 ) " ) } e l s e   a . t o p ? j . t o p = c . t o p + " p x " : j . b o t t o m = c . b o t t o m + " p x " , a . l e f t ? j . l e f t = c . l e f t + " p x " : j . r i g h t = c . r i g h t + " p x " } , m = ! 1 ; i f ( ( c . p a g e . t o p | | c . p a g e . b o t t o m ) & & ( c . p a g e . l e f t | | c . p a g e . r i g h t ) ? ( j . p o s i t i o n = " a b s o l u t e " , l ( c . p a g e , a . p a g e ) ) : ( c . v i e w p o r t . t o p | | c . v i e w p o r t . b o t t o m ) & & ( c . v i e w p o r t . l e f t | | c . v i e w p o r t . r i g h t ) ? ( j . p o s i t i o n = " f i x e d " , l ( c . v i e w p o r t , a . v i e w p o r t ) ) : " u n d e f i n e d " ! = t y p e o f   c . o f f s e t & & c . o f f s e t . t o p & & c . o f f s e t . l e f t ? ! f u n c t i o n ( ) { j . p o s i t i o n = " a b s o l u t e " ; v a r   d = b . c a c h e ( " t a r g e t - o f f s e t p a r e n t " , f u n c t i o n ( ) { r e t u r n   i ( b . t a r g e t ) } ) ; i ( b . e l e m e n t ) ! = = d & & E ( f u n c t i o n ( ) { b . e l e m e n t . p a r e n t N o d e . r e m o v e C h i l d ( b . e l e m e n t ) , d . a p p e n d C h i l d ( b . e l e m e n t ) } ) , l ( c . o f f s e t , a . o f f s e t ) , m = ! 0 } ( ) : ( j . p o s i t i o n = " a b s o l u t e " , l ( { t o p : ! 0 , l e f t : ! 0 } , a . p a g e ) ) , ! m ) { f o r ( v a r   n = ! 0 , o = t h i s . e l e m e n t . p a r e n t N o d e ; o & & 1 = = = o . n o d e T y p e & & " B O D Y " ! = = o . t a g N a m e ; ) { i f ( " s t a t i c " ! = = g e t C o m p u t e d S t y l e ( o ) . p o s i t i o n ) { n = ! 1 ; b r e a k } o = o . p a r e n t N o d e } n | | ( t h i s . e l e m e n t . p a r e n t N o d e . r e m o v e C h i l d ( t h i s . e l e m e n t ) , t h i s . e l e m e n t . o w n e r D o c u m e n t . b o d y . a p p e n d C h i l d ( t h i s . e l e m e n t ) ) } v a r   p = { } , q = ! 1 ; f o r ( v a r   e   i n   j ) { v a r   r = j [ e ] , t = t h i s . e l e m e n t . s t y l e [ e ] ; t ! = = r & & ( q = ! 0 , p [ e ] = r ) } q & & E ( f u n c t i o n ( ) { k ( b . e l e m e n t . s t y l e , p ) } ) } } } ] ) , b } ( G ) ; U . m o d u l e s = [ ] , y . p o s i t i o n = M ; v a r   V = k ( U , y ) , H = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { v a r   c = [ ] , d = ! 0 , e = ! 1 , f = v o i d   0 ; t r y { f o r ( v a r   g , h = a [ S y m b o l . i t e r a t o r ] ( ) ; ! ( d = ( g = h . n e x t ( ) ) . d o n e ) & & ( c . p u s h ( g . v a l u e ) , ! b | | c . l e n g t h ! = = b ) ; d = ! 0 ) ; } c a t c h ( i ) { e = ! 0 , f = i } f i n a l l y { t r y { ! d & & h [ " r e t u r n " ] & & h [ " r e t u r n " ] ( ) } f i n a l l y { i f ( e ) t h r o w   f } } r e t u r n   c } r e t u r n   f u n c t i o n ( b , c ) { i f ( A r r a y . i s A r r a y ( b ) ) r e t u r n   b ; i f ( S y m b o l . i t e r a t o r   i n   O b j e c t ( b ) ) r e t u r n   a ( b , c ) ; t h r o w   n e w   T y p e E r r o r ( " I n v a l i d   a t t e m p t   t o   d e s t r u c t u r e   n o n - i t e r a b l e   i n s t a n c e " ) } } ( ) , J = y . U t i l s , h = J . g e t B o u n d s , k = J . e x t e n d , q = J . u p d a t e C l a s s e s , E = J . d e f e r , W = [ " l e f t " , " t o p " , " r i g h t " , " b o t t o m " ] ; y . m o d u l e s . p u s h ( { p o s i t i o n : f u n c t i o n ( a ) { v a r   b = t h i s , c = a . t o p , d = a . l e f t , e = a . t a r g e t A t t a c h m e n t ; i f ( ! t h i s . o p t i o n s . c o n s t r a i n t s ) r e t u r n ! 0 ; v a r   f = t h i s . c a c h e ( " e l e m e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( b . e l e m e n t ) } ) , g = f . h e i g h t , i = f . w i d t h ; i f ( 0 = = = i & & 0 = = = g & & " u n d e f i n e d " ! = t y p e o f   t h i s . l a s t S i z e ) { v a r   j = t h i s . l a s t S i z e ; i = j . w i d t h , g = j . h e i g h t } v a r   l = t h i s . c a c h e ( " t a r g e t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   b . g e t T a r g e t B o u n d s ( ) } ) , m = l . h e i g h t , n = l . w i d t h , o = [ t h i s . g e t C l a s s ( " p i n n e d " ) , t h i s . g e t C l a s s ( " o u t - o f - b o u n d s " ) ] ; t h i s . o p t i o n s . c o n s t r a i n t s . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = a . o u t O f B o u n d s C l a s s , c = a . p i n n e d C l a s s ; b & & o . p u s h ( b ) , c & & o . p u s h ( c ) } ) , o . f o r E a c h ( f u n c t i o n ( a ) { [ " l e f t " , " t o p " , " r i g h t " , " b o t t o m " ] . f o r E a c h ( f u n c t i o n ( b ) { o . p u s h ( a + " - " + b ) } ) } ) ; v a r   p = [ ] , r = k ( { } , e ) , s = k ( { } , t h i s . a t t a c h m e n t ) ; r e t u r n   t h i s . o p t i o n s . c o n s t r a i n t s . f o r E a c h ( f u n c t i o n ( a ) { v a r   f = a . t o , h = a . a t t a c h m e n t , j = a . p i n ; " u n d e f i n e d " = = t y p e o f   h & & ( h = " " ) ; v a r   k = v o i d   0 , l = v o i d   0 ; i f ( h . i n d e x O f ( "   " ) > = 0 ) { v a r   o = h . s p l i t ( "   " ) , q = H ( o , 2 ) ; l = q [ 0 ] , k = q [ 1 ] } e l s e   k = l = h ; v a r   t = w ( b , f ) ; " t a r g e t " ! = = l & & " b o t h " ! = = l | | ( c < t [ 1 ] & & " t o p " = = = r . t o p & & ( c + = m , r . t o p = " b o t t o m " ) , c + g > t [ 3 ] & & " b o t t o m " = = = r . t o p & & ( c - = m , r . t o p = " t o p " ) ) , " t o g e t h e r " = = = l & & ( " t o p " = = = r . t o p & & ( " b o t t o m " = = = s . t o p & & c < t [ 1 ] ? ( c + = m , r . t o p = " b o t t o m " , c + = g , s . t o p = " t o p " ) : " t o p " = = = s . t o p & & c + g > t [ 3 ] & & c - ( g - m ) > = t [ 1 ] & & ( c - = g - m , r . t o p = " b o t t o m " , s . t o p = " b o t t o m " ) ) , " b o t t o m " = = = r . t o p & & ( " t o p " = = = s . t o p & & c + g > t [ 3 ] ? ( c - = m , r . t o p = " t o p " , c - = g , s . t o p = " b o t t o m " ) : " b o t t o m " = = = s . t o p & & c < t [ 1 ] & & c + ( 2 * g - m ) < = t [ 3 ] & & ( c + = g - m , r . t o p = " t o p " , s . t o p = " t o p " ) ) , " m i d d l e " = = = r . t o p & & ( c + g > t [ 3 ] & & " t o p " = = = s . t o p ? ( c - = g , s . t o p = " b o t t o m " ) : c < t [ 1 ] & & " b o t t o m " = = = s . t o p & & ( c + = g , s . t o p = " t o p " ) ) ) , " t a r g e t " ! = = k & & " b o t h " ! = = k | | ( d < t [ 0 ] & & " l e f t " = = = r . l e f t & & ( d + = n , r . l e f t = " r i g h t " ) , d + i > t [ 2 ] & & " r i g h t " = = = r . l e f t & & ( d - = n , r . l e f t = " l e f t " ) ) , " t o g e t h e r " = = = k & & ( d < t [ 0 ] & & " l e f t " = = = r . l e f t ? " r i g h t " = = = s . l e f t ? ( d + = n , r . l e f t = " r i g h t " , d + = i , s . l e f t = " l e f t " ) : " l e f t " = = = s . l e f t & & ( d + = n , r . l e f t = " r i g h t " , d - = i , s . l e f t = " r i g h t " ) : d + i > t [ 2 ] & & " r i g h t " = = = r . l e f t ? " l e f t " = = = s . l e f t ? ( d - = n , r . l e f t = " l e f t " , d - = i , s . l e f t = " r i g h t " ) : " r i g h t " = = = s . l e f t & & ( d - = n , r . l e f t = " l e f t " , d + = i , s . l e f t = " l e f t " ) : " c e n t e r " = = = r . l e f t & & ( d + i > t [ 2 ] & & " l e f t " = = = s . l e f t ? ( d - = i , s . l e f t = " r i g h t " ) : d < t [ 0 ] & & " r i g h t " = = = s . l e f t & & ( d + = i , s . l e f t = " l e f t " ) ) ) , " e l e m e n t " ! = = l & & " b o t h " ! = = l | | ( c < t [ 1 ] & & " b o t t o m " = = = s . t o p & & ( c + = g , s . t o p = " t o p " ) , c + g > t [ 3 ] & & " t o p " = = = s . t o p & & ( c - = g , s . t o p = " b o t t o m " ) ) , " e l e m e n t " ! = = k & & " b o t h " ! = = k | | ( d < t [ 0 ] & & ( " r i g h t " = = = s . l e f t ? ( d + = i , s . l e f t = " l e f t " ) : " c e n t e r " = = = s . l e f t & & ( d + = i / 2 , s . l e f t = " l e f t " ) ) , d + i > t [ 2 ] & & ( " l e f t " = = = s . l e f t ? ( d - = i , s . l e f t = " r i g h t " ) : " c e n t e r " = = = s . l e f t & & ( d - = i / 2 , s . l e f t = " r i g h t " ) ) ) , " s t r i n g " = = t y p e o f   j ? j = j . s p l i t ( " , " ) . m a p ( f u n c t i o n ( a ) { r e t u r n   a . t r i m ( ) } ) : j = = = ! 0 & & ( j = [ " t o p " , " l e f t " , " r i g h t " , " b o t t o m " ] ) , j = j | | [ ] ; v a r   u = [ ] , v = [ ] ; c < t [ 1 ] & & ( j . i n d e x O f ( " t o p " ) > = 0 ? ( c = t [ 1 ] , u . p u s h ( " t o p " ) ) : v . p u s h ( " t o p " ) ) , c + g > t [ 3 ] & & ( j . i n d e x O f ( " b o t t o m " ) > = 0 ? ( c = t [ 3 ] - g , u . p u s h ( " b o t t o m " ) ) : v . p u s h ( " b o t t o m " ) ) , d < t [ 0 ] & & ( j . i n d e x O f ( " l e f t " ) > = 0 ? ( d = t [ 0 ] , u . p u s h ( " l e f t " ) ) : v . p u s h ( " l e f t " ) ) , d + i > t [ 2 ] & & ( j . i n d e x O f ( " r i g h t " ) > = 0 ? ( d = t [ 2 ] - i , u . p u s h ( " r i g h t " ) ) : v . p u s h ( " r i g h t " ) ) , u . l e n g t h & & ! f u n c t i o n ( ) { v a r   a = v o i d   0 ; a = " u n d e f i n e d " ! = t y p e o f   b . o p t i o n s . p i n n e d C l a s s ? b . o p t i o n s . p i n n e d C l a s s : b . g e t C l a s s ( " p i n n e d " ) , p . p u s h ( a ) , u . f o r E a c h ( f u n c t i o n ( b ) { p . p u s h ( a + " - " + b ) } ) } ( ) , v . l e n g t h & & ! f u n c t i o n ( ) { v a r   a = v o i d   0 ; a = " u n d e f i n e d " ! = t y p e o f   b . o p t i o n s . o u t O f B o u n d s C l a s s ? b . o p t i o n s . o u t O f B o u n d s C l a s s : b . g e t C l a s s ( " o u t - o f - b o u n d s " ) , p . p u s h ( a ) , v . f o r E a c h ( f u n c t i o n ( b ) { p . p u s h ( a + " - " + b ) } ) } ( ) , ( u . i n d e x O f ( " l e f t " ) > = 0 | | u . i n d e x O f ( " r i g h t " ) > = 0 ) & & ( s . l e f t = r . l e f t = ! 1 ) , ( u . i n d e x O f ( " t o p " ) > = 0 | | u . i n d e x O f ( " b o t t o m " ) > = 0 ) & & ( s . t o p = r . t o p = ! 1 ) , r . t o p = = = e . t o p & & r . l e f t = = = e . l e f t & & s . t o p = = = b . a t t a c h m e n t . t o p & & s . l e f t = = = b . a t t a c h m e n t . l e f t | | ( b . u p d a t e A t t a c h C l a s s e s ( s , r ) , b . t r i g g e r ( " u p d a t e " , { a t t a c h m e n t : s , t a r g e t A t t a c h m e n t : r } ) ) } ) , E ( f u n c t i o n ( ) { b . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & q ( b . t a r g e t , p , o ) , q ( b . e l e m e n t , p , o ) } ) , { t o p : c , l e f t : d } } } ) ; v a r   J = y . U t i l s , h = J . g e t B o u n d s , q = J . u p d a t e C l a s s e s , E = J . d e f e r ; y . m o d u l e s . p u s h ( { p o s i t i o n : f u n c t i o n ( a ) { v a r   b = t h i s , c = a . t o p , d = a . l e f t , e = t h i s . c a c h e ( " e l e m e n t - b o u n d s " , f u n c t i o n ( ) { r e t u r n   h ( b . e l e m e n t ) } ) , f = e . h e i g h t , g = e . w i d t h , i = t h i s . g e t T a r g e t B o u n d s ( ) , j = c + f , k = d + g , l = [ ] ; c < = i . b o t t o m & & j > = i . t o p & & [ " l e f t " , " r i g h t " ] . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = i [ a ] ; b ! = = d & & b ! = = k | | l . p u s h ( a ) } ) , d < = i . r i g h t & & k > = i . l e f t & & [ " t o p " , " b o t t o m " ] . f o r E a c h ( f u n c t i o n ( a ) { v a r   b = i [ a ] ; b ! = = c & & b ! = = j | | l . p u s h ( a ) } ) ; v a r   m = [ ] , n = [ ] , o = [ " l e f t " , " t o p " , " r i g h t " , " b o t t o m " ] ; r e t u r n   m . p u s h ( t h i s . g e t C l a s s ( " a b u t t e d " ) ) , o . f o r E a c h ( f u n c t i o n ( a ) { m . p u s h ( b . g e t C l a s s ( " a b u t t e d " ) + " - " + a ) } ) , l . l e n g t h & & n . p u s h ( t h i s . g e t C l a s s ( " a b u t t e d " ) ) , l . f o r E a c h ( f u n c t i o n ( a ) { n . p u s h ( b . g e t C l a s s ( " a b u t t e d " ) + " - " + a ) } ) , E ( f u n c t i o n ( ) { b . o p t i o n s . a d d T a r g e t C l a s s e s ! = = ! 1 & & q ( b . t a r g e t , n , m ) , q ( b . e l e m e n t , n , m ) } ) , ! 0 } } ) ; v a r   H = f u n c t i o n ( ) { f u n c t i o n   a ( a , b ) { v a r   c = [ ] , d = ! 0 , e = ! 1 , f = v o i d   0 ; t r y { f o r ( v a r   g , h = a [ S y m b o l . i t e r a t o r ] ( ) ; ! ( d = ( g = h . n e x t ( ) ) . d o n e ) & & ( c . p u s h ( g . v a l u e ) , ! b | | c . l e n g t h ! = = b ) ; d = ! 0 ) ; } c a t c h ( i ) { e = ! 0 , f = i } f i n a l l y { t r y { ! d & & h [ " r e t u r n " ] & & h [ " r e t u r n " ] ( ) } f i n a l l y { i f ( e ) t h r o w   f } } r e t u r n   c } r e t u r n   f u n c t i o n ( b , c ) { i f ( A r r a y . i s A r r a y ( b ) ) r e t u r n   b ; i f ( S y m b o l . i t e r a t o r   i n   O b j e c t ( b ) ) r e t u r n   a ( b , c ) ; t h r o w   n e w   T y p e E r r o r ( " I n v a l i d   a t t e m p t   t o   d e s t r u c t u r e   n o n - i t e r a b l e   i n s t a n c e " ) } } ( ) ; r e t u r n   y . m o d u l e s . p u s h ( { p o s i t i o n : f u n c t i o n ( a ) { v a r   b = a . t o p , c = a . l e f t ; i f ( t h i s . o p t i o n s . s h i f t ) { v a r   d = t h i s . o p t i o n s . s h i f t ; " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . s h i f t & & ( d = t h i s . o p t i o n s . s h i f t . c a l l ( t h i s , { t o p : b , l e f t : c } ) ) ; v a r   e = v o i d   0 , f = v o i d   0 ; i f ( " s t r i n g " = = t y p e o f   d ) { d = d . s p l i t ( "   " ) , d [ 1 ] = d [ 1 ] | | d [ 0 ] ; v a r   g = d , h = H ( g , 2 ) ; e = h [ 0 ] , f = h [ 1 ] , e = p a r s e F l o a t ( e , 1 0 ) , f = p a r s e F l o a t ( f , 1 0 ) } e l s e   e = d . t o p , f = d . l e f t ; r e t u r n   b + = e , c + = f , { t o p : b , l e f t : c } } } } ) , V } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / c o l l a p s e ' ,   [ " e x p o r t s " , " j q u e r y " , " . / u t i l " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a ) { r e t u r n ( e = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ) ( a ) } f u n c t i o n   f ( ) { r e t u r n   f = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , f . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   g ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   h ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   i ( a , b , c ) { r e t u r n   b & & h ( a . p r o t o t y p e , b ) , c & & h ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   j = d ( b ) , k = d ( c ) , l = f u n c t i o n ( a ) { v a r   b = " c o l l a p s e " , c = " 4 . 0 . 0 " , d = " b s . c o l l a p s e " , h = " . " . c o n c a t ( d ) , j = " . d a t a - a p i " , l = a . f n [ b ] , m = 6 0 0 , n = { t o g g l e : ! 0 , p a r e n t : " " } , o = { t o g g l e : " b o o l e a n " , p a r e n t : " ( s t r i n g | e l e m e n t ) " } , p = { S H O W : " s h o w " . c o n c a t ( h ) , S H O W N : " s h o w n " . c o n c a t ( h ) , H I D E : " h i d e " . c o n c a t ( h ) , H I D D E N : " h i d d e n " . c o n c a t ( h ) , C L I C K _ D A T A _ A P I : " c l i c k " . c o n c a t ( h ) . c o n c a t ( j ) } , q = { S H O W : " s h o w " , C O L L A P S E : " c o l l a p s e " , C O L L A P S I N G : " c o l l a p s i n g " , C O L L A P S E D : " c o l l a p s e d " } , r = { W I D T H : " w i d t h " , H E I G H T : " h e i g h t " } , s = { A C T I V E S : " . s h o w ,   . c o l l a p s i n g " , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " c o l l a p s e " ] ' } , t = f u n c t i o n ( ) { f u n c t i o n   h ( b , c ) { g ( t h i s , h ) , t h i s . _ i s T r a n s i t i o n i n g = ! 1 , t h i s . _ e l e m e n t = b , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ t r i g g e r A r r a y = a . m a k e A r r a y ( a ( ' [ d a t a - t o g g l e = " c o l l a p s e " ] [ h r e f = " # ' . c o n c a t ( b . i d , ' " ] , ' ) + ' [ d a t a - t o g g l e = " c o l l a p s e " ] [ d a t a - t a r g e t = " # ' . c o n c a t ( b . i d , ' " ] ' ) ) ) ; f o r ( v a r   d = a ( s . D A T A _ T O G G L E ) , e = 0 ; e < d . l e n g t h ; e + + ) { v a r   f = d [ e ] , i = k [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( f ) ; n u l l ! = = i & & a ( i ) . f i l t e r ( b ) . l e n g t h > 0 & & ( t h i s . _ s e l e c t o r = i , t h i s . _ t r i g g e r A r r a y . p u s h ( f ) ) } t h i s . _ p a r e n t = t h i s . _ c o n f i g . p a r e n t ? t h i s . _ g e t P a r e n t ( ) : n u l l , t h i s . _ c o n f i g . p a r e n t | | t h i s . _ a d d A r i a A n d C o l l a p s e d C l a s s ( t h i s . _ e l e m e n t , t h i s . _ t r i g g e r A r r a y ) , t h i s . _ c o n f i g . t o g g l e & & t h i s . t o g g l e ( ) } r e t u r n   i ( h , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( ) { a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( q . S H O W ) ? t h i s . h i d e ( ) : t h i s . s h o w ( ) } } , { k e y : " s h o w " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( ! t h i s . _ i s T r a n s i t i o n i n g & & ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( q . S H O W ) ) { v a r   c , e ; i f ( t h i s . _ p a r e n t & & ( c = a . m a k e A r r a y ( a ( t h i s . _ p a r e n t ) . f i n d ( s . A C T I V E S ) . f i l t e r ( ' [ d a t a - p a r e n t = " ' . c o n c a t ( t h i s . _ c o n f i g . p a r e n t , ' " ] ' ) ) ) , 0 = = = c . l e n g t h & & ( c = n u l l ) ) , ! ( c & & ( e = a ( c ) . n o t ( t h i s . _ s e l e c t o r ) . d a t a ( d ) , e & & e . _ i s T r a n s i t i o n i n g ) ) ) { v a r   f = a . E v e n t ( p . S H O W ) ; i f ( a ( t h i s . _ e l e m e n t ) . t r i g g e r ( f ) , ! f . i s D e f a u l t P r e v e n t e d ( ) ) { c & & ( h . _ j Q u e r y I n t e r f a c e . c a l l ( a ( c ) . n o t ( t h i s . _ s e l e c t o r ) , " h i d e " ) , e | | a ( c ) . d a t a ( d , n u l l ) ) ; v a r   g = t h i s . _ g e t D i m e n s i o n ( ) ; a ( t h i s . _ e l e m e n t ) . r e m o v e C l a s s ( q . C O L L A P S E ) . a d d C l a s s ( q . C O L L A P S I N G ) , t h i s . _ e l e m e n t . s t y l e [ g ] = 0 , t h i s . _ t r i g g e r A r r a y . l e n g t h > 0 & & a ( t h i s . _ t r i g g e r A r r a y ) . r e m o v e C l a s s ( q . C O L L A P S E D ) . a t t r ( " a r i a - e x p a n d e d " , ! 0 ) , t h i s . s e t T r a n s i t i o n i n g ( ! 0 ) ; v a r   i = f u n c t i o n ( ) { a ( b . _ e l e m e n t ) . r e m o v e C l a s s ( q . C O L L A P S I N G ) . a d d C l a s s ( q . C O L L A P S E ) . a d d C l a s s ( q . S H O W ) , b . _ e l e m e n t . s t y l e [ g ] = " " , b . s e t T r a n s i t i o n i n g ( ! 1 ) , a ( b . _ e l e m e n t ) . t r i g g e r ( p . S H O W N ) } ; i f ( ! k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) ) r e t u r n   v o i d   i ( ) ; v a r   j = g [ 0 ] . t o U p p e r C a s e ( ) + g . s l i c e ( 1 ) , l = " s c r o l l " . c o n c a t ( j ) ; a ( t h i s . _ e l e m e n t ) . o n e ( k [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , i ) . e m u l a t e T r a n s i t i o n E n d ( m ) , t h i s . _ e l e m e n t . s t y l e [ g ] = " " . c o n c a t ( t h i s . _ e l e m e n t [ l ] , " p x " ) } } } } } , { k e y : " h i d e " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( ! t h i s . _ i s T r a n s i t i o n i n g & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( q . S H O W ) ) { v a r   c = a . E v e n t ( p . H I D E ) ; i f ( a ( t h i s . _ e l e m e n t ) . t r i g g e r ( c ) , ! c . i s D e f a u l t P r e v e n t e d ( ) ) { v a r   d = t h i s . _ g e t D i m e n s i o n ( ) ; i f ( t h i s . _ e l e m e n t . s t y l e [ d ] = " " . c o n c a t ( t h i s . _ e l e m e n t . g e t B o u n d i n g C l i e n t R e c t ( ) [ d ] , " p x " ) , k [ " d e f a u l t " ] . r e f l o w ( t h i s . _ e l e m e n t ) , a ( t h i s . _ e l e m e n t ) . a d d C l a s s ( q . C O L L A P S I N G ) . r e m o v e C l a s s ( q . C O L L A P S E ) . r e m o v e C l a s s ( q . S H O W ) , t h i s . _ t r i g g e r A r r a y . l e n g t h > 0 ) f o r ( v a r   e = 0 ; e < t h i s . _ t r i g g e r A r r a y . l e n g t h ; e + + ) { v a r   f = t h i s . _ t r i g g e r A r r a y [ e ] , g = k [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( f ) ; i f ( n u l l ! = = g ) { v a r   h = a ( g ) ; h . h a s C l a s s ( q . S H O W ) | | a ( f ) . a d d C l a s s ( q . C O L L A P S E D ) . a t t r ( " a r i a - e x p a n d e d " , ! 1 ) } } t h i s . s e t T r a n s i t i o n i n g ( ! 0 ) ; v a r   i = f u n c t i o n ( ) { b . s e t T r a n s i t i o n i n g ( ! 1 ) , a ( b . _ e l e m e n t ) . r e m o v e C l a s s ( q . C O L L A P S I N G ) . a d d C l a s s ( q . C O L L A P S E ) . t r i g g e r ( p . H I D D E N ) } ; r e t u r n   t h i s . _ e l e m e n t . s t y l e [ d ] = " " , k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) ? v o i d   a ( t h i s . _ e l e m e n t ) . o n e ( k [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , i ) . e m u l a t e T r a n s i t i o n E n d ( m ) : v o i d   i ( ) } } } } , { k e y : " s e t T r a n s i t i o n i n g " , v a l u e : f u n c t i o n ( a ) { t h i s . _ i s T r a n s i t i o n i n g = a } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , d ) , t h i s . _ c o n f i g = n u l l , t h i s . _ p a r e n t = n u l l , t h i s . _ e l e m e n t = n u l l , t h i s . _ t r i g g e r A r r a y = n u l l , t h i s . _ i s T r a n s i t i o n i n g = n u l l } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( a ) { r e t u r n   a = f ( { } , n , a ) , a . t o g g l e = B o o l e a n ( a . t o g g l e ) , k [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , a , o ) , a } } , { k e y : " _ g e t D i m e n s i o n " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( r . W I D T H ) ; r e t u r n   b ? r . W I D T H : r . H E I G H T } } , { k e y : " _ g e t P a r e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s , c = n u l l ; k [ " d e f a u l t " ] . i s E l e m e n t ( t h i s . _ c o n f i g . p a r e n t ) ? ( c = t h i s . _ c o n f i g . p a r e n t , " u n d e f i n e d " ! = t y p e o f   t h i s . _ c o n f i g . p a r e n t . j q u e r y & & ( c = t h i s . _ c o n f i g . p a r e n t [ 0 ] ) ) : c = a ( t h i s . _ c o n f i g . p a r e n t ) [ 0 ] ; v a r   d = ' [ d a t a - t o g g l e = " c o l l a p s e " ] [ d a t a - p a r e n t = " ' . c o n c a t ( t h i s . _ c o n f i g . p a r e n t , ' " ] ' ) ; r e t u r n   a ( c ) . f i n d ( d ) . e a c h ( f u n c t i o n ( a , c ) { b . _ a d d A r i a A n d C o l l a p s e d C l a s s ( h . _ g e t T a r g e t F r o m E l e m e n t ( c ) , [ c ] ) } ) , c } } , { k e y : " _ a d d A r i a A n d C o l l a p s e d C l a s s " , v a l u e : f u n c t i o n ( b , c ) { i f ( b ) { v a r   d = a ( b ) . h a s C l a s s ( q . S H O W ) ; c . l e n g t h > 0 & & a ( c ) . t o g g l e C l a s s ( q . C O L L A P S E D , ! d ) . a t t r ( " a r i a - e x p a n d e d " , d ) } } } ] , [ { k e y : " _ g e t T a r g e t F r o m E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = k [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) ; r e t u r n   c ? a ( c ) [ 0 ] : n u l l } } , { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , g = c . d a t a ( d ) , i = f ( { } , n , c . d a t a ( ) , " o b j e c t " = = = e ( b ) & & b ) ; i f ( ! g & & i . t o g g l e & & / s h o w | h i d e / . t e s t ( b ) & & ( i . t o g g l e = ! 1 ) , g | | ( g = n e w   h ( t h i s , i ) , c . d a t a ( d , g ) ) , " s t r i n g " = = t y p e o f   b ) { i f ( " u n d e f i n e d " = = t y p e o f   g [ b ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( b , ' " ' ) ) ; g [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   n } } ] ) , h } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( p . C L I C K _ D A T A _ A P I , s . D A T A _ T O G G L E , f u n c t i o n ( b ) { " A " = = = b . c u r r e n t T a r g e t . t a g N a m e & & b . p r e v e n t D e f a u l t ( ) ; v a r   c = a ( t h i s ) , e = k [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( t h i s ) ; a ( e ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) , e = b . d a t a ( d ) , f = e ? " t o g g l e " : c . d a t a ( ) ; t . _ j Q u e r y I n t e r f a c e . c a l l ( b , f ) } ) } ) , a . f n [ b ] = t . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = t , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = l , t . _ j Q u e r y I n t e r f a c e } , t } ( j [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = l } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / b u t t o n ' ,   [ " e x p o r t s " , " j q u e r y " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   d ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   e ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   f ( a , b , c ) { r e t u r n   b & & e ( a . p r o t o t y p e , b ) , c & & e ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   g = c ( b ) , h = f u n c t i o n ( a ) { v a r   b = " b u t t o n " , c = " 4 . 0 . 0 " , e = " b s . b u t t o n " , g = " . " . c o n c a t ( e ) , h = " . d a t a - a p i " , i = a . f n [ b ] , j = { A C T I V E : " a c t i v e " , B U T T O N : " b t n " , F O C U S : " f o c u s " } , k = { D A T A _ T O G G L E _ C A R R O T : ' [ d a t a - t o g g l e ^ = " b u t t o n " ] ' , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " b u t t o n s " ] ' , I N P U T : " i n p u t " , A C T I V E : " . a c t i v e " , B U T T O N : " . b t n " } , l = { C L I C K _ D A T A _ A P I : " c l i c k " . c o n c a t ( g ) . c o n c a t ( h ) , F O C U S _ B L U R _ D A T A _ A P I : " f o c u s " . c o n c a t ( g ) . c o n c a t ( h , "   " ) + " b l u r " . c o n c a t ( g ) . c o n c a t ( h ) } , m = f u n c t i o n ( ) { f u n c t i o n   b ( a ) { d ( t h i s , b ) , t h i s . _ e l e m e n t = a } r e t u r n   f ( b , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( ) { v a r   b = ! 0 , c = ! 0 , d = a ( t h i s . _ e l e m e n t ) . c l o s e s t ( k . D A T A _ T O G G L E ) [ 0 ] ; i f ( d ) { v a r   e = a ( t h i s . _ e l e m e n t ) . f i n d ( k . I N P U T ) [ 0 ] ; i f ( e ) { i f ( " r a d i o " = = = e . t y p e ) i f ( e . c h e c k e d & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( j . A C T I V E ) ) b = ! 1 ; e l s e { v a r   f = a ( d ) . f i n d ( k . A C T I V E ) [ 0 ] ; f & & a ( f ) . r e m o v e C l a s s ( j . A C T I V E ) } i f ( b ) { i f ( e . h a s A t t r i b u t e ( " d i s a b l e d " ) | | d . h a s A t t r i b u t e ( " d i s a b l e d " ) | | e . c l a s s L i s t . c o n t a i n s ( " d i s a b l e d " ) | | d . c l a s s L i s t . c o n t a i n s ( " d i s a b l e d " ) ) r e t u r n ; e . c h e c k e d = ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( j . A C T I V E ) , a ( e ) . t r i g g e r ( " c h a n g e " ) } e . f o c u s ( ) , c = ! 1 } } c & & t h i s . _ e l e m e n t . s e t A t t r i b u t e ( " a r i a - p r e s s e d " , ! a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( j . A C T I V E ) ) , b & & a ( t h i s . _ e l e m e n t ) . t o g g l e C l a s s ( j . A C T I V E ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , e ) , t h i s . _ e l e m e n t = n u l l } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   d = a ( t h i s ) . d a t a ( e ) ; d | | ( d = n e w   b ( t h i s ) , a ( t h i s ) . d a t a ( e , d ) ) , " t o g g l e " = = = c & & d [ c ] ( ) } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } ] ) , b } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( l . C L I C K _ D A T A _ A P I , k . D A T A _ T O G G L E _ C A R R O T , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) ; v a r   c = b . t a r g e t ; a ( c ) . h a s C l a s s ( j . B U T T O N ) | | ( c = a ( c ) . c l o s e s t ( k . B U T T O N ) ) , m . _ j Q u e r y I n t e r f a c e . c a l l ( a ( c ) , " t o g g l e " ) } ) . o n ( l . F O C U S _ B L U R _ D A T A _ A P I , k . D A T A _ T O G G L E _ C A R R O T , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) . c l o s e s t ( k . B U T T O N ) [ 0 ] ; a ( c ) . t o g g l e C l a s s ( j . F O C U S , / ^ f o c u s ( i n ) ? $ / . t e s t ( b . t y p e ) ) } ) , a . f n [ b ] = m . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = m , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = i , m . _ j Q u e r y I n t e r f a c e } , m } ( g [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = h } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / t o o l t i p ' ,   [ " e x p o r t s " , " j q u e r y " , " c o r e / p o p p e r " , " . / u t i l " ] , f u n c t i o n ( a , b , c , d ) { " u s e   s t r i c t " ; f u n c t i o n   e ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   f ( ) { r e t u r n   f = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , f . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   g ( a ) { r e t u r n ( g = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ) ( a ) } f u n c t i o n   h ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   i ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   j ( a , b , c ) { r e t u r n   b & & i ( a . p r o t o t y p e , b ) , c & & i ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   k = e ( b ) , l = e ( c ) , m = e ( d ) , n = f u n c t i o n ( a ) { v a r   b = " t o o l t i p " , c = " 4 . 0 . 0 " , d = " b s . t o o l t i p " , e = " . " . c o n c a t ( d ) , i = a . f n [ b ] , k = 1 5 0 , n = " b s - t o o l t i p " , o = n e w   R e g E x p ( " ( ^ | \ \ s ) " . c o n c a t ( n , " \ \ S + " ) , " g " ) , p = { a n i m a t i o n : " b o o l e a n " , t e m p l a t e : " s t r i n g " , t i t l e : " ( s t r i n g | e l e m e n t | f u n c t i o n ) " , t r i g g e r : " s t r i n g " , d e l a y : " ( n u m b e r | o b j e c t ) " , h t m l : " b o o l e a n " , s e l e c t o r : " ( s t r i n g | b o o l e a n ) " , p l a c e m e n t : " ( s t r i n g | f u n c t i o n ) " , o f f s e t : " ( n u m b e r | s t r i n g ) " , c o n t a i n e r : " ( s t r i n g | e l e m e n t | b o o l e a n ) " , f a l l b a c k P l a c e m e n t : " ( s t r i n g | a r r a y ) " , b o u n d a r y : " ( s t r i n g | e l e m e n t ) " } , q = { A U T O : " a u t o " , T O P : " t o p " , R I G H T : " r i g h t " , B O T T O M : " b o t t o m " , L E F T : " l e f t " } , r = { a n i m a t i o n : ! 0 , t e m p l a t e : ' < d i v   c l a s s = " t o o l t i p "   r o l e = " t o o l t i p " > < d i v   c l a s s = " a r r o w " > < / d i v > < d i v   c l a s s = " t o o l t i p - i n n e r " > < / d i v > < / d i v > ' , t r i g g e r : " h o v e r   f o c u s " , t i t l e : " " , d e l a y : 0 , h t m l : ! 1 , s e l e c t o r : ! 1 , p l a c e m e n t : " t o p " , o f f s e t : 0 , c o n t a i n e r : ! 1 , f a l l b a c k P l a c e m e n t : " f l i p " , b o u n d a r y : " s c r o l l P a r e n t " } , s = { S H O W : " s h o w " , O U T : " o u t " } , t = { H I D E : " h i d e " . c o n c a t ( e ) , H I D D E N : " h i d d e n " . c o n c a t ( e ) , S H O W : " s h o w " . c o n c a t ( e ) , S H O W N : " s h o w n " . c o n c a t ( e ) , I N S E R T E D : " i n s e r t e d " . c o n c a t ( e ) , C L I C K : " c l i c k " . c o n c a t ( e ) , F O C U S I N : " f o c u s i n " . c o n c a t ( e ) , F O C U S O U T : " f o c u s o u t " . c o n c a t ( e ) , M O U S E E N T E R : " m o u s e e n t e r " . c o n c a t ( e ) , M O U S E L E A V E : " m o u s e l e a v e " . c o n c a t ( e ) } , u = { F A D E : " f a d e " , S H O W : " s h o w " } , v = { T O O L T I P : " . t o o l t i p " , T O O L T I P _ I N N E R : " . t o o l t i p - i n n e r " , A R R O W : " . a r r o w " } , w = { H O V E R : " h o v e r " , F O C U S : " f o c u s " , C L I C K : " c l i c k " , M A N U A L : " m a n u a l " } , x = f u n c t i o n ( ) { f u n c t i o n   i ( a , b ) { i f ( h ( t h i s , i ) , " u n d e f i n e d " = = t y p e o f   l [ " d e f a u l t " ] ) t h r o w   n e w   T y p e E r r o r ( " B o o t s t r a p   t o o l t i p s   r e q u i r e   P o p p e r . j s   ( h t t p s : / / p o p p e r . j s . o r g ) " ) ; t h i s . _ i s E n a b l e d = ! 0 , t h i s . _ t i m e o u t = 0 , t h i s . _ h o v e r S t a t e = " " , t h i s . _ a c t i v e T r i g g e r = { } , t h i s . _ p o p p e r = n u l l , t h i s . e l e m e n t = a , t h i s . c o n f i g = t h i s . _ g e t C o n f i g ( b ) , t h i s . t i p = n u l l , t h i s . _ s e t L i s t e n e r s ( ) } r e t u r n   j ( i , [ { k e y : " e n a b l e " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s E n a b l e d = ! 0 } } , { k e y : " d i s a b l e " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s E n a b l e d = ! 1 } } , { k e y : " t o g g l e E n a b l e d " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s E n a b l e d = ! t h i s . _ i s E n a b l e d } } , { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( b ) { i f ( t h i s . _ i s E n a b l e d ) i f ( b ) { v a r   c = t h i s . c o n s t r u c t o r . D A T A _ K E Y , d = a ( b . c u r r e n t T a r g e t ) . d a t a ( c ) ; d | | ( d = n e w   t h i s . c o n s t r u c t o r ( b . c u r r e n t T a r g e t , t h i s . _ g e t D e l e g a t e C o n f i g ( ) ) , a ( b . c u r r e n t T a r g e t ) . d a t a ( c , d ) ) , d . _ a c t i v e T r i g g e r . c l i c k = ! d . _ a c t i v e T r i g g e r . c l i c k , d . _ i s W i t h A c t i v e T r i g g e r ( ) ? d . _ e n t e r ( n u l l , d ) : d . _ l e a v e ( n u l l , d ) } e l s e { i f ( a ( t h i s . g e t T i p E l e m e n t ( ) ) . h a s C l a s s ( u . S H O W ) ) r e t u r n   v o i d   t h i s . _ l e a v e ( n u l l , t h i s ) ; t h i s . _ e n t e r ( n u l l , t h i s ) } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { c l e a r T i m e o u t ( t h i s . _ t i m e o u t ) , a . r e m o v e D a t a ( t h i s . e l e m e n t , t h i s . c o n s t r u c t o r . D A T A _ K E Y ) , a ( t h i s . e l e m e n t ) . o f f ( t h i s . c o n s t r u c t o r . E V E N T _ K E Y ) , a ( t h i s . e l e m e n t ) . c l o s e s t ( " . m o d a l " ) . o f f ( " h i d e . b s . m o d a l " ) , t h i s . t i p & & a ( t h i s . t i p ) . r e m o v e ( ) , t h i s . _ i s E n a b l e d = n u l l , t h i s . _ t i m e o u t = n u l l , t h i s . _ h o v e r S t a t e = n u l l , t h i s . _ a c t i v e T r i g g e r = n u l l , n u l l ! = = t h i s . _ p o p p e r & & t h i s . _ p o p p e r . d e s t r o y ( ) , t h i s . _ p o p p e r = n u l l , t h i s . e l e m e n t = n u l l , t h i s . c o n f i g = n u l l , t h i s . t i p = n u l l } } , { k e y : " s h o w " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( " n o n e " = = = a ( t h i s . e l e m e n t ) . c s s ( " d i s p l a y " ) ) t h r o w   n e w   E r r o r ( " P l e a s e   u s e   s h o w   o n   v i s i b l e   e l e m e n t s " ) ; v a r   c = a . E v e n t ( t h i s . c o n s t r u c t o r . E v e n t . S H O W ) ; i f ( t h i s . i s W i t h C o n t e n t ( ) & & t h i s . _ i s E n a b l e d ) { a ( t h i s . e l e m e n t ) . t r i g g e r ( c ) ; v a r   d = a . c o n t a i n s ( t h i s . e l e m e n t . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t , t h i s . e l e m e n t ) ; i f ( c . i s D e f a u l t P r e v e n t e d ( ) | | ! d ) r e t u r n ; v a r   e = t h i s . g e t T i p E l e m e n t ( ) , f = m [ " d e f a u l t " ] . g e t U I D ( t h i s . c o n s t r u c t o r . N A M E ) ; e . s e t A t t r i b u t e ( " i d " , f ) , t h i s . e l e m e n t . s e t A t t r i b u t e ( " a r i a - d e s c r i b e d b y " , f ) , t h i s . s e t C o n t e n t ( ) , t h i s . c o n f i g . a n i m a t i o n & & a ( e ) . a d d C l a s s ( u . F A D E ) ; v a r   g = " f u n c t i o n " = = t y p e o f   t h i s . c o n f i g . p l a c e m e n t ? t h i s . c o n f i g . p l a c e m e n t . c a l l ( t h i s , e , t h i s . e l e m e n t ) : t h i s . c o n f i g . p l a c e m e n t , h = t h i s . _ g e t A t t a c h m e n t ( g ) ; t h i s . a d d A t t a c h m e n t C l a s s ( h ) ; v a r   j = t h i s . c o n f i g . c o n t a i n e r = = = ! 1 ? d o c u m e n t . b o d y : a ( t h i s . c o n f i g . c o n t a i n e r ) ; a ( e ) . d a t a ( t h i s . c o n s t r u c t o r . D A T A _ K E Y , t h i s ) , a . c o n t a i n s ( t h i s . e l e m e n t . o w n e r D o c u m e n t . d o c u m e n t E l e m e n t , t h i s . t i p ) | | a ( e ) . a p p e n d T o ( j ) , a ( t h i s . e l e m e n t ) . t r i g g e r ( t h i s . c o n s t r u c t o r . E v e n t . I N S E R T E D ) , t h i s . _ p o p p e r = n e w   l [ " d e f a u l t " ] ( t h i s . e l e m e n t , e , { p l a c e m e n t : h , m o d i f i e r s : { o f f s e t : { o f f s e t : t h i s . c o n f i g . o f f s e t } , f l i p : { b e h a v i o r : t h i s . c o n f i g . f a l l b a c k P l a c e m e n t } , a r r o w : { e l e m e n t : v . A R R O W } , p r e v e n t O v e r f l o w : { b o u n d a r i e s E l e m e n t : t h i s . c o n f i g . b o u n d a r y } } , o n C r e a t e : f u n c t i o n ( a ) { a . o r i g i n a l P l a c e m e n t ! = = a . p l a c e m e n t & & b . _ h a n d l e P o p p e r P l a c e m e n t C h a n g e ( a ) } , o n U p d a t e : f u n c t i o n ( a ) { b . _ h a n d l e P o p p e r P l a c e m e n t C h a n g e ( a ) } } ) , a ( e ) . a d d C l a s s ( u . S H O W ) , " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & a ( " b o d y " ) . c h i l d r e n ( ) . o n ( " m o u s e o v e r " , n u l l , a . n o o p ) ; v a r   k = f u n c t i o n ( ) { b . c o n f i g . a n i m a t i o n & & b . _ f i x T r a n s i t i o n ( ) ; v a r   c = b . _ h o v e r S t a t e ; b . _ h o v e r S t a t e = n u l l , a ( b . e l e m e n t ) . t r i g g e r ( b . c o n s t r u c t o r . E v e n t . S H O W N ) , c = = = s . O U T & & b . _ l e a v e ( n u l l , b ) } ; m [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . t i p ) . h a s C l a s s ( u . F A D E ) ? a ( t h i s . t i p ) . o n e ( m [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , k ) . e m u l a t e T r a n s i t i o n E n d ( i . _ T R A N S I T I O N _ D U R A T I O N ) : k ( ) } } } , { k e y : " h i d e " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s , d = t h i s . g e t T i p E l e m e n t ( ) , e = a . E v e n t ( t h i s . c o n s t r u c t o r . E v e n t . H I D E ) , f = f u n c t i o n ( ) { c . _ h o v e r S t a t e ! = = s . S H O W & & d . p a r e n t N o d e & & d . p a r e n t N o d e . r e m o v e C h i l d ( d ) , c . _ c l e a n T i p C l a s s ( ) , c . e l e m e n t . r e m o v e A t t r i b u t e ( " a r i a - d e s c r i b e d b y " ) , a ( c . e l e m e n t ) . t r i g g e r ( c . c o n s t r u c t o r . E v e n t . H I D D E N ) , n u l l ! = = c . _ p o p p e r & & c . _ p o p p e r . d e s t r o y ( ) , b & & b ( ) } ; a ( t h i s . e l e m e n t ) . t r i g g e r ( e ) , e . i s D e f a u l t P r e v e n t e d ( ) | | ( a ( d ) . r e m o v e C l a s s ( u . S H O W ) , " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & a ( " b o d y " ) . c h i l d r e n ( ) . o f f ( " m o u s e o v e r " , n u l l , a . n o o p ) , t h i s . _ a c t i v e T r i g g e r [ w . C L I C K ] = ! 1 , t h i s . _ a c t i v e T r i g g e r [ w . F O C U S ] = ! 1 , t h i s . _ a c t i v e T r i g g e r [ w . H O V E R ] = ! 1 , m [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . t i p ) . h a s C l a s s ( u . F A D E ) ? a ( d ) . o n e ( m [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , f ) . e m u l a t e T r a n s i t i o n E n d ( k ) : f ( ) , t h i s . _ h o v e r S t a t e = " " ) } } , { k e y : " u p d a t e " , v a l u e : f u n c t i o n ( ) { n u l l ! = = t h i s . _ p o p p e r & & t h i s . _ p o p p e r . s c h e d u l e U p d a t e ( ) } } , { k e y : " i s W i t h C o n t e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   B o o l e a n ( t h i s . g e t T i t l e ( ) ) } } , { k e y : " a d d A t t a c h m e n t C l a s s " , v a l u e : f u n c t i o n ( b ) { a ( t h i s . g e t T i p E l e m e n t ( ) ) . a d d C l a s s ( " " . c o n c a t ( n , " - " ) . c o n c a t ( b ) ) } } , { k e y : " g e t T i p E l e m e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . t i p = t h i s . t i p | | a ( t h i s . c o n f i g . t e m p l a t e ) [ 0 ] , t h i s . t i p } } , { k e y : " s e t C o n t e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . g e t T i p E l e m e n t ( ) ) ; t h i s . s e t E l e m e n t C o n t e n t ( b . f i n d ( v . T O O L T I P _ I N N E R ) , t h i s . g e t T i t l e ( ) ) , b . r e m o v e C l a s s ( " " . c o n c a t ( u . F A D E , "   " ) . c o n c a t ( u . S H O W ) ) } } , { k e y : " s e t E l e m e n t C o n t e n t " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s . c o n f i g . h t m l ; " o b j e c t " = = = g ( c ) & & ( c . n o d e T y p e | | c . j q u e r y ) ? d ? a ( c ) . p a r e n t ( ) . i s ( b ) | | b . e m p t y ( ) . a p p e n d ( c ) : b . t e x t ( a ( c ) . t e x t ( ) ) : b [ d ? " h t m l " : " t e x t " ] ( c ) } } , { k e y : " g e t T i t l e " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . e l e m e n t . g e t A t t r i b u t e ( " d a t a - o r i g i n a l - t i t l e " ) ; r e t u r n   a | | ( a = " f u n c t i o n " = = t y p e o f   t h i s . c o n f i g . t i t l e ? t h i s . c o n f i g . t i t l e . c a l l ( t h i s . e l e m e n t ) : t h i s . c o n f i g . t i t l e ) , a } } , { k e y : " _ g e t A t t a c h m e n t " , v a l u e : f u n c t i o n ( a ) { r e t u r n   q [ a . t o U p p e r C a s e ( ) ] } } , { k e y : " _ s e t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s , c = t h i s . c o n f i g . t r i g g e r . s p l i t ( "   " ) ; c . f o r E a c h ( f u n c t i o n ( c ) { i f ( " c l i c k " = = = c ) a ( b . e l e m e n t ) . o n ( b . c o n s t r u c t o r . E v e n t . C L I C K , b . c o n f i g . s e l e c t o r , f u n c t i o n ( a ) { r e t u r n   b . t o g g l e ( a ) } ) ; e l s e   i f ( c ! = = w . M A N U A L ) { v a r   d = c = = = w . H O V E R ? b . c o n s t r u c t o r . E v e n t . M O U S E E N T E R : b . c o n s t r u c t o r . E v e n t . F O C U S I N , e = c = = = w . H O V E R ? b . c o n s t r u c t o r . E v e n t . M O U S E L E A V E : b . c o n s t r u c t o r . E v e n t . F O C U S O U T ; a ( b . e l e m e n t ) . o n ( d , b . c o n f i g . s e l e c t o r , f u n c t i o n ( a ) { r e t u r n   b . _ e n t e r ( a ) } ) . o n ( e , b . c o n f i g . s e l e c t o r , f u n c t i o n ( a ) { r e t u r n   b . _ l e a v e ( a ) } ) } a ( b . e l e m e n t ) . c l o s e s t ( " . m o d a l " ) . o n ( " h i d e . b s . m o d a l " , f u n c t i o n ( ) { r e t u r n   b . h i d e ( ) } ) } ) , t h i s . c o n f i g . s e l e c t o r ? t h i s . c o n f i g = f ( { } , t h i s . c o n f i g , { t r i g g e r : " m a n u a l " , s e l e c t o r : " " } ) : t h i s . _ f i x T i t l e ( ) } } , { k e y : " _ f i x T i t l e " , v a l u e : f u n c t i o n ( ) { v a r   a = g ( t h i s . e l e m e n t . g e t A t t r i b u t e ( " d a t a - o r i g i n a l - t i t l e " ) ) ; ( t h i s . e l e m e n t . g e t A t t r i b u t e ( " t i t l e " ) | | " s t r i n g " ! = = a ) & & ( t h i s . e l e m e n t . s e t A t t r i b u t e ( " d a t a - o r i g i n a l - t i t l e " , t h i s . e l e m e n t . g e t A t t r i b u t e ( " t i t l e " ) | | " " ) , t h i s . e l e m e n t . s e t A t t r i b u t e ( " t i t l e " , " " ) ) } } , { k e y : " _ e n t e r " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s . c o n s t r u c t o r . D A T A _ K E Y ; r e t u r n   c = c | | a ( b . c u r r e n t T a r g e t ) . d a t a ( d ) , c | | ( c = n e w   t h i s . c o n s t r u c t o r ( b . c u r r e n t T a r g e t , t h i s . _ g e t D e l e g a t e C o n f i g ( ) ) , a ( b . c u r r e n t T a r g e t ) . d a t a ( d , c ) ) , b & & ( c . _ a c t i v e T r i g g e r [ " f o c u s i n " = = = b . t y p e ? w . F O C U S : w . H O V E R ] = ! 0 ) , a ( c . g e t T i p E l e m e n t ( ) ) . h a s C l a s s ( u . S H O W ) | | c . _ h o v e r S t a t e = = = s . S H O W ? v o i d ( c . _ h o v e r S t a t e = s . S H O W ) : ( c l e a r T i m e o u t ( c . _ t i m e o u t ) , c . _ h o v e r S t a t e = s . S H O W , c . c o n f i g . d e l a y & & c . c o n f i g . d e l a y . s h o w ? v o i d ( c . _ t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { c . _ h o v e r S t a t e = = = s . S H O W & & c . s h o w ( ) } , c . c o n f i g . d e l a y . s h o w ) ) : v o i d   c . s h o w ( ) ) } } , { k e y : " _ l e a v e " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s . c o n s t r u c t o r . D A T A _ K E Y ; i f ( c = c | | a ( b . c u r r e n t T a r g e t ) . d a t a ( d ) , c | | ( c = n e w   t h i s . c o n s t r u c t o r ( b . c u r r e n t T a r g e t , t h i s . _ g e t D e l e g a t e C o n f i g ( ) ) , a ( b . c u r r e n t T a r g e t ) . d a t a ( d , c ) ) , b & & ( c . _ a c t i v e T r i g g e r [ " f o c u s o u t " = = = b . t y p e ? w . F O C U S : w . H O V E R ] = ! 1 ) , ! c . _ i s W i t h A c t i v e T r i g g e r ( ) ) r e t u r n   c l e a r T i m e o u t ( c . _ t i m e o u t ) , c . _ h o v e r S t a t e = s . O U T , c . c o n f i g . d e l a y & & c . c o n f i g . d e l a y . h i d e ? v o i d ( c . _ t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { c . _ h o v e r S t a t e = = = s . O U T & & c . h i d e ( ) } , c . c o n f i g . d e l a y . h i d e ) ) : v o i d   c . h i d e ( ) } } , { k e y : " _ i s W i t h A c t i v e T r i g g e r " , v a l u e : f u n c t i o n ( ) { f o r ( v a r   a   i n   t h i s . _ a c t i v e T r i g g e r ) i f ( t h i s . _ a c t i v e T r i g g e r [ a ] ) r e t u r n ! 0 ; r e t u r n ! 1 } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { r e t u r n   c = f ( { } , t h i s . c o n s t r u c t o r . D e f a u l t , a ( t h i s . e l e m e n t ) . d a t a ( ) , c ) , " n u m b e r " = = t y p e o f   c . d e l a y & & ( c . d e l a y = { s h o w : c . d e l a y , h i d e : c . d e l a y } ) , " n u m b e r " = = t y p e o f   c . t i t l e & & ( c . t i t l e = c . t i t l e . t o S t r i n g ( ) ) , " n u m b e r " = = t y p e o f   c . c o n t e n t & & ( c . c o n t e n t = c . c o n t e n t . t o S t r i n g ( ) ) , m [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , t h i s . c o n s t r u c t o r . D e f a u l t T y p e ) , c } } , { k e y : " _ g e t D e l e g a t e C o n f i g " , v a l u e : f u n c t i o n ( ) { v a r   a = { } ; i f ( t h i s . c o n f i g ) f o r ( v a r   b   i n   t h i s . c o n f i g ) t h i s . c o n s t r u c t o r . D e f a u l t [ b ] ! = = t h i s . c o n f i g [ b ] & & ( a [ b ] = t h i s . c o n f i g [ b ] ) ; r e t u r n   a } } , { k e y : " _ c l e a n T i p C l a s s " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . g e t T i p E l e m e n t ( ) ) , c = b . a t t r ( " c l a s s " ) . m a t c h ( o ) ; n u l l ! = = c & & c . l e n g t h > 0 & & b . r e m o v e C l a s s ( c . j o i n ( " " ) ) } } , { k e y : " _ h a n d l e P o p p e r P l a c e m e n t C h a n g e " , v a l u e : f u n c t i o n ( a ) { t h i s . _ c l e a n T i p C l a s s ( ) , t h i s . a d d A t t a c h m e n t C l a s s ( t h i s . _ g e t A t t a c h m e n t ( a . p l a c e m e n t ) ) } } , { k e y : " _ f i x T r a n s i t i o n " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s . g e t T i p E l e m e n t ( ) , c = t h i s . c o n f i g . a n i m a t i o n ; n u l l = = = b . g e t A t t r i b u t e ( " x - p l a c e m e n t " ) & & ( a ( b ) . r e m o v e C l a s s ( u . F A D E ) , t h i s . c o n f i g . a n i m a t i o n = ! 1 , t h i s . h i d e ( ) , t h i s . s h o w ( ) , t h i s . c o n f i g . a n i m a t i o n = c ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( d ) , e = " o b j e c t " = = = g ( b ) & & b ; i f ( ( c | | ! / d i s p o s e | h i d e / . t e s t ( b ) ) & & ( c | | ( c = n e w   i ( t h i s , e ) , a ( t h i s ) . d a t a ( d , c ) ) , " s t r i n g " = = t y p e o f   b ) ) { i f ( " u n d e f i n e d " = = t y p e o f   c [ b ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( b , ' " ' ) ) ; c [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   r } } , { k e y : " N A M E " , g e t : f u n c t i o n ( ) { r e t u r n   b } } , { k e y : " D A T A _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   d } } , { k e y : " E v e n t " , g e t : f u n c t i o n ( ) { r e t u r n   t } } , { k e y : " E V E N T _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   e } } , { k e y : " D e f a u l t T y p e " , g e t : f u n c t i o n ( ) { r e t u r n   p } } ] ) , i } ( ) ; r e t u r n   a . f n [ b ] = x . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = x , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = i , x . _ j Q u e r y I n t e r f a c e } , x } ( k [ " d e f a u l t " ] , l [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = n } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / u t i l ' ,   [ " e x p o r t s " , " j q u e r y " ] , f u n c t i o n ( a , b ) { " u s e   s t r i c t " ; f u n c t i o n   c ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   d = c ( b ) , e = f u n c t i o n ( a ) { f u n c t i o n   b ( a ) { r e t u r n { } . t o S t r i n g . c a l l ( a ) . m a t c h ( / \ s ( [ a - z A - Z ] + ) / ) [ 1 ] . t o L o w e r C a s e ( ) } f u n c t i o n   c ( ) { r e t u r n { b i n d T y p e : h . e n d , d e l e g a t e T y p e : h . e n d , h a n d l e : f u n c t i o n ( b ) { i f ( a ( b . t a r g e t ) . i s ( t h i s ) ) r e t u r n   b . h a n d l e O b j . h a n d l e r . a p p l y ( t h i s , a r g u m e n t s ) } } } f u n c t i o n   d ( ) { r e t u r n ( " u n d e f i n e d " = = t y p e o f   w i n d o w | | ! w i n d o w . Q U n i t ) & & { e n d : " t r a n s i t i o n e n d " } } f u n c t i o n   e ( b ) { v a r   c = t h i s , d = ! 1 ; r e t u r n   a ( t h i s ) . o n e ( j . T R A N S I T I O N _ E N D , f u n c t i o n ( ) { d = ! 0 } ) , s e t T i m e o u t ( f u n c t i o n ( ) { d | | j . t r i g g e r T r a n s i t i o n E n d ( c ) } , b ) , t h i s } f u n c t i o n   f ( ) { h = d ( ) , a . f n . e m u l a t e T r a n s i t i o n E n d = e , j . s u p p o r t s T r a n s i t i o n E n d ( ) & & ( a . e v e n t . s p e c i a l [ j . T R A N S I T I O N _ E N D ] = c ( ) ) } f u n c t i o n   g ( b ) { r e t u r n   b = " f u n c t i o n " = = t y p e o f   a . e s c a p e S e l e c t o r ? a . e s c a p e S e l e c t o r ( b ) . s u b s t r ( 1 ) : b . r e p l a c e ( / ( : | \ . | \ [ | \ ] | , | = | @ ) / g , " \ \ $ 1 " ) } v a r   h = ! 1 , i = 1 e 6 , j = { T R A N S I T I O N _ E N D : " b s T r a n s i t i o n E n d " , g e t U I D : f u n c t i o n ( a ) { d o   a + = ~ ~ ( M a t h . r a n d o m ( ) * i ) ; w h i l e ( d o c u m e n t . g e t E l e m e n t B y I d ( a ) ) ; r e t u r n   a } , g e t S e l e c t o r F r o m E l e m e n t : f u n c t i o n ( b ) { v a r   c = b . g e t A t t r i b u t e ( " d a t a - t a r g e t " ) ; c & & " # " ! = = c | | ( c = b . g e t A t t r i b u t e ( " h r e f " ) | | " " ) , " # " = = = c . c h a r A t ( 0 ) & & ( c = g ( c ) ) ; t r y { v a r   d = a ( d o c u m e n t ) . f i n d ( c ) ; r e t u r n   d . l e n g t h > 0 ? c : n u l l } c a t c h ( e ) { r e t u r n   n u l l } } , r e f l o w : f u n c t i o n ( a ) { r e t u r n   a . o f f s e t H e i g h t } , t r i g g e r T r a n s i t i o n E n d : f u n c t i o n ( b ) { a ( b ) . t r i g g e r ( h . e n d ) } , s u p p o r t s T r a n s i t i o n E n d : f u n c t i o n ( ) { r e t u r n   B o o l e a n ( h ) } , i s E l e m e n t : f u n c t i o n ( a ) { r e t u r n ( a [ 0 ] | | a ) . n o d e T y p e } , t y p e C h e c k C o n f i g : f u n c t i o n ( a , c , d ) { f o r ( v a r   e   i n   d ) i f ( O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( d , e ) ) { v a r   f = d [ e ] , g = c [ e ] , h = g & & j . i s E l e m e n t ( g ) ? " e l e m e n t " : b ( g ) ; i f ( ! n e w   R e g E x p ( f ) . t e s t ( h ) ) t h r o w   n e w   E r r o r ( " " . c o n c a t ( a . t o U p p e r C a s e ( ) , " :   " ) + ' O p t i o n   " ' . c o n c a t ( e , ' "   p r o v i d e d   t y p e   " ' ) . c o n c a t ( h , ' "   ' ) + ' b u t   e x p e c t e d   t y p e   " ' . c o n c a t ( f , ' " . ' ) ) } } } ; r e t u r n   f ( ) , j } ( d [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = e } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / t a b ' ,   [ " e x p o r t s " , " j q u e r y " , " . / u t i l " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   f ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   g ( a , b , c ) { r e t u r n   b & & f ( a . p r o t o t y p e , b ) , c & & f ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   h = d ( b ) , i = d ( c ) , j = f u n c t i o n ( a ) { v a r   b = " t a b " , c = " 4 . 0 . 0 " , d = " b s . t a b " , f = " . " . c o n c a t ( d ) , h = " . d a t a - a p i " , j = a . f n [ b ] , k = 1 5 0 , l = { H I D E : " h i d e " . c o n c a t ( f ) , H I D D E N : " h i d d e n " . c o n c a t ( f ) , S H O W : " s h o w " . c o n c a t ( f ) , S H O W N : " s h o w n " . c o n c a t ( f ) , C L I C K _ D A T A _ A P I : " c l i c k " . c o n c a t ( f ) . c o n c a t ( h ) } , m = { D R O P D O W N _ M E N U : " d r o p d o w n - m e n u " , A C T I V E : " a c t i v e " , D I S A B L E D : " d i s a b l e d " , F A D E : " f a d e " , S H O W : " s h o w " } , n = { D R O P D O W N : " . d r o p d o w n " , N A V _ L I S T _ G R O U P : " . n a v ,   . l i s t - g r o u p " , A C T I V E : " . a c t i v e " , A C T I V E _ U L : " >   l i   >   . a c t i v e " , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " t a b " ] ,   [ d a t a - t o g g l e = " p i l l " ] ,   [ d a t a - t o g g l e = " l i s t " ] ' , D R O P D O W N _ T O G G L E : " . d r o p d o w n - t o g g l e " , D R O P D O W N _ A C T I V E _ C H I L D : " >   . d r o p d o w n - m e n u   . a c t i v e " } , o = f u n c t i o n ( ) { f u n c t i o n   b ( a ) { e ( t h i s , b ) , t h i s . _ e l e m e n t = a } r e t u r n   g ( b , [ { k e y : " s h o w " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( ! ( t h i s . _ e l e m e n t . p a r e n t N o d e & & t h i s . _ e l e m e n t . p a r e n t N o d e . n o d e T y p e = = = N o d e . E L E M E N T _ N O D E & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( m . A C T I V E ) | | a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( m . D I S A B L E D ) ) ) { v a r   c , d , e = a ( t h i s . _ e l e m e n t ) . c l o s e s t ( n . N A V _ L I S T _ G R O U P ) [ 0 ] , f = i [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( t h i s . _ e l e m e n t ) ; i f ( e ) { v a r   g = " U L " = = = e . n o d e N a m e ? n . A C T I V E _ U L : n . A C T I V E ; d = a . m a k e A r r a y ( a ( e ) . f i n d ( g ) ) , d = d [ d . l e n g t h - 1 ] } v a r   h = a . E v e n t ( l . H I D E , { r e l a t e d T a r g e t : t h i s . _ e l e m e n t } ) , j = a . E v e n t ( l . S H O W , { r e l a t e d T a r g e t : d } ) ; i f ( d & & a ( d ) . t r i g g e r ( h ) , a ( t h i s . _ e l e m e n t ) . t r i g g e r ( j ) , ! j . i s D e f a u l t P r e v e n t e d ( ) & & ! h . i s D e f a u l t P r e v e n t e d ( ) ) { f & & ( c = a ( f ) [ 0 ] ) , t h i s . _ a c t i v a t e ( t h i s . _ e l e m e n t , e ) ; v a r   k = f u n c t i o n ( ) { v a r   c = a . E v e n t ( l . H I D D E N , { r e l a t e d T a r g e t : b . _ e l e m e n t } ) , e = a . E v e n t ( l . S H O W N , { r e l a t e d T a r g e t : d } ) ; a ( d ) . t r i g g e r ( c ) , a ( b . _ e l e m e n t ) . t r i g g e r ( e ) } ; c ? t h i s . _ a c t i v a t e ( c , c . p a r e n t N o d e , k ) : k ( ) } } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , d ) , t h i s . _ e l e m e n t = n u l l } } , { k e y : " _ a c t i v a t e " , v a l u e : f u n c t i o n ( b , c , d ) { v a r   e , f = t h i s ; e = " U L " = = = c . n o d e N a m e ? a ( c ) . f i n d ( n . A C T I V E _ U L ) : a ( c ) . c h i l d r e n ( n . A C T I V E ) ; v a r   g = e [ 0 ] , h = d & & i [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & g & & a ( g ) . h a s C l a s s ( m . F A D E ) , j = f u n c t i o n ( ) { r e t u r n   f . _ t r a n s i t i o n C o m p l e t e ( b , g , d ) } ; g & & h ? a ( g ) . o n e ( i [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , j ) . e m u l a t e T r a n s i t i o n E n d ( k ) : j ( ) } } , { k e y : " _ t r a n s i t i o n C o m p l e t e " , v a l u e : f u n c t i o n ( b , c , d ) { i f ( c ) { a ( c ) . r e m o v e C l a s s ( " " . c o n c a t ( m . S H O W , "   " ) . c o n c a t ( m . A C T I V E ) ) ; v a r   e = a ( c . p a r e n t N o d e ) . f i n d ( n . D R O P D O W N _ A C T I V E _ C H I L D ) [ 0 ] ; e & & a ( e ) . r e m o v e C l a s s ( m . A C T I V E ) , " t a b " = = = c . g e t A t t r i b u t e ( " r o l e " ) & & c . s e t A t t r i b u t e ( " a r i a - s e l e c t e d " , ! 1 ) } i f ( a ( b ) . a d d C l a s s ( m . A C T I V E ) , " t a b " = = = b . g e t A t t r i b u t e ( " r o l e " ) & & b . s e t A t t r i b u t e ( " a r i a - s e l e c t e d " , ! 0 ) , i [ " d e f a u l t " ] . r e f l o w ( b ) , a ( b ) . a d d C l a s s ( m . S H O W ) , b . p a r e n t N o d e & & a ( b . p a r e n t N o d e ) . h a s C l a s s ( m . D R O P D O W N _ M E N U ) ) { v a r   f = a ( b ) . c l o s e s t ( n . D R O P D O W N ) [ 0 ] ; f & & a ( f ) . f i n d ( n . D R O P D O W N _ T O G G L E ) . a d d C l a s s ( m . A C T I V E ) , b . s e t A t t r i b u t e ( " a r i a - e x p a n d e d " , ! 0 ) } d & & d ( ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   e = a ( t h i s ) , f = e . d a t a ( d ) ; i f ( f | | ( f = n e w   b ( t h i s ) , e . d a t a ( d , f ) ) , " s t r i n g " = = t y p e o f   c ) { i f ( " u n d e f i n e d " = = t y p e o f   f [ c ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( c , ' " ' ) ) ; f [ c ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } ] ) , b } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( l . C L I C K _ D A T A _ A P I , n . D A T A _ T O G G L E , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , o . _ j Q u e r y I n t e r f a c e . c a l l ( a ( t h i s ) , " s h o w " ) } ) , a . f n [ b ] = o . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = o , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = j , o . _ j Q u e r y I n t e r f a c e } , o } ( h [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = j } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / l o a d e r ' ,   [ " j q u e r y " , " . / t e t h e r " , " c o r e / e v e n t " ] , f u n c t i o n ( a , b , c ) { r e t u r n   w i n d o w . j Q u e r y = a , w i n d o w . T e t h e r = b , r e q u i r e ( [ " t h e m e _ b o o s t / a r i a " , " t h e m e _ b o o s t / u t i l " , " t h e m e _ b o o s t / a l e r t " , " t h e m e _ b o o s t / b u t t o n " , " t h e m e _ b o o s t / c a r o u s e l " , " t h e m e _ b o o s t / c o l l a p s e " , " t h e m e _ b o o s t / d r o p d o w n " , " t h e m e _ b o o s t / m o d a l " , " t h e m e _ b o o s t / s c r o l l s p y " , " t h e m e _ b o o s t / t a b " , " t h e m e _ b o o s t / t o o l t i p " , " t h e m e _ b o o s t / p o p o v e r " ] , f u n c t i o n ( b ) { a ( " b o d y " ) . p o p o v e r ( { t r i g g e r : " f o c u s " , s e l e c t o r : " [ d a t a - t o g g l e = p o p o v e r ] [ d a t a - t r i g g e r ! = h o v e r ] " } ) , a ( " h t m l " ) . p o p o v e r ( { c o n t a i n e r : " b o d y " , s e l e c t o r : " [ d a t a - t o g g l e = p o p o v e r ] [ d a t a - t r i g g e r = h o v e r ] " , t r i g g e r : " h o v e r " , d e l a y : { h i d e : 5 0 0 } } ) , c . g e t L e g a c y E v e n t s ( ) . d o n e ( f u n c t i o n ( b ) { a ( d o c u m e n t ) . o n ( b . F I L T E R _ C O N T E N T _ U P D A T E D , f u n c t i o n ( ) { a ( " b o d y " ) . p o p o v e r ( { s e l e c t o r : ' [ d a t a - t o g g l e = " p o p o v e r " ] ' , t r i g g e r : " f o c u s " } ) } ) } ) , b . i n i t ( ) } ) , { } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / m o d a l ' ,   [ " e x p o r t s " , " j q u e r y " , " . / u t i l " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a ) { r e t u r n ( e = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ) ( a ) } f u n c t i o n   f ( ) { r e t u r n   f = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , f . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   g ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   h ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   i ( a , b , c ) { r e t u r n   b & & h ( a . p r o t o t y p e , b ) , c & & h ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   j = d ( b ) , k = d ( c ) , l = f u n c t i o n ( a ) { v a r   b = " m o d a l " , c = " 4 . 0 . 0 " , d = " b s . m o d a l " , h = " . " . c o n c a t ( d ) , j = " . d a t a - a p i " , l = a . f n [ b ] , m = 3 0 0 , n = 1 5 0 , o = 2 7 , p = { b a c k d r o p : ! 0 , k e y b o a r d : ! 0 , f o c u s : ! 0 , s h o w : ! 0 } , q = { b a c k d r o p : " ( b o o l e a n | s t r i n g ) " , k e y b o a r d : " b o o l e a n " , f o c u s : " b o o l e a n " , s h o w : " b o o l e a n " } , r = { H I D E : " h i d e " . c o n c a t ( h ) , H I D D E N : " h i d d e n " . c o n c a t ( h ) , S H O W : " s h o w " . c o n c a t ( h ) , S H O W N : " s h o w n " . c o n c a t ( h ) , F O C U S I N : " f o c u s i n " . c o n c a t ( h ) , R E S I Z E : " r e s i z e " . c o n c a t ( h ) , C L I C K _ D I S M I S S : " c l i c k . d i s m i s s " . c o n c a t ( h ) , K E Y D O W N _ D I S M I S S : " k e y d o w n . d i s m i s s " . c o n c a t ( h ) , M O U S E U P _ D I S M I S S : " m o u s e u p . d i s m i s s " . c o n c a t ( h ) , M O U S E D O W N _ D I S M I S S : " m o u s e d o w n . d i s m i s s " . c o n c a t ( h ) , C L I C K _ D A T A _ A P I : " c l i c k " . c o n c a t ( h ) . c o n c a t ( j ) } , s = { S C R O L L B A R _ M E A S U R E R : " m o d a l - s c r o l l b a r - m e a s u r e " , B A C K D R O P : " m o d a l - b a c k d r o p " , O P E N : " m o d a l - o p e n " , F A D E : " f a d e " , S H O W : " s h o w " } , t = { D I A L O G : " . m o d a l - d i a l o g " , D A T A _ T O G G L E : ' [ d a t a - t o g g l e = " m o d a l " ] ' , D A T A _ D I S M I S S : ' [ d a t a - d i s m i s s = " m o d a l " ] ' , F I X E D _ C O N T E N T : " . f i x e d - t o p ,   . f i x e d - b o t t o m ,   . i s - f i x e d ,   . s t i c k y - t o p " , S T I C K Y _ C O N T E N T : " . s t i c k y - t o p " , N A V B A R _ T O G G L E R : " . n a v b a r - t o g g l e r " } , u = f u n c t i o n ( ) { f u n c t i o n   j ( b , c ) { g ( t h i s , j ) , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ e l e m e n t = b , t h i s . _ d i a l o g = a ( b ) . f i n d ( t . D I A L O G ) [ 0 ] , t h i s . _ b a c k d r o p = n u l l , t h i s . _ i s S h o w n = ! 1 , t h i s . _ i s B o d y O v e r f l o w i n g = ! 1 , t h i s . _ i g n o r e B a c k d r o p C l i c k = ! 1 , t h i s . _ o r i g i n a l B o d y P a d d i n g = 0 , t h i s . _ s c r o l l b a r W i d t h = 0 } r e t u r n   i ( j , [ { k e y : " t o g g l e " , v a l u e : f u n c t i o n ( a ) { r e t u r n   t h i s . _ i s S h o w n ? t h i s . h i d e ( ) : t h i s . s h o w ( a ) } } , { k e y : " s h o w " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s ; i f ( ! t h i s . _ i s T r a n s i t i o n i n g & & ! t h i s . _ i s S h o w n ) { k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( s . F A D E ) & & ( t h i s . _ i s T r a n s i t i o n i n g = ! 0 ) ; v a r   d = a . E v e n t ( r . S H O W , { r e l a t e d T a r g e t : b } ) ; a ( t h i s . _ e l e m e n t ) . t r i g g e r ( d ) , t h i s . _ i s S h o w n | | d . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . _ i s S h o w n = ! 0 , t h i s . _ c h e c k S c r o l l b a r ( ) , t h i s . _ s e t S c r o l l b a r ( ) , t h i s . _ a d j u s t D i a l o g ( ) , a ( d o c u m e n t . b o d y ) . a d d C l a s s ( s . O P E N ) , t h i s . _ s e t E s c a p e E v e n t ( ) , t h i s . _ s e t R e s i z e E v e n t ( ) , a ( t h i s . _ e l e m e n t ) . o n ( r . C L I C K _ D I S M I S S , t . D A T A _ D I S M I S S , f u n c t i o n ( a ) { r e t u r n   c . h i d e ( a ) } ) , a ( t h i s . _ d i a l o g ) . o n ( r . M O U S E D O W N _ D I S M I S S , f u n c t i o n ( ) { a ( c . _ e l e m e n t ) . o n e ( r . M O U S E U P _ D I S M I S S , f u n c t i o n ( b ) { a ( b . t a r g e t ) . i s ( c . _ e l e m e n t ) & & ( c . _ i g n o r e B a c k d r o p C l i c k = ! 0 ) } ) } ) , t h i s . _ s h o w B a c k d r o p ( f u n c t i o n ( ) { r e t u r n   c . _ s h o w E l e m e n t ( b ) } ) ) } } } , { k e y : " h i d e " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s ; i f ( b & & b . p r e v e n t D e f a u l t ( ) , ! t h i s . _ i s T r a n s i t i o n i n g & & t h i s . _ i s S h o w n ) { v a r   d = a . E v e n t ( r . H I D E ) ; i f ( a ( t h i s . _ e l e m e n t ) . t r i g g e r ( d ) , t h i s . _ i s S h o w n & & ! d . i s D e f a u l t P r e v e n t e d ( ) ) { t h i s . _ i s S h o w n = ! 1 ; v a r   e = k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( s . F A D E ) ; e & & ( t h i s . _ i s T r a n s i t i o n i n g = ! 0 ) , t h i s . _ s e t E s c a p e E v e n t ( ) , t h i s . _ s e t R e s i z e E v e n t ( ) , a ( d o c u m e n t ) . o f f ( r . F O C U S I N ) , a ( t h i s . _ e l e m e n t ) . r e m o v e C l a s s ( s . S H O W ) , a ( t h i s . _ e l e m e n t ) . o f f ( r . C L I C K _ D I S M I S S ) , a ( t h i s . _ d i a l o g ) . o f f ( r . M O U S E D O W N _ D I S M I S S ) , e ? a ( t h i s . _ e l e m e n t ) . o n e ( k [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , f u n c t i o n ( a ) { r e t u r n   c . _ h i d e M o d a l ( a ) } ) . e m u l a t e T r a n s i t i o n E n d ( m ) : t h i s . _ h i d e M o d a l ( ) } } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , d ) , a ( w i n d o w , d o c u m e n t , t h i s . _ e l e m e n t , t h i s . _ b a c k d r o p ) . o f f ( h ) , t h i s . _ c o n f i g = n u l l , t h i s . _ e l e m e n t = n u l l , t h i s . _ d i a l o g = n u l l , t h i s . _ b a c k d r o p = n u l l , t h i s . _ i s S h o w n = n u l l , t h i s . _ i s B o d y O v e r f l o w i n g = n u l l , t h i s . _ i g n o r e B a c k d r o p C l i c k = n u l l , t h i s . _ s c r o l l b a r W i d t h = n u l l } } , { k e y : " h a n d l e U p d a t e " , v a l u e : f u n c t i o n ( ) { t h i s . _ a d j u s t D i a l o g ( ) } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( a ) { r e t u r n   a = f ( { } , p , a ) , k [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , a , q ) , a } } , { k e y : " _ s h o w E l e m e n t " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s , d = k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( s . F A D E ) ; t h i s . _ e l e m e n t . p a r e n t N o d e & & t h i s . _ e l e m e n t . p a r e n t N o d e . n o d e T y p e = = = N o d e . E L E M E N T _ N O D E | | d o c u m e n t . b o d y . a p p e n d C h i l d ( t h i s . _ e l e m e n t ) , t h i s . _ e l e m e n t . s t y l e . d i s p l a y = " b l o c k " , t h i s . _ e l e m e n t . r e m o v e A t t r i b u t e ( " a r i a - h i d d e n " ) , t h i s . _ e l e m e n t . s c r o l l T o p = 0 , d & & k [ " d e f a u l t " ] . r e f l o w ( t h i s . _ e l e m e n t ) , a ( t h i s . _ e l e m e n t ) . a d d C l a s s ( s . S H O W ) , t h i s . _ c o n f i g . f o c u s & & t h i s . _ e n f o r c e F o c u s ( ) ; v a r   e = a . E v e n t ( r . S H O W N , { r e l a t e d T a r g e t : b } ) , f = f u n c t i o n ( ) { c . _ c o n f i g . f o c u s & & c . _ e l e m e n t . f o c u s ( ) , c . _ i s T r a n s i t i o n i n g = ! 1 , a ( c . _ e l e m e n t ) . t r i g g e r ( e ) } ; d ? a ( t h i s . _ d i a l o g ) . o n e ( k [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , f ) . e m u l a t e T r a n s i t i o n E n d ( m ) : f ( ) } } , { k e y : " _ e n f o r c e F o c u s " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; a ( d o c u m e n t ) . o f f ( r . F O C U S I N ) . o n ( r . F O C U S I N , f u n c t i o n ( c ) { d o c u m e n t ! = = c . t a r g e t & & b . _ e l e m e n t ! = = c . t a r g e t & & 0 = = = a ( b . _ e l e m e n t ) . h a s ( c . t a r g e t ) . l e n g t h & & b . _ e l e m e n t . f o c u s ( ) } ) } } , { k e y : " _ s e t E s c a p e E v e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . _ i s S h o w n & & t h i s . _ c o n f i g . k e y b o a r d ? a ( t h i s . _ e l e m e n t ) . o n ( r . K E Y D O W N _ D I S M I S S , f u n c t i o n ( a ) { a . w h i c h = = = o & & ( a . p r e v e n t D e f a u l t ( ) , b . h i d e ( ) ) } ) : t h i s . _ i s S h o w n | | a ( t h i s . _ e l e m e n t ) . o f f ( r . K E Y D O W N _ D I S M I S S ) } } , { k e y : " _ s e t R e s i z e E v e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . _ i s S h o w n ? a ( w i n d o w ) . o n ( r . R E S I Z E , f u n c t i o n ( a ) { r e t u r n   b . h a n d l e U p d a t e ( a ) } ) : a ( w i n d o w ) . o f f ( r . R E S I Z E ) } } , { k e y : " _ h i d e M o d a l " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . _ e l e m e n t . s t y l e . d i s p l a y = " n o n e " , t h i s . _ e l e m e n t . s e t A t t r i b u t e ( " a r i a - h i d d e n " , ! 0 ) , t h i s . _ i s T r a n s i t i o n i n g = ! 1 , t h i s . _ s h o w B a c k d r o p ( f u n c t i o n ( ) { a ( d o c u m e n t . b o d y ) . r e m o v e C l a s s ( s . O P E N ) , b . _ r e s e t A d j u s t m e n t s ( ) , b . _ r e s e t S c r o l l b a r ( ) , a ( b . _ e l e m e n t ) . t r i g g e r ( r . H I D D E N ) } ) } } , { k e y : " _ r e m o v e B a c k d r o p " , v a l u e : f u n c t i o n ( ) { t h i s . _ b a c k d r o p & & ( a ( t h i s . _ b a c k d r o p ) . r e m o v e ( ) , t h i s . _ b a c k d r o p = n u l l ) } } , { k e y : " _ s h o w B a c k d r o p " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s , d = a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( s . F A D E ) ? s . F A D E : " " ; i f ( t h i s . _ i s S h o w n & & t h i s . _ c o n f i g . b a c k d r o p ) { v a r   e = k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & d ; i f ( t h i s . _ b a c k d r o p = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) , t h i s . _ b a c k d r o p . c l a s s N a m e = s . B A C K D R O P , d & & a ( t h i s . _ b a c k d r o p ) . a d d C l a s s ( d ) , a ( t h i s . _ b a c k d r o p ) . a p p e n d T o ( d o c u m e n t . b o d y ) , a ( t h i s . _ e l e m e n t ) . o n ( r . C L I C K _ D I S M I S S , f u n c t i o n ( a ) { r e t u r n   c . _ i g n o r e B a c k d r o p C l i c k ? v o i d ( c . _ i g n o r e B a c k d r o p C l i c k = ! 1 ) : v o i d ( a . t a r g e t = = = a . c u r r e n t T a r g e t & & ( " s t a t i c " = = = c . _ c o n f i g . b a c k d r o p ? c . _ e l e m e n t . f o c u s ( ) : c . h i d e ( ) ) ) } ) , e & & k [ " d e f a u l t " ] . r e f l o w ( t h i s . _ b a c k d r o p ) , a ( t h i s . _ b a c k d r o p ) . a d d C l a s s ( s . S H O W ) , ! b ) r e t u r n ; i f ( ! e ) r e t u r n   v o i d   b ( ) ; a ( t h i s . _ b a c k d r o p ) . o n e ( k [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , b ) . e m u l a t e T r a n s i t i o n E n d ( n ) } e l s e   i f ( ! t h i s . _ i s S h o w n & & t h i s . _ b a c k d r o p ) { a ( t h i s . _ b a c k d r o p ) . r e m o v e C l a s s ( s . S H O W ) ; v a r   f = f u n c t i o n ( ) { c . _ r e m o v e B a c k d r o p ( ) , b & & b ( ) } ; k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( s . F A D E ) ? a ( t h i s . _ b a c k d r o p ) . o n e ( k [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , f ) . e m u l a t e T r a n s i t i o n E n d ( n ) : f ( ) } e l s e   b & & b ( ) } } , { k e y : " _ a d j u s t D i a l o g " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . _ e l e m e n t . s c r o l l H e i g h t > d o c u m e n t . d o c u m e n t E l e m e n t . c l i e n t H e i g h t ; ! t h i s . _ i s B o d y O v e r f l o w i n g & & a & & ( t h i s . _ e l e m e n t . s t y l e . p a d d i n g L e f t = " " . c o n c a t ( t h i s . _ s c r o l l b a r W i d t h , " p x " ) ) , t h i s . _ i s B o d y O v e r f l o w i n g & & ! a & & ( t h i s . _ e l e m e n t . s t y l e . p a d d i n g R i g h t = " " . c o n c a t ( t h i s . _ s c r o l l b a r W i d t h , " p x " ) ) } } , { k e y : " _ r e s e t A d j u s t m e n t s " , v a l u e : f u n c t i o n ( ) { t h i s . _ e l e m e n t . s t y l e . p a d d i n g L e f t = " " , t h i s . _ e l e m e n t . s t y l e . p a d d i n g R i g h t = " " } } , { k e y : " _ c h e c k S c r o l l b a r " , v a l u e : f u n c t i o n ( ) { v a r   a = d o c u m e n t . b o d y . g e t B o u n d i n g C l i e n t R e c t ( ) ; t h i s . _ i s B o d y O v e r f l o w i n g = a . l e f t + a . r i g h t < w i n d o w . i n n e r W i d t h , t h i s . _ s c r o l l b a r W i d t h = t h i s . _ g e t S c r o l l b a r W i d t h ( ) } } , { k e y : " _ s e t S c r o l l b a r " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; i f ( t h i s . _ i s B o d y O v e r f l o w i n g ) { a ( t . F I X E D _ C O N T E N T ) . e a c h ( f u n c t i o n ( c , d ) { v a r   e = a ( d ) [ 0 ] . s t y l e . p a d d i n g R i g h t , f = a ( d ) . c s s ( " p a d d i n g - r i g h t " ) ; a ( d ) . d a t a ( " p a d d i n g - r i g h t " , e ) . c s s ( " p a d d i n g - r i g h t " , " " . c o n c a t ( p a r s e F l o a t ( f ) + b . _ s c r o l l b a r W i d t h , " p x " ) ) } ) , a ( t . S T I C K Y _ C O N T E N T ) . e a c h ( f u n c t i o n ( c , d ) { v a r   e = a ( d ) [ 0 ] . s t y l e . m a r g i n R i g h t , f = a ( d ) . c s s ( " m a r g i n - r i g h t " ) ; a ( d ) . d a t a ( " m a r g i n - r i g h t " , e ) . c s s ( " m a r g i n - r i g h t " , " " . c o n c a t ( p a r s e F l o a t ( f ) - b . _ s c r o l l b a r W i d t h , " p x " ) ) } ) , a ( t . N A V B A R _ T O G G L E R ) . e a c h ( f u n c t i o n ( c , d ) { v a r   e = a ( d ) [ 0 ] . s t y l e . m a r g i n R i g h t , f = a ( d ) . c s s ( " m a r g i n - r i g h t " ) ; a ( d ) . d a t a ( " m a r g i n - r i g h t " , e ) . c s s ( " m a r g i n - r i g h t " , " " . c o n c a t ( p a r s e F l o a t ( f ) + b . _ s c r o l l b a r W i d t h , " p x " ) ) } ) ; v a r   c = d o c u m e n t . b o d y . s t y l e . p a d d i n g R i g h t , d = a ( " b o d y " ) . c s s ( " p a d d i n g - r i g h t " ) ; a ( " b o d y " ) . d a t a ( " p a d d i n g - r i g h t " , c ) . c s s ( " p a d d i n g - r i g h t " , " " . c o n c a t ( p a r s e F l o a t ( d ) + t h i s . _ s c r o l l b a r W i d t h , " p x " ) ) } } } , { k e y : " _ r e s e t S c r o l l b a r " , v a l u e : f u n c t i o n ( ) { a ( t . F I X E D _ C O N T E N T ) . e a c h ( f u n c t i o n ( b , c ) { v a r   d = a ( c ) . d a t a ( " p a d d i n g - r i g h t " ) ; " u n d e f i n e d " ! = t y p e o f   d & & a ( c ) . c s s ( " p a d d i n g - r i g h t " , d ) . r e m o v e D a t a ( " p a d d i n g - r i g h t " ) } ) , a ( " " . c o n c a t ( t . S T I C K Y _ C O N T E N T , " ,   " ) . c o n c a t ( t . N A V B A R _ T O G G L E R ) ) . e a c h ( f u n c t i o n ( b , c ) { v a r   d = a ( c ) . d a t a ( " m a r g i n - r i g h t " ) ; " u n d e f i n e d " ! = t y p e o f   d & & a ( c ) . c s s ( " m a r g i n - r i g h t " , d ) . r e m o v e D a t a ( " m a r g i n - r i g h t " ) } ) ; v a r   b = a ( " b o d y " ) . d a t a ( " p a d d i n g - r i g h t " ) ; " u n d e f i n e d " ! = t y p e o f   b & & a ( " b o d y " ) . c s s ( " p a d d i n g - r i g h t " , b ) . r e m o v e D a t a ( " p a d d i n g - r i g h t " ) } } , { k e y : " _ g e t S c r o l l b a r W i d t h " , v a l u e : f u n c t i o n ( ) { v a r   a = d o c u m e n t . c r e a t e E l e m e n t ( " d i v " ) ; a . c l a s s N a m e = s . S C R O L L B A R _ M E A S U R E R , d o c u m e n t . b o d y . a p p e n d C h i l d ( a ) ; v a r   b = a . g e t B o u n d i n g C l i e n t R e c t ( ) . w i d t h - a . c l i e n t W i d t h ; r e t u r n   d o c u m e n t . b o d y . r e m o v e C h i l d ( a ) , b } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b , c ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   g = a ( t h i s ) . d a t a ( d ) , h = f ( { } , j . D e f a u l t , a ( t h i s ) . d a t a ( ) , " o b j e c t " = = = e ( b ) & & b ) ; i f ( g | | ( g = n e w   j ( t h i s , h ) , a ( t h i s ) . d a t a ( d , g ) ) , " s t r i n g " = = t y p e o f   b ) { i f ( " u n d e f i n e d " = = t y p e o f   g [ b ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( b , ' " ' ) ) ; g [ b ] ( c ) } e l s e   h . s h o w & & g . s h o w ( c ) } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   p } } ] ) , j } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( r . C L I C K _ D A T A _ A P I , t . D A T A _ T O G G L E , f u n c t i o n ( b ) { v a r   c , e = t h i s , g = k [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( t h i s ) ; g & & ( c = a ( g ) [ 0 ] ) ; v a r   h = a ( c ) . d a t a ( d ) ? " t o g g l e " : f ( { } , a ( c ) . d a t a ( ) , a ( t h i s ) . d a t a ( ) ) ; " A " ! = = t h i s . t a g N a m e & & " A R E A " ! = = t h i s . t a g N a m e | | b . p r e v e n t D e f a u l t ( ) ; v a r   i = a ( c ) . o n e ( r . S H O W , f u n c t i o n ( b ) { b . i s D e f a u l t P r e v e n t e d ( ) | | i . o n e ( r . H I D D E N , f u n c t i o n ( ) { a ( e ) . i s ( " : v i s i b l e " ) & & e . f o c u s ( ) } ) } ) ; u . _ j Q u e r y I n t e r f a c e . c a l l ( a ( c ) , h , t h i s ) } ) , a . f n [ b ] = u . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = u , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = l , u . _ j Q u e r y I n t e r f a c e } , u } ( j [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = l } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / p o p o v e r ' ,   [ " e x p o r t s " , " j q u e r y " , " . / t o o l t i p " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a ) { r e t u r n ( e = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ) ( a ) } f u n c t i o n   f ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   g ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   h ( a , b , c ) { r e t u r n   b & & g ( a . p r o t o t y p e , b ) , c & & g ( a , c ) , a } f u n c t i o n   i ( a , b ) { i f ( b & & ( " o b j e c t " = = = e ( b ) | | " f u n c t i o n " = = t y p e o f   b ) ) r e t u r n   b ; i f ( v o i d   0 = = = a ) t h r o w   n e w   R e f e r e n c e E r r o r ( " t h i s   h a s n ' t   b e e n   i n i t i a l i s e d   -   s u p e r ( )   h a s n ' t   b e e n   c a l l e d " ) ; r e t u r n   a } f u n c t i o n   j ( a , b ) { i f ( " f u n c t i o n " ! = t y p e o f   b & & n u l l ! = = b ) t h r o w   n e w   T y p e E r r o r ( " S u p e r   e x p r e s s i o n   m u s t   e i t h e r   b e   n u l l   o r   a   f u n c t i o n " ) ; a . p r o t o t y p e = O b j e c t . c r e a t e ( b & & b . p r o t o t y p e , { c o n s t r u c t o r : { v a l u e : a , e n u m e r a b l e : ! 1 , w r i t a b l e : ! 0 , c o n f i g u r a b l e : ! 0 } } ) , b & & ( O b j e c t . s e t P r o t o t y p e O f ? O b j e c t . s e t P r o t o t y p e O f ( a , b ) : a . _ _ p r o t o _ _ = b ) } f u n c t i o n   k ( ) { r e t u r n   k = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , k . a p p l y ( t h i s , a r g u m e n t s ) } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   l = d ( b ) , m = d ( c ) , n = f u n c t i o n ( a ) { v a r   b = " p o p o v e r " , c = " 4 . 0 . 0 " , d = " b s . p o p o v e r " , g = " . " . c o n c a t ( d ) , l = a . f n [ b ] , n = " b s - p o p o v e r " , o = n e w   R e g E x p ( " ( ^ | \ \ s ) " . c o n c a t ( n , " \ \ S + " ) , " g " ) , p = k ( { } , m [ " d e f a u l t " ] . D e f a u l t , { p l a c e m e n t : " r i g h t " , t r i g g e r : " c l i c k " , c o n t e n t : " " , t e m p l a t e : ' < d i v   c l a s s = " p o p o v e r "   r o l e = " t o o l t i p " > < d i v   c l a s s = " a r r o w " > < / d i v > < h 3   c l a s s = " p o p o v e r - h e a d e r " > < / h 3 > < d i v   c l a s s = " p o p o v e r - b o d y " > < / d i v > < / d i v > ' } ) , q = k ( { } , m [ " d e f a u l t " ] . D e f a u l t T y p e , { c o n t e n t : " ( s t r i n g | e l e m e n t | f u n c t i o n ) " } ) , r = { F A D E : " f a d e " , S H O W : " s h o w " } , s = { T I T L E : " . p o p o v e r - h e a d e r " , C O N T E N T : " . p o p o v e r - b o d y " } , t = { H I D E : " h i d e " . c o n c a t ( g ) , H I D D E N : " h i d d e n " . c o n c a t ( g ) , S H O W : " s h o w " . c o n c a t ( g ) , S H O W N : " s h o w n " . c o n c a t ( g ) , I N S E R T E D : " i n s e r t e d " . c o n c a t ( g ) , C L I C K : " c l i c k " . c o n c a t ( g ) , F O C U S I N : " f o c u s i n " . c o n c a t ( g ) , F O C U S O U T : " f o c u s o u t " . c o n c a t ( g ) , M O U S E E N T E R : " m o u s e e n t e r " . c o n c a t ( g ) , M O U S E L E A V E : " m o u s e l e a v e " . c o n c a t ( g ) } , u = f u n c t i o n ( k ) { f u n c t i o n   l ( ) { r e t u r n   f ( t h i s , l ) , i ( t h i s , ( l . _ _ p r o t o _ _ | | O b j e c t . g e t P r o t o t y p e O f ( l ) ) . a p p l y ( t h i s , a r g u m e n t s ) ) } r e t u r n   j ( l , k ) , h ( l , [ { k e y : " i s W i t h C o n t e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . g e t T i t l e ( ) | | t h i s . _ g e t C o n t e n t ( ) } } , { k e y : " a d d A t t a c h m e n t C l a s s " , v a l u e : f u n c t i o n ( b ) { a ( t h i s . g e t T i p E l e m e n t ( ) ) . a d d C l a s s ( " " . c o n c a t ( n , " - " ) . c o n c a t ( b ) ) } } , { k e y : " g e t T i p E l e m e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . t i p = t h i s . t i p | | a ( t h i s . c o n f i g . t e m p l a t e ) [ 0 ] , t h i s . t i p } } , { k e y : " s e t C o n t e n t " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . g e t T i p E l e m e n t ( ) ) ; t h i s . s e t E l e m e n t C o n t e n t ( b . f i n d ( s . T I T L E ) , t h i s . g e t T i t l e ( ) ) ; v a r   c = t h i s . _ g e t C o n t e n t ( ) ; " f u n c t i o n " = = t y p e o f   c & & ( c = c . c a l l ( t h i s . e l e m e n t ) ) , t h i s . s e t E l e m e n t C o n t e n t ( b . f i n d ( s . C O N T E N T ) , c ) , b . r e m o v e C l a s s ( " " . c o n c a t ( r . F A D E , "   " ) . c o n c a t ( r . S H O W ) ) } } , { k e y : " _ g e t C o n t e n t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . e l e m e n t . g e t A t t r i b u t e ( " d a t a - c o n t e n t " ) | | t h i s . c o n f i g . c o n t e n t } } , { k e y : " _ c l e a n T i p C l a s s " , v a l u e : f u n c t i o n ( ) { v a r   b = a ( t h i s . g e t T i p E l e m e n t ( ) ) , c = b . a t t r ( " c l a s s " ) . m a t c h ( o ) ; n u l l ! = = c & & c . l e n g t h > 0 & & b . r e m o v e C l a s s ( c . j o i n ( " " ) ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( d ) , f = " o b j e c t " = = = e ( b ) ? b : n u l l ; i f ( ( c | | ! / d e s t r o y | h i d e / . t e s t ( b ) ) & & ( c | | ( c = n e w   l ( t h i s , f ) , a ( t h i s ) . d a t a ( d , c ) ) , " s t r i n g " = = t y p e o f   b ) ) { i f ( " u n d e f i n e d " = = t y p e o f   c [ b ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( b , ' " ' ) ) ; c [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   p } } , { k e y : " N A M E " , g e t : f u n c t i o n ( ) { r e t u r n   b } } , { k e y : " D A T A _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   d } } , { k e y : " E v e n t " , g e t : f u n c t i o n ( ) { r e t u r n   t } } , { k e y : " E V E N T _ K E Y " , g e t : f u n c t i o n ( ) { r e t u r n   g } } , { k e y : " D e f a u l t T y p e " , g e t : f u n c t i o n ( ) { r e t u r n   q } } ] ) , l } ( m [ " d e f a u l t " ] ) ; r e t u r n   a . f n [ b ] = u . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = u , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = l , u . _ j Q u e r y I n t e r f a c e } , u } ( l [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = n } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / c a r o u s e l ' ,   [ " e x p o r t s " , " j q u e r y " , " . / u t i l " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a ) { r e t u r n ( e = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ) ( a ) } f u n c t i o n   f ( ) { r e t u r n   f = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , f . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   g ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   h ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   i ( a , b , c ) { r e t u r n   b & & h ( a . p r o t o t y p e , b ) , c & & h ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   j = d ( b ) , k = d ( c ) , l = f u n c t i o n ( a ) { v a r   b = " c a r o u s e l " , c = " 4 . 0 . 0 " , d = " b s . c a r o u s e l " , h = " . " . c o n c a t ( d ) , j = " . d a t a - a p i " , l = a . f n [ b ] , m = 6 0 0 , n = 3 7 , o = 3 9 , p = 5 0 0 , q = { i n t e r v a l : 5 e 3 , k e y b o a r d : ! 0 , s l i d e : ! 1 , p a u s e : " h o v e r " , w r a p : ! 0 } , r = { i n t e r v a l : " ( n u m b e r | b o o l e a n ) " , k e y b o a r d : " b o o l e a n " , s l i d e : " ( b o o l e a n | s t r i n g ) " , p a u s e : " ( s t r i n g | b o o l e a n ) " , w r a p : " b o o l e a n " } , s = { N E X T : " n e x t " , P R E V : " p r e v " , L E F T : " l e f t " , R I G H T : " r i g h t " } , t = { S L I D E : " s l i d e " . c o n c a t ( h ) , S L I D : " s l i d " . c o n c a t ( h ) , K E Y D O W N : " k e y d o w n " . c o n c a t ( h ) , M O U S E E N T E R : " m o u s e e n t e r " . c o n c a t ( h ) , M O U S E L E A V E : " m o u s e l e a v e " . c o n c a t ( h ) , T O U C H E N D : " t o u c h e n d " . c o n c a t ( h ) , L O A D _ D A T A _ A P I : " l o a d " . c o n c a t ( h ) . c o n c a t ( j ) , C L I C K _ D A T A _ A P I : " c l i c k " . c o n c a t ( h ) . c o n c a t ( j ) } , u = { C A R O U S E L : " c a r o u s e l " , A C T I V E : " a c t i v e " , S L I D E : " s l i d e " , R I G H T : " c a r o u s e l - i t e m - r i g h t " , L E F T : " c a r o u s e l - i t e m - l e f t " , N E X T : " c a r o u s e l - i t e m - n e x t " , P R E V : " c a r o u s e l - i t e m - p r e v " , I T E M : " c a r o u s e l - i t e m " } , v = { A C T I V E : " . a c t i v e " , A C T I V E _ I T E M : " . a c t i v e . c a r o u s e l - i t e m " , I T E M : " . c a r o u s e l - i t e m " , N E X T _ P R E V : " . c a r o u s e l - i t e m - n e x t ,   . c a r o u s e l - i t e m - p r e v " , I N D I C A T O R S : " . c a r o u s e l - i n d i c a t o r s " , D A T A _ S L I D E : " [ d a t a - s l i d e ] ,   [ d a t a - s l i d e - t o ] " , D A T A _ R I D E : ' [ d a t a - r i d e = " c a r o u s e l " ] ' } , w = f u n c t i o n ( ) { f u n c t i o n   j ( b , c ) { g ( t h i s , j ) , t h i s . _ i t e m s = n u l l , t h i s . _ i n t e r v a l = n u l l , t h i s . _ a c t i v e E l e m e n t = n u l l , t h i s . _ i s P a u s e d = ! 1 , t h i s . _ i s S l i d i n g = ! 1 , t h i s . t o u c h T i m e o u t = n u l l , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ e l e m e n t = a ( b ) [ 0 ] , t h i s . _ i n d i c a t o r s E l e m e n t = a ( t h i s . _ e l e m e n t ) . f i n d ( v . I N D I C A T O R S ) [ 0 ] , t h i s . _ a d d E v e n t L i s t e n e r s ( ) } r e t u r n   i ( j , [ { k e y : " n e x t " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s S l i d i n g | | t h i s . _ s l i d e ( s . N E X T ) } } , { k e y : " n e x t W h e n V i s i b l e " , v a l u e : f u n c t i o n ( ) { ! d o c u m e n t . h i d d e n & & a ( t h i s . _ e l e m e n t ) . i s ( " : v i s i b l e " ) & & " h i d d e n " ! = = a ( t h i s . _ e l e m e n t ) . c s s ( " v i s i b i l i t y " ) & & t h i s . n e x t ( ) } } , { k e y : " p r e v " , v a l u e : f u n c t i o n ( ) { t h i s . _ i s S l i d i n g | | t h i s . _ s l i d e ( s . P R E V ) } } , { k e y : " p a u s e " , v a l u e : f u n c t i o n ( b ) { b | | ( t h i s . _ i s P a u s e d = ! 0 ) , a ( t h i s . _ e l e m e n t ) . f i n d ( v . N E X T _ P R E V ) [ 0 ] & & k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & ( k [ " d e f a u l t " ] . t r i g g e r T r a n s i t i o n E n d ( t h i s . _ e l e m e n t ) , t h i s . c y c l e ( ! 0 ) ) , c l e a r I n t e r v a l ( t h i s . _ i n t e r v a l ) , t h i s . _ i n t e r v a l = n u l l } } , { k e y : " c y c l e " , v a l u e : f u n c t i o n ( a ) { a | | ( t h i s . _ i s P a u s e d = ! 1 ) , t h i s . _ i n t e r v a l & & ( c l e a r I n t e r v a l ( t h i s . _ i n t e r v a l ) , t h i s . _ i n t e r v a l = n u l l ) , t h i s . _ c o n f i g . i n t e r v a l & & ! t h i s . _ i s P a u s e d & & ( t h i s . _ i n t e r v a l = s e t I n t e r v a l ( ( d o c u m e n t . v i s i b i l i t y S t a t e ? t h i s . n e x t W h e n V i s i b l e : t h i s . n e x t ) . b i n d ( t h i s ) , t h i s . _ c o n f i g . i n t e r v a l ) ) } } , { k e y : " t o " , v a l u e : f u n c t i o n ( b ) { v a r   c = t h i s ; t h i s . _ a c t i v e E l e m e n t = a ( t h i s . _ e l e m e n t ) . f i n d ( v . A C T I V E _ I T E M ) [ 0 ] ; v a r   d = t h i s . _ g e t I t e m I n d e x ( t h i s . _ a c t i v e E l e m e n t ) ; i f ( ! ( b > t h i s . _ i t e m s . l e n g t h - 1 | | b < 0 ) ) { i f ( t h i s . _ i s S l i d i n g ) r e t u r n   v o i d   a ( t h i s . _ e l e m e n t ) . o n e ( t . S L I D , f u n c t i o n ( ) { r e t u r n   c . t o ( b ) } ) ; i f ( d = = = b ) r e t u r n   t h i s . p a u s e ( ) , v o i d   t h i s . c y c l e ( ) ; v a r   e = b > d ? s . N E X T : s . P R E V ; t h i s . _ s l i d e ( e , t h i s . _ i t e m s [ b ] ) } } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a ( t h i s . _ e l e m e n t ) . o f f ( h ) , a . r e m o v e D a t a ( t h i s . _ e l e m e n t , d ) , t h i s . _ i t e m s = n u l l , t h i s . _ c o n f i g = n u l l , t h i s . _ e l e m e n t = n u l l , t h i s . _ i n t e r v a l = n u l l , t h i s . _ i s P a u s e d = n u l l , t h i s . _ i s S l i d i n g = n u l l , t h i s . _ a c t i v e E l e m e n t = n u l l , t h i s . _ i n d i c a t o r s E l e m e n t = n u l l } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( a ) { r e t u r n   a = f ( { } , q , a ) , k [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , a , r ) , a } } , { k e y : " _ a d d E v e n t L i s t e n e r s " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s ; t h i s . _ c o n f i g . k e y b o a r d & & a ( t h i s . _ e l e m e n t ) . o n ( t . K E Y D O W N , f u n c t i o n ( a ) { r e t u r n   b . _ k e y d o w n ( a ) } ) , " h o v e r " = = = t h i s . _ c o n f i g . p a u s e & & ( a ( t h i s . _ e l e m e n t ) . o n ( t . M O U S E E N T E R , f u n c t i o n ( a ) { r e t u r n   b . p a u s e ( a ) } ) . o n ( t . M O U S E L E A V E , f u n c t i o n ( a ) { r e t u r n   b . c y c l e ( a ) } ) , " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & a ( t h i s . _ e l e m e n t ) . o n ( t . T O U C H E N D , f u n c t i o n ( ) { b . p a u s e ( ) , b . t o u c h T i m e o u t & & c l e a r T i m e o u t ( b . t o u c h T i m e o u t ) , b . t o u c h T i m e o u t = s e t T i m e o u t ( f u n c t i o n ( a ) { r e t u r n   b . c y c l e ( a ) } , p + b . _ c o n f i g . i n t e r v a l ) } ) ) } } , { k e y : " _ k e y d o w n " , v a l u e : f u n c t i o n ( a ) { i f ( ! / i n p u t | t e x t a r e a / i . t e s t ( a . t a r g e t . t a g N a m e ) ) s w i t c h ( a . w h i c h ) { c a s e   n : a . p r e v e n t D e f a u l t ( ) , t h i s . p r e v ( ) ; b r e a k ; c a s e   o : a . p r e v e n t D e f a u l t ( ) , t h i s . n e x t ( ) } } } , { k e y : " _ g e t I t e m I n d e x " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . _ i t e m s = a . m a k e A r r a y ( a ( b ) . p a r e n t ( ) . f i n d ( v . I T E M ) ) , t h i s . _ i t e m s . i n d e x O f ( b ) } } , { k e y : " _ g e t I t e m B y D i r e c t i o n " , v a l u e : f u n c t i o n ( a , b ) { v a r   c = a = = = s . N E X T , d = a = = = s . P R E V , e = t h i s . _ g e t I t e m I n d e x ( b ) , f = t h i s . _ i t e m s . l e n g t h - 1 , g = d & & 0 = = = e | | c & & e = = = f ; i f ( g & & ! t h i s . _ c o n f i g . w r a p ) r e t u r n   b ; v a r   h = a = = = s . P R E V ? - 1 : 1 , i = ( e + h ) % t h i s . _ i t e m s . l e n g t h ; r e t u r n   i = = = - 1 ? t h i s . _ i t e m s [ t h i s . _ i t e m s . l e n g t h - 1 ] : t h i s . _ i t e m s [ i ] } } , { k e y : " _ t r i g g e r S l i d e E v e n t " , v a l u e : f u n c t i o n ( b , c ) { v a r   d = t h i s . _ g e t I t e m I n d e x ( b ) , e = t h i s . _ g e t I t e m I n d e x ( a ( t h i s . _ e l e m e n t ) . f i n d ( v . A C T I V E _ I T E M ) [ 0 ] ) , f = a . E v e n t ( t . S L I D E , { r e l a t e d T a r g e t : b , d i r e c t i o n : c , f r o m : e , t o : d } ) ; r e t u r n   a ( t h i s . _ e l e m e n t ) . t r i g g e r ( f ) , f } } , { k e y : " _ s e t A c t i v e I n d i c a t o r E l e m e n t " , v a l u e : f u n c t i o n ( b ) { i f ( t h i s . _ i n d i c a t o r s E l e m e n t ) { a ( t h i s . _ i n d i c a t o r s E l e m e n t ) . f i n d ( v . A C T I V E ) . r e m o v e C l a s s ( u . A C T I V E ) ; v a r   c = t h i s . _ i n d i c a t o r s E l e m e n t . c h i l d r e n [ t h i s . _ g e t I t e m I n d e x ( b ) ] ; c & & a ( c ) . a d d C l a s s ( u . A C T I V E ) } } } , { k e y : " _ s l i d e " , v a l u e : f u n c t i o n ( b , c ) { v a r   d , e , f , g = t h i s , h = a ( t h i s . _ e l e m e n t ) . f i n d ( v . A C T I V E _ I T E M ) [ 0 ] , i = t h i s . _ g e t I t e m I n d e x ( h ) , j = c | | h & & t h i s . _ g e t I t e m B y D i r e c t i o n ( b , h ) , l = t h i s . _ g e t I t e m I n d e x ( j ) , n = B o o l e a n ( t h i s . _ i n t e r v a l ) ; i f ( b = = = s . N E X T ? ( d = u . L E F T , e = u . N E X T , f = s . L E F T ) : ( d = u . R I G H T , e = u . P R E V , f = s . R I G H T ) , j & & a ( j ) . h a s C l a s s ( u . A C T I V E ) ) r e t u r n   v o i d ( t h i s . _ i s S l i d i n g = ! 1 ) ; v a r   o = t h i s . _ t r i g g e r S l i d e E v e n t ( j , f ) ; i f ( ! o . i s D e f a u l t P r e v e n t e d ( ) & & h & & j ) { t h i s . _ i s S l i d i n g = ! 0 , n & & t h i s . p a u s e ( ) , t h i s . _ s e t A c t i v e I n d i c a t o r E l e m e n t ( j ) ; v a r   p = a . E v e n t ( t . S L I D , { r e l a t e d T a r g e t : j , d i r e c t i o n : f , f r o m : i , t o : l } ) ; k [ " d e f a u l t " ] . s u p p o r t s T r a n s i t i o n E n d ( ) & & a ( t h i s . _ e l e m e n t ) . h a s C l a s s ( u . S L I D E ) ? ( a ( j ) . a d d C l a s s ( e ) , k [ " d e f a u l t " ] . r e f l o w ( j ) , a ( h ) . a d d C l a s s ( d ) , a ( j ) . a d d C l a s s ( d ) , a ( h ) . o n e ( k [ " d e f a u l t " ] . T R A N S I T I O N _ E N D , f u n c t i o n ( ) { a ( j ) . r e m o v e C l a s s ( " " . c o n c a t ( d , "   " ) . c o n c a t ( e ) ) . a d d C l a s s ( u . A C T I V E ) , a ( h ) . r e m o v e C l a s s ( " " . c o n c a t ( u . A C T I V E , "   " ) . c o n c a t ( e , "   " ) . c o n c a t ( d ) ) , g . _ i s S l i d i n g = ! 1 , s e t T i m e o u t ( f u n c t i o n ( ) { r e t u r n   a ( g . _ e l e m e n t ) . t r i g g e r ( p ) } , 0 ) } ) . e m u l a t e T r a n s i t i o n E n d ( m ) ) : ( a ( h ) . r e m o v e C l a s s ( u . A C T I V E ) , a ( j ) . a d d C l a s s ( u . A C T I V E ) , t h i s . _ i s S l i d i n g = ! 1 , a ( t h i s . _ e l e m e n t ) . t r i g g e r ( p ) ) , n & & t h i s . c y c l e ( ) } } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( d ) , g = f ( { } , q , a ( t h i s ) . d a t a ( ) ) ; " o b j e c t " = = = e ( b ) & & ( g = f ( { } , g , b ) ) ; v a r   h = " s t r i n g " = = t y p e o f   b ? b : g . s l i d e ; i f ( c | | ( c = n e w   j ( t h i s , g ) , a ( t h i s ) . d a t a ( d , c ) ) , " n u m b e r " = = t y p e o f   b ) c . t o ( b ) ; e l s e   i f ( " s t r i n g " = = t y p e o f   h ) { i f ( " u n d e f i n e d " = = t y p e o f   c [ h ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( h , ' " ' ) ) ; c [ h ] ( ) } e l s e   g . i n t e r v a l & & ( c . p a u s e ( ) , c . c y c l e ( ) ) } ) } } , { k e y : " _ d a t a A p i C l i c k H a n d l e r " , v a l u e : f u n c t i o n ( b ) { v a r   c = k [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( t h i s ) ; i f ( c ) { v a r   e = a ( c ) [ 0 ] ; i f ( e & & a ( e ) . h a s C l a s s ( u . C A R O U S E L ) ) { v a r   g = f ( { } , a ( e ) . d a t a ( ) , a ( t h i s ) . d a t a ( ) ) , h = t h i s . g e t A t t r i b u t e ( " d a t a - s l i d e - t o " ) ; h & & ( g . i n t e r v a l = ! 1 ) , j . _ j Q u e r y I n t e r f a c e . c a l l ( a ( e ) , g ) , h & & a ( e ) . d a t a ( d ) . t o ( h ) , b . p r e v e n t D e f a u l t ( ) } } } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   q } } ] ) , j } ( ) ; r e t u r n   a ( d o c u m e n t ) . o n ( t . C L I C K _ D A T A _ A P I , v . D A T A _ S L I D E , w . _ d a t a A p i C l i c k H a n d l e r ) , a ( w i n d o w ) . o n ( t . L O A D _ D A T A _ A P I , f u n c t i o n ( ) { a ( v . D A T A _ R I D E ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; w . _ j Q u e r y I n t e r f a c e . c a l l ( b , b . d a t a ( ) ) } ) } ) , a . f n [ b ] = w . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = w , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = l , w . _ j Q u e r y I n t e r f a c e } , w } ( j [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = l } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / f o r m - d i s p l a y - e r r o r s ' ,   [ " j q u e r y " , " c o r e / e v e n t " ] , f u n c t i o n ( a , b ) { r e t u r n { e n h a n c e : f u n c t i o n ( c ) { v a r   d = d o c u m e n t . g e t E l e m e n t B y I d ( c ) ; a ( d ) . o n ( b . E v e n t s . F O R M _ F I E L D _ V A L I D A T I O N , f u n c t i o n ( b , c ) { b . p r e v e n t D e f a u l t ( ) ; v a r   e = a ( d ) . c l o s e s t ( " . f o r m - g r o u p " ) , f = e . f i n d ( " . f o r m - c o n t r o l - f e e d b a c k " ) ; " T E X T A R E A " = = a ( d ) . p r o p ( " t a g N a m e " ) & & e . f i n d ( " [ c o n t e n t e d i t a b l e ] " ) & & ( d = e . f i n d ( " [ c o n t e n t e d i t a b l e ] " ) ) , " " ! = = c ? ( e . a d d C l a s s ( " h a s - d a n g e r " ) , e . d a t a ( " c l i e n t - v a l i d a t i o n - e r r o r " , ! 0 ) , a ( d ) . a d d C l a s s ( " i s - i n v a l i d " ) , a ( d ) . a t t r ( " a r i a - d e s c r i b e d b y " , f . a t t r ( " i d " ) ) , a ( d ) . a t t r ( " a r i a - i n v a l i d " , ! 0 ) , f . a t t r ( " t a b i n d e x " , 0 ) , f . h t m l ( c ) , f . i s ( " : v i s i b l e " ) | | ( f . s h o w ( ) , f . f o c u s ( ) ) ) : e . d a t a ( " c l i e n t - v a l i d a t i o n - e r r o r " ) = = = ! 0 & & ( e . r e m o v e C l a s s ( " h a s - d a n g e r " ) , e . d a t a ( " c l i e n t - v a l i d a t i o n - e r r o r " , ! 1 ) , a ( d ) . r e m o v e C l a s s ( " i s - i n v a l i d " ) , a ( d ) . r e m o v e A t t r ( " a r i a - d e s c r i b e d b y " ) , a ( d ) . a t t r ( " a r i a - i n v a l i d " , ! 1 ) , f . h i d e ( ) ) } ) } } } ) ; 
 d e f i n e ( ' t h e m e _ b o o s t / s c r o l l s p y ' ,   [ " e x p o r t s " , " j q u e r y " , " . / u t i l " ] , f u n c t i o n ( a , b , c ) { " u s e   s t r i c t " ; f u n c t i o n   d ( a ) { r e t u r n   a & & a . _ _ e s M o d u l e ? a : { " d e f a u l t " : a } } f u n c t i o n   e ( a ) { r e t u r n ( e = " f u n c t i o n " = = t y p e o f   S y m b o l & & " s y m b o l " = = t y p e o f   S y m b o l . i t e r a t o r ? f u n c t i o n ( a ) { r e t u r n   t y p e o f   a } : f u n c t i o n ( a ) { r e t u r n   a & & " f u n c t i o n " = = t y p e o f   S y m b o l & & a . c o n s t r u c t o r = = = S y m b o l & & a ! = = S y m b o l . p r o t o t y p e ? " s y m b o l " : t y p e o f   a } ) ( a ) } f u n c t i o n   f ( ) { r e t u r n   f = O b j e c t . a s s i g n | | f u n c t i o n ( a ) { f o r ( v a r   b = 1 ; b < a r g u m e n t s . l e n g t h ; b + + ) { v a r   c = a r g u m e n t s [ b ] ; f o r ( v a r   d   i n   c ) O b j e c t . p r o t o t y p e . h a s O w n P r o p e r t y . c a l l ( c , d ) & & ( a [ d ] = c [ d ] ) } r e t u r n   a } , f . a p p l y ( t h i s , a r g u m e n t s ) } f u n c t i o n   g ( a , b ) { i f ( ! ( a   i n s t a n c e o f   b ) ) t h r o w   n e w   T y p e E r r o r ( " C a n n o t   c a l l   a   c l a s s   a s   a   f u n c t i o n " ) } f u n c t i o n   h ( a , b ) { f o r ( v a r   c = 0 ; c < b . l e n g t h ; c + + ) { v a r   d = b [ c ] ; d . e n u m e r a b l e = d . e n u m e r a b l e | | ! 1 , d . c o n f i g u r a b l e = ! 0 , " v a l u e " i n   d & & ( d . w r i t a b l e = ! 0 ) , O b j e c t . d e f i n e P r o p e r t y ( a , d . k e y , d ) } } f u n c t i o n   i ( a , b , c ) { r e t u r n   b & & h ( a . p r o t o t y p e , b ) , c & & h ( a , c ) , a } O b j e c t . d e f i n e P r o p e r t y ( a , " _ _ e s M o d u l e " , { v a l u e : ! 0 } ) ; v a r   j = d ( b ) , k = d ( c ) , l = f u n c t i o n ( a ) { v a r   b = " s c r o l l s p y " , c = " 4 . 0 . 0 " , d = " b s . s c r o l l s p y " , h = " . " . c o n c a t ( d ) , j = " . d a t a - a p i " , l = a . f n [ b ] , m = { o f f s e t : 1 0 , m e t h o d : " a u t o " , t a r g e t : " " } , n = { o f f s e t : " n u m b e r " , m e t h o d : " s t r i n g " , t a r g e t : " ( s t r i n g | e l e m e n t ) " } , o = { A C T I V A T E : " a c t i v a t e " . c o n c a t ( h ) , S C R O L L : " s c r o l l " . c o n c a t ( h ) , L O A D _ D A T A _ A P I : " l o a d " . c o n c a t ( h ) . c o n c a t ( j ) } , p = { D R O P D O W N _ I T E M : " d r o p d o w n - i t e m " , D R O P D O W N _ M E N U : " d r o p d o w n - m e n u " , A C T I V E : " a c t i v e " } , q = { D A T A _ S P Y : ' [ d a t a - s p y = " s c r o l l " ] ' , A C T I V E : " . a c t i v e " , N A V _ L I S T _ G R O U P : " . n a v ,   . l i s t - g r o u p " , N A V _ L I N K S : " . n a v - l i n k " , N A V _ I T E M S : " . n a v - i t e m " , L I S T _ I T E M S : " . l i s t - g r o u p - i t e m " , D R O P D O W N : " . d r o p d o w n " , D R O P D O W N _ I T E M S : " . d r o p d o w n - i t e m " , D R O P D O W N _ T O G G L E : " . d r o p d o w n - t o g g l e " } , r = { O F F S E T : " o f f s e t " , P O S I T I O N : " p o s i t i o n " } , s = f u n c t i o n ( ) { f u n c t i o n   j ( b , c ) { v a r   d = t h i s ; g ( t h i s , j ) , t h i s . _ e l e m e n t = b , t h i s . _ s c r o l l E l e m e n t = " B O D Y " = = = b . t a g N a m e ? w i n d o w : b , t h i s . _ c o n f i g = t h i s . _ g e t C o n f i g ( c ) , t h i s . _ s e l e c t o r = " " . c o n c a t ( t h i s . _ c o n f i g . t a r g e t , "   " ) . c o n c a t ( q . N A V _ L I N K S , " , " ) + " " . c o n c a t ( t h i s . _ c o n f i g . t a r g e t , "   " ) . c o n c a t ( q . L I S T _ I T E M S , " , " ) + " " . c o n c a t ( t h i s . _ c o n f i g . t a r g e t , "   " ) . c o n c a t ( q . D R O P D O W N _ I T E M S ) , t h i s . _ o f f s e t s = [ ] , t h i s . _ t a r g e t s = [ ] , t h i s . _ a c t i v e T a r g e t = n u l l , t h i s . _ s c r o l l H e i g h t = 0 , a ( t h i s . _ s c r o l l E l e m e n t ) . o n ( o . S C R O L L , f u n c t i o n ( a ) { r e t u r n   d . _ p r o c e s s ( a ) } ) , t h i s . r e f r e s h ( ) , t h i s . _ p r o c e s s ( ) } r e t u r n   i ( j , [ { k e y : " r e f r e s h " , v a l u e : f u n c t i o n ( ) { v a r   b = t h i s , c = t h i s . _ s c r o l l E l e m e n t = = = t h i s . _ s c r o l l E l e m e n t . w i n d o w ? r . O F F S E T : r . P O S I T I O N , d = " a u t o " = = = t h i s . _ c o n f i g . m e t h o d ? c : t h i s . _ c o n f i g . m e t h o d , e = d = = = r . P O S I T I O N ? t h i s . _ g e t S c r o l l T o p ( ) : 0 ; t h i s . _ o f f s e t s = [ ] , t h i s . _ t a r g e t s = [ ] , t h i s . _ s c r o l l H e i g h t = t h i s . _ g e t S c r o l l H e i g h t ( ) ; v a r   f = a . m a k e A r r a y ( a ( t h i s . _ s e l e c t o r ) ) ; f . m a p ( f u n c t i o n ( b ) { v a r   c , f = k [ " d e f a u l t " ] . g e t S e l e c t o r F r o m E l e m e n t ( b ) ; i f ( f & & ( c = a ( f ) [ 0 ] ) , c ) { v a r   g = c . g e t B o u n d i n g C l i e n t R e c t ( ) ; i f ( g . w i d t h | | g . h e i g h t ) r e t u r n [ a ( c ) [ d ] ( ) . t o p + e , f ] } r e t u r n   n u l l } ) . f i l t e r ( f u n c t i o n ( a ) { r e t u r n   a } ) . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a [ 0 ] - b [ 0 ] } ) . f o r E a c h ( f u n c t i o n ( a ) { b . _ o f f s e t s . p u s h ( a [ 0 ] ) , b . _ t a r g e t s . p u s h ( a [ 1 ] ) } ) } } , { k e y : " d i s p o s e " , v a l u e : f u n c t i o n ( ) { a . r e m o v e D a t a ( t h i s . _ e l e m e n t , d ) , a ( t h i s . _ s c r o l l E l e m e n t ) . o f f ( h ) , t h i s . _ e l e m e n t = n u l l , t h i s . _ s c r o l l E l e m e n t = n u l l , t h i s . _ c o n f i g = n u l l , t h i s . _ s e l e c t o r = n u l l , t h i s . _ o f f s e t s = n u l l , t h i s . _ t a r g e t s = n u l l , t h i s . _ a c t i v e T a r g e t = n u l l , t h i s . _ s c r o l l H e i g h t = n u l l } } , { k e y : " _ g e t C o n f i g " , v a l u e : f u n c t i o n ( c ) { i f ( c = f ( { } , m , c ) , " s t r i n g " ! = t y p e o f   c . t a r g e t ) { v a r   d = a ( c . t a r g e t ) . a t t r ( " i d " ) ; d | | ( d = k [ " d e f a u l t " ] . g e t U I D ( b ) , a ( c . t a r g e t ) . a t t r ( " i d " , d ) ) , c . t a r g e t = " # " . c o n c a t ( d ) } r e t u r n   k [ " d e f a u l t " ] . t y p e C h e c k C o n f i g ( b , c , n ) , c } } , { k e y : " _ g e t S c r o l l T o p " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . _ s c r o l l E l e m e n t = = = w i n d o w ? t h i s . _ s c r o l l E l e m e n t . p a g e Y O f f s e t : t h i s . _ s c r o l l E l e m e n t . s c r o l l T o p } } , { k e y : " _ g e t S c r o l l H e i g h t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . _ s c r o l l E l e m e n t . s c r o l l H e i g h t | | M a t h . m a x ( d o c u m e n t . b o d y . s c r o l l H e i g h t , d o c u m e n t . d o c u m e n t E l e m e n t . s c r o l l H e i g h t ) } } , { k e y : " _ g e t O f f s e t H e i g h t " , v a l u e : f u n c t i o n ( ) { r e t u r n   t h i s . _ s c r o l l E l e m e n t = = = w i n d o w ? w i n d o w . i n n e r H e i g h t : t h i s . _ s c r o l l E l e m e n t . g e t B o u n d i n g C l i e n t R e c t ( ) . h e i g h t } } , { k e y : " _ p r o c e s s " , v a l u e : f u n c t i o n ( ) { v a r   a = t h i s . _ g e t S c r o l l T o p ( ) + t h i s . _ c o n f i g . o f f s e t , b = t h i s . _ g e t S c r o l l H e i g h t ( ) , c = t h i s . _ c o n f i g . o f f s e t + b - t h i s . _ g e t O f f s e t H e i g h t ( ) ; i f ( t h i s . _ s c r o l l H e i g h t ! = = b & & t h i s . r e f r e s h ( ) , a > = c ) { v a r   d = t h i s . _ t a r g e t s [ t h i s . _ t a r g e t s . l e n g t h - 1 ] ; r e t u r n   v o i d ( t h i s . _ a c t i v e T a r g e t ! = = d & & t h i s . _ a c t i v a t e ( d ) ) } i f ( t h i s . _ a c t i v e T a r g e t & & a < t h i s . _ o f f s e t s [ 0 ] & & t h i s . _ o f f s e t s [ 0 ] > 0 ) r e t u r n   t h i s . _ a c t i v e T a r g e t = n u l l , v o i d   t h i s . _ c l e a r ( ) ; f o r ( v a r   e = t h i s . _ o f f s e t s . l e n g t h ; e - - ; ) { v a r   f = t h i s . _ a c t i v e T a r g e t ! = = t h i s . _ t a r g e t s [ e ] & & a > = t h i s . _ o f f s e t s [ e ] & & ( " u n d e f i n e d " = = t y p e o f   t h i s . _ o f f s e t s [ e + 1 ] | | a < t h i s . _ o f f s e t s [ e + 1 ] ) ; f & & t h i s . _ a c t i v a t e ( t h i s . _ t a r g e t s [ e ] ) } } } , { k e y : " _ a c t i v a t e " , v a l u e : f u n c t i o n ( b ) { t h i s . _ a c t i v e T a r g e t = b , t h i s . _ c l e a r ( ) ; v a r   c = t h i s . _ s e l e c t o r . s p l i t ( " , " ) ; c = c . m a p ( f u n c t i o n ( a ) { r e t u r n " " . c o n c a t ( a , ' [ d a t a - t a r g e t = " ' ) . c o n c a t ( b , ' " ] , ' ) + " " . c o n c a t ( a , ' [ h r e f = " ' ) . c o n c a t ( b , ' " ] ' ) } ) ; v a r   d = a ( c . j o i n ( " , " ) ) ; d . h a s C l a s s ( p . D R O P D O W N _ I T E M ) ? ( d . c l o s e s t ( q . D R O P D O W N ) . f i n d ( q . D R O P D O W N _ T O G G L E ) . a d d C l a s s ( p . A C T I V E ) , d . a d d C l a s s ( p . A C T I V E ) ) : ( d . a d d C l a s s ( p . A C T I V E ) , d . p a r e n t s ( q . N A V _ L I S T _ G R O U P ) . p r e v ( " " . c o n c a t ( q . N A V _ L I N K S , " ,   " ) . c o n c a t ( q . L I S T _ I T E M S ) ) . a d d C l a s s ( p . A C T I V E ) , d . p a r e n t s ( q . N A V _ L I S T _ G R O U P ) . p r e v ( q . N A V _ I T E M S ) . c h i l d r e n ( q . N A V _ L I N K S ) . a d d C l a s s ( p . A C T I V E ) ) , a ( t h i s . _ s c r o l l E l e m e n t ) . t r i g g e r ( o . A C T I V A T E , { r e l a t e d T a r g e t : b } ) } } , { k e y : " _ c l e a r " , v a l u e : f u n c t i o n ( ) { a ( t h i s . _ s e l e c t o r ) . f i l t e r ( q . A C T I V E ) . r e m o v e C l a s s ( p . A C T I V E ) } } ] , [ { k e y : " _ j Q u e r y I n t e r f a c e " , v a l u e : f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) . d a t a ( d ) , f = " o b j e c t " = = = e ( b ) & & b ; i f ( c | | ( c = n e w   j ( t h i s , f ) , a ( t h i s ) . d a t a ( d , c ) ) , " s t r i n g " = = t y p e o f   b ) { i f ( " u n d e f i n e d " = = t y p e o f   c [ b ] ) t h r o w   n e w   T y p e E r r o r ( ' N o   m e t h o d   n a m e d   " ' . c o n c a t ( b , ' " ' ) ) ; c [ b ] ( ) } } ) } } , { k e y : " V E R S I O N " , g e t : f u n c t i o n ( ) { r e t u r n   c } } , { k e y : " D e f a u l t " , g e t : f u n c t i o n ( ) { r e t u r n   m } } ] ) , j } ( ) ; r e t u r n   a ( w i n d o w ) . o n ( o . L O A D _ D A T A _ A P I , f u n c t i o n ( ) { f o r ( v a r   b = a . m a k e A r r a y ( a ( q . D A T A _ S P Y ) ) , c = b . l e n g t h ; c - - ; ) { v a r   d = a ( b [ c ] ) ; s . _ j Q u e r y I n t e r f a c e . c a l l ( d , d . d a t a ( ) ) } } ) , a . f n [ b ] = s . _ j Q u e r y I n t e r f a c e , a . f n [ b ] . C o n s t r u c t o r = s , a . f n [ b ] . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n [ b ] = l , s . _ j Q u e r y I n t e r f a c e } , s } ( j [ " d e f a u l t " ] ) ; a [ " d e f a u l t " ] = l } ) ; 
 d e f i n e ( ' t h e m e _ b o o t s t r a p b a s e / b o o t s t r a p ' ,   [ " j q u e r y " ] , f u n c t i o n ( a ) { f u n c t i o n   b ( b ) { a ( " . d r o p d o w n - b a c k d r o p " ) . r e m o v e ( ) , a ( k ) . e a c h ( f u n c t i o n ( ) { v a r   d = c ( a ( t h i s ) ) ; v o i d   0 ! = b & & 0 ! = d . f i n d ( b ) . l e n g t h | | d . r e m o v e C l a s s ( " o p e n " ) } ) } f u n c t i o n   c ( b ) { v a r   c , d = b . a t t r ( " d a t a - t a r g e t " ) ; r e t u r n   d | | ( d = b . a t t r ( " h r e f " ) , d = d & & / # / . t e s t ( d ) & & d . r e p l a c e ( / . * ( ? = # [ ^ \ s ] * $ ) / , " " ) ) , c = d & & a ( d ) , c & & c . l e n g t h | | ( c = b . p a r e n t ( ) ) , c } f u n c t i o n   d ( b , c ) { v a r   d , e = a . p r o x y ( t h i s . p r o c e s s , t h i s ) , f = a ( a ( b ) . i s ( " b o d y " ) ? w i n d o w : b ) ; t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . s c r o l l s p y . d e f a u l t s , c ) , t h i s . $ s c r o l l E l e m e n t = f . o n ( " s c r o l l . s c r o l l - s p y . d a t a - a p i " , e ) , t h i s . s e l e c t o r = ( t h i s . o p t i o n s . t a r g e t | | ( d = a ( b ) . a t t r ( " h r e f " ) ) & & d . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) | | " " ) + "   . n a v   l i   >   a " , t h i s . $ b o d y = a ( " b o d y " ) , t h i s . r e f r e s h ( ) , t h i s . p r o c e s s ( ) } a ( " . h 1 " ) . h i d e ( ) , a ( f u n c t i o n ( ) { a . s u p p o r t . t r a n s i t i o n = f u n c t i o n ( ) { v a r   a = f u n c t i o n ( ) { v a r   a , b = d o c u m e n t . c r e a t e E l e m e n t ( " b o o t s t r a p " ) , c = { W e b k i t T r a n s i t i o n : " w e b k i t T r a n s i t i o n E n d " , M o z T r a n s i t i o n : " t r a n s i t i o n e n d " , O T r a n s i t i o n : " o T r a n s i t i o n E n d   o t r a n s i t i o n e n d " , t r a n s i t i o n : " t r a n s i t i o n e n d " } ; f o r ( a   i n   c ) i f ( v o i d   0 ! = = b . s t y l e [ a ] ) r e t u r n   c [ a ] } ( ) ; r e t u r n   a & & { e n d : a } } ( ) } ) ; v a r   e = ' [ d a t a - d i s m i s s = " a l e r t " ] ' , f = f u n c t i o n ( b ) { a ( b ) . o n ( " c l i c k " , e , t h i s . c l o s e ) } ; f . p r o t o t y p e . c l o s e = f u n c t i o n ( b ) { f u n c t i o n   c ( ) { d . t r i g g e r ( " c l o s e d " ) . r e m o v e ( ) } v a r   d , e = a ( t h i s ) , f = e . a t t r ( " d a t a - t a r g e t " ) ; f | | ( f = e . a t t r ( " h r e f " ) , f = f & & f . r e p l a c e ( / . * ( ? = # [ ^ \ s ] * $ ) / , " " ) ) , d = a ( f ) , b & & b . p r e v e n t D e f a u l t ( ) , d . l e n g t h | | ( d = e . h a s C l a s s ( " a l e r t " ) ? e : e . p a r e n t ( ) ) , d . t r i g g e r ( b = a . E v e n t ( " c l o s e " ) ) , b . i s D e f a u l t P r e v e n t e d ( ) | | ( d . r e m o v e C l a s s ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & d . h a s C l a s s ( " f a d e " ) ? d . o n ( a . s u p p o r t . t r a n s i t i o n . e n d , c ) : c ( ) ) } ; v a r   g = a . f n . a l e r t ; a . f n . a l e r t = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " a l e r t " ) ; d | | c . d a t a ( " a l e r t " , d = n e w   f ( t h i s ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] . c a l l ( c ) } ) } , a . f n . a l e r t . C o n s t r u c t o r = f , a . f n . a l e r t . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . a l e r t = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . a l e r t . d a t a - a p i " , e , f . p r o t o t y p e . c l o s e ) ; v a r   h = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . b u t t o n . d e f a u l t s , c ) } ; h . p r o t o t y p e . s e t S t a t e = f u n c t i o n ( a ) { v a r   b = " d i s a b l e d " , c = t h i s . $ e l e m e n t , d = c . d a t a ( ) , e = c . i s ( " i n p u t " ) ? " v a l " : " h t m l " ; a + = " T e x t " , d . r e s e t T e x t | | c . d a t a ( " r e s e t T e x t " , c [ e ] ( ) ) , c [ e ] ( d [ a ] | | t h i s . o p t i o n s [ a ] ) , s e t T i m e o u t ( f u n c t i o n ( ) { " l o a d i n g T e x t " = = a ? c . a d d C l a s s ( b ) . a t t r ( b , b ) : c . r e m o v e C l a s s ( b ) . r e m o v e A t t r ( b ) } , 0 ) } , h . p r o t o t y p e . t o g g l e = f u n c t i o n ( ) { v a r   a = t h i s . $ e l e m e n t . c l o s e s t ( ' [ d a t a - t o g g l e = " b u t t o n s - r a d i o " ] ' ) ; a & & a . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . $ e l e m e n t . t o g g l e C l a s s ( " a c t i v e " ) } ; v a r   g = a . f n . b u t t o n ; a . f n . b u t t o n = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " b u t t o n " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " b u t t o n " , d = n e w   h ( t h i s , e ) ) , " t o g g l e " = = b ? d . t o g g l e ( ) : b & & d . s e t S t a t e ( b ) } ) } , a . f n . b u t t o n . d e f a u l t s = { l o a d i n g T e x t : " l o a d i n g . . . " } , a . f n . b u t t o n . C o n s t r u c t o r = h , a . f n . b u t t o n . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . b u t t o n = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . b u t t o n . d a t a - a p i " , " [ d a t a - t o g g l e ^ = b u t t o n ] " , f u n c t i o n ( b ) { v a r   c = a ( b . t a r g e t ) ; c . h a s C l a s s ( " b t n " ) | | ( c = c . c l o s e s t ( " . b t n " ) ) , c . b u t t o n ( " t o g g l e " ) } ) ; v a r   i = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . $ i n d i c a t o r s = t h i s . $ e l e m e n t . f i n d ( " . c a r o u s e l - i n d i c a t o r s " ) , t h i s . o p t i o n s = c , " h o v e r " = = t h i s . o p t i o n s . p a u s e & & t h i s . $ e l e m e n t . o n ( " m o u s e e n t e r " , a . p r o x y ( t h i s . p a u s e , t h i s ) ) . o n ( " m o u s e l e a v e " , a . p r o x y ( t h i s . c y c l e , t h i s ) ) } ; i . p r o t o t y p e = { c y c l e : f u n c t i o n ( b ) { r e t u r n   b | | ( t h i s . p a u s e d = ! 1 ) , t h i s . i n t e r v a l & & c l e a r I n t e r v a l ( t h i s . i n t e r v a l ) , t h i s . o p t i o n s . i n t e r v a l & & ! t h i s . p a u s e d & & ( t h i s . i n t e r v a l = s e t I n t e r v a l ( a . p r o x y ( t h i s . n e x t , t h i s ) , t h i s . o p t i o n s . i n t e r v a l ) ) , t h i s } , g e t A c t i v e I n d e x : f u n c t i o n ( ) { r e t u r n   t h i s . $ a c t i v e = t h i s . $ e l e m e n t . f i n d ( " . i t e m . a c t i v e " ) , t h i s . $ i t e m s = t h i s . $ a c t i v e . p a r e n t ( ) . c h i l d r e n ( ) , t h i s . $ i t e m s . i n d e x ( t h i s . $ a c t i v e ) } , t o : f u n c t i o n ( b ) { v a r   c = t h i s . g e t A c t i v e I n d e x ( ) , d = t h i s ; i f ( ! ( b > t h i s . $ i t e m s . l e n g t h - 1 | | b < 0 ) ) r e t u r n   t h i s . s l i d i n g ? t h i s . $ e l e m e n t . o n e ( " s l i d " , f u n c t i o n ( ) { d . t o ( b ) } ) : c = = b ? t h i s . p a u s e ( ) . c y c l e ( ) : t h i s . s l i d e ( b > c ? " n e x t " : " p r e v " , a ( t h i s . $ i t e m s [ b ] ) ) } , p a u s e : f u n c t i o n ( b ) { r e t u r n   b | | ( t h i s . p a u s e d = ! 0 ) , t h i s . $ e l e m e n t . f i n d ( " . n e x t ,   . p r e v " ) . l e n g t h & & a . s u p p o r t . t r a n s i t i o n . e n d & & ( t h i s . $ e l e m e n t . t r i g g e r ( a . s u p p o r t . t r a n s i t i o n . e n d ) , t h i s . c y c l e ( ! 0 ) ) , c l e a r I n t e r v a l ( t h i s . i n t e r v a l ) , t h i s . i n t e r v a l = n u l l , t h i s } , n e x t : f u n c t i o n ( ) { i f ( ! t h i s . s l i d i n g ) r e t u r n   t h i s . s l i d e ( " n e x t " ) } , p r e v : f u n c t i o n ( ) { i f ( ! t h i s . s l i d i n g ) r e t u r n   t h i s . s l i d e ( " p r e v " ) } , s l i d e : f u n c t i o n ( b , c ) { v a r   d , e = t h i s . $ e l e m e n t . f i n d ( " . i t e m . a c t i v e " ) , f = c | | e [ b ] ( ) , g = t h i s . i n t e r v a l , h = " n e x t " = = b ? " l e f t " : " r i g h t " , i = " n e x t " = = b ? " f i r s t " : " l a s t " , j = t h i s ; i f ( t h i s . s l i d i n g = ! 0 , g & & t h i s . p a u s e ( ) , f = f . l e n g t h ? f : t h i s . $ e l e m e n t . f i n d ( " . i t e m " ) [ i ] ( ) , d = a . E v e n t ( " s l i d e " , { r e l a t e d T a r g e t : f [ 0 ] , d i r e c t i o n : h } ) , ! f . h a s C l a s s ( " a c t i v e " ) ) { i f ( t h i s . $ i n d i c a t o r s . l e n g t h & & ( t h i s . $ i n d i c a t o r s . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , t h i s . $ e l e m e n t . o n e ( " s l i d " , f u n c t i o n ( ) { v a r   b = a ( j . $ i n d i c a t o r s . c h i l d r e n ( ) [ j . g e t A c t i v e I n d e x ( ) ] ) ; b & & b . a d d C l a s s ( " a c t i v e " ) } ) ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " s l i d e " ) ) { i f ( t h i s . $ e l e m e n t . t r i g g e r ( d ) , d . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n ; f . a d d C l a s s ( b ) , f [ 0 ] . o f f s e t W i d t h , e . a d d C l a s s ( h ) , f . a d d C l a s s ( h ) , t h i s . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { f . r e m o v e C l a s s ( [ b , h ] . j o i n ( "   " ) ) . a d d C l a s s ( " a c t i v e " ) , e . r e m o v e C l a s s ( [ " a c t i v e " , h ] . j o i n ( "   " ) ) , j . s l i d i n g = ! 1 , s e t T i m e o u t ( f u n c t i o n ( ) { j . $ e l e m e n t . t r i g g e r ( " s l i d " ) } , 0 ) } ) } e l s e { i f ( t h i s . $ e l e m e n t . t r i g g e r ( d ) , d . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n ; e . r e m o v e C l a s s ( " a c t i v e " ) , f . a d d C l a s s ( " a c t i v e " ) , t h i s . s l i d i n g = ! 1 , t h i s . $ e l e m e n t . t r i g g e r ( " s l i d " ) } r e t u r n   g & & t h i s . c y c l e ( ) , t h i s } } } ; v a r   g = a . f n . c a r o u s e l ; a . f n . c a r o u s e l = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " c a r o u s e l " ) , e = a . e x t e n d ( { } , a . f n . c a r o u s e l . d e f a u l t s , " o b j e c t " = = t y p e o f   b & & b ) , f = " s t r i n g " = = t y p e o f   b ? b : e . s l i d e ; d | | c . d a t a ( " c a r o u s e l " , d = n e w   i ( t h i s , e ) ) , " n u m b e r " = = t y p e o f   b ? d . t o ( b ) : f ? d [ f ] ( ) : e . i n t e r v a l & & d . p a u s e ( ) . c y c l e ( ) } ) } , a . f n . c a r o u s e l . d e f a u l t s = { i n t e r v a l : 5 e 3 , p a u s e : " h o v e r " } , a . f n . c a r o u s e l . C o n s t r u c t o r = i , a . f n . c a r o u s e l . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . c a r o u s e l = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . c a r o u s e l . d a t a - a p i " , " [ d a t a - s l i d e ] ,   [ d a t a - s l i d e - t o ] " , f u n c t i o n ( b ) { v a r   c , d , e = a ( t h i s ) , f = a ( e . a t t r ( " d a t a - t a r g e t " ) | | ( c = e . a t t r ( " h r e f " ) ) & & c . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) ) , g = a . e x t e n d ( { } , f . d a t a ( ) , e . d a t a ( ) ) ; f . c a r o u s e l ( g ) , ( d = e . a t t r ( " d a t a - s l i d e - t o " ) ) & & f . d a t a ( " c a r o u s e l " ) . p a u s e ( ) . t o ( d ) . c y c l e ( ) , b . p r e v e n t D e f a u l t ( ) } ) ; v a r   j = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . c o l l a p s e . d e f a u l t s , c ) , t h i s . o p t i o n s . p a r e n t & & ( t h i s . $ p a r e n t = a ( t h i s . o p t i o n s . p a r e n t ) ) , t h i s . o p t i o n s . t o g g l e & & t h i s . t o g g l e ( ) } ; j . p r o t o t y p e = { c o n s t r u c t o r : j , d i m e n s i o n : f u n c t i o n ( ) { v a r   a = t h i s . $ e l e m e n t . h a s C l a s s ( " w i d t h " ) ; r e t u r n   a ? " w i d t h " : " h e i g h t " } , s h o w : f u n c t i o n ( ) { v a r   b , c , d , e ; i f ( ! t h i s . t r a n s i t i o n i n g & & ! t h i s . $ e l e m e n t . h a s C l a s s ( " i n " ) ) { i f ( b = t h i s . d i m e n s i o n ( ) , c = a . c a m e l C a s e ( [ " s c r o l l " , b ] . j o i n ( " - " ) ) , d = t h i s . $ p a r e n t & & t h i s . $ p a r e n t . f i n d ( " >   . a c c o r d i o n - g r o u p   >   . i n " ) , d & & d . l e n g t h ) { i f ( e = d . d a t a ( " c o l l a p s e " ) , e & & e . t r a n s i t i o n i n g ) r e t u r n ; d . c o l l a p s e ( " h i d e " ) , e | | d . d a t a ( " c o l l a p s e " , n u l l ) } t h i s . $ e l e m e n t [ b ] ( 0 ) , t h i s . t r a n s i t i o n ( " a d d C l a s s " , a . E v e n t ( " s h o w " ) , " s h o w n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t [ b ] ( t h i s . $ e l e m e n t [ 0 ] [ c ] ) } } , h i d e : f u n c t i o n ( ) { v a r   b ; ! t h i s . t r a n s i t i o n i n g & & t h i s . $ e l e m e n t . h a s C l a s s ( " i n " ) & & ( b = t h i s . d i m e n s i o n ( ) , t h i s . r e s e t ( t h i s . $ e l e m e n t [ b ] ( ) ) , t h i s . t r a n s i t i o n ( " r e m o v e C l a s s " , a . E v e n t ( " h i d e " ) , " h i d d e n " ) , t h i s . $ e l e m e n t [ b ] ( 0 ) ) } , r e s e t : f u n c t i o n ( a ) { v a r   b = t h i s . d i m e n s i o n ( ) ; r e t u r n   t h i s . $ e l e m e n t . r e m o v e C l a s s ( " c o l l a p s e " ) [ b ] ( a | | " a u t o " ) [ 0 ] . o f f s e t W i d t h , t h i s . $ e l e m e n t [ n u l l ! = = a ? " a d d C l a s s " : " r e m o v e C l a s s " ] ( " c o l l a p s e " ) , t h i s } , t r a n s i t i o n : f u n c t i o n ( b , c , d ) { v a r   e = t h i s , f = f u n c t i o n ( ) { " s h o w " = = c . t y p e & & e . r e s e t ( ) , e . t r a n s i t i o n i n g = 0 , e . $ e l e m e n t . t r i g g e r ( d ) } ; t h i s . $ e l e m e n t . t r i g g e r ( c ) , c . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . t r a n s i t i o n i n g = 1 , t h i s . $ e l e m e n t [ b ] ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " c o l l a p s e " ) ? t h i s . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f ) : f ( ) ) } , t o g g l e : f u n c t i o n ( ) { t h i s [ t h i s . $ e l e m e n t . h a s C l a s s ( " i n " ) ? " h i d e " : " s h o w " ] ( ) } } ; v a r   g = a . f n . c o l l a p s e ; a . f n . c o l l a p s e = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " c o l l a p s e " ) , e = a . e x t e n d ( { } , a . f n . c o l l a p s e . d e f a u l t s , c . d a t a ( ) , " o b j e c t " = = t y p e o f   b & & b ) ; d | | c . d a t a ( " c o l l a p s e " , d = n e w   j ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . c o l l a p s e . d e f a u l t s = { t o g g l e : ! 0 } , a . f n . c o l l a p s e . C o n s t r u c t o r = j , a . f n . c o l l a p s e . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . c o l l a p s e = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . c o l l a p s e . d a t a - a p i " , " [ d a t a - t o g g l e = c o l l a p s e ] " , f u n c t i o n ( b ) { v a r   c , d = a ( t h i s ) , e = d . a t t r ( " d a t a - t a r g e t " ) | | b . p r e v e n t D e f a u l t ( ) | | ( c = d . a t t r ( " h r e f " ) ) & & c . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) , f = a ( e ) . d a t a ( " c o l l a p s e " ) ? " t o g g l e " : d . d a t a ( ) ; d [ a ( e ) . h a s C l a s s ( " i n " ) ? " a d d C l a s s " : " r e m o v e C l a s s " ] ( " c o l l a p s e d " ) , a ( e ) . c o l l a p s e ( f ) } ) ; v a r   k = " [ d a t a - t o g g l e = d r o p d o w n ] " , l = f u n c t i o n ( b ) { v a r   c = a ( b ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , t h i s . t o g g l e ) ; a ( " h t m l " ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , f u n c t i o n ( ) { c . p a r e n t ( ) . r e m o v e C l a s s ( " o p e n " ) } ) } ; l . p r o t o t y p e = { c o n s t r u c t o r : l , t o g g l e : f u n c t i o n ( d ) { v a r   e , f , g = a ( t h i s ) ; i f ( ! g . i s ( " . d i s a b l e d ,   : d i s a b l e d " ) ) r e t u r n   e = c ( g ) , f = e . h a s C l a s s ( " o p e n " ) , b ( g ) , f | | " o n t o u c h s t a r t " i n   d o c u m e n t . d o c u m e n t E l e m e n t & & a ( ' < d i v   c l a s s = " d r o p d o w n - b a c k d r o p " / > ' ) . i n s e r t B e f o r e ( a ( t h i s ) ) . o n ( " c l i c k " , b ) , e . t o g g l e C l a s s ( " o p e n " ) , g . f o c u s ( ) , ! 1 } , k e y d o w n : f u n c t i o n ( b ) { v a r   d , e , f , g , h ; i f ( / ( 3 8 | 4 0 | 2 7 ) / . t e s t ( b . k e y C o d e ) & & ( d = a ( t h i s ) , b . p r e v e n t D e f a u l t ( ) , b . s t o p P r o p a g a t i o n ( ) , ! d . i s ( " . d i s a b l e d ,   : d i s a b l e d " ) ) ) { i f ( f = c ( d ) , g = f . h a s C l a s s ( " o p e n " ) , ! g | | g & & 2 7 = = b . k e y C o d e ) r e t u r n   2 7 = = b . w h i c h & & f . f i n d ( k ) . f o c u s ( ) , d . c l i c k ( ) ; e = a ( " [ r o l e = m e n u ]   l i : n o t ( . d i v i d e r ) : v i s i b l e   a " , f ) , e . l e n g t h & & ( h = e . i n d e x ( e . f i l t e r ( " : f o c u s " ) ) , 3 8 = = b . k e y C o d e & & h > 0 & & h - - , 4 0 = = b . k e y C o d e & & h < e . l e n g t h - 1 & & h + + , ~ h | | ( h = 0 ) , e . e q ( h ) . f o c u s ( ) ) } } } ; v a r   g = a . f n . d r o p d o w n ; a . f n . d r o p d o w n = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " d r o p d o w n " ) ; d | | c . d a t a ( " d r o p d o w n " , d = n e w   l ( t h i s ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] . c a l l ( c ) } ) } , a . f n . d r o p d o w n . C o n s t r u c t o r = l , a . f n . d r o p d o w n . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . d r o p d o w n = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , b ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , " . d r o p d o w n   f o r m " , f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) } ) . o n ( " c l i c k . d r o p d o w n . d a t a - a p i " , k , l . p r o t o t y p e . t o g g l e ) . o n ( " k e y d o w n . d r o p d o w n . d a t a - a p i " , k + " ,   [ r o l e = m e n u ] " , l . p r o t o t y p e . k e y d o w n ) ; v a r   m = f u n c t i o n ( b , c ) { t h i s . o p t i o n s = c , t h i s . $ e l e m e n t = a ( b ) . d e l e g a t e ( ' [ d a t a - d i s m i s s = " m o d a l " ] ' , " c l i c k . d i s m i s s . m o d a l " , a . p r o x y ( t h i s . h i d e , t h i s ) ) , t h i s . o p t i o n s . r e m o t e & & t h i s . $ e l e m e n t . f i n d ( " . m o d a l - b o d y " ) . l o a d ( t h i s . o p t i o n s . r e m o t e ) } ; m . p r o t o t y p e = { c o n s t r u c t o r : m , t o g g l e : f u n c t i o n ( ) { r e t u r n   t h i s [ t h i s . i s S h o w n ? " h i d e " : " s h o w " ] ( ) } , s h o w : f u n c t i o n ( ) { v a r   b = t h i s , c = a . E v e n t ( " s h o w " ) ; t h i s . $ e l e m e n t . t r i g g e r ( c ) , t h i s . i s S h o w n | | c . i s D e f a u l t P r e v e n t e d ( ) | | ( t h i s . i s S h o w n = ! 0 , t h i s . e s c a p e ( ) , t h i s . b a c k d r o p ( f u n c t i o n ( ) { v a r   c = a . s u p p o r t . t r a n s i t i o n & & b . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ; b . $ e l e m e n t . p a r e n t ( ) . l e n g t h | | b . $ e l e m e n t . a p p e n d T o ( d o c u m e n t . b o d y ) , b . $ e l e m e n t . s h o w ( ) , c & & b . $ e l e m e n t [ 0 ] . o f f s e t W i d t h , b . $ e l e m e n t . a d d C l a s s ( " i n " ) . a t t r ( " a r i a - h i d d e n " , ! 1 ) , b . e n f o r c e F o c u s ( ) , c ? b . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { b . $ e l e m e n t . f o c u s ( ) . t r i g g e r ( " s h o w n " ) } ) : b . $ e l e m e n t . f o c u s ( ) . t r i g g e r ( " s h o w n " ) } ) ) } , h i d e : f u n c t i o n ( b ) { b & & b . p r e v e n t D e f a u l t ( ) ; b = a . E v e n t ( " h i d e " ) , t h i s . $ e l e m e n t . t r i g g e r ( b ) , t h i s . i s S h o w n & & ! b . i s D e f a u l t P r e v e n t e d ( ) & & ( t h i s . i s S h o w n = ! 1 , t h i s . e s c a p e ( ) , a ( d o c u m e n t ) . o f f ( " f o c u s i n . m o d a l " ) , t h i s . $ e l e m e n t . r e m o v e C l a s s ( " i n " ) . a t t r ( " a r i a - h i d d e n " , ! 0 ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ? t h i s . h i d e W i t h T r a n s i t i o n ( ) : t h i s . h i d e M o d a l ( ) ) } , e n f o r c e F o c u s : f u n c t i o n ( ) { v a r   b = t h i s ; a ( d o c u m e n t ) . o n ( " f o c u s i n . m o d a l " , f u n c t i o n ( a ) { b . $ e l e m e n t [ 0 ] = = = a . t a r g e t | | b . $ e l e m e n t . h a s ( a . t a r g e t ) . l e n g t h | | b . $ e l e m e n t . f o c u s ( ) } ) } , e s c a p e : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . i s S h o w n & & t h i s . o p t i o n s . k e y b o a r d ? t h i s . $ e l e m e n t . o n ( " k e y u p . d i s m i s s . m o d a l " , f u n c t i o n ( b ) { 2 7 = = b . w h i c h & & a . h i d e ( ) } ) : t h i s . i s S h o w n | | t h i s . $ e l e m e n t . o f f ( " k e y u p . d i s m i s s . m o d a l " ) } , h i d e W i t h T r a n s i t i o n : f u n c t i o n ( ) { v a r   b = t h i s , c = s e t T i m e o u t ( f u n c t i o n ( ) { b . $ e l e m e n t . o f f ( a . s u p p o r t . t r a n s i t i o n . e n d ) , b . h i d e M o d a l ( ) } , 5 0 0 ) ; t h i s . $ e l e m e n t . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { c l e a r T i m e o u t ( c ) , b . h i d e M o d a l ( ) } ) } , h i d e M o d a l : f u n c t i o n ( ) { v a r   a = t h i s ; t h i s . $ e l e m e n t . h i d e ( ) , t h i s . b a c k d r o p ( f u n c t i o n ( ) { a . r e m o v e B a c k d r o p ( ) , a . $ e l e m e n t . t r i g g e r ( " h i d d e n " ) } ) } , r e m o v e B a c k d r o p : f u n c t i o n ( ) { t h i s . $ b a c k d r o p & & t h i s . $ b a c k d r o p . r e m o v e ( ) , t h i s . $ b a c k d r o p = n u l l } , b a c k d r o p : f u n c t i o n ( b ) { v a r   c = t h i s . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ? " f a d e " : " " ; i f ( t h i s . i s S h o w n & & t h i s . o p t i o n s . b a c k d r o p ) { v a r   d = a . s u p p o r t . t r a n s i t i o n & & c ; i f ( t h i s . $ b a c k d r o p = a ( ' < d i v   c l a s s = " m o d a l - b a c k d r o p   ' + c + ' "   / > ' ) . a p p e n d T o ( d o c u m e n t . b o d y ) , t h i s . $ b a c k d r o p . c l i c k ( " s t a t i c " = = t h i s . o p t i o n s . b a c k d r o p ? a . p r o x y ( t h i s . $ e l e m e n t [ 0 ] . f o c u s , t h i s . $ e l e m e n t [ 0 ] ) : a . p r o x y ( t h i s . h i d e , t h i s ) ) , d & & t h i s . $ b a c k d r o p [ 0 ] . o f f s e t W i d t h , t h i s . $ b a c k d r o p . a d d C l a s s ( " i n " ) , ! b ) r e t u r n ; d ? t h i s . $ b a c k d r o p . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , b ) : b ( ) } e l s e ! t h i s . i s S h o w n & & t h i s . $ b a c k d r o p ? ( t h i s . $ b a c k d r o p . r e m o v e C l a s s ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ e l e m e n t . h a s C l a s s ( " f a d e " ) ? t h i s . $ b a c k d r o p . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , b ) : b ( ) ) : b & & b ( ) } } ; v a r   g = a . f n . m o d a l ; a . f n . m o d a l = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " m o d a l " ) , e = a . e x t e n d ( { } , a . f n . m o d a l . d e f a u l t s , c . d a t a ( ) , " o b j e c t " = = t y p e o f   b & & b ) ; d | | c . d a t a ( " m o d a l " , d = n e w   m ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b ? d [ b ] ( ) : e . s h o w & & d . s h o w ( ) } ) } , a . f n . m o d a l . d e f a u l t s = { b a c k d r o p : ! 0 , k e y b o a r d : ! 0 , s h o w : ! 0 } , a . f n . m o d a l . C o n s t r u c t o r = m , a . f n . m o d a l . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . m o d a l = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . m o d a l . d a t a - a p i " , ' [ d a t a - t o g g l e = " m o d a l " ] ' , f u n c t i o n ( b ) { v a r   c = a ( t h i s ) , d = c . a t t r ( " h r e f " ) , e = a ( c . a t t r ( " d a t a - t a r g e t " ) | | d & & d . r e p l a c e ( / . * ( ? = # [ ^ \ s ] + $ ) / , " " ) ) , f = e . d a t a ( " m o d a l " ) ? " t o g g l e " : a . e x t e n d ( { r e m o t e : ! / # / . t e s t ( d ) & & d } , e . d a t a ( ) , c . d a t a ( ) ) ; b . p r e v e n t D e f a u l t ( ) , e . m o d a l ( f ) . o n e ( " h i d e " , f u n c t i o n ( ) { c . f o c u s ( ) } ) } ) ; v a r   n = f u n c t i o n ( a , b ) { t h i s . i n i t ( " t o o l t i p " , a , b ) } ; n . p r o t o t y p e = { c o n s t r u c t o r : n , i n i t : f u n c t i o n ( b , c , d ) { v a r   e , f , g , h , i ; f o r ( t h i s . t y p e = b , t h i s . $ e l e m e n t = a ( c ) , t h i s . o p t i o n s = t h i s . g e t O p t i o n s ( d ) , t h i s . e n a b l e d = ! 0 , g = t h i s . o p t i o n s . t r i g g e r . s p l i t ( "   " ) , i = g . l e n g t h ; i - - ; ) h = g [ i ] , " c l i c k " = = h ? t h i s . $ e l e m e n t . o n ( " c l i c k . " + t h i s . t y p e , t h i s . o p t i o n s . s e l e c t o r , a . p r o x y ( t h i s . t o g g l e , t h i s ) ) : " m a n u a l " ! = h & & ( e = " h o v e r " = = h ? " m o u s e e n t e r " : " f o c u s " , f = " h o v e r " = = h ? " m o u s e l e a v e " : " b l u r " , t h i s . $ e l e m e n t . o n ( e + " . " + t h i s . t y p e , t h i s . o p t i o n s . s e l e c t o r , a . p r o x y ( t h i s . e n t e r , t h i s ) ) , t h i s . $ e l e m e n t . o n ( f + " . " + t h i s . t y p e , t h i s . o p t i o n s . s e l e c t o r , a . p r o x y ( t h i s . l e a v e , t h i s ) ) ) ; t h i s . o p t i o n s . s e l e c t o r ? t h i s . _ o p t i o n s = a . e x t e n d ( { } , t h i s . o p t i o n s , { t r i g g e r : " m a n u a l " , s e l e c t o r : " " } ) : t h i s . f i x T i t l e ( ) } , g e t O p t i o n s : f u n c t i o n ( b ) { r e t u r n   b = a . e x t e n d ( { } , a . f n [ t h i s . t y p e ] . d e f a u l t s , t h i s . $ e l e m e n t . d a t a ( ) , b ) , b . d e l a y & & " n u m b e r " = = t y p e o f   b . d e l a y & & ( b . d e l a y = { s h o w : b . d e l a y , h i d e : b . d e l a y } ) , b } , e n t e r : f u n c t i o n ( b ) { v a r   c , d = a . f n [ t h i s . t y p e ] . d e f a u l t s , e = { } ; r e t u r n   t h i s . _ o p t i o n s & & a . e a c h ( t h i s . _ o p t i o n s , f u n c t i o n ( a , b ) { d [ a ] ! = b & & ( e [ a ] = b ) } , t h i s ) , c = a ( b . c u r r e n t T a r g e t ) [ t h i s . t y p e ] ( e ) . d a t a ( t h i s . t y p e ) , c . o p t i o n s . d e l a y & & c . o p t i o n s . d e l a y . s h o w ? ( c l e a r T i m e o u t ( t h i s . t i m e o u t ) , c . h o v e r S t a t e = " i n " , v o i d ( t h i s . t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { " i n " = = c . h o v e r S t a t e & & c . s h o w ( ) } , c . o p t i o n s . d e l a y . s h o w ) ) ) : c . s h o w ( ) } , l e a v e : f u n c t i o n ( b ) { v a r   c = a ( b . c u r r e n t T a r g e t ) [ t h i s . t y p e ] ( t h i s . _ o p t i o n s ) . d a t a ( t h i s . t y p e ) ; r e t u r n   t h i s . t i m e o u t & & c l e a r T i m e o u t ( t h i s . t i m e o u t ) , c . o p t i o n s . d e l a y & & c . o p t i o n s . d e l a y . h i d e ? ( c . h o v e r S t a t e = " o u t " , v o i d ( t h i s . t i m e o u t = s e t T i m e o u t ( f u n c t i o n ( ) { " o u t " = = c . h o v e r S t a t e & & c . h i d e ( ) } , c . o p t i o n s . d e l a y . h i d e ) ) ) : c . h i d e ( ) } , s h o w : f u n c t i o n ( ) { v a r   b , c , d , e , f , g , h = a . E v e n t ( " s h o w " ) ; i f ( t h i s . h a s C o n t e n t ( ) & & t h i s . e n a b l e d ) { i f ( t h i s . $ e l e m e n t . t r i g g e r ( h ) , h . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n ; s w i t c h ( b = t h i s . t i p ( ) , t h i s . s e t C o n t e n t ( ) , t h i s . o p t i o n s . a n i m a t i o n & & b . a d d C l a s s ( " f a d e " ) , f = " f u n c t i o n " = = t y p e o f   t h i s . o p t i o n s . p l a c e m e n t ? t h i s . o p t i o n s . p l a c e m e n t . c a l l ( t h i s , b [ 0 ] , t h i s . $ e l e m e n t [ 0 ] ) : t h i s . o p t i o n s . p l a c e m e n t , b . d e t a c h ( ) . c s s ( { t o p : 0 , l e f t : 0 , d i s p l a y : " b l o c k " } ) , t h i s . o p t i o n s . c o n t a i n e r ? b . a p p e n d T o ( t h i s . o p t i o n s . c o n t a i n e r ) : b . i n s e r t A f t e r ( t h i s . $ e l e m e n t ) , c = t h i s . g e t P o s i t i o n ( ) , d = b [ 0 ] . o f f s e t W i d t h , e = b [ 0 ] . o f f s e t H e i g h t , f ) { c a s e " b o t t o m " : g = { t o p : c . t o p + c . h e i g h t , l e f t : c . l e f t + c . w i d t h / 2 - d / 2 } ; b r e a k ; c a s e " t o p " : g = { t o p : c . t o p - e , l e f t : c . l e f t + c . w i d t h / 2 - d / 2 } ; b r e a k ; c a s e " l e f t " : g = { t o p : c . t o p + c . h e i g h t / 2 - e / 2 , l e f t : c . l e f t - d } ; b r e a k ; c a s e " r i g h t " : g = { t o p : c . t o p + c . h e i g h t / 2 - e / 2 , l e f t : c . l e f t + c . w i d t h } } t h i s . a p p l y P l a c e m e n t ( g , f ) , t h i s . $ e l e m e n t . t r i g g e r ( " s h o w n " ) } } , a p p l y P l a c e m e n t : f u n c t i o n ( a , b ) { v a r   c , d , e , f , g = t h i s . t i p ( ) , h = g [ 0 ] . o f f s e t W i d t h , i = g [ 0 ] . o f f s e t H e i g h t ; g . o f f s e t ( a ) . a d d C l a s s ( b ) . a d d C l a s s ( " i n " ) , c = g [ 0 ] . o f f s e t W i d t h , d = g [ 0 ] . o f f s e t H e i g h t , " t o p " = = b & & d ! = i & & ( a . t o p = a . t o p + i - d , f = ! 0 ) , " b o t t o m " = = b | | " t o p " = = b ? ( e = 0 , a . l e f t < 0 & & ( e = a . l e f t * - 2 , a . l e f t = 0 , g . o f f s e t ( a ) , c = g [ 0 ] . o f f s e t W i d t h , d = g [ 0 ] . o f f s e t H e i g h t ) , t h i s . r e p l a c e A r r o w ( e - h + c , c , " l e f t " ) ) : t h i s . r e p l a c e A r r o w ( d - i , d , " t o p " ) , f & & g . o f f s e t ( a ) } , r e p l a c e A r r o w : f u n c t i o n ( a , b , c ) { t h i s . a r r o w ( ) . c s s ( c , a ? 5 0 * ( 1 - a / b ) + " % " : " " ) } , s e t C o n t e n t : f u n c t i o n ( ) { v a r   a = t h i s . t i p ( ) , b = t h i s . g e t T i t l e ( ) ; a . f i n d ( " . t o o l t i p - i n n e r " ) [ t h i s . o p t i o n s . h t m l ? " h t m l " : " t e x t " ] ( b ) , a . r e m o v e C l a s s ( " f a d e   i n   t o p   b o t t o m   l e f t   r i g h t " ) } , h i d e : f u n c t i o n ( ) { f u n c t i o n   b ( ) { v a r   b = s e t T i m e o u t ( f u n c t i o n ( ) { c . o f f ( a . s u p p o r t . t r a n s i t i o n . e n d ) . d e t a c h ( ) } , 5 0 0 ) ; c . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , f u n c t i o n ( ) { c l e a r T i m e o u t ( b ) , c . d e t a c h ( ) } ) } v a r   c = t h i s . t i p ( ) , d = a . E v e n t ( " h i d e " ) ; i f ( t h i s . $ e l e m e n t . t r i g g e r ( d ) , ! d . i s D e f a u l t P r e v e n t e d ( ) ) r e t u r n   c . r e m o v e C l a s s ( " i n " ) , a . s u p p o r t . t r a n s i t i o n & & t h i s . $ t i p . h a s C l a s s ( " f a d e " ) ? b ( ) : c . d e t a c h ( ) , t h i s . $ e l e m e n t . t r i g g e r ( " h i d d e n " ) , t h i s } , f i x T i t l e : f u n c t i o n ( ) { v a r   a = t h i s . $ e l e m e n t ; ( a . a t t r ( " t i t l e " ) | | " s t r i n g " ! = t y p e o f   a . a t t r ( " d a t a - o r i g i n a l - t i t l e " ) ) & & a . a t t r ( " d a t a - o r i g i n a l - t i t l e " , a . a t t r ( " t i t l e " ) | | " " ) . a t t r ( " t i t l e " , " " ) } , h a s C o n t e n t : f u n c t i o n ( ) { r e t u r n   t h i s . g e t T i t l e ( ) } , g e t P o s i t i o n : f u n c t i o n ( ) { v a r   b = t h i s . $ e l e m e n t [ 0 ] ; r e t u r n   a . e x t e n d ( { } , " f u n c t i o n " = = t y p e o f   b . g e t B o u n d i n g C l i e n t R e c t ? b . g e t B o u n d i n g C l i e n t R e c t ( ) : { w i d t h : b . o f f s e t W i d t h , h e i g h t : b . o f f s e t H e i g h t } , t h i s . $ e l e m e n t . o f f s e t ( ) ) } , g e t T i t l e : f u n c t i o n ( ) { v a r   a , b = t h i s . $ e l e m e n t , c = t h i s . o p t i o n s ; r e t u r n   a = b . a t t r ( " d a t a - o r i g i n a l - t i t l e " ) | | ( " f u n c t i o n " = = t y p e o f   c . t i t l e ? c . t i t l e . c a l l ( b [ 0 ] ) : c . t i t l e ) } , t i p : f u n c t i o n ( ) { r e t u r n   t h i s . $ t i p = t h i s . $ t i p | | a ( t h i s . o p t i o n s . t e m p l a t e ) } , a r r o w : f u n c t i o n ( ) { r e t u r n   t h i s . $ a r r o w = t h i s . $ a r r o w | | t h i s . t i p ( ) . f i n d ( " . t o o l t i p - a r r o w " ) } , v a l i d a t e : f u n c t i o n ( ) { t h i s . $ e l e m e n t [ 0 ] . p a r e n t N o d e | | ( t h i s . h i d e ( ) , t h i s . $ e l e m e n t = n u l l , t h i s . o p t i o n s = n u l l ) } , e n a b l e : f u n c t i o n ( ) { t h i s . e n a b l e d = ! 0 } , d i s a b l e : f u n c t i o n ( ) { t h i s . e n a b l e d = ! 1 } , t o g g l e E n a b l e d : f u n c t i o n ( ) { t h i s . e n a b l e d = ! t h i s . e n a b l e d } , t o g g l e : f u n c t i o n ( b ) { v a r   c = b ? a ( b . c u r r e n t T a r g e t ) [ t h i s . t y p e ] ( t h i s . _ o p t i o n s ) . d a t a ( t h i s . t y p e ) : t h i s ; c . t i p ( ) . h a s C l a s s ( " i n " ) ? c . h i d e ( ) : c . s h o w ( ) } , d e s t r o y : f u n c t i o n ( ) { t h i s . h i d e ( ) . $ e l e m e n t . o f f ( " . " + t h i s . t y p e ) . r e m o v e D a t a ( t h i s . t y p e ) } } ; v a r   g = a . f n . t o o l t i p ; a . f n . t o o l t i p = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " t o o l t i p " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " t o o l t i p " , d = n e w   n ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . t o o l t i p . C o n s t r u c t o r = n , a . f n . t o o l t i p . d e f a u l t s = { a n i m a t i o n : ! 0 , p l a c e m e n t : " t o p " , s e l e c t o r : ! 1 , t e m p l a t e : ' < d i v   c l a s s = " t o o l t i p " > < d i v   c l a s s = " t o o l t i p - a r r o w " > < / d i v > < d i v   c l a s s = " t o o l t i p - i n n e r " > < / d i v > < / d i v > ' , t r i g g e r : " h o v e r   f o c u s " , t i t l e : " " , d e l a y : 0 , h t m l : ! 1 , c o n t a i n e r : ! 1 } , a . f n . t o o l t i p . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . t o o l t i p = g , t h i s } ; v a r   o = f u n c t i o n ( a , b ) { t h i s . i n i t ( " p o p o v e r " , a , b ) } ; o . p r o t o t y p e = a . e x t e n d ( { } , a . f n . t o o l t i p . C o n s t r u c t o r . p r o t o t y p e , { c o n s t r u c t o r : o , s e t C o n t e n t : f u n c t i o n ( ) { v a r   a = t h i s . t i p ( ) , b = t h i s . g e t T i t l e ( ) , c = t h i s . g e t C o n t e n t ( ) ; a . f i n d ( " . p o p o v e r - t i t l e " ) [ t h i s . o p t i o n s . h t m l ? " h t m l " : " t e x t " ] ( b ) , a . f i n d ( " . p o p o v e r - c o n t e n t " ) [ t h i s . o p t i o n s . h t m l ? " h t m l " : " t e x t " ] ( c ) , a . r e m o v e C l a s s ( " f a d e   t o p   b o t t o m   l e f t   r i g h t   i n " ) } , h a s C o n t e n t : f u n c t i o n ( ) { r e t u r n   t h i s . g e t T i t l e ( ) | | t h i s . g e t C o n t e n t ( ) } , g e t C o n t e n t : f u n c t i o n ( ) { v a r   a , b = t h i s . $ e l e m e n t , c = t h i s . o p t i o n s ; r e t u r n   a = ( " f u n c t i o n " = = t y p e o f   c . c o n t e n t ? c . c o n t e n t . c a l l ( b [ 0 ] ) : c . c o n t e n t ) | | b . a t t r ( " d a t a - c o n t e n t " ) } , t i p : f u n c t i o n ( ) { r e t u r n   t h i s . $ t i p | | ( t h i s . $ t i p = a ( t h i s . o p t i o n s . t e m p l a t e ) ) , t h i s . $ t i p } , d e s t r o y : f u n c t i o n ( ) { t h i s . h i d e ( ) . $ e l e m e n t . o f f ( " . " + t h i s . t y p e ) . r e m o v e D a t a ( t h i s . t y p e ) } } ) ; v a r   g = a . f n . p o p o v e r ; a . f n . p o p o v e r = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " p o p o v e r " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " p o p o v e r " , d = n e w   o ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . p o p o v e r . C o n s t r u c t o r = o , a . f n . p o p o v e r . d e f a u l t s = a . e x t e n d ( { } , a . f n . t o o l t i p . d e f a u l t s , { p l a c e m e n t : " r i g h t " , t r i g g e r : " c l i c k " , c o n t e n t : " " , t e m p l a t e : ' < d i v   c l a s s = " p o p o v e r " > < d i v   c l a s s = " a r r o w " > < / d i v > < h 3   c l a s s = " p o p o v e r - t i t l e " > < / h 3 > < d i v   c l a s s = " p o p o v e r - c o n t e n t " > < / d i v > < / d i v > ' } ) , a . f n . p o p o v e r . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . p o p o v e r = g , t h i s } , d . p r o t o t y p e = { c o n s t r u c t o r : d , r e f r e s h : f u n c t i o n ( ) { v a r   b , c = t h i s ; t h i s . o f f s e t s = a ( [ ] ) , t h i s . t a r g e t s = a ( [ ] ) , b = t h i s . $ b o d y . f i n d ( t h i s . s e l e c t o r ) . m a p ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) , d = b . d a t a ( " t a r g e t " ) | | b . a t t r ( " h r e f " ) , e = / ^ # \ w / . t e s t ( d ) & & a ( d ) ; r e t u r n   e & & e . l e n g t h & & [ [ e . p o s i t i o n ( ) . t o p + ( ! a . i s W i n d o w ( c . $ s c r o l l E l e m e n t . g e t ( 0 ) ) & & c . $ s c r o l l E l e m e n t . s c r o l l T o p ( ) ) , d ] ] | | n u l l } ) . s o r t ( f u n c t i o n ( a , b ) { r e t u r n   a [ 0 ] - b [ 0 ] } ) . e a c h ( f u n c t i o n ( ) { c . o f f s e t s . p u s h ( t h i s [ 0 ] ) , c . t a r g e t s . p u s h ( t h i s [ 1 ] ) } ) } , p r o c e s s : f u n c t i o n ( ) { v a r   a , b = t h i s . $ s c r o l l E l e m e n t . s c r o l l T o p ( ) + t h i s . o p t i o n s . o f f s e t , c = t h i s . $ s c r o l l E l e m e n t [ 0 ] . s c r o l l H e i g h t | | t h i s . $ b o d y [ 0 ] . s c r o l l H e i g h t , d = c - t h i s . $ s c r o l l E l e m e n t . h e i g h t ( ) , e = t h i s . o f f s e t s , f = t h i s . t a r g e t s , g = t h i s . a c t i v e T a r g e t ; i f ( b > = d ) r e t u r n   g ! = ( a = f . l a s t ( ) [ 0 ] ) & & t h i s . a c t i v a t e ( a ) ; f o r ( a = e . l e n g t h ; a - - ; ) g ! = f [ a ] & & b > = e [ a ] & & ( ! e [ a + 1 ] | | b < = e [ a + 1 ] ) & & t h i s . a c t i v a t e ( f [ a ] ) } , a c t i v a t e : f u n c t i o n ( b ) { v a r   c , d ; t h i s . a c t i v e T a r g e t = b , a ( t h i s . s e l e c t o r ) . p a r e n t ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , d = t h i s . s e l e c t o r + ' [ d a t a - t a r g e t = " ' + b + ' " ] , ' + t h i s . s e l e c t o r + ' [ h r e f = " ' + b + ' " ] ' , c = a ( d ) . p a r e n t ( " l i " ) . a d d C l a s s ( " a c t i v e " ) , c . p a r e n t ( " . d r o p d o w n - m e n u " ) . l e n g t h & & ( c = c . c l o s e s t ( " l i . d r o p d o w n " ) . a d d C l a s s ( " a c t i v e " ) ) , c . t r i g g e r ( " a c t i v a t e " ) } } ; v a r   g = a . f n . s c r o l l s p y ; a . f n . s c r o l l s p y = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , e = c . d a t a ( " s c r o l l s p y " ) , f = " o b j e c t " = = t y p e o f   b & & b ; e | | c . d a t a ( " s c r o l l s p y " , e = n e w   d ( t h i s , f ) ) , " s t r i n g " = = t y p e o f   b & & e [ b ] ( ) } ) } , a . f n . s c r o l l s p y . C o n s t r u c t o r = d , a . f n . s c r o l l s p y . d e f a u l t s = { o f f s e t : 1 0 } , a . f n . s c r o l l s p y . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . s c r o l l s p y = g , t h i s } , a ( w i n d o w ) . o n ( " l o a d " , f u n c t i o n ( ) { a ( ' [ d a t a - s p y = " s c r o l l " ] ' ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) ; b . s c r o l l s p y ( b . d a t a ( ) ) } ) } ) ; v a r   p = f u n c t i o n ( b ) { t h i s . e l e m e n t = a ( b ) } ; p . p r o t o t y p e = { c o n s t r u c t o r : p , s h o w : f u n c t i o n ( ) { v a r   b , c , d , e = t h i s . e l e m e n t , f = e . c l o s e s t ( " u l : n o t ( . d r o p d o w n - m e n u ) " ) , g = e . a t t r ( " d a t a - t a r g e t " ) ; g | | ( g = e . a t t r ( " h r e f " ) , g = g & & g . r e p l a c e ( / . * ( ? = # [ ^ \ s ] * $ ) / , " " ) ) , e . p a r e n t ( " l i " ) . h a s C l a s s ( " a c t i v e " ) | | ( b = f . f i n d ( " . a c t i v e : l a s t   a " ) [ 0 ] , d = a . E v e n t ( " s h o w " , { r e l a t e d T a r g e t : b } ) , e . t r i g g e r ( d ) , d . i s D e f a u l t P r e v e n t e d ( ) | | ( c = a ( g ) , t h i s . a c t i v a t e ( e . p a r e n t ( " l i " ) , f ) , t h i s . a c t i v a t e ( c , c . p a r e n t ( ) , f u n c t i o n ( ) { e . t r i g g e r ( { t y p e : " s h o w n " , r e l a t e d T a r g e t : b } ) } ) ) ) } , a c t i v a t e : f u n c t i o n ( b , c , d ) { f u n c t i o n   e ( ) { f . r e m o v e C l a s s ( " a c t i v e " ) . f i n d ( " >   . d r o p d o w n - m e n u   >   . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , b . a d d C l a s s ( " a c t i v e " ) , g ? ( b [ 0 ] . o f f s e t W i d t h , b . a d d C l a s s ( " i n " ) ) : b . r e m o v e C l a s s ( " f a d e " ) , b . p a r e n t ( " . d r o p d o w n - m e n u " ) & & b . c l o s e s t ( " l i . d r o p d o w n " ) . a d d C l a s s ( " a c t i v e " ) , d & & d ( ) } v a r   f = c . f i n d ( " >   . a c t i v e " ) , g = d & & a . s u p p o r t . t r a n s i t i o n & & f . h a s C l a s s ( " f a d e " ) ; g ? f . o n e ( a . s u p p o r t . t r a n s i t i o n . e n d , e ) : e ( ) , f . r e m o v e C l a s s ( " i n " ) } } ; v a r   g = a . f n . t a b ; a . f n . t a b = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " t a b " ) ; d | | c . d a t a ( " t a b " , d = n e w   p ( t h i s ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . t a b . C o n s t r u c t o r = p , a . f n . t a b . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . t a b = g , t h i s } , a ( d o c u m e n t ) . o n ( " c l i c k . t a b . d a t a - a p i " , ' [ d a t a - t o g g l e = " t a b " ] ,   [ d a t a - t o g g l e = " p i l l " ] ' , f u n c t i o n ( b ) { b . p r e v e n t D e f a u l t ( ) , a ( t h i s ) . t a b ( " s h o w " ) } ) ; v a r   q = f u n c t i o n ( b , c ) { t h i s . $ e l e m e n t = a ( b ) , t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . t y p e a h e a d . d e f a u l t s , c ) , t h i s . m a t c h e r = t h i s . o p t i o n s . m a t c h e r | | t h i s . m a t c h e r , t h i s . s o r t e r = t h i s . o p t i o n s . s o r t e r | | t h i s . s o r t e r , t h i s . h i g h l i g h t e r = t h i s . o p t i o n s . h i g h l i g h t e r | | t h i s . h i g h l i g h t e r , t h i s . u p d a t e r = t h i s . o p t i o n s . u p d a t e r | | t h i s . u p d a t e r , t h i s . s o u r c e = t h i s . o p t i o n s . s o u r c e , t h i s . $ m e n u = a ( t h i s . o p t i o n s . m e n u ) , t h i s . s h o w n = ! 1 , t h i s . l i s t e n ( ) } ; q . p r o t o t y p e = { c o n s t r u c t o r : q , s e l e c t : f u n c t i o n ( ) { v a r   a = t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . a t t r ( " d a t a - v a l u e " ) ; r e t u r n   t h i s . $ e l e m e n t . v a l ( t h i s . u p d a t e r ( a ) ) . c h a n g e ( ) , t h i s . h i d e ( ) } , u p d a t e r : f u n c t i o n ( a ) { r e t u r n   a } , s h o w : f u n c t i o n ( ) { v a r   b = a . e x t e n d ( { } , t h i s . $ e l e m e n t . p o s i t i o n ( ) , { h e i g h t : t h i s . $ e l e m e n t [ 0 ] . o f f s e t H e i g h t } ) ; r e t u r n   t h i s . $ m e n u . i n s e r t A f t e r ( t h i s . $ e l e m e n t ) . c s s ( { t o p : b . t o p + b . h e i g h t , l e f t : b . l e f t } ) . s h o w ( ) , t h i s . s h o w n = ! 0 , t h i s } , h i d e : f u n c t i o n ( ) { r e t u r n   t h i s . $ m e n u . h i d e ( ) , t h i s . s h o w n = ! 1 , t h i s } , l o o k u p : f u n c t i o n ( b ) { v a r   c ; r e t u r n   t h i s . q u e r y = t h i s . $ e l e m e n t . v a l ( ) , ! t h i s . q u e r y | | t h i s . q u e r y . l e n g t h < t h i s . o p t i o n s . m i n L e n g t h ? t h i s . s h o w n ? t h i s . h i d e ( ) : t h i s : ( c = a . i s F u n c t i o n ( t h i s . s o u r c e ) ? t h i s . s o u r c e ( t h i s . q u e r y , a . p r o x y ( t h i s . p r o c e s s , t h i s ) ) : t h i s . s o u r c e , c ? t h i s . p r o c e s s ( c ) : t h i s ) } , p r o c e s s : f u n c t i o n ( b ) { v a r   c = t h i s ; r e t u r n   b = a . g r e p ( b , f u n c t i o n ( a ) { r e t u r n   c . m a t c h e r ( a ) } ) , b = t h i s . s o r t e r ( b ) , b . l e n g t h ? t h i s . r e n d e r ( b . s l i c e ( 0 , t h i s . o p t i o n s . i t e m s ) ) . s h o w ( ) : t h i s . s h o w n ? t h i s . h i d e ( ) : t h i s } , m a t c h e r : f u n c t i o n ( a ) { r e t u r n ~ a . t o L o w e r C a s e ( ) . i n d e x O f ( t h i s . q u e r y . t o L o w e r C a s e ( ) ) } , s o r t e r : f u n c t i o n ( a ) { f o r ( v a r   b , c = [ ] , d = [ ] , e = [ ] ; b = a . s h i f t ( ) ; ) b . t o L o w e r C a s e ( ) . i n d e x O f ( t h i s . q u e r y . t o L o w e r C a s e ( ) ) ? ~ b . i n d e x O f ( t h i s . q u e r y ) ? d . p u s h ( b ) : e . p u s h ( b ) : c . p u s h ( b ) ; r e t u r n   c . c o n c a t ( d , e ) } , h i g h l i g h t e r : f u n c t i o n ( a ) { v a r   b = t h i s . q u e r y . r e p l a c e ( / [ \ - \ [ \ ] { } ( ) * + ? . , \ \ \ ^ $ | # \ s ] / g , " \ \ $ & " ) ; r e t u r n   a . r e p l a c e ( n e w   R e g E x p ( " ( " + b + " ) " , " i g " ) , f u n c t i o n ( a , b ) { r e t u r n " < s t r o n g > " + b + " < / s t r o n g > " } ) } , r e n d e r : f u n c t i o n ( b ) { v a r   c = t h i s ; r e t u r n   b = a ( b ) . m a p ( f u n c t i o n ( b , d ) { r e t u r n   b = a ( c . o p t i o n s . i t e m ) . a t t r ( " d a t a - v a l u e " , d ) , b . f i n d ( " a " ) . h t m l ( c . h i g h l i g h t e r ( d ) ) , b [ 0 ] } ) , b . f i r s t ( ) . a d d C l a s s ( " a c t i v e " ) , t h i s . $ m e n u . h t m l ( b ) , t h i s } , n e x t : f u n c t i o n ( b ) { v a r   c = t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , d = c . n e x t ( ) ; d . l e n g t h | | ( d = a ( t h i s . $ m e n u . f i n d ( " l i " ) [ 0 ] ) ) , d . a d d C l a s s ( " a c t i v e " ) } , p r e v : f u n c t i o n ( a ) { v a r   b = t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , c = b . p r e v ( ) ; c . l e n g t h | | ( c = t h i s . $ m e n u . f i n d ( " l i " ) . l a s t ( ) ) , c . a d d C l a s s ( " a c t i v e " ) } , l i s t e n : f u n c t i o n ( ) { t h i s . $ e l e m e n t . o n ( " f o c u s " , a . p r o x y ( t h i s . f o c u s , t h i s ) ) . o n ( " b l u r " , a . p r o x y ( t h i s . b l u r , t h i s ) ) . o n ( " k e y p r e s s " , a . p r o x y ( t h i s . k e y p r e s s , t h i s ) ) . o n ( " k e y u p " , a . p r o x y ( t h i s . k e y u p , t h i s ) ) , t h i s . e v e n t S u p p o r t e d ( " k e y d o w n " ) & & t h i s . $ e l e m e n t . o n ( " k e y d o w n " , a . p r o x y ( t h i s . k e y d o w n , t h i s ) ) , t h i s . $ m e n u . o n ( " c l i c k " , a . p r o x y ( t h i s . c l i c k , t h i s ) ) . o n ( " m o u s e e n t e r " , " l i " , a . p r o x y ( t h i s . m o u s e e n t e r , t h i s ) ) . o n ( " m o u s e l e a v e " , " l i " , a . p r o x y ( t h i s . m o u s e l e a v e , t h i s ) ) } , e v e n t S u p p o r t e d : f u n c t i o n ( a ) { v a r   b = a   i n   t h i s . $ e l e m e n t ; r e t u r n   b | | ( t h i s . $ e l e m e n t . s e t A t t r i b u t e ( a , " r e t u r n ; " ) , b = " f u n c t i o n " = = t y p e o f   t h i s . $ e l e m e n t [ a ] ) , b } , m o v e : f u n c t i o n ( a ) { i f ( t h i s . s h o w n ) { s w i t c h ( a . k e y C o d e ) { c a s e   9 : c a s e   1 3 : c a s e   2 7 : a . p r e v e n t D e f a u l t ( ) ; b r e a k ; c a s e   3 8 : a . p r e v e n t D e f a u l t ( ) , t h i s . p r e v ( ) ; b r e a k ; c a s e   4 0 : a . p r e v e n t D e f a u l t ( ) , t h i s . n e x t ( ) } a . s t o p P r o p a g a t i o n ( ) } } , k e y d o w n : f u n c t i o n ( b ) { t h i s . s u p p r e s s K e y P r e s s R e p e a t = ~ a . i n A r r a y ( b . k e y C o d e , [ 4 0 , 3 8 , 9 , 1 3 , 2 7 ] ) , t h i s . m o v e ( b ) } , k e y p r e s s : f u n c t i o n ( a ) { t h i s . s u p p r e s s K e y P r e s s R e p e a t | | t h i s . m o v e ( a ) } , k e y u p : f u n c t i o n ( a ) { s w i t c h ( a . k e y C o d e ) { c a s e   4 0 : c a s e   3 8 : c a s e   1 6 : c a s e   1 7 : c a s e   1 8 : b r e a k ; c a s e   9 : c a s e   1 3 : i f ( ! t h i s . s h o w n ) r e t u r n ; t h i s . s e l e c t ( ) ; b r e a k ; c a s e   2 7 : i f ( ! t h i s . s h o w n ) r e t u r n ; t h i s . h i d e ( ) ; b r e a k ; d e f a u l t : t h i s . l o o k u p ( ) } a . s t o p P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) } , f o c u s : f u n c t i o n ( a ) { t h i s . f o c u s e d = ! 0 } , b l u r : f u n c t i o n ( a ) { t h i s . f o c u s e d = ! 1 , ! t h i s . m o u s e d o v e r & & t h i s . s h o w n & & t h i s . h i d e ( ) } , c l i c k : f u n c t i o n ( a ) { a . s t o p P r o p a g a t i o n ( ) , a . p r e v e n t D e f a u l t ( ) , t h i s . s e l e c t ( ) , t h i s . $ e l e m e n t . f o c u s ( ) } , m o u s e e n t e r : f u n c t i o n ( b ) { t h i s . m o u s e d o v e r = ! 0 , t h i s . $ m e n u . f i n d ( " . a c t i v e " ) . r e m o v e C l a s s ( " a c t i v e " ) , a ( b . c u r r e n t T a r g e t ) . a d d C l a s s ( " a c t i v e " ) } , m o u s e l e a v e : f u n c t i o n ( a ) { t h i s . m o u s e d o v e r = ! 1 , ! t h i s . f o c u s e d & & t h i s . s h o w n & & t h i s . h i d e ( ) } } ; v a r   g = a . f n . t y p e a h e a d ; a . f n . t y p e a h e a d = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " t y p e a h e a d " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " t y p e a h e a d " , d = n e w   q ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . t y p e a h e a d . d e f a u l t s = { s o u r c e : [ ] , i t e m s : 8 , m e n u : ' < u l   c l a s s = " t y p e a h e a d   d r o p d o w n - m e n u " > < / u l > ' , i t e m : ' < l i > < a   h r e f = " # " > < / a > < / l i > ' , m i n L e n g t h : 1 } , a . f n . t y p e a h e a d . C o n s t r u c t o r = q , a . f n . t y p e a h e a d . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . t y p e a h e a d = g , t h i s } , a ( d o c u m e n t ) . o n ( " f o c u s . t y p e a h e a d . d a t a - a p i " , ' [ d a t a - p r o v i d e = " t y p e a h e a d " ] ' , f u n c t i o n ( b ) { v a r   c = a ( t h i s ) ; c . d a t a ( " t y p e a h e a d " ) | | c . t y p e a h e a d ( c . d a t a ( ) ) } ) ; v a r   r = f u n c t i o n ( b , c ) { t h i s . o p t i o n s = a . e x t e n d ( { } , a . f n . a f f i x . d e f a u l t s , c ) , t h i s . $ w i n d o w = a ( w i n d o w ) . o n ( " s c r o l l . a f f i x . d a t a - a p i " , a . p r o x y ( t h i s . c h e c k P o s i t i o n , t h i s ) ) . o n ( " c l i c k . a f f i x . d a t a - a p i " , a . p r o x y ( f u n c t i o n ( ) { s e t T i m e o u t ( a . p r o x y ( t h i s . c h e c k P o s i t i o n , t h i s ) , 1 ) } , t h i s ) ) , t h i s . $ e l e m e n t = a ( b ) , t h i s . c h e c k P o s i t i o n ( ) } ; r . p r o t o t y p e . c h e c k P o s i t i o n = f u n c t i o n ( ) { i f ( t h i s . $ e l e m e n t . i s ( " : v i s i b l e " ) ) { v a r   b , c = a ( d o c u m e n t ) . h e i g h t ( ) , d = t h i s . $ w i n d o w . s c r o l l T o p ( ) , e = t h i s . $ e l e m e n t . o f f s e t ( ) , f = t h i s . o p t i o n s . o f f s e t , g = f . b o t t o m , h = f . t o p , i = " a f f i x   a f f i x - t o p   a f f i x - b o t t o m " ; " o b j e c t " ! = t y p e o f   f & & ( g = h = f ) , " f u n c t i o n " = = t y p e o f   h & & ( h = f . t o p ( ) ) , " f u n c t i o n " = = t y p e o f   g & & ( g = f . b o t t o m ( ) ) , b = ! ( n u l l ! = t h i s . u n p i n & & d + t h i s . u n p i n < = e . t o p ) & & ( n u l l ! = g & & e . t o p + t h i s . $ e l e m e n t . h e i g h t ( ) > = c - g ? " b o t t o m " : n u l l ! = h & & d < = h & & " t o p " ) , t h i s . a f f i x e d ! = = b & & ( t h i s . a f f i x e d = b , t h i s . u n p i n = " b o t t o m " = = b ? e . t o p - d : n u l l , t h i s . $ e l e m e n t . r e m o v e C l a s s ( i ) . a d d C l a s s ( " a f f i x " + ( b ? " - " + b : " " ) ) ) } } ; v a r   g = a . f n . a f f i x ; a . f n . a f f i x = f u n c t i o n ( b ) { r e t u r n   t h i s . e a c h ( f u n c t i o n ( ) { v a r   c = a ( t h i s ) , d = c . d a t a ( " a f f i x " ) , e = " o b j e c t " = = t y p e o f   b & & b ; d | | c . d a t a ( " a f f i x " , d = n e w   r ( t h i s , e ) ) , " s t r i n g " = = t y p e o f   b & & d [ b ] ( ) } ) } , a . f n . a f f i x . C o n s t r u c t o r = r , a . f n . a f f i x . d e f a u l t s = { o f f s e t : 0 } , a . f n . a f f i x . n o C o n f l i c t = f u n c t i o n ( ) { r e t u r n   a . f n . a f f i x = g , t h i s } , a ( w i n d o w ) . o n ( " l o a d " , f u n c t i o n ( ) { a ( ' [ d a t a - s p y = " a f f i x " ] ' ) . e a c h ( f u n c t i o n ( ) { v a r   b = a ( t h i s ) , c = b . d a t a ( ) ; c . o f f s e t = c . o f f s e t | | { } , c . o f f s e t B o t t o m & & ( c . o f f s e t . b o t t o m = c . o f f s e t B o t t o m ) , c . o f f s e t T o p & & ( c . o f f s e t . t o p = c . o f f s e t T o p ) , b . a f f i x ( c ) } ) } ) } ) ; 
   =       https://cv.upt.ro/lib/requirejs.php/1553583530/core/first.js     vb     vb                   š        =   P    ‚   ç Qš        =   P   ‚   ç Qš        =   P   ‚   ç Qš        =   P   ‚   ç Qš        =   ‚   ç Qš        =   P	   ‚
   ç Qš        =   P   ‚   ç Qš        =   P   ‚   ç Qš        =	   P   ‚   ç Qš        =
   P   ‚   ç Qš        =   P   ‚   ç Qš        =   P   ‚   ç Qš        =   P   ‚   ç Qš        =   ‚   ç Qš        =   P   ‚   ç Qš        =   P   ‚   ç Qš        =   P   ‚   ç Qš        =   P    ‚!   ç Qš        =   P"   ‚#   ç Qš        =   P$   ‚%   ç Qš        =   P&   ‚'   ç Qš        =   P(   ‚)   ç Qš        =   P*   ‚+   ç Qš        =   P,   ‚-   ç Qš        =   P.   ‚/   ç Q‚0   º‚1   :  Qš        =   P2   ‚3   ç Qš        =   P4   ‚5   ç Qš        =   P6   ‚7   ç Qš        =   P8   ‚9   ç Qš        =   ‚:   ç Qš        =   P;   ‚<   ç Qš        =    P=   ‚>   ç Qš        =!   P?   ‚@   ç Qš        ="   PA   ‚B   ç Qš        =#   PC   ‚D   ç Qš        =$   Z    ‚E   ç Qš        =%   PF   ‚G   ç Qš        =&   PH   ‚I   ç Qš        ='   PJ   ‚K   ç Qš        =(   PL   ‚M   ç Qš        =)   PN   ‚O   ç Qš        =*   PP   ‚Q   ç Qš        =+   PR   ‚S   ç Qš        =,   PT   ‚U   ç Qš        =-   PV   ‚W   ç Qš        =.   PX   ‚Y   ç Qš        =/   Z    ‚Z   ç Qš        =0   P[   ‚\   ç Qš        =1   P]   ‚^   ç Qš        =2   Z    ‚_   ç Qš        =3   P`   ‚a   ç Qš        =4   Pb   ‚c   ç Qš        =5   Pd   ‚e   ç Qš        =6   Pf   ‚g   ç Qš        =7   Ph   ‚i   ç Qš        =8   Pj   ‚k   ç Qš        =9   Z    ‚l   ç Qš        =:   Pm   ‚n   ç Qš        =;   Po   ‚p   ç Qš        =<   Pq   ‚r   ç Q‚s   º‚t   :  Qš        ==   ‚u   ç Qš        =>   Pv   ‚w   ç Qš        =?   Px   ‚y   ç Qš        =@   Z    ‚z   ç Qš        =A   P{   ‚|   ç Q‚}   º‚~   :  Qš        =B   Z    ‚   ç Qš        =C   P€   ‚   ç Qš        =D   P‚   ‚ƒ   ç Qš        =E   P„   ‚…   ç Qš        =F   P†   ‚‡   ç Qš        =G   Pˆ   ‚‰   ç Qš        =H   PŠ   ‚‹   ç Qš        =I   PŒ   ‚   ç Qš        =J   PŽ   ‚   ç Qš        =K   P   ‚‘   ç Qš        =L   P’   ‚“   ç Qš        =M   Z    ‚”   ç Qš        =N   P•   ‚–   ç Qš        =O   P—   ‚˜   ç Qš        =P   P™   ‚š   ç Qš        =Q   Z    ‚›   ç Qš        =R   Z    ‚œ   ç Qš        =S   P   ‚ž   ç Qš        =T   PŸ   ‚    ç Qš        =U   P¡   ‚¢   ç Qš        =V   Z    ‚£   ç Qš        =W   P¤   ‚¥   ç Qš        =X   P¦   ‚§   ç Qš        =Y   P¨   ‚©   ç Qš        =Z   Pª   ‚«   ç Qš        =[   P¬   ‚­   ç Qš        =\   P®   ‚¯   ç Qš        =]   P°   ‚±   ç Qš        =^   P²   ‚³   ç Qš        =_   P´   ‚µ   ç Qš        =`   P¶   ‚·   ç Qš        =a   P¸   ‚¹   ç Qš        =b   Z    ‚º   ç Qš        =c   P»   ‚¼   ç Qš        =d   Z    ‚½   ç Qš        =e   P¾   ‚¿   ç Qš        =f   PÀ   ‚Á   ç Qš        =g   PÂ   ‚Ã   ç Qš        =h   PÄ   ‚Å   ç Qš        =i   PÆ   ‚Ç   ç Qš        =j   PÈ   ‚É   ç Qš        =k   PÊ   ‚Ë   ç Qš        =l   PÌ   ‚Í   ç Qš        =m   PÎ   ‚Ï   ç Qš        =n   PÐ   ‚Ñ   ç Qš        =o   PÒ   ‚Ó   ç Qš        =p   PÔ   ‚Õ   ç Qš        =q   PÖ   ‚×   ç Qš        =r   PØ   ‚Ù   ç Qš        =s   PÚ   ‚Û   ç Qš        =t   PÜ   ‚Ý   ç Qš        =u   PÞ   ‚ß   ç Qš        =v   Pà   ‚á   ç Qš        =w   Z    ‚â   ç Qš        =x   Pã   ‚ä   ç Qš        =y   På   ‚æ   ç Qš        =z   Pç   ‚è   ç Qš        ={   Pé   ‚ê   ç Qš        =|   Pë   ‚ì   ç Qš        =}   Pí   ‚î   ç Qš        =~   Z    ‚ï   ç Qš        =   Pð   ‚ñ   ç Qš        =€   Pò   ‚ó   ç Qš        =   Pô   ‚õ   ç Qš        =‚   Pö   ‚÷   ç Qš        =ƒ   Pø   ‚ù   ç Qš        =„   Z    ‚ú   ç Qš        =…   Pû   ‚ü   ç Qš        =†   Pý   ‚þ   ç Qš        =‡   Pÿ   ‚   ç Qš        =ˆ   P  ‚  ç Qš        =‰   P  ‚  ç Qš        =Š   P  ‚  ç Qš        =‹   P  ‚  ç Qš        =Œ   P	  ‚
  ç Qš        =   ‚  ç Qš        =Ž   P  ‚  ç Qš        =   P  ‚  ç Qš        =   P  ‚  ç Qš        =‘   P  ‚  ç Qš        =’   P  ‚  ç Qš        =“   P  ‚  ç Qš        =”   P  ‚  ç Qš        =•   P  ‚  ç Qš        =–   ‚  ç Qš        =—   P  ‚  ç Qš        =˜   P  ‚   ç Qš        =™   P!  ‚"  ç Qš        =š   P#  ‚$  ç Qš        =›   P%  ‚&  ç Qš        =œ   P'  ‚(  ç Qš        =   P)  ‚*  ç Qš        =ž   P+  ‚,  ç Qš        =Ÿ   Z    ‚-  ç Qš        =    P.  ‚/  ç Qš        =¡   Z    ‚0  ç Qš        =¢   Z    ‚1  ç Qš        =£   P2  ‚3  ç Qš        =¤   P4  ‚5  ç Qš        =¥   P6  ‚7  ç Qš        =¦   P8  ‚9  ç Qš        =§   P:  ‚;  ç Qš        =¨   P<  ‚=  ç Qš        =©   P>  ‚?  ç Qš        =ª   P@  ‚A  ç Qš        =«   PB  ‚C  ç Qš        =¬   PD  ‚E  ç Qš        =­   PF  ‚G  ç Qš        =®   PH  ‚I  ç Qš        =¯   PJ  ‚K  ç Qš        =°   PL  ‚M  ç Qš        =±   PN  ‚O  ç Qš        =²   PP  ‚Q  ç Qš        =³   PR  ‚S  ç Qš        =´   PT  ‚U  ç Qš        =µ   PV  ‚W  ç Qš        =¶   PX  ‚Y  ç Qš        =·   PZ  ‚[  ç Qš        =¸   Z    ‚\  ç Qš        =¹   P]  ‚^  ç Qš        =º   P_  ‚`  ç Qš        =»   Pa  ‚b  ç Qš        =¼   Pc  ‚d  ç Qš        =½   Pe  ‚f  ç Qš        =¾   Pg  ‚h  ç Qš        =¿   Z    ‚i  ç Qš        =À   Pj  ‚k  ç Qš        =Á   Pl  ‚m  ç Qš        =Â   Pn  ‚o  ç Qš        =Ã   Pp  ‚q  ç Qš        =Ä   Pr  ‚s  ç Qš        =Å   Pt  ‚u  ç Qš        =Æ   Pv  ‚w  ç Qš        =Ç   Px  ‚y  ç Qš        =È   Pz  ‚{  ç Qš        =É   P|  ‚}  ç Qš        =Ê   P~  ‚  ç Qš        =Ë   P€  ‚  ç Qš        =Ì   P‚  ‚ƒ  ç Qš        =Í   P„  ‚…  ç Qš        =Î   P†  ‚‡  ç Qš        =Ï   Pˆ  ‚‰  ç Qš        =Ð   PŠ  ‚‹  ç Qš        =Ñ   PŒ  ‚  ç Qš        =Ò   PŽ  ‚  ç Qš        =Ó   P  ‚‘  ç Qš        =Ô   P’  ‚“  ç Qš        =Õ   P”  ‚•  ç Qš        =Ö   P–  ‚—  ç Qš        =×   P˜  ‚™  ç Qš        =Ø   Pš  ‚›  ç Qš        =Ù   Pœ  ‚  ç Qš        =Ú   Pž  ‚Ÿ  ç Qš        =Û   P   ‚¡  ç Qš        =Ü   Z    ‚¢  ç Qš        =Ý   P£  ‚¤  ç Qš        =Þ   P¥  ‚¦  ç Qš        =ß   P§  ‚¨  ç Qš        =à   P©  ‚ª  ç Qš        =á   Z    ‚«  ç Qš        =â   P¬  ‚­  ç Qš        =ã   P®  ‚¯  ç Qš        =ä   P°  ‚±  ç Qš        =å   P²  ‚³  ç Qš        =æ   P´  ‚µ  ç Qš        =ç   P¶  ‚·  ç Qš        =è   P¸  ‚¹  ç Qš        =é   Pº  ‚»  ç Qš        =ê   P¼  ‚½  ç Qš        =ë   P¾  ‚¿  ç Qš        =ì   PÀ  ‚Á  ç Qš        =í   PÂ  ‚Ã  ç Qš        =î   PÄ  ‚Å  ç Qš        =ï   PÆ  ‚Ç  ç Qš        =ð   PÈ  ‚É  ç Qš        =ñ   PÊ  ‚Ë  ç Qš        =ò   PÌ  ‚Í  ç Qš        =ó   PÎ  ‚Ï  ç Qš        =ô   PÐ  ‚Ñ  ç Qš        =õ   PÒ  ‚Ó  ç Qš        =ö   PÔ  ‚Õ  ç Qš        =÷   PÖ  ‚×  ç Qš        =ø   PØ  ‚Ù  ç Qš        =ù   PÚ  ‚Û  ç Qš        =ú   PÜ  ‚Ý  ç Qš        =û   PÞ  ‚ß  ç Qš        =ü   Pà  ‚á  ç Qš        =ý   Pâ  ‚ã  ç Qš        =þ   Pä  ‚å  ç Qš        =ÿ   Pæ  ‚ç  ç Qš        =   Pè  ‚é  ç Qš        =  Pê  ‚ë  ç Qš        =  Pì  ‚í  ç Qš        =  Pî  ‚ï  ç Qš        =  Pð  ‚ñ  ç Qš        =  Pò  ‚ó  ç Qš        =  Pô  ‚õ  ç Qš        =  Pö  ‚÷  ç Qš        =  Pø  ‚ù  ç Qš        =	  Pú  ‚û  ç Qš        =
  Pü  ‚ý  ç Qš        =  Pþ  ‚ÿ  ç Qš        =  P   ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚	  ç Qš        =  P
  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P  ‚  ç Qš        =  P   ‚!  ç Qš        =  P"  ‚#  ç Qš        =  P$  ‚%  ç Q‚&  º‚'  :  Qš        =  P(  ‚)  ç Qš        =   P*  ‚+  ç Qš        =!  P,  ‚-  ç Qš        ="  P.  ‚/  ç Qš        =#  P0  ‚1  ç Qš        =$  P2  ‚3  ç Qš        =%  P4  ‚5  ç Q‚6  º‚7  :  Qš        =&  P8  ‚9  ç Qš        ='  P:  ‚;  ç Qš        =(  P<  ‚=  ç Qš        =)  P>  ‚?  ç Qš        =*  P@  ‚A  ç Qš        =+  PB  ‚C  ç Qš        =,  PD  ‚E  ç Qš        =-  PF  ‚G  ç Qš        =.  PH  ‚I  ç Qš        =/  PJ  ‚K  ç Qš        =0  PL  ‚M  ç Qš        =1  PN  ‚O  ç Q™Ý˜Ý˜Ý˜Ý˜Ø˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ø˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜ÌÝ˜Ý˜Ý˜Ý˜Ø˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý 3Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜ÌØ˜Ý˜Ý˜Ý˜Ý˜ÌÝ˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ø˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ø˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜ÌÝ˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜ÌÝ˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜Ý˜    define-   core/permissionmanager   core/tree   core/event   core/truncate%   core/backoff_timer3   core/form-course-selector%   core/modal_factory   core/str+   core/inplace_editableY   core/paged_content_paging_bar_limit_selector   core/chartjs#   core/search-input5   core/paged_content_factory   core/key_codes%   core/addblockmodal7   core/chart_output_htmltable'   core/sessionstorage   core/chart_base   core/ajax'   core/modal_registry!   core/icon_system   core/first   core/chart_barE   core/paged_content_paging_dropdown   core/auto_rows   core/tooltip#   core/chart_output%   core/modal_confirm-   core/form-autocomplete   core/yui-   core/chart_output_base=   core/popover_region_controller'   core/modal_backdrop   core/modal   core/fragment3   core/paged_content_events   core/tag   core/url'   core/storagewrapper1   core/paged_content_pages   core/chart_line   core/dragdrop#   core/localstorage   core/log%   core/sortable_list   core/templates   core/adapter   core/autoscroll   core/pending   core/chart_axis=   core/custom_interaction_events-   core/modal_save_cancel   core/user_date3   core/form-cohort-selector%   core/chart_builder3   core/chart_output_chartjs   core/pubsub;   core/paged_content_paging_bar   core/chart_pie3   core/icon_system_standard   core/config9   core/icon_system_fontawesome%   core/paged_content#   core/modal_events#   core/modal_cancel#   core/chart_series#   core/notification!   core/page_global;   core_calendar/calendar_filter7   core_calendar/summary_modal-   core_calendar/calendar7   core_calendar/calendar_view7   core_calendar/calendar_mini%   core_calendar/crud1   core_calendar/event_formC   core_calendar/calendar_threemonth)   core_calendar/events5   core_calendar/modal_deleteQ   core_calendar/month_navigation_drag_drop5   core_calendar/view_manager/   core_calendar/selectorsE   core_calendar/drag_drop_data_store=   core_calendar/modal_event_form1   core_calendar/repositoryE   core_calendar/month_view_drag_drop%   core_course/events'   core_course/actions-   core_course/repository/   core_form/defaultcustom'   core_form/filetypes1   core_form/passwordunmask5   core_grades/edittree_indexu   core_message/message_drawer_view_contacts_section_requests3   core_message/message_areaG   core_message/notification_processorW   core_message/message_drawer_view_group_infok   core_message/message_drawer_view_conversation_patchero   core_message/message_drawer_view_conversation_constantsY   core_message/message_notification_preferenceE   core_message/message_drawer_routesm   core_message/message_drawer_view_conversation_renderer=   core_message/message_area_tabsu   core_message/message_drawer_view_contacts_section_contactsY   core_message/notification_processor_settingsA   core_message/message_preferencesC   core_message/message_area_profile9   core_message/message_popoverC   core_message/message_area_actionsS   core_message/message_drawer_view_settingsQ   core_message/message_drawer_view_contactI   core_message/notification_preference[   core_message/message_drawer_view_conversationO   core_message/preferences_processor_formc   core_message/message_drawer_view_overview_section?   core_message/message_repositoryU   core_message/message_drawer_lazy_load_listS   core_message/message_drawer_view_contactsA   core_message/message_area_searchA   core_message/message_area_events7   core_message/message_drawerE   core_message/toggle_contact_buttonE   core_message/message_area_contactsS   core_message/message_drawer_view_overviewE   core_message/message_area_messagesO   core_message/message_drawer_view_searchE   core_message/message_drawer_eventsm   core_message/preferences_notifications_list_controllerE   core_message/message_drawer_helperE   core_message/message_drawer_routerw   core_message/message_drawer_view_conversation_state_manager/   core_question/edit_tags/   core_question/selectors1   core_question/repositoryK   core_search/form-search-user-selector1   core_user/unified_filterG   core_user/unified_filter_datasource-   core_user/participants-   core_user/status_field9   qtype_ddimageortext/question1   qtype_ddimageortext/form+   qtype_ddmarker/shapes/   qtype_ddmarker/question'   qtype_ddmarker/form'   qtype_ddwtos/ddwtos?   mod_assign/participant_selectorM   mod_assign/grading_form_change_checkerO   mod_assign/grading_navigation_user_info?   mod_assign/grading_review_panel1   mod_assign/grading_panel3   mod_assign/grading_events5   mod_assign/grading_actions;   mod_assign/grading_navigation;   mod_choice/select_all_choicesM   mod_choicegroup/choicegroupdatadisplayE   mod_choicegroup/select_all_choices#   mod_feedback/edit9   mod_lti/tool_card_controllerE   mod_lti/tool_proxy_card_controllerI   mod_lti/external_registration_return;   mod_lti/external_registration   mod_lti/events   mod_lti/keys#   mod_lti/tool_typeG   mod_lti/cartridge_registration_form%   mod_lti/tool_proxy'   mod_lti/contentitemC   mod_lti/tool_configure_controller5   mod_lti/contentitem_return%   mod_lti/form-field#   mod_oublog/export1   mod_quiz/add_random_formK   mod_quiz/random_question_form_preview9   mod_quiz/add_random_questionC   mod_quiz/modal_quiz_question_bankI   mod_quiz/add_question_modal_launcher/   mod_quiz/preflightcheckE   mod_quiz/modal_add_random_question3   mod_quiz/quizquestionbank+   mod_survey/validation3   mod_workshop/workshopview)   mod_workshop/modformS   enrol_manual/form-potential-user-selector7   enrol_manual/quickenrolmentM   message_popup/notification_area_eventsY   message_popup/notification_area_control_areaY   message_popup/notification_area_content_areaK   message_popup/notification_repository[   message_popup/notification_popover_controller+   block_myoverview/main3   block_myoverview/view_nav5   block_myoverview/selectors+   block_myoverview/view7   block_myoverview/repository7   block_navigation/nav_loaderE   block_navigation/site_admin_loader3   block_navigation/navblockO   block_navigation/ajax_response_rendererS   block_online_users/change_user_visibilityE   block_recentlyaccessedcourses/mainA   block_recentlyaccesseditems/mainM   block_recentlyaccesseditems/repository9   block_settings/settingsblock3   block_starredcourses/main?   block_starredcourses/repository'   block_timeline/main/   block_timeline/view_nav3   block_timeline/view_dates'   block_timeline/view7   block_timeline/view_courses3   block_timeline/event_listS   block_timeline/calendar_events_repository)   media_videojs/loaderQ   report_competency/user_course_navigation?   report_competency/grading_popupC   report_customsql/reportcategories/   report_insights/actionsG   report_progress/completion_overrideG   gradereport_gradedist/define_hc_minG   gradereport_gradedist/define_hc_src9   gradereport_gradedist/config?   gradereport_gradedist/gradedistC   gradingform_guide/comment_chooser)   tool_analytics/model/   tool_analytics/log_info/   tool_dataprivacy/events9   tool_dataprivacy/add_purposeC   tool_dataprivacy/myrequestactionsA   tool_dataprivacy/purposesactionsG   tool_dataprivacy/form-user-selectorA   tool_dataprivacy/defaultsactionsE   tool_dataprivacy/categoriesactionsA   tool_dataprivacy/expand_contract?   tool_dataprivacy/request_filter=   tool_dataprivacy/data_deletion?   tool_dataprivacy/requestactions;   tool_dataprivacy/add_categoryW   tool_dataprivacy/effective_retention_periodG   tool_dataprivacy/data_request_modal=   tool_dataprivacy/data_registryE   tool_lp/competency_plan_navigation   tool_lp/tree;   tool_lp/parentcompetency_formG   tool_lp/competencypicker_user_plans1   tool_lp/competencypickerE   tool_lp/course_competency_settings1   tool_lp/dragdrop-reorder!   tool_lp/dialogue=   tool_lp/competency_rule_points;   tool_lp/user_evidence_actions5   tool_lp/competencydialogue7   tool_lp/competency_outcomes'   tool_lp/scalevalues-   tool_lp/competencytreeS   tool_lp/user_competency_course_navigation;   tool_lp/frameworks_datasource-   tool_lp/grade_dialogue5   tool_lp/form-user-selectorE   tool_lp/user_competency_plan_popup-   tool_lp/actionselector9   tool_lp/user_competency_info'   tool_lp/scaleconfig'   tool_lp/planactions/   tool_lp/templateactions9   tool_lp/competencyruleconfigA   tool_lp/user_competency_workflow   tool_lp/menubar3   tool_lp/competencyactions9   tool_lp/form-cohort-selector7   tool_lp/competency_rule_all1   tool_lp/frameworkactions)   tool_lp/competencies%   tool_lp/event_baseI   tool_lp/grade_user_competency_inline/   tool_lp/competency_rule/   tool_lp/evidence_deleteM   tool_policy/jquery-eu-cookie-law-popup=   tool_policy/acceptances_filterS   tool_policy/acceptances_filter_datasource;   tool_policy/managedocsactions3   tool_policy/policyactions/   tool_policy/acceptmodal9   tool_templatelibrary/display7   tool_templatelibrary/search1   tool_usertours/usertours5   tool_usertours/managetours5   tool_usertours/managesteps   tool_xmldb/move5   theme_adaptable/savebutton3   theme_adaptable/bsoptions)   theme_boost/dropdown#   theme_boost/alert!   theme_boost/aria%   theme_boost/drawer)   theme_boost/collapse%   theme_boost/button'   theme_boost/tooltip!   theme_boost/util   theme_boost/tab%   theme_boost/loader#   theme_boost/modal'   theme_boost/popover)   theme_boost/carousel?   theme_boost/form-display-errors+   theme_boost/scrollspy;   theme_bootstrapbase/bootstrap‡!«!ÿÿÿÿ                «+’HŽ!«!      Ž!«!   jqueryŽ!«!   core/configŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   core/yui    !«!       B r   e  j   e     r            a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p   B  )    !       )           B “  ß  ‹  ß     “  @         B  ©  Á  ¡  Á     ©         Ê5žÊ5ž   B î    æ       î         Ê5žÊ5ž   B   U  
  U       0          b    e   B ¦  -  ž  -     ¦  `          g   B ÿ     ÷        ÿ          Ê5žÊ5ž   B <  S  4  S     <         Ê5žÊ5ž   B `  ÿ	  X  ÿ	     `             b   B  ©  ù	  ¡  ù	     ©           B  Ð  ÷	  È  ÷	     Ð  P          f    h   B P	  ã	  H	  ã	     P	           B «	  á	  £	  á	     «	         Ê5žÊ5žÊ5žÊ5žÊ5ž   B 

  Æ  
  Æ     

             b   B  E
  À  =
  À     E
  @          e    f    h   B  ²  ¾  ª  ¾     ²         Ê5žÊ5žÊ5ž   B á  c  Ù  c     á         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       C  û      "   ‡                                    Ê"  ‡  Ê"                   [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   ‰   Q‚   W   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚	   6   QV   5   ‚
   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6    QV   5   ‚   6!   QV   ™/•ÊÊpÊ€  ¶Ê#Ê'ÐfÊ€ gÔDÔwÔRÔ€ ,Ô:Ô€  –ÔRÔWÔ€  ×Ô€  ÔbÔ€  ¹Ô€  ÊÔ€ #Ô€  ªÔ€  ÞÔpÔ€ ÌÔ€  ©Ô[Ô€  í”    [role=treeitem]	   ITEMÏ   [role=treeitem]:has([role=group]), [role=treeitem][aria-owns], [role=treeitem][data-requires-ajax=true]   GROUPM  [role=treeitem]:has([role=group])[aria-expanded=false], [role=treeitem][aria-owns][aria-expanded=false], [role=treeitem][data-requires-ajax=true][aria-expanded=false]   CLOSED_GROUP+   [role=treeitem]:first   FIRST_ITEM/   [role=treeitem]:visible   VISIBLE_ITEMŸ   [role=treeitem][data-requires-ajax=true][data-loaded=false][aria-expanded=true]%   UNLOADED_AJAX_ITEM   prototype+   registerEnterCallback1   refreshVisibleItemsCache   getVisibleItems   setActiveItem   isGroupItem!   getGroupFromItem!   isGroupCollapsed%   isGroupCollapsible   initialiseNodes+   removeAllFromTabOrder7   setAriaSelectedFalseOnItems   expandAllGroups)   expandAllChildGroups   expandGroup)   finishExpandingGroup   collapseGroup   toggleGroup   handleKeyDown   handleClick   handleFocus#   bindEventHandlersŒ!«!ÿÿÿÿ      a   b   c      «+’HŽ!«!       Ž!«!	   ITEM‹!«!Ž!«!   GROUP‹!«!Ž!«!   CLOSED_GROUP‹!«!Ž!«!   FIRST_ITEM‹!«!Ž!«!   VISIBLE_ITEM‹!«!Ž!«!%   UNLOADED_AJAX_ITEM‹!«!    !«!          cC 	        A                               € ‘  í  ‰  í     )            ¹W   QV   ˆ   T  : 6    QV   5    ¸   
=   @ç QV   T 6   QV   [    ×	]   ×]   × ]   ×!]   ×"]	   ×#]
   ×$]   ×%]   ×&]   ×']   ×(]   ×j]   6   QV   ¸   
V   5    ç QV   ¸   
V   5    ¸   
ˆ   5   : ç QV   ¸   
ç  QV   ¸   
ç  Q™–€ /ÍÉÚ&ÍÉ——	—	—
——————	—ÍØ$å“ÿÿÿí”5Ï Ï    treeRoot	   data   activeItem   selectCallback	   keys   tab   enter   space   pageup   pagedown   end	   home	   left   up   right	   down   asterisk   initialiseNodes   setActiveItem	   find   FIRST_ITEM1   refreshVisibleItemsCache#   bindEventHandlersŒ!«!ÿÿÿÿ      c   d   .this       «+’HŽ!«!       Ž!«!   tab‹!«!Ž!«!   enter‹!«!Ž!«!   space‹!«!Ž!«!   pageup‹!«!Ž!«!   pagedown‹!«!Ž!«!   end‹!«!Ž!«!	   home‹!«!Ž!«!	   left‹!«!Ž!«!   up‹!«!Ž!«!   right‹!«!Ž!«!	   down‹!«!Ž!«!   asterisk‹!«!    š˜;ø       Ê5ž!«!       C   c.prototype.registerEnterCallbackb   8    8     ·         Ê5ž!«!       I   c.prototype.refreshVisibleItemsCachec   =                                          € f  ¯  ^  ¯     þ            ¹W   QV   5    ¸   
=   V   5    ¸   
ˆ   5   : ç Q™–€ ï"“ÿÿÿÞ”E    treeRoot	   data   visibleItems	   find   VISIBLE_ITEMŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       7   c.prototype.getVisibleItemsb  Ô    Ì       l         Ê5ž!«!       3   c.prototype.setActiveItemc  ç         (                                € $  -    -     ¼            ¹W  QV  5    ¸   
=   : W   QT  V   IE¹   æQV   E8   æQV   ¸   
=   =   ç QV   ¸   
=   =   : æQT  ¸   
=   =   ç QT  ¸   
=   =	   ç QV  5    ¸   
=   T  ç Q=
   V  5   ÄE   æQV  ¸   
T  : æQ™–€ ÄÕÈ!ÏËÙÚ!ØØÜ#•à•    treeRoot	   data   activeItem	   attr   tabindex   -1   aria-selected   false   0	   true   function   selectCallbackŒ!«!ÿÿÿÿ      a   b   .this       «+’Hš˜;ø       Ê5ž!«!       /   c.prototype.isGroupItemb N  g  F  g     æ         Ê5ž!«!       9   c.prototype.getGroupFromItemc  w                                   	      €   ý  …  ý     %     	       ¹W  QV  5    ¸   
=   T  ¸   
=   : : W   QT  ¸   
=   : W  QV   Ù   V  Ù      æV   
   æV  æ™–€ -ä”ÿÿÿéÈ,ÏÈÓ
Õ    treeRoot	   find   #	   attr   aria-owns   children   [role=group]   lengthŒ!«!ÿÿÿÿ      a   b   c   .this       «+’Hš˜;ø       Ê5ž!«!       9   c.prototype.isGroupCollapsedb #  O    O     »         Ê5ž!«!       =   c.prototype.isGroupCollapsibleb w  ¦  o  ¦              Ê5ž!«!       7   c.prototype.initialiseNodesc  \                                  
      €  Ë  }  Ã  }                   ¹W   QV   ¸    
T  ç QV   ¸   
T  ç QV   ‰   QT  ¸   
ˆ  5   : ¸   
‚    ç Q™–€ gÒÒ(Êç` +   removeAllFromTabOrder7   setAriaSelectedFalseOnItems	   find%   UNLOADED_AJAX_ITEM	   eachŒ!«!ÿÿÿÿ      c   d   .this      «+’H!«!       ;   c.prototype.initialiseNodes/<b  F  {  >  {     Þ         Ê5žš˜;øÊ5ž!«!       C   c.prototype.removeAllFromTabOrderc  l                                         € ¨  
     
     @            ¹W   QT  ¸    
=   : ¸   
=   =   ç QV   ¸   
ˆ   T  : : ¸    
=   : ¸   
=   =   ç Q™–€ Dç"Ô“ÿÿÿêç; 	   find   *	   attr   tabindex   -1!   getGroupFromItemŒ!«!ÿÿÿÿ      b   .this       «+’Hš˜;ø       Ê5ž!«!       O   c.prototype.setAriaSelectedFalseOnItemsc  -          	                                €  ;  l  3  l     Ó             T  ¸    
ˆ   5   : ¸   
=   =   ç Q™€ ×ì, 	   find	   ITEM	   attr   aria-selected   falseŒ!«!ÿÿÿÿ      a        «+’Hš˜;ø       Ê5ž!«!       7   c.prototype.expandAllGroupsb  ‘  %  ‰  %     )	  "          c   B  Ï  #  Ç  #     g	  "          b   B    !  ü  !     œ	         Ê5žÊ5žÊ5ž!«!       A   c.prototype.expandAllChildGroupsb O  ï  G  ï     ç	  "          d   B  ™  í  ‘  í     1
  "          b   B  Î  ë  Æ  ë     f
         Ê5žÊ5žÊ5ž!«!       /   c.prototype.expandGroupb            ¨
  R          b    c    e   B ;  È  3  È     Ó           B  V  Æ  N  Æ     î         Ê5žÊ5žÊ5ž!«!       A   c.prototype.finishExpandingGroupb <  ¼  4  ¼     Ô         Ê5ž!«!       3   c.prototype.collapseGroupb ß  š  ×  š     w  "       Ê5ž!«!       /   c.prototype.toggleGroupb »  
  ³  
     S         Ê5ž!«!       3   c.prototype.handleKeyDownb -  Ö   %  Ö      Å  R          c   B   s    s     ¦             b   B  5  i  -  i     Í         Ê5žÊ5žÊ5ž!«!       /   c.prototype.handleClickb ÷   !  ï   !              Ê5ž!«!       /   c.prototype.handleFocusb  !  Ú!  ˜!  Ú!     8         Ê5ž!«!       ;   c.prototype.bindEventHandlersc   R                                         €  "  Ç"  ù!  Ç"                   ¹W   QV   ‰   QV   5    ¸   
[   ‚    ]   ‚   ]   ‚   ]   ˆ  5   ç Q™–€  ÊÕÊ3Ê7Ôÿÿÿ„”€  ·    treeRoot   on   click   keydown   focus	   ITEMŒ!«!ÿÿÿÿ      c   .this        «+’H!«!          clickB /"  S"  '"  S"     Ç         Ê5ž!«!          keydownB d"  Š"  \"  Š"     ü         Ê5ž!«!          focusB ™"  ½"  ‘"  ½"     1         Ê5žŽ!«!       Ž!«!   click‹!«!Ž!«!   keydown‹!«!Ž!«!   focus‹!«!    š˜;øÊ5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/yui    !«!       C  9                                              #  ‰%  ø"  ‰%                    [   [    =    ]   ]   ‚   ]   ‚   ]   ‚   ]   ™9••Ï4Ê€  Ê€  ðÊ€  ¿ 5   core_form-field-validation+   FORM_FIELD_VALIDATION   Events   getLegacyEvents5   notifyFilterContentUpdated7   notifyEditorContentRestoredŒ!«!ÿÿÿÿ      a   b       «+’HŽ!«!       Ž!«!+   FORM_FIELD_VALIDATION‹!«!    !«!          getLegacyEventsC  E                                   	       €   a#  Ø#  Y#  Ø#                    ˆ  ¸    
:  ‰   Qˆ  ¸   
=   =   ‚    ç Qˆ   ¸   
:  ™€  ›ÌÉßNÏ    Deferred   use   event#   moodle-core-event   promiseŒ!«!ÿÿÿÿ      c         «+’H!«!       #   getLegacyEvents/<c   %          	                                 €  ¨#  Ê#   #  Ê#     Û              ˆ   ¸    
š   5   5   5   ç Q™€  Þä    resolve   window   M	   core   eventŒ!«!ÿÿÿÿ              «+’Hš˜;ø       Ê5žš˜;øÊ5ž!«!       5   notifyFilterContentUpdatedB ü#  È$  ô#  È$     /             c   B 1$  Æ$  )$  Æ$     d         Ê5žÊ5ž!«!       7   notifyEditorContentRestoredB  í$  ‡%  å$  ‡%                 B %  …%  %  …%     M         Ê5žÊ5žŽ!«!       Ž!«!   Events‹!«!Ž!«!   getLegacyEvents‹!«!Ž!«!5   notifyFilterContentUpdated‹!«!Ž!«!7   notifyEditorContentRestored‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jquery    !«!       C  ¾       
   9      
                           ·%  M+  ¯%  M+                         ‰   Q    ‰   Q    ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Qˆ   ‚   6    Qˆ   5   ‚   6    Qˆ   5    [   B]   B]   B]   B]   <    ]   =   ]	   6   Q[	   ˆ   5    ]    ™3ËËËË€  øËAËdÐOÕ€ Ï––	––ÊÐ•Ï    truncate   fn   defaults   stripTags   words   keepFirstWord   noBreaks   length   &    ellipsis!«!      ðŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g       «+’HŒ!«!   (\s*\S+|\s)$    Œ!«!   ^(\S*)    Œ!«!   \s    !«!          eB ì%  Ù&  ä%  Ù&     `          Ê5ž!«!          fB ä&  '  Ü&  '     X         Ê5ž!«!          gB %'  ~'  '  ~'     ™         Ê5ž!«!          a.truncateb ™'  Ô'  ‘'  Ô'              Ê5ž!«!          a.fn.truncateb ë'  Õ*  ã'  Õ*     _  "          h   B  P(  Ó*  H(  Ó*     Ä  R          i    l   B è)  Ð*  à)  Ð*     \          Ê5žÊ5žÊ5žŽ!«!       Ž!«!   stripTags‹!«!Ž!«!   words‹!«!Ž!«!   keepFirstWord‹!«!Ž!«!   noBreaks‹!«!Ž!«!   length‹!«!Ž!«!   ellipsis‹!«!    Ž!«!       Ž!«!   truncate‹!«!    š˜;øÊ5ž!«!       C   Ã          +                         	       €   u+  Œ.  m+  Œ.                   ‚    W   QV   5    @6   QV   5    @6   QV   5    @6   QV   5    @6   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6	   QV   ‚   6
   QV   ™,Ê8ÐÐ!ÐÐÔdÔEÔmÔ€  ¼Ô<ÏW”    prototype   callback   backOffFunction	   time   timeout!   generateNextTime   reset	   stop   start   restart-   getIncrementalCallbackŒ!«!ÿÿÿÿ      a         «+’H!«!          aB †+  ³+  ~+  ³+     6          Ê5ž!«!       9   a.prototype.generateNextTimeb  J,  ˆ,  B,  ˆ,     ú          Ê5ž!«!       #   a.prototype.resetb  £,  Í,  ›,  Í,     S         Ê5ž!«!       !   a.prototype.stopb  ç,  :-  ß,  :-     —         Ê5ž!«!       #   a.prototype.startb  U-  ö-  M-  ö-       "         B  ¯-  Û-  §-  Û-     _         Ê5žÊ5ž!«!       '   a.prototype.restartb  .  2.  .  2.     Ã         Ê5ž!«!       1   a.getIncrementalCallbackb T.  ‰.  L.  ‰.       P          a    b    c    d   B m.  ˆ.  e.  ˆ.              Ê5žÊ5žš˜;øÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!   jquery    !«!       B Ò.  q2  Ê.  q2     C   0          a    b   B ö.  Ã/  î.  Ã/     g          Ê5ž   B Ö/  o2  Î/  o2     G  0          d    e   B ¨1  e2   1  e2               Ê5žÊ5žÊ5žŽ!«!   
   Ž!«!   jqueryŽ!«!#   core/modal_eventsŽ!«!'   core/modal_registryŽ!«!   core/modalŽ!«!-   core/modal_save_cancelŽ!«!%   core/modal_confirmŽ!«!#   core/modal_cancelŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_events    !«!       C 
 B      
   H                            
      c3  '9  [3  '9                   [    =    ]   =   ]   =   ]   =   ]   W   Q[   =   ]   =   ]   =   ]   =   ]   ‰   Qˆ   ¸   
ˆ   5   T V   5   ç Qˆ   ¸   
ˆ   5   T V   5   ç Qˆ   ¸   
ˆ   5   T V   5   ç Qˆ   ¸   
ˆ   5   T V   5   ç Q‚   ‰ 	  Q‚   ‰ 
  Q‚   ‰   Q‚   W  Q[   V  ]   ˆ   ]	   ™€ 	•ÊÊ%Ê!Ï•ÊÊÊÐæ"æ*æ"æ$Ë€ ÆË;ËyÊ€ ¹•É	Ê    core/modal   DEFAULT-   core/modal_save_cancel   SAVE_CANCEL   CONFIRM#   core/modal_cancel   CANCEL   register   create   typesŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p 
 
    «+’HŽ!«!       Ž!«!   DEFAULT‹!«!Ž!«!   SAVE_CANCEL‹!«!Ž!«!   CONFIRM‹!«!Ž!«!   CANCEL‹!«!    Ž!«!       Ž!«!   DEFAULT‹!«!Ž!«!   SAVE_CANCEL‹!«!Ž!«!   CONFIRM‹!«!Ž!«!   CANCEL‹!«!    !«!          mB å4   6  Ý4   6     q  `          c    e    f    g   B )5  ¦5  !5  ¦5     µ           B S5  ƒ5  K5  ƒ5     ß         Ê5žÊ5ž   B X6  ž6  P6  ž6     ä           B  ƒ6  š6  {6  š6              Ê5žÊ5žÊ5ž!«!          nB «6  Û6  £6  Û6     7         Ê5ž!«!          oB æ6  T7  Þ6  T7     r             b   B 7  77  7  77     ¦         Ê5žÊ5ž!«!          pB _7  9  W7  9     ë  0          a    e   B 48  ã8  ,8  ã8     À         Ê5žÊ5žŽ!«!       Ž!«!   create‹!«!Ž!«!   types‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/localstorage    !«!       C  &                                             p9  5?  h9  5?                    Z    ‰   Q[   ‚    ]    ‚   ]   ™RË•Ê€  ƒÊ€ )    get_string   get_stringsŒ!«!ÿÿÿÿ      a   b   c   d       «+’H!«!          get_stringB ›9  
:  “9  
:     q            B ø9  :  ð9  :     Î          Ê5žÊ5ž!«!          get_stringsB :  3?  :  3?     õ             e    f    g    h   B ß;  ó;  ×;  ó;     µ         Ê5ž   B þ;  <  ö;  <     Ô         Ê5ž   B  ~=  >  v=  >     T         Ê5ž   B ¬>  ¼>  ¤>  ¼>     ‚         Ê5žÊ5žŽ!«!       Ž!«!   get_string‹!«!Ž!«!   get_strings‹!«!    š˜;øÊ5žŽ!«!   	   Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/configŽ!«!   core/urlŽ!«!-   core/form-autocompleteŽ!«!   core/pending    !«!       B	 è?  ‡Q  à?  ‡Q  	   °              a    b    c    d    e    f    g    h    i   B ]@  ‚Q  U@  ‚Q  	   %  Â          m    n    o    p    q    s    t    u    v    w   B !A  ÚA  A  ÚA  	   é         Ê5ž   B åA   B  ÝA   B  	   ­         Ê5ž   B +B  ìD  #B  ìD  	   ó  P          e    f    g    h   B PC  ,D  HC  ,D  	                b   B ŒC  *D  „C  *D  	   T         Ê5žÊ5ž   B  ;D  QD  3D  QD  	            Ê5ž   B `D  êD  XD  êD  	   (         Ê5žÊ5ž   B ÷D  ¹E  ïD  ¹E  	   ¿         Ê5ž   B  ÄE  F  ¼E  F  	   Œ           B  ÿE  F  ÷E  F  	   Ç         Ê5žÊ5ž   B F  †F  F  †F  	   â         Ê5ž   B ‘F  _I  ‰F  _I  	   Y             b   B ÈF  ]I  ÀF  ]I  	                e   B ©H  [I  ¡H  [I  	   q	  0       Ê5žÊ5žÊ5ž   B jI  |I  bI  |I  	   2
         Ê5ž   B ‡I  «K  I  «K  	   O
  0          b    e   B 	K  ©K  K  ©K  	   Ñ  0       Ê5žÊ5ž   B ¶K  †P  ®K  †P  	   ~  P          b    i    n    o   B ºM  äM  ²M  äM  	   ‚         Ê5ž   B óM  N  ëM  N  	   »         Ê5ž   B BN  nN  :N  nN  	   
         Ê5ž   B }N  N  uN  N  	   E         Ê5ž   B  UO  zO  MO  zO  	            Ê5ž   B £O  åO  ›O  åO  	   k         Ê5ž   B üO  GP  ôO  GP  	   Ä         Ê5ž   B ^P  „P  VP  „P  	   &         Ê5žÊ5ž   B ‘P  kQ  ‰P  kQ  	   Y         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!3   core/paged_content_eventsŽ!«!   core/pubsub    !«!       B R  øS  R  øS  
   •   `          a    b    c    d    e   B ¹R  ÔS  ±R  ÔS  
   /             g   B S  ÒS  S  ÒS  
   Š          Ê5žÊ5žÊ5žŽ!«!      Ž!«!#   core/chartjs-lazy    !«!       B 0T  =T  (T  =T     5          Ê5žŽ!«!      Ž!«!   jquery    !«!       B oT  —V  gT  —V     /   p          a    b    c    d    e    f   B ˆT  ¬T  €T  ¬T     H          Ê5ž   B ·T  ÔU  ¯T  ÔU     w          Ê5ž   B  ßU  #V  ×U  #V     Ÿ         Ê5ž   B  .V  IV  &V  IV     î         Ê5ž   B ^V  •V  VV  •V              Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!%   core/paged_contentŽ!«!3   core/paged_content_eventsŽ!«!   core/pubsubŽ!«!   core/ajax    !«!       B BW  xb  :W  xb     ¨   `         l    h    i    o    m    g    q    e    k    a    b    x    y    n    r    u    f    j    d    p    c   B  ÓW  >X  ËW  >X     9         Ê5ž   B  IX  ËX  AX  ËX     ¯         Ê5ž   B ÖX  Y  ÎX  Y     <          Ê5ž   B !Y  çY  Y  çY     ‡          Ê5ž   B òY  ¦Z  êY  ¦Z     X            B Z  NZ  Z  NZ              Ê5ž   B cZ  wZ  [Z  wZ     É         Ê5žÊ5ž   B ±Z  )[  ©Z  )[              Ê5ž   B 4[  O[  ,[  O[     š         Ê5ž   B Z[  Š\  R[  Š\     À          Ê5ž   B •\  l^  \  l^     û         Ê5ž   B w^  •^  o^  •^     Ý         Ê5ž   B  ^  ½^  ˜^  ½^              Ê5ž   B È^  ì_  À^  ì_     .  @          g    i    j   B (_  ­_   _  ­_     Ž         Ê5ž   B ¼_  Ì_  ´_  Ì_     "	         Ê5žÊ5ž   B ÷_  ¶`  ï_  ¶`     ]	  @          a    c    e   B C`  ²`  ;`  ²`     ©	             d   B i`  «`  a`  «`     Ï	         Ê5žÊ5žÊ5ž   B Á`  é`  ¹`  é`     '
         Ê5ž   B ô`  a  ì`  a     Z
             a   B a  wa  þ`  wa     l
         Ê5žÊ5ž   B Œa  üa  „a  üa     ò
         Ê5žÊ5ž!«!       C   |          '                                  €  œb  Jc  ”b  Jc     !              Y   ×	]    ×]   ×]   ×]   ×]   ×]   × ]   ×#]   ×$]   ×%]	   ×&]
   ×']   ×(]   ××8^×j]   ×!]   ×"]   ™$•——	—	———
—	——————•——
—    tab   enter   shift	   ctrl   alt   escape   space   end	   home   arrowLeft   arrowUp   arrowRight   arrowDown   asterix   pageUp   pageDownŒ!«!ÿÿÿÿ              «+’Hš˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!%   core/modal_factoryŽ!«!   core/templatesŽ!«!   core/strŽ!«!#   core/notification    !«!       B Âc  ge  ºc  ge     u   `          a    b    c    d    e   B âc  ee  Úc  ee     •              f   B d  Nd  d  Nd     Ï          Ê5ž   B pd  ²d  hd  ²d     #           B ‰d  °d  d  °d     <         Ê5žÊ5ž   B Ád  ùd  ¹d  ùd     t         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!-   core/chart_output_base    !«!       B ¼e  4i  ´e  4i     R   0          a    b      c  Ìe  f  Âe  f     b         Ê5ž   B  Tf  f  Lf  f     ê          Ê5ž   B  ¯f  i  §f  i     E  2          b   B Àg  ÿg  ¸g  ÿg     V         Ê5žÊ5ž   B   i  1i  i  1i     ¶         Ê5žÊ5žŽ!«!      Ž!«!   core/configŽ!«!'   core/storagewrapper    !«!       C  6                                         €   ƒi  úi  {i  úi                    T Aš    5   ,  R ‰   Q[   ‚    ]   ‚   ]   ™VÒÉ•Ê!Ê%    window   sessionStorage   get   setŒ!«!ÿÿÿÿ      a   b   c       «+’H!«!          getB ¿i  Ói  ·i  Ói     ˆ          Ê5ž!«!          setB ài  øi  Øi  øi     ©          Ê5žŽ!«!       Ž!«!   get‹!«!Ž!«!   set‹!«!    š˜;øÊ5žŽ!«!      Ž!«!#   core/chart_seriesŽ!«!   core/chart_axis    !«!       B Gj  du  ?j  du     J   @          a    b    c      c  Wj  ¬j  Mj  ¬j     Z          Ê5ž   B ýk  ¨l  õk  ¨l        "       Ê5ž   B Äl  üm  ¼l  üm     Ç             e   B Gm  nm  ?m  nm     J         Ê5ž   B ‰m  ³m  m  ³m     Œ         Ê5ž   B Îm  øm  Æm  øm     Ñ         Ê5žÊ5ž   B n  o  n  o       "       Ê5ž   B  <o  [o  4o  [o     ?         Ê5ž   B  zo  ‘o  ro  ‘o     }         Ê5ž   B  °o  Ço  ¨o  Ço     ³         Ê5ž   B  åo  ûo  Ýo  ûo     è         Ê5ž   B  p  qp  p  qp              Ê5ž   B  p  ¥p  ‡p  ¥p     ’         Ê5ž   B Ãp  èp  »p  èp     Æ         Ê5ž   B  q  q  þp  q     	         Ê5ž   B :q  _q  2q  _q     =         Ê5ž   B †q  ¡q  ~q  ¡q     ‰         Ê5ž   B  Ãq  Çq  »q  Çq     Æ         Ê5ž   B æq  or  Þq  or     é         Ê5ž   B r  Ÿr  …r  Ÿr              Ê5ž   B ½r  s  µr  s     À         Ê5ž   B *s  ys  "s  ys     -	         Ê5ž   B œs  It  ”s  It     Ÿ	  "       Ê5ž   B nt  au  ft  au     q
         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/configŽ!«!   core/logŽ!«!   core/url    !«!       C  .                                             ²u  {  ªu  {                    B‰   Q‚    ‰   Q‚   ‰   Q[   ‚   ]    ™Y—Ë€  Ë€  „•Ê€  	   callŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g       «+’H!«!          fB Ïu  dw  Çu  dw     h   b          f   B Gw  `w  ?w  `w     à         Ê5žÊ5ž!«!          gB ow  èw  gw  èw       "       Ê5ž!«!       	   callC 5      (   ¼                        ;      €   ýw  {  õw  {         	          ˆ   š    : ¸   
=   ‚    ç QZ    W  QZ    W  QZ    W  Q=   W  Q=   T 'E   æQCU æQ=   T 'E   æQCU æQ>W   Q &  mT  V   7W  QV  ¸   
[   V   ]   V  5   ]   V  5   ]   ç QV  ˆ   ¸
   
:  6	   QV  ¸   
V  5	   ¸   
:  ç Q=   V  5   ÄE#   æQV  5	   ¸   
V  5   : æQ=   V  5   ÄE#   æQV  5	   ¸   
V  5   : æQV  V   6   QV  ¸   
V  5   ç QæV   #?W   QQãV   T  Ù   ÐþÿÿæV  Ù   ×#   æV  ¸   
:  ¸   
:     æV  Ù   =   æW  Qš   ¸   
V  : W  Q[   =   ]   V  ]   T  ]   =   ]   B]   T ]   =   ]   W  Q=   W  QT D   æQ=   W  æQˆ   5    =!   V  ="   ˆ   5#   =$   V  W  QT @   æˆ   ¸%   
V  V  : ¸   
ˆ   : ¸   
ˆ   ç ;   æV  ˆ   6&   QV  ˆ   6'   Qˆ   ¸%   
V  V  ç æQV  ™€ žã4ÊÊÊÊ	•Ò•Ò&€ &€ € 5–‘ÍÐÉÎÎÿÿÿØ”6ÐÉÛ“ÿÿÿù”•ë••ë•Î
ÙÿÿÿÎÿÿÿõÕ€ ÌÑè)ÐÈ•ÊÉÈ
Ê–ÈÏ ÊÕ!ö<;ÚçÏÏ
Ù”    window	   bind   beforeunload      undefined	   push   index   methodname	   args   deferred   Deferred   promise	   done	   fail   length	   sort	   join   -method-calls	   JSON   stringify	   POST	   type	   data   context	   json   dataType   processData   async!   application/json   contentType   service.php'   service-nologin.php   wwwroot   /lib/ajax/   ?sesskey=   sesskey   &info=	   ajax   success   errorŒ!«!ÿÿÿÿ      c   d   h   i   j   k   l   m   n   o   p   q    	   «+’H!«!          call/<b  +x  3x  #x  3x     Ä         Ê5žŽ!«!       Ž!«!   index‹!«!Ž!«!   methodname‹!«!Ž!«!	   args‹!«!    Ž!«!       Ž!«!	   type‹!«!Ž!«!	   data‹!«!Ž!«!   context‹!«!Ž!«!   dataType‹!«!Ž!«!   processData‹!«!Ž!«!   async‹!«!Ž!«!   contentType‹!«!    š˜;ø    …   5  Ê5žŽ!«!       Ž!«!	   call‹!«!    š˜;øÊ5žŽ!«!      Ž!«!#   core/notification    !«!       C  :                                            O{  š|  G{  š|                   [    ‰   Q‚   ‰   Q‚   W   Q[   V   ]    ˆ   ]   ™DËËÊ€ 
•ÉÊ    register   getŒ!«!ÿÿÿÿ      a   b   c   d      «+’HŽ!«!            !«!          cC                                            €  f{  v{  ^{  v{     S              ˆ   T  7™WÉ Œ!«!ÿÿÿÿ      a        «+’Hš˜;ø       Ê5ž!«!          dC Ã       	   0                               €  {  €|  y{  €|     n              ˆ   T  : E/   æQˆ   ¸    
[    =   T  =   ]   : æQT E   æQ=   T 'æD%   æQˆ   ¸    
[   =   ]   : æQT D%   æQˆ   ¸    
[   =   ]   : æQˆ   T  [   T ]   T ]   8Q™väÔÿÿÿó•FÏÞÊÿÿÿó•9ÛÊÿÿÿó•;ÍÈ	Ê    exception!   Modal of  type '/   ' is already registered   message   function?   You must provide a modal moduleC   You must provide a modal template   module   templateŒ!«!ÿÿÿÿ      d   e   f        «+’HŽ!«!       Ž!«!   message‹!«!    Ž!«!       Ž!«!   message‹!«!    Ž!«!       Ž!«!   message‹!«!    Ž!«!       Ž!«!   module‹!«!Ž!«!   template‹!«!    š˜;ø       Ê5žŽ!«!       Ž!«!   register‹!«!Ž!«!   get‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jquery    !«!       C  L                                            Ë|  Ú}  Ã|  Ú}                   ‚    W   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6   QV   ™6ÊÔ1Ô`Ô^”    prototype	   init   renderIcon   getTemplateNameŒ!«!ÿÿÿÿ      a   b      «+’H!«!          bB  Ý|  á|  Õ|  á|     @          Ê5ž!«!       !   b.prototype.initb  }  }  ú|  }     e          Ê5ž!«!       -   b.prototype.renderIconb 9}  y}  1}  y}     œ          Ê5ž!«!       7   b.prototype.getTemplateNameb  ž}  ×}  –}  ×}              Ê5žš˜;øÊ5žŽ!«!      Ž!«!   jquery    !«!       C  6                                         €   ~  ~  ý}  ~                    T  š    : ¸   
=   ‚    : ¸   
=   ‚   ç Q™,õw    document	   bind   ajaxStart   ajaxStopŒ!«!ÿÿÿÿ      a        «+’H!«!        C                                              €  .~  I~  &~  I~     Q              š    5   ¸   
=   ç Q™TÚ    M	   util   js_pending   jqŒ!«!ÿÿÿÿ              «+’Hš˜;ø       Ê5ž!«!       B  c~  ~  [~  ~     †          Ê5žš˜;øÊ5žŽ!«!      Ž!«!   core/chart_base    !«!       B ¹~  «  ±~  «     5              a      b  Ç~  ø~  ½~  ø~     C         Ê5ž   B ‹  ÿ  ƒ  ÿ              Ê5ž   B  !€  y€  €  y€             Ê5ž   B  œ€  ·€  ”€  ·€              Ê5ž   B  ×€  ï€  Ï€  ï€     S         Ê5ž   B   k  
  k     Ž         Ê5ž   B ‹  ¨  ƒ  ¨              Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!3   core/paged_content_eventsŽ!«!   core/pubsub    !«!       B 9‚  ­‡  1‚  ­‡     ‹   ð   
       a    b    c    d    e    f    g    h    i    j    k    l    m    n   B @ƒ  sƒ  8ƒ  sƒ     ’         Ê5ž   B ~ƒ  ¡ƒ  vƒ  ¡ƒ     Ð         Ê5ž   B ¬ƒ  ñƒ  ¤ƒ  ñƒ     þ             d   B Øƒ  ïƒ  Ðƒ  ïƒ     *         Ê5žÊ5ž   B üƒ  .„  ôƒ  .„     N         Ê5ž   B 9„  Þ„  1„  Þ„     ‹             d   B ­„  Â„  ¥„  Â„     ÿ         Ê5žÊ5ž   B é„  …  á„  …     ;         Ê5ž   B …  €…  …  €…     p             b   B 9…  x…  1…  x…     ‹         Ê5žÊ5ž   B ‹…  Ì…  ƒ…  Ì…     Ý           B ž…  Ê…  –…  Ê…     ð         Ê5žÊ5ž   B ×…  —†  Ï…  —†     )         Ê5ž   B ¢†  ‰‡  š†  ‰‡     ô  0          c    d   B ,‡  ‡‡  $‡  ‡‡     ~         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       C  d          '                                  Ü‡  MŠ  Ô‡  MŠ                   [    =    ]   ‰   Q[   =   ]   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q[   V   ]   ˆ   ]   ™4•Ð•Ð!Ë€  ÆË€  ¾Ê€  Š•ÉÊ	 !   [data-auto-rows]   ELEMENT%   autorows:rowchange   ROW_CHANGE	   init   eventsŒ!«!ÿÿÿÿ      a   b   c   d   e   f      «+’HŽ!«!       Ž!«!   ELEMENT‹!«!    Ž!«!       Ž!«!   ROW_CHANGE‹!«!    !«!          dB 1ˆ  ìˆ  )ˆ  ìˆ               Ê5ž!«!          eB ÷ˆ  ª‰  ïˆ  ª‰     G         Ê5ž!«!          fB µ‰  4Š  ­‰  4Š              Ê5žŽ!«!       Ž!«!	   init‹!«!Ž!«!   events‹!«!    š˜;øÊ5ž!«!       C  ¸      	   &                               €  YŠ  ‹  QŠ  ‹     	              G=    š   'E$   æQš   E   æQ=   š   5   Äæ   æT š   ç q   æ=   š   'E   æQš   5   æ/   æš      =   Z   =   `    T ç #   æT  [    6   QT T  5   ç æQ™‘•
ß#ÍÏÎÙ*Ú3ÍÿÿÿçÉ(ÎÑ    object   exports   string   nodeName   function   define   amd   core/mustache   MustacheŒ!«!ÿÿÿÿ      a   b        «+’HŽ!«!            š˜;ø      Ê5ž!«!       C  ä      7   Ì       -                  3         (‹  ñ¢   ‹  ñ¢                   ‚    ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ 	  Q‚   W  Q‚   ‰   Q‚   ‰   Q‚	   ‰   Q‚
   ‰   Q‚   ‰   Q‚   W   Qš    5   5   ‰   Qš   5   D   æQ‚   æ‰   Qš   5   5   ‰ 
  Q    ‰   Q[   =   ]   =	   ]
   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   ‰   Q    ‰   Q    ‰   Q    ‰   Q    ‰   Q    ‰   Qˆ   5   ‚   6   Qˆ   5   ‚   6   Qˆ   5   ‚   6   Qˆ   5   ‚   6   Qˆ   5   ‚   6   Qˆ   5   ‚   6   Qˆ   5   ‚   6   Qˆ   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6    QV   5   ‚   6!   QV   5   ‚    6"   QV   5   ‚!   6#   QV   5   ‚"   6$   QV   5   ‚#   6%   QV   5   ‚$   6&   QV   5   ‚%   6'   QV   5   ‚&   6(   QV   5   ‚'   6)   QV   5   ‚(   6*   Qˆ   =,   6+   Qˆ   =.   6-   Qˆ   Z   =0   `    =1   `   6/   QV   A,  R  ‰   Qˆ   ‚)   6   Qˆ   ‚*   6    Qˆ   ‚+   6!   Qˆ   ‚,   62   Qˆ   V  63   Qˆ   ˆ   64   Qˆ   ˆ   65   Qˆ   V   66   Qˆ   ™ÿÿÏ€ ÝÕÝAÕË•ÊÊÊÊÊÊÊÐËËË	Ë
ËÕ1Õ€  ¢Õ€  áÕ3ÕIÕ6Õ€  ‰Õ€ FÔ1ÔuÔvÔ€ ´Ô€ Ô€  ‚Ô€  ŠÔ€  ÐÔ€  ÅÔSÔ[Ô.ÐÐÊÊÐ
ÉÉÐ/Ð+Ð€  ëÐKÏÐÐÏ•    Object   prototype   toString   Array   isArray   RegExp	   test   &amp;   &	   &lt;   <	   &gt;   >   &quot;   "   &#39;   '   &#x2F;   /   &#x60;   `   &#x3D;   =   eos	   scan   scanUntil	   push   setBlockVar   clearBlockVars   getBlockVar   lookup   clearCache   parse   render   renderTokens   renderSection   renderInverted   renderPartial   renderBlock'   renderBlockVariable   unescapedValue   escapedValue   rawValue	   name   mustache.js   version   2.3.0	   tags   {{   }}   to_html   escape   Scanner   Context   WriterŒ!«!ÿÿÿÿ      a   w   o   y   i   s   m   g   q   k   e   l   x   v   p   t   n   h   r   u   f   j   d   b   c      «+’H!«!          b 6‹  U‹  ,‹  U‹     æ          Ê5ž!«!          c _‹  €‹  U‹  €‹              Ê5ž!«!          d Š‹  Å‹  €‹  Å‹     :         Ê5ž!«!          e Ï‹   Œ  Å‹   Œ              Ê5ž!«!          f 
Œ  #Œ   Œ  #Œ     º         Ê5ž!«!          g -Œ  ?Œ  #Œ  ?Œ     Ý         Ê5ž!«!          h IŒ  Œ  ?Œ  Œ     ù           B }Œ  Œ  uŒ  Œ     -         Ê5žÊ5ž!«!          i ™Œ  ‘  Œ  ‘     I             h    i    m    o    q    r    s      e  ©Œ  êŒ  ŸŒ  êŒ     Y         Ê5ž      f ôŒ  ³  êŒ  ³     ¤         Ê5žÊ5ž!«!          j ‘  “‘  ‘  “‘     »         Ê5ž!«!          k ‘  ‡’  “‘  ‡’     M          Ê5ž!«!          l ‘’  º’  ‡’  º’     A         Ê5ž!«!          m Ä’  “  º’  “     t         Ê5ž!«!          n            	                                 € “  )“  “  )“     È            ¹W   QV   [    6    Q™–€ ËÏ    cacheŒ!«!ÿÿÿÿ      .this         «+’HŽ!«!            š˜;ø       Ê5ž!«!          p<b b“  ‰“  Z“  ‰“     	         Ê5žŒ!«!   \S    Ž!«!       Ž!«!   &‹!«!Ž!«!   <‹!«!Ž!«!   >‹!«!Ž!«!   "‹!«!Ž!«!   '‹!«!Ž!«!   /‹!«!Ž!«!   `‹!«!Ž!«!   =‹!«!    Œ!«!   \s*    Œ!«!   \s+    Œ!«!	   \s*=    Œ!«!   \s*\}    Œ!«!/   #|\^|\/|>|\{|&|=|!|\$|<    !«!          l.prototype.eosb  f”  ~”  ^”  ~”     
         Ê5ž!«!       !   l.prototype.scanb ˜”   •  ”   •     H
         Ê5ž!«!       +   l.prototype.scanUntilb ?•  –  7•  –     ï
  "       Ê5ž!«!       !   m.prototype.pushb –  4–  –  4–     Ë         Ê5ž!«!       /   m.prototype.setBlockVarb U–  }–  M–  }–              Ê5ž!«!       5   m.prototype.clearBlockVarsb  ¡–  ³–  ™–  ³–     Q         Ê5ž!«!       /   m.prototype.getBlockVarb Ô–  <—  Ì–  <—     „         Ê5ž!«!       %   m.prototype.lookupb X—  ‚˜  P—  ‚˜       2       Ê5ž!«!       -   n.prototype.clearCacheb  ¢˜  ³˜  š˜  ³˜     R         Ê5ž!«!       #   n.prototype.parseb Î˜  (™  Æ˜  (™     ~         Ê5ž!«!       %   n.prototype.renderb D™  ž™  <™  ž™     ô         Ê5ž!«!       1   n.prototype.renderTokensb À™  R›  ¸™  R›     p         Ê5ž!«!       3   n.prototype.renderSectionb u›  f  m›  f     %  b          c    d    g      f ‰›  ¤›  ›  ¤›     9         Ê5žÊ5ž!«!       5   n.prototype.renderInvertedb Š  è  ‚  è     :         Ê5ž!«!       3   n.prototype.renderPartialb ž  rž  ž  rž     »  "       Ê5ž!«!       /   n.prototype.renderBlockb “ž  BŸ  ‹ž  BŸ     C  "       Ê5ž!«!       ?   n.prototype.renderBlockVariableb kŸ     cŸ                 Ê5ž!«!       5   n.prototype.unescapedValueb +   Z   #   Z      Û         Ê5ž!«!       1   n.prototype.escapedValueb |   µ   t   µ      ,         Ê5ž!«!       )   n.prototype.rawValueb Ó   ã   Ë   ã      ƒ         Ê5ž!«!          a.clearCacheb  F¡  _¡  >¡  _¡     ö         Ê5ž!«!          a.parseb p¡  Š¡  h¡  Š¡               Ê5ž!«!          a.renderb œ¡  u¢  ”¡  u¢     L         Ê5ž!«!          a.to_htmlb ˆ¢  À¢  €¢  À¢     8         Ê5žš˜;øÊ5žŽ!«!      Ž!«!   jquery    !«!       B £  ç¨  £  ç¨     *              a   B 0£  ¥  (£  ¥     <            B p£  ¥  h£  ¥     |   2       Ê5žÊ5ž   B d¥  Ý¦  \¥  Ý¦     p  0       Ê5ž   B ÿ¦  †§  ÷¦  †§               Ê5ž   B ¨§  Á§   §  Á§     ´         Ê5ž   B å§  ¨  Ý§  ¨     ñ         Ê5ž   B 1¨  J¨  )¨  J¨     =         Ê5ž   B o¨  ª¨  g¨  ª¨     {         Ê5ž   B Ë¨  ä¨  Ã¨  ä¨     ×         Ê5žÊ5žŽ!«!      Ž!«!3   core/chart_output_chartjs    !«!       B ,©  A©  $©  A©     B          Ê5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!#   core/modal_eventsŽ!«!-   core/modal_save_cancelŽ!«!   core/log    !«!       C  F                                            Í©  Éª  Å©  Éª                   ‚    W   QV   š   ¸   
ˆ   5    : 6    QV   5    V   6   QV   ™€  ™Ê€  ¢ÚÉÓ”    prototype   Object   create   constructorŒ!«!ÿÿÿÿ      a   b   c   d   e   f      «+’H!«!          fB ç©  ~ª  ß©  ~ª     £          Ê5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/logŽ!«!   core/strŽ!«!   core/templatesŽ!«!#   core/notification    !«!       B ;«  WÔ  3«  WÔ     o   €         a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u    v    w   B –«   ­  Ž«   ­     Ê          Ê5ž   B ­  Õ¯  ­  Õ¯     ?  `          c    g    i    j    l   B ®  ›®  ®  ›®     K          Ê5ž   B þ®  Ž¯  ö®  Ž¯     2           B `¯  Š¯  X¯  Š¯     ”         Ê5žÊ5ž   B  ¯  ½¯  •¯  ½¯     Ñ         Ê5žÊ5ž   B à¯  I°  Ø¯  I°              Ê5ž   B T°  5±  L°  5±     ˆ  0          e    f   B ±°  ±  ©°  ±     å         Ê5ž   B  +±  3±  #±  3±     _         Ê5žÊ5ž   B @±  =³  8±  =³     t         Ê5ž   B H³  à³  @³  à³     |         Ê5ž   B ë³  ¢´  ã³  ¢´     	         Ê5ž   B ­´  [µ  ¥´  [µ     á	         Ê5ž   B fµ  þµ  ^µ  þµ     š
         Ê5ž   B 	¶  ì¶  ¶  ì¶     =         Ê5ž   B ÷¶  öº  ï¶  öº     +             b    f    h    i    j    k    m    n    o   B Ó·  0¸  Ë·  0¸              Ê5ž   B ¼¸  ¦º  ´¸  ¦º     ð           B F¹   º  >¹   º     z         Ê5ž   B ”º  ¢º  Œº  ¢º     È         Ê5žÊ5ž   B  µº  Õº  ­º  Õº     é         Ê5žÊ5ž   B »  ½  ùº  ½     5  `          b    c    d    e    h   B k»  ¬¼  c»  ¬¼     Ÿ  0          e   B ß»  ¼  ×»  ¼              Ê5žÊ5ž   B  Ä¼  Ì¼  ¼¼  Ì¼     ø         Ê5ž   B  Û¼  è¼  Ó¼  è¼              Ê5ž   B  ÷¼  ½  ï¼  ½     +         Ê5žÊ5ž   B ½  Å¾  ½  Å¾     G  `          b    c    d    e    g   B ¾  A¾  ¾  A¾     ?         Ê5ž   B  Y¾  a¾  Q¾  a¾              Ê5ž   B  p¾  Ã¾  h¾  Ã¾     ¤         Ê5žÊ5ž   B Ð¾  Á  È¾  Á       `          c    d    e    f    g   B 5¿  Á  -¿  Á     i  0          i   B ˆ¿  Ó¿  €¿  Ó¿     ¼         Ê5ž   B BÀ  ·À  :À  ·À     v          Ê5žÊ5ž   B Á  Á  Á  Á     ?         Ê5žÊ5ž   B *Á  åÌ  "Á  åÌ     ^  `   	       b    c    d    g   B xÁ  ;Ä  pÁ  ;Ä     ¬  @          e    h   B AÂ  ]Â  9Â  ]Â     u         Ê5žÊ5ž   B UÄ  ÀÄ  MÄ  ÀÄ     ‰         Ê5ž   B  ÖÄ  ÊÅ  ÎÄ  ÊÅ     
             e   B  Å  ÄÅ  Å  ÄÅ     I           B  lÅ  Å  dÅ  Å               Ê5ž   B  ›Å  ªÅ  “Å  ªÅ     Ï         Ê5žÊ5žÊ5ž   B $Æ  ÄÆ  Æ  ÄÆ     X  0          a    e   B ŠÆ  ¦Æ  ‚Æ  ¦Æ     ¾         Ê5žÊ5ž   B SÇ  ]È  KÇ  ]È     ‡             f   B  È  +È  È  +È     L         Ê5ž   B  :È  PÈ  2È  PÈ     n         Ê5žÊ5ž   B ¶È  É  ®È  É     ê         Ê5ž   B É  •Ê  É  •Ê     R          Ê5ž   B ËÊ  FÌ  ÃÊ  FÌ     ÿ  p          a    f    h    i    j    k   B Ë  ‰Ë  Ë  ‰Ë     ?            B  5Ë  qË  -Ë  qË     i          Ê5žÊ5ž   B ”Ë  5Ì  ŒË  5Ì     È          Ê5žÊ5ž   B ]Ì  âÌ  UÌ  âÌ     ‘!         Ê5žÊ5ž   B ðÌ  –Í  èÌ  –Í     $"             c   B  OÍ  |Í  GÍ  |Í     ƒ"         Ê5žÊ5ž   B ®Í  UÔ  ¦Í  UÔ     â"  €   	       p    q    r    s    t    u    x   B ;Ï  UÏ  3Ï  UÏ     o$         Ê5ž   B Ñ  ¹Ñ  yÑ  ¹Ñ     µ&         Ê5ž   B ,Ò  @Ò  $Ò  @Ò     `'         Ê5ž   B ‚Ò  –Ò  zÒ  –Ò     ¶'         Ê5ž   B ÖÒ  êÒ  ÎÒ  êÒ     
(         Ê5ž   B Ó  ÆÓ  Ó  ÆÓ     B(         Ê5ž   B  ÕÓ  èÓ  ÍÓ  èÓ     	)         Ê5ž   B  ÷Ó  Ô  ïÓ  Ô     +)         Ê5ž   B *Ô  SÔ  "Ô  SÔ     ^)         Ê5žÊ5žÊ5ž!«!       C                                              €  uÔ  Ô  mÔ  Ô                   š    ™•    YŒ!«!ÿÿÿÿ              «+’Hš˜;ø      Ê5žŽ!«!      Ž!«!   jquery    !«!       B ¸Ô  4Õ  °Ô  4Õ      4              a      b ÆÔ  êÔ  ¼Ô  êÔ      B          Ê5ž   B  Õ  1Õ  Õ  1Õ      ˆ          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!=   core/custom_interaction_events    !«!       C  Ý         {                                  ŸÕ  ²ç  —Õ  ²ç  !                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   ‰   Q‚   W   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚	   6   QV   5
   ‚
   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   5
   ‚   6   QV   ™t•Ê"Ê6Ê+Ê%Ð_Ê€ `Ô€  ÅÔIÔ7ÔJÔVÔ€  ÿÔ€ RÔ€ 
Ô€  ÈÔ€  ÊÔ@Ô[Ô€  ÔzÔjÔhÔ€  †Ô€  ŠÔ€ Ô€ #” /   .popover-region-content   CONTENTC   .popover-region-content-container#   CONTENT_CONTAINER3   .popover-region-container   MENU_CONTAINER-   .popover-region-toggle   MENU_TOGGLE“   input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]#   CAN_RECEIVE_FOCUS   prototype   events'   getContentContainer   getContent   isMenuOpen   toggleMenu   closeMenu   openMenu+   updateButtonAriaLabel   startLoading   stopLoading   focusMenuToggle'   contentItemHasFocus/   getContentItemWithFocus!   focusContentItem+   focusFirstContentItem)   focusLastContentItem)   focusNextContentItem1   focusPreviousContentItem5   registerBaseEventListenersI   registerListNavigationEventListenersŒ!«!ÿÿÿÿ      a   b   c   d   e      «+’HŽ!«!       Ž!«!   CONTENT‹!«!Ž!«!#   CONTENT_CONTAINER‹!«!Ž!«!   MENU_CONTAINER‹!«!Ž!«!   MENU_TOGGLE‹!«!Ž!«!#   CAN_RECEIVE_FOCUS‹!«!    !«!          eC 
        9                               € ¿Ö  Ø  ·Ö  Ø  !   ˆ            ¹W   QV   ˆ   T  : 6    QV   V   5    ¸   
ˆ   5   : 6   QV   V   5    ¸   
ˆ   5   : 6   QV   V   5    ¸   
ˆ   5   : 6   QV   V   5    ¸   
ˆ   5	   : 6   QV   B6
   QV   [    ˆ   ¸   
:  ]   ˆ   ¸   
:  ]   6   QV   ¸   
ç  Q™–€ ŒÍ
ÉÞÉÞÉ$ÞÉ!ÞÉËÉÌÈÌÎÏ! 	   root   content	   find   CONTENT!   contentContainer#   CONTENT_CONTAINER   menuContainer   MENU_CONTAINER   menuToggle   MENU_TOGGLE   isLoading   promises   Deferred   closeHandlers%   navigationHandlers5   registerBaseEventListenersŒ!«!ÿÿÿÿ      b   .this       «+’HŽ!«!       Ž!«!   closeHandlers‹!«!Ž!«!%   navigationHandlers‹!«!    š˜;ø       Ê5ž!«!       %   e.prototype.eventsc   /                                           €  7Ø  àØ  /Ø  àØ  !                 [    =    ]   =   ]   =   ]   =   ]   ™€ •Ê&Ê&Ê*Ê( 1   popoverregion:menuopened   menuOpened1   popoverregion:menuclosed   menuClosed5   popoverregion:startLoading   startLoading3   popoverregion:stopLoading   stopLoadingŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!   menuOpened‹!«!Ž!«!   menuClosed‹!«!Ž!«!   startLoading‹!«!Ž!«!   stopLoading‹!«!    š˜;ø       Ê5ž!«!       ?   e.prototype.getContentContainerc            	                                 € 	Ù  )Ù  Ù  )Ù  !   Ò            ¹W   QV   5    ™–€ ÕÉ !   contentContainerŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       -   e.prototype.getContentb  IÙ  `Ù  AÙ  `Ù  !            Ê5ž!«!       -   e.prototype.isMenuOpenb  €Ù  ªÙ  xÙ  ªÙ  !   I         Ê5ž!«!       -   e.prototype.toggleMenub  ÊÙ   Ú  ÂÙ   Ú  !   “         Ê5ž!«!       +   e.prototype.closeMenub  Ú  ÿÚ  Ú  ÿÚ  !   è         Ê5ž!«!       )   e.prototype.openMenub  Û  QÜ  Û  QÜ  !   æ         Ê5ž!«!       C   e.prototype.updateButtonAriaLabelb  |Ü  [Ý  tÜ  [Ý  !   E           B ÀÜ  éÜ  ¸Ü  éÜ  !   ‰         Ê5ž   B %Ý  NÝ  Ý  NÝ  !   î         Ê5žÊ5ž!«!       1   e.prototype.startLoadingb  }Ý  #Þ  uÝ  #Þ  !   F         Ê5ž!«!       /   e.prototype.stopLoadingb  DÞ  íÞ  <Þ  íÞ  !   	         Ê5ž!«!       7   e.prototype.focusMenuToggleb  ß  -ß  
ß  -ß  !   Û	         Ê5ž!«!       ?   e.prototype.contentItemHasFocusb  Vß  ˆß  Nß  ˆß  !   
         Ê5ž!«!       G   e.prototype.getContentItemWithFocusb  µß  %à  ­ß  %à  !   ~
         Ê5ž!«!       9   e.prototype.focusContentItemb Kà  Ÿà  Cà  Ÿà  !            Ê5ž!«!       C   e.prototype.focusFirstContentItemb  Êà  	á  Âà  	á  !   “         Ê5ž!«!       A   e.prototype.focusLastContentItemb  3á  qá  +á  qá  !   ü         Ê5ž!«!       A   e.prototype.focusNextContentItemb  ›á  ÷á  “á  ÷á  !   d         Ê5ž!«!       I   e.prototype.focusPreviousContentItemb  %â  â  â  â  !   î         Ê5ž!«!       M   e.prototype.registerBaseEventListenersc   ¹         +                                €  ±â  Œä  ©â  Œä  !                 ¹W   Qˆ   ¸    
V   5   Z   ˆ   5   5   `    ˆ   5   5   `   ç QV   5   ¸   
ˆ   5   5   ˆ   5   ‚    ¸   
V   : ç QV   5   5	   ¸
   
‚   ¸   
V   : ç Q™–€ }ÚÔÔÿÿÿÚ”8ù-“ÿÿÿÓ”Wå!“ÿÿÿß”€ H    define	   root   events   activate   escape   on   MENU_TOGGLE	   bind   promises   closeHandlers	   doneŒ!«!ÿÿÿÿ      .this         «+’H!«!       Q   e.prototype.registerBaseEventListeners/<c            	                                 € !ã  6ã  ã  6ã  !   ê            ¹W   QV   ¸    
ç  Q™–€ íÏ    toggleMenuŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       Q   e.prototype.registerBaseEventListeners/<c          
   (                                €  lã  ä  dã  ä  !                 ¹W   QV   5    ¸   
ˆ   5   5   ‚    ¸   
V   : ç Qˆ   =   : ¸   
‚   ¸   
V   : ç Qˆ   ¸   
V   ¸   
:  Z   ˆ   5   5	   `    ç Q™–€ 8ï“ÿÿÿã”]å“ÿÿÿð”v×	ÈÔÿÿÿÛ”< 	   root   on   events   escape	   bind	   html   click   define'   getContentContainer   scrollBottomŒ!«!ÿÿÿÿ      .this         «+’H!«!       U   e.prototype.registerBaseEventListeners/</<b  ”ã  ¿ã  Œã  ¿ã  !   ]         Ê5ž!«!       U   e.prototype.registerBaseEventListeners/</<b äã  5ä  Üã  5ä  !   ­         Ê5žš˜;øÊ5žš˜;øÊ5ž!«!       a   e.prototype.registerListNavigationEventListenersc   ›      	   +                                €  Æä  ¯ç  ¾ä  ¯ç  !                 ¹W   Qˆ   ¸    
V   5   Z   ˆ   5   5   `    ç QV   5   ¸   
ˆ   5   5   ‚    ¸   
V   : ç QV   5   5   ¸   
‚   ¸   
V   : ç Q™–€ ’ÚÔÿÿÿì”$ï“ÿÿÿå”€  ìå&“ÿÿÿÚ”€ Õ    define	   root   events	   down   on	   bind   promises%   navigationHandlers	   doneŒ!«!ÿÿÿÿ      .this         «+’H!«!       e   e.prototype.registerListNavigationEventListeners/<c  Š                                          € å  Ìå  å  Ìå  !   Ù            ¹W   QV   ¸    
:  B   æV   ¸   
:     æV   ¸   
ç     æV   ¸   
ç  æ#   æV   ¸   
ç  QV   ¸   
ç  æQT 5   ¸   
ç  Q™–€ ßÎ=ÑÑÔÊÏÐÓ     isMenuOpen'   contentItemHasFocus)   focusNextContentItem+   focusFirstContentItem   openMenu   originalEvent   preventDefaultŒ!«!ÿÿÿÿ      a   b   .this       «+’Hš˜;ø       Ê5ž!«!       e   e.prototype.registerListNavigationEventListeners/<c           5                         %       €  æ  ¢ç  ÿå  ¢ç  !                 ¹W   Qˆ   ¸    
V   5   Z   ˆ   5   5   `    ˆ   5   5   `   ˆ   5   5   `   ç QV   5   ¸   
ˆ   5   5   ‚    ¸   
V   : ç QV   5   ¸   
ˆ   5   5   ‚   ¸   
V   : ç QV   5   ¸   
ˆ   5   5   ‚   ¸   
V   : ç Q™–€ ÓÚÔÔÔÿÿÿÒ”=ï“ÿÿÿç”uï“ÿÿÿå”tï“ÿÿÿæ”q    define	   root   events   up	   home   end   on	   bindŒ!«!ÿÿÿÿ      .this         «+’H!«!       i   e.prototype.registerListNavigationEventListeners/</<b hæ  ¯æ  `æ  ¯æ  !   1         Ê5ž!«!       i   e.prototype.registerListNavigationEventListeners/</<b ßæ  #ç  ×æ  #ç  !   ¨         Ê5ž!«!       i   e.prototype.registerListNavigationEventListeners/</<b Rç  •ç  Jç  •ç  !            Ê5žš˜;øÊ5žš˜;øÊ5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notification    !«!       C  Å          0       
                           è  õë  è  õë  "                 [    =    ]   ‰   Q‚   W   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6	   QV   5   ‚	   6
   QV   ™b•Ð'Ê€  €Ô1ÔfÔ>ÔDÔNÔ€  „Ô€ Ô3” =   [data-region="modal-backdrop"]	   ROOT   prototype   getRoot   attachToDOM   setZIndex   isVisible   hasTransitions	   show	   hide   destroyŒ!«!ÿÿÿÿ      a   b   c   d   e      «+’HŽ!«!       Ž!«!	   ROOT‹!«!    !«!          eB Kè  Àè  Cè  Àè  "   –          Ê5ž!«!       '   e.prototype.getRootb  äè  øè  Üè  øè  "   /         Ê5ž!«!       /   e.prototype.attachToDOMb  é  ^é  é  ^é  "   d         Ê5ž!«!       +   e.prototype.setZIndexb }é  œé  ué  œé  "   È         Ê5ž!«!       +   e.prototype.isVisibleb  »é  àé  ³é  àé  "            Ê5ž!«!       5   e.prototype.hasTransitionsb  ê  .ê  üé  .ê  "   O         Ê5ž!«!       !   e.prototype.showb  Hê  ²ê  @ê  ²ê  "   “         Ê5ž!«!       !   e.prototype.hideb  Ìê  ¿ë  Äê  ¿ë  "              B  Fë  }ë  >ë  }ë  "   ‘         Ê5žÊ5ž!«!       '   e.prototype.destroyb  Üë  òë  Ôë  òë  "   '         Ê5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/key_codesŽ!«!=   core/custom_interaction_eventsŽ!«!'   core/modal_backdropŽ!«!   core/eventŽ!«!#   core/modal_events    !«!       C        :   Ã       "                           ®ì  ø ¦ì  ø #                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   ‰   Q[   =   ]   =   ]   ‰   Q>‰   Q‚   W   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6    QV   5   ‚	   6!   QV   5   ‚
   6"   QV   5   ‚   6#   QV   5   ‚   6$   QV   5   ‚   6%   QV   5   ‚   6&   QV   5   ‚   6'   QV   5   ‚   6(   QV   5   ‚   6)   QV   5   ‚   6*   QV   5   ‚   6+   QV   5   ‚   6,   QV   5   ‚   6-   QV   5   ‚   6.   QV   5   ‚   6/   QV   5   ‚   60   QV   5   ‚   61   QV   5   ‚   62   QV   5   ‚   63   QV   5   ‚   64   QV   5   ‚   65   QV   5   ‚   66   QV   5   ‚   67   QV   5   ‚    68   QV   5   ‚!   69   QV   ™€  Ì•Ê,ÊÊ ÊÊÊ ÊÊÊÊ!Ð_•ÊÐ —Ê€ 1Ô€  æÔ€  ®Ô€  ŒÔ1Ô3Ô3Ô1Ô5Ô=ÔXÔ€ mÔ€ ÔTÔGÔJÔVÔLÔYÔLÔ€  èÔDÔqÔNÔ€ ¿Ô€ 	ÔWÔ€ &Ô€ Ô€ Ô€ êÔ€  ¬” ?   [data-region="modal-container"]   CONTAINER+   [data-region="modal"]   MODAL-   [data-region="header"]   HEADER+   [data-region="title"]   TITLE)   [data-region="body"]	   BODY-   [data-region="footer"]   FOOTER)   [data-action="hide"]	   HIDE   [role=dialog]   DIALOG   [role=menubar]   MENU_BAR%   .moodle-has-zindex   HAS_Z_INDEX“   input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]#   CAN_RECEIVE_FOCUS   core/loading   LOADING'   core/modal_backdrop   BACKDROP   prototype   attachToDOM/   countOtherVisibleModals   getBackdrop   getRoot   getModal   getTitle   getBody   getFooter   getModalCount   setTitle   setBody   setFooter!   hasFooterContent   hideFooter   showFooter   setLarge   isLarge   setSmall   isSmall   calculateZIndex   isVisible   hasFocus   hasTransitions	   show	   hide   destroy#   accessibilityShow#   accessibilityHide   handleTabLock-   registerEventListeners   asyncSetŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m      «+’HŽ!«!       Ž!«!   CONTAINER‹!«!Ž!«!   MODAL‹!«!Ž!«!   HEADER‹!«!Ž!«!   TITLE‹!«!Ž!«!	   BODY‹!«!Ž!«!   FOOTER‹!«!Ž!«!	   HIDE‹!«!Ž!«!   DIALOG‹!«!Ž!«!   MENU_BAR‹!«!Ž!«!   HAS_Z_INDEX‹!«!Ž!«!#   CAN_RECEIVE_FOCUS‹!«!    Ž!«!       Ž!«!   LOADING‹!«!Ž!«!   BACKDROP‹!«!    !«!          mB ¢î  Èñ  šî  Èñ  #   ª         Ê5ž!«!       /   m.prototype.attachToDOMb  ðñ  µò  èñ  µò  #   ø         Ê5ž!«!       G   m.prototype.countOtherVisibleModalsb  âò  có  Úò  có  #   ê  "          b   B ó  Tó  ó  Tó  #   %         Ê5žÊ5ž!«!       /   m.prototype.getBackdropb  „ó  ïó  |ó  ïó  #   Œ           B ¹ó  Øó  ±ó  Øó  #   Á         Ê5žÊ5ž!«!       '   m.prototype.getRootb  ô   ô  ô   ô  #            Ê5ž!«!       )   m.prototype.getModalb  >ô  Sô  6ô  Sô  #   F         Ê5ž!«!       )   m.prototype.getTitleb  qô  †ô  iô  †ô  #   y         Ê5ž!«!       '   m.prototype.getBodyb  £ô  ·ô  ›ô  ·ô  #   «         Ê5ž!«!       +   m.prototype.getFooterb  Öô  ìô  Îô  ìô  #   Þ         Ê5ž!«!       3   m.prototype.getModalCountb  õ  )õ  õ  )õ  #   	         Ê5ž!«!       )   m.prototype.setTitleb Gõ  õ  ?õ  õ  #   O	         Ê5ž!«!       '   m.prototype.setBodyb žõ  îù  –õ  îù  #   ¦	  b          d    e    f   B '÷  r÷  ÷  r÷  #   /         Ê5ž   B ÷  ¥÷  y÷  ¥÷  #   ‰         Ê5ž   B  ´÷  À÷  ¬÷  À÷  #   ¼         Ê5ž   B Ú÷  Vù  Ò÷  Vù  #   â  "       Ê5ž   B  „ù  Ùù  |ù  Ùù  #   Œ         Ê5žÊ5ž!«!       +   m.prototype.setFooterb ú  úú  ú  úú  #     2          a    c   B {ú  íú  sú  íú  #   ƒ           B ˜ú  àú  ú  àú  #             Ê5žÊ5žÊ5ž!«!       9   m.prototype.hasFooterContentb   û  Nû  û  Nû  #   (         Ê5ž!«!       -   m.prototype.hideFooterb  nû  •û  fû  •û  #   v         Ê5ž!«!       -   m.prototype.showFooterb  µû  ßû  ­û  ßû  #   ½         Ê5ž!«!       )   m.prototype.setLargeb  ýû  5ü  õû  5ü  #            Ê5ž!«!       '   m.prototype.isLargeb  Rü  ü  Jü  ü  #   Z         Ê5ž!«!       )   m.prototype.setSmallb  Ÿü  Úü  —ü  Úü  #   §         Ê5ž!«!       '   m.prototype.isSmallb  ÷ü  &ý  ïü  &ý  #   ÿ         Ê5ž!«!       7   m.prototype.calculateZIndexb  Ký  þ  Cý  þ  #   S  "          c   B ¾ý  
þ  ¶ý  
þ  #   Æ         Ê5žÊ5ž!«!       +   m.prototype.isVisibleb  -þ  Rþ  %þ  Rþ  #   5         Ê5ž!«!       )   m.prototype.hasFocusb  pþ  Ãþ  hþ  Ãþ  #   x         Ê5ž!«!       5   m.prototype.hasTransitionsb  çþ  ÿ  ßþ  ÿ  #   ï         Ê5ž!«!       !   m.prototype.showb  +ÿ  Ð  #ÿ  Ð  #   3           B Áÿ  Â  ¹ÿ  Â  #   É         Ê5žÊ5ž!«!       !   m.prototype.hideb  ê  Ù â  Ù #   ò           B  Ì  Ì #              B  3 j + j #   ;         Ê5žÊ5žÊ5ž!«!       '   m.prototype.destroyb  ö 0 î 0 #   þ         Ê5ž!«!       ;   m.prototype.accessibilityShowb  W V O V #   _           B | # t # #   „  "       Ê5žÊ5ž!«!       ;   m.prototype.accessibilityHideb  } ] u ] #   …           B È D À D #   Ð         Ê5žÊ5ž!«!       3   m.prototype.handleTabLockb € _ x _ #   ˆ  "       Ê5ž!«!       E   m.prototype.registerEventListenersb  ‹ I ƒ I #   “           B ²  ª  #   º         Ê5ž   B < š 4 š #   D         Ê5ž   B 	 <  < #            Ê5žÊ5ž!«!       )   m.prototype.asyncSetb g õ _ õ #   o             d   B Ö ß Î ß #   Þ         Ê5žÊ5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajax    !«!       C                                               2	 k *	 k $                  ‚    ‰   Q[   ‚   ]    ™AË€  ¯•Ê€ x    loadFragmentŒ!«!ÿÿÿÿ      a   b   c       «+’H!«!          cB F	 ê	 >	 ê	 $   K          Ê5ž!«!          loadFragmentB 
 i ÿ	 i $                g   B C
 < ;
 < $   H             d   B q
 & i
 & $   v  @          c    f   B ê
 " â
 " $   ï         Ê5žÊ5žÊ5ž   B K [ C [ $   P         Ê5žÊ5žŽ!«!       Ž!«!   loadFragment‹!«!    š˜;øÊ5ž!«!       B   ~ • ~ %   /          Ê5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B  µ'  µ' &   ‹   €          a    b    c    d    e    f    g   B  <  4  &   »            B Š  ‚  &   	  "          g   B  Q  Q &            Ê5ž   B »   ³   &   :           B é þ á þ &   h         Ê5žÊ5žÊ5žÊ5ž   B   ô  ô &   ›           B W ö O ö &   Ö  0          b   B £ é › é &   "         Ê5ž   B  `  ` &            Ê5žÊ5ž   B : ! 2 ! &   ¹  "          c   B Ù  Ñ  &   X           B    û  &   ‚         Ê5žÊ5žÊ5ž   B M ´ E ´ &   Ì  B          c    g   B i ± a ± &   è           B  “ ¯ ‹ ¯ &            Ê5žÊ5žÊ5ž   B á U Ù U &   `  R          h    j    k    l   B à ü Ø ü &   _         Ê5ž   B  P Ò H Ò &   Ï         Ê5ž   B + ­ # ­ &   ª	         Ê5ž   B ¼ = ´ = &   ;
             b   B õ µ í µ &   t
         Ê5ž   B  × æ Ï æ &   V         Ê5žÊ5žÊ5ž   B « a £ a &   *  @          b    f    g   B  ^ ‡ ^ &              B  ¾ \ ¶ \ &   =         Ê5žÊ5žÊ5ž   B   ò ˜ ò &                h   B  ¼  ¼ &            Ê5ž   B Ë Ú Ã Ú &   J             b   B  ž ü ž &   ƒ           B † Ž ~ Ž &            Ê5žÊ5ž   B  À Ï ¸ Ï &   ?         Ê5žÊ5žÊ5žÊ5ž   B   ³'  ³' &   –           B R ®" J ®" &   Ñ         Ê5ž   B ß" C& ×" C& &   ^  2          i    j   B n# $ f# $ &   í         Ê5ž   B  $ +& $ +& &   Ÿ             b   B Y$ ï% Q$ ï% &   Ø             e   B â$ ß% Ú$ ß% &   a         Ê5žÊ5ž   B  &  & 	&  & &            Ê5žÊ5žÊ5ž   B Š& ±' ‚& ±' &   	  "          c   B i' ¯' a' ¯' &   è           B  “' ­' ‹' ­' &            Ê5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/config    !«!       C  %                                             ì' W* ä' W* '                  [   ‚    ]    ‚   ]   ‚   ]   ™:•Ê€  €Ê€ ¨Ê5    fileUrl   relativeUrl   imageUrlŒ!«!ÿÿÿÿ      a   b       «+’H!«!          fileUrlB 	( x( ( x( '   Q          Ê5ž!«!          relativeUrlB (  * …(  * '   Õ            B Ù) î) Ñ) î) '   !         Ê5žÊ5ž!«!          imageUrlB 2* U* ** U* '   z         Ê5žŽ!«!       Ž!«!   fileUrl‹!«!Ž!«!   relativeUrl‹!«!Ž!«!   imageUrl‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   core/config    !«!       C  ˆ          +                                  * )/ ˆ* )/ (                 ‚    W   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6   QV   5    ‚   6   QV   ™>Ê€  ÷Ô€  çÔ8Ô€  ôÔ€  “ÔcÔ€  ˆ”    prototype   detectSupport   prefixKey   validateCache   hashString   get   setŒ!«!ÿÿÿÿ      a   b      «+’H!«!          bC Â         !                                € ¢* Ž+ š* Ž+ (   H             ¹W   QV   T  6    QV   V   ¸   
:  6   QV   ˆ   5   =   ˆ   5   6   QV   V   ¸   
V   5   : 6   QV   V   5   =   6	   QV   V   ¸   
ˆ   5   : =   6
   QV   ¸   
ç  Q™–LÍÏÉå&Ø
É!ÙÙÏ$Ï    storage   supported   detectSupport   hashSource   wwwroot   /   jsrev	   hash   hashString   prefix   jsrevPrefix   /jsrev   validateCacheŒ!«!ÿÿÿÿ      b   .this       «+’Hš˜;ø       Ê5ž!«!       3   b.prototype.detectSupportc   ¦         ;                        
       € ¸+ |, °+ |, (   ^            ¹W  Qˆ   5    ×ÿ   æBæ=   V  5   Ä   æBæ=   W   Q†@V  5   IE=   æQV  5   ¸   
V   =   ç QV  5   ¸   
V   ç QCæ   æ˜Ž‹  Qv‹  QB˜É™É æ™Ó–€ p‘€  ±—ÿÿÿhË–‘€  „’ÿÿÿ‰ÊˆK‘ÒÝØ’ÉÿÿÿöÌ‘	    jsrev   undefined   storage	   test   setItem   1   removeItemŒ!«!ÿÿÿÿ      b   .this         ˆ!«!          c         «+’Hš˜;ø     :   O      ’      ÿÿÿÿ    ¡          B       Ê5ž!«!       +   b.prototype.prefixKeyb ›, ´, “, ´, (   A         Ê5ž!«!       3   b.prototype.validateCachec   ¸         (                                 € ×, ¨- Ï, ¨- (   }            ¹W  QV  5    ¸   
V  5   : W   Q@V   H.   æV  5    ¸   
V  5   ˆ   5   : (æˆ   5   W  QV  V   EA   æQV  5    ¸   
ç  QV  5    ¸   
V  5   ˆ   5   : æQ™–€ „ÙÎ–3ã”€  ˆ’ÿÿÿ«Ï
ÐÔè/    storage   getItem   jsrevPrefix   setItem   jsrev   clearŒ!«!ÿÿÿÿ      b   c   .this         «+’Hš˜;ø       Ê5ž!«!       -   b.prototype.hashStringc  “          :                               €  È- ;. À- ;. (   n            >W  Q>T  Ù    H   æV  æ>W   QT  Ù    W  Q L   mT  ¸   
V   : W  QV  ×V  V  W  QV  >W  QæV   #?W   QQãV   V  ®ÿÿÿæV  ™€ vÐ–”P’ÿÿÿ½–Í L=W–ÏÈÖÌÿÿÿÝÎÿÿÿüÑ,”    length   charCodeAtŒ!«!ÿÿÿÿ      a   b   c   d   e       «+’Hš˜;ø    5   W          Ê5ž!«!          b.prototype.getb T. ž. L. ž. (   ú         Ê5ž!«!          b.prototype.setb ·. &/ ¯. &/ (   ]  B       Ê5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/pubsubŽ!«!3   core/paged_content_events    !«!       B ±/ Å6 ©/ Å6 )   …   Ð          a    b    c    d    e    f    g    h    i    j    k    l   B ¼0 ç0 ´0 ç0 )            Ê5ž   B ò0 !2 ê0 !2 )   Æ  0          d    e   B U1 2 M1 2 )   )  0          c    f   B  y1 §1 q1 §1 )   M         Ê5ž   B  ¼1 	2 ´1 	2 )            Ê5žÊ5žÊ5ž   B ,2 W3 $2 W3 )      @          d    f    h   B ]2 3 U2 3 )   1             e   B «2 å2 £2 å2 )            Ê5ž   B ô2 3 ì2 3 )   È         Ê5žÊ5ž   B '3 73 3 73 )   û         Ê5žÊ5ž   B b3 6 Z3 6 )   6             b    g    h    m    n    o    p    s   B £3 à3 ›3 à3 )   w         Ê5ž   B $4 J4 4 J4 )   ø         Ê5ž   B ]4 4 U4 4 )   1         Ê5ž   B  ¢4 Þ4 š4 Þ4 )   v         Ê5ž   B í4 ý4 å4 ý4 )   Á         Ê5ž   B >5 °5 65 °5 )              B 5 ®5 ‡5 ®5 )   c         Ê5žÊ5ž   B  ¿5 ß5 ·5 ß5 )   “         Ê5ž   B  6 6 ú5 6 )   Ö         Ê5žÊ5ž   B 6 ¡6 6 ¡6 )   ò  @          b    c    f   B P6 _6 H6 _6 )   $         Ê5ž   B  ’6 Ÿ6 Š6 Ÿ6 )   f         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   core/chart_base    !«!       B þ6 }8 ö6 }8 *   6              a      b  7 =7 7 =7 *   D         Ê5ž   B µ7 	8 ­7 	8 *   í          Ê5ž   B  (8 ?8  8 ?8 *   `         Ê5ž   B ^8 z8 V8 z8 *   –         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/autoscroll    !«!       B ½8 ËC µ8 ËC +   =   @          a    b    c   B l9 : d9 : +   ì           Ê5ž   B (: +<  : +< +   ¨          Ê5ž   B D< ×< << ×< +   Ä  @       Ê5ž   B ë< ¶= ã< ¶= +   k          Ê5ž   B É= y> Á= y> +   I         Ê5ž   B Œ> ®> „> ®> +            Ê5ž   B Â> R@ º> R@ +   B         Ê5ž   B d@ A \@ A +   ä         Ê5ž   B $A EA A EA +   ¤         Ê5ž   B XA C PA C +   Ø         Ê5ž   B $C ¡C C ¡C +   ¤
         Ê5žÊ5žŽ!«!      Ž!«!   core/configŽ!«!'   core/storagewrapper    !«!       C  6                                         €   D D D D ,                  T Aš    5   ,  R ‰   Q[   ‚    ]   ‚   ]   ™TÒÉ•Ê!Ê%    window   localStorage   get   setŒ!«!ÿÿÿÿ      a   b   c       «+’H!«!          getB RD fD JD fD ,   „          Ê5ž!«!          setB sD ‹D kD ‹D ,   ¥          Ê5žŽ!«!       Ž!«!   get‹!«!Ž!«!   set‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   core/loglevel    !«!       C  7                                            ½D |E µD |E -                  ˆ   5    ‰   Qˆ   ‚    6    Qˆ   ‚   6   Qˆ   ™5ÐÐRÐJ•    methodFactory   setConfigŒ!«!ÿÿÿÿ      a   b       «+’H!«!          a.methodFactoryc                                            €   öD /E îD /E -                  ˆ  T  T : ‰   Q‚    ™pÌÉ•% Œ!«!ÿÿÿÿ      a   c   d       «+’H!«!       #   a.methodFactory/<b E .E E .E -   ˆ          Ê5žš˜;øÊ5ž!«!          a.setConfigc  0                                          €  DE yE <E yE -   ´              =    T  5   ÄE   æQˆ   ¸   
T  5   : æQ™€  ¸•å•    undefined   level   setLevelŒ!«!ÿÿÿÿ      b        «+’Hš˜;ø       Ê5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/logŽ!«!   core/autoscrollŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!#   core/notification    !«!       B F Úk F Úk .   •              a    c    d    e    f    g    h    i    l   B  £G jH ›G jH .   $  P          b   B  H H ûG H .   „         Ê5žÊ5ž   B uH çH mH çH .   ö             a   B ŽH åH †H åH .            Ê5žÊ5ž   B vI ÚK nI ÚK .   ÷         Ê5ž   B  ‰L ?M L ?M .   
         Ê5ž   B lM àN dM àN .   í  "       Ê5ž   B O 9T þN 9T .   ‡	  R          f   B  ™R S ‘R S .            Ê5ž   B  êS T âS T .   k         Ê5žÊ5ž   B  ZT ‰U RT ‰U .   Û         Ê5ž   B «U ºW £U ºW .   ,  "       Ê5ž   B áW ÜX ÙW ÜX .   b         Ê5ž   B Y BY úX BY .   ƒ         Ê5ž   B cY ì^ [Y ì^ .   ä  b          d    h   B  /Z BZ 'Z BZ .   °         Ê5ž   B  ËZ ïZ ÃZ ïZ .   L         Ê5žÊ5ž   B _ Ç_ _ Ç_ .   •         Ê5ž   B è_ —a à_ —a .   i         Ê5ž   B  »a Úb ³a Úb .   <         Ê5ž   B ÿb *c ÷b *c .   €         Ê5ž   B Qc ãc Ic ãc .   Ò         Ê5ž   B d 1d ÿc 1d .   ˆ         Ê5ž   B Yd ùd Qd ùd .   Ú           B “d Êd ‹d Êd .            Ê5žÊ5ž   B #e ¾e e ¾e .   ¤           B Še ¼e ‚e ¼e .             Ê5žÊ5ž   B  çe «h ße «h .   h   r          b    c    d    e    f    g   B  Zf ff Rf ff .   Û          Ê5ž   B zf çg rf çg .   û   B          b    c    f   B  õf g íf g .   v!         Ê5ž   B 1g äg )g äg .   ²!         Ê5žÊ5ž   B  øg —h ðg —h .   y"  2          d   B  Oh ‚h Gh ‚h .   Ð"         Ê5žÊ5žÊ5ž   B Ôh ×k Ìh ×k .   U#  "          b   B bi ¹k Zi ¹k .   ã#  2          c    d   B |i ½j ti ½j .   ý#         Ê5ž   B  3k ™k +k ™k .   ´%         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   core/mustacheŽ!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!#   core/notificationŽ!«!   core/urlŽ!«!   core/configŽ!«!#   core/localstorageŽ!«!!   core/icon_systemŽ!«!   core/eventŽ!«!   core/yuiŽ!«!   core/logŽ!«!   core/truncateŽ!«!   core/user_dateŽ!«!   core/pending    !«!       C  h         ©       !                  +         ×l £‡ Ïl £‡ /                  >‰   Q[    ‰   Q[   ‰   Q[   ‰   Q[   ‰   Q‚   ‰   Qˆ   5    @6   Qˆ   5    Z    6   Qˆ   5    @6   Qˆ   5    =   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6	   Qˆ   5    ‚	   6
   Qˆ   5    ‚
   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Q‚   ‰   Q‚   ‰   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Qˆ   5    ‚   6   Q‚   ‰   Q‚   ‰   Q[    ‚   ]   ‚   ]   ˆ   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ™€ —ËËËËËhÑ!ÕÑÕ Õ€ µÕ€  œÕ€ {Õ€ 5ÕMÕ€ mÕ€  šÕ€  ¬Õ€  ÔÕ€ ;ÕjÕ€ ˜Õ€  ”Õ€ XËqË€  íÕ€  ¿Õ€ éÕ€ ©Ë\Ë[•Ê;ÊBÊÊ1Ê)Ê.Ê-    prototype   requiredStrings   requiredDates   requiredJS!   currentThemeName      getTemplate   partialHelper   renderIcon   pixHelper   jsHelper   stringHelper   quoteHelper#   shortenTextHelper   userDateHelper   addHelpers   getJS+   treatStringsInContent'   treatDatesInContent   doRender   scanForPartials   cachePartials   render   renderPix   runTemplateJS'   replaceNodeContents   replaceNode'   prependNodeContents%   appendNodeContentsŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   w   y   s   q   x   v   p   t   r   u       «+’HŽ!«!            Ž!«!            Ž!«!            Ž!«!            !«!          uB  m zm m zm /   @         Ê5ž!«!       /   u.prototype.getTemplateb n ©o n ©o /   8  "          g   B ro ¢o jo ¢o /   •         Ê5žÊ5ž!«!       3   u.prototype.partialHelperb Ìo Ep Äo Ep /   ï         Ê5ž!«!       -   u.prototype.renderIconb ep Àq ]p Àq /   ˆ  R          a    c    d    h   B °p Aq ¨p Aq /   Ó         Ê5ž   B Rq ƒq Jq ƒq /   u         Ê5ž   B q ¾q •q ¾q /   À         Ê5žÊ5ž!«!       +   u.prototype.pixHelperb ßq õr ×q õr /            Ê5ž!«!       )   u.prototype.jsHelperb s Bs s Bs /   6         Ê5ž!«!       1   u.prototype.stringHelperb ds ¯t \s ¯t /   ‡         Ê5ž!«!       /   u.prototype.quoteHelperb Ðt Iu Èt Iu /   ó         Ê5ž!«!       ;   u.prototype.shortenTextHelperb pu õu hu õu /   “	         Ê5ž!«!       5   u.prototype.userDateHelperb v Év v Év /   <
         Ê5ž!«!       -   u.prototype.addHelpersb év y áv y /     "          a   B  Mw vw Ew vw /   p         Ê5ž   B  w ¶w ˆw ¶w /   ³         Ê5ž   B  Ïw ôw Çw ôw /   ò         Ê5ž   B  x 8x x 8x /   3         Ê5ž   B  Zx ˆx Rx ˆx /   }         Ê5ž   B  §x Òx Ÿx Òx /   Ê         Ê5žÊ5ž!«!       #   u.prototype.getJSb  y ny y ny /   B         Ê5ž!«!       C   u.prototype.treatStringsInContentb ™y { ‘y { /   ¼  0       Ê5ž!«!       ?   u.prototype.treatDatesInContentb /{ š{ '{ š{ /   R             a   B N{ –{ F{ –{ /   q         Ê5žÊ5ž!«!       )   u.prototype.doRenderb ¸{ î °{ î /   Û  R          c    e    f    h   B  =| Ä| 5| Ä| /   `         Ê5ž   B Þ| ‹~ Ö| ‹~ /     2          a    c   B :} Z~ 2} Z~ /   ]  "          d   B w} å} o} å} /   š         Ê5žÊ5žÊ5ž   B ¥~ • ~ • /   È  2          a    c   B õ~ d í~ d /            Ê5žÊ5ž   B ¯ ì § ì /   Ò         Ê5žÊ5ž!«!          vB ý c€ õ c€ /              Ê5ž!«!          wB n€ P f€ P /   ‘          Ê5ž!«!       7   u.prototype.scanForPartialsb u ‚ m ‚ /   ˜             e   B ™ þ ‘ þ /   ¼         Ê5žÊ5ž!«!       3   u.prototype.cachePartialsb 2‚ øƒ *‚ øƒ /   U  B          a    c    d   B ª‚ Ïƒ ¢‚ Ïƒ /   Í  "          e   B ß‚ ƒ ×‚ ƒ /            Ê5ž   B 9ƒ €ƒ 1ƒ €ƒ /   \         Ê5ž   B  ³ƒ Íƒ «ƒ Íƒ /   Ö         Ê5žÊ5žÊ5ž!«!       %   u.prototype.renderb „ … „ … /   7  R          a    c    d    h   B š„ %… ’„ %… /   ½         Ê5ž   B  6… V… .… V… /   Y         Ê5ž   B p… … h… … /   “         Ê5žÊ5ž!«!          xB ¬… ý… ¤… ý… /   Ï         Ê5ž!«!          yB † X†  † X† /   +         Ê5ž!«!          renderB o† š† g† š† /   ’         Ê5ž!«!          renderPixB ­† Ü† ¥† Ü† /   Ð         Ê5ž!«!       '   replaceNodeContentsB 	‡ ‡ ‡ ‡ /   ,         Ê5ž!«!          replaceNodeB 2‡ F‡ *‡ F‡ /   U         Ê5ž!«!       '   prependNodeContentsB c‡ t‡ [‡ t‡ /   †         Ê5ž!«!       %   appendNodeContentsB ‡ ¡‡ ˆ‡ ¡‡ /   ³         Ê5žŽ!«!       Ž!«!   render‹!«!Ž!«!   renderPix‹!«!Ž!«!   runTemplateJS‹!«!Ž!«!'   replaceNodeContents‹!«!Ž!«!   replaceNode‹!«!Ž!«!'   prependNodeContents‹!«!Ž!«!%   appendNodeContents‹!«!    š˜;øÊ5ž!«!       B  È‡ ¶ À‡ ¶ 0   "               aB Ü‡ †‰ Ò‡ †‰ 0   6   €          b    c    d    e    f    a      e î‡ 4‰ ä‡ 4‰ 0   H   @          g   B åˆ 
‰ Ýˆ 
‰ 0   ?         Ê5žÊ5žÊ5ž   B “‰ ºõ ‹‰ ºõ 0   í  €          d    e    f    g    h    i    j      d ²‰ z ¨‰ z 0             Ê5ž      e „ m z m 0   Þ  0          b    c   B Ë k Ã k 0   %            B ŠŽ @ ‚Ž @ 0   ä         Ê5žÊ5žÊ5ž      f w ‘“ m ‘“ 0   Ñ  `          a    b    c    d    e   B ¾ 3 ¶ 3 0            Ê5ž   B > µ 6 µ 0   ˜         Ê5ž   B Ö æ’ Î æ’ 0   0	  @          d   B P’ Ü’ H’ Ü’ 0   ª
         Ê5žÊ5ž   B “ “ “ “ 0   e  0       Ê5žÊ5ž      g ›“ ¹” ‘“ ¹” 0   õ         Ê5ž      h Ã” £• ¹” £• 0                b   B ô” |• ì” |• 0   N         Ê5žÊ5ž      i ­• J– £• J– 0            Ê5ž   B k– ¹õ c– ¹õ 0   Å  p   #       a    b    c    k    l    m      c {– Ò– q– Ò– 0   Õ         Ê5ž      k Ü– 9— Ò– 9— 0   6         Ê5ž      l C— Ú— 9— Ú— 0     0          b    f   B  ¹— Ø— ±— Ø— 0            Ê5žÊ5ž   B è— Øœ à— Øœ 0   B  R          d    f   B i˜ ˜ a˜ ˜ 0   Ã         Ê5žÊ5ž   B ^ž ½ž Vž ½ž 0   ¸         Ê5ž   B  ìž KŸ äž KŸ 0   F         Ê5ž   B  qŸ ˆŸ iŸ ˆŸ 0   Ë         Ê5ž   B  ­Ÿ ÉŸ ¥Ÿ ÉŸ 0            Ê5ž   B  ïŸ   çŸ   0   I         Ê5ž   B 4  ¢ ,  ¢ 0   Ž  "       Ê5ž   B ¢ ë¤ •¢ ë¤ 0   ÷  "          b   B 0£ G£ (£ G£ 0   Š         Ê5žÊ5ž   B 
¥ ¦ ¥ ¦ 0   d  R          a    c    d   B C¥ W¥ ;¥ W¥ 0            Ê5ž   B Œ¥ è¥ „¥ è¥ 0   æ             c   B Î¥ æ¥ Æ¥ æ¥ 0   (         Ê5žÊ5ž   B ¦ ¦  ¦ ¦ 0   b         Ê5žÊ5ž   B @¦ ê¨ 8¦ ê¨ 0   š  "          b   B d§ § \§ § 0   ¾         Ê5ž   B D¨ X¨ <¨ X¨ 0   ž          Ê5žÊ5ž   B © Ž© © Ž© 0   f!  "          b   B 9© Œ© 1© Œ© 0   “!             a   B _© v© W© v© 0   ¹!         Ê5žÊ5žÊ5ž   B  ®© ª ¦© ª 0   "           B Ù© ñ© Ñ© ñ© 0   3"         Ê5ž   B ÿ© ª ÷© ª 0   Y"         Ê5žÊ5ž   B  :ª ¨ª 2ª ¨ª 0   ”"           B eª ª ]ª ª 0   ¿"         Ê5ž   B ª ¦ª …ª ¦ª 0   ç"         Ê5žÊ5ž   B Ðª p­ Èª p­ 0   *#  B          b    d    e   B `¬ "­ X¬ "­ 0   º$         Ê5žÊ5ž   B ­ ¹³ …­ ¹³ 0   ç%  r          b    c    d    e    f   B §® m³ Ÿ® m³ 0   '  @          f   B  s° ± k° ± 0   Í(         Ê5ž   B (² d²  ² d² 0   ‚*         Ê5žÊ5ž   B  ƒ³ ´³ {³ ´³ 0   Ý+           B ˜³ ²³ ³ ²³ 0   ò+         Ê5žÊ5žÊ5ž   B  ê³ `µ â³ `µ 0   D,  2          b    d   B  1´ m´ )´ m´ 0   ‹,         Ê5ž   B  ±´ Ï´ ©´ Ï´ 0   -         Ê5ž   B  â´ >µ Ú´ >µ 0   <-         Ê5žÊ5ž   B ’µ ø¶ Šµ ø¶ 0   ì-         Ê5ž   B · î¹ · î¹ 0   s/           B ±¸ Â¸ ©¸ Â¸ 0   1         Ê5žÊ5ž   B º %¿ º %¿ 0   q2  R          b    d    e   B ”» Þ» Œ» Þ» 0   î3         Ê5ž   B ÿ» ¼ ÷» ¼ 0   Y4         Ê5ž   B «¼ €¾ £¼ €¾ 0   5          Ê5žÊ5ž   B O¿ ÅÒ G¿ ÅÒ 0   ©7  ‚          d    e    f    m    o    p    q   B ¤À ²À œÀ ²À 0   þ8         Ê5ž   B ôÁ @Ï ìÁ @Ï 0   N:  `          w    u   B °Ä ÏÄ ¨Ä ÏÄ 0   
=         Ê5ž   B àÄ ûÄ ØÄ ûÄ 0   :=         Ê5ž   B ]È uÈ UÈ uÈ 0   ·@         Ê5ž   B îÊ Ë æÊ Ë 0   HC         Ê5ž   B €Ë ™Ë xË ™Ë 0   ÚC         Ê5ž   B  ÑÌ äÌ ÉÌ äÌ 0   +E         Ê5ž   B  Í $Í 
Í $Í 0   lE         Ê5ž   B Î nÎ Î nÎ 0   nF           B 9Î bÎ 1Î bÎ 0   “F         Ê5žÊ5žÊ5ž   B 5Ð CÑ -Ð CÑ 0   H  P          c    d   B  ÖÐ ùÐ ÎÐ ùÐ 0   0I         Ê5ž   B Ñ @Ñ Ñ @Ñ 0   gI         Ê5žÊ5ž   B WÑ sÑ OÑ sÑ 0   ±I         Ê5ž   B  ŠÑ ­Ò ‚Ñ ­Ò 0   äI           B ¿Ñ «Ò ·Ñ «Ò 0   J         Ê5žÊ5žÊ5ž   B  àÒ ÔÓ ØÒ ÔÓ 0   :K           B Ó ›Ó ýÒ ›Ó 0   _K         Ê5žÊ5ž   B ÿÓ oÔ ÷Ó oÔ 0   YL         Ê5ž   B   Ô ˜Õ ˜Ô ˜Õ 0   úL  "          b   B  Õ “Õ Õ “Õ 0   qM          Ê5žÊ5ž   B  ÇÕ £× ¿Õ £× 0   !N  2          b   B EÖ cÖ =Ö cÖ 0   ŸN         Ê5žÊ5ž   B  Ï× ½Ù Ç× ½Ù 0   )P  2          b   B OØ ˆØ GØ ˆØ 0   ©P         Ê5žÊ5ž   B  ÞÙ Òã ÖÙ Òã 0   8R  c          c    e    f    h   B tÚ Ú lÚ Ú 0   ÎR         Ê5ž   B ¸Ú ÓÚ °Ú ÓÚ 0   S         Ê5ž   B cÜ ÆÜ [Ü ÆÜ 0   ½T         Ê5ž   B ‹Ý {á ƒÝ {á 0   åU             d   B hÞ Þ `Þ Þ 0   ÂV         Ê5ž   B Þ æß •Þ æß 0   ÷V             a   B qß äß iß äß 0   ËW         Ê5žÊ5ž   B à ˆà à ˆà 0   eX             a   B gà †à _à †à 0   ÁX         Ê5žÊ5žÊ5ž   B Õá æá Íá æá 0   /Z         Ê5ž   B 8â ~ã 0â ~ã 0   ’Z           B ã 9ã üâ 9ã 0   ^[         Ê5žÊ5žÊ5ž   B  ôã ê ìã ê 0   N\  B          c    e    g   B ±å Âå ©å Âå 0   ^         Ê5ž   B .æ ¸é &æ ¸é 0   ˆ^  0         B Ëè òè Ãè òè 0   %a         Ê5žÊ5žÊ5ž   B 2ê  ï *ê  ï 0   Œb  B          a    b    c   B Çê žï ¿ê žï 0   !c  0       Ê5žÊ5ž   B  ¾ï äñ ¶ï äñ 0   h  2          a    b   B ìï mð äï mð 0   Fh             b   B Ið kð Að kð 0   £h         Ê5žÊ5ž   B }ð 0ñ uð 0ñ 0   ×h         Ê5ž   B Lñ âñ Dñ âñ 0   ¦i  0          c    d   B zñ àñ rñ àñ 0   Ôi           B ñ Ùñ ˆñ Ùñ 0   êi             a   B ³ñ ×ñ «ñ ×ñ 0   j         Ê5žÊ5žÊ5žÊ5žÊ5ž   B #ò Oó ò Oó 0   }j             b   B  Sò Nó Kò Nó 0   ­j  #          a   B Çò ùò ¿ò ùò 0   !k         Ê5ž   B ó 4ó úò 4ó 0   \k         Ê5žÊ5žÊ5ž   B ¦ó Èô žó Èô 0    l             b   B  Öó Çô Îó Çô 0   0l  #          a   B  Eô rô =ô rô 0   Ÿl         Ê5ž   B {ô ­ô sô ­ô 0   Õl         Ê5žÊ5žÊ5ž   B çô µõ ßô µõ 0   Am             b   B  õ ´õ õ ´õ 0   qm  #          a   B  mõ šõ eõ šõ 0   Çm         Ê5žÊ5žÊ5žÊ5žÊ5ž   B Ïõ œ Çõ œ 0   )n      %       d   B  
ö <ö ö <ö 0   dn         Ê5ž   B vö ¸ö nö ¸ö 0   Ðn           B ¢ö ¶ö šö ¶ö 0   ün         Ê5žÊ5ž   B Ñö +÷ Éö +÷ 0   +o           B  ÷ )÷ øö )÷ 0   Zo         Ê5žÊ5ž   B E÷ q÷ =÷ q÷ 0   Ÿo         Ê5ž   B ÷ ½÷ …÷ ½÷ 0   ço         Ê5ž   B Ô÷ ø Ì÷ ø 0   .p             b   B  ø ø ø÷ ø 0   Zp         Ê5žÊ5ž   B 8ø /ú 0ø /ú 0   ’p          Ê5ž   B Iú :ü Aú :ü 0   £r         Ê5ž   B Uü xü Mü xü 0   ¯t         Ê5ž   B ü Ký ‡ü Ký 0   ét         Ê5ž   B bý þ Zý þ 0   ¼u         Ê5ž   B -þ °þ %þ °þ 0   ‡v         Ê5ž   B Çþ ?ÿ ¿þ ?ÿ 0   !w         Ê5ž   B Tÿ Øÿ Lÿ Øÿ 0   ®w         Ê5ž   B íÿ ÿ  åÿ ÿ  0   Gx  @          a    d   B ¬  Î  ¤  Î  0   y         Ê5žÊ5ž   B  s  s 0   py         Ê5ž   B Š ‘ ‚ ‘ 0   äy  0          b    c   B 0  (  0   Šz         Ê5žÊ5ž   B « ] £ ] 0   {         Ê5ž   B o ® g ® 0   É{         Ê5ž   B Ê  Â  0   $|         Ê5ž   B 9 ¤ 1 ¤ 0   “|         Ê5ž   B Ã E » E 0   }             c   B 
 A  A 1   @          Ê5žÊ5ž   B a V Y V 1   —            B Â ë º ë 1   ø          Ê5ž   B  <  < 1   K         Ê5žÊ5ž   B t Ã l Ã 1   ª         Ê5ž   B á 	 Ù 	 1     P          b   B ê 	 â 	 1             Ê5žÊ5ž   B ;	 \ 3	 \ 1   q  0          c    e   B ¦	 ö	 ž	 ö	 1   Ü         Ê5ž   B ]
 ›
 U
 ›
 1   “         Ê5ž   B Å
 æ
 ½
 æ
 1   û         Ê5ž   B @ X 8 X 1   v         Ê5žÊ5ž   B ‚ J z J 1   ¸  p          b    c    f    g    i    k   B # B  B 1   Y         Ê5ž   B S s K s 1   ‰         Ê5ž   B ¿  ·  1   õ           B õ  í  1   +         Ê5žÊ5ž   B ` J X J 1   –          Ê5ž   B 2 E * E 1   h
         Ê5žÊ5ž   B i ¬ a ¬ 1   Ÿ
           B Ÿ ¾ — ¾ 1   Õ
         Ê5ž   B Ï ï Ç ï 1            Ê5žÊ5ž   B Á þ ¹ þ 1   ÷           B a € Y € 1   —         Ê5ž   B ‘ ° ‰ ° 1   Ç         Ê5žÊ5ž   B   K  K 1   Q         Ê5ž   B n ü f ü 1   ¤         Ê5ž   B  µ  µ 1   O          Ê5ž   B Í  Å  1             Ê5ž   B   â ˜ â 1   Ö         Ê5ž   B ø  ð  1   .         Ê5ž   B 0 ¶ ( ¶ 1   f         Ê5ž   B Ì y Ä y 1            Ê5žÊ5ž   B ¬  ¤  1   â  2          a    b   B ½  µ  1   ó         Ê5žÊ5ž   B § # Ÿ # 1   Ý  0          a    d   B á # Ù # 1             Ê5žÊ5ž   B ¯# W §# W 1   å  0          d    e   B +$ `$ #$ `$ 1   a         Ê5ž   B u$ œ) m$ œ) 1   «  @          a    b   B % W% % W% 1   K          Ê5ž   B  ©% Á% ¡% Á% 1   ß          Ê5ž   B Î% @& Æ% @& 1   !         Ê5ž   B  ·& š) ¯& š) 1   í!  #          c   B ô& T) ì& T) 1   *"             b   B %' 1( ' 1( 1   ["             d   B z' ¦' r' ¦' 1   °"         Ê5žÊ5ž   B X( R) P( R) 1   Ž#             d   B ­( Ó( ¥( Ó( 1   ã#         Ê5žÊ5žÊ5žÊ5žÊ5ž   B ¼) <1 ´) <1 1   ò$             b    c    d    e    f    g   B _* ò* W* ò* 1   •%  0          a    b      get dtmf‚  |* ê* t* ê* 1   ²%         Ê5žÊ5ž   B  R+ ’+ J+ ’+ 1   ˆ&         Ê5ž   B ï+ A, ç+ A, 1   %'         Ê5ž   B ¤, - œ, - 1   Ú'        Ê5ž   B b- Ö- Z- Ö- 1   ˜(  "          c   B ¸- Ô- °- Ô- 1   î(         Ê5žÊ5ž   B ;. ü. 3. ü. 1   q)  "          b   B ‘. ú. ‰. ú. 1   Ç)             a   B ³. Ê. «. Ê. 1   é)         Ê5žÊ5žÊ5ž   B  &0 m0 0 m0 1   \+  "          a   B ]0 i0 U0 i0 1   “+         Ê5žÊ5ž   B  ±0 81 ©0 81 1   ç+         Ê5žÊ5ž   B V1 Œ3 N1 Œ3 1   Œ,             b   B  2 %2 2 %2 1   A-         Ê5ž   B 22 ˆ3 *2 ˆ3 1   h-  2          a    c   B  Ç2 3 ¿2 3 1   ý-         Ê5ž   B  53 s3 -3 s3 1   k.         Ê5žÊ5žÊ5ž   B ·3 Ÿ: ¯3 Ÿ: 1   í.  P          b    c    d    e   B  ñ3 ›4 é3 ›4 1   '/  "          a   B q4 ™4 i4 ™4 1   §/         Ê5žÊ5ž   B ø4 !6 ð4 !6 1   .0         Ê5ž   B €6 8 x6 8 1   ¶1  3         b    d   B å6 n7 Ý6 n7 1   2             a   B 7 "7 7 "7 1   A2         Ê5žÊ5ž   B Á7 Þ7 ¹7 Þ7 1   ÷2         Ê5žÊ5ž   B s8 õ8 k8 õ8 1   ©3         Ê5ž   B X9 ž: P9 ž: 1   Ž4  3          a    b   B à9 „: Ø9 „: 1   5         Ê5žÊ5žÊ5ž   B À: øJ ¸: øJ 1   ö5  ’   
       a    b    c    f    g    h    i    j      b Î: ¤; Ä: ¤; 1   6  0          a    c   B ; s; ; s; 1   P6         Ê5žÊ5ž      c ®; „< ¤; „< 1   ä6  0          a    c   B ú; S< ò; S< 1   07         Ê5žÊ5ž   B  q= ñ= i= ñ= 1   §8  "          a   B Ì= ï= Ä= ï= 1   9         Ê5žÊ5ž   B P> Î? H> Î? 1   †9  2          c   B Â> K? º> K? 1   ø9             a   B è> ÿ> à> ÿ> 1   :         Ê5žÊ5žÊ5ž   B 3@ A +@ A 1   i;         Ê5ž   B 1A ¢D )A ¢D 1   g<  C          b    d   B B %B B %B 1   J=         Ê5ž   B åB üB ÝB üB 1   >         Ê5ž   B  ÓC D ËC D 1   	?         Ê5ž   B ‰D  D D  D 1   ¿?         Ê5žÊ5ž   B ÒD #F ÊD #F 1   @             d   B  &E "F E "F 1   \@  3          a    c   B E ¶E ˆE ¶E 1   Æ@         Ê5ž   B ¿E ÜE ·E ÜE 1   õ@         Ê5ž   B F  F F  F 1   DA         Ê5žÊ5žÊ5ž   B  —F G F G 1   ÍA         Ê5ž   B  ÈG H ÀG H 1   þB         Ê5ž   B :H ÷J 2H ÷J 1   pC  B          a    b    d   B 	J hJ J hJ 1   ?E           B :J QJ 2J QJ 1   pE         Ê5žÊ5žÊ5žÊ5ž   B K W K W 1   JF  `   	       a    c    f    g   B €K L xK L 1   ¶F         Ê5ž   B  ÃL ûL »L ûL 1   ùG         Ê5ž   B 9M oN 1M oN 1   oH  0       Ê5ž   B  çN O ßN O 1   J         Ê5ž   B fO 7R ^O 7R 1   œJ  c          d    e    g    h   B ?P 4Q 7P 4Q 1   uK             b   B rP 0Q jP 0Q 1   ¨K  0          a    c   B Q $Q 	Q $Q 1   GL         Ê5žÊ5žÊ5ž   B ?Q ƒQ 7Q ƒQ 1   uL             a   B mQ €Q eQ €Q 1   £L         Ê5žÊ5ž   B ªQ ¼Q ¢Q ¼Q 1   àL         Ê5ž   B þQ +R öQ +R 1   4M             a   B R &R R &R 1   MM         Ê5žÊ5žÊ5ž   B —R ¥S R ¥S 1   ÍM             c   B  ëR ¤S ãR ¤S 1   !N  3          a    b   B S 7S S 7S 1   QN         Ê5ž   B  \S sS TS sS 1   ’N         Ê5ž   B |S ¢S tS ¢S 1   ²N         Ê5žÊ5žÊ5ž   B äS U ÜS U 1   O             c   B  8T U 0T U 1   nO  C          a    b   B ÜT õT ÔT õT 1   P         Ê5žÊ5žÊ5ž   B jU AV bU AV 1    P  0          b    c   B  ¾U @V ¶U @V 1   ôP         Ê5žÊ5ž   B  ­V W ¥V W 1   ãQ         Ê5žÊ5žÊ5ž   B MW ¨g EW ¨g 1   ƒR  0          d    e   B “W §g ‹W §g 1   ÉR             a    b    c    f    g    h    j    k   B ËW $[ ÃW $[ 1   S  0          a    b   B 6X ãZ .X ãZ 1   lS  `          c    d    e   B íX ?Y åX ?Y 1   #T         Ê5ž   B –Z àZ ŽZ àZ 1   ÌU         Ê5žÊ5žÊ5ž   B /[ ` '[ ` 1   eV  €          a    d    h    j   B  [ Ó[ ˜[ Ó[ 1   ÖV         Ê5ž   B s^ Ê_ k^ Ê_ 1   ©Y           B Š^ ª^ ‚^ ª^ 1   ÀY         Ê5ž   B Á^ _ ¹^ _ 1   ÷Y             a   B Û^ _ Ó^ _ 1   Z         Ê5žÊ5žÊ5žÊ5ž   B ` Yb ` Yb 1   L[           B  !b Wb b Wb 1   W]         Ê5žÊ5ž   B db °b \b °b 1   š]  0          b    d   B xb ®b pb ®b 1   ®]           B b ¬b •b ¬b 1   Ó]         Ê5žÊ5žÊ5ž   B Ðb c Èb c 1   ^             a   B ïb c çb c 1   %^         Ê5žÊ5ž   B  Zc 4d Rc 4d 1   ^           B xc 2d pc 2d 1   ®^  0          b    c   B ×c 0d Ïc 0d 1   _           B ëc -d ãc -d 1   !_         Ê5žÊ5žÊ5žÊ5ž   B  Ud ®d Md ®d 1   ‹_         Ê5ž   B )e ;f !e ;f 1   _`           B @e 9f 8e 9f 1   v`             a   B ]e f Ue f 1   “`           B Ñe Þe Ée Þe 1   a         Ê5žÊ5ž   B f 7f f 7f 1   Ma         Ê5žÊ5žÊ5ž   B ef uf ]f uf 1   ›a         Ê5ž   B  Ôf g Ìf g 1   
b         Ê5ž   B  ng ¥g fg ¥g 1   ¤b         Ê5žÊ5žÊ5ž   B Èg 1v Àg 1v 1   þb  0          d    e   B "h k h k 1   Xc  @          a    b   B °h >j ¨h >j 1   æc  0          f   B  ¸i +j °i +j 1   îd         Ê5žÊ5ž   B šj k ’j k 1   Ðe         Ê5žÊ5ž   B 5k Ýn -k Ýn 1   kf  €          c    d    f    g    h    i   B )l ¾l !l ¾l 1   _g          Ê5ž   B Ùl ñl Ñl ñl 1   h         Ê5ž   B  ‚m žm zm žm 1   ¸h         Ê5ž   B «m êm £m êm 1   áh         Ê5ž   B  On Ûn Gn Ûn 1   …i         Ê5žÊ5ž   B ùn "t ñn "t 1   /j  €          b    c    f    g    h    i   B  ³o ëo «o ëo 1   éj         Ê5ž   B üo ›p ôo ›p 1   2k           B =p ™p 5p ™p 1   sk         Ê5žÊ5ž   B ¦p *q žp *q 1   Ük         Ê5ž   B 5q ¨q -q ¨q 1   kl         Ê5ž   B ³q ˆr «q ˆr 1   él         Ê5ž   B  ùr  t ñr  t 1   /n  3          b   B  ës ÷s ãs ÷s 1   !o         Ê5žÊ5žÊ5ž   B Bt /v :t /v 1   xo  0          b   B  u -v ùt -v 1   7p  3          a    d   B  Eu *v =u *v 1   {p         Ê5žÊ5žÊ5žÊ5ž   B Sv ¿z Kv ¿z 1   ‰q  0          d    e   B åv z Ýv z 1   r  @          a    c   B Fw Sw >w Sw 1   |r         Ê5ž   B w œw ‡w œw 1   År         Ê5ž   B Hx œx @x œx 1   ~s         Ê5ž   B  y ®y y ®y 1   Lt         Ê5žÊ5ž   B 3z ½z +z ½z 1   iu         Ê5žÊ5ž   B 
{ Œ| { Œ| 1   @v           B 1{ ‹| ){ ‹| 1   gv  0          c    d   B T{ ï{ L{ ï{ 1   Šv           B  Ù{ í{ Ñ{ í{ 1   w         Ê5žÊ5ž   B G| Š| ?| Š| 1   }w           B h| ˆ| `| ˆ| 1   žw         Ê5žÊ5žÊ5žÊ5ž   B | £Š •| £Š 1   Ów             d   B 
} w€ } w€ 1   @x           B  ®} Æ} ¦} Æ} 1   äx         Ê5ž   B Ó} ‰ Ë} ‰ 1   	y           B »~ | ³~ | 1   ñy  "          a   B ä~ o Ü~ o 1   z         Ê5žÊ5žÊ5ž   B  R€ t€ J€ t€ 1   ˆ{         Ê5žÊ5ž   B ‘€ | ‰€ | 1   Ç{           B  7 S / S 1   m|         Ê5ž   B ` x X x 1   –|         Ê5žÊ5ž   B ˜ f‰  f‰ 1   Î|  €          a    b    c    e    f    g   B .‚ ™ƒ &‚ ™ƒ 2   2   @       Ê5ž   B  R„ ‡„ J„ ‡„ 2   V         Ê5ž   B 6… † .… † 2   :  0          b    c   B  Š… † ‚… † 2   Ž         Ê5žÊ5ž   B  y† ã† q† ã† 2   }         Ê5ž   B ò† J‡ ê† J‡ 2   ö  0          a    b   B *‡ F‡ "‡ F‡ 2   .         Ê5žÊ5ž   B >ˆ d‰ 6ˆ d‰ 2   B  "          c   B rˆ X‰ jˆ X‰ 2   v  P          a   B ·ˆ Ôˆ ¯ˆ Ôˆ 2   »         Ê5ž   B ‰ M‰ 	‰ M‰ 2            Ê5žÊ5žÊ5žÊ5ž   B €‰ ¡Š x‰ ¡Š 2   „           B þ‰ ŸŠ ö‰ ŸŠ 2     2          a    b   B ZŠ Š RŠ Š 2   ^         Ê5žÊ5žÊ5žÊ5ž   B ÕŠ ±˜ ÍŠ ±˜ 2   Ù  0          d    e   B ‹ °˜ ‹ °˜ 2   	            b    c    g    h    j    k    l    m    n    o   B h‹  `‹  2   l	           B  ÎŒ  ÆŒ  2   Ò
         Ê5žÊ5ž   B  E 	 E 2                f   B ' i  i 2   +  0          a    b   B „ M | M 2   ˆ  0       Ê5žÊ5ž   B 7 C / C 2   ;         Ê5žÊ5ž   B P € H € 2   T             a   B o ~ g ~ 2   s         Ê5žÊ5ž   B  Í Ñ Å Ñ 2   Ñ         Ê5ž   B  î ò æ ò 2   ò         Ê5ž   B  >‘ å‘ 6‘ å‘ 2   B           B \‘ ã‘ T‘ ã‘ 2   `         Ê5žÊ5ž   B  W’ ¬’ O’ ¬’ 2   [           B y’ ª’ q’ ª’ 2   }         Ê5žÊ5ž   B “ 3” “ 3” 2                a   B 6“ ” .“ ” 2   :           B ª“ ·“ ¢“ ·“ 2   ®         Ê5žÊ5ž   B ” 1” 	” 1” 2            Ê5žÊ5ž   B ”” Ç” Œ” Ç” 2   ˜         Ê5ž   B "• ç• • ç• 2   &         Ê5ž   B  B– Æ– :– Æ– 2   F         Ê5ž   B 3— ô— +— ô— 2   7         Ê5ž   B ˜ ¯˜ ˜ ¯˜ 2            Ê5žÊ5žÊ5ž   B Ï˜ |­ Ç˜ |­ 2   Ó             d   B ™ lž ™ lž 2   #  @          b   B  ¼™ š ´™ š 2   À         Ê5ž   B mš !› eš !› 2   q  2          a    b   B ºš Îš ²š Îš 2   ¾         Ê5ž   B 	› › › › 2            Ê5žÊ5ž   B °› \œ ¨› \œ 2   ´  2          a    c   B Hœ Zœ @œ Zœ 2   L         Ê5žÊ5ž   B Œœ  „œ  2            Ê5ž   B } iž u iž 2     B          c    d   B 8ž fž 0ž fž 2   <         Ê5žÊ5žÊ5ž   B Šž Ö¡ ‚ž Ö¡ 2   Ž           B  $Ÿ YŸ Ÿ YŸ 2   (         Ê5ž   B  ÙŸ õŸ ÑŸ õŸ 2   Ý         Ê5ž   B   Ò¡ úŸ Ò¡ 2     "          b   B 	¡ Ð¡ ¡ Ð¡ 2              B '¡ Î¡ ¡ Î¡ 2   +          Ê5žÊ5žÊ5žÊ5ž   B ð¡ ¥ è¡ ¥ 2   ô  p          c    d    e    f    g   B À¢ 9£ ¸¢ 9£ 2   Ä          Ê5ž   B Q£ Ê£ I£ Ê£ 2   U!         Ê5ž   B Ù£ $¤ Ñ£ $¤ 2   Ý!         Ê5ž   B G¤ ’¤ ?¤ ’¤ 2   K"         Ê5ž   B ¶¤ ¥ ®¤ ¥ 2   º"         Ê5žÊ5ž   B 1¥ ¦ )¥ ¦ 2   5#             b   B á¥ ¦ Ù¥ ¦ 2   å#         Ê5žÊ5ž   B ;¦ €¨ 3¦ €¨ 2   ?$             b   B u¦ ¸§ m¦ ¸§ 2   y$  0       Ê5ž   B  ]¨ }¨ U¨ }¨ 2   a&         Ê5žÊ5ž   B £¨ {© ›¨ {© 2   §&           B  V© x© N© x© 2   Z'         Ê5žÊ5ž   B š© z­ ’© z­ 2   ž'             b   B  ª y­ ø© y­ 2   (  #         B —ª Ðª ª Ðª 2   ›(         Ê5ž   B b¬ ›¬ Z¬ ›¬ 2   f*         Ê5žÊ5žÊ5žÊ5ž   B š­ 	¶ ’­ 	¶ 2   ž+  @          d    f    g      d ¹­ û­ ¯­ û­ 2   ½+         Ê5ž      e ® Ã° û­ Ã° 2   	,  `          b    c    e    f   B y® ¯ q® ¯ 2   },  #          d   B µ® Á® ­® Á® 2   ¹,         Ê5žÊ5ž   B N¯ í¯ F¯ í¯ 2   R-         Ê5ž   B  ° 2° ° 2° 2   .         Ê5ž   B ?° ¿° 7° ¿° 2   C.         Ê5žÊ5ž   B ± »± ± »± 2   /         Ê5ž   B Ô± u² Ì± u² 2   Ø/         Ê5ž   B  ‚² ³ z² ³ 2   †0  !       Ê5ž   B $³ i³ ³ i³ 2   (1         Ê5ž   B €³ ¶ x³ ¶ 2   „1          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B J¶ ¨» B¶ ¨» 3   -   0          a    b   B Í¶ *· Å¶ *· 3   °          Ê5ž   B  8· ±· 0· ±· 3            Ê5ž   B Ä· 8¸ ¼· 8¸ 3   §         Ê5ž   B K¸ q¸ C¸ q¸ 3   .         Ê5ž   B …¸ á¹ }¸ á¹ 3   h         Ê5ž   B  ù¹ 3» ñ¹ 3» 3   Ü             c   B  Sº » Kº » 3   6          Ê5žÊ5ž   B  J» „» B» „» 3   -         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       C  #                                            Õ» „¼ Í» „¼ 4                 ‚    W   QV   5    V   6   QV   ™2Ê€  „Ó”    prototype   constructorŒ!«!ÿÿÿÿ      a   b      «+’H!«!          bB ç» `¼ ß» `¼ 4   <              b   B  1¼ Q¼ )¼ Q¼ 4   †          Ê5žÊ5žš˜;øÊ5ž!«!       B  ¬¼ ðÂ ¤¼ ðÂ 5   %              a      a  ¹¼ ½¼ ¯¼ ½¼ 5   2          Ê5ž   B ¾ š¾ û½ š¾ 5   |         Ê5ž   B  ¸¾ Î¾ °¾ Î¾ 5   1         Ê5ž   B  í¾ ¿ å¾ ¿ 5   f         Ê5ž   B   ¿ 4¿ ¿ 4¿ 5   ™         Ê5ž   B  P¿ d¿ H¿ d¿ 5   É         Ê5ž   B  …¿ ž¿ }¿ ž¿ 5   þ         Ê5ž   B  ¿¿ Ø¿ ·¿ Ø¿ 5   8         Ê5ž   B ö¿ À î¿ À 5   o         Ê5ž   B -À âÀ %À âÀ 5   ¦         Ê5ž   B þÀ )Á öÀ )Á 5   w         Ê5ž   B EÁ pÁ =Á pÁ 5   ¾         Ê5ž   B ‘Á 1Â ‰Á 1Â 5   
         Ê5ž   B RÂ íÂ JÂ íÂ 5   Ë  "       Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/key_codes    !«!       C  Á      "                                     @Ã Ð 8Ã Ð 6                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   ‰   Q[   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ 
  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚	   ‰   Q‚
   ‰ 	  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q[   V   ]    ˆ   ]!   ™W•ÊÊ(ÊÊÊÊÊÊÊÊÊÊÊ ÊÊ ÐËË@ËAË€ 9Ë`Ë€  åË€  «Ë&Ë'Ë#Ë"Ë ËYË]Ë(Ë€  Ë€  ±Ë€ Ë€  ‹Ë€  “Ë$Ë€ Ê\•É	Ê	    cie:activate   activate)   cie:keyboardactivate!   keyboardActivate   cie:escape   escape   cie:down	   down   cie:up   up   cie:home	   home   cie:end   end   cie:next	   next   cie:previous   previous   cie:asterix   asterix   cie:scrollLock   scrollLock   cie:scrollTop   scrollTop!   cie:scrollBottom   scrollBottom   cie:ctrlPageUp   ctrlPageUp!   cie:ctrlPageDown   ctrlPageDown   cie:enter   enter   define   eventsŒ!«!ÿÿÿÿ      a   b   w   o   y   i   s   m   g   q   k   e   l   x   v   p   z   t   n   h   r   u   f   j   d   c      «+’HŽ!«!       Ž!«!   activate‹!«!Ž!«!!   keyboardActivate‹!«!Ž!«!   escape‹!«!Ž!«!	   down‹!«!Ž!«!   up‹!«!Ž!«!	   home‹!«!Ž!«!   end‹!«!Ž!«!	   next‹!«!Ž!«!   previous‹!«!Ž!«!   asterix‹!«!Ž!«!   scrollLock‹!«!Ž!«!   scrollTop‹!«!Ž!«!   scrollBottom‹!«!Ž!«!   ctrlPageUp‹!«!Ž!«!   ctrlPageDown‹!«!Ž!«!   enter‹!«!    Ž!«!            !«!          eC ;                                          €  ÍÄ Å ÅÄ Å 6   Ú             T D   æQZ    æU QT Ù     D   æQT ¸   
T  : ×ÿHæ ™€ àÔÝÈ    length   indexOfŒ!«!ÿÿÿÿ      a   b        «+’Hš˜;ø       Ê5ž!«!          fB Å CÅ Å CÅ 6            Ê5ž!«!          gB NÅ |Æ FÅ |Æ 6   [         Ê5ž!«!          hC 4          	                                  ‡Æ ÜÆ Æ ÜÆ 6                  T  ¸    
=   ˆ   : ¸   
=   ˆ   ‚    ç Q™€ œóL    off   keydown.   onŒ!«!ÿÿÿÿ      a   b   c       «+’H!«!          h/<b »Æ ÚÆ ³Æ ÚÆ 6   È         Ê5žš˜;øÊ5ž!«!          iC O                                         €   çÆ ÁÇ ßÆ ÁÇ 6                  T  ¸    
=   : ¸   
=   ‚    ç QT  ¸    
=   : ¸   
=   ‚   ç Q™€ øçRç€  ƒ    off%   click.cie.activate   on)   keydown.cie.activateŒ!«!ÿÿÿÿ      a        «+’H!«!          i/<b 'Ç ;Ç Ç ;Ç 6   4         Ê5ž!«!          i/<b }Ç ¿Ç uÇ ¿Ç 6   Š         Ê5žš˜;øÊ5ž!«!          jB ÌÇ lÈ ÄÇ lÈ 6   Ù           B  È jÈ È jÈ 6   -         Ê5žÊ5ž!«!          kC "          	                                €  wÈ ’È oÈ ’È 6   „             ˆ   T  ˆ   5    ˆ   5    ç Q™€ ˆá    escapeŒ!«!ÿÿÿÿ      a        «+’Hš˜;ø       Ê5ž!«!          lC "          	                                €  È ¹È •È ¹È 6   ª             ˆ   T  ˆ   5    ˆ   5   ç Q™€ ®á 	   down   arrowDownŒ!«!ÿÿÿÿ      a        «+’Hš˜;ø       Ê5ž!«!          mB ÄÈ ÜÈ ¼È ÜÈ 6   Ñ         Ê5ž!«!          nB çÈ þÈ ßÈ þÈ 6   ô         Ê5ž!«!          oB 	É É É É 6            Ê5ž!«!          pB )É wÉ !É wÉ 6   6         Ê5ž!«!          qB ‚É ÔÉ zÉ ÔÉ 6            Ê5ž!«!          rB ßÉ üÉ ×É üÉ 6   ì         Ê5ž!«!          sB Ê }Ê ÿÉ }Ê 6                a   B KÊ {Ê CÊ {Ê 6   X         Ê5žÊ5ž!«!          tB ˆÊ .Ë €Ê .Ë 6   •             a   B ÒÊ ,Ë ÊÊ ,Ë 6   ß         Ê5žÊ5ž!«!          uC *                                            9Ë GÍ 1Ë GÍ 6                  ˆ   ¸    
=   : ¸   
=   ‚    ç Q™€ Jé€ 	    off‡   DOMMouseScroll.cie.DOMMouseScrollLock mousewheel.cie.mousewheelLock   onŒ!«!ÿÿÿÿ      a       «+’H!«!          u/<b ÛË EÍ ÓË EÍ 6   è         Ê5žš˜;øÊ5ž!«!          vB RÍ ÒÍ JÍ ÒÍ 6   _
           B šÍ ÐÍ ’Í ÐÍ 6   §
         Ê5žÊ5ž!«!          wB ÝÍ eÎ ÕÍ eÎ 6   ê
           B )Î cÎ !Î cÎ 6   6         Ê5žÊ5ž!«!          xB pÎ ‰Î hÎ ‰Î 6   }         Ê5ž!«!          yC  `         =                         0       €  ”Î ¡Ï ŒÎ ¡Ï 6   ¡            [    W   QV   ˆ   5    ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ 	  8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5	   ˆ   8QV   ˆ   5
   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ˆ   5   ˆ   8QV   ™€ ¨ÊÕÕÕÕÕ
ÕÕÕÕÕÕÕÕÕÕÕ”    activate!   keyboardActivate   escape	   down   up	   home   end	   next   previous   asterix   scrollLock   scrollTop   scrollBottom   ctrlPageUp   ctrlPageDown   enterŒ!«!ÿÿÿÿ      a         «+’HŽ!«!            š˜;ø       Ê5ž!«!          zC n                                            ¬Ï ýÏ ¤Ï ýÏ 6                  ˆ  ˆ   : ‰   Qˆ   D   æQZ    æ‰   Qˆ   Ù    E5   æQˆ   Ù    E$   æQˆ  ¸   
ˆ  :  ‚    : æQ™€ ¿ËÉØôÈÿÿÿù•'    length	   eachŒ!«!ÿÿÿÿ      b   c       «+’H!«!          z/<c  '                                           €  èÏ ûÏ àÏ ûÏ 6   õ             ˆ  T  ˆ   : E   æQT ˆ   : æQ™€ ûá• Œ!«!ÿÿÿÿ      a   d        «+’Hš˜;ø       Ê5žš˜;øÊ5žŽ!«!       Ž!«!   define‹!«!Ž!«!   events‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/modalŽ!«!#   core/modal_events    !«!       C  ¡          -                         	         ¥Ð üÔ Ð üÔ 7                 [    =    ]   =   ]   ‰   Q‚   W   QV   š   ¸   
ˆ   5   : 6   QV   5   V   6   QV   5   ‚   6   QV   5   ‚   6	   QV   5   ‚   6
   QV   ™€  š•Ê#Ð(Ê€  ØÚÉÓÔlÔ€ õÔv” )   [data-action="save"]   SAVE_BUTTON-   [data-action="cancel"]   CANCEL_BUTTON   prototype   Object   create   constructor   setFooter-   registerEventListeners#   setSaveButtonTextŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g      «+’HŽ!«!       Ž!«!   SAVE_BUTTON‹!«!Ž!«!   CANCEL_BUTTON‹!«!    !«!          gB Ñ ÚÑ Ñ ÚÑ 7   ò          Ê5ž!«!       +   g.prototype.setFooterb  AÒ ŽÒ 9Ò ŽÒ 7   &         Ê5ž!«!       E   g.prototype.registerEventListenersb  ºÒ ƒÔ ²Ò ƒÔ 7   Ÿ           B &Ó ¨Ó Ó ¨Ó 7            Ê5ž   B òÓ vÔ êÓ vÔ 7   ×         Ê5žÊ5ž!«!       ;   g.prototype.setSaveButtonTextb ªÔ ùÔ ¢Ô ùÔ 7            Ê5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!'   core/sessionstorageŽ!«!   core/config    !«!       C            5                                   [Õ ÚÙ SÕ ÚÙ 8                 ¼€Q‰   Q[    ‰   Q‚   ‰   Q‚   ‰ 	  Q‚   ‰ 
  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q‚	   W  Q[
   V   ]    V  ]   ™jÊËË€  ˆËËË.ËËË€ hÊ€ CÊi•ÉÉ    get7   getUserMidnightForTimestampŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o      «+’HŽ!«!            !«!          gB €Õ ýÕ xÕ ýÕ 8             Ê5ž!«!          hB Ö Ö  Ö Ö 8   	         Ê5ž!«!          iB 'Ö 8Ö Ö 8Ö 8   (         Ê5ž!«!          jB CÖ fÖ ;Ö fÖ 8   D         Ê5ž!«!          kB qÖ Ö iÖ Ö 8   r         Ê5ž!«!          lB ŒÖ ™Ö „Ö ™Ö 8            Ê5ž!«!          mB ¤Ö Ø œÖ Ø 8   ¥             a   B ¼Ö îÖ ´Ö îÖ 8   ½         Ê5ž   B h× »× `× »× 8   i           B „× ¹× |× ¹× 8   …         Ê5žÊ5ž   B Î× ÿ× Æ× ÿ× 8   Ï             b   B ä× ý× Ü× ý× 8   å         Ê5žÊ5žÊ5ž!«!          nB Ø DÙ Ø DÙ 8     0          c    d   B 7Ø ÈØ /Ø ÈØ 8   8          Ê5ž   B  øØ BÙ ðØ BÙ 8   ù         Ê5žÊ5ž!«!          oB OÙ ­Ù GÙ ­Ù 8   P         Ê5žŽ!«!       Ž!«!   get‹!«!Ž!«!7   getUserMidnightForTimestamp‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!   jquery    !«!       B  Ú 9Ü Ú 9Ü 9   C   0          a    b   B DÚ 
Û <Ú 
Û 9   g          Ê5ž   B Û 7Ü Û 7Ü 9   @             e   B $Ü -Ü Ü -Ü 9   G         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B lÜ Ý dÜ Ý :   0              a   B „Ü Ý |Ü Ý :   H   0          b    c   B ÉÜ øÜ ÁÜ øÜ :             Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/chartjsŽ!«!   core/chart_axisŽ!«!   core/chart_barŽ!«!-   core/chart_output_baseŽ!«!   core/chart_lineŽ!«!   core/chart_pieŽ!«!#   core/chart_series    !«!       B ÍÝ ì ÅÝ ì ;   ¹              a    b    c    d    e    f    g    h    j      i  éÝ ¥Þ ßÝ ¥Þ ;   Õ         Ê5ž   B ³Þ ÏÞ «Þ ÏÞ ;   Ÿ         Ê5ž   B  eß ºß ]ß ºß ;   Q         Ê5ž   B Úß Ià Òß Ià ;   Æ           B à ,à þß ,à ;   ò         Ê5žÊ5ž   B  là Já dà Já ;   X         Ê5ž   B oá ã gá ã ;   [         Ê5ž   B  %ã .ç ã .ç ;     "          a   B 8ä jå 0ä jå ;   $  "          d   B å 4å å 4å ;   
         Ê5žÊ5ž   B žå Ûæ –å Ûæ ;   Š  "          d   B „æ ¥æ |æ ¥æ ;   p	         Ê5žÊ5žÊ5ž   B  Wç é Oç é ;   C
           B „ç ÷è |ç ÷è ;   p
         Ê5žÊ5ž   B /é oê 'é oê ;     "       Ê5ž   B Žê <ë †ê <ë ;   z         Ê5ž   B  \ë ¸ë Të ¸ë ;   H         Ê5ž   B  Ôë ì Ìë ì ;   À         Ê5žÊ5ž!«!       C   K                                           €   Bì <í :ì <í <                 [    ‰   Q‚   W   Q‚   W  Q‚   W  Q[   V   ]    V  ]   V  ]   ™(ËÊ,Ê_Ê7•ÉÉÉ
    subscribe   unsubscribe   publishŒ!«!ÿÿÿÿ      a   b   c   d        «+’HŽ!«!            !«!          bC 8          	                                €  Xì yì Pì yì <   7              ˆ   T  ˆ   T  7D   æQZ    æ8Qˆ   T  7¸    
T ç Q™=à× 	   pushŒ!«!ÿÿÿÿ      b   c        «+’Hš˜;ø       Ê5ž!«!          cB „ì Øì |ì Øì <   c           Ê5ž!«!          dB ãì í Ûì í <   Â              c   B í í üì í <   ã          Ê5žÊ5žŽ!«!       Ž!«!   subscribe‹!«!Ž!«!   unsubscribe‹!«!Ž!«!   publish‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!3   core/paged_content_eventsŽ!«!   core/strŽ!«!   core/pubsub    !«!       B Ðí ¤ü Èí ¤ü =   ‘   Ð         l    r    w    s    o    i    m    g    a    e    k    B    v    A    x    p    z    t    y    n    h    u    f    j    d    b    q    c   B 	ï Gï ï Gï =   Ê         Ê5ž   B Rï sï Jï sï =            Ê5ž   B ~ï ¦ï vï ¦ï =   ?         Ê5ž   B ±ï éï ©ï éï =   r         Ê5ž   B ôï .ð ìï .ð =   µ         Ê5ž   B 9ð cð 1ð cð =   ú         Ê5ž   B nð “ð fð “ð =   /         Ê5ž   B žð Óñ –ð Óñ =   _          Ê5ž   B Þñ ò Öñ ò =   Ÿ         Ê5ž   B ò Eò ò Eò =   à         Ê5ž   B Pò lò Hò lò =            Ê5ž   B wò ò oò ò =   8         Ê5ž   B ›ò 7ó “ò 7ó =   \         Ê5ž   B Bó êó :ó êó =            Ê5ž   B õó –ô íó –ô =   ¶         Ê5ž   B ¡ô Nõ ™ô Nõ =   b         Ê5ž   B Yõ Òõ Qõ Òõ =              B ³õ Çõ «õ Çõ =   t         Ê5žÊ5ž   B Ýõ ]ö Õõ ]ö =   ž           B >ö Rö 6ö Rö =   ÿ         Ê5žÊ5ž   B hö êö `ö êö =   )	  0          b    d   B Œö áö „ö áö =   M	         Ê5žÊ5ž   B õö Rø íö Rø =   ¶	  `          b    c    e    g    h   B 8÷ £÷ 0÷ £÷ =   ù	         Ê5ž   B Ã÷ 9ø »÷ 9ø =   „
             b   B Ý÷ 5ø Õ÷ 5ø =   ž
         Ê5žÊ5ž   B  Lø Pø Dø Pø =            Ê5žÊ5ž   B ]ø {ù Uø {ù =             Ê5ž   B †ù úû ~ù úû =   G  P          d    g    h    k   B ú Ðú ú Ðú =   Ý  0       Ê5ž   B ûú pû óú pû =   ¼         Ê5ž   B  –û žû Žû žû =   W         Ê5ž   B Ñû øû Éû øû =   ’         Ê5žÊ5ž   B ü uü ýû uü =   Æ          Ê5žÊ5žŽ!«!      Ž!«!   core/chart_base    !«!       B Üü   Ôü   >   5              a      b  êü ý àü ý >   C         Ê5ž   B –ý îý Žý îý >   ï          Ê5ž   B þ Öþ þ Öþ >   f  #       Ê5ž   B  ÷þ ÿ ïþ ÿ >   P         Ê5ž   B 1ÿ Oÿ )ÿ Oÿ >   Š         Ê5ž   B  tÿ    lÿ    >   Í         Ê5žÊ5žŽ!«!      Ž!«!!   core/icon_systemŽ!«!   core/urlŽ!«!   core/mustache    !«!       B b  ´ Z  ´ ?   \   @          a    b    c   B  x  “  p  “  ?   r         Ê5ž   B á  s Ù  s ?   Û          Ê5ž   B  ˜ ±  ± ?   ’         Ê5žÊ5ž!«!       C        	                             
      €  À Z ¸ Z @   	              G=    š   'E   æQ=   š   'æ   æš   T :  6   T   æ=   š   'E   æQš   5   æ    æš      =   T ç    æT  T :  6   æQ™‘•
ÓÈÏÓÙØÐ"Ê    object   exports   undefined   module   function   define   amd   core/popper   PopperŒ!«!ÿÿÿÿ      a   b        «+’Hš˜;ø      Ê5ž!«!       C   £      ;   D      Q                        €  h ïL ` ïL @                 ‚    W  Q‚   W  Q‚   ‰ 6  Q‚   ‰ 1  Q‚   ‰   Q‚   ‰ .  Q‚   ‰   Q‚   ‰ +  Q‚   ‰   Q‚	   ‰ /  Q‚
   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ *  Q‚   ‰   Q‚   ‰ '  Q‚   ‰   Q‚   ‰ ,  Q‚   ‰   Q‚   ‰ )  Q‚   ‰ -  Q‚   ‰ &  Q‚   ‰   Q‚   ‰ $  Q‚   ‰   Q‚   ‰ (  Q‚   ‰    Q‚   ‰   Q‚   ‰   Q‚   ‰ 	  Q‚   ‰ !  Q‚   ‰   Q‚    ‰   Q‚!   ‰ "  Q‚"   ‰   Q‚#   ‰ 7  Q‚$   ‰   Q‚%   ‰ #  Q‚&   ‰   Q‚'   ‰ 9  Q‚(   ‰   Q‚)   ‰ 5  Q‚*   ‰   Q‚+   W  Q‚,   W  Q‚-   W  Q‚.   ‰   Q‚/   W  Q‚0   ‰   Q‚1   ‰ 2  Q‚2   W  Q‚3   W	  Q‚4   ‰ 0  Q‚5   ‰   Q‚6   W  Q‚7   W  Q‚8   W  Q‚9   W  Q‚:   W  Q=    š   'E   æQ=    š   5   ÄæW  QZ   =   `    =   `   =   `   W  Q>‰   Q>W  Q O   mV  E&   æQš   5   ¸   
V  V  7: >æ   æ?‰   Q&   æV  ?W  QãV  V  Ù	   ¦ÿÿÿæV  E   æQš   5
   æW
  QV
     æV  
   æV  æ‰ 8  Q>(‰ 3  Q‚;   ‰   Q‚<   ‰ 4  Q‚=   :  ‰   Q‚>   ‰   Qš   5   D   æQ‚?   æ‰ %  Qf@   W  QV  ¸   
×: ‰ 
  Q[A   =   ]   =   ]   =   ]   ‰   Q[L   [B   ×d]   C]   V  ]   ]   [C   XÈ ]   C]   V  ]   >]   ]   [D   X,]   C]   V  ]   Z   =   `    =   `   =   `   =   `   ]   ×]   =   ]    ]!   [E   X]   C]   V	  ]   ]"   [F   Xô]   C]   V  ]   =#   ]$   ]%   [G   XX]   C]   V  ]   =   ]&   ×]   ='   ]    ]   [H   X¼]   B]   V  ]   ](   [I   X ]   C]   V  ]   ])   [J   XR]   C]   V  ]   C]*   =   ]+   =   ],   ]-   [K   X„]   C]   V  ]   V  ].   >(]*   ]/   W   Q[O   =   ]0   C]1   B]2   ‚M   ]3   ‚N   ]4   V   ]5   W  Q‚P   :  W  QV  =    š   '   æš      æš7   æ58   06   QV  V  09   QV  V  0:   QV  ™ÿÿÿÿÿÿÿÿÿÿ–€  ´€ =Ð•ÓÒ•ÊÊ
Ï—&OC_–æ–(O–ÿÿÿËËÿÿÿóÖQÛ
Û
ÈËXË`–É€  óËzÝ€  ¥Ê€  ¦ÍÉ•ÊÊÐ%••—
–Î•È
–ÉË
•È
–É•
ÊÊÊÏ
—
Ï"•È
–Î•È
–ÉÏ•È
–ÉÊ—
Ï•È
–Î•È
–Î•È
–É–ÊÏ•È
–ÉÉ	Ñ	•Ê––ÊÊÎ–È€ ¯Éâ)ÎÎ”    undefined   window   document	   Edge   Trident   Firefox   navigator   userAgent   indexOf   length   Promise   Object   assign   slice	   flip	   FLIP   clockwise   CLOCKWISE!   counterclockwise!   COUNTERCLOCKWISE   order   enabled   fn   shift   offset	   left   right   top   bottom   priority   padding   scrollParent#   boundariesElement   preventOverflow   keepTogether   [x-arrow]   element   arrow   behavior   viewport   inner	   hide   gpuAcceleration   x   y   computeStyle   onLoad   applyStyle   placement   eventsEnabled   removeOnDestroy   onCreate   onUpdate   modifiers   Utils   global   PopperUtils   placements   DefaultsŒ!«!ÿÿÿÿM      Q   ta   B   ma   U   F   C   D   sa   w   ua   va   o   y   i   s   m   ha   g   aa   q   ba   a   k   e   ca   _   ga   Y   l   W   ia   Z   ja   K   O   oa   I   S   pa   M   G   A   ra   E   H   L   wa   x   qa   v   da   p   z   t   n   h   r   u   f   fa   j   $   d   X   b   la   ea   R   V   na   P   c   J   T   ka   N        «+’H!«!          a ‚ Ù x Ù @   Ë   0          a    b   B  ž Ø – Ø @   ç            B  É Õ Á Õ @            Ê5žÊ5žÊ5ž!«!          b ã 1 Ù 1 @   ,  0          a    b   B  ÿ 0 ÷ 0 @   H           B   *  * @   g         Ê5žÊ5žÊ5ž!«!          c ; { 1 { @   „         Ê5ž!«!          d … Ü { Ü @   Î         Ê5ž!«!          e æ  Ü  @   /         Ê5ž!«!          f %    @   n          Ê5ž!«!          g  ò  ò @   a         Ê5ž!«!          h ü L ò L @   E         Ê5ž!«!          i V ‡ L ‡ @   Ÿ         Ê5ž!«!          j ‘ ò ‡ ò @   Ú         Ê5ž!«!          k ü ô ò ô @   E  !       Ê5ž!«!          l þ ¡	 ô ¡	 @   G         Ê5ž!«!          m «	 =
 ¡	 =
 @   ô         Ê5ž!«!          n G
  =
  @            Ê5ž!«!          o   ¶  ¶ @   d	         Ê5ž!«!          p À  ¶  @   	
         Ê5ž!«!          q  â  â @   T
  P       Ê5ž!«!          r ì º â º @   5          Ê5ž!«!          s Ä À º À @            Ê5ž!«!          t Ê " À " @            Ê5ž!«!          u , å " å @   u  0       Ê5ž!«!          v ï  å  @   8         Ê5ž!«!          w ! l  l @   j  1          c    h   B q œ i œ @   º         Ê5ž   B « Æ £ Æ @   ô         Ê5ž   B Û # Ó # @   $         Ê5žÊ5ž!«!          x v ™ l ™ @   ¿         Ê5ž!«!          y £ m ™ m @   ì         Ê5ž!«!          z w û m û @   À             b   B é ù á ù @   2         Ê5žÊ5ž!«!          A  þ û þ @   N         Ê5ž!«!          B  C þ C @   Q         Ê5ž!«!          C M ß C ß @   –  0          b    c   B  ¡ … ¡ @   Ö         Ê5ž   B µ É ­ É @   þ         Ê5žÊ5ž!«!          D é  ß  @   2             b   B 6  .  @            Ê5žÊ5ž!«!          E  # v  v @   l  "       Ê5ž!«!          F € Ë v Ë @   É             b   B œ É ” É @   å         Ê5žÊ5ž!«!          G Õ Ÿ Ë Ÿ @             Ê5ž!«!          H  ©   Ÿ   @   ò         Ê5ž!«!          I 
 B   B @   S         Ê5ž!«!          J L Ý B Ý @   •         Ê5ž!«!          K ç ¡  Ý ¡  @   0         Ê5ž!«!          L  «  ! ¡  ! @   ô         Ê5ž!«!          M ! ÿ! ! ÿ! @   f             b   B {! ­! s! ­! @   Ä         Ê5žÊ5ž!«!          N  	" " ÿ! " @   R          Ê5ž!«!          O ‹" À" " À" @   Ô          Ê5ž!«!          P Ê" d# À" d# @   !  0          a    b   B ï" b# ç" b# @   8!         Ê5žÊ5ž!«!          Q n# ×# d# ×# @   ·!  0          a    b   B “# Õ# ‹# Õ# @   Ü!         Ê5žÊ5ž!«!          R á# $ ×# $ @   *"         Ê5ž!«!          S ‹$ =% $ =% @   Ô"         Ê5ž!«!          T G% ) =% ) @   #            B ‘% ±% ‰% ±% @   Ú#         Ê5žÊ5ž!«!          U !) A* ) A* @   j'  P          b    c    d   B ;) Y) 3) Y) @   „'         Ê5ž   B q) £) i) £) @   º'         Ê5žÊ5ž!«!          V K* ƒ- A* ƒ- @   ”(          Ê5ž!«!          W - ½- ƒ- ½- @   Ö+         Ê5ž!«!          X Ç- V. ½- V. @   ,         Ê5ž!«!          Y `. 3 V. 3 @   ©,            a    b    c    d    e    f    g   B 0 	3 ý/ 	3 @   N.         Ê5žÊ5ž!«!          Z 3 14 3 14 @   `1         Ê5ž!«!          $ ;4 Ú5 14 Ú5 @   „2  @       Ê5ž!«!          _ ä5 Ü8 Ú5 Ü8 @   -4  P          b    c    e    f   B >6 R6 66 R6 @   ‡4         Ê5ž   B l6 6 d6 6 @   µ4         Ê5ž   B •7 €8 7 €8 @   Þ5  0          e    g   B Ü7 W8 Ô7 W8 @   %6         Ê5ž   B h8 ~8 `8 ~8 @   ±6         Ê5žÊ5ž   B ”8 Ø8 Œ8 Ø8 @   Ý6  0          a    b   B ¬8 Ö8 ¤8 Ö8 @   õ6         Ê5žÊ5žÊ5ž!«!          aa ç8 : Ü8 : @   07         Ê5ž!«!          ba : ‚< : ‚< @   g8  P          b    d    f    h   B ù: U; ñ: U; @   B9         Ê5ž   B h; þ; `; þ; @   ±9         Ê5ž   B < k< < k< @   b:         Ê5žÊ5ž!«!          ca < ›= ‚< ›= @   Ö:          Ê5ž!«!          da ¦= 8? ›= 8? @   ï;  0         B #> H> > H> @   l<         Ê5žÊ5ž!«!          ea C? 7@ 8? 7@ @   Œ=         Ê5ž!«!          maB  2A ~A *A ~A @   {?         Ê5ž!«!          naB ŠA ÞA ‚A ÞA @   Ó?         Ê5ž!«!          oa<b  êA ÒB âA ÒB @   3@             a      a ÷A “B íA “B @   @@          Ê5ž   B ¢B ÑB šB ÑB @   ë@         Ê5žÊ5ž!«!          paB àB NC ØB NC @   )A         Ê5ž!«!          qa<b iC óC aC óC @   ²A  !       Ê5žŽ!«!      Ž!«!   auto-startŽ!«!	   autoŽ!«!   auto-endŽ!«!   top-startŽ!«!   topŽ!«!   top-endŽ!«!   right-startŽ!«!   rightŽ!«!   right-endŽ!«!   bottom-endŽ!«!   bottomŽ!«!   bottom-startŽ!«!   left-endŽ!«!	   leftŽ!«!   left-start   Ž!«!       Ž!«!	   FLIP‹!«!Ž!«!   CLOCKWISE‹!«!Ž!«!!   COUNTERCLOCKWISE‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!Ž!«!   offset‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!Ž!«!   priority‹!«!Ž!«!   padding‹!«!Ž!«!#   boundariesElement‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!Ž!«!   element‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!Ž!«!   behavior‹!«!Ž!«!   padding‹!«!Ž!«!#   boundariesElement‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!Ž!«!   gpuAcceleration‹!«!Ž!«!   x‹!«!Ž!«!   y‹!«!    Ž!«!       Ž!«!   order‹!«!Ž!«!   enabled‹!«!Ž!«!   fn‹!«!Ž!«!   onLoad‹!«!Ž!«!   gpuAcceleration‹!«!    Ž!«!    
   Ž!«!   shift‹!«!Ž!«!   offset‹!«!Ž!«!   preventOverflow‹!«!Ž!«!   keepTogether‹!«!Ž!«!   arrow‹!«!Ž!«!	   flip‹!«!Ž!«!   inner‹!«!Ž!«!	   hide‹!«!Ž!«!   computeStyle‹!«!Ž!«!   applyStyle‹!«!    !«!          onCreateB  ªG ®G ¢G ®G @   óE         Ê5ž!«!          onUpdateB  ÀG ÄG ¸G ÄG @   	F         Ê5žŽ!«!       Ž!«!   placement‹!«!Ž!«!   eventsEnabled‹!«!Ž!«!   removeOnDestroy‹!«!Ž!«!   onCreate‹!«!Ž!«!   onUpdate‹!«!Ž!«!   modifiers‹!«!    !«!          wa<b  ÞG ‚L ÖG ‚L @   'F             a      a ëG K áG K @   4F  3          e    f   B  _H ‰H WH ‰H @   ¨F         Ê5ž   B ¬I J ¤I J @   õG         Ê5ž   B IJ xJ AJ xJ @   ’H         Ê5ž   B ‡J ¤J J ¤J @   ÐH         Ê5ž   B ÅJ K ½J K @   I         Ê5žÊ5ž   B  ¨K ¿K  K ¿K @   ñI         Ê5ž   B  ÞK õK ÖK õK @   'J         Ê5ž   B  !L 8L L 8L @   jJ         Ê5ž   B  eL |L ]L |L @   ®J         Ê5žÊ5žš˜;ø    á  _   Ê5ž!«!       C                                              €  M  M M  M A                 š    5   ™!Ê    M   cfgŒ!«!ÿÿÿÿ              «+’Hš˜;ø      Ê5žŽ!«!      Ž!«!!   core/icon_systemŽ!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/mustacheŽ!«!#   core/localstorageŽ!«!   core/url    !«!       B «M Q £M Q B   ˆ             a    b    c    d    e    f    g    h   B  ÕM ðM ÍM ðM B   ²         Ê5ž   B  8N ©O 0N ©O B              B O ›O O ›O B   ø           B <O `O 4O `O B            Ê5žÊ5žÊ5ž   B ÉO ¶P ÁO ¶P B   ¦          Ê5ž   B  ÛP  Q ÓP  Q B   ¸         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!1   core/paged_content_pagesŽ!«!;   core/paged_content_paging_barŽ!«!Y   core/paged_content_paging_bar_limit_selectorŽ!«!E   core/paged_content_paging_dropdown    !«!       B ÅQ S ½Q S C   ¿   `          a    b    c    d    e   B ßQ ¾R ×Q ¾R C   Ù          Ê5žÊ5ž!«!       C   W                                           €  /S T 'S T D   '              [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =
   ]   ™*•ÊÊÊÊ"ÊÊ"ÊÊ    modal:shown   shown   modal:hidden   hidden   modal:destroyed   destroyed%   modal:bodyRendered   bodyRendered-   modal-save-cancel:save	   save1   modal-save-cancel:cancel   cancel   yes   noŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!   shown‹!«!Ž!«!   hidden‹!«!Ž!«!   destroyed‹!«!Ž!«!   bodyRendered‹!«!Ž!«!	   save‹!«!Ž!«!   cancel‹!«!Ž!«!   yes‹!«!Ž!«!   no‹!«!    š˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/modalŽ!«!#   core/modal_events    !«!       C  ƒ          $                                  ¥T 9W T 9W E                 [    =    ]   ‰   Q‚   W   QV   š   ¸   
ˆ   5   : 6   QV   5   V   6   QV   5   ‚   6   QV   5   ‚   6   QV   ™€  ••Ð(Ê}ÚÉÓÔgÔ€ +” -   [data-action="cancel"]   CANCEL_BUTTON   prototype   Object   create   constructor   setFooter-   registerEventListenersŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g      «+’HŽ!«!       Ž!«!   CANCEL_BUTTON‹!«!    !«!          gB êT \U âT \U E   Ê          Ê5ž!«!       +   g.prototype.setFooterb  ÃU V »U V E   £         Ê5ž!«!       E   g.prototype.registerEventListenersb  7V 6W /V 6W E              B ¥V )W V )W E   …         Ê5žÊ5žš˜;øÊ5ž!«!       C                                           € EW ÞW =W ÞW F   	              G=    š   'E   æQš   5   æ    æš      =   T ç P   æ=   š   'E   æQš   5   æ   æš   T :  0      æT  T :  0   æQ™‘•ÙØÎ%ÙÏ-Õ
Ê    function   define   amd   core/loglevel   object   module   exports   logŒ!«!ÿÿÿÿ      a   b        «+’Hš˜;ø      Ê5ž!«!       C   Ó          6                         	       €  ìW Ÿ` äW Ÿ` F                  ‚    ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q=    ‰ 	  Qf   ‰ 
  Qˆ   A,  R  ‰   Q[   ‰   Qˆ   ‚	   0   Qš   'ˆ 	  I   æš   5      æ>(æ‰   Qˆ   ‚
   0   Qˆ   ™ÿ“€  ³€ ËËË*ÊÉËÐ€  ÇÌÖÉÐT•    undefined   getLogger   window   log   noConflictŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l         «+’H!«!          a            ,                                X ÆX üW ÆX F                 ˆ   T 7‰   Q=    ˆ   5   Ä   æˆ   ¸   
ˆ   : æ†š   5   5   ¸   
ˆ   ˆ   l    æ˜Ž‹   Qv‹   Q‚    ˜É™É æ™€  ÔÔÌ–Ñ“€  ŠŠ%‘ÿÿÿ„à“uÉÿÿÿµÌ•J    function	   bind   Function   prototype	   callŒ!«!ÿÿÿÿ      a   b   c       ˆ!«!          d          «+’H!«!         a/<b  ŠX ÄX ‚X ÄX F   N         Ê5žš˜;ø     =   )      i      ÿÿÿÿ    |          Ê5ž!«!          b  Š                                             ÐX PY ÆX PY F   ”             =    T  HE   æQ=   U  æQš   'ˆ 	  IEa   æQ>(š   T  7I   æˆ   š   T  : 7   æ>(š   5   I   æˆ   š   =   :    æˆ   æ™€ ˜ÚÓÌÔÉÍÖÏ    debug   log   consoleŒ!«!ÿÿÿÿ      b        «+’Hš˜;ø       Ê5ž!«!          c  ˜         *                                ZY ÃY PY ÃY F        
       ¹W  Q>W   Q `   mˆ 
  V   7W  QV  V  V   T     æˆ      æV  ¸    
V  T  T : æ9QæV   #?W   QQãV   ˆ 
  Ù   ”ÿÿÿæV  V  5   0   Q™–€ (&`Qq–‘ÏÐæ—ÿÿÿâÎÿÿÿõ×CÓ    methodFactory   length   log   debugŒ!«!ÿÿÿÿ      a   b   c   d   .this       «+’Hš˜;ø       q   "       Ê5ž!«!          d ÍY -Z ÃY -Z F   ‘  @          a    b    d   B  äY ,Z ÜY ,Z F   ¨        Ê5žÊ5ž!«!          e  9                                         " 7Z dZ -Z dZ F   û            	W   Q¹W  Qˆ   T  : D   æQˆ   ¸    
V  V   O æ™Å—€ ÉÞ”    applyŒ!«!ÿÿÿÿ      a   c   e   arguments   .this       «+’Hš˜;ø       Ê5ž!«!          f  I        E                                 nZ ý^ dZ ý^ F                 ¹W  Q‚    ‰   Q‚   ‰   QV  ‰   Q=    ‰   Qˆ   E   æQˆ   =   ˆ   ‰   æQˆ   [   >]   ?]   ×]   ×]   ×]   ×]   0   Qˆ   T D   æQˆ  æ0	   Qˆ   ‚   0
   Qˆ   ‚   0   Qˆ   ‚   0   Qˆ   ‚   0   Qˆ   ‚   0   Qˆ   :  W   Q@V   E%   æQ@T    æ=   	   æT æW   æQˆ   ¸   
V   Bç Q™Ü€ 
ÊËäÊ
––———Í
ÛÐ Ð€ HÐ5Ð6Ð<–ÈÒÛÕ    loglevel   :   levels   TRACE   DEBUG	   INFO	   WARN   ERROR   SILENT   methodFactory   getLevel   setLevel   setDefaultLevel   enableAll   disableAllŒ!«!ÿÿÿÿ
      a   b   d   f   g   j   k   l   m   .this      «+’H!«!          f  ±       	   +                                €Z :[ vZ :[ F   D            ˆ
  T  7D   æQ=    æ¸   
:  W   Qš   'ˆ	  I~   æ†š   5   ˆ   V   9(   æ˜Ž‹  Qv‹  QÉ æ†š   5   š      ˆ   : =   V   =   0   Q   æ˜Ž‹  Qv‹  QÉ æ™€ LÝÈ!ÌŽ‘ÕoÉÿÿÿ¸Ïˆ4‘Ùâ(Ï    silent   toUpperCase   window   localStorage   document   cookie%   encodeURIComponent   =   ;Œ!«!ÿÿÿÿ      a   b       ˆ!«!          c         ˆ!«!          c         «+’Hš˜;ø     f   8        8         V      ÿÿÿÿ   ¡      ÿÿÿÿ€       Ê5ž!«!          g         
   A                                D[ B\ :[ B\ F        	       š    'ˆ	  Iø   æ†š    5   ˆ   7W   Q   æ˜Ž‹  Qv‹  QÉ æV   'ˆ	  H“   æ†š    5   5   W  QV  ¸   
š      ˆ   : =   : W  QV  ×ÿIE.   æQ     ¸   
V  ¸   
V  : : ?7W   æQ   æ˜Ž‹  Qv‹  QÉ æ>(ˆ   5	   V   7HE   æQ>(W   æQV   æ™€ ÌŽ‘Ý!ÏËŽw‘ÔÚÉÿÿÿöÈ%é“ÿÿÿðÓ(ÏÙÈ”    window   localStorage   document   cookie   indexOf%   encodeURIComponent   =	   exec   slice   levelsŒ!«!ÿÿÿÿ      a   c   d         ˆ!«!          b         ˆ!«!          b         «+’HŒ!«!   ^([^;]+)    š˜;ø     Q   {                 0      ÿÿÿÿ   Ï      ÿÿÿÿ€       Ê5žŽ!«!       Ž!«!   TRACE‹!«!Ž!«!   DEBUG‹!«!Ž!«!	   INFO‹!«!Ž!«!	   WARN‹!«!Ž!«!   ERROR‹!«!Ž!«!   SILENT‹!«!    !«!          f/k.getLevelb  Ì\ Ø\ Ä\ Ø\ F            Ê5ž!«!          f/k.setLevelc        	   .                                  ì\  ^ ä\  ^ F   °             =    T  'ED   æQ>(ˆ   5   T  ¸   
:  7IE"   æQˆ   5   T  ¸   
:  7U  æQ=   T  'E&   æQT  >E   æQT  ˆ   5   5   æ    æ=   T  pæT  ‰   QT BIE   æQˆ   T  : æQˆ  ¸   
ˆ   T  ˆ   l Qš   'ˆ	  HE   æQT  ˆ   5   5   æ   æ=   æ™€ ¹•
Ì
ÖàÉ•í–$Ë7ÉÕ•Ýç–&•(    string   levels   toUpperCase   number   SILENTU   log.setLevel() called with invalid level: 	   call   consoleA   No console available for loggingŒ!«!ÿÿÿÿ      b   d        «+’Hš˜;ø       Ê5ž!«!       '   f/k.setDefaultLevelb ;^ U^ 3^ U^ F   ÿ         Ê5ž!«!          f/k.enableAllb j^ ‹^ b^ ‹^ F   .         Ê5ž!«!          f/k.disableAllb ¡^ Ã^ ™^ Ã^ F   e         Ê5žš˜;øÊ5ž!«!          gC                                                 _ _ _ _ F   Ï              ™€ Ò Œ!«!ÿÿÿÿ              «+’Hš˜;ø       Ê5žŽ!«!      Ž!«!   traceŽ!«!   debugŽ!«!	   infoŽ!«!	   warnŽ!«!   error   Ž!«!            !«!          j.getLoggerb i_ ` a_ ` F   -         Ê5ž!«!          j.noConflictb  ^` œ` V` œ` F   "	         Ê5žš˜;øÊ5ž!«!       B  É` yi Á` yi G   '              a      a Ö` àa Ì` àa G   4          Ê5ž   B c ïc 
c ïc G   p         Ê5ž   B  d -d d -d G   k         Ê5ž   B  Ld cd Dd cd G   ª         Ê5ž   B  d Ÿd yd Ÿd G   ß         Ê5ž   B  ½d Ód µd Ód G            Ê5ž   B  òd 	e êd 	e G   P         Ê5ž   B  (e ?e  e ?e G   †         Ê5ž   B  \e qe Te qe G   º         Ê5ž   B  e §e ˆe §e G   î         Ê5ž   B  Åe Ûe ½e Ûe G   #         Ê5ž   B  ùe f ñe f G   W         Ê5ž   B  5f df -f df G   “         Ê5ž   B ‚f —f zf —f G   à         Ê5ž   B ¶f :g ®f :g G            Ê5ž   B Yg £g Qg £g G   ·         Ê5ž   B Âg ôg ºg ôg G             Ê5ž   B h zh 	h zh G   o         Ê5ž   B ˜h °h h °h G   ö         Ê5ž   B Îh æh Æh æh G   ,         Ê5ž   B i vi i vi G   i         Ê5žÊ5žŽ!«!      Ž!«!   core/yuiŽ!«!   jqueryŽ!«!   core/log    !«!       C  ó          W                         
         Ái _s ¹i _s H                  [	   [    =    ]   =   ]   =   ]   =   ]   ]   =	   ]
   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‰   Q[   ‚
   ]   ˆ   5   ]   ˆ   5   ]   ˆ   5   ]   ˆ   5   ]   ˆ   5   ]   ™Q••Ê$ÊÊ$Ï!ÊÊ€  ¶ÊnÊ€  îÊ€ Ê€ &Ê€  ‹Ê€  îÐ€ =•ÊeÏ(Ï"ÏÏÏ 3   core/notification_success   success-   core/notification_info	   info3   core/notification_warning   warning/   core/notification_error   error   types%   user-notifications   fieldName%   fetchNotifications!   addNotifications#   setupTargetRegion   addNotification%   renderNotification   alert   confirm   exception	   initŒ!«!ÿÿÿÿ      a   b   c   d       «+’HŽ!«!       Ž!«!   success‹!«!Ž!«!	   info‹!«!Ž!«!   warning‹!«!Ž!«!   error‹!«!    !«!       %   fetchNotificationsB  ˜j 2k j 2k H              B ¹j 0k ±j 0k H   =         Ê5žÊ5ž!«!       !   addNotificationsB Lk  k Dk  k H   Ð           B kk žk ck žk H   ï         Ê5žÊ5ž!«!       #   setupTargetRegionB  »k Žl ³k Žl H   ?         Ê5ž!«!          addNotificationB §l •m Ÿl •m H   +         Ê5ž!«!       %   renderNotificationB ±m »n ©m »n H   5  0          a    e   B n xn n xn H   ’             c   B -n dn %n dn H   ±         Ê5žÊ5žÊ5ž!«!          alertB Ên Fo Ân Fo H   N  @          b    c    d   B  o Do ùn Do H   …         Ê5žÊ5ž!«!          confirmB Wo 4p Oo 4p H   Û  p          b    c    d    e    f    g   B  –o 2p Žo 2p H              B  ùo  p ño  p H   }         Ê5ž   B   p 'p p 'p H   ¤         Ê5žÊ5žÊ5ž!«!          exceptionB Gp pr ?p pr H   Ë  0          b   B  Dr nr <r nr H   È         Ê5žÊ5žŽ!«!    
   Ž!«!   types‹!«!Ž!«!   fieldName‹!«!Ž!«!%   fetchNotifications‹!«!Ž!«!!   addNotifications‹!«!Ž!«!#   setupTargetRegion‹!«!Ž!«!   addNotification‹!«!Ž!«!%   renderNotification‹!«!Ž!«!   alert‹!«!Ž!«!   confirm‹!«!Ž!«!   exception‹!«!    !«!       	   initB †r Ýr ~r Ýr H   
	         Ê5žŽ!«!       Ž!«!	   init‹!«!Ž!«!%   fetchNotifications‹!«!Ž!«!   addNotification‹!«!Ž!«!   alert‹!«!Ž!«!   confirm‹!«!Ž!«!   exception‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!   core/str    !«!       C  %                                             ¼s úv ´s úv I                 ‚    ‰   Q‚   W   Q[   V   ]    ™fË€ Ê•É 	   initŒ!«!ÿÿÿÿ      a   b   c   d   e      «+’H!«!          dC  i                                          €   Òs Øv Ês Øv I                 ˆ   =    : W   Qˆ   ¸   
V   Z   ˆ   5   5   `    ç QV   ¸   
ˆ   5   5   =   ‚    ç Q™wËÈ
ÕÔÿÿÿô” è€ Ò 	   body   define   events   activate   on/   [data-show-active-item]Œ!«!ÿÿÿÿ      d         «+’H!«!          d/<b >t Öv 6t Öv I   Ü   @          h   B v ³v ‡v ³v I   -         Ê5ž   B  Æv Òv ¾v Òv I   d         Ê5žÊ5žš˜;øÊ5ž!«!          eC             	                                 €  ãv êv Ûv êv I                ˆ   ç  Q™€ „Ê Œ!«!ÿÿÿÿ              «+’Hš˜;ø       Ê5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!/   core_calendar/selectorsŽ!«!)   core_calendar/eventsŽ!«!   core/strŽ!«!   core/templates    !«!       C  =                                              …w àz }w àz J                  ‚    ‰   Q‚   ‰   Q‚   ‰ 	  Q‚   ‰ 
  Q[   ‚   ]    ™€  ˜Ë€ Ë€ Ë€  ²ËW•Ê 	   initŒ!«!ÿÿÿÿ	      a   b   c   d   e   f   g   h   i       «+’H!«!          fC M                                            Ÿw —x —w —x J                  ˆ   ¸    
=   ˆ  5   ‚    ç Qˆ  =   : ¸    
ˆ  5   ‚   ç Q™€  ¦ä^è€  •    on   click   eventFilterItem	   body   viewUpdatedŒ!«!ÿÿÿÿ      d       «+’H!«!          f/<b Êw ÿw Âw ÿw J   Í          Ê5ž!«!          f/<b  $x •x x •x J   '           B Vx “x Nx “x J   Y          Ê5žÊ5žš˜;øÊ5ž!«!          gB ¢x °y šx °y J   ¥  0          a    b   B 	y y y y J            Ê5ž   B .y fy &y fy J   1         Ê5ž   B uy —y my —y J   x         Ê5ž   B  ¦y ®y žy ®y J   ©         Ê5žÊ5ž!«!          hB »y bz ³y bz J   ¾         Ê5ž!«!          iB mz ¹z ez ¹z J   p         Ê5ž!«!       	   initC                                            €  Îz Þz Æz Þz J   Ñ             ˆ   T  : U  Qˆ   T  ç Q™€ ÕÉ—Í Œ!«!ÿÿÿÿ      b        «+’Hš˜;ø       Ê5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/modalŽ!«!'   core/modal_registryŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!1   core_calendar/repositoryŽ!«!)   core_calendar/eventsŽ!«!%   core_calendar/crud    !«!       C  V         O       
                           ï{ kƒ ç{ kƒ K                 BW   Q[    =    ]   =   ]   =   ]   ‰   Q‚   W  QV  =   6   QV  š	   ¸
   
ˆ   5   : 6   QV  5   V  6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚	   6   QV   D,   æQT ¸   
V  5   V  =   ç QCW   æQV  ™€ (–•Ê/Ê#Ð(ÊÏ%ÚÉÓÔ€  ˜Ô€  ¢Ô\ÔbÔbÔ\ÔjÔ€ îËà9—” O   [data-region='summary-modal-container']	   ROOT)   [data-action="edit"]   EDIT_BUTTON-   [data-action="delete"]   DELETE_BUTTON	   TYPE7   core_calendar-event_summary   prototype   Object   create   constructor   getEditButton   getDeleteButton   getEventId   getEventTitle   getEventCount   getEditUrl   isActionEvent-   registerEventListeners   registerC   core_calendar/event_summary_modalŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n      «+’HŽ!«!       Ž!«!	   ROOT‹!«!Ž!«!   EDIT_BUTTON‹!«!Ž!«!   DELETE_BUTTON‹!«!    !«!          nB —| ª| | ª| K   ´         Ê5ž!«!       3   n.prototype.getEditButtonb  :} ¯} 2} ¯} K   W         Ê5ž!«!       7   n.prototype.getDeleteButtonb  Ô} Q~ Ì} Q~ K   ñ         Ê5ž!«!       -   n.prototype.getEventIdb  q~ ­~ i~ ­~ K   Ž         Ê5ž!«!       3   n.prototype.getEventTitleb  Ð~  È~  K   í         Ê5ž!«!       3   n.prototype.getEventCountb  2 q * q K   O         Ê5ž!«!       -   n.prototype.getEditUrlb  ‘ Í ‰ Í K   ®         Ê5ž!«!       3   n.prototype.isActionEventb  ð 7€ è 7€ K            Ê5ž!«!       E   n.prototype.registerEventListenersb  c€ %ƒ [€ %ƒ K   €           B  ½€ n µ€ n K   Ú         Ê5ž   B  š © ’ © K   ·         Ê5ž   B ‚ ƒ ‚ ƒ K   8         Ê5žÊ5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!#   core/modal_eventsŽ!«!%   core/modal_factoryŽ!«!=   core_calendar/modal_event_formŽ!«!7   core_calendar/summary_modalŽ!«!1   core_calendar/repositoryŽ!«!)   core_calendar/eventsŽ!«!5   core_calendar/view_managerŽ!«!%   core_calendar/crudŽ!«!/   core_calendar/selectors    !«!       B å„ ëŒ Ý„ ëŒ L   w  Ð          a    d    e    k    l    m    n    o    p    q    r    s   B 3† ¯ˆ +† ¯ˆ L   Å  P          c    f    g    i   B ½† R‡ µ† R‡ L   O         Ê5ž   B  a‡ †‡ Y‡ †‡ L   ó         Ê5ž   B  •‡ À‡ ‡ À‡ L   '         Ê5ž   B  Ñ‡ ›ˆ É‡ ›ˆ L   c          Ê5žÊ5ž   B ºˆ Š ²ˆ Š L   L             b   B  çˆ ‰ ßˆ ‰ L   y         Ê5ž   B  ‰ 6‰ ‰ 6‰ L   ­         Ê5ž   B  O‰ j‰ G‰ j‰ L   á         Ê5ž   B ‹‰ «‰ ƒ‰ «‰ L            Ê5ž   B  Û‰ ö‰ Ó‰ ö‰ L   m         Ê5žÊ5ž   B  Š ºŒ Š ºŒ L   ²  0          b    c   B  TŠ âŠ LŠ âŠ L   æ  "          d   B  ›Š ÎŠ “Š ÎŠ L   -         Ê5žÊ5ž   B \‹ ¸Œ T‹ ¸Œ L   î  B          d    f   B Ë‹ Œ Ã‹ Œ L   ]         Ê5žÊ5žÊ5ž   B ÏŒ éŒ ÇŒ éŒ L   a	         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!#   core/notificationŽ!«!/   core_calendar/selectorsŽ!«!)   core_calendar/eventsŽ!«!5   core_calendar/view_managerŽ!«!1   core_calendar/repositoryŽ!«!%   core/modal_factoryŽ!«!=   core_calendar/modal_event_formŽ!«!#   core/modal_eventsŽ!«!%   core_calendar/crud    !«!       B Ž æ Ž æ M      €          a    c    d    e    f    k    l   B 4Ž ¯ ,Ž ¯ M   F  0          b    i   B  °Ž »Ž ¨Ž »Ž M   Â         Ê5ž   B  ÔŽ ßŽ ÌŽ ßŽ M   æ         Ê5ž   B  øŽ  ðŽ  M   
         Ê5ž   B  , î $ î M   >  "          g   B  c  [  M   u         Ê5ž   B  œ Ú ” Ú M   ®         Ê5žÊ5ž   B  n  n M            Ê5žÊ5ž   B Ä ä ¼ ä M   Ö         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!/   core_calendar/selectorsŽ!«!)   core_calendar/eventsŽ!«!5   core_calendar/view_manager    !«!       C  2                                             p‘ g” h‘ g” N                  ‚    ‰   Q‚   ‰   Q‚   ‰   Q[   ‚   ]    ™€  •Ë€  Ë€  µË€ U•ÊJ 	   initŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g       «+’H!«!          eC É       	                                   €  ˆ‘ 
’ €‘ 
’ N   Ÿ             ˆ   =    : W   Q=   T  ¸   
=   : W  QV   ¸   
ˆ   5   V  T  ˆ   ç QV   ¸   
ˆ   5   V  T  ˆ   ç QV   ¸   
ˆ   5   V  T  ˆ   ç QV   ¸   
ˆ   5   V  T  ˆ   ç Q™€  §ËÈ
ÔÉææææ 	   body   .	   attr   id   on   created   deleted   updated   eventMovedŒ!«!ÿÿÿÿ      b   d   e       «+’Hš˜;ø       Ê5ž!«!          fB ’ ¿’ ’ ¿’ N   ,         Ê5ž!«!          gC        	                                     Ê’ ” Â’ ” N                  ˆ  =    : ¸   
ˆ  5   ‚    ç Q=   ˆ   ¸   
=   : ‰   Qˆ  =    : ¸   
=   ˆ   ˆ  5   5   ‚   ç Q™€ åè€  …ÖÊø€  ­ 	   body   on   filterChanged   .	   attr   id   change   elements   courseSelectorŒ!«!ÿÿÿÿ      e   f       «+’H!«!          g/<b ó’ M“ ë’ M“ N   
         Ê5ž!«!          g/<b   “ ” ˜“ ” N   ·  "       Ê5žš˜;øÊ5ž!«!       	   initC \                                          €  )” e” !” e” N   @             ˆ   T  : U  Qˆ   ¸    
T  ç Qˆ   T  ç Qˆ   T  ç QT E   æQˆ   ¸   
T  : æQ™€ FÉ—Ó
ÍÍÙ• 	   init%   reloadCurrentMonthŒ!«!ÿÿÿÿ      b   c        «+’Hš˜;ø       Ê5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/modalŽ!«!'   core/modal_registryŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!=   core_calendar/modal_event_formŽ!«!1   core_calendar/repositoryŽ!«!)   core_calendar/eventsŽ!«!5   core_calendar/modal_deleteŽ!«!/   core_calendar/selectors    !«!       C  K                                             °• Ž ¨• Ž O                 ‚    ‰   Q‚   W   Q‚   W  Q‚   W  Q[   V   ]    V  ]   V  ]   ™ß€ Ê€ Ë•ÉÉÉ    registerRemove+   registerEditListeners-   registerEventFormModalŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q      «+’H!«!          n Ö• ß˜ Ì• ß˜ O   l  0          d    n   B — $— — $— O   ­         Ê5ž   B j— Â˜ b— Â˜ O               B  Ó— 6˜ Ë— 6˜ O   i           B  ÷— ˜ ï— ˜ O            Ê5žÊ5ž   B  [˜ ¾˜ S˜ ¾˜ O   ñ           B  ˜ ¦˜ w˜ ¦˜ O            Ê5žÊ5žÊ5žÊ5ž!«!          o é˜ š™ ß˜ š™ O              B ™ ˜™ ™ ˜™ O   ©         Ê5žÊ5ž!«!          p ¤™ uš š™ uš O   :             b   B À™ _š ¸™ _š O   V             c   B å™ ]š Ý™ ]š O   {         Ê5žÊ5žÊ5ž!«!          qB ƒš C {š C O     0          b    d   B Ûš (œ Óš (œ O   q           B îš œ æš œ O   „         Ê5žÊ5ž   B Nœ ? Fœ ? O   ä  @          b    f    g   B ½œ + µœ + O   S         Ê5žÊ5žÊ5žŽ!«!       Ž!«!   registerRemove‹!«!Ž!«!+   registerEditListeners‹!«!Ž!«!-   registerEventFormModal‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!1   core_calendar/repository    !«!       B â *  Ú *  P   Q   P          a    b    c    d   B bž ÷Ÿ Zž ÷Ÿ P   Ñ   0          d    f   B –ž VŸ Žž VŸ P                e   B 
Ÿ TŸ Ÿ TŸ P   y         Ê5žÊ5ž   B  mŸ õŸ eŸ õŸ P   Ü           B ÂŸ ÒŸ ºŸ ÒŸ P   1         Ê5žÊ5žÊ5ž   B     úŸ   P   q         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!/   core_calendar/selectorsŽ!«!)   core_calendar/eventsŽ!«!   core/templatesŽ!«!5   core_calendar/view_manager    !«!       B ß  ¤ ×  ¤ Q   ²   p          a    b    c    d    f    g   B û  h¤ ó  h¤ Q   Î   0          e    h   B +¡ ¡ #¡ ¡ Q   þ   `          a    c    d    f    g   B G¡ Ž¡ ?¡ Ž¡ Q                e   B  l¡ z¡ d¡ z¡ Q   ?         Ê5žÊ5žÊ5ž   B  ¡ g¤ ˜¡ g¤ Q   s  0          p    s   B  Æ£ e¤ ¾£ e¤ Q   ™  0          b    c   B  ¤ +¤ ¤ +¤ Q   Þ         Ê5ž   B  H¤ W¤ @¤ W¤ Q            Ê5žÊ5žÊ5žÊ5ž   B }¤ ¤ u¤ ¤ Q   P         Ê5žÊ5ž!«!       C             )                                 €  ¼¤ ¯¦ ´¤ ¯¦ R   *              [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   ™-•Ê"Ê"Ê'Ê"Ê'Ê4Ê)Ê)Ê-Ê'Ê/Ê+ /   calendar-events:created   created/   calendar-events:deleted   deleted5   calendar-events:delete_all   deleteAll/   calendar-events:updated   updated5   calendar-events:edit_event   editEventC   calendar-events:edit_action_event   editActionEvent7   calendar-events:event_moved   eventMoved7   calendar-events:day_changed   dayChanged;   calendar-events:month_changed   monthChanged5   calendar-events:move_event   moveEvent=   calendar-events:filter_changed   filterChanged9   calendar-events:view_updated   viewUpdatedŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!   created‹!«!Ž!«!   deleted‹!«!Ž!«!   deleteAll‹!«!Ž!«!   updated‹!«!Ž!«!   editEvent‹!«!Ž!«!   editActionEvent‹!«!Ž!«!   eventMoved‹!«!Ž!«!   dayChanged‹!«!Ž!«!   monthChanged‹!«!Ž!«!   moveEvent‹!«!Ž!«!   filterChanged‹!«!Ž!«!   viewUpdated‹!«!    š˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/modalŽ!«!#   core/modal_eventsŽ!«!'   core/modal_registryŽ!«!)   core_calendar/events    !«!       C  Ê          4                         
         m§ ¦« e§ ¦« S                 BW   Q[    =    ]   =   ]   =   ]   ‰   Q‚   W  QV  =   6   QV  š	   ¸
   
ˆ   5   : 6   QV  5   V  6   QV  5   ‚   6   QV   D,   æQT ¸   
V  5   V  =   ç QCW   æQV  ™€  Ï–•Ê.Ê.Ð(ÊÏ$ÚÉÓÔ€ ÐËà3—” 3   [data-action="deleteone"]#   DELETE_ONE_BUTTON3   [data-action="deleteall"]#   DELETE_ALL_BUTTON-   [data-action="cancel"]   CANCEL_BUTTON	   TYPE5   core_calendar-modal_delete   prototype   Object   create   constructor-   registerEventListeners   register7   calendar/event_delete_modalŒ!«!ÿÿÿÿ
      a   b   c   d   e   f   g   h   i   j      «+’HŽ!«!       Ž!«!#   DELETE_ONE_BUTTON‹!«!Ž!«!#   DELETE_ALL_BUTTON‹!«!Ž!«!   CANCEL_BUTTON‹!«!    !«!          jB ¨ *¨ ¨ *¨ S   e         Ê5ž!«!       E   j.prototype.registerEventListenersb  Â¨ f« º¨ f« S              B 4© ¶© ,© ¶© S   ‚         Ê5ž   B ª ‹ª ü© ‹ª S   R         Ê5ž   B Õª Y« Íª Y« S   #         Ê5žÊ5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!E   core_calendar/drag_drop_data_store    !«!       B ¬ O° ¬ O° T   k      	       a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q   B Ð¬ ÷¬ È¬ ÷¬ T   '         Ê5ž   B  ­ %­ ú¬ %­ T   Y         Ê5ž   B  0­ V­ (­ V­ T   ‡         Ê5ž   B a­ £­ Y­ £­ T   ¸         Ê5ž   B ®­ ç­ ¦­ ç­ T            Ê5ž   B ò­ {® ê­ {® T   I  0          c   B  T® h® L® h® T   «         Ê5žÊ5ž   B †® é® ~® é® T   Ý          Ê5ž   B ô® ;¯ ì® ;¯ T   K          Ê5ž   B P¯ M° H¯ M° T   §         Ê5žÊ5žŽ!«!   
   Ž!«!   jqueryŽ!«!   core/templatesŽ!«!   core/strŽ!«!#   core/notificationŽ!«!1   core_calendar/repositoryŽ!«!)   core_calendar/eventsŽ!«!/   core_calendar/selectorsŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!7   core_calendar/summary_modal    !«!       C 
 ë          h                            
      M± &Á E± &Á U                 ‚    ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q‚   ‰   Q‚   W  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚	   W  Q‚
   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q[   ‚   ]    V   ]   ˆ   ]   ˆ   ]   V  ]   ˆ   ]   ˆ   ]   V  ]   ™€ Ë€ gË€ ÊË€  ÔÊ€  ëË€ ÁÊ€  ÞË€  ØËNËKÊ€ §Ë€  ›Ë,Ë€ JËd•ÊÉÊÊÉÊÊÉ 	   init%   reloadCurrentMonth   changeMonth'   refreshMonthContent!   reloadCurrentDay   changeDay#   refreshDayContent+   reloadCurrentUpcomingŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u   v   w   x 
 
    «+’H!«!          kC g                                            q± Í³ i± Í³ U                  ˆ  ˆ   : ‰   Qˆ   ¸    
=   ˆ  5   5   ‚    ç Qˆ   ¸    
=   ˆ  5   5   ‚   ç Q™€ #ËÉé€  ÿé€ Q    on   click   links   eventLink   navLinkŒ!«!ÿÿÿÿ      b       «+’H!«!          k/<b £± y² ›± y² U   Q         Ê5ž!«!          k/<b  ² Ë³ ˜² Ë³ U   N         Ê5žš˜;øÊ5ž!«!          lC H         >                         -         Ø³ —µ Ð³ —µ U          
       ˆ  ˆ   ç Qˆ   D    æQˆ   ¸    
ˆ  5   : æ‰   Qš   5   ¸   
Z   ˆ   ¸   
=   : `    ˆ   `   ˆ   `   ˆ   `   ¸   
=   : ç Qˆ   ¸	   
=
   : W   Qˆ   ¸	   
=   : W  Qˆ  ¸   
ˆ   ˆ   ˆ   T V   V  : ¸   
‚    : ¸   
‚   : ¸   
‚   : ¸   
‚   : ¸   
ˆ  5   : ™€ ”ÏâÊÖÙÊÊÖÿÿÿï“ÿÿÿî”5ÑÈÑÈæÿÔ€ ) 	   find   wrapper   M	   util   js_pending   get   id	   join   -	   data#   includenavigation	   mini)   getCalendarMonthData	   then   always	   fail   exceptionŒ!«!ÿÿÿÿ      c   h   i   j   k   l   m   n      «+’H!«!          l/<b ž´ Í´ –´ Í´ U   L         Ê5ž!«!          l/<b Ü´ þ´ Ô´ þ´ U   Š         Ê5ž!«!          l/<b  µ 1µ µ 1µ U   »         Ê5ž!«!          l/<b  Bµ ƒµ :µ ƒµ U   ð         Ê5žš˜;øÊ5ž!«!          mB ¢µ k¶ šµ k¶ U   P  `          c    d    e    g    h   B  Ñµ ¶ Éµ ¶ U            Ê5ž   B  )¶ i¶ !¶ i¶ U   ×         Ê5žÊ5ž!«!          nC ê          '                                €  v¶ V· n¶ V· U   $     	       T  ¸    
ˆ   5   : ¸   
=   : W   QT  ¸    
ˆ   5   : ¸   
=   : W  Q=   T 'E0   æQT  ¸    
ˆ   5   : ¸   
=   : U æQ=   T 'E0   æQT  ¸    
ˆ   5   : ¸   
=   : U æQˆ   T  V   V  T T : ™€ 0Ô×Ô× •à×$•à×&Ú 	   find   wrapper	   data	   year   month   undefined   courseid   categoryidŒ!«!ÿÿÿÿ      a   b   c   d   e       «+’Hš˜;ø       Ê5ž!«!          oB a· ¹ Y· ¹ U     €          c    h    i    j    k    l    m   B ¸ I¸ ¸ I¸ U   È         Ê5ž   B X¸ z¸ P¸ z¸ U            Ê5ž   B  ‰¸ ­¸ ¸ ­¸ U   7         Ê5ž   B  ¾¸ ¹ ¶¸ ¹ U   l         Ê5žÊ5ž!«!          pB "¹ õ¹ ¹ õ¹ U   Ð         Ê5ž!«!          qB  º Íº ø¹ Íº U   ®	  p          c    d    e    g    h    i   B  3º |º +º |º U   á	         Ê5ž   B  ‹º Ëº ƒº Ëº U   9
         Ê5žÊ5ž!«!          rC 6                                          €  Øº » Ðº » U   †
            T  ¸    
ˆ   5   5   : W   QV   ¸   
=   ç Q™€ 
ŽÙÈ!Ô 	   find   containers   loadingIcon   removeClass   hiddenŒ!«!ÿÿÿÿ      a   b       «+’Hš˜;ø       Ê5ž!«!          sB &» f» » f» U   Ô
         Ê5ž!«!          tB q» ½ i» ½ U     0          c    j   B F¼ u¼ >¼ u¼ U   ô         Ê5ž   B „¼ ¦¼ |¼ ¦¼ U   2         Ê5ž   B  µ¼ Ù¼ ­¼ Ù¼ U   c         Ê5ž   B  ê¼ ù¼ â¼ ù¼ U   ˜         Ê5žÊ5ž!«!          uB ½ ¨½ ½ ¨½ U   Æ          Ê5ž!«!          vB ³½ Ô½ «½ Ô½ U   a         Ê5ž!«!          wB ß½ À ×½ À U     0          a    c   B ¾ Ð¾ ¾ Ð¾ U   ¹             d   B ³¾ Î¾ «¾ Î¾ U   a         Ê5žÊ5ž   B ß¾ ½¿ ×¾ ½¿ U            Ê5ž   B Ì¿ 
À Ä¿ 
À U   z             a   B  ð¿ ÿ¿ è¿ ÿ¿ U   ž         Ê5žÊ5žÊ5ž!«!          xB )À ‚À !À ‚À U   ×           B sÀ €À kÀ €À U   !         Ê5žÊ5ž!«!       	   initC            	                                €  —À  À À  À U   E             ˆ   T  ç Q™€ IÍ Œ!«!ÿÿÿÿ      a        «+’Hš˜;ø       Ê5žŽ!«!       Ž!«!	   init‹!«!Ž!«!%   reloadCurrentMonth‹!«!Ž!«!   changeMonth‹!«!Ž!«!'   refreshMonthContent‹!«!Ž!«!!   reloadCurrentDay‹!«!Ž!«!   changeDay‹!«!Ž!«!#   refreshDayContent‹!«!Ž!«!+   reloadCurrentUpcoming‹!«!    š˜;øÊ5ž!«!       C   G      2   ^                                 €  VÁ 1Å NÁ 1Å V   -              [   =    ]   [    =   ]   =   ]   =   ]   =   ]	   =
   ]   ]   [   =   ]   =   ]   =   ]   =   ]	   =   ]   ]   [   =   ]   ]   =   ]   [   =   ]   =   ]   =   ]   =   ]   ]    [   =   ]   ]!   ="   ]#   =$   ]%   =&   ]'   =(   ])   [   =*   ]+   =,   ]-   ].   [   =/   ]0   ]1   ™0•Ê4•ÊÊ%Ê!ÊÏ•Ê%Ê-Ê)Ê'Ï&•ÏÊ'•	Ê*ÊÊ Ï(•
Ï(ÊÊÊÊ •Ê'Ï(•Ï6 C   [data-action='filter-event-type']   eventFilterItem+   [data-eventtype-site]	   site3   [data-eventtype-category]   category/   [data-eventtype-course]   course-   [data-eventtype-group]   group+   [data-eventtype-user]	   user   eventType;   [data-popover-eventtype-site]C   [data-popover-eventtype-category]?   [data-popover-eventtype-course]=   [data-popover-eventtype-group];   [data-popover-eventtype-user]   popoverType+   [data-period='month']   month   calendarPeriods+   select[name="course"]   courseSelectorA   [data-action="new-event-button"]   create)   [data-action="edit"]	   edit-   [data-action="delete"]   remove5   [data-action="view-event"]   viewEvent   actions   elements   .today   today'   [data-region="day"]   day!   .calendarwrapper   wrapper'   [data-type="event"]   eventItem9   .calendarwrapper .arrow_link   navLink5   [data-region='event-item']   eventLink   linksM   [data-region="overlay-icon-container"]   loadingIcon   containersŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!	   site‹!«!Ž!«!   category‹!«!Ž!«!   course‹!«!Ž!«!   group‹!«!Ž!«!	   user‹!«!    Ž!«!       Ž!«!	   site‹!«!Ž!«!   category‹!«!Ž!«!   course‹!«!Ž!«!   group‹!«!Ž!«!	   user‹!«!    Ž!«!       Ž!«!   month‹!«!    Ž!«!       Ž!«!   create‹!«!Ž!«!	   edit‹!«!Ž!«!   remove‹!«!Ž!«!   viewEvent‹!«!    Ž!«!       Ž!«!   courseSelector‹!«!    Ž!«!       Ž!«!   navLink‹!«!Ž!«!   eventLink‹!«!    Ž!«!       Ž!«!   loadingIcon‹!«!    Ž!«!       Ž!«!   eventFilterItem‹!«!Ž!«!   eventType‹!«!Ž!«!   popoverType‹!«!Ž!«!   calendarPeriods‹!«!Ž!«!   courseSelector‹!«!Ž!«!   actions‹!«!Ž!«!   elements‹!«!Ž!«!   today‹!«!Ž!«!   day‹!«!Ž!«!   wrapper‹!«!Ž!«!   eventItem‹!«!Ž!«!   links‹!«!Ž!«!   containers‹!«!    š˜;ø      Ê5ž!«!       B  lÅ 3È dÅ 3È W   8   Ð          a    b    c    d    e    f    g    j    l    o    r    t   B §Å ¯Å ŸÅ ¯Å W   s          Ê5ž   B  ºÅ ÆÅ ²Å ÆÅ W   †          Ê5ž   B  ÑÅ äÅ ÉÅ äÅ W             Ê5ž   B ïÅ ÷Å çÅ ÷Å W   »          Ê5ž   B  Æ Æ úÅ Æ W   Î          Ê5ž   B Æ !Æ Æ !Æ W   å          Ê5ž   B  ,Æ 8Æ $Æ 8Æ W   ø          Ê5ž   B  CÆ VÆ ;Æ VÆ W            Ê5ž   B aÆ iÆ YÆ iÆ W   -         Ê5ž   B  tÆ €Æ lÆ €Æ W   @         Ê5ž   B  ‹Æ žÆ ƒÆ žÆ W   W         Ê5ž   B ©Æ ±Æ ¡Æ ±Æ W   u         Ê5ž   B  ¼Æ ÈÆ ´Æ ÈÆ W   ˆ         Ê5ž   B ÓÆ ÛÆ ËÆ ÛÆ W   Ÿ         Ê5ž   B  æÆ òÆ ÞÆ òÆ W   ²         Ê5ž   B  ýÆ 0Ç õÆ 0Ç W   É         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/eventŽ!«!   core/strŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!=   core/custom_interaction_eventsŽ!«!   core/modalŽ!«!'   core/modal_registryŽ!«!   core/fragmentŽ!«!)   core_calendar/eventsŽ!«!1   core_calendar/repository    !«!       C         %   ˆ                         "         5É wØ -É wØ X                 BW   Q[    =    ]   =   ]   ‰ 
  Q‚   W  QV  =   6   QV  š   ¸   
ˆ   5   : 6   QV  5   V  6	   QV  5   ‚   6
   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚	   6   QV  5   ‚
   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6   QV  5   ‚   6    QV  5   ‚   6!   QV  5   ‚   6"   QV   D,   æQT ¸#   
V  5   V  =$   ç QCW   æQV  ™€ –•Ê#ÐAÊ€  âÏ(ÚÉÓÔ7Ô;Ô5Ô9Ô9Ô=Ô@ÔDÔ3Ô7Ô>Ô7Ô;ÔBÔCÔKÔJÔ€ ”Ô€ ¬ÔkÔQÔ€  —ÔFÔ€ äÔ€ `Ëà1—” )   [data-action="save"]   SAVE_BUTTONM   [data-region="loading-icon-container"]-   LOADING_ICON_CONTAINER	   TYPE=   core_calendar-modal_event_form   prototype   Object   create   constructor   setContextId   getContextId   setCourseId   getCourseId   setCategoryId   getCategoryId   hasCourseId   hasCategoryId   setEventId   getEventId   hasEventId   setStartTime   getStartTime   hasStartTime   getForm   disableButtons   enableButtons%   reloadTitleContent#   reloadBodyContent!   reloadAllContent	   show	   hide   getFormData	   save-   registerEventListeners   register3   calendar/modal_event_formŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n      «+’HŽ!«!       Ž!«!   SAVE_BUTTON‹!«!Ž!«!-   LOADING_ICON_CONTAINER‹!«!    !«!          nB ÇÉ žÊ ¿É žÊ X   ‘         Ê5ž!«!       1   n.prototype.setContextIdb 0Ë EË (Ë EË X   ú         Ê5ž!«!       1   n.prototype.getContextIdb  gË €Ë _Ë €Ë X   1         Ê5ž!«!       /   n.prototype.setCourseIdb ¡Ë µË ™Ë µË X   k         Ê5ž!«!       /   n.prototype.getCourseIdb  ÖË îË ÎË îË X             Ê5ž!«!       3   n.prototype.setCategoryIdb Ì 'Ì 	Ì 'Ì X   Û         Ê5ž!«!       3   n.prototype.getCategoryIdb  JÌ dÌ BÌ dÌ X            Ê5ž!«!       /   n.prototype.hasCourseIdb  …Ì ¤Ì }Ì ¤Ì X   O         Ê5ž!«!       3   n.prototype.hasCategoryIdb  ÇÌ èÌ ¿Ì èÌ X   ‘         Ê5ž!«!       -   n.prototype.setEventIdb Í Í  Í Í X   Ò         Ê5ž!«!       -   n.prototype.getEventIdb  ;Í RÍ 3Í RÍ X            Ê5ž!«!       -   n.prototype.hasEventIdb  rÍ Í jÍ Í X   <         Ê5ž!«!       1   n.prototype.setStartTimeb ²Í ÇÍ ªÍ ÇÍ X   |         Ê5ž!«!       1   n.prototype.getStartTimeb  éÍ Î áÍ Î X   ³         Ê5ž!«!       1   n.prototype.hasStartTimeb  $Î DÎ Î DÎ X   î         Ê5ž!«!       '   n.prototype.getFormb  aÎ ‡Î YÎ ‡Î X   +         Ê5ž!«!       5   n.prototype.disableButtonsb  «Î ÒÎ £Î ÒÎ X   u         Ê5ž!«!       3   n.prototype.enableButtonsb  õÎ Ï íÎ Ï X   ¿         Ê5ž!«!       =   n.prototype.reloadTitleContentb  DÏ °Ð <Ï °Ð X              B *Ð HÐ "Ð HÐ X   ô         Ê5ž   B  dÐ ~Ð \Ð ~Ð X   .         Ê5žÊ5ž!«!       ;   n.prototype.reloadBodyContentb ×Ð \Ó ÏÐ \Ó X   ¡           B  ÍÒ åÒ ÅÒ åÒ X   —
         Ê5ž   B  Ó ,Ó Ó ,Ó X   Ý
         Ê5žÊ5ž!«!       9   n.prototype.reloadAllContentb  ‚Ó ÇÓ zÓ ÇÓ X   L         Ê5ž!«!       !   n.prototype.showb  áÓ Ô ÙÓ Ô X   «         Ê5ž!«!       !   n.prototype.hideb  2Ô ¯Ô *Ô ¯Ô X   ü         Ê5ž!«!       /   n.prototype.getFormDatab  ÐÔ õÔ ÈÔ õÔ X   š         Ê5ž!«!       !   n.prototype.saveb  Õ ÙÖ Õ ÙÖ X   Ù  2          b    c   B ¾Õ qÖ ¶Õ qÖ X   ˆ         Ê5ž   B  Ö ºÖ …Ö ºÖ X   W         Ê5žÊ5ž!«!       E   n.prototype.registerEventListenersb  × 9Ø ýÖ 9Ø X   Ï           B q× Ä× i× Ä× X   ;         Ê5ž   B õ× ,Ø í× ,Ø X   ¿         Ê5žÊ5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajax    !«!       C  Ÿ          D       	                            ¼Ø ½Ý ´Ø ½Ý Y          
       ‚    W   Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q[   V  ]    V   ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   ™LÊ€  ¤ÊrÊtÊ€  µÊ€  šÊ€  Ê€  „Êi•ÉÉÉÉÉÉÉÉ    getEventById   deleteEvent'   updateEventStartDay-   submitCreateUpdateForm)   getCalendarMonthData%   getCalendarDayData/   getCalendarUpcomingData'   getCourseGroupsDataŒ!«!ÿÿÿÿ
      a   b   c   d   e   f   g   h   i   j      «+’H!«!          cB ÐØ iÙ ÈØ iÙ Y   V          Ê5ž!«!          dB tÙ ÛÙ lÙ ÛÙ Y   ú          Ê5ž!«!          eB æÙ OÚ ÞÙ OÚ Y   l         Ê5ž!«!          fC o       
   *                               €  ZÚ Û RÚ Û Y   à            [   =    ]   [    T  ]   T ]   T ]   T ]   T ]   T ]   ]   W   Qˆ   ¸	   
Z   V   `    l >7™€ ò•Ê5•ÈÈÈÈÈÒ	ÑÉÿÿÿø• O   core_calendar_get_calendar_monthly_view   methodname	   year   month   courseid   categoryid#   includenavigation	   mini	   args	   callŒ!«!ÿÿÿÿ      a   c   d   e   f   g   h       «+’HŽ!«!       Ž!«!	   year‹!«!Ž!«!   month‹!«!Ž!«!   courseid‹!«!Ž!«!   categoryid‹!«!Ž!«!#   includenavigation‹!«!Ž!«!	   mini‹!«!    Ž!«!       Ž!«!   methodname‹!«!Ž!«!	   args‹!«!    š˜;ø       Ê5ž!«!          gB Û žÛ Û žÛ Y   •         Ê5ž!«!          hB ©Û Ü ¡Û Ü Y   /         Ê5ž!«!          iB *Ü £Ü "Ü £Ü Y   °         Ê5ž!«!          jB ®Ü Ý ¦Ü Ý Y   4         Ê5žŽ!«!       Ž!«!   getEventById‹!«!Ž!«!   deleteEvent‹!«!Ž!«!'   updateEventStartDay‹!«!Ž!«!-   submitCreateUpdateForm‹!«!Ž!«!)   getCalendarMonthData‹!«!Ž!«!%   getCalendarDayData‹!«!Ž!«!/   getCalendarUpcomingData‹!«!Ž!«!'   getCourseGroupsData‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/strŽ!«!)   core_calendar/eventsŽ!«!E   core_calendar/drag_drop_data_store    !«!       B [Þ Jè SÞ Jè Z   ›   €         a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u    v    w   B |ß ¾ß tß ¾ß Z   ¼         Ê5ž   B Éß 7à Áß 7à Z   	         Ê5ž   B Bà Ïà :à Ïà Z   ‚         Ê5ž   B  Úà &á Òà &á Z              B á $á þà $á Z   F         Ê5žÊ5ž   B 1á Xâ )á Xâ Z   q  0       Ê5ž   B  câ ¬â [â ¬â Z   £           B â ªâ ‡â ªâ Z   Ï         Ê5žÊ5ž   B ·â åä ¯â åä Z   ÷          Ê5ž   B ðä 1å èä 1å Z   0          Ê5ž   B <å å 4å å Z   |          Ê5ž   B Šå ç ‚å ç Z   Ê  P          q   B ´æ Ûæ ¬æ Ûæ Z   ô         Ê5žÊ5ž   B  ç !ç ç !ç Z   M	         Ê5ž   B  ,ç 3ç $ç 3ç Z   l	         Ê5ž   B  Hç Hè @ç Hè Z   ˆ	         Ê5žÊ5ž!«!       B  uè Êè mè Êè [   (          Ê5žŽ!«!   
   Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/urlŽ!«!   core/yuiŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/key_codes    !«!       B
 Šé $ ‚é $ \   ½   à         B    s    C    D    w    o    y    i    m    g    q    a    r    e    l    k    A    x    v    p    z    t    n    h    u    j    d    b    c   B  cë ¦ë [ë ¦ë \   –         Ê5ž   B ¶ë )ì ®ë )ì \   é  0          a    b   B êë %ì âë %ì \            Ê5žÊ5ž   B 4ì ©ì ,ì ©ì \   g  0          a    b   B hì ¥ì `ì ¥ì \   ›         Ê5žÊ5ž   B ´ì Aí ¬ì Aí \   ç          Ê5ž   B Lí àí Dí àí \             Ê5ž   B ëí /î ãí /î \            Ê5ž   B :î î 2î î \   m  0          a    b   B  \î ‹î Tî ‹î \            Ê5žÊ5ž   B šî Íî ’î Íî \   Í             a   B  ½î Éî µî Éî \   ð         Ê5žÊ5ž   B Øî þï Ðî þï \     0          a   B  
ï Mï ï Mï \   =         Ê5žÊ5ž   B 	ð ñ ð ñ \   <         Ê5ž   B 'ñ ¢ñ ñ ¢ñ \   Z  @          b    d    e   B  bñ žñ Zñ žñ \   •         Ê5žÊ5ž   B ­ñ iô ¥ñ iô \   à  `          c    g    h    i    j   B ×ò Õó Ïò Õó \   

             d   B -ó qó %ó qó \   `
         Ê5žÊ5ž   B äó gô Üó gô \            Ê5žÊ5ž   B tô &õ lô &õ \   §  0          c    f   B ÷ô õ ïô õ \   *         Ê5ž   B  õ $õ õ $õ \   M         Ê5žÊ5ž   B 1õ bö )õ bö \   d  0          b    f   B ›õ `ö “õ `ö \   Î           B 9ö ^ö 1ö ^ö \   l         Ê5žÊ5žÊ5ž   B mö Üö eö Üö \      0          a    b   B ¸ö Úö °ö Úö \   ë         Ê5žÊ5ž   B çö Cø ßö Cø \     P          a    b    h    j   B W÷ á÷ O÷ á÷ \   Š         Ê5ž   B ð÷ +ø è÷ +ø \   #         Ê5žÊ5ž   B Nø Ÿû Fø Ÿû \     0       Ê5ž   B ªû /ü ¢û /ü \   Ý             b   B  äû -ü Üû -ü \            Ê5žÊ5ž   B :ü þ 2ü þ \   m  p          c    f    g    h    j    m   B 'ý ìý ý ìý \   Z         Ê5ž   B ûý þ óý þ \   .         Ê5žÊ5ž   B  ²þ vÿ ªþ vÿ \   å           B ýþ sÿ õþ sÿ \   0          Ê5žÊ5ž   B ÿ µ ˆÿ µ \   Ã             b   B ìÿ a äÿ a \     b          c    d    f   B  H T @ T \   {         Ê5žÊ5ž   B Ï Á Ç Á \     R          d    e    f   B  ¥ ³  ³ \   Ø         Ê5žÊ5ž   B ì ³ ä ³ \     0          c    d   B 1 ± ) ± \   d  0          e    f   B  u ó m ó \   ¨         Ê5ž   B  * t " t \   ]           B U r M r \   ˆ         Ê5žÊ5ž   B ” ¯ Œ ¯ \   Ç         Ê5žÊ5žÊ5žÊ5ž   B × " Ï " \   
         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajax    !«!       B g ¿ _ ¿ ]   @              b   B { u s u ]   T          Ê5ž   B € p x p ]   Y         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ÷ á ï á ^   5              a   B 		 ¢ 	 ¢ ^   G          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/logŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!   core/tree    !«!       B } U u U _   ™      
       a    b    d    e    f    g    h    i   B ª ý ¢ ý _   Æ            B  ) N ! N _   E         Ê5ž   B  h Œ ` Œ _   „         Ê5žÊ5ž   B  /  '  _   K           B q ÷ i ÷ _            Ê5žÊ5ž   B  - u % u _   I           B  ™ y ™ _            Ê5ž   B  ³ h « h _   Ï           B  æ  Þ  _            Ê5ž   B  @ [ 8 [ _   \         Ê5žÊ5žÊ5ž   B   † • † _   ¹           B Î p Æ p _   ê  "         B  <  4  _   X           B š … ’ … _   ¶         Ê5ž   B  Ð ˆ Ð _   ¬         Ê5ž   B A  9  _   ]	         Ê5žÊ5ž   B  ) E ! E _   E
         Ê5žÊ5žÊ5ž   B  ° × ¨ × _   Ì
           B l Ê d Ê _   ˆ         Ê5žÊ5ž   B û  ó  _            Ê5ž   B  ³   «   _   Ï  2          c   B  Û . Ó . _   ÷         Ê5ž   B C b ; b _   _         Ê5žÊ5ž   B È p À p _   ä  "          b   B ç ¼ ß ¼ _            Ê5ž   B > c 6 c _   Z         Ê5žÊ5ž   B ¨ +   + _   Ä         Ê5ž   B : S 2 S _   V         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templates    !«!       B Ÿ , — , `   G   0   	       a    b   B ³ °  « °  `   [          Ê5ž   B  Ù  S$ Ñ  S$ `              B 3! -" +! -" `   Û         Ê5ž   B ‡" 6# " 6# `   /         Ê5ž   B p# â# h# â# `            Ê5ž   B $ F$ $ F$ `   Â         Ê5žÊ5ž   B v$ 4% n$ 4% `     "          b   B  ®$ (% ¦$ (% `   V         Ê5žÊ5ž   B  Y% ‚% Q% ‚% `            Ê5ž   B  ¡% Ò% ™% Ò% `   I         Ê5ž   B  õ% ( í% ( `            Ê5ž   B =( Ã) 5( Ã) `   å
         Ê5ž   B  è) * à) * `            Ê5ž   B  -* 
, %* 
, `   Õ           B É+ ü+ Á+ ü+ `   q         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B H, 20 @, 20 a   8   0          a    b   B  Z, Ð- R, Ð- a   J            B  g- ·- _- ·- a   W         Ê5žÊ5ž   B ô- ~. ì- ~. a   ä         Ê5ž   B ž. 7/ –. 7/ a   Ž         Ê5ž   B  N/ l/ F/ l/ a   >         Ê5ž   B  Š/ %0 ‚/ %0 a   z             d   B  ä/ 0 Ü/ 0 a   Ô         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/pubsubŽ!«!   core/templatesŽ!«!?   core_message/message_repositoryŽ!«!E   core_message/message_drawer_eventsŽ!«!U   core_message/message_drawer_lazy_load_list    !«!       C  p          *                                   41 ¯4 ,1 ¯4 b                 [    =    ]   ‰   Q[   =   ]   ‰ 	  Q‚   ‰ 
  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q[   V   ]   ™€ •Ð3•ÐVË€  ÝËwË€  ªËiÊb•É ?   [data-region="contact-request"]   CONTACT_REQUEST‰   core_message/message_drawer_view_contacts_body_section_requests_list   REQUESTS_LIST	   showŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n      «+’HŽ!«!       Ž!«!   CONTACT_REQUEST‹!«!    Ž!«!       Ž!«!   REQUESTS_LIST‹!«!    !«!          jB á1 ³2 Ù1 ³2 b   ¬             a   B û1 E2 ó1 E2 b   Æ         Ê5ž   B ‚2 ›2 z2 ›2 b   M         Ê5žÊ5ž!«!          kB ¾2 *3 ¶2 *3 b   ‰             a   B ð2 3 è2 3 b   »         Ê5žÊ5ž!«!          lB 53 Ô3 -3 Ô3 b                 a   B H3 Ó3 @3 Ó3 b            Ê5žÊ5ž!«!          mB ß3 =4 ×3 =4 b   ª         Ê5ž!«!          nB H4 Ÿ4 @4 Ÿ4 b            Ê5žŽ!«!       Ž!«!	   show‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!E   core_message/message_area_contactsŽ!«!E   core_message/message_area_messagesŽ!«!C   core_message/message_area_profileŽ!«!=   core_message/message_area_tabsŽ!«!A   core_message/message_area_search    !«!       B ›5 z8 “5 z8 c   é   p          a    b    c    d    e    f      g ³5 
6 ©5 
6 c            Ê5ž   B  6 Ï6 ˆ6 Ï6 c   Þ         Ê5ž   B ô6 7 ì6 7 c   B         Ê5ž   B 37 K7 +7 K7 c            Ê5ž   B h7 £7 `7 £7 c   ¶         Ê5ž   B ½7 Ú7 µ7 Ú7 c            Ê5ž   B   8 #8 ø7 #8 c   N         Ê5ž   B  J8 w8 B8 w8 c   ˜         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ¾8 è; ¶8 è; d   A   0          a    b   B l9 9 d9 9 d   ï          Ê5ž   B  £9 Ó9 ›9 Ó9 d   &         Ê5ž   B  ú9 Û: ò9 Û: d   }         Ê5ž   B  ; å; û: å; d   †         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!   core/templatesŽ!«!?   core_message/message_repositoryŽ!«!U   core_message/message_drawer_lazy_load_list    !«!       C  Ÿ       	   9       	                            Ÿ< !A —< !A e                 ×2‰   Q[    =    ]   =   ]   ‰   Q[   =   ]   =   ]   ‰ 	  Q‚   ‰ 
  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q‚   W  Q[   V   ]   V  ]   ™€  ÄÈ•ÊAÐ-•ÊCÐNË2Ë€ Ë€  ÌËfÊqÊY•ÉÉ Y   [data-region="group-info-content-container"]#   CONTENT_CONTAINER9   [data-region="members-list"]   MEMBERS_LISTq   core_message/message_drawer_view_group_info_body_content   CONTENT{   core_message/message_drawer_view_group_info_participants_list	   show   descriptionŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n      «+’HŽ!«!       Ž!«!#   CONTENT_CONTAINER‹!«!Ž!«!   MEMBERS_LIST‹!«!    Ž!«!       Ž!«!   CONTENT‹!«!Ž!«!   MEMBERS_LIST‹!«!    !«!          iB Ã= ê= »= ê= e   Ø         Ê5ž!«!          jB õ= ? í= ? e   
             a   B  X> d> P> d> e   m         Ê5ž   B é> ? á> ? e   þ         Ê5žÊ5ž!«!          kB ? Ó? 
? Ó? e   '  @          a    b    c   B )? Ò? !? Ò? e   >  0          f    g   B j? Ð? b? Ð? e              B »? Î? ³? Î? e   Ð         Ê5žÊ5žÊ5žÊ5ž!«!          lB Þ? 9@ Ö? 9@ e   ó             a   B @ 7@ @ 7@ e   3         Ê5žÊ5ž!«!          mB D@ ª@ <@ ª@ e   Y  0          b    c   B  }@ ¨@ u@ ¨@ e   ’         Ê5žÊ5ž!«!          nB µ@ A ­@ A e   Ê         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   description‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/user_dateŽ!«!o   core_message/message_drawer_view_conversation_constants    !«!       C  ¦         Ô       &                            ÂA Õd ºA Õd f                 ‚    ‰ '  Q‚   ‰   Q‚   ‰ %  Q‚   ‰   Q‚   ‰ "  Q‚   ‰   Q‚   ‰ &  Q‚   ‰   Q‚   ‰   Q‚	   ‰   Q‚
   ‰ !  Q‚   ‰ 
  Q‚   ‰   Q‚   ‰   Q‚   ‰ #  Q‚   ‰   Q‚   ‰    Q‚   ‰ $  Q‚   ‰   Q‚   ‰ 	  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚    ‰ (  Q‚!   ‰   Q‚"   ‰   Q‚#   ‰   Q‚$   W   Q[%   V   ]    ™€  ªË€  åË€  îËYË{Ë€  ¤Ë€ eË€ Ë€ ÐË€ Ë€  ÖËlË€  ¸ËpËlË€  Ë€  •Ë€  ’Ë€  ›ËcË€  ˜Ë€ 1Ë€  ªË€  ÒË€ ;Ë€  „Ë€  ¨Ë€  ÁË{Ë€  œË€ }Ë€  ¨Ë€  ¯Ë€ ¶Ë€  ƒË€  åË€ gÊ€ Ï•É    buildPatchŒ!«!ÿÿÿÿ(      a   b   c   B   F   C   D   w   o   y   i   s   m   g   q   k   e   l   K   I   M   G   A   E   H   L   x   v   p   z   t   n   h   r   u   f   j   d   J   N      «+’H!«!          dB ØA ²B ÐA ²B f   ´   0          c    d   B õA cB íA cB f   Ñ          Ê5ž   B ŠB °B ‚B °B f   f         Ê5žÊ5ž!«!          eB ½B  C µB  C f   ™  P          b    c    e    f   B ýB pC õB pC f   Ù  0       Ê5žÊ5ž!«!          fB «C ùC £C ùC f   ‡          Ê5ž!«!          gB D tD üC tD f   à             b   B ]D rD UD rD f   9         Ê5žÊ5ž!«!          hB D E wD E f   [             a   B ÁD E ¹D E f                b   B ×D úD ÏD úD f   ³         Ê5žÊ5žÊ5ž!«!          iB #E }F E }F f   ÿ  0          b    c   B NE jF FE jF f   *             d   B „E œE |E œE f   `         Ê5ž   B ØE hF ÐE hF f   ´             a   B ÷E EF ïE EF f   Ó         Ê5žÊ5žÊ5žÊ5ž!«!          jB ˆF šG €F šG f   d           B «F »F £F »F f   ‡         Ê5ž   B ÖF æF ÎF æF f   ²         Ê5ž   B HG nG @G nG f   $         Ê5žÊ5ž!«!          kB ¥G jI G jI f            Ê5ž!«!          lB uI ‰J mI ‰J f   Q         Ê5ž!«!          mB ”J _K ŒJ _K f   p	         Ê5ž!«!          nB jK ËK bK ËK f   F
         Ê5ž!«!          oB ÖK ƒL ÎK ƒL f   ²
         Ê5ž!«!          pB ŽL óL †L óL f   j         Ê5ž!«!          qB þL _M öL _M f   Ú         Ê5ž!«!          rB jM îM bM îM f   F          Ê5ž!«!          sB ùM ƒN ñM ƒN f   Õ          Ê5ž!«!          tB ŽN O †N O f   j          Ê5ž!«!          uB  O °O O °O f   ü          Ê5ž!«!          vB »O P ³O P f   —         Ê5ž!«!          wB P «P P «P f   ú         Ê5ž!«!          xB ¶P ÜQ ®P ÜQ f   ’  @          c    d    e   B Q 6Q þP 6Q f   â         Ê5ž   B `Q Q XQ Q f   <         Ê5žÊ5ž!«!          yB çQ †R ßQ †R f   Ã         Ê5ž!«!          zB ‘R XS ‰R XS f   m         Ê5ž!«!          AB cS “U [S “U f   ?  @          c    d    e   B ³S 	T «S 	T f            Ê5ž   B 3T ‰T +T ‰T f            Ê5žÊ5ž!«!          BB žU V –U V f   z         Ê5ž!«!          CB "V ¿V V ¿V f   þ         Ê5ž!«!          DB ÊV €W ÂV €W f   ¦           B ,W >W $W >W f            Ê5žÊ5ž!«!          EB ‹W ûW ƒW ûW f   g             a   B ¼W ôW ´W ôW f   ˜         Ê5žÊ5ž!«!          FB X —X þW —X f   â             a   B 3X ]X +X ]X f            Ê5žÊ5ž!«!          GB ¢X [ šX [ f   ~          Ê5ž!«!          HB [ ¼[ [ ¼[ f   û         Ê5ž!«!          IB Ç[ k\ ¿[ k\ f   £         Ê5ž!«!          JB v\ !_ n\ !_ f   R  @          b    i   B ä\ ù] Ü\ ù] f   À          Ê5žÊ5ž!«!          KB ,_ ¤_ $_ ¤_ f            Ê5ž!«!          LB ¯_ ‰` §_ ‰` f   ‹             h   B 3` H` +` H` f            Ê5žÊ5ž!«!          MB ”` ða Œ` ða f   p             c   B ä` û` Ü` û` f   À         Ê5ž   B %a <a a <a f             Ê5žÊ5ž!«!          NB ûa ¿d óa ¿d f   ×   @          b    d    f   B „d ºd |d ºd f   `#         Ê5žÊ5žŽ!«!       Ž!«!   buildPatch‹!«!    š˜;øÊ5ž!«!       C   Î      ~   Ú                                 €  %e yv e yv g   M             [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =    ]!   ="   ]#   =$   ]%   =&   ]'   =(   ])   =*   ]+   =   ],   =-   ].   =/   ]0   =1   ]2   =3   ]4   =5   ]6   =7   ]8   =9   ]:   =;   ]<   ==   ]>   =?   ]@   =A   ]B   =C   ]D   =E   ]F   =G   ]H   =;   ]I   =J   ]K   =L   ]M   =N   ]O   =P   ]Q   =R   ]S   =T   ]U   =V   ]W   =X   ]Y   =9   ]Z   =9   ][   =\   ]]   =^   ]_   =`   ]a   =b   ]c   =d   ]e   =f   ]g   =h   ]i   =j   ]k   W   Q[   =l   ]m   =n   ]o   =p   ]q   =r   ]s   =t   ]S   =u   ]Z   W  Q[   ?]v   ×]w   W  Q[   V   ]x   V  ]y   V  ]z   C]{   ×d]|   Xè]}   ™T•ÊGÊ7Ê;ÊAÊ5Ê[ÊQÊ=ÊAÊGÊ9ÊIÊAÊ5ÊQÊSÊGÊ9Ê3Ê9Ê^ÊDÊ@ÊHÊ:Ê6Ê`ÊDÊ6ÊGÊVÊjÊvÊvÊpÊ@ÊDÊEÊ(Ê4ÊBÊ@Ê"ÊEÊ>Ê6Ê5Ê?ÊAÊ5Ê\Ê>Ê3ÊBÊÏ•Ê[ÊsÊYÊ=ÊEÏH•–
Ì
•ÉÉÉ–—È% M   [data-action="accept-contact-request"];   ACTION_ACCEPT_CONTACT_REQUEST=   [data-action="cancel-confirm"]+   ACTION_CANCEL_CONFIRMA   [data-action="cancel-edit-mode"]/   ACTION_CANCEL_EDIT_MODEG   [data-action="confirm-add-contact"]5   ACTION_CONFIRM_ADD_CONTACT;   [data-action="confirm-block"])   ACTION_CONFIRM_BLOCKa   [data-action="confirm-delete-selected-messages"]O   ACTION_CONFIRM_DELETE_SELECTED_MESSAGESW   [data-action="confirm-delete-conversation"]E   ACTION_CONFIRM_DELETE_CONVERSATIONC   [data-action="confirm-favourite"]1   ACTION_CONFIRM_FAVOURITEG   [data-action="confirm-unfavourite"]5   ACTION_CONFIRM_UNFAVOURITEM   [data-action="confirm-remove-contact"];   ACTION_CONFIRM_REMOVE_CONTACT?   [data-action="confirm-unblock"]-   ACTION_CONFIRM_UNBLOCKO   [data-action="decline-contact-request"]=   ACTION_DECLINE_CONTACT_REQUESTG   [data-action="request-add-contact"]5   ACTION_REQUEST_ADD_CONTACT;   [data-action="request-block"])   ACTION_REQUEST_BLOCKW   [data-action="request-delete-conversation"]E   ACTION_REQUEST_DELETE_CONVERSATIONQ   [data-action="delete-selected-messages"]O   ACTION_REQUEST_DELETE_SELECTED_MESSAGESM   [data-action="request-remove-contact"];   ACTION_REQUEST_REMOVE_CONTACT?   [data-action="request-unblock"]-   ACTION_REQUEST_UNBLOCK9   [data-action="view-contact"]'   ACTION_VIEW_CONTACT?   [data-action="view-group-info"]-   ACTION_VIEW_GROUP_INFO“   input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]#   CAN_RECEIVE_FOCUSI   [data-region="dialogue-button-text"]9   CONFIRM_DIALOGUE_BUTTON_TEXT=   CONFIRM_DIALOGUE_CANCEL_BUTTONU   [data-region="confirm-dialogue-container"]5   CONFIRM_DIALOGUE_CONTAINER?   [data-region="dialogue-header"]/   CONFIRM_DIALOGUE_HEADER;   [data-region="dialogue-text"]+   CONFIRM_DIALOGUE_TEXTm   [data-region="contact-request-sent-message-container"]M   CONTACT_REQUEST_SENT_MESSAGE_CONTAINERG   [data-region="content-placeholder"];   CONTENT_PLACEHOLDER_CONTAINERC   [data-region="content-container"]#   CONTENT_CONTAINERS   [data-region="content-message-container"]5   CONTENT_MESSAGES_CONTAINERc   [data-region="content-messages-footer-container"]C   CONTENT_MESSAGES_FOOTER_CONTAINERw   [data-region="content-messages-footer-edit-mode-container"]W   CONTENT_MESSAGES_FOOTER_EDIT_MODE_CONTAINERƒ   [data-region="content-messages-footer-require-contact-container"]c   CONTENT_MESSAGES_FOOTER_REQUIRE_CONTACT_CONTAINERƒ   [data-region="content-messages-footer-require-unblock-container"]c   CONTENT_MESSAGES_FOOTER_REQUIRE_UNBLOCK_CONTAINERs   [data-region="content-messages-footer-unable-to-message"]g   CONTENT_MESSAGES_FOOTER_UNABLE_TO_MESSAGE_CONTAINERM   [data-region="day-messages-container"]-   DAY_MESSAGES_CONTAINERQ   [data-region="favourite-icon-container"]1   FAVOURITE_ICON_CONTAINER!   FOOTER_CONTAINER=   [data-region="header-content"]   HEADERA   [data-region="header-edit-mode"]!   HEADER_EDIT_MODEE   [data-region="header-placeholder"]9   HEADER_PLACEHOLDER_CONTAINERM   [data-region="loading-icon-container"]-   LOADING_ICON_CONTAINER/   [data-region="message"]   MESSAGE[   [data-region="message"][aria-checked="false"])   MESSAGE_NOT_SELECTEDC   [data-region="not-selected-icon"]3   MESSAGE_NOT_SELECTED_ICON;   [data-region="selected-icon"]+   MESSAGE_SELECTED_ICON   MESSAGES%   MESSAGES_CONTAINERM   [data-region="message-selected-court"]/   MESSAGES_SELECTED_COUNTA   [data-region="send-message-txt"]#   MESSAGE_TEXT_AREAi   [data-region="more-messages-loading-icon-container"]I   MORE_MESSAGES_LOADING_ICON_CONTAINERK   [data-region="placeholder-container"]+   PLACEHOLDER_CONTAINER9   [data-action="send-message"]'   SEND_MESSAGE_BUTTONG   [data-region="send-icon-container"]7   SEND_MESSAGE_ICON_CONTAINER)   [data-region="text"]	   TEXT+   [data-region="title"]   TITLE“   core_message/message_drawer_view_conversation_header_content_type_private   HEADER_PRIVATE«   core_message/message_drawer_view_conversation_header_content_type_private_no_controls5   HEADER_PRIVATE_NO_CONTROLS‘   core_message/message_drawer_view_conversation_header_content_type_public   HEADER_PUBLICm   core_message/message_drawer_view_conversation_body_day   DAYu   core_message/message_drawer_view_conversation_body_messagew   core_message/message_drawer_view_conversation_body_messages   PRIVATE   PUBLIC   SELECTORS   TEMPLATES%   CONVERSATION_TYPES+   NEWEST_MESSAGES_FIRST%   LOAD_MESSAGE_LIMITA   INITIAL_NEW_MESSAGE_POLL_TIMEOUTŒ!«!ÿÿÿÿ      a   b   c         «+’HŽ!«!    8   Ž!«!;   ACTION_ACCEPT_CONTACT_REQUEST‹!«!Ž!«!+   ACTION_CANCEL_CONFIRM‹!«!Ž!«!/   ACTION_CANCEL_EDIT_MODE‹!«!Ž!«!5   ACTION_CONFIRM_ADD_CONTACT‹!«!Ž!«!)   ACTION_CONFIRM_BLOCK‹!«!Ž!«!O   ACTION_CONFIRM_DELETE_SELECTED_MESSAGES‹!«!Ž!«!E   ACTION_CONFIRM_DELETE_CONVERSATION‹!«!Ž!«!1   ACTION_CONFIRM_FAVOURITE‹!«!Ž!«!5   ACTION_CONFIRM_UNFAVOURITE‹!«!Ž!«!;   ACTION_CONFIRM_REMOVE_CONTACT‹!«!Ž!«!-   ACTION_CONFIRM_UNBLOCK‹!«!Ž!«!=   ACTION_DECLINE_CONTACT_REQUEST‹!«!Ž!«!5   ACTION_REQUEST_ADD_CONTACT‹!«!Ž!«!)   ACTION_REQUEST_BLOCK‹!«!Ž!«!E   ACTION_REQUEST_DELETE_CONVERSATION‹!«!Ž!«!O   ACTION_REQUEST_DELETE_SELECTED_MESSAGES‹!«!Ž!«!;   ACTION_REQUEST_REMOVE_CONTACT‹!«!Ž!«!-   ACTION_REQUEST_UNBLOCK‹!«!Ž!«!'   ACTION_VIEW_CONTACT‹!«!Ž!«!-   ACTION_VIEW_GROUP_INFO‹!«!Ž!«!#   CAN_RECEIVE_FOCUS‹!«!Ž!«!9   CONFIRM_DIALOGUE_BUTTON_TEXT‹!«!Ž!«!=   CONFIRM_DIALOGUE_CANCEL_BUTTON‹!«!Ž!«!5   CONFIRM_DIALOGUE_CONTAINER‹!«!Ž!«!/   CONFIRM_DIALOGUE_HEADER‹!«!Ž!«!+   CONFIRM_DIALOGUE_TEXT‹!«!Ž!«!M   CONTACT_REQUEST_SENT_MESSAGE_CONTAINER‹!«!Ž!«!;   CONTENT_PLACEHOLDER_CONTAINER‹!«!Ž!«!#   CONTENT_CONTAINER‹!«!Ž!«!5   CONTENT_MESSAGES_CONTAINER‹!«!Ž!«!C   CONTENT_MESSAGES_FOOTER_CONTAINER‹!«!Ž!«!W   CONTENT_MESSAGES_FOOTER_EDIT_MODE_CONTAINER‹!«!Ž!«!c   CONTENT_MESSAGES_FOOTER_REQUIRE_CONTACT_CONTAINER‹!«!Ž!«!c   CONTENT_MESSAGES_FOOTER_REQUIRE_UNBLOCK_CONTAINER‹!«!Ž!«!g   CONTENT_MESSAGES_FOOTER_UNABLE_TO_MESSAGE_CONTAINER‹!«!Ž!«!-   DAY_MESSAGES_CONTAINER‹!«!Ž!«!1   FAVOURITE_ICON_CONTAINER‹!«!Ž!«!!   FOOTER_CONTAINER‹!«!Ž!«!   HEADER‹!«!Ž!«!!   HEADER_EDIT_MODE‹!«!Ž!«!9   HEADER_PLACEHOLDER_CONTAINER‹!«!Ž!«!-   LOADING_ICON_CONTAINER‹!«!Ž!«!   MESSAGE‹!«!Ž!«!)   MESSAGE_NOT_SELECTED‹!«!Ž!«!3   MESSAGE_NOT_SELECTED_ICON‹!«!Ž!«!+   MESSAGE_SELECTED_ICON‹!«!Ž!«!   MESSAGES‹!«!Ž!«!%   MESSAGES_CONTAINER‹!«!Ž!«!/   MESSAGES_SELECTED_COUNT‹!«!Ž!«!#   MESSAGE_TEXT_AREA‹!«!Ž!«!I   MORE_MESSAGES_LOADING_ICON_CONTAINER‹!«!Ž!«!+   PLACEHOLDER_CONTAINER‹!«!Ž!«!'   SEND_MESSAGE_BUTTON‹!«!Ž!«!7   SEND_MESSAGE_ICON_CONTAINER‹!«!Ž!«!	   TEXT‹!«!Ž!«!   TITLE‹!«!    Ž!«!       Ž!«!   HEADER_PRIVATE‹!«!Ž!«!5   HEADER_PRIVATE_NO_CONTROLS‹!«!Ž!«!   HEADER_PUBLIC‹!«!Ž!«!   DAY‹!«!Ž!«!   MESSAGE‹!«!Ž!«!   MESSAGES‹!«!    Ž!«!       Ž!«!   PRIVATE‹!«!Ž!«!   PUBLIC‹!«!    Ž!«!       Ž!«!   SELECTORS‹!«!Ž!«!   TEMPLATES‹!«!Ž!«!%   CONVERSATION_TYPES‹!«!Ž!«!+   NEWEST_MESSAGES_FIRST‹!«!Ž!«!%   LOAD_MESSAGE_LIMIT‹!«!Ž!«!A   INITIAL_NEW_MESSAGE_POLL_TIMEOUT‹!«!    š˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!I   core_message/notification_preference    !«!       B ív ûw åv ûw h   q   0          b    c   B ,w Cw $w Cw h   °          Ê5ž   B  ±w øw ©w øw h   5         Ê5žÊ5ž!«!       C   M                                           €  6x y .x y i   8              [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   ™;•ÊÊÊ&Ê"ÊÊÊ    view-contact   VIEW_CONTACT   view-contacts   VIEW_CONTACTS#   view-conversation#   VIEW_CONVERSATION   view-group-info   VIEW_GROUP_INFO   view-overview   VIEW_OVERVIEW   view-search   VIEW_SEARCH   view-settings   VIEW_SETTINGSŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!   VIEW_CONTACT‹!«!Ž!«!   VIEW_CONTACTS‹!«!Ž!«!#   VIEW_CONVERSATION‹!«!Ž!«!   VIEW_GROUP_INFO‹!«!Ž!«!   VIEW_OVERVIEW‹!«!Ž!«!   VIEW_SEARCH‹!«!Ž!«!   VIEW_SETTINGS‹!«!    š˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/templatesŽ!«!   core/user_dateŽ!«!o   core_message/message_drawer_view_conversation_constants    !«!       C  Õ         d      U                           ëy v¦ ãy v¦ j                 T 5    ‰   QT 5   ‰ I  QT 5   ‰   Q‚    ‰ M  Q‚   ‰    Q‚   ‰ (  Q‚   ‰   Q‚   ‰ H  Q‚   ‰   Q‚   ‰ D  Q‚   ‰   Q‚   ‰ J  Q‚	   ‰   Q‚
   ‰ G  Q‚   ‰ K  Q‚   ‰ A  Q‚   ‰   Q‚   ‰ >  Q‚   ‰   Q‚   ‰ E  Q‚   ‰ 7  Q‚   ‰ 	  Q‚   ‰   Q‚   ‰   Q‚   ‰ :  Q‚   ‰   Q‚   ‰ 6  Q‚   ‰ ;  Q‚   ‰ 2  Q‚   ‰ X  Q‚   ‰ /  Q‚   ‰ <  Q‚   ‰ 5  Q‚   ‰ \  Q‚   ‰ 0  Q‚    ‰ W  Q‚!   ‰   Q‚"   ‰ S  Q‚#   ‰ 3  Q‚$   ‰ Y  Q‚%   ‰   Q‚&   ‰ U  Q‚'   ‰ *  Q‚(   ‰ P  Q‚)   ‰ &  Q‚*   ‰ ,  Q‚+   ‰ N  Q‚,   ‰ $  Q‚-   ‰   Q‚.   ‰   Q‚/   ‰ "  Q‚0   ‰ B  Q‚1   ‰ R  Q‚2   ‰ L  Q‚3   ‰ %  Q‚4   ‰   Q‚5   ‰ +  Q‚6   ‰ -  Q‚7   ‰ Z  Q‚8   ‰ Q  Q‚9   ‰ 
  Q‚:   ‰ V  Q‚;   ‰ 1  Q‚<   ‰ 4  Q‚=   ‰ @  Q‚>   ‰ 8  Q‚?   ‰   Q‚@   ‰   Q‚A   ‰   Q‚B   ‰   Q‚C   ‰ =  Q‚D   ‰   Q‚E   ‰   Q‚F   ‰ C  Q‚G   ‰   Q‚H   ‰ ?  Q‚I   ‰ F  Q‚J   ‰ !  Q‚K   ‰ O  Q‚L   ‰ '  Q‚M   ‰ #  Q‚N   ‰ T  Q‚O   ‰ )  Q‚P   ‰ [  Q‚Q   ‰ 9  Q‚R   ‰ .  Q‚S   W   Q[T   V   ]   ™€  áÎÎÎË;Ë*Ë'ËGË.ËBË*Ë'ËLË*Ë'Ë6Ë*Ë'ËRË*Ë'ËRË*Ë'ËTË*Ë'ËË-Ë>Ë*Ë'Ë'Ë*Ë'Ë1Ë*Ë'Ë=Ë*Ë'Ë2ËGËCËEË*Ë'ËZËZË€  …Ë€  …Ë/Ë<Ë€  «Ë€  ÉË?Ë€  °Ë€ \Ë€ kËDË=Ë€ "Ë€  ÖË€ òËiË0Ë0Ë"Ë,Ë€ ëË€ @Ë€  ¬Ë€  °Ë€  ³Ë€  ¹Ë€  ÁË€  ¯Ë€  çË€  îË€ ”Ë€ <Ë€ Ë€ Ë€ ¹Ë€ HË€  ÊËAÊ€ à•É
    SELECTORS   TEMPLATES%   CONVERSATION_TYPES   renderŒ!«!ÿÿÿÿ]      a   b   c   d   e   f   Q   ta   B   ma   U   F   C   D   sa   w   ua   va   ya   o   y   xa   i   s   Aa   m   ha   g   aa   q   ba   k   Da   ca   Ga   _   ga   Y   Fa   l   Ia   W   ia   Ma   Z   ja   La   K   O   oa   I   S   pa   M   G   A   ra   Ka   E   H   L   wa   x   Ba   qa   v   da   za   p   z   Ca   t   n   h   r   u   fa   j   $   Ea   X   la   ea   R   Ha   V   na   P   J   T   ka   Ja   N      «+’H!«!          jB :z jz 2z jz j            Ê5ž!«!          kB uz ”z mz ”z j   Y         Ê5ž!«!          lB Ÿz »z —z »z j   ƒ         Ê5ž!«!          mB Æz { ¾z { j   ª         Ê5ž!«!          nB { 0{ { 0{ j   ñ         Ê5ž!«!          oB ;{ r{ 3{ r{ j            Ê5ž!«!          pB }{ œ{ u{ œ{ j   a         Ê5ž!«!          qB §{ Ã{ Ÿ{ Ã{ j   ‹         Ê5ž!«!          rB Î{ | Æ{ | j   ²         Ê5ž!«!          sB | 9| | 9| j   þ         Ê5ž!«!          tB D| `| <| `| j   (         Ê5ž!«!          uB k| –| c| –| j   O         Ê5ž!«!          vB ¡| À| ™| À| j   …         Ê5ž!«!          wB Ë| ç| Ã| ç| j   ¯         Ê5ž!«!          xB ò| 9} ê| 9} j   Ö         Ê5ž!«!          yB D} c} <} c} j   (         Ê5ž!«!          zB n} Š} f} Š} j   R         Ê5ž!«!          AB •} Ü} } Ü} j   y         Ê5ž!«!          BB ç} ~ ß} ~ j   Ë         Ê5ž!«!          CB ~ -~ 	~ -~ j   õ         Ê5ž!«!          DB 8~ ~ 0~ ~ j            Ê5ž!«!          EB Œ~ «~ „~ «~ j   p         Ê5ž!«!          FB ¶~ Ò~ ®~ Ò~ j   š         Ê5ž!«!          GB Ý~ ð~ Õ~ ð~ j   Á         Ê5ž!«!          HB û~  ó~  j   ß         Ê5ž!«!          IB ( [   [ j            Ê5ž!«!          JB f … ^ … j   J         Ê5ž!«!          KB  ¬ ˆ ¬ j   t         Ê5ž!«!          LB · Ó ¯ Ó j   ›         Ê5ž!«!          MB Þ ý Ö ý j   Â         Ê5ž!«!          NB € $€  € $€ j   ì         Ê5ž!«!          OB /€ U€ '€ U€ j            Ê5ž!«!          PB `€ € X€ € j   D         Ê5ž!«!          QB Š€ ¦€ ‚€ ¦€ j   n         Ê5ž!«!          RB ±€ ã€ ©€ ã€ j   •         Ê5ž!«!          SB î€  æ€  j   Ò         Ê5ž!«!          TB  4  4 j   ü         Ê5ž!«!          UB ? f 7 f j   #         Ê5ž!«!          VB q ­ i ­ j   U         Ê5ž!«!          WB ¸ ð ° ð j   œ         Ê5ž!«!          XB û 5‚ ó 5‚ j   ß         Ê5ž!«!          YB @‚ _‚ 8‚ _‚ j   $	         Ê5ž!«!          ZB j‚ †‚ b‚ †‚ j   N	         Ê5ž!«!          $B ‘‚ à‚ ‰‚ à‚ j   u	         Ê5ž!«!          _B ë‚ :ƒ ã‚ :ƒ j   Ï	         Ê5ž!«!          aaB Fƒ ¿ƒ >ƒ ¿ƒ j   *
         Ê5ž!«!          baB Ëƒ D„ Ãƒ D„ j   ¯
         Ê5ž!«!          caB P„ s„ H„ s„ j   4         Ê5ž!«!          daB „ ¯„ w„ ¯„ j   c         Ê5ž!«!          eaB »„ Z… ³„ Z… j   Ÿ         Ê5ž!«!          faB f… #† ^… #† j   J         Ê5ž!«!          gaB /† b† '† b† j            Ê5ž!«!          haB n† ‡ f† ‡ j   R             b   B ‰† ‡ † ‡ j   m         Ê5žÊ5ž!«!          iaB ‡ nˆ ‡ nˆ j     `          c    f    g    i    k   B E‡ ž‡ =‡ ž‡ j   )         Ê5ž   B  Æ‡ lˆ ¾‡ lˆ j   ª           B Û‡ jˆ Ó‡ jˆ j   ¿             b   B ó‡ Qˆ ë‡ Qˆ j   ×          Ê5ž   B  dˆ hˆ \ˆ hˆ j   H         Ê5žÊ5žÊ5žÊ5ž!«!          jaB zˆ Ù‰ rˆ Ù‰ j   ^  0          c    f   B šˆ ­ˆ ’ˆ ­ˆ j   ~         Ê5ž   B ïˆ ×‰ çˆ ×‰ j   Ó             d   B ‰ Õ‰ ‰ Õ‰ j   ô          Ê5žÊ5žÊ5ž!«!          kaB å‰ Š Ý‰ Š j   É             a   B ý‰ Š õ‰ Š j   á         Ê5žÊ5ž!«!          laB )Š ZŠ !Š ZŠ j                a   B AŠ XŠ 9Š XŠ j   %         Ê5žÊ5ž!«!          maB fŠ | ^Š | j   J  `          b    d    f    g    k   B ‹ R‹ ûŠ R‹ j   ç           B 6‹ O‹ .‹ O‹ j            Ê5žÊ5ž   B ƒ‹ ¢‹ {‹ ¢‹ j   g         Ê5ž   B ñ‹ <Œ é‹ <Œ j   Õ             a   B 	Œ *Œ Œ *Œ j   í         Ê5žÊ5ž   B KŒ ‡Œ CŒ ‡Œ j   /             a   B gŒ ‚Œ _Œ ‚Œ j   K         Ê5žÊ5ž   B £Œ ÅŒ ›Œ ÅŒ j   ‡         Ê5ž   B áŒ  ÙŒ  j   Å         Ê5žÊ5ž!«!          naB ˆ RŽ € RŽ j   l             f   B -Ž PŽ %Ž PŽ j            Ê5žÊ5ž!«!          oaB ^Ž D VŽ D j   B  0          d   B k Å c Å j   O         Ê5žÊ5ž!«!          paB P ­ H ­ j   4          Ê5ž!«!          qaB ¹ Ý ± Ý j            Ê5ž!«!          raB é ‘ á ‘ j   Í         Ê5ž!«!          saB ‘ /‘ ‘ /‘ j   ý         Ê5ž!«!          taB ;‘ [‘ 3‘ [‘ j            Ê5ž!«!          uaB g‘ F“ _‘ F“ j   K             j   B •‘ ª‘ ‘ ª‘ j   y         Ê5ž   B Ê’ æ’ Â’ æ’ j   ®         Ê5žÊ5ž!«!          vaB R“ †” J“ †” j   6         Ê5ž!«!          waB ’” 2• Š” 2• j   v  @          a    b    d   B í” &• å” &• j   Ñ         Ê5žÊ5ž!«!          xaB >• â• 6• â• j   "  @          a    b    d   B ›• Ö• “• Ö• j            Ê5žÊ5ž!«!          yaB î• •– æ• •– j   Ò  @          a    b    d   B J– ‰– B– ‰– j   .         Ê5žÊ5ž!«!          zaB ¡– N— ™– N— j   …  @          a    b    d   B  — B— ø– B— j   ä         Ê5žÊ5ž!«!          AaB Z— ˜ R— ˜ j   >  @          a    b    d   B ·— ˜ ¯— ˜ j   ›         Ê5žÊ5ž!«!          BaB ˜ ¾˜ ˜ ¾˜ j   ÿ  @          a    b    d   B k˜ ²˜ c˜ ²˜ j   O         Ê5žÊ5ž!«!          CaB Ê˜ ¥™ Â˜ ¥™ j   ®  @          a    b    d   B .™ ™™ &™ ™™ j             Ê5žÊ5ž!«!          DaB ±™ “š ©™ “š j   •          Ê5ž!«!          EaB Ÿš 'œ —š 'œ j   ƒ!          Ê5ž!«!          FaB 3œ c +œ c j   #          Ê5ž!«!          GaB o pž g pž j   S$         Ê5ž!«!          HaB |ž wŸ tž wŸ j   `%         Ê5ž!«!          IaB ƒŸ 0¡ {Ÿ 0¡ j   g&  0          b    e   B ÁŸ Y  ¹Ÿ Y  j   ¥&         Ê5ž   B …   ¡ }   ¡ j   i'         Ê5žÊ5ž!«!          JaB <¡ x¢ 4¡ x¢ j    (  @          a    b    d   B ¢ l¢ ¢ l¢ j    )         Ê5žÊ5ž!«!          KaB „¢ B£ |¢ B£ j   h)             f   B ê¢ &£ â¢ &£ j   Î)         Ê5žÊ5ž!«!          LaB N£ ƒ£ F£ ƒ£ j   2*         Ê5ž!«!          MaB £ c¦ ‡£ c¦ j   s*  p          c    d    e    f    g    h   B ~¥ à¥ v¥ à¥ j   b,          Ê5ž   B  %¦ K¦ ¦ K¦ j   	-         Ê5žÊ5žŽ!«!       Ž!«!   render‹!«!    š˜;øÊ5žŽ!«!      Ž!«!=   core/custom_interaction_eventsŽ!«!A   core_message/message_area_events    !«!       B ð¦ 9± è¦ 9± k   w   @          a    b    d      c  § $§ ö¦ $§ k   ‡          Ê5ž   B  M¨ å­ E¨ å­ k   Ô           B  ¡­ Ø­ ™­ Ø­ k   (         Ê5žÊ5ž   B  ® v® ® v® k   ”         Ê5ž   B  ™® ý® ‘® ý® k             Ê5ž   B ¯ ø¯ ¯ ø¯ k   ¤         Ê5ž   B ° 6± ° 6± k    	         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/pubsubŽ!«!   core/templatesŽ!«!?   core_message/message_repositoryŽ!«!E   core_message/message_drawer_eventsŽ!«!U   core_message/message_drawer_lazy_load_list    !«!       C  ´       	   A                                   ;² ®· 3² ®· l                 ×d‰ 	  Q>‰ 
  Q[    =    ]   =   ]   =   ]   ‰   Q[   =   ]   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚	   W   Q[
   V   ]   ™€ È—•Ê<Ê"Ð@•Ð;ËAË€  ¸Ë€  ÆË!Ë]ËZË€ nÊb•É I   [data-region="block-icon-container"])   BLOCK_ICON_CONTAINER/   [data-region="contact"]   CONTACTU   [data-region="contacts-content-container"]#   CONTENT_CONTAINERS   core_message/message_drawer_contacts_list   CONTACTS_LIST	   showŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s      «+’HŽ!«!       Ž!«!)   BLOCK_ICON_CONTAINER‹!«!Ž!«!   CONTACT‹!«!Ž!«!#   CONTENT_CONTAINER‹!«!    Ž!«!       Ž!«!   CONTACTS_LIST‹!«!    !«!          lB B³ x³ :³ x³ l            Ê5ž!«!          mB ƒ³ 0´ {³ 0´ l   G             c   B ³ Â³ •³ Â³ l   a         Ê5ž   B ÿ³ ´ ÷³ ´ l   Ã         Ê5žÊ5ž!«!          nB ;´ ö´ 3´ ö´ l   ÿ             a   B l´ y´ d´ y´ l   0         Ê5ž   B ˆ´ ½´ €´ ½´ l   L         Ê5ž   B Ì´ Þ´ Ä´ Þ´ l            Ê5žÊ5ž!«!          oB µ µ ù´ µ l   Å         Ê5ž!«!          pB "µ tµ µ tµ l   æ         Ê5ž!«!          qB µ Îµ wµ Îµ l   C         Ê5ž!«!          rB Ùµ <· Ñµ <· l                a   B ¶ T¶ ùµ T¶ l   Å         Ê5ž   B |¶ Ò¶ t¶ Ò¶ l   @         Ê5ž   B ú¶ · ò¶ · l   ¾         Ê5ž   B /· :· '· :· l   ó         Ê5žÊ5ž!«!          sB G· ž· ?· ž· l            Ê5žŽ!«!       Ž!«!	   show‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/fragmentŽ!«!   core/templatesŽ!«!   core/strŽ!«!!   tool_lp/dialogue    !«!       B Z¸ ò¼ R¸ ò¼ m   ©             a    b    c    d    e    f    g    h   B Î¸ c¹ Æ¸ c¹ m            Ê5ž   B  „¹ 6» |¹ 6» m   Ó           B ö¹ )» î¹ )» m   E  2          b    c   B 5º » -º » m   „  "          f   B  Qº gº Iº gº m             Ê5ž   B  pº }º hº }º m   ¿         Ê5ž   B  ªº Õº ¢º Õº m   ù         Ê5ž   B  » » » » m   \         Ê5žÊ5žÊ5žÊ5ž   B  b» ï¼ Z» ï¼ m   ±  2          d    e   B `¼ í¼ X¼ í¼ m   ¯          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!Y   core_message/message_notification_preferenceŽ!«!=   core/custom_interaction_events    !«!       B £½ ÒÂ ›½ ÒÂ n   ®   p          a    b    c    d    e    f   B c¾ Ý¾ [¾ Ý¾ n   n         Ê5ž   B  ¿ T¿ ¿ T¿ n            Ê5ž   B  ‡¿ Á ¿ Á n   ’  "          d   B  ùÀ Á ñÀ Á n            Ê5žÊ5ž   B  CÁ ÏÂ ;Á ÏÂ n   N           B ŒÁ ÂÂ „Á ÂÂ n   —  2          e   B  £Â ¿Â ›Â ¿Â n   ®         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/configŽ!«!=   core/custom_interaction_eventsŽ!«!A   core_message/message_area_events    !«!       B ¢Ã ÜÕ šÃ ÜÕ o   Í             b    c    d    e    f    g    h    j      i ¾Ã âÃ ´Ã âÃ o   é          Ê5ž   B  *Æ ­Ê "Æ ­Ê o   U           B ùÆ 8Ç ñÆ 8Ç o   $         Ê5ž   B •Ç ÐÇ Ç ÐÇ o   À         Ê5ž   B 0È nÈ (È nÈ o   [         Ê5ž   B ÌÈ É ÄÈ É o   ÷         Ê5ž   B dÉ žÉ \É žÉ o            Ê5ž   B ýÉ :Ê õÉ :Ê o   (         Ê5žÊ5ž   B ÏÊ ¯Ì ÇÊ ¯Ì o   ú           B þÊ EË öÊ EË o   )         Ê5ž   B ÿË :Ì ÷Ë :Ì o   *	         Ê5ž   B IÌ Ì AÌ Ì o   t	         Ê5žÊ5ž   B  ÕÌ !Í ÍÌ !Í o    
         Ê5ž   B  CÍ €Í ;Í €Í o   n
         Ê5ž   B  £Í „Î ›Í „Î o   Î
           B  7Î wÎ /Î wÎ o   b         Ê5žÊ5ž   B  ©Î ’Ï ¡Î ’Ï o   Ô           B  CÏ …Ï ;Ï …Ï o   n         Ê5žÊ5ž   B  ³Ï  Ð «Ï  Ð o   Þ           B  UÐ “Ð MÐ “Ð o   €         Ê5žÊ5ž   B  ÄÐ £Ñ ¼Ð £Ñ o   ï           B  VÑ –Ñ NÑ –Ñ o            Ê5žÊ5ž   B ÇÑ SÔ ¿Ñ SÔ o   ò  b          c    f    g    h   B  ãÓ Ô ÛÓ Ô o            Ê5ž   B Ô 4Ô Ô 4Ô o   A         Ê5žÊ5ž   B tÔ öÔ lÔ öÔ o   Ÿ         Ê5ž   B  Õ PÕ Õ PÕ o   A         Ê5ž   B  xÕ ÙÕ pÕ ÙÕ o   £         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!   core/pubsubŽ!«!E   core_message/message_drawer_events    !«!       C  P          "                                   mÖ ©Ø eÖ ©Ø p                 [    =    ]   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ 	  Q‚   W   Q[   V   ]   ™€  œ•Ð3Ë-Ë€  ¦Ë€  ûÊ•É ?   [data-region="count-container"]   COUNT_CONTAINER	   initŒ!«!ÿÿÿÿ	      a   b   c   d   e   f   g   h   i      «+’HŽ!«!       Ž!«!   COUNT_CONTAINER‹!«!    !«!          fB  »Ö ÝÖ ³Ö ÝÖ p   Ü          Ê5ž!«!          gC                                               èÖ ƒ× àÖ ƒ× p                  ‚    ™€ •€  – Œ!«!ÿÿÿÿ      a       «+’H!«!          g/<b  ûÖ ‚× óÖ ‚× p            Ê5žš˜;øÊ5ž!«!          hC Á          2                                €   Ž× ~Ø †× ~Ø p                  ˆ   ¸    
T  Z   ˆ   5   5   `    ç QT  ¸   
ˆ   5   5   ‚    ç Qˆ   ¸   
ˆ   5   ˆ   T  : ç Qˆ   ¸   
ˆ   5   ˆ   T  : ç Qˆ   ¸   
ˆ   5   ˆ   T  : ç Q™€ ³ÔÔÿÿÿô” âLß “ÿÿÿà”&ß'“ÿÿÿÙ”-ß'“ÿÿÿÙ”,    define   events   activate   on   subscribe#   CONVERSATION_READ1   CONTACT_REQUEST_ACCEPTED1   CONTACT_REQUEST_DECLINEDŒ!«!ÿÿÿÿ      a        «+’H!«!          h/<b Ñ× ü× É× ü× p   ò         Ê5žš˜;øÊ5ž!«!          iC                                            €  ‰Ø ™Ø Ø ™Ø p   ª             ˆ   T  : U  Qˆ 	  T  ç Q™€ ®É—Í Œ!«!ÿÿÿÿ      b        «+’Hš˜;ø       Ê5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!A   core_message/message_area_events    !«!       B Ù Ú ýØ Ú q   Y   0          a    c      b Ù *Ù 	Ù *Ù q   g          Ê5ž   B  ¥Ù 	Ú Ù 	Ú q   ù          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/pubsubŽ!«!   core/templatesŽ!«!?   core_message/message_repositoryŽ!«!=   core/custom_interaction_eventsŽ!«!E   core_message/message_drawer_events    !«!       C  ß          N       
                            üÚ cæ ôÚ cæ r                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   ‰ 
  Q[   =   ]   ‰   Q=   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q‚   W  Q[	   V   ]   V  ]   ™€ •Ê"Ê$ÊNÊTÊRÊWÊ6Ð?•ÐlË+Ë€  ‡ËfËzË€ Ë€ XÊpÊN•ÉÉ -   input[type="checkbox"]   CHECKBOX1   [data-region="settings"]   SETTINGSq   [data-preference="blocknoncontacts"] input[type="radio"]%   PRIVACY_PREFERENCEq   [data-preference="notifications"] input[type="checkbox"]1   NOTIFICATIONS_PREFERENCEm   [data-preference="entertosend"] input[type="checkbox"]1   ENTER_TO_SEND_PREFERENCEc   [data-region="notification-preference-container"]E   NOTIFICATION_PREFERENCES_CONTAINERC   [data-region="content-container"]#   CONTENT_CONTAINERK   [data-region="placeholder-container"]+   PLACEHOLDER_CONTAINERŸ   core_message/message_drawer_view_settings_body_content_notification_preferences1   NOTIFICATION_PREFERENCESM   message_provider_moodle_instantmessage	   show   descriptionŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r      «+’HŽ!«!       Ž!«!   CHECKBOX‹!«!Ž!«!   SETTINGS‹!«!Ž!«!%   PRIVACY_PREFERENCE‹!«!Ž!«!1   NOTIFICATIONS_PREFERENCE‹!«!Ž!«!1   ENTER_TO_SEND_PREFERENCE‹!«!Ž!«!E   NOTIFICATION_PREFERENCES_CONTAINER‹!«!Ž!«!#   CONTENT_CONTAINER‹!«!Ž!«!+   PLACEHOLDER_CONTAINER‹!«!    Ž!«!       Ž!«!1   NOTIFICATION_PREFERENCES‹!«!    !«!          lB ¿Ý ;Þ ·Ý ;Þ r   °             c   B ÷Ý 9Þ ïÝ 9Þ r   è         Ê5žÊ5ž!«!          mB FÞ ¡Þ >Þ ¡Þ r   7         Ê5ž!«!          nB ¬Þ ß ¤Þ ß r                c   B  ÝÞ ß ÕÞ ß r   Î         Ê5žÊ5ž!«!          oB &ß /â ß /â r                c   B Ÿß á —ß á r               B &à kà à kà r            Ê5žÊ5ž   B Já ›á Bá ›á r   ;         Ê5ž   B ×á -â Ïá -â r   È         Ê5žÊ5ž!«!          pB :â ‡å 2â ‡å r   +  0          a    c   B lâ ñä dâ ñä r   ]  0          c    d   B îâ 5ä æâ 5ä r   ß  0         B 2ã Pã *ã Pã r   #	         Ê5ž   B “ã 1ä ‹ã 1ä r   „	         Ê5žÊ5ž   B Õä îä Íä îä r   Æ
         Ê5žÊ5ž   B   å oå øä oå r   ñ
         Ê5žÊ5ž!«!          qB ’å ÷å Šå ÷å r   ƒ         Ê5ž!«!          rB  æ Eæ úå Eæ r   ó         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   description‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!   core/templates    !«!       C  m          !                                   Èæ ˆè Àæ ˆè s                 [    =    ]   ‰   Q[   =   ]   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q‚   W  Q[   V   ]   V  ]   ™n•Ð7•ÐAË2ËYÊ3Ê[•ÉÉ C   [data-region="content-container"]#   CONTENT_CONTAINERk   core_message/message_drawer_view_contact_body_content   CONTENT	   show   descriptionŒ!«!ÿÿÿÿ	      a   b   c   d   e   f   g   h   i      «+’HŽ!«!       Ž!«!#   CONTENT_CONTAINER‹!«!    Ž!«!       Ž!«!   CONTENT‹!«!    !«!          fB \ç ƒç Tç ƒç s   ö          Ê5ž!«!          gB Žç Üç †ç Üç s   (             a   B ¾ç Úç ¶ç Úç s   X         Ê5žÊ5ž!«!          hB çç è ßç è s            Ê5ž!«!          iB è jè è jè s   ´         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   description‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!G   core_message/notification_processor    !«!       B é µî é µî t   ˆ   `   	       a    b    c    d    e   B sé –é ké –é t   è          Ê5ž   B  Ãé óé »é óé t   8         Ê5ž   B  !ê Oê ê Oê t   –         Ê5ž   B  ~ê ­ê vê ­ê t   ó         Ê5ž   B  Ðê ë Èê ë t   E           B ë ë úê ë t   w         Ê5žÊ5ž   B  ?ë “ë 7ë “ë t   ´         Ê5ž   B  ´ë ì ¬ë ì t   )         Ê5ž   B  *ì Rì "ì Rì t   Ÿ         Ê5ž   B  lì ²î dì ²î t   á  2          d    e   B åì ní Ýì ní t   Z         Ê5ž   B  î ¥î ‡î ¥î t            Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/auto_rowsŽ!«!%   core/backoff_timerŽ!«!=   core/custom_interaction_eventsŽ!«!#   core/notificationŽ!«!   core/pubsubŽ!«!   core/strŽ!«!?   core_message/message_repositoryŽ!«!E   core_message/message_drawer_eventsŽ!«!o   core_message/message_drawer_view_conversation_constantsŽ!«!k   core_message/message_drawer_view_conversation_patcherŽ!«!m   core_message/message_drawer_view_conversation_rendererŽ!«!w   core_message/message_drawer_view_conversation_state_managerŽ!«!E   core_message/message_drawer_routerŽ!«!E   core_message/message_drawer_routes    !«!       C  å               7                  W         ñð l* éð l* u                 [    ‰ 7  Q@‰ "  QB‰ :  Q>‰   Q@‰ 9  QC‰ ;  QB‰ 5  Q@‰   Qˆ   5    ‰ 3  Qˆ   5   ‰   Qˆ   5   ‰ 8  Qˆ   5   ‰ .  Qˆ   5   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ /  Q‚   ‰   Q‚   ‰ -  Q‚   ‰ 0  Q‚   ‰ *  Q‚   ‰ @  Q‚	   ‰ (  Q‚
   ‰ 1  Q‚   ‰ ,  Q‚   ‰ B  Q‚   ‰ )  Q‚   ‰ ?  Q‚   ‰   Q‚   ‰ >  Q‚   ‰ +  Q‚   W  Q‚   ‰   Q‚   W  Q‚   ‰ %  Q‚   W  Q‚   ‰ $  Q‚   W  Q‚   ‰ <  Q‚   ‰ #  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   ‰ =  Q‚    W  Q‚!   W  Q‚"   ‰ !  Q‚#   ‰ &  Q‚$   ‰ '  Q‚%   ‰ A  Q‚&   W  Q‚'   ‰   Q‚(   W  Q‚)   W  Q‚*   W  Q‚+   W
  Q‚,   W	  Q‚-   W   QZ
   Z   ˆ .  5   `    V  ˆ +  : `   `    Z   ˆ .  5   `    V  ˆ   : `   `   Z   ˆ .  5   `    V  ˆ $  : `   `   Z   ˆ .  5   `    V  ˆ %  : `   `   Z   ˆ .  5	   `    V  V  : `   `   Z   ˆ .  5
   `    V  `   `   Z   ˆ .  5   `    V  `   `   Z   ˆ .  5   `    V   `   `   Z   ˆ .  5   `    V
  `   `   Z   ˆ .  5   `    V	  `   `	   ‰   QZ   Z   ˆ .  5   `    V  ˆ =  : `   `    Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  ˆ $  : `   `   Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  V  : `   `	   Z   ˆ .  5   `    V  `   `
   ‰   QZ   Z   ˆ .  5   `    ˆ   `   `    Z   ˆ .  5   `    V  V  : `   `   Z   ˆ .  5   `    V  ˆ $  : `   `   Z   ˆ .  5   `    V  ˆ   : `   `   ‰   Q‚.   ‰ 2  Q‚/   ‰   Q‚0   ‰   Q‚1   ‰ 6  Q‚2   ‰    Q‚3   ‰ 4  Q‚4   W  Q‚5   W  Q[6   V  ]   V  ]   ™€ ]Ë———————ÐÐÐ%ÐÐË€  žË€  ŽË€ ËË,ËË/Ë3Ë€ ²Ë€ >Ë€  Ë€ sË€ íË€ HË€ Ë€  ¾ËbÊ€ ËdÊ€ !ËfÊ€ $ËcÊ€ iË€  ×Ë€  ÛÊ€  €Ê€ 0ÊfÊ€ pË€ /Ê€ ¿Ê€ ˜Ë€ ?Ë€  ŽËwË€  ²Ê€  ·Ë€  §Ê€  ßÊNÊcÊMÊMÊ€  ¼••Ï×•Ï×•Ï×•Ï ×•Ï%Ö•ÏÎ•ÏÎ•ÏÎ•ÏÎ•ÏÔ••Ï×•ÏÖ•ÏÖ•ÏÖ•Ï Ö•Ï*Ö•Ï%Ö•Ï×•Ï Ö•Ï!Ö•Ï
Ô••ÏÏ•Ï*Ö•Ï×•ÏÝË€ šËRË€  „Ë€  ¿Ë€ 
Ë€ Ê€ ™ÊZ•ÉÉ +   NEWEST_MESSAGES_FIRST%   LOAD_MESSAGE_LIMITA   INITIAL_NEW_MESSAGE_POLL_TIMEOUT   SELECTORS%   CONVERSATION_TYPES)   ACTION_REQUEST_BLOCK-   ACTION_REQUEST_UNBLOCK5   ACTION_REQUEST_ADD_CONTACT;   ACTION_REQUEST_REMOVE_CONTACTE   ACTION_REQUEST_DELETE_CONVERSATION/   ACTION_CANCEL_EDIT_MODE'   ACTION_VIEW_CONTACT-   ACTION_VIEW_GROUP_INFO1   ACTION_CONFIRM_FAVOURITE5   ACTION_CONFIRM_UNFAVOURITE+   ACTION_CANCEL_CONFIRM)   ACTION_CONFIRM_BLOCK-   ACTION_CONFIRM_UNBLOCK5   ACTION_CONFIRM_ADD_CONTACT;   ACTION_CONFIRM_REMOVE_CONTACTO   ACTION_CONFIRM_DELETE_SELECTED_MESSAGESE   ACTION_CONFIRM_DELETE_CONVERSATION;   ACTION_ACCEPT_CONTACT_REQUEST=   ACTION_DECLINE_CONTACT_REQUEST   MESSAGE'   SEND_MESSAGE_BUTTONO   ACTION_REQUEST_DELETE_SELECTED_MESSAGES	   show   descriptionŒ!«!ÿÿÿÿT      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   Q   ta   B   ma   U   F   C   D   sa   w   ua   va   ya   y   xa   s   Aa   ha   aa   q   ba   Da   ca   _   ga   Y   W   ia   Z   ja   K   O   oa   I   S   pa   M   G   A   ra   E   H   L   wa   x   Ba   qa   v   da   za   p   z   Ca   t   r   u   fa   $   X   la   ea   R   V   na   P   J   T   ka   N      «+’HŽ!«!            !«!          CB  Çñ Zò ¿ñ Zò u                a   B .ò >ò &ò >ò u   v         Ê5žÊ5ž!«!          DB eò èò ]ò èò u   ­             a   B Žò áò †ò áò u   Ö          Ê5žÊ5ž!«!          EB óò ìó ëò ìó u   ;         Ê5ž!«!          FB  ÷ó ô ïó ô u   ?         Ê5ž!«!          GB ô /ô ô /ô u   V         Ê5ž!«!          HB  :ô Fô 2ô Fô u   ‚         Ê5ž!«!          IB Qô uô Iô uô u   ™         Ê5ž!«!          JB €ô ¨ô xô ¨ô u   È         Ê5ž!«!          KB ³ô Zö «ô Zö u   û             b   B ‚õ œõ zõ œõ u   Ê         Ê5ž   B Ìõ Tö Äõ Tö u              B 6ö Pö .ö Pö u   ~         Ê5žÊ5žÊ5ž!«!          LB eö ˜ø ]ö ˜ø u   ­  @          a    b    c   B  Èö ïö Àö ïö u            Ê5ž   B þö O÷ öö O÷ u   F         Ê5ž   B ^÷ Kø V÷ Kø u   ¦             b   B  =ø Iø 5ø Iø u   …	         Ê5žÊ5ž   B ^ø –ø Vø –ø u   ¦	         Ê5žÊ5ž!«!          MB £ø 8ú ›ø 8ú u   ë	             b   B Èø Ûø Àø Ûø u   
         Ê5žÊ5ž!«!          NB Cú «ü ;ú «ü u   ‹  p          a    b    c    d    f    g   B  ¬ú ßú ¤ú ßú u   ô         Ê5ž   B îú ;û æú ;û u   6         Ê5ž   B Jû #ü Bû #ü u   ’             a   B mû ƒû eû ƒû u   µ         Ê5ž   B  ü !ü ü !ü u   ]         Ê5žÊ5ž   B  2ü Aü *ü Aü u   z         Ê5ž   B Tü ©ü Lü ©ü u   œ         Ê5žÊ5ž!«!          OB ¶ü ˜þ ®ü ˜þ u   þ  `          a    b    c    d    h   B ßü õü ×ü õü u   '         Ê5ž   B  Ÿý 7þ —ý 7þ u   ç           B Îý äý Æý äý u            Ê5ž   B   þ 5þ þ 5þ u   h         Ê5žÊ5ž   B Fþ _þ >þ _þ u   Ž         Ê5ž   B  nþ €þ fþ €þ u   ¶         Ê5žÊ5ž!«!          PB £þ à  ›þ à  u   ë  0          b    e   B õþ rÿ íþ rÿ u   =           B Cÿ mÿ ;ÿ mÿ u   ‹         Ê5žÊ5ž   B ÿ Ðÿ yÿ Ðÿ u   É         Ê5ž   B ßÿ ™  ×ÿ ™  u   '             a   B   !  úÿ !  u   J         Ê5ž   B  ‹  —  ƒ  —  u   Ó         Ê5žÊ5ž   B ¬  Þ  ¤  Þ  u   ô         Ê5žÊ5ž!«!          QB ë  p ã  p u   3  0          b    c   B    o ø  o u   H  0         B Ò E Ê E u             Ê5žÊ5žÊ5ž!«!          RB { . s . u   Ã             a   B  Ó , Ë , u            Ê5žÊ5ž!«!          SB 9  1  u                a   B  W Ž O Ž u   Ÿ         Ê5žÊ5ž!«!          TB › « “ « u   ã             a   B  Þ  Ö  u   &         Ê5ž   B  ©  © u   _         Ê5žÊ5ž!«!          UB ¶  ®  u   þ             a   B  Ô  Ì  u            Ê5žÊ5ž!«!          VB  0  0 u   b             a   B  ] ‰ U ‰ u   ¥         Ê5ž   B ˜ .  . u   à         Ê5žÊ5ž!«!          WB ; – 3 – u   ƒ             a   B  Y ” Q ” u   ¡         Ê5žÊ5ž!«!          XB ¡ º ™ º u   é             a   B  ä  Ü  u   ,         Ê5ž   B $ ¸  ¸ u   l         Ê5žÊ5ž!«!          YB Å  ½  u                a   B  ã  Û  u   +         Ê5žÊ5ž!«!          ZB ( †	   †	 u   p             a   B  k   c   u   ³         Ê5ž   B ¯ ù § ù u   ÷         Ê5ž   B 	 „	  	 „	 u   P         Ê5žÊ5ž!«!          $B  ‘	 ]
 ‰	 ]
 u   Ù           B  é	 
 á	 
 u   1         Ê5ž   B  $
 [
 
 [
 u   l         Ê5žÊ5ž!«!          _B  h
 8 `
 8 u   °           B  Â
 î
 º
 î
 u   
         Ê5ž   B  ý
 6 õ
 6 u   E         Ê5žÊ5ž!«!          aaB D ¸ < ¸ u   Œ             b   B  } ¶ u ¶ u   Å         Ê5žÊ5ž!«!          baB  Ä è ¼ è u                a   B  " Q  Q u   j         Ê5ž   B  ` æ X æ u   ¨          Ê5žÊ5ž!«!          caB ô N ì N u   <           B   L 
 L u   Z         Ê5žÊ5ž!«!          daB  Z ¾ R ¾ u   ¢           B  œ Ò ” Ò u   ä         Ê5ž   B  á ¼ Ù ¼ u   )          Ê5žÊ5ž!«!          eaB Ê í Â í u   !         Ê5ž!«!          faB ù ¬ ñ ¬ u   A"  @          a    b    d   B B b : b u   Š"         Ê5ž   B  ¦ Ì ž Ì u   î"         Ê5ž   B Û H Ó H u   ##         Ê5ž   B  W ª O ª u   Ÿ#         Ê5žÊ5ž!«!          gaB ¸ D ° D u    $  @          a    b    d   B  ! ù ! u   I$         Ê5ž   B  e Œ ] Œ u   ­$         Ê5ž   B ›  “  u   ã$         Ê5ž   B   B  B u   _%         Ê5žÊ5ž!«!          haB P ƒ H ƒ u   ˜%  @          a    b    d   B  › D “ D u   ã%           B  B  B u   ]&         Ê5žÊ5ž   B S 1 K 1 u   ›&             c   B  ú / ò / u   B'         Ê5žÊ5ž   B D  <  u   Œ'         Ê5žÊ5ž!«!          iaB   ‡  u   ×'         Ê5ž!«!          jaB   ˆ  ˆ u   e(           B  < † 4 † u   „(         Ê5žÊ5ž!«!          kaB ” : Œ : u   Ü(  @          a    b    c   B « 9 £ 9 u   ó(             d   B  í 7 å 7 u   5)         Ê5žÊ5žÊ5ž!«!          laC                                               F ñ > ñ u                  ‚    ™€ )’•€  ¦ Œ!«!ÿÿÿÿ      a       «+’H!«!       	   la/<b Y ð Q ð u   ¡)           B  Í ‡ Í u   ×)         Ê5žÊ5žš˜;øÊ5ž!«!          maB ý ˜ õ ˜ u   E*         Ê5ž!«!          naB ¤ w œ w u   ì*          Ê5ž!«!          oaB ƒ Å { Å u   Ë+         Ê5ž!«!          paB Ñ ( É ( u   ,         Ê5ž!«!          qaB 4 u , u u   |,         Ê5ž!«!          raB  Â y Â u   É,         Ê5ž!«!          saB Î ~ Æ ~ u   -         Ê5ž!«!          waB   ¦#   ¦# u   `1  P          a    c    g    h   B þ  " ö  " u   F2            B  v! “! n! “! u   ¾2         Ê5ž   B  ¢! ³! š! ³! u   ê2         Ê5ž   B Æ! Þ! ¾! Þ! u   3         Ê5žÊ5ž   B " H" " H" u   ^3         Ê5ž   B ]" " U" " u   ¥3         Ê5ž   B ¤" Ö" œ" Ö" u   ì3         Ê5ž   B # P#  # P# u   P4         Ê5ž   B v# ¤# n# ¤# u   ¾4         Ê5žÊ5ž!«!          xaB ²# ø# ª# ø# u   ú4           B Ù# ì# Ñ# ì# u   !5         Ê5žÊ5ž!«!          yaB $ |$ ü# |$ u   L5         Ê5ž!«!          zaB ˆ$ ;% €$ ;% u   Ð5  @          a    b    c   B  ±$ 9% ©$ 9% u   ù5           B þ$ % ö$ % u   F6         Ê5ž   B  &% 7% % 7% u   n6         Ê5žÊ5žÊ5ž!«!          AaB G% E& ?% E& u   6  @          b    c    d   B  ‰% $& % $& u   Ñ6          Ê5ž   B  3& C& +& C& u   {7         Ê5žÊ5ž!«!          BaB Q& Y' I& Y' u   ™7  @          b    c    d   B  œ& 5' ”& 5' u   ä7          Ê5ž   B  D' W' <' W' u   Œ8         Ê5žÊ5ž!«!          CaB e' ò) ]' ò) u   ­8  P          b   B  º( ø( ²( ø( u   :         Ê5ž   B ) #) ) #) u   S:         Ê5žÊ5ž!«!          DaB  þ) L* ö) L* u   F;         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   description‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_events    !«!       B õ* ×. í* ×. v   †   P          a    b    c    d   B + «, + «, v   ž            B ¦+ , ž+ , v   7           B  Ö+ , Î+ , v   g         Ê5žÊ5ž   B  }, ©, u, ©, v            Ê5žÊ5ž   B  Ô, õ, Ì, õ, v   e         Ê5ž   B  - :- - :- v   §         Ê5ž   B  Y- - Q- - v   ê         Ê5ž   B  ›- Ô. “- Ô. v   ,           B  ±. Ç. ©. Ç. v   B         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!#   core/notificationŽ!«!   core/pubsubŽ!«!   core/strŽ!«!   core/templatesŽ!«!   core/user_dateŽ!«!?   core_message/message_repositoryŽ!«!E   core_message/message_drawer_eventsŽ!«!E   core_message/message_drawer_routerŽ!«!E   core_message/message_drawer_routesŽ!«!U   core_message/message_drawer_lazy_load_listŽ!«!o   core_message/message_drawer_view_conversation_constants    !«!       C  º         š                                  ‘0 oG ‰0 oG w                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   ‰ %  Q[   =   ]   =   ]   ‰   Q×2‰ "  Q[   ‰   QB‰ &  QB‰   Q‚   ‰ $  Q‚   ‰ '  Q‚   ‰ !  Q‚   ‰   Q‚   ‰    Q‚   ‰   Q‚	   ‰ #  Q‚
   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ (  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ )  Q‚   W   Q[   V   ]   ˆ $  ]   ™€ ×•Ê Ê&Ê>Ê,Ê6Ê,Ê:ÊNÊ<Ð?•ÊDÐiÈË——Ë4Ë&Ë)Ë€ dË]Ë€ Ë€  ïË4Ë5ËEËEË_ËAË9ËFËCË€ sË€ -Ë€  ‡ËTË€  Ê€ •ÉÊ -   [data-region="toggle"]   TOGGLE-   [data-conversation-id]   CONVERSATIONI   [data-region="contact-icon-blocked"]-   BLOCKED_ICON_CONTAINER9   [data-region="last-message"]   LAST_MESSAGEC   [data-region="last-message-date"]#   LAST_MESSAGE_DATE9   [data-region="unread-count"]   UNREAD_COUNTG   [data-region="section-total-count"]'   SECTION_TOTAL_COUNT[   [data-region="section-total-count-container"];   SECTION_TOTAL_COUNT_CONTAINERI   [data-region="section-unread-count"])   SECTION_UNREAD_COUNTK   [data-region="placeholder-container"]+   PLACEHOLDER_CONTAINER]   core_message/message_drawer_conversations_list%   CONVERSATIONS_LIST   core_message/message_drawer_conversations_list_items_placeholderI   CONVERSATIONS_LIST_ITEMS_PLACEHOLDER	   show   isVisibleŒ!«!ÿÿÿÿ)      a   b   c   d   e   f   g   h   i   j   k   l   m   B   F   C   D   w   o   y   s   q   K   O   I   M   G   A   E   H   L   x   v   p   z   t   n   r   u   J   N      «+’HŽ!«!    
   Ž!«!   TOGGLE‹!«!Ž!«!   CONVERSATION‹!«!Ž!«!-   BLOCKED_ICON_CONTAINER‹!«!Ž!«!   LAST_MESSAGE‹!«!Ž!«!#   LAST_MESSAGE_DATE‹!«!Ž!«!   UNREAD_COUNT‹!«!Ž!«!'   SECTION_TOTAL_COUNT‹!«!Ž!«!;   SECTION_TOTAL_COUNT_CONTAINER‹!«!Ž!«!)   SECTION_UNREAD_COUNT‹!«!Ž!«!+   PLACEHOLDER_CONTAINER‹!«!    Ž!«!       Ž!«!%   CONVERSATIONS_LIST‹!«!Ž!«!I   CONVERSATIONS_LIST_ITEMS_PLACEHOLDER‹!«!    Ž!«!            !«!          tB —3 À3 3 À3 w   ½         Ê5ž!«!          uB Ë3 æ3 Ã3 æ3 w   ñ         Ê5ž!«!          vB ñ3 4 é3 4 w            Ê5ž!«!          wB 4 s5 4 s5 w   @             a   B  É4 Õ4 Á4 Õ4 w   ï         Ê5ž   B &5 Z5 5 Z5 w   L         Ê5ž   B  m5 q5 e5 q5 w   “         Ê5žÊ5ž!«!          xB ~5 Ð5 v5 Ð5 w   ¤         Ê5ž!«!          yB Û5 ì8 Ó5 ì8 w     0          b    e   B ÷5 t8 ï5 t8 w     0          c   B T7 u7 L7 u7 w   z         Ê5ž   B 58 j8 -8 j8 w   [	         Ê5žÊ5ž   B »8 Ô8 ³8 Ô8 w   á	         Ê5žÊ5ž!«!          zB ÷8 Û9 ï8 Û9 w   
  @          a    b    d   B 9 Ú9 9 Ú9 w   4
             e   B H9 Â9 @9 Â9 w   n
           B °9 ¾9 ¨9 ¾9 w   Ö
         Ê5žÊ5žÊ5žÊ5ž!«!          AB æ9 : Þ9 : w            Ê5ž!«!          BB : D: : D: w   @         Ê5ž!«!          CB O: ‰: G: ‰: w   u          Ê5ž!«!          DB ”: Î: Œ: Î: w   º          Ê5ž!«!          EB Ù: -; Ñ: -; w   ÿ          Ê5ž!«!          FB 8; n; 0; n; w   ^         Ê5ž!«!          GB y; §; q; §; w   Ÿ         Ê5ž!«!          HB ²; í; ª; í; w   Ø         Ê5ž!«!          IB ø; 0< ð; 0< w            Ê5ž!«!          JB ;< £> 3< £> w   a  P          b    c    f    h   B L= = D= = w   r         Ê5ž   B œ= ¬= ”= ¬= w   Â         Ê5ž   B »= ¡> ³= ¡> w   á         Ê5žÊ5ž!«!          KB ®> Ð@ ¦> Ð@ w   Ô  0          b   B c@ š@ [@ š@ w   ‰         Ê5ž   B  ©@ ¸@ ¡@ ¸@ w   Ï         Ê5žÊ5ž!«!          LB Û@ WA Ó@ WA w             Ê5ž!«!          MB bA «A ZA «A w   ˆ         Ê5ž!«!          NB ¶A KF ®A KF w   Ü  `   
       c    e    f    g    h   B  *B @B "B @B w   P         Ê5ž   B  dB lB \B lB w   Š         Ê5ž   B ”B ´B ŒB ´B w   º         Ê5ž   B ÞB þB ÖB þB w            Ê5ž   B 4C žC ,C žC w   Z          Ê5ž   B ËC íC ÃC íC w   ñ         Ê5ž   B D 9D D 9D w   =         Ê5ž   B lD ÕD dD ÕD w   ’         Ê5ž   B 
E dE E dE w   0         Ê5ž   B ´E IF ¬E IF w   Ú         Ê5žÊ5ž!«!          OB VF SG NF SG w   |  @          b   B ÚF êF ÒF êF w             Ê5ž   B  ýF G õF G w   #         Ê5ž   B G "G 
G "G w   8         Ê5ž   B  5G 9G -G 9G w   [         Ê5žÊ5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   isVisible‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       C  ¼      %   /      %                           ÏG Ûi ÇG Ûi x       !   #       [    ?]    ×]   ‰   Q‚   W  Q‚   W  Q‚   W	  Q‚   W  Q‚   W  Q‚   W  Q‚   W
  Q‚   W  Q‚	   W  Q‚
   W  Q‚   W  Q‚   W  Q‚   ‰   Q‚   W  Q‚   ‰   Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W   Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚    W   Q‚!   W  Q‚"   W  Q‚#   W  Q[$   V  ]   V  ]   V	  ]   V  ]   V  ]   V  ]   V
  ]   V  ]	   V  ]
   V  ]   V  ]   V  ]   ˆ   ]   V  ]   ˆ   ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V   ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]    V   ]!   V  ]"   V  ]#   V  ]$   ™i•–
Í
Ê€ ŠÊ€  …Ê€  €Ê€  ÂÊ€  Ê€ 2Ê€ 6Ê€  ‚Ê€  Ê€ Ê€  ÐÊ€  àË€ ØÊ@Ë€  ¯Ê@Ê|ÊiÊ€  ”Ê€  ˆÊlÊ€ AÊ€ AÊ€ Ê€ Ê€ Ê€ 0Ê€  …Ê€  ‡Ê€  ìÊ€  ‘ÊtÊoÊvÊ€  ø•ÉÉÉÉÉÉÉÉÉÉÉÉÊÉÊÉÉÉÉÉÉÉÉÉÉÉÉÉÉÉÉ$ÉÉÉÉ    PRIVATE   PUBLIC   query1   countUnreadConversations   markAllAsRead   getContacts   getProfile   blockUser   unblockUser)   createContactRequest   deleteContacts   getMessages   searchUsers   searchMessages%   sendMessagesToUser#   sendMessageToUser5   sendMessagesToConversation3   sendMessageToConversation   savePreferences   getPreferences   deleteMessages%   deleteConversation%   getContactRequests)   acceptContactRequest+   declineContactRequest   getConversation7   getConversationBetweenUsers!   getConversations-   getConversationMembers3   setFavouriteConversations7   unsetFavouriteConversations   getMemberInfoC   markAllConversationMessagesAsRead3   getUserMessagePreferences5   getTotalConversationCounts7   getUnreadConversationCounts1   getAllConversationCountsŒ!«!ÿÿÿÿ'      a   b   c   B   F   C   D   w   o   y   i   s   m   g   q   k   e   l   K   I   M   G   A   E   H   L   x   v   p   z   t   n   h   r   u   f   j   d   J   !   «+’HŽ!«!       Ž!«!   PRIVATE‹!«!Ž!«!   PUBLIC‹!«!    !«!          eB üG {I ôG {I x   Š          Ê5ž!«!          fB †I  J ~I  J x            Ê5ž!«!          gB J €J J €J x   ™         Ê5ž!«!          hB ‹J BK ƒJ BK x            Ê5ž!«!          iB MK ÑK EK ÑK x   Û         Ê5ž!«!          jB ÜK M ÔK M x   j           B ãL M ÛL M x   q         Ê5žÊ5ž!«!          kB M 9N M 9N x   œ           B N 7N N 7N x   §         Ê5žÊ5ž!«!          lB DN »N <N »N x   Ò         Ê5ž!«!          mB ÆN ÛO ¾N ÛO x   T           B ÊO ÙO ÂO ÙO x   X         Ê5žÊ5ž!«!          nB æO ìP ÞO ìP x   t         Ê5ž!«!          oB ÷P ¼Q ïP ¼Q x   …	         Ê5ž!«!          pB ÇQ œR ¿Q œR x   U
         Ê5ž!«!          qB §R tT ŸR tT x   5             a   B ÁR ßR ¹R ßR x   O         Ê5ž   B JS ÓS BS ÓS x   Ø           B eS ›S ]S ›S x   ó         Ê5žÊ5ž   B âS rT ÚS rT x   p           B ûS pT óS pT x   ‰         Ê5žÊ5žÊ5ž!«!          rB T ´T wT ´T x              B ¢T ²T šT ²T x   0         Ê5žÊ5ž!«!          sB ¿T cU ·T cU x   M           B ÙT ìT ÑT ìT x   g         Ê5žÊ5ž!«!          tB nU £U fU £U x   ü           B ‘U ¡U ‰U ¡U x            Ê5žÊ5ž!«!          uB ®U V ¦U V x   <         Ê5ž!«!          vB *V ˆV "V ˆV x   ¸         Ê5ž!«!          wB “V W ‹V W x   !             c   B ÇV W ¿V W x   U         Ê5žÊ5ž!«!          xB 'W ¤W W ¤W x   µ         Ê5ž!«!          yB ¯W X §W X x   =         Ê5ž!«!          zB X QY X QY x   ©           B 1Y OY )Y OY x   ¿         Ê5žÊ5ž!«!          AB \Y ’Z TY ’Z x   ê           B rZ Z jZ Z x             Ê5žÊ5ž!«!          BB	 Z ¦\ •Z ¦\ x   +         Ê5ž!«!          CB	 ±\ Å^ ©\ Å^ x   ?         Ê5ž!«!          DB Ð^ à` È^ à` x   ^           B å_ Þ` Ý_ Þ` x   s           B 5` Ù` -` Ù` x   Ã          Ê5žÊ5žÊ5ž!«!          EB ë` b ã` b x   y         Ê5ž!«!          FB b •b b •b x   ©         Ê5ž!«!          GB  b c ˜b c x   .         Ê5ž!«!          HB 'c d c d x   µ         Ê5ž!«!          IB d ™d d ™d x   ¡         Ê5ž!«!          JB ¤d e œd e x   2         Ê5ž!«!          KB e |e e |e x   ¦         Ê5ž!«!          LB ‡e òe e òe x            Ê5ž!«!          MB ýe êf õe êf x   ‹           B Éf èf Áf èf x   W         Ê5žÊ5žŽ!«!    #   Ž!«!   query‹!«!Ž!«!1   countUnreadConversations‹!«!Ž!«!   markAllAsRead‹!«!Ž!«!   getContacts‹!«!Ž!«!   getProfile‹!«!Ž!«!   blockUser‹!«!Ž!«!   unblockUser‹!«!Ž!«!)   createContactRequest‹!«!Ž!«!   deleteContacts‹!«!Ž!«!   getMessages‹!«!Ž!«!   searchUsers‹!«!Ž!«!   searchMessages‹!«!Ž!«!%   sendMessagesToUser‹!«!Ž!«!#   sendMessageToUser‹!«!Ž!«!5   sendMessagesToConversation‹!«!Ž!«!3   sendMessageToConversation‹!«!Ž!«!   savePreferences‹!«!Ž!«!   getPreferences‹!«!Ž!«!   deleteMessages‹!«!Ž!«!%   deleteConversation‹!«!Ž!«!%   getContactRequests‹!«!Ž!«!)   acceptContactRequest‹!«!Ž!«!+   declineContactRequest‹!«!Ž!«!   getConversation‹!«!Ž!«!7   getConversationBetweenUsers‹!«!Ž!«!!   getConversations‹!«!Ž!«!-   getConversationMembers‹!«!Ž!«!3   setFavouriteConversations‹!«!Ž!«!7   unsetFavouriteConversations‹!«!Ž!«!   getMemberInfo‹!«!Ž!«!C   markAllConversationMessagesAsRead‹!«!Ž!«!3   getUserMessagePreferences‹!«!Ž!«!5   getTotalConversationCounts‹!«!Ž!«!7   getUnreadConversationCounts‹!«!Ž!«!1   getAllConversationCounts‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_events    !«!       C  u         v                                  Gj Ôq ?j Ôq y                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ 	  Q‚   W   Q‚   ‰ 
  Q‚   ‰   Q‚	   ‰   Q‚
   W  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W  Q[   V  ]
   ˆ 	  ]   V   ]   ˆ   ]   ˆ   ]   V  ]   ˆ   ]   ˆ   ]   ™s•Ê&Ê@Ê6Ê8Ð5Ë)Ë)Ë5Ë-Ë2Ê%ËFËCË=Ê:Ë;Ë8Ë*Ë'Ë7Ë-Ë"Ë€ Ë€  …Ë€  µÊZ•ÉÊÉ
ÊÊÉÊÊ =   [data-region="lazy-load-list"]	   ROOTM   [data-region="loading-icon-container"]-   LOADING_ICON_CONTAINERC   [data-region="content-container"]#   CONTENT_CONTAINERO   [data-region="empty-message-container"]   EMPTY_MESSAGEK   [data-region="placeholder-container"]   PLACEHOLDER	   show'   getContentContainer   getRoot   setLoadedAll!   showEmptyMessage!   hideEmptyMessage   showContent   hideContentŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u   v   w   x      «+’HŽ!«!       Ž!«!	   ROOT‹!«!Ž!«!-   LOADING_ICON_CONTAINER‹!«!Ž!«!#   CONTENT_CONTAINER‹!«!Ž!«!   EMPTY_MESSAGE‹!«!Ž!«!   PLACEHOLDER‹!«!    !«!          dB gk …k _k …k y   ‰         Ê5ž!«!          eB k ®k ˆk ®k y   ²         Ê5ž!«!          fB ¹k ãk ±k ãk y   Û         Ê5ž!«!          gB îk l æk l y            Ê5ž!«!          hB l Bl l Bl y   =         Ê5ž!«!          iB Ml gl El gl y   o         Ê5ž!«!          jB rl ­l jl ­l y   ”         Ê5ž!«!          kB ¸l ðl °l ðl y   Ú         Ê5ž!«!          lB ûl -m ól -m y            Ê5ž!«!          mB 8m gm 0m gm y   Z         Ê5ž!«!          nB rm ¢m jm ¢m y   ”         Ê5ž!«!          oB ­m Úm ¥m Úm y   Ï         Ê5ž!«!          pB åm n Ým n y            Ê5ž!«!          qB n +n n +n y   1         Ê5ž!«!          rB 6n bn .n bn y   X         Ê5ž!«!          sB mn n en n y            Ê5ž!«!          tB šn ±n ’n ±n y   ¼         Ê5ž!«!          uB ¼n ¿o ´n ¿o y   Þ  @          a    c    f   B ïn Ao çn Ao y     0          b   B  *o 6o "o 6o y   L         Ê5žÊ5ž   B Po ‹o Ho ‹o y   r         Ê5ž   B  žo ½o –o ½o y   À         Ê5žÊ5ž!«!          vB Êo Dp Âo Dp y   ì             a   B p "p þo "p y   (         Ê5ž   B  5p Bp -p Bp y   W         Ê5žÊ5ž!«!          wB Op ùp Gp ùp y   q  @          a    c    d   B  žp ÷p –p ÷p y   À           B  Ãp Òp »p Òp y   å         Ê5ž   B  åp ôp Ýp ôp y            Ê5žÊ5žÊ5ž!«!          xB q Sq üp Sq y   &         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!'   getContentContainer‹!«!Ž!«!   getRoot‹!«!Ž!«!   setLoadedAll‹!«!Ž!«!!   showEmptyMessage‹!«!Ž!«!!   hideEmptyMessage‹!«!Ž!«!   showContent‹!«!Ž!«!   hideContent‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/pubsubŽ!«!   core/strŽ!«!E   core_message/message_drawer_eventsŽ!«!u   core_message/message_drawer_view_contacts_section_contactsŽ!«!u   core_message/message_drawer_view_contacts_section_requests    !«!       C  ¡          =       	                            Ör ”w Îr ”w z                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   ‰   Q‚   ‰ 	  Q‚   ‰ 
  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q‚   W  Q[   V   ]
   V  ]   ™€ •ÊEÊEÊ>Ê7Ð8Ë;Ë;Ë+Ë€  •Ë€ !Ê€  °ÊN•ÉÉ K   [data-action="show-contacts-section"]9   ACTION_SHOW_CONTACTS_SECTIONK   [data-action="show-requests-section"]9   ACTION_SHOW_REQUESTS_SECTIONK   [data-region="contact-request-count"]+   CONTACT_REQUEST_COUNT3   [data-section="contacts"]5   CONTACTS_SECTION_CONTAINER3   [data-section="requests"]5   REQUESTS_SECTION_CONTAINER	   show   descriptionŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n      «+’HŽ!«!       Ž!«!9   ACTION_SHOW_CONTACTS_SECTION‹!«!Ž!«!9   ACTION_SHOW_REQUESTS_SECTION‹!«!Ž!«!+   CONTACT_REQUEST_COUNT‹!«!Ž!«!5   CONTACTS_SECTION_CONTAINER‹!«!Ž!«!5   REQUESTS_SECTION_CONTAINER‹!«!    !«!          hB ,t \t $t \t z   U         Ê5ž!«!          iB gt —t _t —t z            Ê5ž!«!          jB ¢t Ât št Ât z   Ë         Ê5ž!«!          kB Ít Wu Åt Wu z   ö             a   B  àt Vu Øt Vu z   	         Ê5žÊ5ž!«!          lB bu xv Zu xv z   ‹  0          c    j   B  åu òu Ýu òu z            Ê5ž   B  v v v v z   8         Ê5žÊ5ž!«!          mB ƒv (w {v (w z   ¬         Ê5ž!«!          nB  3w vw +w vw z   \         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   description‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/strŽ!«!=   core/custom_interaction_eventsŽ!«!A   core_message/message_area_events    !«!       B Ux Z— Mx Z— {   ¾             a    b    c    d    e    f    g    i      h ox “x ex “x {   Ø          Ê5ž   B  y| Zƒ q| Zƒ {   â           B  } <~ } <~ {   ‰         Ê5ž   B  ™~ l ‘~ l {            Ê5ž   B  ¸ ,€ ° ,€ {   !         Ê5ž   B  s€ ë€ k€ ë€ {   Ü         Ê5ž   B  - ¡ % ¡ {   –	         Ê5ž   B  N‚ ä‚ F‚ ä‚ {   ·
         Ê5žÊ5ž   B  ~ƒ ð‡ vƒ ð‡ {   ç           B  P† Ÿ† H† Ÿ† {   ¹         Ê5ž   B  
‡ [‡ ‡ [‡ {   s         Ê5ž   B  ”‡ Ý‡ Œ‡ Ý‡ {   ý         Ê5žÊ5ž   B  ˆ Õ‹ ˆ Õ‹ {   ~  2          e    f   B €‰ Š x‰ Š {   é         Ê5ž   B Š zŠ Š zŠ {   …         Ê5ž   B ‰Š ¶‹ Š ¶‹ {   ò         Ê5žÊ5ž   B  ÷‹ ÚŽ ï‹ ÚŽ {   `  "          e   B   ƒ øŒ ƒ {   i         Ê5ž   B  `Ž • `Ž {            Ê5ž   B oŽ »Ž gŽ »Ž {   Ø         Ê5žÊ5ž   B   ì’ üŽ ì’ {   m  2          e    f   B ˆ 
‘ € 
‘ {   ñ         Ê5ž   B $‘ —‘ ‘ —‘ {            Ê5ž   B ¦‘ Í’ ž‘ Í’ {            Ê5žÊ5ž   B “ Ÿ“ “ Ÿ“ {   ~           B G“ ’“ ?“ ’“ {   °         Ê5žÊ5ž   B ¿“ .• ·“ .• {   (           B È” • À” • {   1         Ê5žÊ5ž   B  Q• 8– I• 8– {   º         Ê5ž   B  ^– ”– V– ”– {   Ç         Ê5ž   B  ¼– W— ´– W— {   %         Ê5žÊ5ž!«!       B  “— š ‹— š |   6          Ê5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!   core/pubsubŽ!«!Q   core_message/message_drawer_view_contactŽ!«!S   core_message/message_drawer_view_contactsŽ!«![   core_message/message_drawer_view_conversationŽ!«!W   core_message/message_drawer_view_group_infoŽ!«!S   core_message/message_drawer_view_overviewŽ!«!O   core_message/message_drawer_view_searchŽ!«!S   core_message/message_drawer_view_settingsŽ!«!E   core_message/message_drawer_routerŽ!«!E   core_message/message_drawer_routesŽ!«!E   core_message/message_drawer_events    !«!       C  ¸         ³       	                  *         œ L§ œ L§ }                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   ‰   Q‚   ‰ 	  QZ   Z   ˆ   5   `    ˆ   5   `   T 5   `   T 5   `   `    Z   ˆ   5   `    ˆ   5   `   T 5   `   T 5   `   `   Z   ˆ   5   `    ˆ   5   `   T 5   `   T 5   `   `   Z   ˆ   5   `    ˆ   5   `   T 5   `   T 5   `   `   Z   ˆ   5	   `    ˆ   5	   `   T 5   `   T 5   `   `   Z   ˆ   5   `    ˆ   5   `   T 5   `   T 5   `   `   Z   ˆ   5   `    ˆ   5   `   T	 5   `   T	 5   `   `   ‰ 
  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   W   Q[   V   ]   ™€ .•Ê,Ê.Ê6Ê2Ê.Ê*Ê.ÊÊ Ê4Ê0Ð5Ë€  Ï••ÏÏÍÒ•ÏÏÍÒ•ÏÏÍÒ•ÏÏÍÒ•ÏÏÍÒ•ÏÏÍÒ•ÏÏÍØËGË€  ¡ËXË+Ë€ Ê •É 9   [data-region="view-contact"]   VIEW_CONTACT;   [data-region="view-contacts"]   VIEW_CONTACTSC   [data-region="view-conversation"]#   VIEW_CONVERSATION?   [data-region="view-group-info"]   VIEW_GROUP_INFO;   [data-region="view-overview"]   VIEW_OVERVIEW7   [data-region="view-search"]   VIEW_SEARCH;   [data-region="view-settings"]   VIEW_SETTINGS   [data-route]   ROUTES#   [data-route-back]   ROUTES_BACKA   [data-region="header-container"]!   HEADER_CONTAINER=   [data-region="body-container"]   BODY_CONTAINERA   [data-region="footer-container"]!   FOOTER_CONTAINER	   show   description	   initŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u   v      «+’HŽ!«!       Ž!«!   VIEW_CONTACT‹!«!Ž!«!   VIEW_CONTACTS‹!«!Ž!«!#   VIEW_CONVERSATION‹!«!Ž!«!   VIEW_GROUP_INFO‹!«!Ž!«!   VIEW_OVERVIEW‹!«!Ž!«!   VIEW_SEARCH‹!«!Ž!«!   VIEW_SETTINGS‹!«!Ž!«!   ROUTES‹!«!Ž!«!   ROUTES_BACK‹!«!Ž!«!!   HEADER_CONTAINER‹!«!Ž!«!   BODY_CONTAINER‹!«!Ž!«!!   FOOTER_CONTAINER‹!«!    !«!          oC Ê          1                               €   \ž  Ÿ Tž  Ÿ }                 T  ¸    
:  W   QV   ¸   
ˆ   5   : ¸   
T : W  QV   ¸   
ˆ   5   : ¸   
T : W  QV   ¸   
ˆ   5   : ¸   
T : W  QZ   V  `    V  `   V  `   ¸   
‚    : W  QV  ™€ \ÊÈÕÕ%ÕÕ#ÕÕ%•ÉÉÕÿÿÿûÈ-”    children   filter!   HEADER_CONTAINER	   find   BODY_CONTAINER!   FOOTER_CONTAINERŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g       «+’H!«!       	   o/g<c  
          	                                €  Ÿ Ÿ ùž Ÿ }   ÷             T  Ù    ™€ ûÈ    lengthŒ!«!ÿÿÿÿ      a        «+’Hš˜;ø       Ê5žš˜;øÊ5ž!«!          qC           	                                  ¶  ò  ®  ò  }                  ˆ
  ¸    
‚    ç Q™€ °Õ7    forEachŒ!«!ÿÿÿÿ      a       «+’H!«!          q/<c  5                                    
      €  Ì  ð  Ä  ð  }   Â             ˆ  ¸    
T  >7ˆ	  ˆ   T  ?7: T  ×7T  ×7ç Q™€ ÆáÏÿÿÿõ”    addŒ!«!ÿÿÿÿ      b        «+’Hš˜;ø       Ê5žš˜;øÊ5ž!«!          rB ý  “¡ õ  “¡ }   ó         Ê5ž!«!          sB ž¡ ë¡ –¡ ë¡ }   ”         Ê5ž!«!          tB ö¡ ¢ î¡ ¢ }   ì         Ê5ž!«!          uC o         5       
                  :         !¢ § ¢ § }                  ˆ  ¸    
ˆ   Z   ˆ  5   5   `    ç Q     ‰   Qˆ   ¸   
ˆ  5   5   ˆ  5   ‚   ç Qˆ   ¸   
ˆ  5   5   ˆ  5   ‚   ç Qˆ  ¸   
ˆ  5   ‚   ç Qˆ  ¸   
ˆ  5   ‚   ç Qˆ  ¸   
ˆ  5	   ‚   ç Qˆ  ¸   
ˆ  5
   ‚   ç Qˆ  ¸   
ˆ  5   ‚   ç Qˆ  ¸   
ˆ  5   ‚   ç Qˆ  ¸   
ˆ  5   ‚	   ç Q™€ ÖÔÿÿÿô”$Ëî€ çî_ß%ß%ß<ßOßißDß€  ì    define   events   activate   on   ROUTES   ROUTES_BACK   subscribe	   SHOW	   HIDE#   TOGGLE_VISIBILITY#   SHOW_CONVERSATION;   CREATE_CONVERSATION_WITH_USER   SHOW_SETTINGS'   PREFERENCES_UPDATEDŒ!«!ÿÿÿÿ      d   e       «+’HŒ!«!3   ^data-route-param-?(\d*)$    !«!          u/<b ¢ L¤ ‡¢ L¤ }   …           B ,£ V£ $£ V£ }   "	         Ê5ž   B g£ Ù£ _£ Ù£ }   ]	         Ê5ž   B ï£ ¤ ç£ ¤ }   å	         Ê5žÊ5ž!«!          u/<b {¤ «¤ s¤ «¤ }   q
         Ê5ž!«!          u/<b  È¤ Ð¤ À¤ Ð¤ }   ¾
         Ê5ž!«!          u/<b  í¤ õ¤ å¤ õ¤ }   ã
         Ê5ž!«!          u/<b  ¥ 1¥ ¥ 1¥ }            Ê5ž!«!          u/<b [¥ €¥ S¥ €¥ }   Q         Ê5ž!«!          u/<b ¶¥ é¥ ®¥ é¥ }   ¬         Ê5ž!«!          u/<b  ¦ -¦ ¦ -¦ }            Ê5ž!«!          u/<b Y¦ § Q¦ § }   O            B t¦ œ¦ l¦ œ¦ }   j         Ê5žÊ5žš˜;øÊ5ž!«!          vC +                                           €  '§ <§ § <§ }                ˆ   T  : U  Qˆ   T  ç Qˆ   T  ç Q™€ !É—ÍÍ Œ!«!ÿÿÿÿ      b        «+’Hš˜;ø       Ê5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_events    !«!       B á§ ‚¬ Ù§ ‚¬ ~   ’   à   	       a    b    c    d    e    f    g    h    i    j    k    l    m   B û§ $¨ ó§ $¨ ~   ¬          Ê5ž   B /¨ Q¨ '¨ Q¨ ~   à          Ê5ž   B \¨ ~¨ T¨ ~¨ ~            Ê5ž   B ‰¨ ª¨ ¨ ª¨ ~   :         Ê5ž   B µ¨ ê¨ ­¨ ê¨ ~   f         Ê5ž   B õ¨ ±© í¨ ±© ~   ¦             c   B  y© ®© q© ®© ~   *         Ê5žÊ5ž   B ¼© ª ´© ª ~   m  0          a   B  &ª ª ª ª ~   ×           B hª ‹ª `ª ‹ª ~            Ê5žÊ5žÊ5ž   B ›ª l« “ª l« ~   L  0          a   B  « i« ýª i« ~   ¶           B D« g« <« g« ~   õ         Ê5žÊ5žÊ5ž   B w« o¬ o« o¬ ~   (             b   B Ï« ã« Ç« ã« ~   €         Ê5ž   B $¬ m¬ ¬ m¬ ~   Õ         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/strŽ!«!A   core_message/message_area_events    !«!       B E­  Û =­  Û    À              a    b    c    d    e    f    g    i      h _­ ƒ­ U­ ƒ­    Ú          Ê5ž   B  ¼² µ½ ´² µ½    7           B ñµ ¶ éµ ¶    l	         Ê5ž   B \¶ v¶ T¶ v¶    ×	         Ê5ž   B »¶ ×¶ ³¶ ×¶    6
         Ê5ž   B · <· · <·    ™
         Ê5žÊ5ž   B  Ù½ ¾ Ñ½ ¾    T         Ê5ž   B  9¾ y¾ 1¾ y¾    ´         Ê5ž   B  ¡¾ :¿ ™¾ :¿             Ê5ž   B  ]¿ ì¿ U¿ ì¿    Ø         Ê5ž   B À 8Â À 8Â      "       Ê5ž   B  `Â mÆ XÂ mÆ    Û  "          a   B äÂ mÄ ÜÂ mÄ    _         Ê5ž   B ‡Ä ëÄ Ä ëÄ             Ê5ž   B úÄ NÆ òÄ NÆ    u         Ê5žÊ5ž   B  Æ 8Ê ˆÆ 8Ê      "          a   B 
Ç uÈ Ç uÈ    …         Ê5ž   B È óÈ ‡È óÈ    
         Ê5ž   B É Ê úÈ Ê    }         Ê5žÊ5ž   B _Ê ÊË WÊ ÊË    Ú         Ê5ž   B ìË 
Í äË 
Í    g         Ê5ž   B )Í ¥Í !Í ¥Í    ¤          Ê5ž   B ÎÍ LÎ ÆÍ LÎ    I!         Ê5ž   B tÎ *Ï lÎ *Ï    ï!  "       Ê5ž   B  KÏ ªÏ CÏ ªÏ    Æ"         Ê5ž   B ÎÏ Ð ÆÏ Ð    I#         Ê5ž   B 4Ð IÑ ,Ð IÑ    ¯#         Ê5ž   B nÑ zÒ fÑ zÒ    é$         Ê5ž   B œÒ èÒ ”Ò èÒ    &         Ê5ž   B Ó ÷Ó Ó ÷Ó    ‰&         Ê5ž   B Ô Ô Ô Ô    —'         Ê5ž   B ·Ô ÈÕ ¯Ô ÈÕ    2(  2          a    b   B Õ 6Õ þÔ 6Õ    (         Ê5ž   B  GÕ vÕ ?Õ vÕ    Â(         Ê5žÊ5ž   B ðÕ sÖ èÕ sÖ    k)         Ê5ž   B ŸÖ "× —Ö "×    *         Ê5ž   B I× Ç× A× Ç×    Ä*         Ê5ž   B ò× pØ ê× pØ    m+         Ê5ž   B Ø )Ù •Ø )Ù    ,         Ê5ž   B ZÙ æÙ RÙ æÙ    Õ,         Ê5ž   B  	Ú 6Ú Ú 6Ú    „-         Ê5ž   B  [Ú ‹Ú SÚ ‹Ú    Ö-         Ê5ž   B  ³Ú Û «Ú Û    ..         Ê5ž   B  <Û Û 4Û Û    ·.         Ê5žÊ5žŽ!«!   	   Ž!«!   jqueryŽ!«!   core/key_codesŽ!«!   core/pubsubŽ!«!   core/strŽ!«!E   core_message/message_drawer_routerŽ!«!E   core_message/message_drawer_routesŽ!«!E   core_message/message_drawer_eventsŽ!«!c   core_message/message_drawer_view_overview_sectionŽ!«!?   core_message/message_repository    !«!       C 	 æ          T                             	      ÙÜ Mä ÑÜ Mä €                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   ‰ 
  Q[   ?]   ×]   @]   ‰   Q@‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚	   W   Q‚
   W  Q[   V   ]   V  ]   ™€ N•Ê>Ê6Ê>Ê2Ê:Ð'•–
—	Ì—ËDË@Ë€  ÿË-Ë-Ë€  •Ë€ Ê€ ñÊN•ÉÉ K   [data-region="contact-request-count"]+   CONTACT_REQUEST_COUNTQ   [data-region="view-overview-favourites"]   FAVOURITESY   [data-region="view-overview-group-messages"]   GROUP_MESSAGESM   [data-region="view-overview-messages"]   MESSAGESU   [data-region="view-overview-search-input"]   SEARCH_INPUT   [data-toggle]+   SECTION_TOGGLE_BUTTON   PRIVATE   PUBLIC   FAVOURITE	   show   descriptionŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r   s   t   u 	 	    «+’HŽ!«!       Ž!«!+   CONTACT_REQUEST_COUNT‹!«!Ž!«!   FAVOURITES‹!«!Ž!«!   GROUP_MESSAGES‹!«!Ž!«!   MESSAGES‹!«!Ž!«!   SEARCH_INPUT‹!«!Ž!«!+   SECTION_TOGGLE_BUTTON‹!«!    Ž!«!       Ž!«!   PRIVATE‹!«!Ž!«!   PUBLIC‹!«!Ž!«!   FAVOURITE‹!«!    !«!          mB pÞ ©Þ hÞ ©Þ €   Í         Ê5ž!«!          nB ´Þ éÞ ¬Þ éÞ €            Ê5ž!«!          oB ôÞ èß ìÞ èß €   Q            B ß 2ß ß 2ß €   j         Ê5ž   B Jß «ß Bß «ß €   §         Ê5žÊ5ž!«!          pB óß à ëß à €   P         Ê5ž!«!          qB  à Bà à Bà €   }         Ê5ž!«!          rB Mà ×à Eà ×à €   ª             a   B  `à Öà Xà Öà €   ½         Ê5žÊ5ž!«!          sB âà ðá Úà ðá €   ?             h   B  %á <á á <á €   ‚         Ê5ž   B Uá ”á Má ”á €   ²         Ê5žÊ5ž!«!          tB ûá áã óá áã €   X  0          d    e   B ßâ eã ×â eã €   <             c   B ã %ã ã %ã €   j         Ê5ž   B 8ã Qã 0ã Qã €   •         Ê5žÊ5ž   B vã ßã nã ßã €   Ó             a   B Žã Ñã †ã Ñã €   ë         Ê5žÊ5žÊ5ž!«!          uB  ìã /ä äã /ä €   I         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   description‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/auto_rowsŽ!«!C   core_message/message_area_actionsŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/strŽ!«!A   core_message/message_area_eventsŽ!«!%   core/backoff_timer    !«!       B ƒå ª {å ª    3           a    b    c    d    e    f    g    h    i    j    k    l    n    o    p    q      m §å Ëå å Ëå    W         Ê5ž   B  "ê -ò ê -ò    Ò         Ê5ž   B Pò ö Hò ö       B          f    g    h   B gó ºó _ó ºó             Ê5ž   B  Ôó °ô Ìó °ô    „         Ê5ž   B Êô õ Âô õ    z         Ê5ž   B .õ ãõ &õ ãõ    Þ         Ê5žÊ5ž   B  %ö Áù ö Áù    Õ  "          b   B Ÿö 9÷ —ö 9÷    O         Ê5ž   B S÷ £÷ K÷ £÷             Ê5ž   B ²÷ ¢ù ª÷ ¢ù    b  "       Ê5žÊ5ž   B  çù ”û ßù ”û    —  2          a   B û ;û û ;û    »         Ê5ž   B  Wû uû Oû uû             Ê5žÊ5ž   B ¶û ûý ®û ûý    f           B 
ý §ý ý §ý    º  "       Ê5ž   B Áý îý ¹ý îý    q         Ê5žÊ5ž   B  þ °  þ °     Í  2          a    c   B Wÿ &  Oÿ &              Ê5ž   B  @  ]  8  ]     ð         Ê5ž   B  y  œ  q  œ     )         Ê5žÊ5ž   B  Ý  p Õ  p             Ê5ž   B  • º  º    E  B          c    f    g   B  ¹  ¹    Æ         Ê5ž   B  å @ Ý @    •           B B S : S    ò         Ê5ž   B ¯ ^ § ^    _         Ê5žÊ5žÊ5ž   B ç ¯ ß ¯    —!         Ê5ž   B  × è	 Ï è	    ‡"           B î Å	 æ Å	    ž#           B  g ¯	 _ ¯	    $  "          a   B  	 Œ	 	 Œ	    À$         Ê5žÊ5žÊ5žÊ5ž   B  
 ž
 
 ž
    ¿%         Ê5ž   B  Ò
  Ê
     ‚&         Ê5ž   B - ž % ž    Ý&  B          d    e    f   B y  q     )'         Ê5ž   B y ‘ q ‘    )(  "       Ê5žÊ5ž   B  È > À >    x)           B ” ¾ Œ ¾    D*         Ê5ž   B  Ú  Ò     Š*         Ê5žÊ5ž   B  ^ ™ V ™    +         Ê5ž   B  ¼  ´     l+         Ê5ž   B @ è 8 è    ð+         Ê5ž   B  ¸  ¸    À,         Ê5ž   B Û  Ó     ‹-         Ê5ž   B A … 9 …    ñ-         Ê5ž   B © ù ¡ ù    Y.         Ê5ž   B   ]  ]    É.         Ê5ž   B   y     1/  "       Ê5ž   B  M Ò E Ò    ý/         Ê5ž   B û 6 ó 6    «0         Ê5ž   B  ^ ¿ V ¿    1         Ê5ž   B ê § â §    š1         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!#   core/notificationŽ!«!   core/pubsubŽ!«!   core/strŽ!«!   core/templatesŽ!«!?   core_message/message_repositoryŽ!«!E   core_message/message_drawer_events    !«!       C  ³      /   D      =                            ˜ œ6  œ6 ‚                 ×2‰   Q×2‰ :  Q×‰   Q[    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =    ]!   ="   ]#   =$   ]%   =&   ]'   =(   ])   ‰    Q[   =*   ]   =+   ]   =,   ]   ‰   Q‚   ‰ 6  Q‚   ‰   Q‚   ‰ 3  Q‚   ‰   Q‚   ‰ 7  Q‚   ‰   Q‚   ‰ 5  Q‚	   ‰ 8  Q‚
   ‰ 1  Q‚   ‰   Q‚   ‰ 0  Q‚   ‰   Q‚   ‰ 4  Q‚   ‰ ,  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ -  Q‚   ‰   Q‚   ‰ +  Q‚   ‰ .  Q‚   ‰ (  Q‚   ‰ C  Q‚   ‰ %  Q‚   ‰ /  Q‚   ‰ *  Q‚   ‰ F  Q‚   ‰ &  Q‚   ‰ B  Q‚   ‰ 
  Q‚    ‰ ?  Q‚!   ‰ )  Q‚"   ‰ D  Q‚#   ‰   Q‚$   ‰ @  Q‚%   ‰ !  Q‚&   ‰ <  Q‚'   ‰   Q‚(   ‰ #  Q‚)   ‰ ;  Q‚*   ‰   Q‚+   ‰   Q‚,   ‰   Q‚-   ‰   Q‚.   ‰ 2  Q‚/   ‰ >  Q‚0   ‰ 9  Q‚1   ‰   Q‚2   ‰   Q‚3   ‰ "  Q‚4   ‰ $  Q‚5   ‰ E  Q‚6   ‰ =  Q‚7   ‰   Q‚8   ‰ A  Q‚9   ‰ '  Q‚:   W   Q‚;   W  Q[<   V   ]-   V  ].   ™€ ÈÈÈ•Ê<Ê5Ê8ÊHÊBÊÊ@Ê:ÊHÊ8Ê@ÊPÊ>Ê'Ê,ÊDÊ2Ê8Ê*Ê=ÐA•Ê:ÊBÐ;Ë-Ë8Ë7Ë4Ë6Ë-Ë9Ë3Ë7Ë3Ë*Ë'Ë*Ë'Ë*Ë'Ë*Ë'Ë*Ë'Ë€  ´Ë€  ·ËQËNËMËJËQËNËMËJË(Ë(ËË€  —Ë/Ë/Ë€  ¥Ë€  ¥Ë?Ë<Ë€  ¨Ë€  ©ËCË@ËBË€  ¹Ë€  ²Ë_Ë\Ë€  „Ë€  ‹Ë€  „Ë€ õË€ <Ë€  ØË€ àÊ€  …Êl•ÉÉ I   [data-region="block-icon-container"])   BLOCK_ICON_CONTAINER;   [data-action="cancel-search"])   CANCEL_SEARCH_BUTTONE   [data-region="contacts-container"]%   CONTACTS_CONTAINERo   [data-region="contacts-container"] [data-region="list"]   CONTACTS_LISTO   [data-region="empty-message-container"]/   EMPTY_MESSAGE_CONTAINER)   [data-region="list"]	   LISTM   [data-region="loading-icon-container"]-   LOADING_ICON_CONTAINERG   [data-region="loading-placeholder"]'   LOADING_PLACEHOLDERo   [data-region="messages-container"] [data-region="list"]   MESSAGES_LISTE   [data-region="messages-container"]%   MESSAGES_CONTAINERM   [data-region="non-contacts-container"]-   NON_CONTACTS_CONTAINERw   [data-region="non-contacts-container"] [data-region="list"]#   NON_CONTACTS_LISTK   [data-region="search-icon-container"]+   SEARCH_ICON_CONTAINER-   [data-action="search"]   SEARCH_ACTION9   [data-region="search-input"]   SEARCH_INPUTQ   [data-region="search-results-container"]1   SEARCH_RESULTS_CONTAINER?   [data-action="load-more-users"]   LOAD_MORE_USERSE   [data-action="load-more-messages"]%   LOAD_MORE_MESSAGES7   [data-region="button-text"]   BUTTON_TEXTI   [data-region="no-results-container"]+   NO_RESULTS_CONTAINTERM   [data-region="all-contacts-container"]-   ALL_CONTACTS_CONTAINERS   core_message/message_drawer_contacts_list[   core_message/message_drawer_non_contacts_listS   core_message/message_drawer_messages_list	   show   descriptionŒ!«!ÿÿÿÿG      a   b   c   d   e   f   g   h   Q   B   ma   U   F   C   D   w   o   y   i   s   m   ha   aa   q   ba   k   ca   _   ga   Y   l   W   ia   Z   ja   K   O   oa   I   S   pa   M   G   A   E   H   L   x   qa   v   da   p   z   t   n   r   u   fa   j   $   X   la   ea   R   V   na   P   J   T   ka   N      «+’HŽ!«!       Ž!«!)   BLOCK_ICON_CONTAINER‹!«!Ž!«!)   CANCEL_SEARCH_BUTTON‹!«!Ž!«!%   CONTACTS_CONTAINER‹!«!Ž!«!   CONTACTS_LIST‹!«!Ž!«!/   EMPTY_MESSAGE_CONTAINER‹!«!Ž!«!	   LIST‹!«!Ž!«!-   LOADING_ICON_CONTAINER‹!«!Ž!«!'   LOADING_PLACEHOLDER‹!«!Ž!«!   MESSAGES_LIST‹!«!Ž!«!%   MESSAGES_CONTAINER‹!«!Ž!«!-   NON_CONTACTS_CONTAINER‹!«!Ž!«!#   NON_CONTACTS_LIST‹!«!Ž!«!+   SEARCH_ICON_CONTAINER‹!«!Ž!«!   SEARCH_ACTION‹!«!Ž!«!   SEARCH_INPUT‹!«!Ž!«!1   SEARCH_RESULTS_CONTAINER‹!«!Ž!«!   LOAD_MORE_USERS‹!«!Ž!«!%   LOAD_MORE_MESSAGES‹!«!Ž!«!   BUTTON_TEXT‹!«!Ž!«!+   NO_RESULTS_CONTAINTER‹!«!Ž!«!-   ALL_CONTACTS_CONTAINER‹!«!    Ž!«!       Ž!«!   CONTACTS_LIST‹!«!Ž!«!#   NON_CONTACTS_LIST‹!«!Ž!«!   MESSAGES_LIST‹!«!    !«!          nB C e ; e ‚   –         Ê5ž!«!          oB p  h  ‚   Ã         Ê5ž!«!          pB ¨ Ô   Ô ‚   û         Ê5ž!«!          qB ß  ×  ‚   2         Ê5ž!«!          rB  >  > ‚   f         Ê5ž!«!          sB I k A k ‚   œ         Ê5ž!«!          tB v ¤ n ¤ ‚   É         Ê5ž!«!          uB ¯ × § × ‚            Ê5ž!«!          vB â  Ú  ‚   5         Ê5ž!«!          wB  A  A ‚   l         Ê5ž!«!          xB L k D k ‚   Ÿ         Ê5ž!«!          yB v ’ n ’ ‚   É         Ê5ž!«!          zB  ¼ • ¼ ‚   ð         Ê5ž!«!          AB Ç ã ¿ ã ‚   	         Ê5ž!«!          BB î   æ   ‚   A	         Ê5ž!«!          CB   4    4  ‚   k	         Ê5ž!«!          DB ?  ^  7  ^  ‚   ’	         Ê5ž!«!          EB i  …  a  …  ‚   ¼	         Ê5ž!«!          FB   ¯  ˆ  ¯  ‚   ã	         Ê5ž!«!          GB º  Ö  ²  Ö  ‚   
         Ê5ž!«!          HB á  Š! Ù  Š! ‚   4
         Ê5ž!«!          IB •! A" ! A" ‚   è
         Ê5ž!«!          JB L" ’" D" ’" ‚   Ÿ         Ê5ž!«!          KB " à" •" à" ‚   ð         Ê5ž!«!          LB ë" -# ã" -# ‚   >         Ê5ž!«!          MB 8# w# 0# w# ‚   ‹         Ê5ž!«!          NB ‚# È# z# È# ‚   Õ         Ê5ž!«!          OB Ó# $ Ë# $ ‚   &         Ê5ž!«!          PB !$ c$ $ c$ ‚   t         Ê5ž!«!          QB n$ ­$ f$ ­$ ‚   Á         Ê5ž!«!          RB ¸$ Õ$ °$ Õ$ ‚            Ê5ž!«!          SB à$ ý$ Ø$ ý$ ‚   3         Ê5ž!«!          TB % %  % % ‚   [         Ê5ž!«!          UB $% °% % °% ‚   w         Ê5ž!«!          VB »% ß% ³% ß% ‚            Ê5ž!«!          WB ê% & â% & ‚   =         Ê5ž!«!          XB & ³& & ³& ‚   l         Ê5ž!«!          YB ¾& X' ¶& X' ‚            Ê5ž!«!          ZB c' —' [' —' ‚   ¶         Ê5ž!«!          $B ¢' Ó' š' Ó' ‚   õ         Ê5ž!«!          _B Þ' {( Ö' {( ‚   1         Ê5ž!«!          aaB ‡( $) ( $) ‚   Ú         Ê5ž!«!          baB 0) g) () g) ‚   ƒ         Ê5ž!«!          caB s) §) k) §) ‚   Æ         Ê5ž!«!          daB ³) é) «) é) ‚            Ê5ž!«!          eaB õ) ¢* í) ¢* ‚   H          Ê5ž!«!          faB ®* T+ ¦* T+ ‚             Ê5ž!«!          gaB `+ ³+ X+ ³+ ‚   ³         Ê5ž!«!          haB ¿+ , ·+ , ‚            Ê5ž!«!          iaB , “, , “, ‚   n             d   B x, ‘, p, ‘, ‚   Ë         Ê5žÊ5ž!«!          jaB Ÿ, - —, - ‚   ò             d   B - - û, - ‚   V         Ê5žÊ5ž!«!          kaB *- ¢- "- ¢- ‚   }             d   B ‡-  - -  - ‚   Ú         Ê5žÊ5ž!«!          laB ®- —/ ¦- —/ ‚     @          b    e    h   B õ- . í- . ‚   H         Ê5ž   B œ. H/ ”. H/ ‚   ï  0          d    e   B  / F/ / F/ ‚   k         Ê5žÊ5ž   B W/ q/ O/ q/ ‚   ª         Ê5ž   B „/ •/ |/ •/ ‚   ×         Ê5žÊ5ž!«!          maB £/ Ó0 ›/ Ó0 ‚   ö  @          a    d    f   B í/ +0 å/ +0 ‚   @         Ê5ž   B :0 0 20 0 ‚                b   B  c0 v0 [0 v0 ‚   ¶         Ê5žÊ5ž   B 0 ¬0 ˆ0 ¬0 ‚   ã         Ê5ž   B ¿0 Ñ0 ·0 Ñ0 ‚            Ê5žÊ5ž!«!          naB ß0 «1 ×0 «1 ‚   2  0          b    c   B >1 ©1 61 ©1 ‚   ‘         Ê5žÊ5ž!«!          oaB ·1 ‹5 ¯1 ‹5 ‚   
  €          a    e    f    g    m    o    p   B æ1 ~2 Þ1 ~2 ‚   9           B  -2 D2 %2 D2 ‚   €         Ê5žÊ5ž   B Q3 »3 I3 »3 ‚   ¤           B  z3 ‚3 r3 ‚3 ‚   Í         Ê5žÊ5ž   B î3 X4 æ3 X4 ‚   A           B  4 4 4 4 ‚   j         Ê5žÊ5ž   B  4 ¹4 ˆ4 ¹4 ‚   ã         Ê5ž   B ß4 ë4 ×4 ë4 ‚   2         Ê5ž   B 5 5 5 5 ‚   f         Ê5ž   B G5 S5 ?5 S5 ‚   š         Ê5ž   B }5 ‰5 u5 ‰5 ‚   Ð         Ê5žÊ5ž!«!          paB —5 6 5 6 ‚   ê         Ê5ž!«!          qaB 6 |6 6 |6 ‚   o         Ê5žŽ!«!       Ž!«!	   show‹!«!Ž!«!   description‹!«!    š˜;øÊ5ž!«!       C   Ï       (   A                                 €  ×6 *; Ï6 *; ƒ   8              [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =   ]   =    ]!   ="   ]#   =$   ]%   =&   ]'   ™;•ÊMÊ1Ê5Ê-Ê1ÊCÊCÊ;ÊMÊ;Ê5ÊGÊKÊ9Ê,ÊÊÊ*Ê5Ê- Y   message-drawer-create-conversation-with-user;   CREATE_CONVERSATION_WITH_USER=   message-drawer-contact-blocked   CONTACT_BLOCKEDA   message-drawer-contact-unblocked#   CONTACT_UNBLOCKED9   message-drawer-contact-added   CONTACT_ADDED=   message-drawer-contact-removed   CONTACT_REMOVEDO   message-drawer-contact-request-accepted1   CONTACT_REQUEST_ACCEPTEDO   message-drawer-contact-request-declined1   CONTACT_REQUEST_DECLINEDG   message-drawer-conversation-created)   CONVERSATION_CREATEDY   message-drawer-conversation-new-last-message;   CONVERSATION_NEW_LAST_MESSAGEG   message-drawer-conversation-deleted)   CONVERSATION_DELETEDA   message-drawer-conversation-read#   CONVERSATION_READS   message-drawer-conversation-set-favourite5   CONVERSATION_SET_FAVOURITEW   message-drawer-conversation-unset-favourite9   CONVERSATION_UNSET_FAVOURITEE   message-drawer-preferences-updated'   PREFERENCES_UPDATED7   message-drawer-route-change   ROUTE_CHANGED'   message-drawer-show	   SHOW'   message-drawer-hide	   HIDE+   message-drawer-toggle#   TOGGLE_VISIBILITYA   message-drawer-show-conversation#   SHOW_CONVERSATION9   message-drawer-show-settings   SHOW_SETTINGSŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!;   CREATE_CONVERSATION_WITH_USER‹!«!Ž!«!   CONTACT_BLOCKED‹!«!Ž!«!#   CONTACT_UNBLOCKED‹!«!Ž!«!   CONTACT_ADDED‹!«!Ž!«!   CONTACT_REMOVED‹!«!Ž!«!1   CONTACT_REQUEST_ACCEPTED‹!«!Ž!«!1   CONTACT_REQUEST_DECLINED‹!«!Ž!«!)   CONVERSATION_CREATED‹!«!Ž!«!;   CONVERSATION_NEW_LAST_MESSAGE‹!«!Ž!«!)   CONVERSATION_DELETED‹!«!Ž!«!#   CONVERSATION_READ‹!«!Ž!«!5   CONVERSATION_SET_FAVOURITE‹!«!Ž!«!9   CONVERSATION_UNSET_FAVOURITE‹!«!Ž!«!'   PREFERENCES_UPDATED‹!«!Ž!«!   ROUTE_CHANGED‹!«!Ž!«!	   SHOW‹!«!Ž!«!	   HIDE‹!«!Ž!«!#   TOGGLE_VISIBILITY‹!«!Ž!«!#   SHOW_CONVERSATION‹!«!Ž!«!   SHOW_SETTINGS‹!«!    š˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!I   core_message/notification_preferenceŽ!«!Y   core_message/notification_processor_settings    !«!       B < ‡C < ‡C „   ë   €          a    b    c    d    e    f    g   B Š= æ= ‚= æ= „   ]         Ê5ž   B  > 6> > 6> „   à         Ê5ž   B  W> °> O> °> „   *         Ê5ž   B  Ð> ,? È> ,? „   £         Ê5ž   B  X? þ@ P? þ@ „   +  2          e    f   B  ˆ@ ²@ €@ ²@ „   [         Ê5ž   B  Î@ ê@ Æ@ ê@ „   ¡         Ê5žÊ5ž   B  *A „C "A „C „   ý           B ”A cB ŒA cB „   g  2          c   B  DB `B <B `B „            Ê5žÊ5ž   B «B C £B C „   ~         Ê5ž   B  VC wC NC wC „   )         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   core/pubsubŽ!«!E   core_message/message_drawer_events    !«!       B ôC E ìC E …   j   0          a    b   B D 9D  D 9D …   ~          Ê5ž   B  DD YD <D YD …   º          Ê5ž   B dD ‰D \D ‰D …   Ú          Ê5ž   B  ”D ²D ŒD ²D …   
         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/pubsubŽ!«!   core/strŽ!«!E   core_message/message_drawer_events    !«!       C  ‚          4                                  ‚E üK zE üK †                 [    ‰   QZ    ‰   Q[   =    ]   =   ]   ‰   Q‚   W   Q‚   ‰ 	  Q‚   ‰ 
  Q‚   W  Q[   V   ]   ˆ 
  ]   V  ]   ™€  ŒËË•Ê^Ð!Ê?Ë€ ‡Ë€ eÊ€  ›•ÉÊÉ “   input:not([type="hidden"]), a[href], button, textarea, select, [tabindex]#   CAN_RECEIVE_FOCUS#   [data-route-back]   ROUTES_BACK   add   go	   backŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k      «+’HŽ!«!            Ž!«!       Ž!«!#   CAN_RECEIVE_FOCUS‹!«!Ž!«!   ROUTES_BACK‹!«!    !«!          hC (                                         €  &F ZF F ZF †   "             ˆ   T  [    T ]    T ]   T ]   8Q™€ ,ÍÈÈÊ    elements	   onGo   getDescriptionŒ!«!ÿÿÿÿ      a   b   c   d        «+’HŽ!«!       Ž!«!   elements‹!«!Ž!«!	   onGo‹!«!Ž!«!   getDescription‹!«!    š˜;ø       Ê5ž!«!          iB eF áH ]F áH †   a  a          c    f   B ÑF ‘G ÉF ‘G †   Í             d   B G G G G †            Ê5žÊ5žÊ5ž!«!          jB  ìH FK äH FK †   è  A          d    h   B AI wI 9I wI †   =         Ê5ž   B ÐI ëI ÈI ëI †   Ì         Ê5ž   B VJ ‰J NJ ‰J †   R         Ê5ž   B ˜J K J K †   ”             a   B  ÀJ K ¸J K †   ¼           B çJ K ßJ K †   ã         Ê5žÊ5žÊ5ž   B  -K 1K %K 1K †   )         Ê5žÊ5ž!«!          kB  QK áK IK áK †   M  0          a   B  ÀK ÚK ¸K ÚK †   ¼         Ê5žÊ5žŽ!«!       Ž!«!   add‹!«!Ž!«!   go‹!«!Ž!«!	   back‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jquery    !«!       C  ›      !   ø       %                            XL ša PL ša ‡       !   #       ‚    ‰   Q‚   ‰   Q‚   ‰   Q‚   W  Q‚   W  Q‚   W
  Q‚   W  Q‚   W  Q‚   W  Q‚	   W  Q‚
   W  Q‚   W	  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W   Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚   W  Q‚    W  Q‚!   W  Q‚"   W   Q‚#   W  Q[$   V  ]    V  ]   V
  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V	  ]   V  ]	   V  ]
   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V   ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V  ]   V   ]   V  ]    ™aË€ (Ë€  ÐË€ ŽÊ€ ÃÊ€ Ê€  ‹ÊiÊVÊTÊnÊ8Ê8Ê,Ê.Ê1Ê.Ê5Ê:Ê2Ê>ÊCÊ[Ê_Ê]Ê\Ê_Ê|Ê€  „Ê€  €Ê~Ê€  „ÊYÊzÊ€  šÊ€  ªÊ€ -•ÉÉÉÉÉÉÉÉÉÉÉ
ÉÉ
ÉÉÉÉÉÉÉÉÉÉÉÉ"É ÉÉ"ÉÉÉÉÉ #   buildInitialState   addMessages   removeMessages%   removeMessagesById   addMembers   removeMembers%   setLoadingMessages#   setSendingMessage#   setLoadingMembers   setId   setName   setSubname   setType   setIsFavourite'   setTotalMemberCount   setImageUrl/   setLoadingConfirmAction9   setPendingDeleteConversation1   addPendingBlockUsersById9   addPendingRemoveContactsById5   addPendingUnblockUsersById3   addPendingAddContactsById9   addPendingDeleteMessagesById7   removePendingBlockUsersById?   removePendingRemoveContactsById;   removePendingUnblockUsersById9   removePendingAddContactsById?   removePendingDeleteMessagesById/   addSelectedMessagesById5   removeSelectedMessagesById%   markMessagesAsRead%   addContactRequests+   removeContactRequestsŒ!«!ÿÿÿÿ%      a   B   F   C   D   w   o   y   i   s   m   g   q   k   e   l   K   I   G   A   E   H   x   v   p   z   t   n   h   r   u   f   j   d   b   c   J   !   «+’H!«!          bB jL ‡M bL ‡M ‡   k              b   B ¬L ÆL ¤L ÆL ‡   ­          Ê5ž   B øL €M ðL €M ‡   ù            B bM |M ZM |M ‡   c         Ê5žÊ5žÊ5ž!«!          cB ’M WN ŠM WN ‡   “  0          b    c   B ¯M UN §M UN ‡   °         Ê5žÊ5ž!«!          dB bN åO ZN åO ‡   c           B {N ãO sN ãO ‡   |         Ê5žÊ5ž!«!          eB ðO ¨Q èO ¨Q ‡   ñ         Ê5ž!«!          fB ³Q ½R «Q ½R ‡   ´           B R xR R xR ‡            Ê5ž   B –R ¹R ŽR ¹R ‡   —         Ê5žÊ5ž!«!          gB ÈR HS ÀR HS ‡   É             e   B éR ùR áR ùR ‡   ê         Ê5ž   B 'S DS S DS ‡   (         Ê5žÊ5ž!«!          hB SS ±S KS ±S ‡   T             c   B S ­S ˆS ­S ‡   ‘         Ê5žÊ5ž!«!          iB ¼S T ´S T ‡   ½             e   B íS T åS T ‡   î         Ê5žÊ5ž!«!          jB T [T 
T [T ‡                d   B <T WT 4T WT ‡   =         Ê5žÊ5ž!«!          kB fT ÉT ^T ÉT ‡   g         Ê5ž!«!          lB ÔT U ÌT U ‡   Õ         Ê5ž!«!          mB U 9U U 9U ‡   	         Ê5ž!«!          nB DU eU <U eU ‡   E	         Ê5ž!«!          oB pU “U hU “U ‡   q	         Ê5ž!«!          pB žU ÄU –U ÄU ‡   Ÿ	         Ê5ž!«!          qB ÏU òU ÇU òU ‡   Ð	         Ê5ž!«!          rB ýU 'V õU 'V ‡   þ	         Ê5ž!«!          sB 2V aV *V aV ‡   3
         Ê5ž!«!          tB lV “V dV “V ‡   m
         Ê5ž!«!          uB žV ÑV –V ÑV ‡   Ÿ
         Ê5ž!«!          vB ÜV W ÔV W ‡   Ý
         Ê5ž!«!          wB W oW W oW ‡                 d   B IW kW AW kW ‡   J         Ê5žÊ5ž!«!          xB zW ÎW rW ÎW ‡   {             d   B ¤W ÊW œW ÊW ‡   ¥         Ê5žÊ5ž!«!          yB ÙW +X ÑW +X ‡   Ú             d   B X 'X ûW 'X ‡            Ê5žÊ5ž!«!          zB 6X ‡X .X ‡X ‡   7             d   B `X ƒX XX ƒX ‡   a         Ê5žÊ5ž!«!          AB ’X æX ŠX æX ‡   “             d   B ¼X âX ´X âX ‡   ½         Ê5žÊ5ž!«!          BB ñX bY éX bY ‡   ò             c   B DY ^Y <Y ^Y ‡   E         Ê5žÊ5ž!«!          CB mY æY eY æY ‡   n             c   B ÈY âY ÀY âY ‡   É         Ê5žÊ5ž!«!          DB ñY fZ éY fZ ‡   ò             c   B HZ bZ @Z bZ ‡   I         Ê5žÊ5ž!«!          EB qZ äZ iZ äZ ‡   r             c   B ÆZ àZ ¾Z àZ ‡   Ç         Ê5žÊ5ž!«!          FB ïZ h[ çZ h[ ‡   ð             c   B J[ d[ B[ d[ ‡   K         Ê5žÊ5ž!«!          GB s[ Á[ k[ Á[ ‡   t         Ê5ž!«!          HB Ì[ ;\ Ä[ ;\ ‡   Í             c   B \ 7\ \ 7\ ‡            Ê5žÊ5ž!«!          IB F\ Õ\ >\ Õ\ ‡   G             e   B g\ w\ _\ w\ ‡   h         Ê5ž   B ¢\ Ñ\ š\ Ñ\ ‡   £         Ê5žÊ5ž!«!          JB à\ ] Ø\ ] ‡   á             d   B 
] {] ] {] ‡            Ê5žÊ5ž!«!          KB Š] ¬^ ‚] ¬^ ‡   ‹             d   B ´] ¨^ ¬] ¨^ ‡   µ  0          b    c   B $^ ;^ ^ ;^ ‡   %         Ê5ž   B †^ ¦^ ~^ ¦^ ‡   ‡         Ê5žÊ5žÊ5žŽ!«!    !   Ž!«!#   buildInitialState‹!«!Ž!«!   addMessages‹!«!Ž!«!   removeMessages‹!«!Ž!«!%   removeMessagesById‹!«!Ž!«!   addMembers‹!«!Ž!«!   removeMembers‹!«!Ž!«!%   setLoadingMessages‹!«!Ž!«!#   setSendingMessage‹!«!Ž!«!#   setLoadingMembers‹!«!Ž!«!   setId‹!«!Ž!«!   setName‹!«!Ž!«!   setSubname‹!«!Ž!«!   setType‹!«!Ž!«!   setIsFavourite‹!«!Ž!«!'   setTotalMemberCount‹!«!Ž!«!   setImageUrl‹!«!Ž!«!/   setLoadingConfirmAction‹!«!Ž!«!9   setPendingDeleteConversation‹!«!Ž!«!1   addPendingBlockUsersById‹!«!Ž!«!9   addPendingRemoveContactsById‹!«!Ž!«!5   addPendingUnblockUsersById‹!«!Ž!«!3   addPendingAddContactsById‹!«!Ž!«!9   addPendingDeleteMessagesById‹!«!Ž!«!7   removePendingBlockUsersById‹!«!Ž!«!?   removePendingRemoveContactsById‹!«!Ž!«!;   removePendingUnblockUsersById‹!«!Ž!«!9   removePendingAddContactsById‹!«!Ž!«!?   removePendingDeleteMessagesById‹!«!Ž!«!/   addSelectedMessagesById‹!«!Ž!«!5   removeSelectedMessagesById‹!«!Ž!«!%   markMessagesAsRead‹!«!Ž!«!%   addContactRequests‹!«!Ž!«!+   removeContactRequests‹!«!    š˜;øÊ5žŽ!«!   	   Ž!«!   jqueryŽ!«!   core/fragmentŽ!«!   core/strŽ!«!#   core/modal_eventsŽ!«!%   core/modal_factoryŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!1   core_question/repositoryŽ!«!/   core_question/selectors    !«!       B	 €b 
i xb 
i ˆ   ã   P         a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t   B ¢b Ñb šb Ñb ˆ            Ê5ž   B Üb c Ôb c ˆ   ?         Ê5ž   B c Fc c Fc ˆ   y         Ê5ž   B Qc ”c Ic ”c ˆ   ´         Ê5ž   B Ÿc ßc —c ßc ˆ            Ê5ž   B êc d âc d ˆ   M         Ê5ž   B  d Id d Id ˆ   ƒ         Ê5ž   B Td €d Ld €d ˆ   ·         Ê5ž   B ‹d µd ƒd µd ˆ   î         Ê5ž   B Àd Uh ¸d Uh ˆ   #  0          h    l   B e ˆf e ˆf ˆ                a   B \e we Te we ˆ   ¿         Ê5ž   B ©e êe ¡e êe ˆ            Ê5ž   B f „f f „f ˆ   v           B  +f If #f If ˆ   Ž         Ê5žÊ5žÊ5ž   B ¼f Sh ´f Sh ˆ     @          e    g    p   B *g ,h "g ,h ˆ              B  •g g g g ˆ   ø         Ê5ž   B  ®g ¶g ¦g ¶g ˆ            Ê5žÊ5žÊ5žÊ5ž   B `h ãh Xh ãh ˆ   Ã             b   B  Âh Ïh ºh Ïh ˆ   %         Ê5žÊ5ž   B øh i ðh i ˆ   [         Ê5žÊ5ž!«!       B  :i Ñi 2i Ñi ‰   -          Ê5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajax    !«!       B j Ìj j Ìj Š   B              b   B *j §j "j §j Š   V          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templates    !«!       B /k €m 'k €m ‹   `   @          a    b    c   B Uk ªk Mk ªk ‹   †              d   B |k ¦k tk ¦k ‹   ­          Ê5žÊ5ž   B ½k ~m µk ~m ‹   î              f   B œl tm ”l tm ‹   Í  0          b    d   B Ál m ¹l m ‹   ò         Ê5ž   B  -m rm %m rm ‹   ^  1          c    d   B Um km Mm km ‹   †         Ê5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!-   core/form-autocompleteŽ!«!   core/strŽ!«!#   core/notification    !«!       B ñm ¯q ém ¯q Œ   n   €          a    b    c    d    e    f    g   B  0n 8q (n 8q Œ   ­              g   B ån ¢o Ýn ¢o Œ   b           B  [o Žo So Žo Œ   Ø         Ê5žÊ5ž   B   p 6q øo 6q Œ   }  R          c    d    e   B :p ¼p 2p ¼p Œ   ·         Ê5žÊ5žÊ5ž   B  Cq rq ;q rq Œ   À         Ê5ž   B  ‡q Žq q Žq Œ            Ê5ž   B  Ÿq ­q —q ­q Œ            Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B r ús r ús    a   0          a    c   B /r As 'r As    }   @          c    d    g   B ƒr 
s {r 
s    Ñ          Ê5žÊ5ž   B Ys °s Qs °s    §             d   B €s ¬s xs ¬s    Î         Ê5žÊ5ž   B Ãs øs »s øs             Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/ajax    !«!       B –t ¸… Žt ¸… Ž   ™              a    b    c    d    e    f    g    h    i   B v “v 
v “v Ž            Ê5ž   B  .w ôz &w ôz Ž   1           B [w qy Sw qy Ž   ^  2          d   B Øw x Ðw x Ž   Û         Ê5žÊ5ž   B  ¥y ày y ày Ž   ¨         Ê5ž   B  z =z z =z Ž            Ê5ž   B  lz šz dz šz Ž   o         Ê5ž   B  Äz òz ¼z òz Ž   Ç         Ê5žÊ5ž   B { å~ { å~ Ž     2          f   B v} Ø~ n} Ø~ Ž   y	           B  ð} n~ è} n~ Ž   ó	         Ê5žÊ5žÊ5ž   B      Ž              B .€ ®€ &€ ®€ Ž   1         Ê5ž   B ½€ ù€ µ€ ù€ Ž   À         Ê5žÊ5ž   B 6 žƒ . žƒ Ž   9  "          f   B j‚ ‘ƒ b‚ ‘ƒ Ž   m           B  ä‚ #ƒ Ü‚ #ƒ Ž   ç         Ê5žÊ5žÊ5ž   B Åƒ “… ½ƒ “… Ž   È           B ¤„ 0… œ„ 0… Ž   §         Ê5ž   B ?… {… 7… {… Ž   B         Ê5žÊ5ž   B ¢… ¶… š… ¶… Ž   ¥         Ê5žÊ5žŽ!«!   	   Ž!«!   core/templatesŽ!«!   jqueryŽ!«!   core/strŽ!«!   core/configŽ!«!#   core/notificationŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/fragmentŽ!«!   core/ajax    !«!       B	 r† ‡– j† ‡–    ·   °          a    b    c    e    f    g    h    i    j    k   B ‡ ‡ ‡ ‡    Y         Ê5ž   B  Î‡ ¡‰ Æ‡ ¡‰      "          a   B þ‡ Ÿ‰ ö‡ Ÿ‰    C  "          k   B –ˆ ×ˆ Žˆ ×ˆ    Û         Ê5ž   B æˆ ‹‰ Þˆ ‹‰    +             b   B ‰ 7‰  ‰ 7‰    M         Ê5ž   B  Y‰ h‰ Q‰ h‰    ž         Ê5žÊ5žÊ5žÊ5ž   B  Â‰ 0Œ º‰ 0Œ      "          a   B ë‰ .Œ ã‰ .Œ    0  2          d    h   B %‹ Œ ‹ Œ    j             e   B  ‹ Þ‹ …‹ Þ‹    Ò         Ê5ž   B   Œ Œ ø‹ Œ    E         Ê5žÊ5žÊ5žÊ5ž   B  WŒ ‡ OŒ ‡    œ           B zŒ … rŒ …    ¿  2          k    m   B tŽ q lŽ q    ¹             d   B ÿŽ 5 ÷Ž 5    D	         Ê5ž   B  ` o X o    ¥	         Ê5žÊ5žÊ5žÊ5ž   B ¯ O” § O”    ô	  r          a    c    d    f   B W“ ;” O“ ;”    œ          Ê5žÊ5ž   B z” º• r” º•    ¿             a   B Ú” ¦• Ò” ¦•             Ê5žÊ5ž   B ×• i– Ï• i–             Ê5ž   B x– …– p– …–    ½         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/dragdropŽ!«!   core/key_codes    !«!       B å– 2¹ Ý– 2¹    [   `   )       a    b    c    d    e      d — a˜ ú– a˜    z   "          d   B  ˜ =˜ ˜ =˜    ‘         Ê5žÊ5ž   B  ˜ »™ ˆ˜ »™      2          a   B  g™ ‰™ _™ ‰™    Ý         Ê5žÊ5ž   B  æ™ Lš Þ™ Lš    \  "          a   B *š Jš "š Jš              Ê5žÊ5ž   B oš šš gš šš    å         Ê5ž   B  ½š N› µš N›    3         Ê5ž   B  z› œ r› œ    ð  "          b   B ½› œ µ› œ    3         Ê5žÊ5ž   B Kœ bŸ Cœ bŸ    Á  B          e    f   B ¥œ úœ œ úœ             Ê5ž   B  í  í             Ê5žÊ5ž   B  ‚Ÿ íŸ zŸ íŸ    ø  "          b   B ÆŸ ëŸ ¾Ÿ ëŸ    <	         Ê5žÊ5ž   B   ž    ž     	         Ê5ž   B ½  V¡ µ  V¡    3
         Ê5ž   B  ¡ t¤ y¡ t¤    ÷
  B          b    c    d   B ã¡ T¢ Û¡ T¢    Y         Ê5ž   B {¢ F£ s¢ F£    ñ         Ê5ž   B p£ 3¤ h£ 3¤    æ          Ê5žÊ5ž   B  ¤¤ B¥ œ¤ B¥             Ê5ž   B g¥ ¦ _¥ ¦    Ý  2          d   B P¦ j¦ H¦ j¦    Æ         Ê5ž   B s¦ Œ¦ k¦ Œ¦    é         Ê5žÊ5ž   B ­¦ x§ ¥¦ x§    #  B          b    c    e   B § v§ ý¦ v§    {         Ê5žÊ5ž   B •§ †¨ § †¨      b          b    c    d    e    g   B ö§ l¨ î§ l¨    l         Ê5žÊ5ž   B ª¨ Í© ¢¨ Í©              Ê5ž   B ï© ¾ª ç© ¾ª    e         Ê5ž   B âª Q¬ Úª Q¬    X  "       Ê5ž   B r¬ $­ j¬ $­    è         Ê5ž   B I­ ÷­ A­ ÷­    ¿         Ê5ž   B ® ¯ ® ¯    Œ  0          a    d   B  Ñ® þ® É® þ®    G         Ê5žÊ5ž   B $¯ €¯ ¯ €¯    š         Ê5ž   B £¯ à¯ ›¯ à¯             Ê5ž   B  ý¯ 4° õ¯ 4°    s         Ê5ž   B  Q° …° I° …°    Ç         Ê5ž   B ¦° ð° ž° ð°             Ê5ž   B ± t± ± t±             Ê5ž   B Ÿ± Ù± —± Ù±             Ê5ž   B ÿ± :² ÷± :²    u         Ê5ž   B b² ©² Z² ©²    Ø         Ê5ž   B Ø² ¬³ Ð² ¬³    N  0       Ê5ž   B Ë³ ´ Ã³ ´    A         Ê5ž   B ´ T´ ´ T´    •         Ê5ž   B r´ §´ j´ §´    è         Ê5ž   B å´ \µ Ý´ \µ    [         Ê5ž   B  xµ ¼¶ pµ ¼¶    î         Ê5ž   B Õ¶ #· Í¶ #·    K          Ê5ž   B ;· u· 3· u·    ±          Ê5ž   B  ‘· ó· ‰· ó·    !         Ê5ž   B  ¸ £¸ ¸ £¸    ‰!         Ê5ž   B À¸ ¹ ¸¸ ¹    6"         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/dragdrop    !«!       B {¹ &Ó s¹ &Ó ‘   F   @          a    b    c   B Ô¹ W» Ì¹ W» ‘   Ÿ          Ê5ž   B  ~» ž¼ v» ž¼ ‘   I           B  @¼ ¼ 8¼ ¼ ‘            Ê5žÊ5ž   B  ¸¼ :½ °¼ :½ ‘   ƒ         Ê5ž   B  [½ þ½ S½ þ½ ‘   &         Ê5ž   B ¾ œ¾ ¾ œ¾ ‘   å         Ê5ž   B  µ¾ LÁ ­¾ LÁ ‘   €  P       Ê5ž   B  tÁ .Â lÁ .Â ‘   ?           B Á ½Á •Á ½Á ‘   h         Ê5ž   B  éÁ Â áÁ Â ‘   ´         Ê5žÊ5ž   B EÂ pÂ =Â pÂ ‘   	         Ê5ž   B  ‰Â Å Â Å ‘   T	  @       Ê5ž   B 3Å ÃÆ +Å ÃÆ ‘   þ  0          d    e   B yÅ ÎÅ qÅ ÎÅ ‘   D         Ê5ž   B ëÅ ÁÆ ãÅ ÁÆ ‘   ¶         Ê5žÊ5ž   B  ßÆ sÉ ×Æ sÉ ‘   ª           B 1Ç È )Ç È ‘   ü         Ê5ž   B kÈ ÑÈ cÈ ÑÈ ‘   6         Ê5ž   B 'É :É É :É ‘   ò         Ê5ž   B  ZÉ qÉ RÉ qÉ ‘   %         Ê5žÊ5ž   B  šÉ aÊ ’É aÊ ‘   e          Ê5ž   B  ‰Ê Í Ê Í ‘   T  @       Ê5ž   B .Í ÛÍ &Í ÛÍ ‘   ù             b   B «Í ÑÍ £Í ÑÍ ‘   v         Ê5žÊ5ž   B îÍ xÎ æÍ xÎ ‘   ¹           B HÎ ^Î @Î ^Î ‘            Ê5ž   B  gÎ vÎ _Î vÎ ‘   2         Ê5žÊ5ž   B ŠÎ ãÏ ‚Î ãÏ ‘   U         Ê5ž   B  ôÏ Ð ìÏ Ð ‘   ¿         Ê5ž   B *Ð iÐ "Ð iÐ ‘   õ         Ê5ž   B xÐ ÓÐ pÐ ÓÐ ‘   C         Ê5ž   B éÐ LÑ áÐ LÑ ‘   ´         Ê5ž   B bÑ ªÑ ZÑ ªÑ ‘   -         Ê5ž   B  ÀÑ Ó ¸Ñ Ó ‘   ‹  @          b    c   B  Ò OÒ Ò OÒ ‘   ë         Ê5ž   B eÒ ðÒ ]Ò ðÒ ‘   0         Ê5ž   B þÒ Ó öÒ Ó ‘   É         Ê5žÊ5žÊ5ž!«!       C   Ö         :      E                  †       €  QÓ K÷ IÓ K÷ ’                  ‚    ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ 	  Qˆ   5    ‚   0   Qˆ   5    ‚	   0   Qˆ   5    ‚
   0   Qˆ   ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0	   Qˆ   5    ‚   0
   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   ˆ   A,  R  0    Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0	   Qˆ   5    ‚   0
   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚   0   Qˆ   5    ‚    0   Qˆ   5    ‚!   0   Qˆ   5    ‚"   0   Qˆ   ˆ   A,  R  0    Qˆ   5    ‚#   0   Qˆ   5    ‚$   0   Qˆ   5    ‚%   0	   Qˆ   5    ‚&   0
   Qˆ   5    ‚'   0   Qˆ   5    ‚(   0   Qˆ   5    ‚)   0   Qˆ   5    ‚*   0   Qˆ   5    ‚+   0   Qˆ   5    ‚,   0   Qˆ   5    ‚-   0   Qˆ   ˆ   A,  R  0    Qˆ   5    ‚.   0   Qˆ   5    ‚/   0   Qˆ   5    ‚0   0	   Qˆ   5    ‚1   0
   Qˆ   5    ‚2   0   Qˆ   5    ‚3   0   Qˆ   5    ‚4   0   Qˆ   5    ‚5   0   Qˆ   5    ‚6   0   Qˆ   5    ‚7   0   Qˆ   5    ‚8   0   Qˆ   5    ‚9   0   Qˆ   ˆ   A,  R  0    Qˆ   5    ‚:   0   Qˆ   5    ‚;   0   Qˆ   5    ‚<   0	   Qˆ   5    ‚=   0
   Qˆ   5    ‚>   0   Qˆ   5    ‚?   0   Qˆ   5    ‚@   0   Qˆ   5    ‚A   0   Q[D   ˆ   ]   ˆ   ]   ˆ   ]   ˆ   ]   ˆ   ]   ˆ   ]   ˆ   ]   ‚B   ]   ‚C   ]   ™ÿÙ+€ sÕ:Õ4Õ`Ð€  “ÕDÕKÕCÕ%Õ'Õ(ÕEÕ$ÕNÕQÕOÕ7ÏÉÕ/ÕTÕPÕ€ GÕ€  ™Õ€ Õ€  ÁÕIÕ€  –Õ€  úÕzÏÉÕ2ÕYÕNÕ€ ŽÕ€  ³Õ€  ôÕ€ 'Õ€  ­Õ€  ¹Õ€  ÀÕ€  ¦ÏÉÕ0Õ€  ˜ÕQÕ€  ÿÕ€  áÕ€ ƒÕ€ OÕkÕ€ DÕaÕ€ Õ€  ½ÏÉÕ-Õ0Õ-Õ$Õ(ÕCÕFÕD•ÊÊÊ	ÊÊ
ÊÊÊ€  ’Ê€  å    prototype   toString	   move   offset   parse   getType   getCoordinates	   edit   normalizeShape   makeSvg   updateSvg#   makeSimilarCircle)   makeSimilarRectangle%   makeSimilarPolygon%   getHandlePositions!   addNewPointAfter   Point   Shape   Circle   Rectangle   Polygon   NullShape!   createSvgElement	   make   getSimilarŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h         «+’H!«!          a kÓ ƒÓ aÓ ƒÓ ’   B          Ê5ž!«!          b Ó ¿Ó ƒÓ ¿Ó ’   d          Ê5ž!«!          c ÉÓ øÓ ¿Ó øÓ ’              Ê5ž!«!          d Ô DÔ øÓ DÔ ’   Ù          Ê5ž!«!          e NÔ ¾Ô DÔ ¾Ô ’   %         Ê5ž!«!          f ÈÔ ÛÔ ¾Ô ÛÔ ’   Ÿ         Ê5ž!«!          g åÔ KÕ ÛÔ KÕ ’   ¼         Ê5ž!«!          h UÕ ÇÕ KÕ ÇÕ ’   ,         Ê5ž!«!       )   a.prototype.toStringb  ëÕ Ö ãÕ Ö ’   Â         Ê5ž!«!       !   a.prototype.moveb !Ö ;Ö Ö ;Ö ’   ø         Ê5ž!«!       %   a.prototype.offsetb WÖ ›Ö OÖ ›Ö ’   .         Ê5ž!«!          a.parseb ¬Ö .× ¤Ö .× ’   ƒ         Ê5ž!«!       '   b.prototype.getTypeb  K× r× C× r× ’   "         Ê5ž!«!       5   b.prototype.getCoordinatesb  –× ½× Ž× ½× ’   m         Ê5ž!«!       #   b.prototype.parseb Ø×  Ø Ð×  Ø ’   ¯         Ê5ž!«!       !   b.prototype.moveb Ø %Ø Ø %Ø ’   ñ         Ê5ž!«!       !   b.prototype.editb ?Ø LØ 7Ø LØ ’            Ê5ž!«!       5   b.prototype.normalizeShapeb  pØ tØ hØ tØ ’   G         Ê5ž!«!       '   b.prototype.makeSvgb ‘Ø ¹Ø ‰Ø ¹Ø ’   h         Ê5ž!«!       +   b.prototype.updateSvgb ØØ ÝØ ÐØ ÝØ ’   ¯         Ê5ž!«!       ;   b.prototype.makeSimilarCircleb  Ù +Ù üØ +Ù ’   Û         Ê5ž!«!       A   b.prototype.makeSimilarRectangleb  UÙ |Ù MÙ |Ù ’   ,         Ê5ž!«!       =   b.prototype.makeSimilarPolygonb  ¤Ù ËÙ œÙ ËÙ ’   {         Ê5ž!«!       =   b.prototype.getHandlePositionsb  óÙ Ú ëÙ Ú ’   Ê         Ê5ž!«!       '   c.prototype.getTypeb  1Ú CÚ )Ú CÚ ’            Ê5ž!«!       5   c.prototype.getCoordinatesb  gÚ —Ú _Ú —Ú ’   >         Ê5ž!«!       '   c.prototype.makeSvgb ´Ú çÚ ¬Ú çÚ ’   ‹         Ê5ž!«!       +   c.prototype.updateSvgb Û .Ü þÚ .Ü ’   Ý         Ê5ž!«!       #   c.prototype.parseb IÜ ÇÜ AÜ ÇÜ ’    	         Ê5ž!«!       !   c.prototype.moveb áÜ åÝ ÙÜ åÝ ’   ¸	         Ê5ž!«!       !   c.prototype.editb ÿÝ ¦Þ ÷Ý ¦Þ ’   Ö
         Ê5ž!«!       5   c.prototype.normalizeShapeb  ÊÞ ïÞ ÂÞ ïÞ ’   ¡         Ê5ž!«!       A   c.prototype.makeSimilarRectangleb  ß …ß ß …ß ’   ð         Ê5ž!«!       =   c.prototype.makeSimilarPolygonb  ­ß à ¥ß à ’   „         Ê5ž!«!       =   c.prototype.getHandlePositionsb  §à ùà Ÿà ùà ’   ~         Ê5ž!«!       '   d.prototype.getTypeb  (á =á  á =á ’   ÿ         Ê5ž!«!       5   d.prototype.getCoordinatesb  aá –á Yá –á ’   8         Ê5ž!«!       '   d.prototype.makeSvgb ³á äá «á äá ’   Š         Ê5ž!«!       +   d.prototype.updateSvgb â rä ûá rä ’   Ú         Ê5ž!«!       #   d.prototype.parseb ä %å …ä %å ’   d         Ê5ž!«!       !   d.prototype.moveb ?å æ 7å æ ’            Ê5ž!«!       !   d.prototype.editb 3æ @ç +æ @ç ’   
         Ê5ž!«!       5   d.prototype.normalizeShapeb  dç íç \ç íç ’   ;         Ê5ž!«!       ;   d.prototype.makeSimilarCircleb  è ¦è è ¦è ’   ë         Ê5ž!«!       =   d.prototype.makeSimilarPolygonb  Îè fé Æè fé ’   ¥         Ê5ž!«!       =   d.prototype.getHandlePositionsb  Žé ê †é ê ’   e         Ê5ž!«!       '   e.prototype.getTypeb  ;ê Nê 3ê Nê ’            Ê5ž!«!       5   e.prototype.getCoordinatesb  rê æê jê æê ’   I         Ê5ž!«!       '   e.prototype.makeSvgb ë 7ë ûê 7ë ’   Ú         Ê5ž!«!       +   e.prototype.updateSvgb Vë 6ì Në 6ì ’   -         Ê5ž!«!       #   e.prototype.parseb Qì í Iì í ’   (         Ê5ž!«!       !   e.prototype.moveb 1í šî )í šî ’            Ê5ž!«!       !   e.prototype.editb ´î éï ¬î éï ’   ‹         Ê5ž!«!       9   e.prototype.addNewPointAfterb ð Tð ð Tð ’   æ         Ê5ž!«!       5   e.prototype.normalizeShapeb  xð ˜ñ pð ˜ñ ’   O  2       Ê5ž!«!       ;   e.prototype.makeSimilarCircleb  ¿ñ ùñ ·ñ ùñ ’   –         Ê5ž!«!       A   e.prototype.makeSimilarRectangleb  #ò ó ò ó ’   ú         Ê5ž!«!       =   e.prototype.getHandlePositionsb  9ó Îó 1ó Îó ’             Ê5ž!«!       '   f.prototype.getTypeb  ýó ô õó ô ’   Ô          Ê5ž!«!       5   f.prototype.getCoordinatesb  1ô =ô )ô =ô ’   !         Ê5ž!«!       '   f.prototype.makeSvgb Zô jô Rô jô ’   1!         Ê5ž!«!       +   f.prototype.updateSvgb ‰ô Žô ô Žô ’   `!         Ê5ž!«!       #   f.prototype.parseb ©ô ¶ô ¡ô ¶ô ’   €!         Ê5ž!«!       ;   f.prototype.makeSimilarCircleb  Ýô ùô Õô ùô ’   ´!         Ê5ž!«!       A   f.prototype.makeSimilarRectangleb  #õ ?õ õ ?õ ’   ú!         Ê5ž!«!       =   f.prototype.makeSimilarPolygonb  gõ ƒõ _õ ƒõ ’   >"         Ê5ž!«!       	   makeB àõ dö Øõ dö ’   ·"          Ê5ž!«!          getSimilarB xö I÷ pö I÷ ’   O#          Ê5žŽ!«!    	   Ž!«!   Point‹!«!Ž!«!   Shape‹!«!Ž!«!   Circle‹!«!Ž!«!   Rectangle‹!«!Ž!«!   Polygon‹!«!Ž!«!   NullShape‹!«!Ž!«!!   createSvgElement‹!«!Ž!«!	   make‹!«!Ž!«!   getSimilar‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/dragdropŽ!«!+   qtype_ddmarker/shapesŽ!«!   core/key_codes    !«!       B ¼÷ w ´÷ w “   n   p           a    b    c    d    e    f      e Ý÷ Zø Ó÷ Zø “             Ê5ž   B xø Iù pø Iù “   *  "          b   B  Áø ù ¹ø ù “   s         Ê5žÊ5ž   B  lù ôú dù ôú “     "       Ê5ž   B û ·ü û ·ü “   Ç  2       Ê5ž   B  àü ×þ Øü ×þ “   ’  R       Ê5ž   B  üþ y ôþ y “   ®  "          c   B Jÿ jÿ Bÿ jÿ “   ü         Ê5ž   B ‘ÿ †  ‰ÿ †  “   C          Ê5ž   B ·   ¯   “   i	         Ê5žÊ5ž   B ˜    “   J
         Ê5ž   B C  ;  “   õ         Ê5ž   B ¶  ®  “   h         Ê5ž   B ( v   v “   Ú         Ê5ž   B – ä Ž ä “   H         Ê5ž   B   8 ù 8 “   ³         Ê5ž   B  U ‰ M ‰ “            Ê5ž   B § î Ÿ î “   Y         Ê5ž   B  _  _ “   ¾         Ê5ž   B …  }  “   7         Ê5ž   B - Ì % Ì “   ß  "          d   B  § « Ÿ « “   Y         Ê5ž   B ´ É ¬ É “   f         Ê5žÊ5ž   B é e á e “   ›         Ê5ž   B Ž 
 † 
 “   @  "       Ê5ž   B ¥
 › 
 › “   W  "       Ê5ž   B Á w ¹ w “   s         Ê5ž   B £ á › á “   U         Ê5ž   B  ó  ó “   Â  0       Ê5ž   B   /  / “   Ç         Ê5ž   B  _ ÷ W ÷ “            Ê5ž   B 5 ° - ° “   ç         Ê5ž   B  Ì  Ä  “   ~         Ê5ž   B ( v   v “   Ú         Ê5ž   B Ž È † È “   @         Ê5ž   B  ä = Ü = “   –         Ê5ž   B  ] í U í “            Ê5ž   B 
 a  a “   ¼         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/dragdropŽ!«!+   qtype_ddmarker/shapes    !«!       B Ó ö7 Ë ö7 ”   Y   `   #       a    b    c    d    e      d ò p è p ”   x          Ê5ž   B ž ã – ã ”   $  "       Ê5ž   B   [ ü [ ”   Š         Ê5ž   B | I t I ”            Ê5ž   B g x _ x ”   í  2       Ê5ž   B œ ‡ ” ‡ ”   "         Ê5ž   B  ª   ¢   ”   0         Ê5ž   B  ! ±  ± ”   §  2       Ê5ž   B  Ï ! Ç ! ”   U	         Ê5ž   B  @ ß 8 ß ”   Æ	         Ê5ž   B  	 `  ` ”   
         Ê5ž   B  „ Ù | Ù ”   
         Ê5ž   B  ú <  ò <  ”   €         Ê5ž   B  Z    R    ”   à         Ê5ž   B  ¯  ð  §  ð  ”   5         Ê5ž   B ! J" ! J" ”   –  ‚          e    f    g    h    j    k   B Í! " Å! " ”   S         Ê5ž   B  '" G" " G" ”   ­         Ê5žÊ5ž   B j" ~$ b" ~$ ”   ð  ’          d    g    h    i    j    l    m   B ½# $ µ# $ ”   C         Ê5ž   B  $ {$ $ {$ ”   Ÿ         Ê5žÊ5ž   B ¡$ ]% ™$ ]% ”   '         Ê5ž   B ¦% & ž% & ”   ,         Ê5ž   B  ›& ˜' “& ˜' ”   !         Ê5ž   B  À' x* ¸' x* ”   F  `       Ê5ž   B  Ž* É* †* É* ”            Ê5ž   B  å* %/ Ý* %/ ”   k           B  7+ ]+ /+ ]+ ”   ½         Ê5ž   B ©+ ¯, ¡+ ¯, ”   /  0       Ê5ž   B ü, ©- ô, ©- ”   ‚         Ê5ž   B è- B. à- B. ”   n         Ê5ž   B . #/ y. #/ ”            Ê5žÊ5ž   B  L/ 0 D/ 0 ”   Ò         Ê5ž   B   0 ¢0 0 ¢0 ”   ¦         Ê5ž   B  Ã0 ¥1 »0 ¥1 ”   I         Ê5ž   B  Á1 ‡2 ¹1 ‡2 ”   G         Ê5ž   B  ¡2 	4 ™2 	4 ”   '         Ê5ž   B &4 ª4 4 ª4 ”   ¬          Ê5ž   B  º4 5 ²4 5 ”   @          Ê5ž   B !5 `5 5 `5 ”   §          Ê5ž   B o5 Ê5 g5 Ê5 ”   õ          Ê5ž   B à5 (6 Ø5 (6 ”   f!         Ê5ž   B >6 †6 66 †6 ”   Ä!         Ê5ž   B  œ6 à7 ”6 à7 ”   ""  0          b    c   B ù6 (7 ñ6 (7 ”   "         Ê5ž   B 97 À7 17 À7 ”   ¿"         Ê5ž   B Î7 Þ7 Æ7 Þ7 ”   T#         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/dragdropŽ!«!   core/key_codes    !«!       B K8 R C8 R •   R   `   #       a    b    c    d    e      d j8 ü8 `8 ü8 •   q          Ê5ž   B  '9 Ì9 9 Ì9 •   .  "          b   B p9 Ê9 h9 Ê9 •   w         Ê5žÊ5ž   B ÿ9 I; ÷9 I; •     B          b    d    e   B a: ¸: Y: ¸: •   h         Ê5ž   B Ó: ñ: Ë: ñ: •   Ú         Ê5ž   B ); G; !; G; •   0         Ê5žÊ5ž   B m; ¦; e; ¦; •   t         Ê5ž   B  Æ; -< ¾; -< •   Í  "          b   B < +< þ; +< •            Ê5žÊ5ž   B Y< Þ< Q< Þ< •   `         Ê5ž   B ý< •= õ< •= •            Ê5ž   B  ¸= ®? °= ®? •   ¿  2          b    c   B ø= Ã> ð= Ã> •   ÿ         Ê5ž   B í> ¬? å> ¬? •   ô          Ê5žÊ5ž   B Ó? û@ Ë? û@ •   Ú  2          d   B ¼@ Ö@ ´@ Ö@ •   Ã         Ê5ž   B ß@ ø@ ×@ ø@ •   æ         Ê5žÊ5ž   B A äA A äA •    	  B          b    c    e   B qA âA iA âA •   x	         Ê5žÊ5ž   B B òB ùA òB •   
  b          b    c    d    e    g   B bB ØB ZB ØB •   i
         Ê5žÊ5ž   B C 9D C 9D •            Ê5ž   B [D *E SD *E •   b         Ê5ž   B NE ¹F FE ¹F •   U  "       Ê5ž   B ÚF ŒG ÒF ŒG •   á         Ê5ž   B ±G _H ©G _H •   ¸         Ê5ž   B ~H iI vH iI •   …  0          a    d   B  9I fI 1I fI •   @         Ê5žÊ5ž   B ŒI èI „I èI •   “         Ê5ž   B J HJ J HJ •            Ê5ž   B  eJ œJ ]J œJ •   l         Ê5ž   B ½J ÿJ µJ ÿJ •   Ä         Ê5ž   B &K {K K {K •   -         Ê5ž   B ¦K ÜK žK ÜK •   ­         Ê5ž   B L 9L úK 9L •   	         Ê5ž   B aL œL YL œL •   h         Ê5ž   B ËL ŸM ÃL ŸM •   Ò  0       Ê5ž   B ¾M ôM ¶M ôM •   Å         Ê5ž   B N GN 
N GN •            Ê5ž   B eN šN ]N šN •   l         Ê5ž   B ØN KO ÐN KO •   ß         Ê5ž   B  gO TP _O TP •   n         Ê5ž   B mP »P eP »P •   t         Ê5ž   B ÓP Q ËP Q •   Ú         Ê5ž   B  )Q ƒQ !Q ƒQ •   0         Ê5ž   B  Q õQ ˜Q õQ •   §         Ê5žÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!   jqueryŽ!«!   core/templates    !«!       B hR ¬V `R ¬V –   Z   @          a    b    c   B ŽR R †R R –   €          Ê5ž   B °R ªV ¨R ªV –   ¢   0          f    k   B OS S GS S –   A         Ê5ž   B 
T DV T DV –   ü  0          d    e   B rT 0V jT 0V –   d  @          f    g    h   B ]U ¨U UU ¨U –   O         Ê5ž   B V ,V V ,V –   ÿ         Ê5žÊ5žÊ5ž   B  SV œV KV œV –   E         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B óV X ëV X —   D              a   B W oW W oW —   e          Ê5ž   B ŒW 	X „W 	X —   Ý          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/templates    !«!       B „X a |X a ˜   v   P          a    b    c    d   B œX Y ”X Y ˜   Ž          Ê5ž   B  ¹Y êY ±Y êY ˜   «         Ê5ž   B Z a Z a ˜     2          f    g   B ¤Z á` œZ á` ˜   –  B          e    h   B  ÑZ [ ÉZ [ ˜   Ã         Ê5ž   B x[ ö[ p[ ö[ ˜   j  2          a    b   B  ¢[ é[ š[ é[ ˜   ”         Ê5žÊ5ž   B ð\ U] è\ U] ˜   â         Ê5ž   B ƒ] ×_ {] ×_ ˜   u  2          c    f   B <^ –^ 4^ –^ ˜   .         Ê5ž   B :_ ¸_ 2_ ¸_ ˜   ,  2          a    b   B  d_ «_ \_ «_ ˜   V         Ê5žÊ5žÊ5ž   B  ñ_ Ô` é_ Ô` ˜   ã           B 7` µ` /` µ` ˜   )  2          a    b   B  a` ¨` Y` ¨` ˜   S         Ê5žÊ5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!3   mod_assign/grading_events    !«!       B `a Œh Xa Œh ™   Y   0   	       a    b   B  ta Ìa la Ìa ™   m          Ê5ž   B b Àb b Àb ™   	         Ê5ž   B  êb 7c âb 7c ™   ã         Ê5ž   B  \c ˆc Tc ˆc ™   U         Ê5ž   B  ´c èc ¬c èc ™   ­         Ê5ž   B  	d ‘d d ‘d ™            Ê5ž   B  ´d >e ¬d >e ™   ­         Ê5ž   B  _e Êe We Êe ™   X         Ê5ž   B  öe ‰h îe ‰h ™   ï           B +f Uf #f Uf ™   $         Ê5ž   B tf ìf lf ìf ™   m         Ê5ž   B  0g Hg (g Hg ™   )         Ê5ž   B  yg Èg qg Èg ™   r         Ê5ž   B  øg h ðg h ™   ñ         Ê5ž   B  =h |h 5h |h ™   6         Ê5žÊ5žÊ5žŽ!«!   	   Ž!«!   jqueryŽ!«!   core/yuiŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   core/fragmentŽ!«!   core/ajaxŽ!«!   core/strŽ!«!M   mod_assign/grading_form_change_checkerŽ!«!3   mod_assign/grading_events    !«!       B	 ai H Yi H š   Ò              a    b    c    d    e    f    g    h    i   B ƒi ái {i ái š   ô          Ê5ž   B Àj Rk ¸j Rk š   1  P          b    c    e    f   B  ûj Dk ój Dk š   l           B  3k Bk +k Bk š   ¤         Ê5žÊ5žÊ5ž   B  vk Ul nk Ul š   ç         Ê5ž   B vl øm nl øm š   ç         Ê5ž   B +n Xp #n Xp š   œ           B o /o o /o š   ‰         Ê5ž   B  qo ¦o io ¦o š   â         Ê5žÊ5ž   B xp øp pp øp š   é         Ê5ž   B q ór q ór š     "          i   B %r Ôr r Ôr š   –	           B  Lr Çr Dr Çr š   ½	         Ê5žÊ5žÊ5ž   B s }t s }t š   ‹
  "          e   B ^s ^t Vs ^t š   Ï
         Ê5žÊ5ž   B  t mu ˜t mu š            Ê5ž   B —u ñz u ñz š     R          f    g    i    j   B ûv Ñz óv Ñz š   l           B  >w Äz 6w Äz š   ¯  "         B Úw Úy Òw Úy š   K           B  x »y x »y š   Ž           B  ‹x Èx ƒx Èx š   ü         Ê5žÊ5žÊ5žÊ5žÊ5žÊ5ž   B { O{ { O{ š   „         Ê5ž   B  {{ ³{ s{ ³{ š   ì         Ê5ž   B  Ø{ | Ð{ | š   I         Ê5ž   B  &| V| | V| š   —         Ê5ž   B  w| ª| o| ª| š   è         Ê5ž   B  Ö| E Î| E š   G           B } 1} } 1} š   ‹         Ê5ž   B  “~ «~ ‹~ «~ š            Ê5ž   B  Ý~ ó~ Õ~ ó~ š   N         Ê5ž   B  " 8  8 š   “         Ê5žÊ5žÊ5ž!«!       C   /                                           €  w N€ o N€ ›   ,              [    =    ]   =   ]   =   ]   =   ]   ™/•Ê6Ê2Ê4Ê0 ;   grading:collapse-review-panel+   COLLAPSE_REVIEW_PANEL7   grading:expand-review-panel'   EXPAND_REVIEW_PANEL9   grading:collapse-grade-panel)   COLLAPSE_GRADE_PANEL5   grading:expand-grade-panel%   EXPAND_GRADE_PANELŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!+   COLLAPSE_REVIEW_PANEL‹!«!Ž!«!'   EXPAND_REVIEW_PANEL‹!«!Ž!«!)   COLLAPSE_GRADE_PANEL‹!«!Ž!«!%   EXPAND_GRADE_PANEL‹!«!    š˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!3   mod_assign/grading_events    !«!       B ¥€ ØŒ € ØŒ œ   T   0          a    b   B ¹€  ±€  œ   h          Ê5ž   B … %‚ } %‚ œ   4         Ê5ž   B C‚ ^‚ ;‚ ^‚ œ   ò         Ê5ž   B  ‰‚ µ‚ ‚ µ‚ œ   8         Ê5ž   B  à‚ ƒ Ø‚ ƒ œ            Ê5ž   B  Aƒ „ƒ 9ƒ „ƒ œ   ð         Ê5ž   B  ¶ƒ úƒ ®ƒ úƒ œ   e         Ê5ž   B  („ d„  „ d„ œ   ×         Ê5ž   B  Œ„ 8… „„ 8… œ   ;         Ê5ž   B  a… † Y… † œ            Ê5ž   B  4† Þ† ,† Þ† œ   ã         Ê5ž   B  ‡ ¨‡ û† ¨‡ œ   ²         Ê5ž   B  Ô‡ ÕŒ Ì‡ ÕŒ œ   ƒ  "         B 2ˆ dˆ *ˆ dˆ œ   á         Ê5ž   B ƒˆ ‰ {ˆ ‰ œ   2         Ê5ž   B I‰ z‰ A‰ z‰ œ   ø         Ê5ž   B ™‰ Š ‘‰ Š œ   H	         Ê5ž   B [Š ‰Š SŠ ‰Š œ   

         Ê5ž   B ¨Š $‹  Š $‹ œ   W
         Ê5ž   B ¼Œ ÓŒ ´Œ ÓŒ œ   k         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/strŽ!«!-   core/form-autocompleteŽ!«!   core/ajaxŽ!«!M   mod_assign/grading_form_change_checker    !«!       B ƒ ùª { ùª    ¨   p          a    b    c    d    e    f   B Ÿ s’ — s’    Ä            B j‘ ¼‘ b‘ ¼‘             Ê5ž   B  þ‘ ’ ö‘ ’    #         Ê5ž   B  P’ f’ H’ f’    u         Ê5žÊ5ž   B  #“ ,” “ ,”    H         Ê5ž   B N” ^• F” ^•    s  "       Ê5ž   B –• À– Ž• À–    »  "       Ê5ž   B ä– Ã› Ü– Ã›    	
  R          i    k    l   B 1˜ x˜ )˜ x˜    V         Ê5ž   B ™ D™ ù˜ D™    &         Ê5ž   B è™ 9› à™ 9›      2          c    d   B š Öš š Öš    9         Ê5žÊ5žÊ5ž   B  æ› Œ Þ› Œ               B  b  b    1           B  6 ` . `    [         Ê5žÊ5žÊ5ž   B ± ÈŸ © ÈŸ    Ö  "          g   B Ÿ sŸ Ÿ sŸ    C           B  HŸ qŸ @Ÿ qŸ    m         Ê5žÊ5žÊ5ž   B òŸ û¡ êŸ û¡             Ê5ž   B $¢ M£ ¢ M£    I  "       Ê5ž   B r£ #¥ j£ #¥    —  2       Ê5ž   B  F¥ I§ >¥ I§    k  2         B å¦ )§ Ý¦ )§    
         Ê5žÊ5ž   B o§ ú§ g§ ú§    ”         Ê5ž   B  %¨ ³¨ ¨ ³¨    J         Ê5ž   B  Ú¨ öª Ò¨ öª    ÿ  "          e   B Lª ¡ª Dª ¡ª    q           B  vª Ÿª nª Ÿª    ›         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B 7« ë« /« ë« ž   ;              a   B  O« é« G« é« ž   S            B {« ç« s« ç« ž             Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/str    !«!       B =¬ ±¯ 5¬ ±¯ Ÿ   O   0          a    b   B  W¬ ¯¯ O¬ ¯¯ Ÿ   i            B ˆ¬ ü­ €¬ ü­ Ÿ   š            B ‰­ µ­ ­ µ­ Ÿ   ›         Ê5ž   B Î­ ú­ Æ­ ú­ Ÿ   à         Ê5žÊ5ž   B 1® ­¯ )® ­¯ Ÿ   C           B 0¯ a¯ (¯ a¯ Ÿ   B         Ê5ž   B z¯ «¯ r¯ «¯ Ÿ   Œ         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ô¯ ¨° ì¯ ¨°     @              a   B  ° ¦° ° ¦°     X            B 8° ¤° 0° ¤°     „          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!#   core/notification    !«!       B ± Õ² ý° Õ² ¡   Z   P          a    c    d    e   B )± i² !± i² ¡   ~              e   B ² \² ² \² ¡   p           B  E² Z² =² Z² ¡   š         Ê5žÊ5žÊ5ž   B  x² ½² p² ½² ¡   Í         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!#   mod_lti/tool_typeŽ!«!   mod_lti/eventsŽ!«!   mod_lti/keysŽ!«!   core/str    !«!       B ‚³ šÃ z³ šÃ ¢   ª   0         B    F    s    C    D    w    o    y    i    m    g    q    a    r    e    l    k    I    G    A    E    H    x    v    p    z    t    n    h    u    f    j    d    c   B \´ ´ T´ ´ ¢   „         Ê5ž   B Š´ ¬´ ‚´ ¬´ ¢   ²         Ê5ž   B ·´ à´ ¯´ à´ ¢   ß         Ê5ž   B ë´ µ ã´ µ ¢            Ê5ž   B µ 3µ µ 3µ ¢   C         Ê5ž   B >µ jµ 6µ jµ ¢   f         Ê5ž   B uµ µ mµ µ ¢            Ê5ž   B ˜µ ºµ µ ºµ ¢   À         Ê5ž   B Åµ 	¶ ½µ 	¶ ¢   í         Ê5ž   B ¶ @¶ ¶ @¶ ¢   <         Ê5ž   B K¶ u¶ C¶ u¶ ¢   s         Ê5ž   B €¶ · x¶ · ¢   ¨  0          b    c   B  Ù¶ · Ñ¶ · ¢            Ê5žÊ5ž   B · ­· · ­· ¢   G  0          b    c   B  u· §· m· §· ¢            Ê5žÊ5ž   B ¸· ×¹ °· ×¹ ¢   à  @          b    d    f   B µ¸ Ÿ¹ ­¸ Ÿ¹ ¢   Ý           B  ß¸ €¹ ×¸ €¹ ¢              B  þ¸ Z¹ ö¸ Z¹ ¢   &           B  ¹ &¹ ¹ &¹ ¢   @         Ê5ž   B  I¹ X¹ A¹ X¹ ¢   q         Ê5žÊ5ž   B i¹ ~¹ a¹ ~¹ ¢   ‘         Ê5žÊ5ž   B  ‰¹ ¹ ¹ ¹ ¢   ±         Ê5žÊ5ž   B ®¹ Ò¹ ¦¹ Ò¹ ¢   Ö         Ê5žÊ5ž   B â¹ º Ú¹ º ¢   
         Ê5ž   B º 8º 	º 8º ¢   9         Ê5ž   B Cº ‹º ;º ‹º ¢   k          Ê5ž   B –º ¼ Žº ¼ ¢   ¾             f   B £» Ö» ›» Ö» ¢   Ë         Ê5ž   B  ù» ¼ ñ» ¼ ¢   !	         Ê5žÊ5ž   B $¼ l¼ ¼ l¼ ¢   L	          Ê5ž   B w¼ Ú½ o¼ Ú½ ¢   Ÿ	             d   B }½ ©½ u½ ©½ ¢   ¥
         Ê5ž   B  º½ Ö½ ²½ Ö½ ¢   â
         Ê5žÊ5ž   B å½  ¿ Ý½  ¿ ¢                b   B q¾ ˆ¾ i¾ ˆ¾ ¢   ™         Ê5ž   B —¾ Â¾ ¾ Â¾ ¢   ¿         Ê5ž   B Ñ¾ ü¾ É¾ ü¾ ¢   ù         Ê5ž   B  ¿ ¿ ¿ ¿ ¢   7         Ê5žÊ5ž   B +¿ W¿ #¿ W¿ ¢   S         Ê5ž   B b¿ ‘¿ Z¿ ‘¿ ¢   Š         Ê5ž   B œ¿ ¯¿ ”¿ ¯¿ ¢   Ä         Ê5ž   B º¿ zÃ ²¿ zÃ ¢   â  €          a    b    c    d    e   B Ù¿ õ¿ Ñ¿ õ¿ ¢            Ê5ž   B 
À À À À ¢   2         Ê5ž   B žÀ ºÀ –À ºÀ ¢   Æ         Ê5ž   B ËÀ çÀ ÃÀ çÀ ¢   ó         Ê5ž   B üÀ ^Á ôÀ ^Á ¢   $         Ê5ž   B ~Á šÁ vÁ šÁ ¢   ¦         Ê5ž   B «Á ÇÁ £Á ÇÁ ¢   Ó         Ê5ž   B ÜÁ >Â ÔÁ >Â ¢            Ê5ž   B aÂ }Â YÂ }Â ¢   ‰         Ê5ž   B ’Â 	Ã ŠÂ 	Ã ¢   º         Ê5ž   B  AÃ IÃ 9Ã IÃ ¢   i         Ê5ž   B  oÃ wÃ gÃ wÃ ¢   —         Ê5žÊ5ž   B Ã ˜Ã ‡Ã ˜Ã ¢   ·         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!%   mod_lti/tool_proxyŽ!«!   mod_lti/eventsŽ!«!   mod_lti/keysŽ!«!   core/str    !«!       B NÄ ŒË FÄ ŒË £   ±   @         a    c    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s    t    u   B ðÄ Å èÄ Å £   S         Ê5ž   B Å CÅ Å CÅ £            Ê5ž   B NÅ qÅ FÅ qÅ £   ±         Ê5ž   B |Å ÀÅ tÅ ÀÅ £   ß         Ê5ž   B ËÅ ÷Å ÃÅ ÷Å £   .         Ê5ž   B Æ ,Æ úÅ ,Æ £   e         Ê5ž   B 7Æ ËÆ /Æ ËÆ £   š  0          b    c   B  Æ ÅÆ ˆÆ ÅÆ £   ó         Ê5žÊ5ž   B ÖÆ dÇ ÎÆ dÇ £   9  0          b    c   B  ,Ç ^Ç $Ç ^Ç £            Ê5žÊ5ž   B oÇ zÉ gÇ zÉ £   Ò  @          b    d    f   B lÈ BÉ dÈ BÉ £   Ï           B  –È #É ŽÈ #É £   ù           B  µÈ ýÈ ­È ýÈ £              B  ÏÈ éÈ ÇÈ éÈ £   2         Ê5žÊ5ž   B É !É É !É £   o         Ê5žÊ5ž   B  ,É @É $É @É £            Ê5žÊ5ž   B QÉ uÉ IÉ uÉ £   ´         Ê5žÊ5ž   B …É ÓÉ }É ÓÉ £   è         Ê5ž   B ÞÉ lË ÖÉ lË £   A  @          a    b    c   B ýÉ Ê õÉ Ê £   `         Ê5ž   B .Ê ¥Ê &Ê ¥Ê £   ‘         Ê5ž   B ÂÊ ÞÊ ºÊ ÞÊ £   %         Ê5ž   B óÊ jË ëÊ jË £   V         Ê5žÊ5ž   B Ë ŠË yË ŠË £   ä         Ê5žÊ5ž!«!       B  ÉË PÌ ÁË PÌ ¤   :            B àË NÌ ØË NÌ ¤   Q          Ê5žÊ5žŽ!«!   	   Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   mod_lti/eventsŽ!«!%   mod_lti/tool_proxyŽ!«!#   mod_lti/tool_typeŽ!«!   mod_lti/keysŽ!«!   core/str    !«!       B	 Í ŠÝ Í ŠÝ ¥   À   €         B    F    s    C    D    L    K    w    o    y    i    m    g    q    a    r    e    l    k    I    M    G    A    E    H    x    v    p    z    t    n    h    u    f    j    d    b    c    J   B  íÎ  Ï åÎ  Ï ¥   š         Ê5ž   B  +Ï ZÏ #Ï ZÏ ¥   Ø         Ê5ž   B  eÏ Ï ]Ï Ï ¥            Ê5ž   B  ¨Ï ØÏ  Ï ØÏ ¥   U         Ê5ž   B  ãÏ Ð ÛÏ Ð ¥            Ê5ž   B  'Ð BÐ Ð BÐ ¥   Ô         Ê5ž   B  MÐ kÐ EÐ kÐ ¥   ú         Ê5ž   B  vÐ ‘Ð nÐ ‘Ð ¥   #         Ê5ž   B  œÐ ºÐ ”Ð ºÐ ¥   I         Ê5ž   B  ÅÐ ßÐ ½Ð ßÐ ¥   r         Ê5ž   B  êÐ Ñ âÐ Ñ ¥   —         Ê5ž   B  Ñ ,Ñ 
Ñ ,Ñ ¥   ¿         Ê5ž   B  7Ñ TÑ /Ñ TÑ ¥   ä         Ê5ž   B _Ñ ŒÑ WÑ ŒÑ ¥            Ê5ž   B  —Ñ ÈÑ Ñ ÈÑ ¥   D         Ê5ž   B  ÓÑ Ò ËÑ Ò ¥   €         Ê5ž   B  Ò Ò Ò Ò ¥   »         Ê5ž   B  (Ò _Ò  Ò _Ò ¥   Õ         Ê5ž   B  jÒ ¢Ò bÒ ¢Ò ¥            Ê5ž   B  ­Ò åÒ ¥Ò åÒ ¥   Z         Ê5ž   B ðÒ WÓ èÒ WÓ ¥            Ê5ž   B  bÓ ÛÔ ZÓ ÛÔ ¥     0          b   B  ªÓ ¹Ó ¢Ó ¹Ó ¥   W         Ê5ž   B ÈÓ ØÓ ÀÓ ØÓ ¥   u         Ê5ž   B  Ô Ô ùÓ Ô ¥   ®         Ê5ž   B Ô ×Ô Ô ×Ô ¥   È           B uÔ ÃÔ mÔ ÃÔ ¥   "         Ê5žÊ5žÊ5ž   B æÔ šÕ ÞÔ šÕ ¥   “           B 9Õ „Õ 1Õ „Õ ¥   æ         Ê5žÊ5ž   B ¥Õ çÕ Õ çÕ ¥   R	         Ê5ž   B òÕ Œ× êÕ Œ× ¥   Ÿ	  0          b    f   B PÖ O× HÖ O× ¥   ý	             g   B  ÔÖ × ÌÖ × ¥   
           B  ïÖ × çÖ × ¥   œ
         Ê5žÊ5ž   B  4× M× ,× M× ¥   á
         Ê5žÊ5ž   B  o× v× g× v× ¥            Ê5žÊ5ž   B —× xØ × xØ ¥   D             c   B á× ó× Ù× ó× ¥   Ž         Ê5ž   B Ø hØ ú× hØ ¥   ¯         Ê5žÊ5ž   B ƒØ ýØ {Ø ýØ ¥   0             c   B ¸Ø ìØ °Ø ìØ ¥   e           B  ÎØ ÝØ ÆØ ÝØ ¥   {         Ê5žÊ5žÊ5ž   B  Ù dÙ  Ù dÙ ¥   µ         Ê5ž   B  oÙ lÝ gÙ lÝ ¥              B §Ù ÚÙ ŸÙ ÚÙ ¥   T         Ê5ž   B öÙ Ú îÙ Ú ¥   £         Ê5ž   B &Ú —Ú Ú —Ú ¥   Ó         Ê5ž   B ÌÚ kÝ ÄÚ kÝ ¥   y  P          d    f   B YÛ iÛ QÛ iÛ ¥            Ê5ž   B  ŒÛ çÛ „Û çÛ ¥   9         Ê5ž   B /Ü ¦Ü 'Ü ¦Ü ¥   Ü            B  xÜ ‡Ü pÜ ‡Ü ¥   %         Ê5žÊ5ž   B  µÜ ÄÜ ­Ü ÄÜ ¥   b         Ê5ž   B  øÜ BÝ ðÜ BÝ ¥   ¥           B  Ý @Ý Ý @Ý ¥   »         Ê5žÊ5žÊ5žÊ5ž   B  Ý ˆÝ yÝ ˆÝ ¥   .         Ê5žÊ5ž!«!       B  ±Ý xß ©Ý xß ¦   $          Ê5ž!«!       B  ß ºß •ß ºß §   "          Ê5žŽ!«!      Ž!«!   core/ajaxŽ!«!#   core/notification    !«!       B à Äâ ûß Äâ ¨   F   0          a    b   B à ‡à à ‡à ¨   a          Ê5ž   B —à êà à êà ¨   Ú          Ê5ž   B úà aá òà aá ¨   =         Ê5ž   B sá ßá ká ßá ¨   ¶         Ê5ž   B ûá "â óá "â ¨   >         Ê5ž   B 7â Œâ /â Œâ ¨   z         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!#   mod_lti/tool_typeŽ!«!   mod_lti/eventsŽ!«!   mod_lti/keysŽ!«!   core/str    !«!       B gã ê _ã ê ©                 a    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r   B  —ä Óä ä Óä ©   Ð         Ê5ž   B  Þä å Öä å ©            Ê5ž   B  å =å å =å ©   L         Ê5ž   B  Hå jå @å jå ©            Ê5ž   B  uå ˜å må ˜å ©   ®         Ê5ž   B  £å ¾å ›å ¾å ©   Ü         Ê5ž   B  Éå çå Áå çå ©            Ê5ž   B  òå æ êå æ ©   +         Ê5ž   B  æ ²è æ ²è ©   X           B  ¥æ ”ç æ ”ç ©   Þ           B ëæ €ç ãæ €ç ©   $         Ê5žÊ5ž   B  £ç –è ›ç –è ©   Ü           B äç ‚è Üç ‚è ©            Ê5žÊ5ž   B  §è ®è Ÿè ®è ©   à         Ê5žÊ5ž   B  ½è ýé µè ýé ©   ö             c   B îè 	é æè 	é ©   '         Ê5ž   B %é oé é oé ©   ^         Ê5ž   B „é ûé |é ûé ©   ½         Ê5žÊ5ž   B  ê ê 
ê ê ©   K         Ê5žÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!#   core/notification    !«!       B eê Ðë ]ê Ðë ª   G   0          a    b   B €ê ëê xê ëê ª   b          Ê5ž   B ýê jë õê jë ª   ß          Ê5ž   B zë Îë rë Îë ª   \         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/templatesŽ!«!%   mod_lti/form-fieldŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B rì ñ jì ñ «   Ÿ              a    b    c    d    f    g    h    i    k   B šì ðí ’ì ðí «   Ç              l   B ?í ní 7í ní «   l         Ê5ž   B }í Øí uí Øí «   ª             a   B  ¥í Íí í Íí «   Ò         Ê5žÊ5žÊ5ž   B šð ñ ’ð ñ «   Ç          Ê5žÊ5žŽ!«!   	   Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   mod_lti/eventsŽ!«!   mod_lti/keysŽ!«!#   mod_lti/tool_typeŽ!«!%   mod_lti/tool_proxyŽ!«!   core/str    !«!       B	 áñ èü Ùñ èü ¬   Ä   à         B    s    C    D    w    o    y    i    m    g    q    a    r    e    l    k    A    E    x    v    p    z    t    n    h    u    j    d    c   B  Þó  ô Öó  ô ¬   Á         Ê5ž   B  ô .ô ô .ô ¬   î         Ê5ž   B  9ô hô 1ô hô ¬            Ê5ž   B  sô £ô kô £ô ¬   V         Ê5ž   B  ®ô Ûô ¦ô Ûô ¬   ‘         Ê5ž   B  æô õ Þô õ ¬   É         Ê5ž   B  õ )õ õ )õ ¬   ò         Ê5ž   B  4õ Nõ ,õ Nõ ¬            Ê5ž   B  Yõ sõ Qõ sõ ¬   <         Ê5ž   B  ~õ ªõ võ ªõ ¬   a         Ê5ž   B µõ 'ö ­õ 'ö ¬   ˜         Ê5ž   B  2ö ^ö *ö ^ö ¬            Ê5ž   B iö —ö aö —ö ¬   L         Ê5ž   B  ¢ö ¼ö šö ¼ö ¬   …         Ê5ž   B  Çö äö ¿ö äö ¬   ª         Ê5ž   B ïö A÷ çö A÷ ¬   Ò         Ê5ž   B L÷ f÷ D÷ f÷ ¬   /         Ê5ž   B q÷ Ž÷ i÷ Ž÷ ¬   T         Ê5ž   B  ™÷ Ãø ‘÷ Ãø ¬   |  0          b    e   B ô÷ …ø ì÷ …ø ¬   ×           B 9ø tø 1ø tø ¬            Ê5žÊ5ž   B  ¹ø Áø ±ø Áø ¬   œ         Ê5žÊ5ž   B  Îø ¢ú Æø ¢ú ¬   ±  0          b    d   B  Iù Qù Aù Qù ¬   ,         Ê5ž   B bù ýù Zù ýù ¬   E         Ê5ž   B  ú žú ú žú ¬   ñ           B Dú Šú <ú Šú ¬   '	         Ê5žÊ5žÊ5ž   B  ­ú Æü ¥ú Æü ¬   	           B  ×ú Þú Ïú Þú ¬   º	         Ê5ž   B  û 6û û 6û ¬   ø	         Ê5ž   B  lû wû dû wû ¬   O
         Ê5ž   B ¯û ºû §û ºû ¬   ’
         Ê5ž   B  ñû Aü éû Aü ¬   Ô
         Ê5ž   B rü }ü jü }ü ¬   U         Ê5ž   B ©ü Äü ¡ü Äü ¬   Œ         Ê5žÊ5ž   B  Ûü æü Óü æü ¬   ¾         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B #ý ¸ý ý ¸ý ­   8              a   B ;ý ¶ý 3ý ¶ý ­   P              b   B  Wý ´ý Oý ´ý ­   l          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ëý ¨  ãý ¨  ®   0   0          a    b   B ýý }þ õý }þ ®   B          Ê5ž   B Õþ ¥  Íþ ¥  ®     B       Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B Ú  Y Ò  Y ¯   /   0   
       a    b   B  ·  · ¯   n         Ê5ž   B  Ê ç Â ç ¯              B  ° å ¨ å ¯            Ê5žÊ5ž   B  û  ó  ¯   P           B  Þ  Ö  ¯   3         Ê5žÊ5ž   B ,  $  ¯            Ê5ž   B  ©  ¡  ¯   þ           B  Ì  Ä  ¯   !         Ê5žÊ5ž   B  6 l . l ¯   ‹  "       Ê5ž   B € 	 x 	 ¯   Õ         Ê5ž   B 	 ›	 	 ›	 ¯   m         Ê5ž   B  ´	 £
 ¬	 £
 ¯   		  0          c    d   B  ã	 

 Û	 

 ¯   8	         Ê5žÊ5ž   B Ç
 W ¿
 W ¯   
         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!K   mod_quiz/random_question_form_preview    !«!       B º Ý ² Ý °   ^   Ð   	       a    b    c    d    e    f    g    h    i    j    k    l   B ¬ Ý ¤ Ý °   P         Ê5ž   B è  à  °   Œ         Ê5ž   B  E  E °   Á         Ê5ž   B P ˜ H ˜ °   ô         Ê5ž   B £  ›  °   G           B ç 
 ß 
 °   ‹         Ê5žÊ5ž   B  `  ` °   »         Ê5ž   B k   c   °            Ê5ž   B  ™  ™ °   ¯  P          d    e    f    g   B 4 — , — °   Ø           B  † ’ ~ ’ °   *         Ê5žÊ5žÊ5ž   B ¤ Í œ Í °   H         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!5   core/paged_content_factory    !«!       B | 	 t 	 ±   œ   ð          a    b    c    d    e    f    g    h    i    j    k    l    m    n   B ž Ù – Ù ±   ¾         Ê5ž   B ä  Ü  ±            Ê5ž   B ' ²  ² ±   G             a   B o ž g ž ±            Ê5žÊ5ž   B ½ s µ s ±   Ý         Ê5ž   B ~ w v w ±   ž  `          a    b    c    i    k   B ° u ¨ u ±   Ð           B É s Á s ±   é           B ( _   _ ±   H         Ê5žÊ5žÊ5žÊ5ž   B ‚ Ó z Ó ±   ¢  `          b    c    f    h    o   B ¶ Ý ® Ý ±   Ö         Ê5ž   B ì L ä L ±            Ê5ž   B [ ¦ S ¦ ±   {         Ê5ž   B  · ¿ ¯ ¿ ±   ×         Ê5žÊ5žÊ5žŽ!«!      Ž!«!I   mod_quiz/add_question_modal_launcherŽ!«!E   mod_quiz/modal_add_random_question    !«!       B ‰ *  * ²   }   0          a    b   B £ ( › ( ²   —   @          d    e    f   B ð & è & ²   ä          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/yuiŽ!«!#   core/notificationŽ!«!   core/modalŽ!«!#   core/modal_eventsŽ!«!'   core/modal_registryŽ!«!   core/fragment    !«!       B Ò ! Ê ! ³   ¥   €          a    b    c    d    e    g    i   B  Ú • Ú ³   p         Ê5ž   B i ~ a ~ ³   <         Ê5ž   B    ¹ ˜ ¹ ³   s         Ê5ž   B Ý ô Õ ô ³   °         Ê5ž   B   3  3 ³   ë         Ê5ž   B  M ¢ E ¢ ³             Ê5ž   B É I Á I ³   œ         Ê5ž   B s Ã k Ã ³   F         Ê5ž   B ô ð ì ð ³   Ç         Ê5ž   B " ¨  ¨ ³   õ         Ê5ž   B  Ü æ Ô æ ³   ¯           B  m  m ³   è         Ê5ž   B ° Ù ¨ Ù ³   ƒ         Ê5žÊ5ž   B   `! 
 `! ³   å           B • À   À  ³   h         Ê5ž   B  ö  ^! î  ^! ³   É	           B  '! \! ! \! ³   ú	         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!%   core/modal_factory    !«!       B ý! ÿ" õ! ÿ" ´   k   @          a    b    c   B " ý" " ý" ´   ‡   0          f    g   B l" â" d" â" ´   Ú          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/yui    !«!       B B#  ' :#  ' µ   @   0          b    c   B q# 3% i# 3% µ   o   `          a    d    e    f    g   B  ¬# 1% ¤# 1% µ   ª          Ê5žÊ5ž   B L% u% D% u% µ   J         Ê5ž   B ‹% µ% ƒ% µ% µ   ‰         Ê5ž   B Î% õ& Æ% õ& µ   Ì  0          a    c   B  & ó& & ó& µ            Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/yuiŽ!«!#   core/notificationŽ!«!   core/modalŽ!«!#   core/modal_eventsŽ!«!'   core/modal_registryŽ!«!   core/fragmentŽ!«!   core/templates    !«!       B º' 93 ²' 93 ¶   ·   €          a    b    c    d    g    h    j   B Ë) Q* Ã) Q* ¶   È         Ê5ž   B æ* û* Þ* û* ¶   ã         Ê5ž   B  + 6+ + 6+ ¶            Ê5ž   B Z+ ¨+ R+ ¨+ ¶   W         Ê5ž   B  Ì+ ç+ Ä+ ç+ ¶   É         Ê5ž   B , ,  , , ¶            Ê5ž   B  =, U, 5, U, ¶   :         Ê5ž   B w, Œ, o, Œ, ¶   t         Ê5ž   B  ®, Ç, ¦, Ç, ¶   «         Ê5ž   B ä, ô, Ü, ô, ¶   á         Ê5ž   B  - %- 	- %- ¶            Ê5ž   B Q- 6. I- 6. ¶   N         Ê5ž   B b. ¾. Z. ¾. ¶   _         Ê5ž   B ê. †/ â. †/ ¶   ç         Ê5ž   B  ¤/ ƒ2 œ/ ƒ2 ¶   ¡           B p0 í1 h0 í1 ¶   m	         Ê5ž   B  2 o2 ÿ1 o2 ¶              B  82 m2 02 m2 ¶   5         Ê5žÊ5žÊ5ž   B  2 ò2 •2 ò2 ¶   š         Ê5žÊ5žŽ!«!      Ž!«!I   mod_quiz/add_question_modal_launcherŽ!«!C   mod_quiz/modal_quiz_question_bank    !«!       B µ3 4 ­3 4 ·   y   0          a    b   B Ï3 	4 Ç3 	4 ·   “          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/notification    !«!       B u4  6 m4  6 ¸   g   P          a    b    c    d   B ¡4 6 ™4 6 ¸   “   0          f    g   B 5 Z5 5 Z5 ¸            Ê5ž   B Ž5 6 †5 6 ¸   €           B 6 6 ú5 6 ¸   ô         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B Z6 i7 R6 i7 ¹   7   0          a    b      b h6 Ç6 ^6 Ç6 ¹   E              c   B  ”6 ¹6 Œ6 ¹6 ¹   q          Ê5žÊ5ž   B  Û6 g7 Ó6 g7 ¹   ¸   0          c    d   B  X7 e7 P7 e7 ¹   5         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ž7 ½; –7 ½; º   2   `          a    b    c    d    e      b ¬7 ‚8 ¢7 ‚8 º   @          Ê5ž      c Œ8 å8 ‚8 å8 º             Ê5ž      d  ï8 n9 å8 n9 º   ƒ         Ê5ž   B  ú9 »; ò9 »; º   Ž         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!   core/str    !«!       B /< Õ? '< Õ? »   o   `          a    b    c    d    e   B a< Ç< Y< Ç< »   ¡              d   B –< À< Ž< À< »   Ö          Ê5žÊ5ž   B Ú< Ó? Ò< Ó? »     0          h    l   B > É? > É? »   U  @          b    f    g   B K> ? C> ? »   ‹  @          d    e    g   B o> º> g> º> »   ¯         Ê5žÊ5ž   B  ;? ~? 3? ~? »   {  !          c   B _? w? W? w? »   Ÿ         Ê5žÊ5ž   B ¾? Ç? ¶? Ç? »   þ         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   core/templatesŽ!«!   jqueryŽ!«!   core/strŽ!«!   core/configŽ!«!#   core/notificationŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/fragment    !«!       B ˆ@ ïG €@ ïG ¼   °   °          a    b    c    d    e    f    g    h    i    j   B ZA ŠA RA ŠA ¼   ‚         Ê5ž   B  ÞA nD ÖA nD ¼              B °B OD ¨B OD ¼   Ø  2          a    c   B  C C wC C ¼   §         Ê5ž   B  ±C BD ©C BD ¼   Ù           B ØC !D ÐC !D ¼             Ê5žÊ5žÊ5žÊ5ž   B ŽD ÐD †D ÐD ¼   ¶         Ê5ž   B ôD üF ìD üF ¼              B  cE wE [E wE ¼   ‹         Ê5ž   B !F èF F èF ¼   I         Ê5žÊ5ž   B  G yG G yG ¼   A         Ê5ž   B  ˜G ÑG G ÑG ¼   À         Ê5ž   B àG íG ØG íG ¼            Ê5žÊ5ž!«!       C                                              €  .H µH &H µH ½   <              [    =    ]   =   ]   ™?•Ê=Ê? S   notification-area-events:showNotification!   showNotificationU   notification-area-events:notificationShown#   notificationShownŒ!«!ÿÿÿÿ              «+’HŽ!«!       Ž!«!!   showNotification‹!«!Ž!«!#   notificationShown‹!«!    š˜;ø      Ê5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!K   message_popup/notification_repositoryŽ!«!M   message_popup/notification_area_events    !«!       B ™I ÞZ ‘I ÞZ ¾   á   €          a    b    d    e    f    g    h   B åJ åK ÝJ åK ¾   -         Ê5ž   B  	L L L L ¾   Q         Ê5ž   B  ?L XL 7L XL ¾   ‡         Ê5ž   B  wL L oL L ¾   ¿         Ê5ž   B  ­L ÄL ¥L ÄL ¾   õ         Ê5ž   B  ãL ùL ÛL ùL ¾   +         Ê5ž   B  M ,M M ,M ¾   _         Ê5ž   B KM ]M CM ]M ¾   “         Ê5ž   B {M ŒM sM ŒM ¾   Ã         Ê5ž   B  ±M ÌM ©M ÌM ¾   ù         Ê5ž   B  îM &N æM &N ¾   6         Ê5ž   B  GN ‚N ?N ‚N ¾            Ê5ž   B  ªN ÅN ¢N ÅN ¾   ò         Ê5ž   B  îN O æN O ¾   6         Ê5ž   B 0O EO (O EO ¾   x         Ê5ž   B oO ŽO gO ŽO ¾   ·         Ê5ž   B ¸O ÙO °O ÙO ¾             Ê5ž   B P aP ýO aP ¾   M         Ê5ž   B ‘P Q ‰P Q ¾   Ù  "       Ê5ž   B EQ ¡R =Q ¡R ¾     "       Ê5ž   B ÍR "S ÅR "S ¾   
             a   B  S  S ýR  S ¾   M
         Ê5žÊ5ž   B KS ¶T CS ¶T ¾   “
  2          d    e   B „S =T |S =T ¾   Ì
  2          c    e   B ßS &T ×S &T ¾   '         Ê5žÊ5ž   B  iT ´T aT ´T ¾   ±           B …T ²T }T ²T ¾   Í         Ê5žÊ5žÊ5ž   B  áT W ÙT W ¾   )           B úU ÍV òU ÍV ¾   B         Ê5ž   B  éV ÿV áV ÿV ¾   1         Ê5žÊ5ž   B  AW ÛZ 9W ÛZ ¾   ‰           B  åW X ÝW X ¾   -         Ê5ž   B MX ”X EX ”X ¾   •         Ê5ž   B ÖX GY ÎX GY ¾            Ê5ž   B ‹Y üY ƒY üY ¾   Ó         Ê5ž   B <Z ÎZ 4Z ÎZ ¾   „  "       Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!K   message_popup/notification_repositoryŽ!«!M   message_popup/notification_area_events    !«!       B Â[ ”c º[ ”c ¿   á   p          a    b    d    f    g    h   B Y] 9^ Q] 9^ ¿   x         Ê5ž   B  ]^ q^ U^ q^ ¿   |         Ê5ž   B  “^ ¬^ ‹^ ¬^ ¿   ²         Ê5ž   B  Ë^ á^ Ã^ á^ ¿   ê         Ê5ž   B   _ _ ø^ _ ¿            Ê5ž   B  6_ M_ ._ M_ ¿   U         Ê5ž   B  l_ ‚_ d_ ‚_ ¿   ‹         Ê5ž   B  œ_ Ñ_ ”_ Ñ_ ¿   »         Ê5ž   B  ë_ #` ã_ #` ¿   
         Ê5ž   B F` k` >` k` ¿   e         Ê5ž   B ` µ` ‡` µ` ¿   ®         Ê5ž   B Ø` ý` Ð` ý` ¿   ÷         Ê5ž   B #a b a b ¿   B  "          c   B Oa ia Ga ia ¿   n         Ê5ž   B ›a ¶a “a ¶a ¿   º         Ê5ž   B ça b ßa b ¿            Ê5ž   B  0b tb (b tb ¿   O         Ê5žÊ5ž   B  ­b ‘c ¥b ‘c ¿   Ì           B  c &c c &c ¿   6         Ê5ž   B ec „c ]c „c ¿   „         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!#   core/notification    !«!       C  S          )                                   ñc Äf éc Äf À                 ‚    W   Q‚   W  Q‚   W  Q‚   W  Q[   V   ]    V  ]   V  ]   V  ]   ™dÊ€  ÔÊ€  ‹Ê€  …Ê€  ª•ÉÉÉÉ    query   countUnread   markAllAsRead   markAsReadŒ!«!ÿÿÿÿ      a   b   c   d   e   f      «+’H!«!          cB d Îd ýc Îd À   n          Ê5ž!«!          dB Ùd Ye Ñd Ye À   B         Ê5ž!«!          eB de Þe \e Þe À   Í         Ê5ž!«!          fB ée ˆf áe ˆf À   R         Ê5žŽ!«!       Ž!«!   query‹!«!Ž!«!   countUnread‹!«!Ž!«!   markAllAsRead‹!«!Ž!«!   markAsRead‹!«!    š˜;øÊ5žŽ!«!   
   Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!   core/strŽ!«!   core/urlŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!=   core/popover_region_controllerŽ!«!K   message_popup/notification_repositoryŽ!«!M   message_popup/notification_area_events    !«!       C 
 ¯          o                            
      ìg '{ äg '{ Á                 [    =    ]   =   ]   =   ]   =   ]   =   ]	   =
   ]   =   ]   ‰ 
  Q‚   W   QV   š   ¸   
ˆ   5   : 6   QV   5   V   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚	   6   QV   5   ‚
   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   5   ‚   6   QV   ™€ ?•Ê5Ê@ÊCÊQÊ6Ê.Ð3Ê€ RÚÉÓÔ€ ÌÔ9Ô5Ô@ÔCÔBÔ>Ô€  «Ô]Ô€  ƒÔ€ qÔ€ 3Ô€ 9Ô€ =” ;   [data-action="mark-all-read"])   MARK_ALL_READ_BUTTONC   [data-region="all-notifications"]7   ALL_NOTIFICATIONS_CONTAINERg   [data-region="notification-content-item-container"]   NOTIFICATIONu   [data-region="notification-content-item-container"].unread'   UNREAD_NOTIFICATIONC   [data-action="content-item-link"]#   NOTIFICATION_LINK;   [data-region="empty-message"]   EMPTY_MESSAGE?   [data-region="count-container"]   COUNT_CONTAINER   prototype   Object   create   constructor+   updateButtonAriaLabel   getContent   getOffset   incrementOffset%   hasDoneInitialLoad'   hasLoadedAllContent'   setLoadedAllContent#   renderUnreadCount   hideUnreadCount-   getNotificationElement'   renderNotifications+   loadMoreNotifications   markAllAsRead-   registerEventListenersŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l 
 
    «+’HŽ!«!       Ž!«!)   MARK_ALL_READ_BUTTON‹!«!Ž!«!7   ALL_NOTIFICATIONS_CONTAINER‹!«!Ž!«!   NOTIFICATION‹!«!Ž!«!'   UNREAD_NOTIFICATION‹!«!Ž!«!#   NOTIFICATION_LINK‹!«!Ž!«!   EMPTY_MESSAGE‹!«!Ž!«!   COUNT_CONTAINER‹!«!    !«!          lC ÷         0                                € ³i új «i új Á   ì            ¹W   Qˆ   ¸    
V   T  l QV   V   5   ¸   
ˆ 
  5   : 6   QV   >6   QV   V   5   ¸   
=   : 6   QV   V   5   ¸   
ˆ 
  5
   : 6	   QV   ×6   QV   >6   QV   B6   QV   B6   QV   V   5   ¸   
ˆ 
  5   : ¸   
:  6   Q™–€ ð×ÞÉ'ËÙÉÞÉ.ÌËËËÞÓ( 	   call#   markAllReadButton	   root	   find)   MARK_ALL_READ_BUTTON   unreadCount   userId	   attr   data-userid   container7   ALL_NOTIFICATIONS_CONTAINER   limit   offset   loadedAll   initialLoad   COUNT_CONTAINER	   htmlŒ!«!ÿÿÿÿ      a   .this       «+’Hš˜;ø       Ê5ž!«!       C   l.prototype.updateButtonAriaLabelb  mk m ek m Á   ¦           B Àk ék ¸k ék Á   ù         Ê5ž   B _l ˆl Wl ˆl Á   ˜         Ê5ž   B Øl m Ðl m Á            Ê5žÊ5ž!«!       -   l.prototype.getContentb  .m Gm &m Gm Á   g         Ê5ž!«!       +   l.prototype.getOffsetb  fm |m ^m |m Á   Ÿ         Ê5ž!«!       7   l.prototype.incrementOffsetb  ¡m ¼m ™m ¼m Á   Ú         Ê5ž!«!       =   l.prototype.hasDoneInitialLoadb  äm ÿm Üm ÿm Á            Ê5ž!«!       ?   l.prototype.hasLoadedAllContentb  (n An  n An Á   a         Ê5ž!«!       ?   l.prototype.setLoadedAllContentb jn n bn n Á   £         Ê5ž!«!       ;   l.prototype.renderUnreadCountb  ¦n *o žn *o Á   ß         Ê5ž!«!       7   l.prototype.hideUnreadCountb  Oo ‡o Go ‡o Á   ˆ         Ê5ž!«!       E   l.prototype.getNotificationElementb ³o 
p «o 
p Á   ì         Ê5ž!«!       ?   l.prototype.renderNotificationsb 3p {r +p {r Á   l	  2          d    f   B Zp r Rp r Á   “	           B Üq öq Ôq öq Á            Ê5žÊ5ž   B  .r yr &r yr Á   g           B Jr wr Br wr Á   ƒ         Ê5žÊ5žÊ5ž!«!       C   l.prototype.loadMoreNotificationsb  ¦r ®t žr ®t Á   ß  "          c   B ‚s ot zs ot Á   »         Ê5ž   B  ‹t ¡t ƒt ¡t Á   Ä         Ê5žÊ5ž!«!       3   l.prototype.markAllAsReadb  Ñt çu Ét çu Á   
           B  ;u u 3u u Á   t         Ê5ž   B  ©u Úu ¡u Úu Á   â         Ê5žÊ5ž!«!       E   l.prototype.registerEventListenersc   I        Š                         U       €  v ${ v ${ Á                 ¹W   Qˆ   ¸    
V   5   Z   ˆ   5   5   `    ç QV   5   ¸   
ˆ   5   5   ˆ 
  5   ‚    ¸   
V   : ç QV   5   ¸   
ˆ   5   5   ˆ 
  5   ‚   ¸   
V   : ç QV   5   ¸   
V   ¸   
:  5   ‚   ¸   
V   : ç QV   5   ¸   
V   ¸   
:  5	   ‚   ¸   
V   : ç QV   5   ¸   
V   ¸   
:  5
   ‚   ¸   
V   : ç QV   5   ¸   
V   ¸   
:  5   ‚   ¸   
V   : ç QV   ¸   
:  ¸   
ˆ   5   5   ‚   ¸   
V   : ç Qˆ   ¸    
V   ¸   
:  Z   ˆ   5   5   `    ç Qˆ   š   : ¸   
ˆ 	  5   ‚   ¸   
V   : ç Q™–€ OÚÔÿÿÿì”(ù6“ÿÿÿÊ”€  ›ù3“ÿÿÿÍ”€  ÍÛØ“ÿÿÿÚ”€  ªÛØ“ÿÿÿÚ”tÛØ“ÿÿÿØ”kÛØ“ÿÿÿÙ”kô4“ÿÿÿÌ”€  •×	ÈÔÿÿÿÛ”;ï#“ÿÿÿÝ”€  ¹    define	   root   events   activate   on)   MARK_ALL_READ_BUTTON	   bind#   NOTIFICATION_LINK   menuOpened   menuClosed   startLoading   stopLoading'   getContentContainer   scrollBottom   scrollLock   document#   notificationShownŒ!«!ÿÿÿÿ      .this         «+’H!«!       I   l.prototype.registerEventListeners/<c  7                                         € |v Ìv tv Ìv Á   µ            ¹W   QV   ¸    
ç  QT  ¸   
ç  QT 5   ¸   
ç  Q™–€ »ÏÎÓ     markAllAsRead   stopPropagation   originalEvent   preventDefaultŒ!«!ÿÿÿÿ      a   b   .this       «+’Hš˜;ø       Ê5ž!«!       I   l.prototype.registerEventListeners/<c  †                                         € w ™w w ™w Á   M            ¹W  Qˆ   T  5    : ¸   
ˆ 
  5   : W   QV   ¸   
=   : E2   æQV  5   #?…
6   QQV   ¸   
=   : æQT  ¸   
ç  Q™–€ UÎÜ$ÚØÕÎ    target   closest   NOTIFICATION   hasClass   unread   unreadCount   removeClass   stopPropagationŒ!«!ÿÿÿÿ      b   c   .this       «+’Hš˜;ø       Ê5ž!«!       I   l.prototype.registerEventListeners/<c   J                                          € Ôw Cx Ìw Cx Á               ¹W   QV   ¸    
ç  QV   ¸   
ç  QV   ¸   
:  D   æQV   ¸   
:  æQ™–€ ÏÏà•    hideUnreadCount+   updateButtonAriaLabel%   hasDoneInitialLoad+   loadMoreNotificationsŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       I   l.prototype.registerEventListeners/<c   %                                          € ~x ·x vx ·x Á   ·            ¹W   QV   ¸    
ç  QV   ¸   
ç  Q™–€ ºÏÏ #   renderUnreadCount+   updateButtonAriaLabelŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       I   l.prototype.registerEventListeners/<c   *         	                                 € ôx "y ìx "y Á   -            ¹W   QV   ¸    
:  ¸   
=   =   ç Q™–€ 0ã*    getContent	   attr   aria-busy	   trueŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       I   l.prototype.registerEventListeners/<c   *         	                                 € ^y y Vy y Á   —            ¹W   QV   ¸    
:  ¸   
=   =   ç Q™–€ šã+    getContent	   attr   aria-busy   falseŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       I   l.prototype.registerEventListeners/<c   <                                          € Öy "z Îy "z Á               ¹W   QV   5    D*   æQV   ¸   
:  D   æQV   ¸   
:  æQ™–€ ÛÕ•    isLoading'   hasLoadedAllContent+   loadMoreNotificationsŒ!«!ÿÿÿÿ      .this         «+’Hš˜;ø       Ê5ž!«!       I   l.prototype.registerEventListeners/<c  y                                   	      € •z { z { Á   Î            ¹W  QT 5     h   æV  ¸   
T 5   : W   QV   E   æQV   ¸   
=   : æQV  5   #?…
6   QQV  ¸   
ç  Qæ™–€ ×É–ÓÈ"Û•ØÐ 	   read-   getNotificationElement   id   removeClass   unread   unreadCount#   renderUnreadCountŒ!«!ÿÿÿÿ      a   b   c   .this       «+’Hš˜;ø"       Ê5žš˜;øÊ5žš˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!+   block_myoverview/viewŽ!«!3   block_myoverview/view_nav    !«!       B ‘{ Ö{ ‰{ Ö{ Â   g   @          a    b    c   B §{ Æ{ Ÿ{ Æ{ Â   }          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!7   block_myoverview/repositoryŽ!«!+   block_myoverview/viewŽ!«!5   block_myoverview/selectors    !«!       B „| ›€ || ›€ Ã   «             a    b    c    d    e    f    g    h   B } è}  } è} Ã   /         Ê5ž   B ó} p€ ë} p€ Ã                c   B ^~ 6 V~ 6 Ã   …          Ê5ž   B ˆ n€ € n€ Ã   ¯          Ê5žÊ5ž   B {€ ‹€ s€ ‹€ Ã   ¢         Ê5žÊ5ž!«!       B  Î€ @ Æ€ @ Ä   0          Ê5žŽ!«!   
   Ž!«!   jqueryŽ!«!7   block_myoverview/repositoryŽ!«!5   core/paged_content_factoryŽ!«!   core/pubsubŽ!«!=   core/custom_interaction_eventsŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!%   core_course/eventsŽ!«!5   block_myoverview/selectorsŽ!«!3   core/paged_content_events    !«!       B
 S‚ Ð™ K‚ Ð™ Å     p         B    F    s    C    D    L    K    w    o    y    i    m    g    q    a    r    e    l    k    I    G    A    E    H    x    v    p    z    t    n    h    u    f    j    d    b    c    J   B %… ¬… … ¬… Å   â         Ê5ž   B /† •† '† •† Å   ì         Ê5ž   B  † á† ˜† á† Å   ]         Ê5ž   B ì† 9‡ ä† 9‡ Å   ©         Ê5ž   B D‡ h‡ <‡ h‡ Å            Ê5ž   B s‡ &ˆ k‡ &ˆ Å   0         Ê5ž   B 1ˆ äˆ )ˆ äˆ Å   î         Ê5ž   B ïˆ <‰ çˆ <‰ Å   ¬         Ê5ž   B G‰ —‰ ?‰ —‰ Å            Ê5ž   B ¢‰ „Š š‰ „Š Å   _  P          a    b    c    e   B Ó‰ lŠ Ë‰ lŠ Å            Ê5žÊ5ž   B Š r‹ ‡Š r‹ Å   L	  P          a    b    c    e   B ÀŠ Z‹ ¸Š Z‹ Å   }	         Ê5žÊ5ž   B }‹ 0Ž u‹ 0Ž Å   :
  p          b    e    i    q   B Œ 'Œ ý‹ 'Œ Å   Â
         Ê5ž   B qŒ åŒ iŒ åŒ Å   .          Ê5ž   B ³ Ý « Ý Å   p         Ê5ž   B Ž .Ž ÿ .Ž Å   Ä          Ê5žÊ5ž   B ;Ž ) 3Ž ) Å   ø  0          a    c   B ‹Ž  ƒŽ  Å   H           B ¿Ž  ·Ž  Å   |             b   B ÝŽ 	 ÕŽ 	 Å   š         Ê5žÊ5žÊ5žÊ5ž   B 4 G , G Å   ñ         Ê5ž   B R ‹ J ‹ Å            Ê5ž   B – Ø Ž Ø Å   S         Ê5ž   B ã û” Û û” Å      @          b    e    h   B w‘ «‘ o‘ «‘ Å   4         Ê5ž   B ÿ‘ …” ÷‘ …” Å   ¼  0          d    e   B '’ ” ’ ” Å   ä  0          c    g   B Ú’ _” Ò’ _” Å   —          Ê5žÊ5žÊ5ž   B ˜” ã” ” ã” Å   U         Ê5žÊ5ž   B • Á˜ þ” Á˜ Å   Ã             c   B `• Ç• X• Ç• Å            Ê5ž   B – l– ú• l– Å   ¿         Ê5ž   B ž– Å– –– Å– Å   [         Ê5ž   B û– Á— ó– Á— Å   ¸         Ê5ž   B ÷— ¿˜ ï— ¿˜ Å   ´         Ê5žÊ5ž   B Ì˜ ™ Ä˜ ™ Å   ‰         Ê5ž   B '™ ¸™ ™ ¸™ Å   ä             a   B H™ ±™ @™ ±™ Å                d   B o™ ™™ g™ ™™ Å   ,         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!#   core/notification    !«!       B #š Ø› š Ø› Æ   P   0          a    b   B 7š ­š /š ­š Æ   d          Ê5ž   B ¸š › °š › Æ   å          Ê5ž   B › ‚› › ‚› Æ   L         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/configŽ!«!O   block_navigation/ajax_response_renderer    !«!       B Xœ ñ Pœ ñ Ç   }   `          a    c    d    e    f      e lœ ©œ bœ ©œ Ç   ‘          Ê5ž   B êœ ï âœ ï Ç     0          b    g   B Í ë Å ë Ç   ò         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/configŽ!«!O   block_navigation/ajax_response_renderer    !«!       B xž tŸ pž tŸ È   „   `          a    c    d    e    f   B Îž rŸ Æž rŸ È   Ú   0          b    g   B PŸ nŸ HŸ nŸ È   \         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/tree    !«!       C                                               ºŸ {¡ ²Ÿ {¡ É                  [   ‚    ]    ™I•Ê€ ³ 	   initŒ!«!ÿÿÿÿ      a   b       «+’H!«!       	   initC 6                                            ÔŸ y¡ ÌŸ y¡ É                 ˆ  A=    ,  R W   QV   ‚    6   QV   ‚   6   Q™eÏÈ'Ï€  ÁÏ€  ² ;   .block_navigation .block_tree)   finishExpandingGroup   collapseGroupŒ!«!ÿÿÿÿ      a   c      «+’H!«!       7   init/c.finishExpandingGroupb $  Å    Å  É   ­            B  x  Ã  p  Ã  É            Ê5žÊ5ž!«!       )   init/c.collapseGroupb Þ  x¡ Ö  x¡ É   g           B  +¡ v¡ #¡ v¡ É   ´         Ê5žÊ5žš˜;øÊ5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/url    !«!       B ó¡ æ© ë¡ æ© Ê   u   p          a    b    c    d    e    f      e ¢ ¨ ý¡ ¨ Ê   ‰              i   B c¢ ¨ [¢ ¨ Ê   å   `          m    o   B ¥¦ ¹¦ ¦ ¹¦ Ê   '         Ê5ž   B C§ T§ ;§ T§ Ê   Å         Ê5žÊ5žÊ5ž   B µ¨ ä© ­¨ ä© Ê   7          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!#   core/notification    !«!       B [ª ™® Sª ™® Ë   r   À          a    b    c    d    e    f    g    h    i    j    k   B ßª Ø« ×ª Ø« Ë   ö              a   B š« À« ’« À« Ë   ±          Ê5žÊ5ž   B ã« ¬ Û« ¬ Ë   ú         Ê5ž   B ¬ ~¬ ¬ ~¬ Ë   '             b   B &¬ f¬ ¬ f¬ Ë   =         Ê5žÊ5ž   B ‰¬ m­ ¬ m­ Ë      0          b    c   B Á¬ U­ ¹¬ U­ Ë   Ø         Ê5žÊ5ž   B x­ ¤­ p­ ¤­ Ë            Ê5ž   B ¯­ ð­ §­ ð­ Ë   Æ         Ê5ž   B  ® —® ý­ —® Ë              B 7® •® /® •® Ë   N         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!-   core_course/repositoryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/pubsubŽ!«!%   core_course/events    !«!       B =¯ „² 5¯ „² Ì   ¡   Ð          a    b    c    d    e    f    g    h    i    j    k    l   B ê¯ ° â¯ ° Ì   N         Ê5ž   B  ° ñ° ° ñ° Ì   „         Ê5ž   B ü° â± ô° â± Ì   `  @          e    f    k   B _± Ê± W± Ê± Ì   Ã           B †± °± ~± °± Ì   ê         Ê5žÊ5žÊ5ž   B í± N² å± N² Ì   Q  0          a    b   B  ² ² ² ² Ì   x         Ê5ž   B  B² L² :² L² Ì   ¦         Ê5žÊ5ž   B Y² t² Q² t² Ì   ½         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!M   block_recentlyaccesseditems/repositoryŽ!«!   core/templatesŽ!«!#   core/notification    !«!       B ³ —µ ³ —µ Í   Œ             a    b    c    d    e    f    g    h   B ±³ Ð³ ©³ Ð³ Í   *         Ê5ž   B Û³  ´ Ó³  ´ Í   T         Ê5ž   B «´ ‡µ £´ ‡µ Í   $  @          i    j    k   B µ oµ ü´ oµ Í   }           B +µ Uµ #µ Uµ Í   ¤         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   core/ajax    !«!       B áµ œ¶ Ùµ œ¶ Î   G              a   B óµ ‚¶ ëµ ‚¶ Î   Y          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/tree    !«!       C                                               å¶ ¹ Ý¶ ¹ Ï                  [   ‚    ]    ™L•Ê€ ( 	   initŒ!«!ÿÿÿÿ      a   b       «+’H!«!       	   initC ¬          -                                  ÿ¶ ¹ ÷¶ ¹ Ï                 ˆ  A=    ,  R W   QT r   æV   5   ¸   
=   T : W  QV  ¸   
=   : ¸   
:  W  QV  ¸   
=   V  ¸	   
:  =
   ç QæV   ‚    6   QV   ‚   6   Q™jÏË–/ÙÈÐÒÛ$ÊÿÿÿÜ•8Ï€  ÁÏ€  ² 7   .block_settings .block_tree   treeRoot	   find   #   children   a   first   replaceWith'   <span tabindex="0">	   html   </span>)   finishExpandingGroup   collapseGroupŒ!«!ÿÿÿÿ      a   c   d   e   f      «+’H!«!       7   init/d.finishExpandingGroupb Ä· e¸ ¼· e¸ Ï   %           B  ¸ c¸ ¸ c¸ Ï   y         Ê5žÊ5ž!«!       )   init/d.collapseGroupb ~¸ ¹ v¸ ¹ Ï   ß           B  Ë¸ ¹ Ã¸ ¹ Ï   ,         Ê5žÊ5žš˜;øÊ5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!?   block_starredcourses/repositoryŽ!«!   core/pubsubŽ!«!   core/templatesŽ!«!%   core_course/events    !«!       B ¿¹ ´¼ ·¹ ´¼ Ð   ¡   °          a    b    c    d    e    f    g    h    i    j   B hº E» `º E» Ð   J         Ê5ž   B P» ¼ H» ¼ Ð   2  0          a    d   B »» Í» ³» Í» Ð            Ê5ž   B Ü» ¼ Ô» ¼ Ð   ¾         Ê5žÊ5ž   B )¼ „¼ !¼ „¼ Ð                a   B  N¼ V¼ F¼ V¼ Ð   0         Ê5ž   B  z¼ ‚¼ r¼ ‚¼ Ð   \         Ê5žÊ5ž   B ¼ ¤¼ ‡¼ ¤¼ Ð   q         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B ½ ¾½ ½ ¾½ Ñ   ]   0          b    c   B *½ ¡½ "½ ¡½ Ñ   s          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!/   block_timeline/view_navŽ!«!'   block_timeline/view    !«!       B "¾ ¹¾ ¾ ¹¾ Ò   a   P          a    b    c    d   B j¾ ©¾ b¾ ©¾ Ò   ©          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!'   block_timeline/viewŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B H¿ >Ä @¿ >Ä Ó   Œ              a    b    c    d    e    f    g    h    i   B AÀ ÅÀ 9À ÅÀ Ó   …         Ê5ž   B ÐÀ èÂ ÈÀ èÂ Ó     0          d    e   B VÁ æÂ NÁ æÂ Ó   š          Ê5žÊ5ž   B óÂ Ä ëÂ Ä Ó   7             e   B  BÃ PÃ :Ã PÃ Ó   †         Ê5ž   B §Ã Ä ŸÃ Ä Ó   ë         Ê5žÊ5ž   B Ä .Ä Ä .Ä Ó   W         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!3   block_timeline/event_listŽ!«!   core/pubsubŽ!«!3   core/paged_content_events    !«!       B ÉÄ wÈ ÁÄ wÈ Ô   ˆ   °          a    b    c    d    e    f    g    h    i    j   B /Å ¸Å 'Å ¸Å Ô   î   0          b    c   B kÅ ™Å cÅ ™Å Ô   *         Ê5žÊ5ž   B ÃÅ Æ »Å Æ Ô   ‚             b   B Æ Æ úÅ Æ Ô   Á         Ê5žÊ5ž   B (Æ ‚Ç  Æ ‚Ç Ô   ç  @          e    j    k   B 6Ç VÇ .Ç VÇ Ô   õ         Ê5ž   B  iÇ €Ç aÇ €Ç Ô   (         Ê5žÊ5ž   B Ç ÇÇ …Ç ÇÇ Ô   L         Ê5ž   B ÒÇ È ÊÇ È Ô   ‘         Ê5ž   B *È WÈ "È WÈ Ô   é         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!3   block_timeline/view_datesŽ!«!7   block_timeline/view_courses    !«!       B åÈ ÕÊ ÝÈ ÕÊ Õ   k   P          a    b    c    d   B eÉ ÊÉ ]É ÊÉ Õ   ë          Ê5ž   B ÕÉ 5Ê ÍÉ 5Ê Õ   [         Ê5ž   B @Ê µÊ 8Ê µÊ Õ   Æ         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/strŽ!«!   core/templatesŽ!«!3   block_timeline/event_listŽ!«!-   core_course/repositoryŽ!«!S   block_timeline/calendar_events_repository    !«!       B ÃË ûÜ »Ë ûÜ Ö   ë             Q    B    F    s    C    D    L    K    w    o    y    i    m    g    q    a    r    e    l    k    I    M    G    A    E    H    x    v    p    z    t    n    h    u    f    j    d    b    c    J    N   B 0Î rÎ (Î rÎ Ö   X         Ê5ž   B }Î ¼Î uÎ ¼Î Ö   ¥         Ê5ž   B ÇÎ 	Ï ¿Î 	Ï Ö   ï         Ê5ž   B Ï µÏ Ï µÏ Ö   <             b   B {Ï ”Ï sÏ ”Ï Ö   £         Ê5ž   B  §Ï ³Ï ŸÏ ³Ï Ö   Ï         Ê5žÊ5ž   B ÀÏ Ð ¸Ï Ð Ö   è         Ê5ž   B )Ð fÐ !Ð fÐ Ö   Q         Ê5ž   B qÐ ±Ð iÐ ±Ð Ö   ™         Ê5ž   B ¼Ð òÐ ´Ð òÐ Ö   ä         Ê5ž   B ýÐ +Ñ õÐ +Ñ Ö   %         Ê5ž   B 6Ñ TÑ .Ñ TÑ Ö   ^         Ê5ž   B _Ñ ŒÑ WÑ ŒÑ Ö   ‡         Ê5ž   B —Ñ ÊÑ Ñ ÊÑ Ö   ¿         Ê5ž   B ÕÑ  Ò ÍÑ  Ò Ö   ý         Ê5ž   B +Ò [Ò #Ò [Ò Ö   S         Ê5ž   B fÒ ‰Ò ^Ò ‰Ò Ö   Ž         Ê5ž   B ”Ò ÂÒ ŒÒ ÂÒ Ö   ¼         Ê5ž   B ÍÒ +Ó ÅÒ +Ó Ö   õ         Ê5ž   B 6Ó `Ó .Ó `Ó Ö   ^         Ê5ž   B kÓ ’Ó cÓ ’Ó Ö   “         Ê5ž   B Ó ±Ó •Ó ±Ó Ö   Å         Ê5ž   B ¼Ó þÓ ´Ó þÓ Ö   ä           B ØÓ èÓ ÐÓ èÓ Ö    	         Ê5žÊ5ž   B 	Ô 8Õ Ô 8Õ Ö   1	  0          a    b   B ÄÔ êÔ ¼Ô êÔ Ö   ì	         Ê5ž   B ùÔ Õ ñÔ Õ Ö   !
         Ê5ž   B  .Õ 6Õ &Õ 6Õ Ö   V
         Ê5žÊ5ž   B CÕ UØ ;Õ UØ Ö   k
             c   B £Õ =Ø ›Õ =Ø Ö   Ë
  0          e    g   B \Ö ;Ø TÖ ;Ø Ö   „             b   B ƒÖ 6Ø {Ö 6Ø Ö   «  @          g    k    n   B #× <× × <× Ö   K         Ê5ž   B ë× Ø ã× Ø Ö            Ê5ž   B  Ø 4Ø Ø 4Ø Ö   G         Ê5žÊ5žÊ5žÊ5žÊ5ž   B `Ø èÚ XØ èÚ Ö   ˆ  @          c    e    j   B  ·Ø àØ ¯Ø àØ Ö   ß         Ê5ž   B Ù ÐÚ Ù ÐÚ Ö   8             b   B 4Ù ËÚ ,Ù ËÚ Ö   \  @          g    j    k   B ÏÙ èÙ ÇÙ èÙ Ö   ÷         Ê5ž   B lÚ —Ú dÚ —Ú Ö   ”         Ê5ž   B  ªÚ ÉÚ ¢Ú ÉÚ Ö   Ò         Ê5žÊ5žÊ5žÊ5ž   B óÚ ìÛ ëÚ ìÛ Ö                a   B LÛ êÛ DÛ êÛ Ö   t           B  iÛ qÛ aÛ qÛ Ö   ‘         Ê5ž   B  „Û ŒÛ |Û ŒÛ Ö   ¬         Ê5žÊ5žÊ5ž   B ÷Û KÜ ïÛ KÜ Ö            Ê5ž   B VÜ Ü NÜ Ü Ö   ~         Ê5ž   B šÜ ÛÜ ’Ü ÛÜ Ö   Â         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!5   core/paged_content_factoryŽ!«!   core/strŽ!«!   core/user_dateŽ!«!S   block_timeline/calendar_events_repository    !«!       B ¿Ý sè ·Ý sè ×   Á   @  	       a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s   B Žß ðß †ß ðß ×            Ê5ž   B ûß ]à óß ]à ×   ý         Ê5ž   B hà ‘à `à ‘à ×   j         Ê5ž   B œà “á ”à “á ×   ž  @          b    c    d   B ×à (á Ïà (á ×   Ù         Ê5ž   B Iá á Aá á ×   K         Ê5žÊ5ž   B žá Ýá –á Ýá ×             Ê5ž   B èá â àá â ×   ê         Ê5ž   B ›â ¿ã “â ¿ã ×     @          b    i    j   B Cã ½ã ;ã ½ã ×   E         Ê5žÊ5ž   B	 Êã æ Âã æ ×   Ì  À          c    f    g    h    i    j    l    m    o    q    s   B hä ®ä `ä ®ä ×   j         Ê5ž   B  ½ä æ µä æ ×   ¿           B ãä æ Ûä æ ×   å  0          d    e   B å ³å å ³å ×                c   B Då ‘å <å ‘å ×   F          Ê5žÊ5ž   B  Ôå äå Ìå äå ×   Ö         Ê5ž   B  ÷å æ ïå æ ×   ù         Ê5žÊ5žÊ5žÊ5ž   B æ Oè æ Oè ×   	  P          d    j    k    o   B }ç 7è uç 7è ×   
             b   B Òç è Êç è ×   Ô
         Ê5ž   B  'è 3è è 3è ×   )         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B Ýè ní Õè ní Ø   g   @          b    c    d   B øè Oê ðè Oê Ø   ‚          Ê5ž   B Zê ³ë Rê ³ë Ø   ä         Ê5ž   B ¾ë 6í ¶ë 6í Ø   H         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/event    !«!       C  %                                             °í äï ¨í äï Ù                 ‚    W   Q‚   ‰   Q[   V   ]    ™IÊwË€ ¡•É    setUpŒ!«!ÿÿÿÿ      a   b   c   d   e      «+’H!«!          dC B                                   	      €   Æí 2î ¾í 2î Ù                  T  ‰   Qˆ   @ˆ   =    : ç Qˆ   ¸   
:  ¸   
‚    ç Q™YÉÒ“ÿÿÿù”ßQ 	   body   getLegacyEvents	   doneŒ!«!ÿÿÿÿ      d        «+’H!«!          d/<c  '          	                                €  î 0î ùí 0î Ù                 ˆ   š    : ¸   
T  5   ˆ   ç Q™€  ”æ*    document   on-   FILTER_CONTENT_UPDATEDŒ!«!ÿÿÿÿ      b        «+’Hš˜;ø       Ê5žš˜;øÊ5ž!«!          eC I                                         €   =î Óï 5î Óï Ù                 =    W   QT ¸   
V   : ¸   
V   : ¸   
=   : ¸   
‚    ç Q™€  ÖÊþ€ r )   .mediaplugin_videojs	   find   addBack   audio, video	   eachŒ!«!ÿÿÿÿ      b   d   e       «+’H!«!          e/<b  —î Ñï î Ñï Ù   &  2          b    d   B ³ï Ïï «ï Ïï Ù   B         Ê5žÊ5žš˜;øÊ5žŽ!«!       Ž!«!   setUp‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   jquery    !«!       B -ð †ñ %ð †ñ Ú   F              a   B ?ð «ð 7ð «ð Ú   X          Ê5ž   B Ôð 5ñ Ìð 5ñ Ú   í          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/ajaxŽ!«!   core/logŽ!«!   core/templatesŽ!«!!   tool_lp/dialogue    !«!       B  ò Kø ò Kø Û   —   €          a    b    c    d    e    f    g   B >ò Øò 6ò Øò Û   µ          Ê5ž   B ó õ ùò õ Û   x           B Öô üô Îô üô Û   M         Ê5žÊ5ž   B Cõ ^ö ;õ ^ö Û   º  "          d   B ¨õ Jö  õ Jö Û     0          a    e   B õõ 6ö íõ 6ö Û   l         Ê5žÊ5žÊ5ž   B  |ö T÷ tö T÷ Û   ó         Ê5ž   B |÷ þ÷ t÷ þ÷ Û   ó  "          c   B ¿÷ ê÷ ·÷ ê÷ Û   6         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ø kü …ø kü Ü   ?   0          a    b   B  ¥ø <ù ø <ù Ü   W          Ê5ž   B Tù iú Lù iú Ü            Ê5ž   B „ú ³û |ú ³û Ü   6         Ê5ž   B  Ôû `ü Ìû `ü Ü   †         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B Ãü –þ »ü –þ Ý   U   @          a    b    c   B ßü ”þ ×ü ”þ Ý   q              d   B 3ý ’þ +ý ’þ Ý   Å   0          h   B  òý }þ êý }þ Ý   „         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/templates    !«!       B `ÿ |	 Xÿ |	 Þ   Ç   à          a    b    c    d    e    f    g    h    i    j    k    l    m   B „ÿ Õÿ |ÿ Õÿ Þ   ë          Ê5ž   B àÿ ð	 Øÿ ð	 Þ   G             a   B  	 { 	  	 { 	 Þ   t         Ê5ž   B Š 	 Ø	 ‚ 	 Ø	 Þ   ñ             d   B 	 ™	 ú 	 ™	 Þ   i         Ê5ž   B ¨	 ø	  	 ø	 Þ            Ê5ž   B 	 À	 ÿ	 À	 Þ   n         Ê5žÊ5žÊ5ž   B û	 ¦	 ó	 ¦	 Þ   b             i   B :	 À	 2	 À	 Þ   ¡         Ê5ž   B Ï	 	 Ç	 	 Þ   6         Ê5ž   B 	 Ž	 	 Ž	 Þ   †             a   B  @	 H	 8	 H	 Þ   §         Ê5ž   B  j	 ƒ	 b	 ƒ	 Þ   Ñ         Ê5žÊ5žÊ5ž   B ±	 l	 ©	 l	 Þ              B î	 	 æ	 	 Þ   U         Ê5ž   B ]	 j	 U	 j	 Þ   Ä         Ê5žÊ5žÊ5žŽ!«!      Ž!«!9   gradereport_gradedist/configŽ!«!   highcharts_min    !«!       B ç	 ö	 ß	 ö	 ß   h          Ê5žŽ!«!      Ž!«!9   gradereport_gradedist/configŽ!«!   highcharts_src    !«!       B a	 p	 Y	 p	 à   h          Ê5ž!«!       B  ¥	 ª	 	 ª	 á   2          Ê5žŽ!«!      Ž!«!   jqueryŽ!«!   core/logŽ!«!   core/str    !«!       B  		 š!	 ø	 š!	 â   S   P          a    b    c    e   B  		 		 		 		 â   i          Ê5ž   B 6		 j	 .		 j	 â   ‰             B ª		 í		 ¢		 í		 â   ý          Ê5ž   B ¬
	 õ
	 ¤
	 õ
	 â   ÿ         Ê5žÊ5ž   B  ˆ	 –	 €	 –	 â   Û  p          d    e    f    g    k    l   B D	 À	 <	 À	 â   —         Ê5ž   B 	 €	 	 €	 â   `         Ê5ž   B è	 [	 à	 [	 â   ;         Ê5ž   B Æ	 <	 ¾	 <	 â            Ê5žÊ5ž   B ´	 !	 ¬	 !	 â     0          b    e   B '	 A	 	 A	 â   z         Ê5ž   B ’	 O	 Š	 O	 â   å         Ê5žÊ5ž   B @	 °	 8	 °	 â   “	  @          a    b    d   B Š	 ®	 ‚	 ®	 â   Ý         Ê5žÊ5ž   B Ú	 —!	 Ò	 —!	 â   -  `          f    g    i    k   B ü	 K	 ô	 K	 â   O         Ê5ž   B e	 ®	 ]	 ®	 â   ¸         Ê5ž   B 		  	 	  	 â   \         Ê5ž   B s	 Š	 k	 Š	 â   Æ         Ê5ž   B ñ	 C	 é	 C	 â   D         Ê5ž   B 	 	 ù	 	 â   T         Ê5ž   B  M	 µ	 E	 µ	 â             Ê5ž   B  ô	 Ž	 ì	 Ž	 â   G         Ê5ž   B  Ð	 g	 È	 g	 â   #         Ê5ž   B  þ	 ô	 ö	 ô	 â   Q         Ê5ž   B  3	 ° 	 +	 ° 	 â   †  B          a    b    e   B  	 ® 	  	 ® 	 â   c         Ê5žÊ5ž   B  	!	 ˆ!	 !	 ˆ!	 â   \         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/yui    !«!       B "	 æ%	 "	 æ%	 ã   o   @          a    b    c   B ."	 ä%	 &"	 ä%	 ã   ‘   `          d    f    g    h    i      h B"	 &%	 8"	 &%	 ã   ¥              i   B   #	 ¬#	 ˜#	 ¬#	 ã            Ê5ž   B ¿#	 Î$	 ·#	 Î$	 ã   "  0          c    e   B  ü#	 U$	 ô#	 U$	 ã   _         Ê5ž   B  $	 Ì$	 …$	 Ì$	 ã   ð         Ê5žÊ5ž   B ð$	 %	 è$	 %	 ã   S         Ê5žÊ5ž      i  0%	 °%	 &%	 °%	 ã   “           B ‘%	 œ%	 ‰%	 œ%	 ã   ô         Ê5žÊ5ž   B Ç%	 â%	 ¿%	 â%	 ã   *         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!   core/logŽ!«!#   core/notificationŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B n&	 \)	 f&	 \)	 ä   …             a    b    c    d    e    f    g    h   B '	 O'	 '	 O'	 ä   %         Ê5ž   B m'	 Z)	 e'	 Z)	 ä   „             j   B ¤'	 X)	 œ'	 X)	 ä   »             k   B ª(	 D)	 ¢(	 D)	 ä   Á           B  )	 7)	 )	 7)	 ä   '         Ê5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/notification    !«!       B È)	 ô*	 À)	 ô*	 å   i   P          a    b    c    d   B ê)	 ò*	 â)	 ò*	 å   ‹   0          f    g   B M*	 Ú*	 E*	 Ú*	 å   î              d   B z*	 ™*	 r*	 ™*	 å            Ê5žÊ5žÊ5žÊ5ž!«!       B  $+	 ',	 +	 ',	 æ   -          Ê5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/fragment    !«!       B È,	 ç3	 À,	 ç3	 ç   ž       
       a    b    c    d    e    f    g    h    i   B -	 ¾-	 -	 ¾-	 ç   ì          Ê5ž   B  .	 /	 .	 /	 ç   õ  "          b   B  O.	 
/	 G.	 
/	 ç   %           B s.	 ë.	 k.	 ë.	 ç   I  "          a   B ¾.	 Þ.	 ¶.	 Þ.	 ç   ”         Ê5žÊ5žÊ5žÊ5ž   B 4/	 Ë/	 ,/	 Ë/	 ç   
         Ê5ž   B ï/	 ë0	 ç/	 ë0	 ç   Å         Ê5ž   B 1	 M1	 1	 M1	 ç   á         Ê5ž   B q1	 ’2	 i1	 ’2	 ç   G  "          b   B *2	 r2	 "2	 r2	 ç             Ê5žÊ5ž   B  ­2	 Ú2	 ¥2	 Ú2	 ç   ƒ         Ê5ž   B  ÷2	 t3	 ï2	 t3	 ç   Í           B  (3	 ]3	  3	 ]3	 ç   þ         Ê5žÊ5ž   B  ™3	 »3	 ‘3	 »3	 ç   o         Ê5ž   B Ñ3	 å3	 É3	 å3	 ç   §         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/templates    !«!       B Ž4	 X<	 †4	 X<	 è   ¤   °          a    b    c    d    e    f    g    h    i    j      h ¨4	 Ð5	 ž4	 Ð5	 è   ¾              f   B 5	 ƒ5	 5	 ƒ5	 è   -         Ê5ž   B ’5	 ¼5	 Š5	 ¼5	 è   ¨         Ê5žÊ5ž   B  36	 L6	 +6	 L6	 è   I         Ê5ž   B  w6	 7<	 o6	 7<	 è              B œ6	 V9	 ”6	 V9	 è   ²  "          h   B g7	 &9	 _7	 &9	 è   }             d   B Å7	 $9	 ½7	 $9	 è   Û             a   B  8	 ï8	 ý7	 ï8	 è              B u8	 Û8	 m8	 Û8	 è   ‹         Ê5žÊ5ž   B  9	  9	 	9	  9	 è   '         Ê5žÊ5žÊ5ž   B 59	 B9	 -9	 B9	 è   K         Ê5žÊ5ž   B w9	 5<	 o9	 5<	 è     2          i    k   B D:	 Þ:	 <:	 Þ:	 è   Z         Ê5ž   B í:	 !<	 å:	 !<	 è                b   B &;	 å;	 ;	 å;	 è   <         Ê5ž   B  <	 <	 ÿ;	 <	 è            Ê5žÊ5žÊ5žÊ5ž   B  F<	 V<	 ><	 V<	 è   \         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B í<	 ˜@	 å<	 ˜@	 é   ’             a    b    c    d    e    f    g    h   B  4=	 M=	 ,=	 M=	 é   Ù          Ê5ž   B  x=	 w@	 p=	 w@	 é              B •=	 u@	 =	 u@	 é   :  "          h   B >	 E@	 w>	 E@	 é   $             j   B ä>	 C@	 Ü>	 C@	 é   ‰             d   B  $?	 @	 ?	 @	 é   É           B „?	 ú?	 |?	 ú?	 é   )         Ê5žÊ5ž   B  0@	 ?@	 (@	 ?@	 é   Õ         Ê5žÊ5žÊ5ž   B T@	 a@	 L@	 a@	 é   ù         Ê5žÊ5žÊ5ž   B  †@	 –@	 ~@	 –@	 é   +         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templates    !«!       B ù@	 ÙB	 ñ@	 ÙB	 ê   ^   @          a    b    c   B A	 tA	 A	 tA	 ê   „              d   B FA	 pA	 >A	 pA	 ê   «          Ê5žÊ5ž   B ‡A	 ×B	 A	 ×B	 ê   ì              f   B îA	 ÍB	 æA	 ÍB	 ê   S  @          b    d    e   B B	 bB	 B	 bB	 ê   |         Ê5ž   B  ˆB	 ËB	 €B	 ËB	 ê   í  !          c   B ¬B	 ÄB	 ¤B	 ÄB	 ê            Ê5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/templates    !«!       B C	 LQ	 wC	 LQ	 ë   £   Ð          a    b    c    d    e    f    g    h    i    j    k    l      h ™C	 ªF	 C	 ªF	 ë   ½   @          h    j    k   B ÇC	 åC	 ¿C	 åC	 ë   ë          Ê5ž   B D	 !D	 ûC	 !D	 ë   '         Ê5ž   B ¦D	 ÆD	 žD	 ÆD	 ë   Ê         Ê5ž   B jE	 ’F	 bE	 ’F	 ë   Ž             b   B  “E	 TF	 ‹E	 TF	 ë   ·         Ê5ž   B  vF	 …F	 nF	 …F	 ë   š         Ê5žÊ5žÊ5ž      i ´F	 G	 ªF	 G	 ë   Ø           B XG	 G	 PG	 G	 ë   |         Ê5žÊ5ž   B  ”H	 ­H	 ŒH	 ­H	 ë   ¸         Ê5ž   B  ØH	 +Q	 ÐH	 +Q	 ë   ü           B I	 ÁJ	 úH	 ÁJ	 ë   &  B          g    i    j   B bJ	 ©J	 ZJ	 ©J	 ë   †         Ê5žÊ5ž   B ìJ	 ÇL	 äJ	 ÇL	 ë     "          g   B WL	 ¯L	 OL	 ¯L	 ë   {	         Ê5žÊ5ž   B óL	 þN	 ëL	 þN	 ë   
  R          g    i    j    k   B —N	 æN	 N	 æN	 ë   »         Ê5žÊ5ž   B ,O	 )Q	 $O	 )Q	 ë   P  R          j    l    n    o   B lP	 Q	 dP	 Q	 ë                a   B  ÁP	 ÒP	 ¹P	 ÒP	 ë   å         Ê5ž   B  ôP	 Q	 ìP	 Q	 ë            Ê5žÊ5žÊ5žÊ5ž   B  :Q	 JQ	 2Q	 JQ	 ë   ^         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B ãQ	 “U	 ÛQ	 “U	 ì   ”             a    b    c    d    e    f    g    h   B  +R	 DR	 #R	 DR	 ì   Ü          Ê5ž   B  oR	 rU	 gR	 rU	 ì               B ŒR	 pU	 „R	 pU	 ì   =  "          h   B xS	 @U	 pS	 @U	 ì   )             j   B ÝS	 >U	 ÕS	 >U	 ì   Ž             d   B  T	 	U	 T	 	U	 ì   Î           B ~T	 õT	 vT	 õT	 ì   /         Ê5žÊ5ž   B  +U	 :U	 #U	 :U	 ì   Ü         Ê5žÊ5žÊ5ž   B OU	 \U	 GU	 \U	 ì             Ê5žÊ5žÊ5ž   B  U	 ‘U	 yU	 ‘U	 ì   2         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/urlŽ!«!   core/str    !«!       B êU	 ýZ	 âU	 ýZ	 í   T   P          a    c    d    e   B …V	 jX	 }V	 jX	 í   ï          Ê5ž   B …X	 ûZ	 }X	 ûZ	 í   ï  p          b    f    g    h    i    j   B  aY	 ¯Y	 YY	 ¯Y	 í   Ë         Ê5ž   B Z	 KZ	 Z	 KZ	 í   ‡         Ê5ž   B  Z	 »Z	 …Z	 »Z	 í   ÷         Ê5ž   B  àZ	 ùZ	 ØZ	 ùZ	 í   J         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!-   core/form-autocompleteŽ!«!   core/strŽ!«!#   core/notification    !«!       B u[	 k]	 m[	 k]	 î   u   p          a    b    c    d    e    f   B  ´[	 M]	 ¬[	 M]	 î   ´              g   B +\	 x\	 #\	 x\	 î   +         Ê5ž   B  Ö\	 K]	 Î\	 K]	 î   Ö         Ê5žÊ5ž   B  b]	 i]	 Z]	 i]	 î   b         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B þ]	 Ãb	 ö]	 Ãb	 ï                 a    b    c    d    e    f    g    h    i      g ^	 ›`	 ^	 ›`	 ï   ¨   @          a    h    i   B ×^	 (_	 Ï^	 (_	 ï   i         Ê5ž   B 7_	 k`	 /_	 k`	 ï   É             d   B  w_	 6`	 o_	 6`	 ï   	           B ¼_	 "`	 ´_	 "`	 ï   N         Ê5žÊ5ž   B  X`	 g`	 P`	 g`	 ï   ê         Ê5žÊ5ž   B z`	 ‡`	 r`	 ‡`	 ï            Ê5žÊ5ž   B  +a	 Da	 #a	 Da	 ï   ½         Ê5ž   B  oa	 Àb	 ga	 Àb	 ï              B —a	 b	 a	 b	 ï   )             c   B  ×a	 
b	 Ïa	 
b	 ï   i         Ê5žÊ5ž   B 2b	 ¾b	 *b	 ¾b	 ï   Ä         Ê5žÊ5žÊ5žŽ!«!   	   Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/templatesŽ!«!G   tool_dataprivacy/data_request_modalŽ!«!/   tool_dataprivacy/events    !«!       B	 ¨c	 Ds	  c	 Ds	 ð   â   @  	       a    b    c    d    e    f    g    h    i    j    k    l    m    n    o    p    q    r    s      j Æc	 d	 ¼c	 d	 ð             Ê5ž      k &d	 ƒd	 d	 ƒd	 ð   `         Ê5ž      l d	 àd	 ƒd	 àd	 ð   Ç         Ê5ž      m êd	 De	 àd	 De	 ð   $         Ê5ž      n Ne	 e	 De	 e	 ð   ˆ         Ê5ž      o §e	 i	 e	 i	 ð   á  @          b    h   B vh	 Çh	 nh	 Çh	 ð   °         Ê5ž   B Öh	 ii	 Îh	 ii	 ð                a   B  i	 -i	 i	 -i	 ð   I         Ê5ž   B  Oi	 ^i	 Gi	 ^i	 ð   ‰         Ê5žÊ5žÊ5ž      p ‹i	 Cj	 i	 Cj	 ð   Å           B Éi	 /j	 Ái	 /j	 ð            Ê5žÊ5ž   B  ªk	 Ãk	 ¢k	 Ãk	 ð   ä         Ê5ž   B  îk	 As	 æk	 As	 ð   (	           B l	 &o	 	l	 &o	 ð   K	  "          k   B ºl	 m	 ²l	 m	 ð   ô	         Ê5ž   B +m	 öm	 #m	 öm	 ð   e
         Ê5ž   B n	 o	 ým	 o	 ð   ?             a   B  *n	 ?n	 "n	 ?n	 ð   d         Ê5ž   B  _n	 qn	 Wn	 qn	 ð   ™         Ê5ž   B  •n	 Òn	 n	 Òn	 ð   Ï         Ê5ž   B  ôn	 o	 ìn	 o	 ð   .         Ê5žÊ5žÊ5ž   B Ko	 ”o	 Co	 ”o	 ð   …         Ê5ž   B ¶o	 üo	 ®o	 üo	 ð   ð         Ê5ž   B p	 ip	 p	 ip	 ð   Y         Ê5ž   B  ’p	 Är	 Šp	 Är	 ð   Ì  0          b   B Žq	 ¨q	 †q	 ¨q	 ð   È         Ê5ž   B  éq	 r	 áq	 r	 ð   #         Ê5ž   B 9r	 Sr	 1r	 Sr	 ð   s         Ê5žÊ5ž   B år	 ?s	 Ýr	 ?s	 ð            Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/fragment    !«!       B æs	 {	 Þs	 {	 ñ   Ÿ       
       a    b    c    d    e    f    g    h    i   B 6t	 ßt	 .t	 ßt	 ñ   ï          Ê5ž   B  @u	 9v	 8u	 9v	 ñ   ù  "          b   B  qu	 ,v	 iu	 ,v	 ñ   *           B •u	 v	 u	 v	 ñ   N  "          a   B àu	  v	 Øu	  v	 ñ   ™         Ê5žÊ5žÊ5žÊ5ž   B Vv	 îv	 Nv	 îv	 ñ            Ê5ž   B w	 x	 
w	 x	 ñ   Ë         Ê5ž   B .x	 px	 &x	 px	 ñ   ç         Ê5ž   B ”x	 ¶y	 Œx	 ¶y	 ñ   M  "          b   B Ny	 –y	 Fy	 –y	 ñ            Ê5žÊ5ž   B  Ñy	 þy	 Éy	 þy	 ñ   Š         Ê5ž   B  z	 ˜z	 z	 ˜z	 ñ   Ô           B  Lz	 z	 Dz	 z	 ñ            Ê5žÊ5ž   B  ½z	 àz	 µz	 àz	 ñ   v         Ê5ž   B öz	 
{	 îz	 
{	 ñ   ¯         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B X{	 ÿ}	 P{	 ÿ}	 ò   I   P          a    b    c    d   B |	 N|	 |	 N|	 ò   þ          Ê5ž   B  Y|	 ~|	 Q|	 ~|	 ò   J         Ê5ž   B  Ø|	 Ö}	 Ð|	 Ö}	 ò   É           B }	 É}	 û|	 É}	 ò   ô  "       Ê5žÊ5ž   B å}	 ý}	 Ý}	 ý}	 ò   Ö         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!=   core/custom_interaction_eventsŽ!«!   core/modalŽ!«!'   core/modal_registryŽ!«!/   tool_dataprivacy/events    !«!       B µ~	 ä‚	 ­~	 ä‚	 ó   ³   `          a    c    d    f    h   B Q	 d	 I	 d	 ó   O         Ê5ž   B  ÿ	 œ‚	 ÷	 œ‚	 ó   ý           B n€	 ó€	 f€	 ó€	 ó   l         Ê5ž   B ;	 ½	 3	 ½	 ó   9         Ê5ž   B 	‚	 ‚	 ‚	 ‚	 ó            Ê5žÊ5žÊ5žŽ!«!   
   Ž!«!   jqueryŽ!«!   core/strŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!   core/fragmentŽ!«!9   tool_dataprivacy/add_purposeŽ!«!;   tool_dataprivacy/add_category    !«!       B
 ×ƒ	 Ë”	 Ïƒ	 Ë”	 ô   ð   °          a    b    c    d    e    h    i    j    k    l   B P„	 ®„	 H„	 ®„	 ô   i         Ê5ž   B  g…	 ü‡	 _…	 ü‡	 ô   €         Ê5ž   B  (ˆ	 ö‹	  ˆ	 ö‹	 ô   A           B Nˆ	 é‹	 Fˆ	 é‹	 ô   g  "       Ê5žÊ5ž   B  Œ	 ;Œ	 Œ	 ;Œ	 ô   4	         Ê5ž   B YŒ	 ”	 QŒ	 ”	 ô   r	  "          f   B ÃŒ	 u	 »Œ	 u	 ô   Ü	         Ê5žÊ5ž   B  ³	 DŽ	 «	 DŽ	 ô   Ì
           B  ä	 Ž	 Ü	 Ž	 ô   ý
         Ê5žÊ5ž   B dŽ	 ¥Ž	 \Ž	 ¥Ž	 ô   }         Ê5ž   B ÕŽ	 	 ÍŽ	 	 ô   î         Ê5ž   B D	 ƒ	 <	 ƒ	 ô   ]         Ê5ž   B §	 ¤	 Ÿ	 ¤	 ô   À  2          e    f   B 	 Œ	 	 Œ	 ô   -             a   B  a	 w	 Y	 w	 ô   z         Ê5žÊ5žÊ5ž   B Ã	 V’	 »	 V’	 ô   Ü  2          a    f   B 0‘	 6’	 (‘	 6’	 ô   I           B ±‘	 ’	 ©‘	 ’	 ô   Ê         Ê5žÊ5žÊ5ž   B v’	 “	 n’	 “	 ô     2          a    b   B Î’	 
“	 Æ’	 
“	 ô   ç         Ê5žÊ5ž   B <“	 Â“	 4“	 Â“	 ô   U         Ê5ž   B Þ“	 ž”	 Ö“	 ž”	 ô   ÷         Ê5ž   B ­”	 É”	 ¥”	 É”	 ô   Æ         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B •	 \—	 •	 \—	 õ   @              a   B  •	 É•	 •	 É•	 õ   R          Ê5ž   B ø•	 Æ–	 ð•	 Æ–	 õ   *         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/urlŽ!«!   core/log    !«!       B Ÿ—	 C±	 ——	 C±	 ö   @   P          a    c    d    e   B &˜	 *š	 ˜	 *š	 ö   Ç          Ê5ž   B  Kš	 È›	 Cš	 È›	 ö   ì  "          b   B  ‚›	 ž›	 z›	 ž›	 ö   #         Ê5žÊ5ž   B é›	 §œ	 á›	 §œ	 ö   Š         Ê5ž   B Êœ	 ˆ	 Âœ	 ˆ	 ö   k         Ê5ž   B ©	 ÷	 ¡	 ÷	 ö   J         Ê5ž   B  ž	 ¤ž	 ž	 ¤ž	 ö   »         Ê5ž   B Éž	 ^ 	 Áž	 ^ 	 ö   j  2       Ê5ž   B ~ 	 \¡	 v 	 \¡	 ö   	         Ê5ž   B |¡	 ¢	 t¡	 ¢	 ö   
         Ê5ž   B >¢	 +£	 6¢	 +£	 ö   ß
         Ê5ž   B N£	 ž©	 F£	 ž©	 ö   ï  b          g   B  ë¨	 ©	 ã¨	 ©	 ö   Œ         Ê5ž   B  a©	 {©	 Y©	 {©	 ö            Ê5žÊ5ž   B Â©	 K¬	 º©	 K¬	 ö   c  B       Ê5ž   B c¬	 í¬	 [¬	 í¬	 ö            Ê5ž   B ­	 Ž­	 	­	 Ž­	 ö   ²         Ê5ž   B ½­	 õ­	 µ­	 õ­	 ö   ^         Ê5ž   B ®	 ¬®	 ®	 ¬®	 ö   ·         Ê5ž   B  Ì®	 Ø®	 Ä®	 Ø®	 ö   m         Ê5ž   B ù®	 ¯	 ñ®	 ¯	 ö   š         Ê5ž   B  B¯	 @±	 :¯	 @±	 ö   ã  "          b   B n¯	 •¯	 f¯	 •¯	 ö            Ê5ž   B °¯	 Ô¯	 ¨¯	 Ô¯	 ö   Q         Ê5ž   B ÿ¯	 :°	 ÷¯	 :°	 ö             Ê5ž   B W°	 }°	 O°	 }°	 ö   ø         Ê5ž   B ›°	 Â°	 “°	 Â°	 ö   <         Ê5ž   B Ý°	 ±	 Õ°	 ±	 ö   ~         Ê5ž   B ±	 >±	 ±	 >±	 ö   ¼         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!1   tool_lp/competencypickerŽ!«!   core/templatesŽ!«!#   core/notification    !«!       B Ø±	 "·	 Ð±	 "·	 ÷   ’   €          a    b    c    d    e    f    g   B ô±	 Œ²	 ì±	 Œ²	 ÷   ®          Ê5ž   B Z³	 í´	 R³	 í´	 ÷     2          d    e   B Þ³	 2´	 Ö³	 2´	 ÷   ˜         Ê5ž   B …´	 Ù´	 }´	 Ù´	 ÷   ?         Ê5žÊ5ž   B  µ	 ô¶	 	µ	 ô¶	 ÷   Ë  "          b   B Fµ	 ò¶	 >µ	 ò¶	 ÷               B  ¦µ	 º¶	 žµ	 º¶	 ÷   `  "          a   B  ×µ	 ¸¶	 Ïµ	 ¸¶	 ÷   ‘         Ê5žÊ5ž   B Ï¶	 ä¶	 Ç¶	 ä¶	 ÷   ‰         Ê5žÊ5žÊ5ž   B ·	  ·	 û¶	  ·	 ÷   ½         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!   core/strŽ!«!   tool_lp/treeŽ!«!1   tool_lp/competencypicker    !«!       B Ì·	 Ã¿	 Ä·	 Ã¿	 ø   §   `          a    b    c    d    g   B ê·	 l¸	 â·	 l¸	 ø   Å          Ê5ž   B  !¹	 º	 ¹	 º	 ø   ü  #         c   B Ÿ¹	 º	 —¹	 º	 ø   z         Ê5žÊ5ž   B .º	 b»	 &º	 b»	 ø   	  2          d    e   B ¢º	 N»	 šº	 N»	 ø   }         Ê5žÊ5ž   B €»	 Ò»	 x»	 Ò»	 ø   [  2          b    c   B ¬»	 Î»	 ¤»	 Î»	 ø   ‡         Ê5žÊ5ž   B  ù»	 :¼	 ñ»	 :¼	 ø   Ô         Ê5ž   B  Z¼	 Ž½	 R¼	 Ž½	 ø   5  "          e   B ÷¼	 ½	 ï¼	 ½	 ø   Ò         Ê5ž   B j½	 y½	 b½	 y½	 ø   E         Ê5žÊ5ž   B  ®½	 [¾	 ¦½	 [¾	 ø   ‰  "          b   B  ß½	 Y¾	 ×½	 Y¾	 ø   º         Ê5žÊ5ž   B  x¾	 À¿	 p¾	 À¿	 ø   S  "          b   B  ©¾	 ¾¿	 ¡¾	 ¾¿	 ø   „           B Ó¾	 ¿	 Ë¾	 ¿	 ø   ®         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!!   tool_lp/dialogueŽ!«!   core/strŽ!«!   tool_lp/tree    !«!       B ZÀ	 Ô	 RÀ	 Ô	 ù   ”   €          a    b    c    d    e    f    g   B xÀ	 XÁ	 pÀ	 XÁ	 ù   ²          Ê5ž   B  Ã	 aÉ	 Ã	 aÉ	 ù   S  2          c    d   B ¬Ã	 jÅ	 ¤Ã	 jÅ	 ù   æ             f   B ðÃ	 xÄ	 èÃ	 xÄ	 ù   *  0          e    g   B VÄ	 iÄ	 NÄ	 iÄ	 ù            Ê5žÊ5žÊ5ž   B ºÅ	 $Æ	 ²Å	 $Æ	 ù   ô         Ê5ž   B iÆ	 ?Ç	 aÆ	 ?Ç	 ù   £             b   B  Ç	 =Ç	 Ç	 =Ç	 ù   Q         Ê5žÊ5ž   B ”Ç	 µÇ	 ŒÇ	 µÇ	 ù   Î         Ê5ž   B È	 ÑÈ	 ÿÇ	 ÑÈ	 ù   A         Ê5ž   B É	 _É	 É	 _É	 ù   E	         Ê5žÊ5ž   B  |É	 ¦É	 tÉ	 ¦É	 ù   ¶	         Ê5ž   B  ÃÉ	 pÊ	 »É	 pÊ	 ù   ý	  "          c   B $Ê	 XÊ	 Ê	 XÊ	 ù   ^
         Ê5žÊ5ž   B ˜Ê	 iÌ	 Ê	 iÌ	 ù   Ò
  "          e   B )Ë	 UÌ	 !Ë	 UÌ	 ù   c             b      b 7Ë	 ÒË	 -Ë	 ÒË	 ù   q         Ê5žÊ5žÊ5ž   B „Ì	 ³Ì	 |Ì	 ³Ì	 ù   ¾         Ê5ž   B ÖÌ	 -Í	 ÎÌ	 -Í	 ù     2          b    c   B Í	 )Í	 ÿÌ	 )Í	 ù   A         Ê5žÊ5ž   B  TÍ	 šÍ	 LÍ	 šÍ	 ù   Ž         Ê5ž   B  ¿Í	 ‚Ï	 ·Í	 ‚Ï	 ù   ù  "          e   B {Î	 ‰Î	 sÎ	 ‰Î	 ù   µ         Ê5ž   B YÏ	 mÏ	 QÏ	 mÏ	 ù   “         Ê5žÊ5ž   B šÏ	 ¸Ï	 ’Ï	 ¸Ï	 ù   Ô         Ê5ž   B  ØÏ	 ¨Ð	 ÐÏ	 ¨Ð	 ù     "          b   B  Ð	 ¦Ð	 Ð	 ¦Ð	 ù   H         Ê5žÊ5ž   B  ÆÐ	 HÑ	 ¾Ð	 HÑ	 ù      "          a   B ôÐ	 FÑ	 ìÐ	 FÑ	 ù   .         Ê5žÊ5ž   B  eÑ	 ÔÒ	 ]Ñ	 ÔÒ	 ù   Ÿ  "          b   B  –Ñ	 ÒÒ	 ŽÑ	 ÒÒ	 ù   Ð           B ÊÑ	 Ò	 ÂÑ	 Ò	 ù            Ê5žÊ5žÊ5ž   B  ðÒ	 mÓ	 èÒ	 mÓ	 ù   *         Ê5ž   B Ó	 ÁÓ	 •Ó	 ÁÓ	 ù   ×         Ê5ž   B ßÓ	 Ô	 ×Ó	 Ô	 ù            Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!!   tool_lp/dialogueŽ!«!   core/strŽ!«!   core/ajaxŽ!«!   core/templates    !«!       B ™Ô	 «Û	 ‘Ô	 «Û	 ú      p          a    b    c    d    e    f   B µÔ	 ìÔ	 ­Ô	 ìÔ	 ú   «          Ê5ž   B 5Õ	 íÖ	 -Õ	 íÖ	 ú   +           B 'Ö	 ÎÖ	 Ö	 ÎÖ	 ú     "          a   B tÖ	 ¯Ö	 lÖ	 ¯Ö	 ú   j         Ê5žÊ5žÊ5ž   B  ×	 ½×	 ×	 ½×	 ú            Ê5ž   B à×	 Ø	 Ø×	 Ø	 ú   Ö         Ê5ž   B )Ø	 jØ	 !Ø	 jØ	 ú            Ê5ž   B ŒØ	 óÙ	 „Ø	 óÙ	 ú   ‚           B  ¬Ù	 ÔÙ	 ¤Ù	 ÔÙ	 ú   ¢         Ê5žÊ5ž   B  &Ú	 ¨Û	 Ú	 ¨Û	 ú              B ¿Ú	 ‰Û	 ·Ú	 ‰Û	 ú   µ           B ÿÚ	 jÛ	 ÷Ú	 jÛ	 ú   õ         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   core/strŽ!«!   core/yui    !«!       B ñÛ	 5Þ	 éÛ	 5Þ	 û   C   P          a    b    c    d   B Ü	 kÜ	 Ü	 kÜ	 û   ^          Ê5ž   B „Ü	 3Þ	 |Ü	 3Þ	 û   Ö             e    f    g    h    i    j    k    l   B  /Ý	 1Þ	 'Ý	 1Þ	 û              B  bÝ	 /Þ	 ZÝ	 /Þ	 û   ´         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   core/yui    !«!       B hÞ	 
á	 `Þ	 
á	 ü   0              a   B zÞ	 ^à	 rÞ	 ^à	 ü   B   r          b    c    d    e    f    g   B  ÷Þ	 \à	 ïÞ	 \à	 ü   ¿            B ¹ß	 Eà	 ±ß	 Eà	 ü              B  ìß	 à	 äß	 à	 ü   ´         Ê5ž   B  ;à	 Cà	 3à	 Cà	 ü            Ê5žÊ5žÊ5žÊ5ž   B  €à	 ¶à	 xà	 ¶à	 ü   H         Ê5ž   B  Öà	 á	 Îà	 á	 ü   ž         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!   core/templatesŽ!«!/   tool_lp/competency_rule    !«!       B á	 >è	 wá	 >è	 ý   r   @          a    c    d   B  —á	 ²á	 á	 ²á	 ý   Š         Ê5ž   B  :â	 ©â	 2â	 ©â	 ý   -         Ê5ž   B  Õâ	 Ïã	 Íâ	 Ïã	 ý   È  "          b   B  ã	 Ëã	 ã	 Ëã	 ý            Ê5žÊ5ž   B  ÷ã	 Gä	 ïã	 Gä	 ý   ê         Ê5ž   B  dä	 —ä	 \ä	 —ä	 ý   W         Ê5ž   B »ä	 kç	 ³ä	 kç	 ý   ®  ‚          b    d    e    g   B üå	 ±æ	 ôå	 ±æ	 ý   ï             e   B ^æ	 œæ	 Væ	 œæ	 ý   Q         Ê5žÊ5ž   B íæ	 iç	 åæ	 iç	 ý   à           B  )ç	 ?ç	 !ç	 ?ç	 ý            Ê5žÊ5žÊ5ž   B  ˆç	 ;è	 €ç	 ;è	 ý   {  2          c    d   B 
è	 /è	 è	 /è	 ý   ý         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   tool_lp/menubarŽ!«!G   tool_lp/competencypicker_user_plans    !«!       B ðè	 Zü	 èè	 Zü	 þ   ¯   €          a    b    c    d    e    f    g   B é	 ë	 é	 ë	 þ   Í   "       Ê5ž   B Íë	 2ì	 Åë	 2ì	 þ   Œ         Ê5ž   B Sì	 ¶ì	 Kì	 ¶ì	 þ     "          d   B Žì	 ´ì	 †ì	 ´ì	 þ   M         Ê5žÊ5ž   B Ûì	 ªí	 Óì	 ªí	 þ   š  "          f   B  _í	 –í	 Wí	 –í	 þ            Ê5žÊ5ž   B Éí	 6î	 Áí	 6î	 þ   ˆ         Ê5ž   B Zî	 õï	 Rî	 õï	 þ     2          a    f   B Êî	 áï	 Âî	 áï	 þ   ‰           B ï	 Íï	 ‡ï	 Íï	 þ   N           B  ¹ï	 Ëï	 ±ï	 Ëï	 þ   x         Ê5žÊ5žÊ5žÊ5ž   B !ð	 yð	 ð	 yð	 þ   à         Ê5ž   B ®ð	 eñ	 ¦ð	 eñ	 þ   m  2          b    e   B Õð	 Lñ	 Íð	 Lñ	 þ   ”         Ê5žÊ5ž   B —ñ	 -ò	 ñ	 -ò	 þ   V	  2          a    b   B Ìñ	 ò	 Äñ	 ò	 þ   ‹	         Ê5žÊ5ž   B gò	 Íò	 _ò	 Íò	 þ   &
         Ê5ž   B ó	  ó	 úò	  ó	 þ   Á
         Ê5ž   B Òó	 ô	 Êó	 ô	 þ   ‘         Ê5ž   B <ô	 Ëô	 4ô	 Ëô	 þ   û         Ê5ž   B õ	 Žõ	 úô	 Žõ	 þ   Á         Ê5ž   B Âõ	 ÷	 ºõ	 ÷	 þ     2          a    f   B 2ö	 k÷	 *ö	 k÷	 þ   ñ           B ÷	 W÷	 ùö	 W÷	 þ   À           B  +÷	 U÷	 #÷	 U÷	 þ   ê         Ê5žÊ5žÊ5žÊ5ž   B »÷	 #ø	 ³÷	 #ø	 þ   z         Ê5ž   B Jø	 Sù	 Bø	 Sù	 þ   	         Ê5ž   B wù	 Šú	 où	 Šú	 þ   6         Ê5ž   B  ®ú	 Wü	 ¦ú	 Wü	 þ   m         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!   core/strŽ!«!!   tool_lp/dialogue    !«!       B äü	 
 Üü	 
 ÿ   ‡   €          a    b    c    d    f    g    h   B  ý	 ý	 úü	 ý	 ÿ   ¥          Ê5ž   B ?ý	 Šý	 7ý	 Šý	 ÿ   â          Ê5ž   B ¬ý	 ™þ	 ¤ý	 ™þ	 ÿ   O  2          a    g   B ñý	 …þ	 éý	 …þ	 ÿ   ”             c   B +þ	 qþ	 #þ	 qþ	 ÿ   Î         Ê5žÊ5žÊ5ž   B Ãþ	 lÿ	 »þ	 lÿ	 ÿ   f  2          a    c   B ÿ	 Xÿ	  ÿ	 Xÿ	 ÿ   «         Ê5žÊ5ž   B “ÿ	 U 
 ‹ÿ	 U 
 ÿ   6         Ê5ž   B ƒ 
 d
 { 
 d
 ÿ   &           B C
 P
 ;
 P
 ÿ   æ         Ê5žÊ5ž   B  s
 
 k
 
 ÿ            Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/str    !«!       B O
 
 G
 
    D   0          a    b   B  ¨
 n
  
 n
       "          a   B ´
 l
 ¬
 l
    ©         Ê5žÊ5ž   B 
 
 y
 
    v  "          b   B ³
  
 «
  
    ¨         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajax    !«!       B D
 @
 <
 @
   =   @          a    b    c   B m
 >
 e
 >
   f   0          d    e   B ø
 
 ð
 
   ñ          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   tool_lp/treeŽ!«!7   tool_lp/competency_outcomesŽ!«!   jquery    !«!       B Õ
 \
 Í
 \
   ’             a    b    c    d    e    f    g    h    i    j    k    l    m    n    o   B 
 
 
 
   Ë          Ê5ž   B ¨
 m

  
 m

   e  0          b    e   B ò
 _

 ê
 _

   ¯           B ™
 N

 ‘
 N

   V           B –	
 =

 Ž	
 =

   S          Ê5žÊ5žÊ5žÊ5ž   B x

 £

 p

 £

   5         Ê5ž   B ¸

 	
 °

 	
   u         Ê5ž   B 
 (
 
 (
   Ò         Ê5ž   B =
 …
 5
 …
   ú  0          a    b   B b
 
 Z
 
            Ê5žÊ5ž   B  §
 ³
 Ÿ
 ³
   d         Ê5ž   B Ê
 Ú
 Â
 Ú
   ‡         Ê5ž   B ö
 Q
 î
 Q
   ³         Ê5ž   B f
 Ž
 ^
 Ž
   #         Ê5ž   B Ÿ
 ö
 —
 ö
   \         Ê5ž   B  
 4
 

 4
   Ï         Ê5ž   B  N
 Z
 F
 Z
            Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ¦
 r
 ž
 r
   G              a   B ¸
 u
 °
 u
   Y          Ê5ž   B ž
 +
 –
 +
   ?         Ê5ž   B S
 Ú
 K
 Ú
   ô         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B Ð
 ì
 È
 ì
   [   @          a    b    c   B ì
 Œ
 ä
 Œ
   w          Ê5ž   B ¤
 
 œ
 
   /             d   B Ë
 
 Ã
 
   V         Ê5žÊ5ž   B 
 ê
 
 ê
   ©         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!!   tool_lp/dialogueŽ!«!%   tool_lp/event_baseŽ!«!   core/str    !«!       B {
 )
 s
 )
   Œ   p          a    b    c    d    e    f   B —
 Ø
 
 Ø
   ¨          Ê5ž   B  `
 0
 X
 0
   q  B          b    c    d   B  
 ?
 ø
 ?
            Ê5ž   B  ]
 ¢
 U
 ¢
   n         Ê5ž   B ½
 #
 µ
 #
   Î         Ê5žÊ5ž   B  K
 s
 C
 s
   \         Ê5ž   B  
 Q
 ˆ
 Q
   ¡           B ¶
 2
 ®
 2
   Ç  "          a   B í
 %
 å
 %
   þ         Ê5žÊ5žÊ5ž   B l
 ›
 d
 ›
   }         Ê5ž   B  ¸
 &
 °
 &
   É         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templates    !«!       B 
 p
 y
 p
   U   @          a    b    c   B §
 ü
 Ÿ
 ü
   {              d   B Î
 ø
 Æ
 ø
   ¢          Ê5žÊ5ž   B 
 n
 
 n
   ã              f   B µ
 `
 ­
 `
   ‰  @          b    d    e   B ä
 é
 Ü
 é
   ¸  @          e    f    g   B H
 “
 @
 “
            Ê5žÊ5ž   B  
 ^
 
 ^
   ã  !          c   B 9
 Q
 1
 Q
            Ê5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!!   tool_lp/dialogue    !«!       B 
 æ!
 ú
 æ!
      p          a    b    c    d    e    f   B 
 É
 
 É
   «          Ê5ž   B ò
  
 ê
  
     B          f    g    h   B 
 è
 
 è
   ©         Ê5žÊ5ž   B $
 , 
 
 , 
   ±  "          d   B v
  
 n
  
     0          a    g   B Ã
  
 »
  
   P         Ê5žÊ5žÊ5ž   B  J 
 Ý 
 B 
 Ý 
   ×         Ê5ž   B !
 €!
 ý 
 €!
   ’  "          c   B A!
 l!
 9!
 l!
   Î         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!!   tool_lp/dialogueŽ!«!%   tool_lp/event_base    !«!       B v"
 c)
 n"
 c)
      `          a    b    d    e    f   B ’"
 /#
 Š"
 /#
   ©          Ê5ž   B  6$
 „&
 .$
 „&
   M  "          b   B  Û$
 s%
 Ó$
 s%
   ò         Ê5ž   B µ%
 Ö%
 ­%
 Ö%
   Ì         Ê5ž   B &
 ‚&
 &
 ‚&
   0         Ê5žÊ5ž   B  Ÿ&
 É&
 —&
 É&
   ¶         Ê5ž   B  æ&
 ^'
 Þ&
 ^'
   ý  "          a   B '
 J'
 '
 J'
   +         Ê5žÊ5ž   B y'
 ¨'
 q'
 ¨'
            Ê5ž   B  Æ'
 E(
 ¾'
 E(
   Ý  "          a   B ô'
 C(
 ì'
 C(
            Ê5žÊ5ž   B  b(
 )
 Z(
 )
   y         Ê5ž   B  5)
 `)
 -)
 `)
   L         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/templates    !«!       B Ñ)
 B/
 É)
 B/
 	  k   @          b    c    d   B é)
 ý,
 á)
 ý,
 	  ƒ          Ê5ž   B   -
 ..
 -
 ..
 	  º  "          a   B -
 .
 …-
 .
 	  '           B Ý-
 .
 Õ-
 .
 	  w         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   core/ajaxŽ!«!!   tool_lp/dialogueŽ!«!'   tool_lp/scalevalues    !«!       B Ð/
 ï8
 È/
 ï8
 
  ‹   p          a    b    c    e    f    g   B ì/
 »0
 ä/
 »0
 
  §          Ê5ž   B  ª1
 3
 ¢1
 3
 
  e  B          d    f   B  d2
 	3
 \2
 	3
 
             B Ì2
 õ2
 Ä2
 õ2
 
  ‡         Ê5žÊ5žÊ5ž   B  O3
 Ö3
 G3
 Ö3
 
  
  "       Ê5ž   B û3
 î5
 ó3
 î5
 
  ¶  B          b    c   B 4
 R5
 ‡4
 R5
 
  J         Ê5ž   B  5
 ¤5
 y5
 ¤5
 
  <         Ê5ž   B  ß5
 ì5
 ×5
 ì5
 
  š         Ê5žÊ5ž   B  6
 °7
 
6
 °7
 
  Í  2          b    c   B r6
 W7
 j6
 W7
 
  -         Ê5žÊ5ž   B Ô7
 )8
 Ì7
 )8
 
             B ü7
 8
 ô7
 8
 
  ·         Ê5žÊ5ž   B Q8
 Â8
 I8
 Â8
 
  	         Ê5ž   B Ñ8
 í8
 É8
 í8
 
  Œ	         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   tool_lp/menubarŽ!«!!   tool_lp/dialogue    !«!       B „9
 TW
 |9
 TW
   ’   €          a    b    c    d    e    f    g   B ¢9
 L;
 š9
 L;
   °   "       Ê5ž   B þ;
 d<
 ö;
 d<
            Ê5ž   B <
 ¿<
 y<
 ¿<
            Ê5ž   B à<
 R=
 Ø<
 R=
   î  "          d   B =
 P=
 =
 P=
   )         Ê5žÊ5ž   B w=
 Þ>
 o=
 Þ>
   …  2          f    g   B  b>
 ™>
 Z>
 ™>
   p         Ê5ž   B  ¼>
 Ü>
 ´>
 Ü>
   Ê         Ê5žÊ5ž   B ý>
 a?
 õ>
 a?
            Ê5ž   B ?
 A
 y?
 A
     2          a    f   B è?
 ÷@
 à?
 ÷@
   ö           B ¥@
 ã@
 @
 ã@
   ³           B  Ï@
 á@
 Ç@
 á@
   Ý         Ê5žÊ5žÊ5žÊ5ž   B .A
 –A
 &A
 –A
   <         Ê5ž   B ¶A
 NC
 ®A
 NC
   Ä  2          a    b   B B
 :C
 B
 :C
   )	           B äB
 &C
 ÜB
 &C
   ò	           B  C
 $C
 C
 $C
   
         Ê5žÊ5žÊ5žÊ5ž   B sC
 ÝC
 kC
 ÝC
   
         Ê5ž   B ÿC
 E
 ÷C
 E
     2          a    b   B dD
 ‰E
 \D
 ‰E
   r           B 1E
 uE
 )E
 uE
   ?           B  [E
 sE
 SE
 sE
   i         Ê5žÊ5žÊ5žÊ5ž   B ÀE
 6F
 ¸E
 6F
   Î         Ê5ž   B VF
 þG
 NF
 þG
   d  2          a    b   B »F
 êG
 ³F
 êG
   É           B ”G
 ÖG
 ŒG
 ÖG
   ¢           B  ¾G
 ÔG
 ¶G
 ÔG
   Ì         Ê5žÊ5žÊ5žÊ5ž   B $H
 ŒH
 H
 ŒH
   2         Ê5ž   B ¯H
 ÌH
 §H
 ÌH
   ½         Ê5ž   B øH
 gI
 ðH
 gI
            Ê5ž   B I
 ³I
 ˆI
 ³I
   ž         Ê5ž   B ×I
 =J
 ÏI
 =J
   å         Ê5ž   B ^J
 yJ
 VJ
 yJ
   l         Ê5ž   B œJ
 K
 ”J
 K
   ª         Ê5ž   B !K
 ;K
 K
 ;K
   /         Ê5ž   B [K
 ¼K
 SK
 ¼K
   i         Ê5ž   B ÙK
 ðK
 ÑK
 ðK
   ç         Ê5ž   B L
 uL
 
L
 uL
             Ê5ž   B ”L
 ­L
 ŒL
 ­L
   ¢         Ê5ž   B ÜL
 CN
 ÔL
 CN
   ê           B oM
 /N
 gM
 /N
   }           B ¿M
 N
 ·M
 N
   Í             a   B øM
 N
 ðM
 N
            Ê5žÊ5žÊ5žÊ5ž   B fN
 °N
 ^N
 °N
   t         Ê5ž   B ÓN
 ÐO
 ËN
 ÐO
   á         Ê5ž   B ôO
 S
 ìO
 S
            Ê5ž   B  8S
 QW
 0S
 QW
   F         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!-   tool_lp/actionselector    !«!       B áW
 ë^
 ÙW
 ë^
   Š   Ð          a    b    c    d    e    f    g    h    i    j    k    l   B 
X
 WX
 X
 WX
   ³          Ê5ž   B bX
 ¬X
 ZX
 ¬X
            Ê5ž   B  ·X
 ‰Y
 ¯X
 ‰Y
   `         Ê5ž   B ”Y
 ‘Z
 ŒY
 ‘Z
   =         Ê5ž   B œZ
 ©^
 ”Z
 ©^
   E  "          j   B ‚[
 •^
 z[
 •^
   +             a   B ˜[
 ^
 [
 ^
   A           B Ê\
 r]
 Â\
 r]
   s           B K]
 p]
 C]
 p]
   ô         Ê5žÊ5ž   B H^
 m^
 @^
 m^
   ñ         Ê5žÊ5žÊ5žÊ5ž   B á^
 é^
 Ù^
 é^
   Š         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!!   tool_lp/dialogueŽ!«!7   tool_lp/competency_outcomesŽ!«!   core/str    !«!       B ‰_
 œq
 _
 œq
   ›   p          a    b    c    d    e    f   B ¥_
 ü_
 _
 ü_
   ·          Ê5ž   B  ý`
 ~a
 õ`
 ~a
            Ê5ž   B ªa
 Øa
 ¢a
 Øa
   ¼         Ê5ž   B  úa
 bc
 òa
 bc
     "          a   B  8b
 Pb
 0b
 Pb
   J         Ê5ž   B  ‘b
 ¦b
 ‰b
 ¦b
   £         Ê5ž   B  íb
 c
 åb
 c
   ÿ         Ê5ž   B  Sc
 `c
 Kc
 `c
   e         Ê5žÊ5ž   B  ‡c
 âc
 c
 âc
   ™  "          b   B µc
 Þc
 ­c
 Þc
   Ç         Ê5žÊ5ž   B  ýc
 %d
 õc
 %d
            Ê5ž   B  Bd
 ùd
 :d
 ùd
   T  "          c   B ±d
 åd
 ©d
 åd
   Ã         Ê5žÊ5ž   B e
 Ce
 e
 Ce
   &         Ê5ž   B  ve
 f
 ne
 f
   ˆ  2          b    c   B ±e
 f
 ©e
 f
   Ã         Ê5žÊ5ž   B  8f
 ìf
 0f
 ìf
   J  2          b    c   B jf
 èf
 bf
 èf
   |         Ê5žÊ5ž   B  g
 ˆg
 g
 ˆg
            Ê5ž   B  ©g
 Øg
 ¡g
 Øg
   »         Ê5ž   B  ög
 rh
 îg
 rh
   	  2          b    c   B Eh
 nh
 =h
 nh
   W	         Ê5žÊ5ž   B ”h
 øh
 Œh
 øh
   ¦	  2          b    c   B Ëh
 ôh
 Ãh
 ôh
   Ý	         Ê5žÊ5ž   B  i
 bi
 i
 bi
   -
  "          a   B Hi
 `i
 @i
 `i
   Z
         Ê5žÊ5ž   B  ‚i
 „j
 zi
 „j
   ”
  2          b    c   B ´i
 kj
 ¬i
 kj
   Æ
  0          d    e   B  Öi
 .j
 Îi
 .j
   è
         Ê5ž   B  7j
 _j
 /j
 _j
   I         Ê5žÊ5žÊ5ž   B  ¢j
 ój
 šj
 ój
   ´         Ê5ž   B k
 )k
 k
 )k
            Ê5ž   B  Ik
 `k
 Ak
 `k
   [         Ê5ž   B  {k
 ›k
 sk
 ›k
            Ê5ž   B  ¸k
 Ül
 °k
 Ül
   Ê  "          a   B  ìk
 Úl
 äk
 Úl
   þ         Ê5žÊ5ž   B m
 ‚m
 ÿl
 ‚m
     "          c   B Um
 €m
 Mm
 €m
   g         Ê5žÊ5ž   B  žm
 Ún
 –m
 Ún
   °  B          b    c    d   B ÷m
 n
 ïm
 n
   	         Ê5ž   B  n
 Øn
 n
 Øn
   1           B ;n
 gn
 3n
 gn
   M         Ê5ž   B  Àn
 Ön
 ¸n
 Ön
   Ò         Ê5žÊ5žÊ5ž   B   o
 ;p
 øn
 ;p
            Ê5ž   B  ^p
 Vq
 Vp
 Vq
   p  2          a    b   B  Óp
 ßp
 Ëp
 ßp
   å         Ê5ž   B  ðp
 q
 èp
 q
            Ê5ž   B  q
 +q
 q
 +q
   )         Ê5žÊ5ž   B tq
 ™q
 lq
 ™q
   †         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   tool_lp/menubarŽ!«!%   tool_lp/event_base    !«!       B @r
 _€
 8r
 _€
   ¡   P          a    c    f    g   B  ^r
 ˆr
 Vr
 ˆr
   ¿          Ê5ž   B s
 Xt
 s
 Xt
   {  "          a   B  ¸s
 	t
 °s
 	t
            Ê5ž   B  't
 Kt
 t
 Kt
   ˆ         Ê5žÊ5ž   B t
 ¢t
 yt
 ¢t
   â         Ê5ž   B Ót
 6u
 Ët
 6u
   4         Ê5ž   B Zu
 ‰v
 Ru
 ‰v
   »  "          a   B  ñu
 :v
 éu
 :v
   R         Ê5ž   B  Xv
 |v
 Pv
 |v
   ¹         Ê5žÊ5ž   B ¬v
 Çv
 ¤v
 Çv
            Ê5ž   B òv
 Ow
 êv
 Ow
   S         Ê5ž   B qw
 œx
 iw
 œx
   Ò  "          a   B  x
 Mx
 þw
 Mx
   g         Ê5ž   B  kx
 x
 cx
 x
   Ì         Ê5žÊ5ž   B ½x
 Öx
 µx
 Öx
            Ê5ž   B ÿx
 Zy
 ÷x
 Zy
   `         Ê5ž   B {y
 ¥z
 sy
 ¥z
   Ü  "          a   B  z
 Vz
 z
 Vz
   p         Ê5ž   B  tz
 ˜z
 lz
 ˜z
   Õ         Ê5žÊ5ž   B Åz
 Ýz
 ½z
 Ýz
   &	         Ê5ž   B {
 _{
 ýz
 _{
   f	         Ê5ž   B ƒ{
 1|
 {{
 1|
   ä	         Ê5ž   B ^|
 x}
 V|
 x}
   ¿
         Ê5ž   B œ}
 Î~
 ”}
 Î~
   ý         Ê5ž   B ò~
 \€
 ê~
 \€
   S         Ê5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B €
 V
 ‡€
 V
   -   `          a    b    c    d    e   B  «€
 ó€
 £€
 ó€
   I          Ê5ž   B þ€
 „‚
 ö€
 „‚
   œ          Ê5ž   B ¬‚
 ï‚
 ¤‚
 ï‚
   J         Ê5ž   B  ƒ
 …
 ƒ
 …
   ´  "          e   B  Gƒ
 Qƒ
 ?ƒ
 Qƒ
   å         Ê5ž   B  ~ƒ
 ªƒ
 vƒ
 ªƒ
            Ê5ž   B  Ïƒ
 þƒ
 Çƒ
 þƒ
   m         Ê5ž   B „
 @„
 „
 @„
   º         Ê5ž   B `„
 †„
 X„
 †„
   þ         Ê5ž   B  ¤„
 Å„
 œ„
 Å„
   B         Ê5ž   B  â„
 …
 Ú„
 …
   €         Ê5žÊ5ž   B %…
 ¥‡
 …
 ¥‡
   Ã  b          b    e    f    g   B ‡
 [‡
 ú†
 [‡
              Ê5žÊ5ž   B Æ‡
 b‰
 ¾‡
 b‰
   d  "       Ê5ž   B ‚‰
 ¬‰
 z‰
 ¬‰
    	         Ê5ž   B  Ò‰
 dŒ
 Ê‰
 dŒ
   p	         Ê5ž   B ‡Œ
 P
 Œ
 P
   %  "       Ê5ž   B p
 U”
 h
 U”
     "       Ê5ž   B y”
 ¾—
 q”
 ¾—
     "       Ê5ž   B Ü—
 Æ™
 Ô—
 Æ™
   z  B       Ê5ž   B â™
 ˆš
 Ú™
 ˆš
   €         Ê5ž   B  ¯š
 Âœ
 §š
 Âœ
   M         Ê5ž   B Ôœ
 I
 Ìœ
 I
   r             c   B ìœ
 G
 äœ
 G
   Š         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/urlŽ!«!   core/templatesŽ!«!#   core/notificationŽ!«!   core/strŽ!«!   core/ajaxŽ!«!1   tool_lp/dragdrop-reorderŽ!«!   tool_lp/treeŽ!«!!   tool_lp/dialogueŽ!«!   tool_lp/menubarŽ!«!1   tool_lp/competencypickerŽ!«!7   tool_lp/competency_outcomesŽ!«!9   tool_lp/competencyruleconfig    !«!       B ~ž
 ãÈ
 vž
 ãÈ
   %  `          Q    B    U    F    s    C    D    L    K    w    $    X    o    y    i    m    q    a    r    e    _    Y    l    W    Z    k    O    I    M    G    S    A    E    H    T    x    v    p    z    t    n    h    u    f    j    d    b    R    V    P    c    J    N   B  Ðž
 ¡
 Èž
 ¡
   w  0          f    g   B  „Ÿ
 ÞŸ
 |Ÿ
 ÞŸ
   +         Ê5ž   B Å 
 ê 
 ½ 
 ê 
   l         Ê5žÊ5ž   B  ¡
 f¢
 ¡
 f¢
   ´         Ê5ž   B  q¢
 z¤
 i¢
 z¤
               B ;¤
 `¤
 3¤
 `¤
   â         Ê5žÊ5ž   B …¤
 ¥¥
 }¤
 ¥¥
   ,             b   B õ¤
 ¥
 í¤
 ¥
   œ         Ê5ž   B  U¥
 f¥
 M¥
 f¥
   ü         Ê5ž   B  –¥
 £¥
 Ž¥
 £¥
   =         Ê5žÊ5ž   B °¥
 M¦
 ¨¥
 M¦
   W         Ê5ž   B X¦
 ‚©
 P¦
 ‚©
   ÿ             g   B ¹§
 n©
 ±§
 n©
   `
  @          b    h   B Ñ¨
 Z©
 É¨
 Z©
   x             a   B 2©
 F©
 *©
 F©
   Ù         Ê5žÊ5žÊ5žÊ5ž   B  ©
 †ª
 …©
 †ª
   4         Ê5ž   B ‘ª
 5«
 ‰ª
 5«
   8           B Ñª
 !«
 Éª
 !«
   x         Ê5žÊ5ž   B @«
 W¬
 8«
 W¬
   ç         Ê5ž   B  b¬
 º­
 Z¬
 º­
   	         Ê5ž   B  Å­
 ¯
 ½­
 ¯
   l         Ê5ž   B  *¯
 ¥°
 "¯
 ¥°
   Ñ           B Ï¯
 ‘°
 Ç¯
 ‘°
   v           B °
 }°
 °
 }°
   Æ             a   B X°
 i°
 P°
 i°
   ÿ         Ê5žÊ5žÊ5žÊ5ž   B  °°
 @³
 ¨°
 @³
   W           B *±
 ³
 "±
 ³
   Ñ             h   B \±
 Ï±
 T±
 Ï±
            Ê5ž   B Z²
 ²
 R²
 ²
            Ê5ž   B Ÿ²
 ô²
 —²
 ô²
   F         Ê5žÊ5žÊ5ž   B K³
 È³
 C³
 È³
   ò         Ê5ž   B Ó³
 nµ
 Ë³
 nµ
   z             b   B ü´
 Vµ
 ô´
 Vµ
   £         Ê5žÊ5ž   B  yµ
 µ·
 qµ
 µ·
                 b   B Ã¶
 ‚·
 »¶
 ‚·
   j           B W·
 n·
 O·
 n·
   þ         Ê5žÊ5žÊ5ž   B  À·
 ?¹
 ¸·
 ?¹
   g           B ¹
 +¹
 þ¸
 +¹
   ­         Ê5žÊ5ž   B J¹
 ›¹
 B¹
 ›¹
   ñ         Ê5ž   B ¦¹
 ì¹
 ž¹
 ì¹
   M         Ê5ž   B ÷¹
 4º
 ï¹
 4º
   ž         Ê5ž   B ?º
 º
 7º
 º
   æ         Ê5ž   B Šº
 »
 ‚º
 »
   1         Ê5ž   B *»
 ½
 "»
 ½
   Ñ           B r¼
 ½
 j¼
 ½
              B ®¼
 î¼
 ¦¼
 î¼
   U         Ê5žÊ5žÊ5ž   B  !½
 V½
 ½
 V½
   È         Ê5ž   B a½
 Â½
 Y½
 Â½
             Ê5ž   B Í½
 ù½
 Å½
 ù½
   t          Ê5ž   B ¾
 ÜÁ
 ü½
 ÜÁ
   «   0          b    g   B Í¾
 ¿
 Å¾
 ¿
   t!             d   B ï¾
 ¿
 ç¾
 ¿
   –!         Ê5žÊ5ž   B .¿
 ¿
 &¿
 ¿
   Õ!         Ê5ž   B ¿
 Ä¿
 ˆ¿
 Ä¿
   7"         Ê5ž   B Ó¿
 [À
 Ë¿
 [À
   z"         Ê5ž   B jÀ
 Á
 bÀ
 Á
   #         Ê5ž   B *Á
 `Á
 "Á
 `Á
   Ñ#         Ê5ž   B oÁ
 ÄÁ
 gÁ
 ÄÁ
   $         Ê5žÊ5ž   B çÁ
 Â
 ßÁ
 Â
   Ž$         Ê5ž   B *Â
 gÂ
 "Â
 gÂ
   Ñ$         Ê5ž   B rÂ
 9Å
 jÂ
 9Å
   %  @          g    i   B ¡Ä
 ¯Ä
 ™Ä
 ¯Ä
   H'         Ê5ž   B ÙÄ
 Å
 ÑÄ
 Å
   €'         Ê5žÊ5ž   B DÅ
 ~Å
 <Å
 ~Å
   ë'         Ê5ž   B “Å
 áÈ
 ‹Å
 áÈ
   :(         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/templates    !«!       B =É
 Ë
 5É
 Ë
   W   @          a    b    c   B cÉ
 ¸É
 [É
 ¸É
   }              d   B ŠÉ
 ´É
 ‚É
 ´É
   ¤          Ê5žÊ5ž   B ËÉ
 ‹Ë
 ÃÉ
 ‹Ë
   å              f   B Ê
 }Ë
 …Ê
 }Ë
   §  @          b    d    e   B ¾Ê
 Ë
 ¶Ê
 Ë
   Ø         Ê5ž   B  (Ë
 {Ë
  Ë
 {Ë
   B  !          c   B TË
 lË
 LË
 lË
   n         Ê5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!/   tool_lp/competency_rule    !«!       B îË
 ÆÌ
 æË
 ÆÌ
   ^              c   B  Ì
 Ì
 üË
 Ì
   t         Ê5ž   B  jÌ
 šÌ
 bÌ
 šÌ
   Ú          Ê5ž   B  ·Ì
 ÃÌ
 ¯Ì
 ÃÌ
   '         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/templatesŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!   core/str    !«!       B ;Í
 Ó
 3Í
 Ó
   r   °          a    b    c    d    e    f    g    h    i    k   B ]Í
 ­Í
 UÍ
 ­Í
   ”          Ê5ž   B ¸Í
 Î
 °Í
 Î
   ï          Ê5ž   B Î
 /Ï
 Î
 /Ï
   P         Ê5ž   B  :Ï
 kÑ
 2Ï
 kÑ
   q           B 	Ð
 8Ñ
 Ð
 8Ñ
   @            B Ð
 5Ñ
 wÐ
 5Ñ
   ¶           B 
Ñ
 !Ñ
 Ñ
 !Ñ
   A         Ê5žÊ5žÊ5žÊ5ž   B vÑ
 =Ó
 nÑ
 =Ó
   ­           B Ò
 )Ó
 Ò
 )Ó
   V           B ðÒ
 Ó
 èÒ
 Ó
   '         Ê5žÊ5žÊ5ž   B uÓ
 }Ó
 mÓ
 }Ó
   ¬         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/templatesŽ!«!   core/strŽ!«!1   tool_lp/competencypickerŽ!«!1   tool_lp/dragdrop-reorder    !«!       B &Ô
 *è
 Ô
 *è
   ¤   €          a    b    c    d    e    f    g   B DÔ
 þÔ
 <Ô
 þÔ
   Â          Ê5ž   B  +Õ
 iÖ
 #Õ
 iÖ
   ©  "          a   B oÕ
 UÖ
 gÕ
 UÖ
   í           B ;Ö
 SÖ
 3Ö
 SÖ
   ¹         Ê5žÊ5žÊ5ž   B ‰Ö
 ¹Ø
 Ö
 ¹Ø
     "       Ê5ž   B  ÝØ
 "Þ
 ÕØ
 "Þ
   [  R          e    g    h    j   B –Ù
 Þ
 ŽÙ
 Þ
              B ßÙ
 MÚ
 ×Ù
 MÚ
   ]         Ê5ž   B Û
 ‹Û
 Û
 ‹Û
   —         Ê5ž   B „Ü
 îÜ
 |Ü
 îÜ
   	         Ê5ž   B Ý
 šÝ
 yÝ
 šÝ
   ÿ	         Ê5ž   B ©Ý
 ìÝ
 ¡Ý
 ìÝ
   '
         Ê5žÊ5žÊ5ž   B @Þ
 Lâ
 8Þ
 Lâ
   ¾
  2          h    i   B Âá
 8â
 ºá
 8â
   @           B áá
 $â
 Ùá
 $â
   _         Ê5žÊ5žÊ5ž   B oâ
 ¥ä
 gâ
 ¥ä
   í  R          a    d    f   B ˆã
 ‘ä
 €ã
 ‘ä
              B @ä
 }ä
 8ä
 }ä
   ¾           B  jä
 {ä
 bä
 {ä
   è         Ê5žÊ5žÊ5žÊ5ž   B  Éä
 'è
 Áä
 'è
   G  "          e   B På
 /ç
 Hå
 /ç
   Î  0          h    i   B ¥æ
 ç
 æ
 ç
   #           B Äæ
 ç
 ¼æ
 ç
   B         Ê5žÊ5žÊ5ž   B cç
 ç
 [ç
 ç
   á         Ê5ž   B Éç
 %è
 Áç
 %è
   G         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ]è
 2é
 Uè
 2é
   0              a   B  oè
 “è
 gè
 “è
   B          Ê5ž   B Îè
 ìè
 Æè
 ìè
   ¡          Ê5ž   B 
é
 /é
 é
 /é
   Ý          Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/logŽ!«!-   tool_lp/grade_dialogueŽ!«!%   tool_lp/event_baseŽ!«!'   tool_lp/scalevalues    !«!       B æé
 ¥ï
 Þé
 ¥ï
   ±   p          a    b    c    e    f    g   B ê
 íì
 üé
 íì
   Ï            B ë
 5ë
 ýê
 5ë
   Ð         Ê5žÊ5ž   B  7í
 åî
 /í
 åî
     2          a    d   B tí
 Ñî
 lí
 Ñî
   ?            B î
 Ïî
 î
 Ïî
   ä             f   B ‚î
 ºî
 zî
 ºî
   M         Ê5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B Ýï
 ?ó
 Õï
 ?ó
   5              a   B ïï
 4ð
 çï
 4ð
   G          Ê5ž   B  Âð
 øð
 ºð
 øð
            Ê5ž   B  ñ
 &ñ
 ñ
 &ñ
   o         Ê5ž   B  Cñ
 iñ
 ;ñ
 iñ
   ›         Ê5ž   B  ƒñ
 šñ
 {ñ
 šñ
   Û         Ê5ž   B  ¾ñ
 èñ
 ¶ñ
 èñ
            Ê5ž   B  ò
 ò
 ýñ
 ò
   ]         Ê5ž   B  ,ò
 ?ò
 $ò
 ?ò
   „         Ê5ž   B Wò
 uò
 Oò
 uò
   ¯         Ê5ž   B žò
 µò
 –ò
 µò
   ö         Ê5ž   B Óò
 øò
 Ëò
 øò
   +         Ê5ž   B  ó
 <ó
 ó
 <ó
   t         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!#   core/notificationŽ!«!   core/ajaxŽ!«!   core/strŽ!«!   core/log    !«!       B ­ó
 ˜ö
 ¥ó
 ˜ö
   k   p          a    b    c    d    e    f   B Ìó
 „ö
 Äó
 „ö
   Š              h   B ô
 ö
 ô
 ö
   Õ   0          g    i   B “õ
 Aö
 ‹õ
 Aö
   Q           B  ½õ
 ?ö
 µõ
 ?ö
   {           B  ö
 +ö
 ö
 +ö
   Û         Ê5žÊ5žÊ5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       B ßö
 V ×ö
 V   D              a   B  7÷
 ;÷
 /÷
 ;÷
   œ          Ê5ž   B  [÷
 U S÷
 U   À   r          b    c    d    e    f    g   B êù
 h  âù
 h    O          Ê5ž   B  s  M k  M   Ø	         Ê5ž   B X M P M   ½         Ê5ž   B  X  P    ½          Ê5ž   B   €  €   |           B  [ ~ S ~   À         Ê5žÊ5ž   B ‘ J ‰ J   ö           B  © À ¡ À            Ê5ž   B  ê  â    O         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!-   core/form-autocompleteŽ!«!   core/strŽ!«!#   core/notification    !«!       B Í Ÿ Å Ÿ   t   €          a    b    c    d    e    f    g   B   (  (   ³              g   B Ë ’	 Ã ’	   r           B  G	 ~	 ?	 ~	   î         Ê5žÊ5ž   B  ð	 & è	 &   —  R          c    d    e   B *
 ¬
 "
 ¬
   Ñ         Ê5žÊ5žÊ5ž   B  3 b + b   Ú         Ê5ž   B  w ~ o ~            Ê5ž   B    ‡    6         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B 	 ð  ð   g   0          a    c   B % 7  7   ƒ   @          c    d    g   B y   q     ×          Ê5žÊ5ž   B O ¦ G ¦   ­             d   B v ¢ n ¢   Ô         Ê5žÊ5ž   B ¹ î ± î            Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/logŽ!«!   core/configŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B {  s    ˆ             a    b    c    d    e    f    g    h      g   Â – Â   ­          Ê5ž   B  y y q y   †           B © w ¡ w   ¶  @          j    k   B % n  n   2         Ê5ž   B } I u I   Š             a   B  À 
 ¸ 
   Í         Ê5ž   B  , ; $ ;   9         Ê5žÊ5ž   B \ u T u   i         Ê5žÊ5žÊ5ž   B ˆ  €    •         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!#   core/notificationŽ!«!%   core/modal_factoryŽ!«!#   core/modal_events    !«!       B —      €   €          a    b    c    d    e    f    g   B  Ø ñ Ð ñ   Á          Ê5ž   B   ÷  ÷              B > õ 6 õ   '  B          k    l    m   B 3 q + q                a   B  ^ m V m   G         Ê5žÊ5ž   B € – x –   i         Ê5ž   B Ö ` Î `   ¿         Ê5ž   B s ó k ó   \           B  ¯ … ¯   v         Ê5žÊ5žÊ5žÊ5ž   B    þ    ï         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!%   core/modal_factoryŽ!«!#   core/modal_eventsŽ!«!#   core/notificationŽ!«!   core/fragmentŽ!«!   core/ajaxŽ!«!   core/yui    !«!       B ¿ ç% · ç%   ¤       
       a    b    c    d    e    f    g    h    i   B ì  ä    Ñ          Ê5ž   B  ß ^ × ^   Ä           B  £  £   ò         Ê5ž   B Ù Q Ñ Q   ¾  "         B ! =  =            Ê5žÊ5žÊ5ž   B  :! y :!   f  B          a    d   B 6  ! .  !     "          f   B à  
! Ø  
!   Å         Ê5žÊ5žÊ5ž   B ^! _" V! _"   C         Ê5ž   B |" # t" #   a         Ê5ž   B 2# [$ *# [$   	  "          b   B ô# <$ ì# <$   Ù	         Ê5žÊ5ž   B {$ ½$ s$ ½$   `
         Ê5ž   B  Ø$ % Ð$ %   ½
         Ê5ž   B  "% »% % »%              B  S% ˆ% K% ˆ%   8         Ê5žÊ5ž   B Ñ% å% É% å%   ¶         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/logŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   core/configŽ!«!   core/str    !«!       B y& *, q& *,      °          a    b    c    d    e    f    g    h    i    j   B —& p' & p'   ­   0       Ê5ž   B {' =* s' =*   ‘  P         B Ê' ( Â' (   à         Ê5ž   B G) ”) ?) ”)   ]         Ê5ž   B ñ) )* é) )*            Ê5žÊ5ž   B H* ‘+ @* ‘+   ^             c   B n+ }+ f+ }+   „         Ê5žÊ5ž   B æ+ %, Þ+ %,   ü         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/logŽ!«!#   core/notificationŽ!«!   core/templatesŽ!«!   core/config    !«!       B °, é/ ¨, é/    ƒ              a    b    d    e    f    g    h    i    j   B Ì, k- Ä, k-    Ÿ            B - W- - W-    î          Ê5žÊ5ž   B v- c. n- c.    I         Ê5ž   B u. Ê. m. Ê.    H             a   B  ¸. Æ. °. Æ.    ‹         Ê5žÊ5ž   B  Õ. ô. Í. ô.    ¨         Ê5žÊ5žŽ!«!      Ž!«!   core/ajaxŽ!«!'   tool_usertours/tourŽ!«!   jqueryŽ!«!   core/templatesŽ!«!   core/strŽ!«!   core/logŽ!«!#   core/notification    !«!       B 0 B: w0 B: !  “   €          a    b    c    d    f    g    h   B Í0 ­1 Å0 ­1 !  á            B y1 «1 q1 «1 !           Ê5žÊ5ž   B À1 ?3 ¸1 ?3 !  Ô             b   B ¯2 æ2 §2 æ2 !  Ã         Ê5ž   B  ÷2 +3 ï2 +3 !           Ê5žÊ5ž   B  U3 Õ4 M3 Õ4 !  i             a   B d4 †4 \4 †4 !  x         Ê5ž   B  —4 Ì4 4 Ì4 !  «         Ê5žÊ5ž   B ñ4 ò6 é4 ò6 !             B â5 ¿6 Ú5 ¿6 !  ö         Ê5žÊ5ž   B  	7 
8 7 
8 !           Ê5ž   B  $8 (9 8 (9 !  8         Ê5ž   B @9 : 89 : !  T	           B Î9 ø9 Æ9 ø9 !  â	         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/ajaxŽ!«!   core/strŽ!«!#   core/notification    !«!       B ¨: —<  : —< "  c   P          a    c    d    e   B Ì: +< Ä: +< "  ‡              e   B Ý; < Õ; < "  ˜           B  < < ÿ; < "  Â         Ê5žÊ5žÊ5ž   B  :< < 2< < "  õ         Ê5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/strŽ!«!#   core/notification    !«!       B ñ< Þ> é< Þ> #  W   P          a    b    c    d   B = r> = r> #  y              e   B $> e> > e> #  Š           B  N> c> F> c> #  ´         Ê5žÊ5žÊ5ž   B  > Æ> y> Æ> #  ç         Ê5žÊ5ž!«!       C  æ         +                                $ ê> ê? â> ê? $                 G=    š   'E   æQš   5   æ;   æš      =   Z   =   `    =   `   ‚    ç Ž   æ=   š   'E   æQš   5   æB   æš   ˆ   š	   	   =   : š	   	   =
   : : 6   -   æˆ   ˆ   ˆ   5   ˆ   5   : 6   æQ™‘•Ù6Ú9Ê	ÏÿÿÿØÎfÙ=à/Ò“ÿÿÿìí1Ê    function   define   amd'   tool_usertours/tour   jquery   core/popper   object   module   exports   require   popper.js	   Tour   $   PopperŒ!«!ÿÿÿÿ      a   b       «+’H!«!       B U? p? M? p? $  t          Ê5žš˜;øÊ5ž!«!       B ø? ‚ ð? ‚ $    @   1       a    b    d      c @ &@ @ &@ $  4         Ê5ž   B p@ „@ h@ „@ $           Ê5ž   B @ õ@ …@ õ@ $  ¬         Ê5ž   B LB CC DB CC $  k  C       Ê5ž   B  ^C îC VC îC $  }         Ê5ž   B D ÍE D ÍE $  ,  2          a    b   B  ­D E ¥D E $  Ì             c   B ùD E ñD E $           Ê5žÊ5žÊ5ž   B  ûE „F óE „F $           Ê5ž   B «F ƒG £F ƒG $  Ê         Ê5ž   B ¨G ZH  G ZH $  Ç         Ê5ž   B  „H ²H |H ²H $  £	         Ê5ž   B ÜH ’I ÔH ’I $  û	  B       Ê5ž   B ¹I jJ ±I jJ $  Ø
  "       Ê5ž   B •J 6K J 6K $  ´  "       Ê5ž   B VK ŠK NK ŠK $  u         Ê5ž   B «K ãK £K ãK $  Ê         Ê5ž   B L šL 	L šL $  0         Ê5ž   B ÅL (M ½L (M $  ä         Ê5ž   B  BM tM :M tM $  a         Ê5ž   B  ’M ËM ŠM ËM $  ±         Ê5ž   B éM [N áM [N $           Ê5ž   B zN 2P rN 2P $  ™  "       Ê5ž   B UP ÞP MP ÞP $  t         Ê5ž   B Q žR ÿP žR $  &         Ê5ž   B ÁR æR ¹R æR $  à         Ê5ž   B S S S S $  ,  "          b   B oS ‚S gS ‚S $  Ž         Ê5žÊ5ž   B ´S )T ¬S )T $  Ó         Ê5ž   B ST EW KT EW $  r  "         B xV ëV pV ëV $  —         Ê5ž   B W >W W >W $  :         Ê5žÊ5ž   B  mW ãW eW ãW $  Œ           B ¦W ÊW žW ÊW $  Å         Ê5žÊ5ž   B X ÀZ ûW ÀZ $  "         Ê5ž   B  èZ [ àZ [ $           Ê5ž   B 5[ m_ -[ m_ $  T  2          c   B  ] H] ] H] $  <         Ê5žÊ5ž   B _ m` …_ m` $  ¬   "          b   B  Ç_ `` ¿_ `` $  æ            B  ` T` ` T` $  =!         Ê5žÊ5žÊ5ž   B ` oc ‡` oc $  ®!         Ê5ž   B ’c g Šc g $  ±$  B          b    c   B  Gd g ?d g $  f%  r          d    e    g    h   B e Xe e Xe $  ,&         Ê5ž   B je ‰e be ‰e $  ‰&         Ê5žÊ5žÊ5ž   B :g lh 2g lh $  Y(  2       Ê5ž   B  h ©h …h ©h $  ¬)         Ê5ž   B  Æh ±i ¾h ±i $  å)  "       Ê5ž   B Ëi n Ãi n $  ê*  B         B  œl °l ”l °l $  »-         Ê5žÊ5ž   B  -n jn %n jn $  L/         Ê5ž   B  n ²n ˆn ²n $  ¯/         Ê5ž   B Ún p Òn p $  ù/         Ê5ž   B  Dp êp <p êp $  c1         Ê5ž   B q iw q iw $  +2  2          h   B ïr ør çr ør $  4         Ê5ž   B 
s s s s $  )4         Ê5ž   B s ûv s ûv $  >4  P       Ê5žÊ5ž   B w Þ| ‡w Þ| $  ®8  2         B  »| Ï| ³| Ï| $  Ú=         Ê5žÊ5ž   B } Ì} û| Ì} $  ">  0       Ê5ž   B ~ Ï~ ü} Ï~ $  #?          Ê5ž   B ö~ k î~ k $  @          Ê5ž   B  ’ ×€ Š ×€ $  ±@  B          b    c    d   B Ç G€ ¿ G€ $  æ@          Ê5ž   B u€ ƒ€ m€ ƒ€ $  ”A         Ê5ž   B Ç€ Õ€ ¿€ Õ€ $  æA         Ê5žÊ5ž   B  þ€ « ö€ « $  B  @          b    c    d   B 3 € + € $  RB         Ê5ž   B › © “ © $  ºB         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!%   core/sortable_listŽ!«!   core/ajaxŽ!«!#   core/notification    !«!       B g‚ A… _‚ A… %  b   P          a    b    c    d   B …‚ ?… }‚ ?… %  €   0          f    h   B À‚ õ‚ ¸‚ õ‚ %  »          Ê5ž   B /ƒ ´ƒ 'ƒ ´ƒ %  *             c   B  sƒ ®ƒ kƒ ®ƒ %  n         Ê5žÊ5ž   B Ïƒ =… Çƒ =… %  Ê          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!;   theme_bootstrapbase/bootstrapŽ!«!   core/log    !«!       B §… ˆ Ÿ… ˆ &  c              n   B  † ÿ‡ ü… ÿ‡ &  À            B !† ý‡ † ý‡ &  Ý              n   B  z† ¥† r† ¥† &  6         Ê5ž   B  Í† í† Å† í† &  ‰         Ê5ž   B  ‡ «‡ ‡ «‡ &  Ð         Ê5ž   B  Ð‡ û‡ È‡ û‡ &  Œ         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!;   theme_bootstrapbase/bootstrapŽ!«!   core/log    !«!       C  $                                         €  fˆ OŠ ^ˆ OŠ '                 T ¸    
=   ç Q[   ‚    ]   ™jÓ4•Ê€ —    debugQ   Adaptable Bootstrap AMD opt in functions	   initŒ!«!ÿÿÿÿ      n   o   t       «+’H!«!       	   initC i                                            Äˆ MŠ ¼ˆ MŠ '                ˆ  š    : ¸   
‚    ç Qˆ   D   æ‚   W   Qš   5   E   æQV   :  æQš   ¸   
=   V   ç Qæ™€  ÇÞ€ !–ÊÖ•Ú(    document   ready   location	   hash   window!   addEventListener   hashchangeŒ!«!ÿÿÿÿ      o   t      «+’H!«!          init/<c  °          "                                  åˆ ê‰ Ýˆ ê‰ '                 ˆ  El   æQˆ   =    : Ù   >EP   æQˆ   =    : ¸   
[   [    ˆ   =    : ¸   
:  5   ]   ]   : æQˆ   =   : ¸   
‚   ç Qˆ   =   : ¸   
‚   ç Q™€  å×ÜÏ•ËÜÿÿÿß•?ÞSÞS    #navwrap   length   affix   offset   top!   #openoverlaymenu   click#   #overlaymenucloseŒ!«!ÿÿÿÿ      n       «+’HŽ!«!       Ž!«!   top‹!«!    Ž!«!       Ž!«!   offset‹!«!    !«!          init/</<b  g‰ ”‰ _‰ ”‰ '  c         Ê5ž!«!          init/</<b  »‰ è‰ ³‰ è‰ '  ·         Ê5žš˜;øÊ5ž!«!          tB  ý‰ Š õ‰ Š '  ù         Ê5žš˜;øÊ5žŽ!«!       Ž!«!	   init‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   core/popperŽ!«!   ./util    !«!       B ¥Š Ú¦ Š Ú¦ (  S   €          f    g    h    i    j    l    m      e ÆŠ ñŠ ¼Š ñŠ (  t          Ê5ž      f ûŠ Ö‹ ñŠ Ö‹ (  ©            B L‹ `‹ D‹ `‹ (  ú          Ê5ž   B i‹ Ñ‹ a‹ Ñ‹ (           Ê5žÊ5ž      g  à‹ ¦Œ Ö‹ ¦Œ (  Ž           B Œ Œ û‹ Œ (  ±  !       Ê5žÊ5ž      h °Œ  ¦Œ  (  ^         Ê5ž      i  ª  ª (  ¼          Ê5ž      j ´ ã ª ã (  b         Ê5ž   B 7Ž ¯¦ /Ž ¯¦ (  å  P         a    b    c    d    e    k    n    o    p    q    r    s    t    u    v    w    x    y    z    A   B  y’ Ÿ¤ q’ Ÿ¤ (  '             i      i †’ 8“ |’ 8“ (  4         Ê5ž   B  `“ )— X“ )— (  	  R       Ê5ž   B  H— ä— @— ä— (  ö         Ê5ž   B  ˜ \˜ ú— \˜ (  °         Ê5ž   B  †˜ ð˜ ~˜ ð˜ (  4  "          b   B ¸˜ î˜ °˜ î˜ (  f         Ê5žÊ5ž   B ™ ™™ 
™ ™™ (  À         Ê5ž   B  À™ 2š ¸™ 2š (  n  "       Ê5ž   B  Wš V› Oš V› (           Ê5ž   B  {› ²› s› ²› (  )         Ê5ž   B  Ú› & Ò› & (  ˆ  "          a   B !œ hœ œ hœ (  Ï         Ê5žÊ5ž   B P :ž H :ž (  þ  "          b   B  m 8ž e 8ž (    "       Ê5žÊ5ž   B ]ž ã  Už ã  (    @       Ê5ž   B ¡ i¡ ¡ i¡ (  ¾         Ê5ž   B —¡ ¤ ¡ ¤ (  E  R       Ê5ž   B  7¤ C¤ /¤ C¤ (  å         Ê5ž   B  `¤ l¤ X¤ l¤ (           Ê5ž   B  ¤ ™¤ …¤ ™¤ (  ;         Ê5žÊ5ž   B Ÿ¥ ô¥ —¥ ô¥ (  M         Ê5ž   B ¦ 7¦ ¦ 7¦ (  Í         Ê5ž   B  …¦ ¬¦ }¦ ¬¦ (  3         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   ./util    !«!       B § ¨¯ § ¨¯ )  B   P          e    f    g    i      d >§ i§ 4§ i§ )  a          Ê5ž      e s§ Ç§ i§ Ç§ )  –          Ê5ž      f Ñ§ m¨ Ç§ m¨ )  ô           Ê5ž      g w¨ ¦¨ m¨ ¦¨ )  š         Ê5ž   B ó¨ Š¯ ë¨ Š¯ )               a    b    c    d    j    k    m    n    o   B  ª Ç® ü© Ç® )  '      
       b      b ª /ª ª /ª )  4         Ê5ž   B Vª ×ª Nª ×ª )  y         Ê5ž   B  öª *« îª *« )           Ê5ž   B Q« Ë« I« Ë« )  t         Ê5ž   B õ« )¬ í« )¬ )           Ê5ž   B O¬ E­ G¬ E­ )  r  2          b    c   B ì¬ ­ ä¬ ­ )           Ê5žÊ5ž   B l­ ™­ d­ ™­ )           Ê5ž   B Ã­ 6® »­ 6® )  æ  "          c   B  à­ 4® Ø­ 4® )           Ê5žÊ5ž   B \® ˜® T® ˜® )               a   B o® —® g® —® )  ’         Ê5žÊ5ž   B  µ® Á® ­® Á® )  Ø         Ê5žÊ5ž   B  `¯ ‡¯ X¯ ‡¯ )  ƒ         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/pending    !«!       B è¯ «¶ à¯ «¶ *  =   0          a    b   B  ° ©¶ ú¯ ©¶ *  W   P   	       c    d    e    f   B  °  ° °  ° *  m          Ê5ž   B  +° D° #° D° *  €          Ê5ž   B s° 4± k° 4± *  È          Ê5ž   B D± ±± <± ±± *  ™           B V± v± N± v± *  «         Ê5žÊ5ž   B à± n² Ø± n² *  5         Ê5ž   B °² ²³ ¨² ²³ *            Ê5ž   B ó³ fµ ë³ fµ *  H  `       Ê5ž   B —µ Öµ µ Öµ *  ì         Ê5ž   B  âµ §¶ Úµ §¶ *  7           B ÿµ €¶ ÷µ €¶ *  T         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!=   core/custom_interaction_eventsŽ!«!   core/log    !«!       B 
· ÚÀ · ÚÀ +  \   p          a    b    c    d    e    f   B  ¸ {º ý· {º +  W           B ¹¸ =º ±¸ =º +           Ê5žÊ5ž   B   º ÿ» ˜º ÿ» +  ò           B Ãº ý» »º ý» +           Ê5žÊ5ž   B !¼ „¾ ¼ „¾ +  s         Ê5ž   B «¾ }¿ £¾ }¿ +  ý         Ê5ž   B  ©¿ ¹À ¡¿ ¹À +  û           B Ì¿ nÀ Ä¿ nÀ +  	           B À aÀ À aÀ +  i	         Ê5žÊ5ž   B  –À ¬À ŽÀ ¬À +  è	         Ê5žÊ5ž   B  ÈÀ ØÀ ÀÀ ØÀ +  
         Ê5žÊ5ž!«!       C  Š      	                                   €  æÀ Á ÞÀ Á ,  	              G=    š   'E   æQš   5   æ    æš      =   T ç M   æ=   š   '+   æš   T š   š   š   : 6      æT  T :  6   æQ™‘•ÙØÎ*&ÞÕ#Ê    function   define   amd%   theme_boost/tether   object   exports   module   require   TetherŒ!«!ÿÿÿÿ      a   b        «+’Hš˜;ø      Ê5ž!«!       C  ©               3                  G      €  Á ! ‡Á ! ,                ‚    ‰ '  Q‚   ‰   Q‚   ‰ %  Q‚   ‰   Q‚   ‰ "  Q‚   ‰ 
  Q‚   ‰ &  Q‚   ‰   Q‚   ‰   Q‚	   ‰   Q‚
   ‰ !  Q‚   ‰   Q‚   ‰   Q‚   ‰   Q‚   ‰ '  Q‚   ‰ #  Q‚   ‰   Q‚   ‰    Q‚   ‰ $  Q‚   ‰   Q‚   ‰   Q‚   :  ‰   Q>(‰ 	  Q=    ˆ 	  'E   æQ[   Z    ]   ‰ 	  æQ@‰   Q‚   :  ‰   Q[   ‰   Q‚   ‰   QZ    ‰   Q‚   ‰   Q‚   ‰   Q‚   :  W  Qˆ 	  [   ˆ   ]   ˆ %  ]   ˆ "  ]   ˆ 
  ]   ˆ   ]   ˆ   ]   ˆ   ]	   ˆ !  ]
   ˆ   ]   ˆ   ]   ˆ   ]   ˆ   ]   V  ]   ˆ &  ]   ˆ   ]   0   Q‚   :  ‰   Q‚   :  ‰   Q‚    ‰   Q=    ˆ 	  '   æš   A=   ,  R pæˆ 	  5   W  QV  5   ‰ %  QV  5   ‰ "  QV  5   ‰ 
  QV  5   ‰   QV  5   ‰   QV  5	   ‰   QV  5   ‰   QV  5   ‰   QV  5   ‰   QV  5   ‰ &  QV  5   ‰   Q‚!   :  ‰   QZ    ‰   Q‚"   ‰   Q‚#   :   Q[$   =   ]   =   ]   =   ]   ‰ +  Q[%   =   ]   =   ]   =   ]   ‰   Q[&   >]   >]   =   ]   =   ]   =   ]   =   ]   ‰ )  Q‚'   ‰   Q‚(   ‰ (  Q‚)   ‰   Qˆ   ‰ *  Q‚*   V  : W   QV   Z    0   Qˆ 	  ˆ   0   Qˆ   V   ˆ 	  : W  Q‚+   :  ‰   Qˆ 	  5   W  QV  5   ‰ "  QV  5   ‰   QV  5   ‰   QV  5   ‰   QZ   =   `    =   `   =   `   =   `   ‰   Qˆ 	  5   ¸   
[-   ‚,   ]   ç Qˆ 	  5   W  QV  5   ‰ "  QV  5   ‰   QV  5   ‰   Qˆ 	  5   ¸   
[/   ‚.   ]   ç Q‚0   :  ‰   Qˆ 	  5   ¸   
[2   ‚1   ]   ç QV  ™ÿÿÿê€  º€ &–É€  óÈ•ÓÑ—–É3ËË€ "ËËË.–È€ ÖÊ	ÊÊÊÊÊ	ÊÊÊÊÊÊÊÉ
ÊÐ–É€ ª–É€  óÐ€ C–	Ï•EÏ
ÏÏÏÏÏÏÏÏ
Ï
ÏÏ–É€  ëËË9–•€ ‡•ÊÊÐ•ÊÊÐ•––ÊÊÊÐËnË€  ‘ËNËÊÈ€ %«ÏÐÏÈ–É€ ªÏ
ÏÏÏÏ
•ÊÊÊÐ
ÖÊÿÿÿð”€ øÏ
ÏÏÏ
ÖÊÿÿÿð”€ ×–É€ ªÖÊÿÿÿð”€ ”    undefined   modules   Utils7   getActualBoundingClientRect!   getScrollParents   getBounds   getOffsetParent   extend   addClass   removeClass   hasClass   updateClasses   defer   flush   uniqueId   Evented!   getScrollBarSize%   removeUtilElements   Errorg   You must include the utils.js file before tether.js   center   right	   left   middle   bottom   top   50%	   100%   position	   pushŒ!«!ÿÿÿÿ1      a   b   c   Q   B   U   F   C   D   w   o   y   i   s   m   g   q   k   e   l   W   K   O   I   S   M   G   A   E   H   L   x   v   p   z   t   n   h   r   u   f   j   d   R   V   P   J   T   N      «+’H!«!          d ®Á Â ¤Á Â ,  Ñ          Ê5ž!«!          e Â óÂ Â óÂ ,  /  0       Ê5ž!«!          f ýÂ ëÄ óÂ ëÄ ,     P       Ê5ž!«!          g  õÄ Å ëÄ Å ,           Ê5ž!«!          h )Å ÷Æ Å ÷Æ ,  L         Ê5ž!«!          i Ç 5Ç ÷Æ 5Ç ,  $         Ê5ž!«!          j  ?Ç É 5Ç É ,  b         Ê5ž!«!          k  É éÉ É éÉ ,  2  !          a   B ¢É åÉ šÉ åÉ ,  Å         Ê5žÊ5ž!«!          l óÉ ÀÊ éÉ ÀÊ ,  	  0          a   B 9Ê ]Ê 1Ê ]Ê ,  \	         Ê5žÊ5ž!«!          m ÊÊ ZË ÀÊ ZË ,  í	  0          a   B Ë 1Ë Ë 1Ë ,  3
         Ê5žÊ5ž!«!          n dË éË ZË éË ,  ‡
         Ê5ž!«!          o óË cÌ éË cÌ ,           Ê5ž!«!          p mÌ Ì cÌ Ì ,           Ê5ž!«!          q —Ì  Í Ì  Í ,  º  0          a    b   B ±Ì ×Ì ©Ì ×Ì ,  Ô         Ê5ž   B ëÌ þÌ ãÌ þÌ ,           Ê5žÊ5ž!«!          d 
Í ^Í  Í ^Í ,  -         Ê5ž!«!          r hÍ ™Î ^Í ™Î ,  ‹         Ê5ž!«!          s £Î ÿÎ ™Î ÿÎ ,  Æ         Ê5ž!«!          t  	Ï sÏ ÿÎ sÏ ,  ,         Ê5ž!«!          u  }Ï pÐ sÏ pÐ ,     !          a   B îÏ lÐ æÏ lÐ ,           Ê5žÊ5ž!«!          v zÐ AÑ pÐ AÑ ,           Ê5ž!«!          w KÑ ¹Ó AÑ ¹Ó ,  n             b   B  'Ò ´Ó Ò ´Ó ,  J  0          e   B %Ó ²Ó Ó ²Ó ,  H         Ê5žÊ5žÊ5ž!«!          x<b  ÇÓ ¯Ô ¿Ó ¯Ô ,  ê             a      a ÔÓ pÔ ÊÓ pÔ ,  ÷          Ê5ž   B Ô ®Ô wÔ ®Ô ,  ¢         Ê5žÊ5žŽ!«!       Ž!«!   modules‹!«!    !«!          A<b  øÔ  Õ ðÔ  Õ ,               a   B  Õ Õ 
Õ Õ ,  5         Ê5žÊ5žŽ!«!            !«!          CB  2Õ IÖ *Õ IÖ ,  U             b   B  2Ö AÖ *Ö AÖ ,  U         Ê5žÊ5ž!«!          EB YÖ gÖ QÖ gÖ ,  |         Ê5ž!«!          FB  rÖ •Ö jÖ •Ö ,  •         Ê5ž!«!          G<b   Ö kÚ ˜Ö kÚ ,  Ã             a      a  ­Ö ºÖ £Ö ºÖ ,  Ð         Ê5ž   B ÞÖ Ê× ÖÖ Ê× ,           Ê5ž   B æ×  Ø Þ×  Ø ,  	         Ê5ž   B Ø 
Ù Ø 
Ù ,  >         Ê5ž   B )Ù eÚ !Ù eÚ ,  L  3      Ê5žÊ5žŽ!«!       Ž!«!7   getActualBoundingClientRect‹!«!Ž!«!!   getScrollParents‹!«!Ž!«!   getBounds‹!«!Ž!«!   getOffsetParent‹!«!Ž!«!   extend‹!«!Ž!«!   addClass‹!«!Ž!«!   removeClass‹!«!Ž!«!   hasClass‹!«!Ž!«!   updateClasses‹!«!Ž!«!   defer‹!«!Ž!«!   flush‹!«!Ž!«!   uniqueId‹!«!Ž!«!   Evented‹!«!Ž!«!!   getScrollBarSize‹!«!Ž!«!%   removeUtilElements‹!«!    !«!          H<b  _Û þÜ WÛ þÜ ,  ‚             a      a lÛ QÜ bÛ QÜ ,    p       Ê5ž   B `Ü ýÜ XÜ ýÜ ,  ƒ         Ê5žÊ5ž!«!          x<b  Ý óÝ Ý óÝ ,  .             a      a Ý ´Ý Ý ´Ý ,  ;          Ê5ž   B ÃÝ òÝ »Ý òÝ ,  æ         Ê5žÊ5ž!«!          IB  Þ (ß øÝ (ß ,  #  0       Ê5ž!«!          K<b  Rà 2á Jà 2á ,  u          Ê5ž!«!          MB  Dá rá <á rá ,  g            B Yá lá Qá lá ,  |          Ê5žÊ5ž!«!       B  |á ôâ tá ôâ ,  Ÿ   P          a    b    c    d      eB  ¤á Wâ šá Wâ ,  Ç           Ê5ž   B Ñâ òâ Éâ òâ ,  ô!         Ê5žÊ5žŽ!«!       Ž!«!   center‹!«!Ž!«!	   left‹!«!Ž!«!   right‹!«!    Ž!«!       Ž!«!   middle‹!«!Ž!«!   top‹!«!Ž!«!   bottom‹!«!    Ž!«!       Ž!«!   top‹!«!Ž!«!	   left‹!«!Ž!«!   middle‹!«!Ž!«!   center‹!«!Ž!«!   bottom‹!«!Ž!«!   right‹!«!    !«!          QB §ã 
ä Ÿã 
ä ,  Ê"         Ê5ž!«!          RB ä ›ä ä ›ä ,  8#         Ê5ž!«!          SB ¦ä éä žä éä ,  É#         Ê5ž!«!          U<b øä —
 ðä —
 ,  $             b      b å $æ üä $æ ,  )$  "          c   B ×å æ Ïå æ ,  ú$         Ê5žÊ5ž   B  Uæ $ç Mæ $ç ,  x%         Ê5ž   B Fç bì >ç bì ,  i&  #          b   B Dé ê <é ê ,  g(         Ê5žÊ5ž   B  ‰ì ¹ò ì ¹ò ,  ¬+  2       Ê5ž   B  Ûò íò Óò íò ,  þ1         Ê5ž   B 
ó ™ó ó ™ó ,  -2         Ê5ž   B  ·ó õ ¯ó õ ,  Ú2  #          a   B ¨ô ðô  ô ðô ,  Ë3         Ê5žÊ5ž   B  $õ ö õ ö ,  G4  "          a   B Þõ ö Öõ ö ,  5         Ê5žÊ5ž   B  .ö Œö &ö Œö ,  Q5  "          a   B ]ö xö Uö xö ,  €5         Ê5žÊ5ž   B ·ö Bú ¯ö Bú ,  Ú5  2          c    f   B (ù …ù  ù …ù ,  K8         Ê5ž   B  ‘ù @ú ‰ù @ú ,  ´8         Ê5žÊ5ž   B  bú Ç Zú Ç ,  …9  s          a    x    z   B  Sû jû Kû jû ,  v:         Ê5ž   B  -ü Kü %ü Kü ,  P;         Ê5ž   B   j  j ,  B@  P          b    d    f   B  N d F d ,  q@         Ê5ž   B  • ¤  ¤ ,  ¸@         Ê5ž   B ø 1 ð 1 ,  A         Ê5žÊ5žÊ5ž   B ã ‘
 Û ‘
 ,  C           a    b    c    j    l    m    p   B  Ñ  Ñ ,  >D          Ê5ž   B  ö Ó î Ó ,  G             d   B  ; Q 3 Q ,  ^G         Ê5ž   B  o · g · ,  ’G         Ê5žÊ5ž   B  v
 Ž
 n
 Ž
 ,  ™I         Ê5žÊ5žÊ5ž!«!          H<b  Ì
 k Ä
 k ,  ïI             a      a Ù
 ¾ Ï
 ¾ ,  üI  p       Ê5ž   B Í j Å j ,  ðJ         Ê5žÊ5ž!«!          positionB ð À è À ,  L  â          b    c    d    e    g    i    m    n    o    p    r    s   B  u Œ m Œ ,  ˜L         Ê5ž   B  ) G ! G ,  LM         Ê5ž   B Â 	 º 	 ,  åM         Ê5ž   B  g  g ,  @N             a   B Q e I e ,  tN         Ê5žÊ5ž   B Ä ^ ¼ ^ ,  çN  @          u    v   B F Z > Z ,  iU         Ê5ž   B  × p Ï p ,  úV             a   B Z n R n ,  }W         Ê5žÊ5ž   B  † 0 ~ 0 ,  ©W             a   B  .  . ,  =X         Ê5žÊ5žÊ5ž   B  j ¯ b ¯ ,  Y         Ê5žÊ5žŽ!«!       Ž!«!   position‹!«!    !«!          positionB  Ë  Ë ,  ?Z  ¢          b    c    d    i    j    k    l    m    n   B  b y Z y ,  …Z         Ê5ž   B ò  ê  ,  [         Ê5ž   B S z K z ,  v[         Ê5ž   B æ  Þ  ,  	\         Ê5ž   B M u E u ,  p\         Ê5ž   B   Æ y Æ ,  ¤\         Ê5žÊ5žŽ!«!       Ž!«!   position‹!«!    !«!          H<b  Ü { Ô { ,  ÿ\             a      a é Î ß Î ,  ]  p       Ê5ž   B Ý z Õ z ,   ^         Ê5žÊ5ž!«!          positionB ¦ ! ž ! ,  É^  2       Ê5žŽ!«!       Ž!«!   position‹!«!    š˜;øÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   ./util    !«!       B \! °9 T! °9 -  E   p          e    f    g    h    i    k      d {! ¦! q! ¦! -  d          Ê5ž      e °! ‹" ¦! ‹" -  ™            B " " ù! " -  ê          Ê5ž   B " †" " †" -           Ê5žÊ5ž      f  •" [# ‹" [# -  ~           B ¸" B# °" B# -  ¡  !       Ê5žÊ5ž      g e# ¹# [# ¹# -  N         Ê5ž      h Ã# _$ ¹# _$ -  ¬          Ê5ž      i i$ ˜$ _$ ˜$ -  R         Ê5ž   B å$ ’9 Ý$ ’9 -  Î  à          a    b    c    d    l    m    n    o    p    q    r    s    t   B  Ü& 8 Ô& 8 -  Å             h      h é& <) ß& <) -  Ò  "       Ê5ž   B  d) ¡) \) ¡) -  M         Ê5ž   B  ½) !. µ) !. -  ¦  b          b    g   B  ‰, '- , '- -  r         Ê5žÊ5ž   B  =. ß1 5. ß1 -  &  b          b   B  Ó0 <1 Ë0 <1 -  ¼         Ê5žÊ5ž   B 2 #2 ÿ1 #2 -  ð         Ê5ž   B  B2 Í2 :2 Í2 -  +         Ê5ž   B ï2 G3 ç2 G3 -  Ø         Ê5ž   B  l3 ²3 d3 ²3 -  U         Ê5ž   B  Ô3 K5 Ì3 K5 -  ½  "          b   B 5 G5 ý4 G5 -  î         Ê5žÊ5ž   B |5 ê5 t5 ê5 -  e          Ê5ž   B 6 `6 6 `6 -           Ê5ž   B ˆ6 ®7 €6 ®7 -  q  "          b   B  ¥6 ¬7 6 ¬7 -  Ž  "       Ê5žÊ5ž   B  Ë7 ×7 Ã7 ×7 -  ´         Ê5ž   B  ô7  8 ì7  8 -  Ý         Ê5žÊ5ž   B F8 9 >8 9 -  /  "          c   B  È8 9 À8 9 -  ±         Ê5žÊ5ž   B  h9 9 `9 9 -  Q         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jquery    !«!       B í9 	C å9 	C .  :   @          d    e    f      c 
: 5:  : 5: .  W          Ê5ž      d ?: “: 5: “: .  Œ          Ê5ž      e : 9; “: 9; .  ê           Ê5ž      f C; r; 9; r; .           Ê5ž   B ¸; ëB °; ëB .              a    b    c    e    i    j    k    m   B  F= A >= A .  “             b      b S= q= I= q= .            Ê5ž   B  ™= ô? ‘= ô? .  æ  R       Ê5ž   B  @ G@ @ G@ .  `         Ê5ž   B q@ ã@ i@ ã@ .  ¾  "          c   B  Ž@ á@ †@ á@ .  Û         Ê5žÊ5ž   B   A A ø@ A .  M         Ê5žÊ5ž   B YA ÚA QA ÚA .  ¦         Ê5ž   B B sB 
B sB .  _         Ê5ž   B  ÁB èB ¹B èB .  	         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   core/popperŽ!«!   ./util    !«!       B ^C ºn VC ºn /  R   €          f    g    h    i    j    l    m      e C ªC uC ªC /  s          Ê5ž      f  ´C zD ªC zD /  ¨            B ×C aD ÏC aD /  Ë   !       Ê5žÊ5ž      g „D _E zD _E /  x           B ÕD éD ÍD éD /  É         Ê5ž   B òD ZE êD ZE /  æ         Ê5žÊ5ž      h iE ½E _E ½E /  ]         Ê5ž      i ÇE cF ½E cF /  »          Ê5ž      j mF œF cF œF /  a         Ê5ž   B ðF n èF n /  ä  0         a    b    c    d    e    i    k    n    o    p    q    r    s    t    u    v    w    x   B  äK n ÜK n /  Ø      "       i      i ñK *M çK *M /  å         Ê5ž   B  RM hM JM hM /  F
         Ê5ž   B  ‡M M M M /  {
         Ê5ž   B  ÂM æM ºM æM /  ¶
         Ê5ž   B N ˜O üM ˜O /  ø
  2       Ê5ž   B  ·O WQ ¯O WQ /  «         Ê5ž   B  sQ uX kQ uX /  g  2          b   B /V xV 'V xV /  #         Ê5ž   B ŠV °V ‚V °V /  ~         Ê5ž   B  3W ÐW +W ÐW /  '         Ê5žÊ5ž   B ‘X s[ ‰X s[ /  …  B          b    c    d   B  èX ÌY àX ÌY /  Ü         Ê5žÊ5ž   B  ‘[ Ç[ ‰[ Ç[ /  …         Ê5ž   B  ì[ \ ä[ \ /  à         Ê5ž   B 9\ z\ 1\ z\ /  -         Ê5ž   B  Ÿ\ à\ —\ à\ /  “         Ê5ž   B  ] —] ú\ —] /  ö         Ê5ž   B À] Z^ ¸] Z^ /  ´         Ê5ž   B  z^  _ r^  _ /  n         Ê5ž   B F_ d_ >_ d_ /  :         Ê5ž   B  ‰_ b _ b /  }  "          b   B Ê_ ³a Â_ ³a /  ¾            B !` 8` ` 8` /           Ê5ž   B a *a a *a /           Ê5ž   B Ka ba Ca ba /  ?         Ê5ž   B  ža ±a –a ±a /  ’         Ê5žÊ5žÊ5ž   B  9b *c 1b *c /  -         Ê5ž   B Hc Oe @c Oe /  <   "          c   B  e )e ýd )e /  ù!         Ê5žÊ5ž   B me 5g ee 5g /  a"  "          c   B  íf g åf g /  á#         Ê5žÊ5ž   B  ag ±g Yg ±g /  U$         Ê5ž   B Óg i Ëg i /  Ç$         Ê5ž   B  7i ¸i /i ¸i /  +&         Ê5ž   B  Þi Jj Öi Jj /  Ò&         Ê5ž   B ~j Òj vj Òj /  r'         Ê5ž   B  øj ¸k ðj ¸k /  ì'         Ê5ž   B âk èl Úk èl /  Ö(  "          b   B  ÿk æl ÷k æl /  ó(  "       Ê5žÊ5ž   B  m m ýl m /  ù)         Ê5ž   B  .m :m &m :m /  "*         Ê5ž   B  Tm `m Lm `m /  H*         Ê5ž   B  ~m Šm vm Šm /  r*         Ê5ž   B  ¥m ±m m ±m /  ™*         Ê5ž   B  Ðm Üm Èm Üm /  Ä*         Ê5ž   B  ým 	n õm 	n /  ñ*         Ê5žÊ5ž   B  en Œn ]n Œn /  Y+         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jquery    !«!       B õn Øu ín Øu 0  8               c o =o o =o 0  U          Ê5ž   B ƒo ºu {o ºu 0  Æ              a    b    c    d    e    g    h    i    j      b ‘o ×o ‡o ×o 0  Ô          Ê5ž      c  áo kp ×o kp 0  $           B p ip p ip 0  _         Ê5žÊ5ž      d  up Áp kp Áp 0  ¸         Ê5ž      e Ëp Qq Áp Qq 0    2          c    d   B  q q q q 0  N         Ê5ž   B  (q Hq  q Hq 0  k         Ê5žÊ5ž      f  [q Ãq Qq Ãq 0  ž         Ê5ž      g Íq Dr Ãq Dr 0           Ê5ž   B †r Ïr ~r Ïr 0  É         Ê5ž   B ïr «s çr «s 0  2  @       Ê5ž   B »s Õs ³s Õs 0  þ         Ê5ž   B ós t ës t 0  6         Ê5ž   B  *t ?t "t ?t 0  m         Ê5ž   B Rt ot Jt ot 0  •         Ê5ž   B ˆt «u €t «u 0  Ë          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   ./util    !«!       B v Ôƒ v Ôƒ 1  @   P          e    f    g    i      d :v ev 0v ev 1  _          Ê5ž      e ov Ãv ev Ãv 1  ”          Ê5ž      f Ív iw Ãv iw 1  ò           Ê5ž      g sw ¢w iw ¢w 1  ˜         Ê5ž   B ïw ¶ƒ çw ¶ƒ 1    °          a    b    c    d    j    k    l    m    n    o   B  Az ¿‚ 9z ¿‚ 1  f             b      b Nz lz Dz lz 1  s         Ê5ž   B  ’z ¶} Šz ¶} 1  ·  b          b    d   B  } Œ}  } Œ} 1  -         Ê5žÊ5ž   B  Õ} 	~ Í} 	~ 1  ú         Ê5ž   B *~ L "~ L 1  O  R          b    d    f    g   B  Û~  Ó~  1   	         Ê5žÊ5ž   B w ™ o ™ 1  œ	  0       Ê5ž   B Ã ‚ » ‚ 1  è  "          c   B  à Ž‚ Ø Ž‚ 1    "       Ê5žÊ5ž   B  ­‚ ¹‚ ¥‚ ¹‚ 1  Ò         Ê5žÊ5ž   B ÿ‚ >ƒ ÷‚ >ƒ 1  $         Ê5ž   B  Œƒ ³ƒ „ƒ ³ƒ 1  ±         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   ./tetherŽ!«!   core/event    !«!       B „ ë† „ ë† 2  H   0          a    c   B ^… æ† V… æ† 2  ‡           B Z† Û† R† Û† 2  ƒ           B  Ž† Ù† †† Ù† 2  ·         Ê5žÊ5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   ./util    !«!       B 0‡ ® (‡ ® 3  B   p          e    f    g    h    i    k      d O‡ z‡ E‡ z‡ 3  a          Ê5ž      e „‡ _ˆ z‡ _ˆ 3  –            B Õ‡ é‡ Í‡ é‡ 3  ç          Ê5ž   B ò‡ Zˆ ê‡ Zˆ 3           Ê5žÊ5ž      f  iˆ /‰ _ˆ /‰ 3  {           B Œˆ ‰ „ˆ ‰ 3  ž  !       Ê5žÊ5ž      g 9‰ ‰ /‰ ‰ 3  K         Ê5ž      h —‰ 3Š ‰ 3Š 3  ©          Ê5ž      i =Š lŠ 3Š lŠ 3  O         Ê5ž   B ¹Š ú­ ±Š ú­ 3  Ë            a    b    c    d    h    l    m    n    o    p    q    r    s    t    u   B  qŽ ß« iŽ ß« 3  ƒ             j      j ~Ž r tŽ r 3           Ê5ž   B š Ì ’ Ì 3  ¬         Ê5ž   B è ¿’ à ¿’ 3  ú  B          b    c   B Ï‘ ä‘ Ç‘ ä‘ 3  á
         Ê5ž   B  ’ ‚’ ’ ‚’ 3  '           B D’ €’ <’ €’ 3  V         Ê5žÊ5ž   B  Ÿ’ »’ —’ »’ 3  ±         Ê5žÊ5ž   B Û’ E• Ó’ E• 3  í  B          c   B ü” • ô” • 3           Ê5žÊ5ž   B  d• p– \• p– 3  v         Ê5ž   B  ”– ¬– Œ– ¬– 3  ¦         Ê5ž   B Î– — Æ– — 3  à         Ê5ž   B /— ¹™ '— ¹™ 3  A  2          c    e   B  ™ g™ 	™ g™ 3  #         Ê5žÊ5ž   B  Þ™ ‰š Ö™ ‰š 3  ð  "          b   B š ‡š š ‡š 3  .         Ê5žÊ5ž   B  °š y› ¨š y› 3  Â  "          b   B › @› 	› @› 3  #         Ê5žÊ5ž   B   › œ ˜› œ 3  ²  "          b   B Ú› ÷› Ò› ÷› 3  ì         Ê5žÊ5ž   B  3œ 9 +œ 9 3  E  "          b   B  Åœ 7 ½œ 7 3  ×         Ê5žÊ5ž   B  ` ¤ X ¤ 3  r         Ê5ž   B É ¡¡ Á ¡¡ 3  Û  R          b    c   B (Ÿ ÈŸ  Ÿ ÈŸ 3  :         Ê5ž   B  Ý  û  Õ  û  3  ï         Ê5žÊ5ž   B  Æ¡ Ù¢ ¾¡ Ù¢ 3  Ø         Ê5ž   B  £ L£ ú¢ L£ 3           Ê5ž   B  s£ 
¤ k£ 
¤ 3  …         Ê5ž   B  /¤ [§ '¤ [§ 3  A  2          b   B y¤ ¥ q¤ ¥ 3  ‹         Ê5ž   B A¥ â¥ 9¥ â¥ 3  S         Ê5ž   B ¦ ¦¦ ý¥ ¦¦ 3           Ê5žÊ5ž   B  ‚§ V© z§ V© 3  ”            B ¥§ ¨ § ¨ 3  ·          Ê5ž   B g¨ Ú¨ _¨ Ú¨ 3  y!         Ê5žÊ5ž   B  €© ?ª x© ?ª 3  ’"         Ê5ž   B iª ‡« aª ‡« 3  {#  2          b    c   B  ˆª …« €ª …« 3  š#  "       Ê5žÊ5ž   B  ¤« °« œ« °« 3  ¶$         Ê5ž   B  Í« Ù« Å« Ù« 3  ß$         Ê5žÊ5ž   B ¬ ‚­ ¬ ‚­ 3  1%  2          e    i   B ­ [­ ü¬ [­ 3  &           B  7­ Y­ /­ Y­ 3  I&         Ê5žÊ5žÊ5ž   B  Ð­ ÷­ È­ ÷­ 3  â&         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   ./tooltip    !«!       B b® £½ Z® £½ 4  G      	       e    f    g    h    i    j    k    m      d ® ¬® w® ¬® 4  f          Ê5ž      e ¶® ‘¯ ¬® ‘¯ 4  ›            B ¯ ¯ ÿ® ¯ 4  ì          Ê5ž   B $¯ Œ¯ ¯ Œ¯ 4  	         Ê5žÊ5ž      f ›¯ ï¯ ‘¯ ï¯ 4  €         Ê5ž      g ù¯ •° ï¯ •° 4  Þ          Ê5ž      h Ÿ° Î° •° Î° 4  „         Ê5ž      i Ø° ‚± Î° ‚± 4  ½         Ê5ž      j Œ± ®² ‚± ®² 4  q         Ê5ž      k  ¸² ~³ ®² ~³ 4             B Û² e³ Ó² e³ 4  À  !       Ê5žÊ5ž   B Ë³ …½ Ã³ …½ 4  °  ð          a    b    c    d    g    l    n    o    p    q    r    s    t    u   B à¶ ù¼ Ø¶ ù¼ 4  Å             l      l  î¶ H· ä¶ H· 4  Ó         Ê5ž   B  ~· ¬· v· ¬· 4  c	         Ê5ž   B Ö· ¸ Î· ¸ 4  »	         Ê5ž   B  <¸ }¸ 4¸ }¸ 4  !
         Ê5ž   B  Ÿ¸  ¹ —¸  ¹ 4  „
         Ê5ž   B  Ã¹ º »¹ º 4  ¨         Ê5ž   B  2º žº *º žº 4           Ê5ž   B Èº Ò» Àº Ò» 4  ­  "          b   B  åº Ð» Ýº Ð» 4  Ê  "       Ê5žÊ5ž   B  ï» û» ç» û» 4  Ô         Ê5ž   B  ¼ $¼ ¼ $¼ 4  ý         Ê5ž   B  >¼ J¼ 6¼ J¼ 4  #         Ê5ž   B  h¼ t¼ `¼ t¼ 4  M         Ê5ž   B  ¼ ›¼ ‡¼ ›¼ 4  t         Ê5ž   B  º¼ Æ¼ ²¼ Æ¼ 4  Ÿ         Ê5ž   B  ç¼ ó¼ ß¼ ó¼ 4  Ì         Ê5žÊ5ž   B  [½ ‚½ S½ ‚½ 4  @         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   ./util    !«!       B ë½ ¶Û ã½ ¶Û 5  E   p          e    f    g    h    i    k      d 
¾ 5¾  ¾ 5¾ 5  d          Ê5ž      e ?¾ ¿ 5¾ ¿ 5  ™            B ¾ ¤¾ ˆ¾ ¤¾ 5  ê          Ê5ž   B ­¾ ¿ ¥¾ ¿ 5           Ê5žÊ5ž      f  $¿ ê¿ ¿ ê¿ 5  ~           B G¿ Ñ¿ ?¿ Ñ¿ 5  ¡  !       Ê5žÊ5ž      g ô¿ HÀ ê¿ HÀ 5  N         Ê5ž      h RÀ îÀ HÀ îÀ 5  ¬          Ê5ž      i øÀ 'Á îÀ 'Á 5  R         Ê5ž   B tÁ ˜Û lÁ ˜Û 5  Î            a    b    c    d    h    l    m    n    o    p    q    r    s    t    u    v    w   B  ~Å VÚ vÅ VÚ 5  Ø             j      j ‹Å ¤Æ Å ¤Æ 5  å         Ê5ž   B  ÊÆ òÆ ÂÆ òÆ 5  $	         Ê5ž   B  Ç ŠÇ Ç ŠÇ 5  s	         Ê5ž   B  ¦Ç ÎÇ žÇ ÎÇ 5   
         Ê5ž   B ëÇ ÇÈ ãÇ ÇÈ 5  E
         Ê5ž   B äÈ äÉ ÜÈ äÉ 5  >         Ê5ž   B þÉ WË öÉ WË 5  X  B          b    c   B  ÝÊ ïÊ ÕÊ ïÊ 5  7         Ê5žÊ5ž   B  vË XÌ nË XÌ 5  Ð         Ê5ž   B zÌ ·Ì rÌ ·Ì 5  Ô         Ê5ž   B  áÌ µÎ ÙÌ µÎ 5  ;  "          b   B ,Í EÍ $Í EÍ 5  †         Ê5ž   B Í ¥Í ‡Í ¥Í 5  é         Ê5ž   B ¿Í ÕÍ ·Í ÕÍ 5           Ê5ž   B  )Î ²Î !Î ²Î 5  ƒ           B …Î ›Î }Î ›Î 5  ß         Ê5žÊ5žÊ5ž   B ÕÎ iÏ ÍÎ iÏ 5  /  "       Ê5ž   B ŽÏ äÏ †Ï äÏ 5  è         Ê5ž   B Ð 	Ñ Ð 	Ñ 5  i         Ê5ž   B 3Ñ õÑ +Ñ õÑ 5           Ê5ž   B 'Ò áÒ Ò áÒ 5    "       Ê5ž   B ÿÒ  × ÷Ò  × 5  Y  ‚          d    e    g    h    j    p   B  ÁÕ Ö ¹Õ Ö 5             B  iÖ ŒÖ aÖ ŒÖ 5  Ã         Ê5žÊ5žÊ5ž   B J× ¿Ø B× ¿Ø 5  ¤  "          b   B  g× ½Ø _× ½Ø 5  Á  "       Ê5žÊ5ž   B ëØ þÙ ãØ þÙ 5  E  2       Ê5ž   B  Ú 'Ú Ú 'Ú 5  u         Ê5ž   B  DÚ PÚ <Ú PÚ 5  ž         Ê5žÊ5ž   B  ÊÚ  Û ÂÚ  Û 5  $           B  éÚ Û áÚ Û 5  C         Ê5žÊ5ž   B  nÛ •Û fÛ •Û 5  È         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jqueryŽ!«!   core/event    !«!       B Ü úÞ ûÛ úÞ 6  J   0          a    b   B  Ü øÞ Ü øÞ 6  g              d   B tÜ öÞ lÜ öÞ 6  »          Ê5žÊ5žÊ5žŽ!«!      Ž!«!   exportsŽ!«!   jqueryŽ!«!   ./util    !«!       B Cß hõ ;ß hõ 7  F   p          e    f    g    h    i    k      d bß ß Xß ß 7  e          Ê5ž      e —ß rà ß rà 7  š            B èß üß àß üß 7  ë          Ê5ž   B à mà ýß mà 7           Ê5žÊ5ž      f  |à Bá rà Bá 7             B Ÿà )á —à )á 7  ¢  !       Ê5žÊ5ž      g Lá  á Bá  á 7  O         Ê5ž      h ªá Fâ  á Fâ 7  ­          Ê5ž      i Pâ â Fâ â 7  S         Ê5ž   B Ìâ Jõ Äâ Jõ 7  Ï  à          a    b    c    d    h    l    m    n    o    p    q    r    s   B  iå 7ô aå 7ô 7  l             j      j vå gç lå gç 7  y  "          d   B -ç Fç %ç Fç 7  0         Ê5žÊ5ž   B  ç íé ˆç íé 7  “  B          b    d    e   B Âè eé ºè eé 7  Å	          Ê5ž   B vé ƒé né ƒé 7  y
         Ê5ž   B ’é ©é Šé ©é 7  •
         Ê5ž   B »é ëé ³é ëé 7  ¾
         Ê5žÊ5ž   B  ê óê ê óê 7           Ê5ž   B ë Ûë ë Ûë 7            Ê5ž   B   ì eì øë eì 7           Ê5ž   B  ì í …ì í 7           Ê5ž   B  ,í ™í $í ™í 7  /         Ê5ž   B  ¹í ð ±í ð 7  ¼  2       Ê5ž   B $ð uò ð uò 7  '  "          b   B {ð Ùð sð Ùð 7  ~         Ê5žÊ5ž   B  “ò Ïò ‹ò Ïò 7  –         Ê5ž   B ùò ßó ñò ßó 7  ü  "          b   B  ó Ýó ó Ýó 7    "       Ê5žÊ5ž   B  üó ô ôó ô 7  ÿ         Ê5ž   B  %ô 1ô ô 1ô 7  (         Ê5žÊ5ž   B  fô Òô ^ô Òô 7  i          Ê5ž   B   õ Gõ õ Gõ 7  #         Ê5žÊ5žÊ5žŽ!«!      Ž!«!   jquery    !«!       C  Š      †   z      –                          ¦õ sb žõ sb 8                 ‚    ‰   Q‚   ‰   Q‚   ‰   Qˆ   =    : ¸   
ç  Qˆ   ‚   ç Q=   ‰   Q‚   ‰   Qˆ   5   ‚   6   Qˆ   5   5   ‰   Qˆ   5   ‚   6   Qˆ   5   5   ˆ   6   Qˆ   5   5   ‚   6   Qˆ   š	   : ¸
   
=   ˆ   ˆ   5   5   ç Q‚   ‰ 	  Qˆ 	  5   ‚	   6   Qˆ 	  5   ‚
   6   Qˆ   5   5   ‰   Qˆ   5   ‚   6   Qˆ   5   5   [   =   ]   6   Qˆ   5   5   ˆ 	  6   Qˆ   5   5   ‚   6   Qˆ   š	   : ¸
   
=   =   ‚   ç Q‚   ‰ 
  Qˆ 
  [   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   ‚   ]   6   Qˆ   5   5   ‰   Qˆ   5   ‚   6   Qˆ   5   5   [   Xˆ]   =   ]   6   Qˆ   5   5   ˆ 
  6   Qˆ   5   5   ‚   6   Qˆ   š	   : ¸
   
=   =   ‚   ç Q‚   ‰   Qˆ   [#   ˆ   ]    ‚   ]!   ‚   ]"   ‚   ]   ‚    ]#   ‚!   ]$   ‚"   ]   6   Qˆ   5   5%   ‰   Qˆ   5   ‚$   6%   Qˆ   5   5%   [%   C]   6   Qˆ   5   5%   ˆ   6   Qˆ   5   5%   ‚&   6   Qˆ   š	   : ¸
   
=&   ='   ‚'   ç Q=(   ‰   Q‚(   ‰   Qˆ   [+   ˆ   ]    ‚)   ]   ‚*   ])   6   Qˆ   5   5*   ‰   Qˆ   5   ‚,   6*   Qˆ   5   5*   ˆ   6   Qˆ   5   5*   ‚-   6   Qˆ   š	   : ¸
   
=+   ˆ   : ¸
   
=+   =,   ‚.   : ¸
   
=+   ˆ   ˆ   5   5   : ¸
   
=-   ˆ   =.   ˆ   5   5)   ç Q‚/   ‰   Qˆ   [9   ˆ   ]    ‚0   ]   ‚1   ]"   ‚2   ]   ‚3   ]/   ‚4   ]0   ‚5   ]1   ‚6   ]2   ‚7   ]3   ‚8   ]4   6   Qˆ   5   55   ‰   Qˆ   5   ‚:   65   Qˆ   5   55   [;   C]4   C]6   C]"   6   Qˆ   5   55   ˆ   6   Qˆ   5   55   ‚<   6   Qˆ   š	   : ¸
   
=7   =8   ‚=   ç Q‚>   ‰   Qˆ   [T   ˆ   ]    ‚?   ]9   ‚@   ]:   ‚A   ];   ‚B   ]<   ‚C   ]"   ‚D   ]=   ‚E   ]>   ‚F   ]?   ‚G   ]   ‚H   ]@   ‚I   ]A   ‚J   ]B   ‚K   ]C   ‚L   ]D   ‚M   ]E   ‚N   ]F   ‚O   ]G   ‚P   ]H   ‚Q   ]I   ‚R   ]   ‚S   ]J   6   Qˆ   5   5K   ‰   Qˆ   5   ‚U   6K   Qˆ   5   5K   ˆ   6   Qˆ   5   5K   [V   C]L   =M   ]N   B]O   =P   ]Q   =R   ]S   =T   ]U   >]V   B]W   B]X   6   Qˆ   5   5K   ‚W   6   Q‚X   ‰   Qˆ   ˆ   ¸Y   
[Y   ˆ   5   5K   5   5   [_   ˆ   ]    ‚Z   ]?   ‚[   ]A   ‚\   ]Z   ‚]   ]D   ‚^   ]J   : 6   Qˆ   5   5[   ‰   Qˆ   5   ‚`   6[   Qˆ   5   5[   ˆ   6   Qˆ   5   5[   ˆ   ¸Y   
[a   ˆ   5   5K   5   [b   =\   ]N   =]   ]S   =T   ]^   =_   ]Q   : 6   Qˆ   5   5[   ‚c   6   Qˆ   [g   ˆ   ]    ‚d   ]`   ‚e   ]a   ‚f   ]b   6   Qˆ   5   5c   ‰   Qˆ   5   ‚h   6c   Qˆ   5   5c   ˆ   6   Qˆ   5   5c   [i   ×
]d   6   Qˆ   5   5c   ‚j   6   Qˆ   še   : ¸
   
=f   ‚k   ç Q‚l   ‰   Qˆ   [o   ˆ   ]    ‚m   ]"   ‚n   ]b   6   Qˆ   5   5g   ‰   Qˆ   5   ‚p   6g   Qˆ   5   5g   ˆ   6   Qˆ   5   5g   ‚q   6   Qˆ   š	   : ¸
   
=h   =i   ‚r   ç Q‚s   ‰   Qˆ   [‹   ˆ   ]    ‚t   ]j   ‚u   ]k   ‚v   ]"   ‚w   ]   ‚x   ]l   ‚y   ]a   ‚z   ]m   ‚{   ]n   ‚|   ]o   ‚}   ]p   ‚~   ]   ‚   ]   ‚€   ]q   ‚   ]r   ‚‚   ]s   ‚ƒ   ])   ‚„   ]t   ‚…   ]u   ‚†   ]v   ‚‡   ]w   ‚ˆ   ]]   ‚‰   ]x   ‚Š   ]y   6   Qˆ   5   5z   ‰   Qˆ   5   ‚Œ   6z   Qˆ   5   5z   [   Z    ]{   ×]|   =}   ]~   =   ]€   ?]   6   Qˆ   5   5z   ˆ   6   Qˆ   5   5z   ‚Ž   6   Qˆ   š	   : ¸
   
=‚   =ƒ   ‚   ç Q‚   ‰   Qˆ   5   ‚‘   6„   Qˆ   5   5…   ‰   Qˆ   5   ‚’   6…   Qˆ   5   5…   ˆ   6   Qˆ   5   5…   [“   >]d   6   Qˆ   5   5…   ‚”   6   Qˆ   še   : ¸
   
=f   ‚•   ç Q™á€ ÍÙÏ€ FËË-Õ€ •ÕÕ€  ˜ÚÚ;ò?ËUÕ€ Õ€  ¯ÕÕ€  ¼ÔÐÚÚ=è€  ŸË€  îÊÊ€  ÏÊ€  ŸÊ€  áÊ€  éÊ<Ê<Ð€ 8ÕÕ€ ÔÈÐÚÚAè€ DË€  µÊÊÊVÊ€ ÀÊ€  ÊÊ€  ¶Ê€ AÐKÕÕ€  âÔÌÚÚAè€ <ËË€  —ÊÊÊ€ 
Ð€ ­ÕÕ€  ¡ÚÚAÿÿÊ€  ùË€  ÕÊÊÊ=Ê€ Ê€ RÊ€  ŸÊ€  ÄÊ€  ÕÊ€  ÊWÐ€ •ÕÕ€  æÔ––Ì	ÚÚ;è€ =Ë*ÊÊÊ€ qÊ€  ©Ê€ yÊ€ (Ê€ RÊ€ “ÊFÊ€  ¦Ê€ ‡Ê€  ¯Ê.Ê€  ËÊ€  šÊEÊTÊeÊ#Ê$Ê5Ê€  ‡ÐWÕÕ€  ²ÚÔ–Ê–ÊiÊÊ	––ÌÚCË*ô<ÊÊ€  ùÊAÊ€  ›ÊQÊÿÿýœÉ€ ¼ÕÕ€  ²Úù9ÊÊÊÊÿÿÿ°É€  ÔÚ?ÊÊÊ€ ŸÊ€ iÐ€ HÕÕ€  ¸ÚÔÍÚCãtË!ÊÊÊ€ ©Ð€ ¡ÕÕ€  ŒÚÚ7è€  ‰Ë€ }ÊÊÊ€  †ÊÊ€  ÑÊ=Ê€ Ê€  ¼ÊNÊ€  ¶Ê€  ³Ê€  ÎÊ€  “Ê€  ”Ê€ ¨Ê€  ‘Ê€  ÌÊdÊ@Ê€  ùÊ#ÊLÊ^Ê€  ‚ÐWÕÕ€  ¸ÔÊ
—Ê1Ê!ÌÚÚCè€  ’Ë€ !Õ€ DÕÕ€  ¬ÚÔÌ
Ú;ã€  Ý    .h1	   hide-   [data-dismiss="alert"]   prototype   close   fn   alert   Constructor   noConflict   document   on)   click.alert.data-api   setState   toggle   button   defaults   loading...   loadingText+   click.button.data-api+   [data-toggle^=button]   cycle   getActiveIndex   to   pause	   next	   prev   slide   carousel   interval   hover/   click.carousel.data-api;   [data-slide], [data-slide-to]   constructor   dimension	   show   reset   transition   collapse/   click.collapse.data-api-   [data-toggle=collapse]-   [data-toggle=dropdown]   keydown   dropdown/   click.dropdown.data-api   .dropdown form3   keydown.dropdown.data-api   , [role=menu]   enforceFocus   escape%   hideWithTransition   hideModal   removeBackdrop   backdrop   modal   keyboard)   click.modal.data-api+   [data-toggle="modal"]	   init   getOptions   enter   leave   applyPlacement   replaceArrow   setContent   fixTitle   hasContent   getPosition   getTitle   tip   arrow   validate   enable   disable   toggleEnabled   destroy   tooltip   animation   top   placement   selector»   <div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>   template   hover focus   trigger      title   delay	   html   container   extend   getContent   popover   right   click   contentí   <div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>   refresh   process   activate   scrollspy   offset   window	   load   tab%   click.tab.data-apiS   [data-toggle="tab"], [data-toggle="pill"]   select   updater   lookup   matcher   sorter   highlighter   render   listen   eventSupported	   move   keypress   keyup   focus	   blur   mouseenter   mouseleave   typeahead   source   itemsS   <ul class="typeahead dropdown-menu"></ul>	   menu3   <li><a href="#"></a></li>	   item   minLength1   focus.typeahead.data-api5   [data-provide="typeahead"]   checkPosition   affixŒ!«!ÿÿÿÿ      a   b   c   d   e   f   g   h   i   j   k   l   m   n   o   p   q   r       «+’H!«!          b ´õ 7ö ªõ 7ö 8  I              b   B  ëõ 5ö ãõ 5ö 8  €          Ê5žÊ5ž!«!          c Aö Ùö 7ö Ùö 8  Ö          Ê5ž!«!          d ãö 8ø Ùö 8ø 8  x         Ê5ž!«!        C                                             €   Rø ˆù Jø ˆù 8                 ˆ   5    ‚    :  6   Q™€ êÐÉ€     support   transitionŒ!«!ÿÿÿÿ              «+’H!«!       +   a.support.transition<c   *                                          €   rø …ù jø …ù 8                ‚    :  W   QV   E   æQ[   V   ]    æ™€ –È€  øÐÊ    endŒ!«!ÿÿÿÿ      a         «+’H!«!       1   a.support.transition</a<c             .                               €  ƒø pù {ø pù 8              š    ¸   
=   : W  Q[    =   ]   =   ]   =   ]   =   ]	   W  QV  K0   mÞW   >(V  5
   V   7I   æV  V   7˜QN™æãQLMÐÿÿÿæQN™€ ÑÈ$•Ê'ÊÊ,Õ05Ë*Ñ–É•ÿÿÿÓÍ-    document   createElement   bootstrap'   webkitTransitionEnd!   WebkitTransition   transitionend   MozTransition;   oTransitionEnd otransitionend   OTransition   transition   styleŒ!«!ÿÿÿÿ      a   b   c         «+’HŽ!«!       Ž!«!!   WebkitTransition‹!«!Ž!«!   MozTransition‹!«!Ž!«!   OTransition‹!«!Ž!«!   transition‹!«!    š˜;ø   V   7          Ê5žŽ!«!       Ž!«!   end‹!«!    š˜;øÊ5žš˜;øÊ5ž!«!          fB ³ù Õù «ù Õù 8  H         Ê5ž!«!       #   f.prototype.closeb ðù fû èù fû 8  …  "          d      c  þù ú ôù ú 8  “         Ê5žÊ5ž!«!          a.fn.alertb ‹û ü ƒû ü 8     "          b   B  ¨û ü  û ü 8  =         Ê5žÊ5ž!«!       +   a.fn.alert.noConflictb  Gü cü ?ü cü 8  Ü         Ê5ž!«!          hB ­ü ÷ü ¥ü ÷ü 8  B         Ê5ž!«!       )   h.prototype.setStateb ý þ ý þ 8  ª  B          a    b    c   B  Ãý þ »ý þ 8  X         Ê5žÊ5ž!«!       %   h.prototype.toggleb  .þ ½þ &þ ½þ 8  Ã         Ê5ž!«!          a.fn.buttonb äþ ‹ÿ Üþ ‹ÿ 8  y	  "          b   B  ÿ ‰ÿ ùþ ‰ÿ 8  –	         Ê5žÊ5žŽ!«!       Ž!«!   loadingText‹!«!    !«!       -   a.fn.button.noConflictb  õÿ   íÿ   8  Š
         Ê5ž!«!       B Z  ¬  R  ¬  8  ï
         Ê5ž!«!          iB ¼  Ÿ ´  Ÿ 8  Q         Ê5ž!«!          cycleB » { ³ { 8  P         Ê5ž!«!          getActiveIndexB  “  ‹  8  (         Ê5ž!«!          toB & û  û 8  »  2          b    d   B  ¤ ¯ œ ¯ 8  9         Ê5žÊ5ž!«!          pauseB 
 ä  ä 8  Ÿ         Ê5ž!«!       	   nextB  ò   ê   8  ‡         Ê5ž!«!       	   prevB  . \ & \ 8  Ã         Ê5ž!«!          slideB k 	 c 	 8     ’          b    e    f    h    j   B   W þ W 8  ›         Ê5ž   B  9 Ö 1 Ö 8  Î           B  ´ Ò ¬ Ò 8  I         Ê5žÊ5žÊ5žŽ!«!       Ž!«!   cycle‹!«!Ž!«!   getActiveIndex‹!«!Ž!«!   to‹!«!Ž!«!   pause‹!«!Ž!«!	   next‹!«!Ž!«!	   prev‹!«!Ž!«!   slide‹!«!    !«!          a.fn.carouselb »	 Ã
 ³	 Ã
 8  P  "          b   B  Ø	 Á
 Ð	 Á
 8  m         Ê5žÊ5žŽ!«!       Ž!«!   interval‹!«!Ž!«!   pause‹!«!    !«!       1   a.fn.carousel.noConflictb  5 T - T 8  Ê         Ê5ž!«!       B ¦ “ ž “ 8  ;         Ê5ž!«!          jB £ M › M 8  8         Ê5ž!«!          dimensionB  { ¾ s ¾ 8           Ê5ž!«!       	   showB  Ì ~ Ä ~ 8  a  2       Ê5ž!«!       	   hideB  Œ H „ H 8  !         Ê5ž!«!          resetB W þ O þ 8  ì         Ê5ž!«!          transitionB  ? 
 ? 8  §  B          c    d    e   B  / t ' t 8  Ä         Ê5žÊ5ž!«!          toggleB  O … G … 8  ä         Ê5žŽ!«!       Ž!«!   constructor‹!«!Ž!«!   dimension‹!«!Ž!«!	   show‹!«!Ž!«!	   hide‹!«!Ž!«!   reset‹!«!Ž!«!   transition‹!«!Ž!«!   toggle‹!«!    !«!          a.fn.collapseb ± | © | 8  F  "          b   B  Î z Æ z 8  c         Ê5žÊ5žŽ!«!       Ž!«!   toggle‹!«!    !«!       1   a.fn.collapse.noConflictb  Ý ü Õ ü 8  r         Ê5ž!«!       B G 3 ? 3 8  Ü         Ê5ž!«!          lB ^ ê V ê 8  ó  "          c   B  Æ è ¾ è 8  [          Ê5žÊ5ž!«!          toggleB     8  ª          Ê5ž!«!          keydownB   ·  · 8  µ!  "       Ê5žŽ!«!       Ž!«!   constructor‹!«!Ž!«!   toggle‹!«!Ž!«!   keydown‹!«!    !«!          a.fn.dropdownb ã m Û m 8  x#  "          b   B    k ø k 8  •#         Ê5žÊ5ž!«!       1   a.fn.dropdown.noConflictb  « Ê £ Ê 8  @$         Ê5ž!«!       B - E % E 8  Â$         Ê5ž!«!          mB Î ˜ Æ ˜ 8  c%         Ê5ž!«!          toggleB  Ã ð » ð 8  X&         Ê5ž!«!       	   showB  þ ÿ ö ÿ 8  “&  "          b   B  ’ ü Š ü 8  ''           B  ¯ Ö § Ö 8  D(         Ê5žÊ5žÊ5ž!«!       	   hideB  Q  Q 8  ¢(         Ê5ž!«!          enforceFocusB  g ð _ ð 8  ü)  "          b   B œ î ” î 8  1*         Ê5žÊ5ž!«!          escapeB     ´  ø ´  8  •*  "          a   B a  {  Y  {  8  ö*         Ê5žÊ5ž!«!       %   hideWithTransitionB  Ð  ‰! È  ‰! 8  e+  2          b    c   B  ó  -! ë  -! 8  ˆ+         Ê5ž   B  f! ‡! ^! ‡! 8  û+         Ê5žÊ5ž!«!          hideModalB  œ! 
" ”! 
" 8  1,  "          a   B  Õ! " Í! " 8  j,         Ê5žÊ5ž!«!          removeBackdropB  "" a" " a" 8  ·,         Ê5ž!«!          backdropB s" ñ$ k" ñ$ 8  -  "       Ê5žŽ!«!    
   Ž!«!   constructor‹!«!Ž!«!   toggle‹!«!Ž!«!	   show‹!«!Ž!«!	   hide‹!«!Ž!«!   enforceFocus‹!«!Ž!«!   escape‹!«!Ž!«!%   hideWithTransition‹!«!Ž!«!   hideModal‹!«!Ž!«!   removeBackdrop‹!«!Ž!«!   backdrop‹!«!    !«!          a.fn.modalb % é% % é% 8  ¬/  "          b   B  4% ç% ,% ç% 8  É/         Ê5žÊ5žŽ!«!       Ž!«!   backdrop‹!«!Ž!«!   keyboard‹!«!Ž!«!	   show‹!«!    !«!       +   a.fn.modal.noConflictb  W& s& O& s& 8  ì0         Ê5ž!«!       B º& «' ²& «' 8  O1  "          c   B  œ' ©' ”' ©' 8  12         Ê5žÊ5ž!«!          nB »' Ú' ³' Ú' 8  P2         Ê5ž!«!       	   initC x        ‰                        0      € ( f* û' f* 8  ˜2            ¹W  QV  T  6    QV  ˆ   T : 6   QV  V  ¸   
T : 6   QV  C6   QV  5   5   ¸   
=   : W  QV  Ù   W  Q y  mV  V  7W  Q=	   V  W   æV  5   ¸
   
=   V  5    V  5   5   ˆ   ¸   
V  5   V  : ç   æ=   V  Eö   æQ=   V     æ=      æ=   æW   Q=   V     æ=      æ=   æW  QV  5   ¸
   
V   =   V  5    V  5   5   ˆ   ¸   
V  5   V  : ç QV  5   ¸
   
V  =   V  5    V  5   5   ˆ   ¸   
V  5   V  : : æQæãV  #?W  Q}þÿÿæV  5   5   J   æV  ˆ   ¸   
[    V  5   [   =   ]   =   ]   : 6      æV  ¸   
ç  æQ™–€ 2¤ÍÍÉÒÉËÚÈ Î € y€ x€ ˆ–ÏÊRÿÍE“ÿÿÿÆÚcÊÜ"ÊÜ!ÿÌ7“ÿÿÿÉ”QÿÌ7“ÿÿÿÉ–ÿÿþòÕ€ `ÎEé>ÊÊÿÿÿÕÙ9• 	   type   $element   options   getOptions   enabled   trigger   split       length   click   on   click.   selector   proxy   toggle   manual   hover   mouseenter   focus   mouseleave	   blur   .   enter   leave   _options   extend      fixTitleŒ!«!ÿÿÿÿ	      b   c   d   e   f   g   h   i   .this       «+’HŽ!«!            Ž!«!       Ž!«!   trigger‹!«!Ž!«!   selector‹!«!    š˜;ø       ˆ         Ê5ž!«!          getOptionsC        
                                   € z* + r* + 8  5            ¹W   Qˆ   ¸    
[    ˆ   5   V   5   75   V   5   ¸   
:  T  : U  QT  5   ED   æQ=   T  5   ÄE.   æQT  [   T  5   ]   T  5   ]	   6   æQT  ™–€ 5ú'–ÿÿÿÛ—=ÔÙÍÔ“    extend   fn	   type   defaults   $element	   data   delay   number	   show	   hideŒ!«!ÿÿÿÿ      b   .this       «+’HŽ!«!            Ž!«!       Ž!«!	   show‹!«!Ž!«!	   hide‹!«!    š˜;ø       Ê5ž!«!          enterB + ˆ, + ˆ, 8  ³5  B          c    d    e   B {+ “+ s+ “+ 8  6         Ê5ž   B  F, f, >, f, 8  Û6         Ê5žÊ5ž!«!          leaveB —, °- , °- 8  ,7  "          c   B  m- Ž- e- Ž- 8  8         Ê5žÊ5ž!«!       	   showB  ¾- 1 ¶- 1 8  S8  2       Ê5ž!«!          applyPlacementB 1 •2 1 •2 8  ¯;         Ê5ž!«!          replaceArrowB «2 Û2 £2 Û2 8  @=         Ê5ž!«!          setContentB  ï2 3 ç2 3 8  „=         Ê5ž!«!       	   hideB  3 5 ‡3 5 8  $>  "          c      b  œ3 14 ’3 14 8  1>             b   B  ¸3 ä3 °3 ä3 8  M>         Ê5ž   B  4 /4 	4 /4 8  ¦>         Ê5žÊ5žÊ5ž!«!          fixTitleC  š                                          € 5 ·5 5 ·5 8  ¯?            ¹W  QV  5    W   QV   ¸   
=   : D!   æQ=   V   ¸   
=   : ÄæEN   æQV   ¸   
=   V   ¸   
=   : D   æQ=   æ: ¸   
=   =   : æQ™–€ ?¶ÎßÐí=ÐÿÿÿãÙB    $element	   attr   title   string'   data-original-title   Œ!«!ÿÿÿÿ      a   .this         «+’Hš˜;ø       Ê5ž!«!          hasContentB  Ë5 å5 Ã5 å5 8  `@         Ê5ž!«!          getPositionB  ú5 °6 ò5 °6 8  @         Ê5ž!«!          getTitleB  Â6 J7 º6 J7 8  WA         Ê5ž!«!          tipB  W7 7 O7 7 8  ìA         Ê5ž!«!          arrowB  ž7 ã7 –7 ã7 8  3B         Ê5ž!«!          validateB  õ7 H8 í7 H8 8  ŠB         Ê5ž!«!          enableB  X8 k8 P8 k8 8  íB         Ê5ž!«!          disableB  |8 8 t8 8 8  C         Ê5ž!«!          toggleEnabledB  ¦8 Ä8 ž8 Ä8 8  ;C         Ê5ž!«!          toggleB Ô8 K9 Ì8 K9 8  iC         Ê5ž!«!          destroyB  \9 9 T9 9 8  ñC         Ê5žŽ!«!       Ž!«!   constructor‹!«!Ž!«!	   init‹!«!Ž!«!   getOptions‹!«!Ž!«!   enter‹!«!Ž!«!   leave‹!«!Ž!«!	   show‹!«!Ž!«!   applyPlacement‹!«!Ž!«!   replaceArrow‹!«!Ž!«!   setContent‹!«!Ž!«!	   hide‹!«!Ž!«!   fixTitle‹!«!Ž!«!   hasContent‹!«!Ž!«!   getPosition‹!«!Ž!«!   getTitle‹!«!Ž!«!   tip‹!«!Ž!«!   arrow‹!«!Ž!«!   validate‹!«!Ž!«!   enable‹!«!Ž!«!   disable‹!«!Ž!«!   toggleEnabled‹!«!Ž!«!   toggle‹!«!Ž!«!   destroy‹!«!    !«!          a.fn.tooltipb Ç9 c: ¿9 c: 8  \D  "          b   B  ä9 a: Ü9 a: 8  yD         Ê5žÊ5žŽ!«!    	   Ž!«!   animation‹!«!Ž!«!   placement‹!«!Ž!«!   selector‹!«!Ž!«!   template‹!«!Ž!«!   trigger‹!«!Ž!«!   title‹!«!Ž!«!   delay‹!«!Ž!«!	   html‹!«!Ž!«!   container‹!«!    !«!       /   a.fn.tooltip.noConflictb  …; £; }; £; 8  F         Ê5ž!«!          oC !         	                                € ²; Ñ; ª; Ñ; 8  GF            ¹W   QV   ¸    
=   T  T ç Q™–€ FMÚ 	   init   popoverŒ!«!ÿÿÿÿ      a   b   .this       «+’Hš˜;ø       Ê5žŽ!«!            !«!          setContentB  /< = '< = 8  ÄF         Ê5ž!«!          hasContentB  (= U=  = U= 8  ½G         Ê5ž!«!          getContentB  i= ð= a= ð= 8  þG         Ê5ž!«!          tipB  ý= A> õ= A> 8  ’H         Ê5ž!«!          destroyB  R> “> J> “> 8  çH         Ê5žŽ!«!       Ž!«!   constructor‹!«!Ž!«!   setContent‹!«!Ž!«!   hasContent‹!«!Ž!«!   getContent‹!«!Ž!«!   tip‹!«!Ž!«!   destroy‹!«!    !«!          a.fn.popoverc                                            ¾> Z? ¶> Z? 8                ¹W   QV   ¸    
‚    : ™–€ IWÐ“€   	   eachŒ!«!ÿÿÿÿ      b   .this      «+’H!«!          a.fn.popover/<c   ¬         (                                 € Û> X? Ó> X? 8  pI            ¹W  Qˆ  V  : W   QV   ¸    
=   : W  Q=   ˆ   'E   æQˆ   æW  QV  D3   æQV   ¸    
=   ˆ  AV  V  ,  R W  : æQ=   ˆ   'E   æQV  ˆ   Á
:  æQ™–€ IwÊÈÐÈ•Ùí—ÿÿÿí•"•
Ú
• 	   data   popover   object   stringŒ!«!ÿÿÿÿ      c   d   e   .this         «+’Hš˜;ø       Ê5žš˜;øÊ5žŽ!«!            Ž!«!       Ž!«!   placement‹!«!Ž!«!   trigger‹!«!Ž!«!   content‹!«!Ž!«!   template‹!«!    !«!       /   a.fn.popover.noConflictb  €@ ž@ x@ ž@ 8  K         Ê5ž!«!          refreshB  Ê@ XB Â@ XB 8  _K  "          c   B  -A îA %A îA 8  ÂK         Ê5ž   B ýA B õA B 8  ’L         Ê5ž   B  #B VB B VB 8  ¸L         Ê5žÊ5ž!«!          processB  iB ÁC aB ÁC 8  þL         Ê5ž!«!          activateB ÓC E ËC E 8  hN         Ê5žŽ!«!       Ž!«!   constructor‹!«!Ž!«!   refresh‹!«!Ž!«!   process‹!«!Ž!«!   activate‹!«!    !«!          a.fn.scrollspyb 2E ÒE *E ÒE 8  ÇO  "          b   B  OE ÐE GE ÐE 8  äO         Ê5žÊ5žŽ!«!       Ž!«!   offset‹!«!    !«!       3   a.fn.scrollspy.noConflictb  6F VF .F VF 8  ËP         Ê5ž!«!        C             	                                €   sF ÅF kF ÅF 8                 ˆ   =    : ¸   
‚    ç Q™€ QÞN '   [data-spy="scroll"]	   eachŒ!«!ÿÿÿÿ              «+’H!«!       B  œF ÃF ”F ÃF 8  1Q         Ê5žš˜;øÊ5ž!«!          pB ÕF ëF ÍF ëF 8  jQ         Ê5ž!«!       	   showB  G ¯H G ¯H 8  ©Q  2          b    e   B  ~H «H vH «H 8  S         Ê5žÊ5ž!«!          activateB ÁH KJ ¹H KJ 8  VS  P          b    d    f    g      e  ÓH ÇI ÉH ÇI 8  hS         Ê5žÊ5žŽ!«!       Ž!«!   constructor‹!«!Ž!«!	   show‹!«!Ž!«!   activate‹!«!    !«!          a.fn.tabb mJ çJ eJ çJ 8  U  "          b   B  ŠJ åJ ‚J åJ 8  U         Ê5žÊ5ž!«!       '   a.fn.tab.noConflictb  K 5K K 5K 8  °U         Ê5ž!«!       B ŽK ¹K †K ¹K 8  #V         Ê5ž!«!          qB ÉK ;M ÁK ;M 8  ^V         Ê5ž!«!          selectB  fM ÜM ^M ÜM 8  ûW         Ê5ž!«!          updaterB íM úM åM úM 8  ‚X         Ê5ž!«!       	   showB  N ËN  N ËN 8  X         Ê5ž!«!       	   hideB  ÙN O ÑN O 8  nY         Ê5ž!«!          lookupB O P O P 8  ­Y         Ê5ž!«!          processB P ÊP P ÊP 8  ´Z  "          c   B HP `P @P `P 8  ÝZ         Ê5žÊ5ž!«!          matcherB ÛP Q ÓP Q 8  p[         Ê5ž!«!          sorterB (Q ÎQ  Q ÎQ 8  ½[         Ê5ž!«!          highlighterB ãQ R ÛQ R 8  x\           B ZR R RR R 8  ï\         Ê5žÊ5ž!«!          renderB ‘R OS ‰R OS 8  &]  "          c   B ºR S ²R S 8  O]         Ê5žÊ5ž!«!       	   nextB ]S âS US âS 8  ò]         Ê5ž!«!       	   prevB ðS vT èS vT 8  …^         Ê5ž!«!          listenB  †T V ~T V 8  _         Ê5ž!«!          eventSupportedB 6V ¯V .V ¯V 8  Ë`         Ê5ž!«!       	   moveB ½V {W µV {W 8  Ra  2       Ê5ž!«!          keydownB ŒW ßW „W ßW 8  !b         Ê5ž!«!          keypressB ñW X éW X 8  †b         Ê5ž!«!          keyupB .X Y &X Y 8  Ãb  "       Ê5ž!«!          focusB 'Y ;Y Y ;Y 8  ¼c         Ê5ž!«!       	   blurB IY ‡Y AY ‡Y 8  Þc         Ê5ž!«!          clickB –Y åY ŽY åY 8  +d         Ê5ž!«!          mouseenterB ùY gZ ñY gZ 8  Žd         Ê5ž!«!          mouseleaveB {Z ¹Z sZ ¹Z 8  e         Ê5žŽ!«!       Ž!«!   constructor‹!«!Ž!«!   select‹!«!Ž!«!   updater‹!«!Ž!«!	   show‹!«!Ž!«!	   hide‹!«!Ž!«!   lookup‹!«!Ž!«!   process‹!«!Ž!«!   matcher‹!«!Ž!«!   sorter‹!«!Ž!«!   highlighter‹!«!Ž!«!   render‹!«!Ž!«!	   next‹!«!Ž!«!	   prev‹!«!Ž!«!   listen‹!«!Ž!«!   eventSupported‹!«!Ž!«!	   move‹!«!Ž!«!   keydown‹!«!Ž!«!   keypress‹!«!Ž!«!   keyup‹!«!Ž!«!   focus‹!«!Ž!«!	   blur‹!«!Ž!«!   click‹!«!Ž!«!   mouseenter‹!«!Ž!«!   mouseleave‹!«!    !«!          a.fn.typeaheadb çZ ‡[ ßZ ‡[ 8  |e  "          b   B  [ …[ üZ …[ 8  ™e         Ê5žÊ5žŽ!«!       Ž!«!   source‹!«!Ž!«!   items‹!«!Ž!«!	   menu‹!«!Ž!«!	   item‹!«!Ž!«!   minLength‹!«!    !«!       3   a.fn.typeahead.noConflictb  Q\ q\ I\ q\ 8  æf         Ê5ž!«!       B Á\ þ\ ¹\ þ\ 8  Vg         Ê5ž!«!          rC Ë         .                               €  ] $^ ] $^ 8         	       ¹W   QV   ˆ   ¸   
[    ˆ   5   5   5   T : 6    QV   ˆ   š   : ¸   
=   ˆ   ¸	   
V   5
   V   : : ¸   
=   ˆ   ¸	   
‚   V   : : 6   QV   ˆ   T  : 6   QV   ¸
   
ç  Q™–€ g©ìÉ#Ïè%“ÿÿÿÛäa“ÿÿÿŸÉ€  «ÍÉÏ    options   extend   fn   affix   defaults   $window   window   on+   scroll.affix.data-api   proxy   checkPosition)   click.affix.data-api   $elementŒ!«!ÿÿÿÿ      b   c   .this       «+’HŽ!«!            !«!          r/this.$window<b  Â] ô] º] ô] 8  Wh         Ê5žš˜;øÊ5ž!«!       3   r.prototype.checkPositionc   U        ]                          $       € G^ d` ?^ d` 8  Üh  	          ¹W  QV  5    ¸   
=   : 5  æˆ   š   : ¸   
:  W  QV  5   ¸   
:  W  QV  5    ¸   
:  W  QV  5   5   W  QV  5	   W  QV  5
   W  Q=   W  Q=   V  'E   æQV  W  W  æQ=   V  'E   æQV  ¸
   
:  W  æQ=   V  'E   æQV  ¸	   
:  W  æQ@V  5   E   æQV  V  5   V  5
   æ Eo   æQ@V  E.   æQV  5
   V  5    ¸   
:  V  V  æ   æ=	   (   æ@V  E   æQV  V  E   æQ=
   æW   QV  5   V   IEŒ   æQV  V   6   QV  =	   V      æV  5
   V     æ@æ6   QV  5    ¸   
V  : ¸   
=   V      æ=   V      æ=   æ: æQæ™Û€ hâ–"ËÒÐÈÐÈÓÎÎÊ!•
Û•ØÉ	•ØÉÿÚ:Ïù;ÕÎÎâ$çã=    $element   is   :visible   document   height   $window   scrollTop   offset   options   bottom   top9   affix affix-top affix-bottom   object   function   unpin   affixed   removeClass   addClass   affix   -   Œ!«!ÿÿÿÿ	      b   c   d   e   f   g   h   i   .this      	   «+’Hš˜;ø"       Ê5ž!«!          a.fn.affixc                                            ‰` !a ` !a 8                ¹W   QV   ¸    
‚    : ™–€ k"Ð“€  Œ 	   eachŒ!«!ÿÿÿÿ      b   .this      «+’H!«!          a.fn.affix/<c   ¬         (                                 € ¦` a ž` a 8  ;k            ¹W  Qˆ  V  : W   QV   ¸    
=   : W  Q=   ˆ   'E   æQˆ   æW  QV  D3   æQV   ¸    
=   ˆ  AV  V  ,  R W  : æQ=   ˆ   'E   æQV  ˆ   Á
:  æQ™–€ kBÊÈÐÈ•Ùí—ÿÿÿï• •
Ú
• 	   data   affix   object   stringŒ!«!ÿÿÿÿ      c   d   e   .this         «+’Hš˜;ø       Ê5žš˜;øÊ5žŽ!«!       Ž!«!   offset‹!«!    !«!       +   a.fn.affix.noConflictb  xa ”a pa ”a 8  l         Ê5ž!«!        C                                             €   ±a qb ©a qb 8                 ˆ   =    : ¸   
‚    ç Q™€ lIÞ€  ¼ %   [data-spy="affix"]	   eachŒ!«!ÿÿÿÿ              «+’H!«!       B  Ùa ob Ña ob 8  nl         Ê5žš˜;øÊ5žš˜;øÊ5žš˜;øjpb>&TkÌ²³wAî9|ðbï—¬:¼ƒ}œîâ      \¡´È\¡´É@76]zI   =    :https://cv.upt.ro/lib/requirejs.php/1553583530/core/first.js strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAQAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAZCMIIGPjCCBSagAwIBAgIQD/5DyfSiwkJVqt9ybPssBDANBgkqhkiG9w0BAQsFADBkMQswCQYDVQQGEwJOTDEWMBQGA1UECBMNTm9vcmQtSG9sbGFuZDESMBAGA1UEBxMJQW1zdGVyZGFtMQ8wDQYDVQQKEwZURVJFTkExGDAWBgNVBAMTD1RFUkVOQSBTU0wgQ0EgMzAeFw0xODAyMjgwMDAwMDBaFw0xOTA1MDgxMjAwMDBaMIGDMQswCQYDVQQGEwJSTzESMBAGA1UEBxMJVGltaXNvYXJhMSwwKgYDVQQKEyNVbml2ZXJzaXRhdGVhIFBvbGl0ZWhuaWNhIFRpbWlzb2FyYTEeMBwGA1UECxMVQ2VudHJ1bCBkZSBlLUxlYXJuaW5nMRIwEAYDVQQDEwljdi51cHQucm8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDrHLxQGUVP3FEbkGswEpfD25cvSQ3/p9+HzfGFAkJarXpnVukF+h0Jx8k8FblGG1/XijzWkddGv9GHFl1OzDLj4hAEODggy3yvvxEcoUh88e3GKDRlYFpmFK7reqhP+xocJw/YRL+nSEtsQPQRTT1rf/b8D6NJ3r09tWZ3+Xx9br9F4vxHzsVuSizkl3Yfw+c6Re7u+EjKxQqY6jFq0Pw/rEQ00lPBDytlqGMSSPmcyVqoLIc8+1n1P2wOsgNULp3ra34MGK0KQzIiwqa1Yfs39y4MWT+Uajllgh9RjRT63kvzLvQEZxde2M4x1Taa7ONuKRMQKh/ci78o0MjG65G7AgMBAAGjggLKMIICxjAfBgNVHSMEGDAWgBRn/YggFCeYxwnSJRm76VERY3VQYjAdBgNVHQ4EFgQUlLY5U4Z95TnL8NPQ9IoCh7fg5/QwFAYDVR0RBA0wC4IJY3YudXB0LnJvMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwawYDVR0fBGQwYjAvoC2gK4YpaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL1RFUkVOQVNTTENBMy5jcmwwL6AtoCuGKWh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9URVJFTkFTU0xDQTMuY3JsMEwGA1UdIARFMEMwNwYJYIZIAYb9bAEBMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LmRpZ2ljZXJ0LmNvbS9DUFMwCAYGZ4EMAQICMG4GCCsGAQUFBwEBBGIwYDAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQuY29tMDgGCCsGAQUFBzAChixodHRwOi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vVEVSRU5BU1NMQ0EzLmNydDAMBgNVHRMBAf8EAjAAMIIBBAYKKwYBBAHWeQIEAgSB9QSB8gDwAHYApLkJkLQYWBSHuxOizGdwCjw1mAT5G9+443fNDsgN3BAAAAFh276KagAABAMARzBFAiEAuijn4hGIPvieQ1zDuvfgWsHsQy5onynrGaniVgwFKEICIFb9LSGGb12sXlADrA9U9rAiWNRp3WHT1T1mgiCxzgARAHYAh3W/51l8+IxDmV+9827/Vo1HVjb/SrVgwbTq/16ggw8AAAFh276KxgAABAMARzBFAiBrySO2kpXBCMUhW5OhdJuXS1r9sjzaDnyeIzm4UGMmSQIhAMWLS2k4blAfpDIX9f9PgBpp6V5uBWlDffs/Hkgl8CELMA0GCSqGSIb3DQEBCwUAA4IBAQBy4PcePw9SxT+P0/Mytk6V1WIMqP7sB6WwUDVRivoHsyIKEaTEuH3BV/YjA9y/ifoQ0EcJcZ9TCZF2sssm7TLOuxbOnBaxU+7sg8Mix/uPc/7tjlIUMUy27DdtaXhtUehZ3J+MPOR4lQ5BdFSs8zIxf7m4UXFd0k0fDY9LYahk3LqSwQ+RLnI7bWx4tXbO7lumFu4rK2TuH3wKw+5ZR6pT9B9td8rgb44BR0EMiZ4bc6H+jIyYXjpOz0AWX6VdsQw9V9YCWONrC9eXgbBoew+tRbwujp5l9Yd9irYD2R76VhBOHcGJ5n2RQuiPu+HJXfYdaTTJVoHcicwzC65Xd4rQwC8DAwAAAAABAQAAAAAAAARQMjU2AAAAEFJTQS1QS0NTMS1TSEEyNTYBlZ+xZWUXSH+rm9iRO+Uxl650zaXNL0c/lvXwt//2LGgAAAADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAGQjCCBj4wggUmoAMCAQICEA/+Q8n0osJCVarfcmz7LAQwDQYJKoZIhvcNAQELBQAwZDELMAkGA1UEBhMCTkwxFjAUBgNVBAgTDU5vb3JkLUhvbGxhbmQxEjAQBgNVBAcTCUFtc3RlcmRhbTEPMA0GA1UEChMGVEVSRU5BMRgwFgYDVQQDEw9URVJFTkEgU1NMIENBIDMwHhcNMTgwMjI4MDAwMDAwWhcNMTkwNTA4MTIwMDAwWjCBgzELMAkGA1UEBhMCUk8xEjAQBgNVBAcTCVRpbWlzb2FyYTEsMCoGA1UEChMjVW5pdmVyc2l0YXRlYSBQb2xpdGVobmljYSBUaW1pc29hcmExHjAcBgNVBAsTFUNlbnRydWwgZGUgZS1MZWFybmluZzESMBAGA1UEAxMJY3YudXB0LnJvMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA6xy8UBlFT9xRG5BrMBKXw9uXL0kN/6ffh83xhQJCWq16Z1bpBfodCcfJPBW5Rhtf14o81pHXRr/RhxZdTswy4+IQBDg4IMt8r78RHKFIfPHtxig0ZWBaZhSu63qoT/saHCcP2ES/p0hLbED0EU09a3/2/A+jSd69PbVmd/l8fW6/ReL8R87Fbkos5Jd2H8PnOkXu7vhIysUKmOoxatD8P6xENNJTwQ8rZahjEkj5nMlaqCyHPPtZ9T9sDrIDVC6d62t+DBitCkMyIsKmtWH7N/cuDFk/lGo5ZYIfUY0U+t5L8y70BGcXXtjOMdU2muzjbikTECof3Iu/KNDIxuuRuwIDAQABo4ICyjCCAsYwHwYDVR0jBBgwFoAUZ/2IIBQnmMcJ0iUZu+lREWN1UGIwHQYDVR0OBBYEFJS2OVOGfeU5y/DT0PSKAoe34Of0MBQGA1UdEQQNMAuCCWN2LnVwdC5ybzAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMGsGA1UdHwRkMGIwL6AtoCuGKWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9URVJFTkFTU0xDQTMuY3JsMC+gLaArhilodHRwOi8vY3JsNC5kaWdpY2VydC5jb20vVEVSRU5BU1NMQ0EzLmNybDBMBgNVHSAERTBDMDcGCWCGSAGG/WwBATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy5kaWdpY2VydC5jb20vQ1BTMAgGBmeBDAECAjBuBggrBgEFBQcBAQRiMGAwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTA4BggrBgEFBQcwAoYsaHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL1RFUkVOQVNTTENBMy5jcnQwDAYDVR0TAQH/BAIwADCCAQQGCisGAQQB1nkCBAIEgfUEgfIA8AB2AKS5CZC0GFgUh7sTosxncAo8NZgE+RvfuON3zQ7IDdwQAAABYdu+imoAAAQDAEcwRQIhALoo5+IRiD74nkNcw7r34FrB7EMuaJ8p6xmp4lYMBShCAiBW/S0hhm9drF5QA6wPVPawIljUad1h09U9ZoIgsc4AEQB2AId1v+dZfPiMQ5lfvfNu/1aNR1Y2/0q1YMG06v9eoIMPAAABYdu+isYAAAQDAEcwRQIga8kjtpKVwQjFIVuToXSbl0ta/bI82g58niM5uFBjJkkCIQDFi0tpOG5QH6QyF/X/T4AaaelebgVpQ337Px5IJfAhCzANBgkqhkiG9w0BAQsFAAOCAQEAcuD3Hj8PUsU/j9PzMrZOldViDKj+7AelsFA1UYr6B7MiChGkxLh9wVf2IwPcv4n6ENBHCXGfUwmRdrLLJu0yzrsWzpwWsVPu7IPDIsf7j3P+7Y5SFDFMtuw3bWl4bVHoWdyfjDzkeJUOQXRUrPMyMX+5uFFxXdJNHw2PS2GoZNy6ksEPkS5yO21seLV2zu5bphbuKytk7h98CsPuWUeqU/QfbXfK4G+OAUdBDImeG3Oh/oyMmF46Ts9AFl+lXbEMPVfWAljjawvXl4GwaHsPrUW8Lo6eZfWHfYq2A9ke+lYQTh3BieZ9kULoj7vhyV32HWk0yVaB3InMMwuuV3eK0GYKMiaRXE/7uyCJhaYy3wW9w5eaVCJM1YWJaWtuluqDAAAAAAAABP8wggT7MIID46ADAgECAhAIcLzFrz/blZqRy2ru7+RlMA0GCSqGSIb3DQEBCwUAMGUxCzAJBgNVBAYTAlVTMRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5jb20xJDAiBgNVBAMTG0RpZ2lDZXJ0IEFzc3VyZWQgSUQgUm9vdCBDQTAeFw0xNDExMTgxMjAwMDBaFw0yNDExMTgxMjAwMDBaMGQxCzAJBgNVBAYTAk5MMRYwFAYDVQQIEw1Ob29yZC1Ib2xsYW5kMRIwEAYDVQQHEwlBbXN0ZXJkYW0xDzANBgNVBAoTBlRFUkVOQTEYMBYGA1UEAxMPVEVSRU5BIFNTTCBDQSAzMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxXYPD9lDKTtsbdFHrd4QvyPCeKhKdzXxI1vgTB5B58IxAL2IN0V13bkCEIAej+1kIwRFp6A5O4FNz2M/wkn/Ip6IsNKWuVyKdB+SKiryEsi3aFS1WEGBQGgGGk+FKfu1TTwPTz9AlhvOqMxeNf9kmPV13XRUBaA2EQQSJFVj75R3LnfxFXbu06RZRSGfqL7RJ+0K6Ks4yj+H0drxj7kLH0Tn4K3zlcIWTeyEozqS1M/Gfea9yxpAT7NUsfOPbw0e475Jo1bkB7yNp84dsFtXVtHEHPyYZdHNRi+RlL9FhUn4bVKHHAJWAScWq3Iu9HHkYbUgoPomaWoK8aufbbfPJQIDAQABo4IBpjCCAaIwEgYDVR0TAQH/BAgwBgEB/wIBADAOBgNVHQ8BAf8EBAMCAYYweQYIKwYBBQUHAQEEbTBrMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wQwYIKwYBBQUHMAKGN2h0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEFzc3VyZWRJRFJvb3RDQS5jcnQwgYEGA1UdHwR6MHgwOqA4oDaGNGh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEFzc3VyZWRJRFJvb3RDQS5jcmwwOqA4oDaGNGh0dHA6Ly9jcmw0LmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydEFzc3VyZWRJRFJvb3RDQS5jcmwwPQYDVR0gBDYwNDAyBgRVHSAAMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LmRpZ2ljZXJ0LmNvbS9DUFMwHQYDVR0OBBYEFGf9iCAUJ5jHCdIlGbvpURFjdVBiMB8GA1UdIwQYMBaAFEXroq/0ksuCMS1Ri6enIZ3zbcgPMA0GCSqGSIb3DQEBCwUAA4IBAQCpKDV6xHvW2icerJjPJzZPETJ0dOZA3R3N8mh3Na+zjF3GBL8V9CNni7lvlwTrRp3CzcnRpK6BLsm6seiA0BzJOcFWdllsnH3jqfDT0TTYPElZixqYzr/G8tgwNf/pb12grzruZlOuqoxpyL6ap6B72IJLMxPIB/N31/NkzZ5j+UInU64QM4lyNxXxvvceNaLOwy3y17LmC8dpwOUfX3xpm37OJhozRMO6dwU7ul0/QYn6FjvuBG5brFZL74xw8kp7V70Zbos2B1QmLYYJlB9fN6vwIz+PLF+WnkdxqETeqbmFL7U0YKVfCaCaQx3Uvy1E1o3a/XXLXxagDmHCcD02ZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAADuzCCA7cwggKfoAMCAQICEAzn4OUX2Eb+j+Vg/BvwMDkwDQYJKoZIhvcNAQEFBQAwZTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3LmRpZ2ljZXJ0LmNvbTEkMCIGA1UEAxMbRGlnaUNlcnQgQXNzdXJlZCBJRCBSb290IENBMB4XDTA2MTExMDAwMDAwMFoXDTMxMTExMDAwMDAwMFowZTELMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3LmRpZ2ljZXJ0LmNvbTEkMCIGA1UEAxMbRGlnaUNlcnQgQXNzdXJlZCBJRCBSb290IENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArQ4VzuRDgFyxh/O3YPlxEqWu3CaUiKr0zvUgOShYYAz4gNqpFZUyYTy1sSiEiorcnwoMgxd6j5Csiud5U1wxhCr2D5gyNnbM3t08qKLvavsh8lJh358g1x/isdn+GGTSEltf+VgYNbxHzaE2+Wt/1LA4PsEbw4wz2dgvGP4oD7Ong9bDbkTAYTWWFv5ZnIt2bdfxoksNK/8LctqeYNCOkDXGeFWHIKHP5W0KyEl8MZgzbCLph9AyWqK6E4IR7TkXnZk6cqHm+qTZ1Rcxda6FfSKuPwFGhvYoecix2uRXF8R+HA6wtJKmVrO9spftqqfwt8WoP5UW0P+hlusIXxh3TwIDAQABo2MwYTAOBgNVHQ8BAf8EBAMCAYYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUReuir/SSy4IxLVGLp6chnfNtyA8wHwYDVR0jBBgwFoAUReuir/SSy4IxLVGLp6chnfNtyA8wDQYJKoZIhvcNAQEFBQADggEBAKIOvN/i7fDjcnN6ZJS/93Jm2DLkQnVirofr8tXZ3lazn8zOFCi5DZdgXBJMWOTTPYNJRViXNWkaqEfqVsZ5qxLYZ4GE338JPJTmuCYsIL09syiJ91//IuKXhB/pZe+H4N/BZ0mzXeuyCSrrJu14vn0/K/O3JjVtX4kBtklbnwEFm6s9JcHMtn/C8W+GxvpkaOuBLZTrQrf6jB7dYvG+UGe3bL3z8R9rDDYHFn83fKlbbXrxEkZgg9cnBL5Lzpe+w2cqaBHfgOcMM2a/Ew0UbvN/H2MQHvqNGyVtbI+lt2EBsdKjJqEQcZ2t4sP5w5lRtysHCM4u5lCyp/oKRS+i8PIAAA== request-method GET response-head HTTP/1.1 200 OK
Server: nginx/1.10.2
Date: Tue, 26 Mar 2019 07:22:49 GMT
Content-Type: application/javascript; charset=utf-8
Content-Length: 877176
Last-Modified: Tue, 26 Mar 2019 06:58:59 GMT
Content-Disposition: inline; filename="requirejs.php"
Expires: Mon, 24 Jun 2019 07:22:49 GMT
Cache-Control: public, max-age=7776000, immutable
ETag: "5c99cdb3-d6278"
Accept-Ranges: none, bytes
 original-response-headers Server: nginx/1.10.2
Date: Tue, 26 Mar 2019 07:22:49 GMT
Content-Type: application/javascript; charset=utf-8
Content-Length: 877176
Last-Modified: Tue, 26 Mar 2019 06:58:59 GMT
Connection: keep-alive
Content-Disposition: inline; filename="requirejs.php"
Expires: Mon, 24 Jun 2019 07:22:49 GMT
Cache-Control: public, max-age=7776000, immutable
Accept-Ranges: none
ETag: "5c99cdb3-d6278"
Accept-Ranges: bytes
 uncompressed-len 0 net-response-time-onstart 15 net-response-time-onstop 157 necko:classified 1 alt-data 1;877176,javascript/moz-bytecode-20190214093506 alt-data-from-child 1  /Õš